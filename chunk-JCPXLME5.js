import{a as Kt}from"./chunk-JPT7AWMU.js";import{a as Ji}from"./chunk-ZV44HRYE.js";import{a as Qo}from"./chunk-3Y75Z4ER.js";import{a as it}from"./chunk-CAEBDIYS.js";import{a as Wt}from"./chunk-KXYVMCGE.js";import{a as St}from"./chunk-3GSD5XYN.js";import{a as ct}from"./chunk-YTKE6365.js";import{a as at}from"./chunk-4RH5NKY3.js";import{a as lt}from"./chunk-4TYUJXME.js";import{c as tt,d as ot,e as nt,g as rt,h as st}from"./chunk-HPEAEJYC.js";import{a as et}from"./chunk-W54UGSQY.js";import{a as ft}from"./chunk-O3W643XR.js";import{b as Mt,d as $e}from"./chunk-BVVYDD3J.js";import{b as Ko}from"./chunk-QW62JKWA.js";import{a as ve}from"./chunk-BIIXSZHA.js";import{a as ee}from"./chunk-Y22MW2BL.js";import{e as Ze,f as j}from"./chunk-3OKIF6AS.js";import{Ab as ze,Bb as Je,Ca as Fo,Cb as Xe,Da as Uo,Db as Ye,Ea as jo,Gc as U,J as jt,Jc as Wo,K as qt,La as Z,M as Oo,Ma as $,N as Ho,Na as Ve,Qb as O,Rb as H,_ as zi,_a as Ne,ab as oe,ba as Po,cc as qo,fa as Be,fb as Ge,gb as Oe,jb as He,lb as ut,m as ht,mb as Pe,nb as Fe,p as gt,q as ke,qc as P,s as De,tc as F,u as _t,ub as Ue,v as xe,vb as je,wb as qe,xb as We,yb as Ke,zb as Qe}from"./chunk-VPWYZYVO.js";import{Ad as _e,Ag as No,Bb as z,Cb as J,Db as X,Dd as vt,Ed as ie,Fa as s,Hb as te,Hc as we,Id as W,Jb as Me,Jc as V,Jd as Re,Jg as Bt,Ka as m,Kd as Y,Kg as Vt,Lg as Nt,Mb as d,Mg as Gt,Nb as D,Nc as Ee,Ng as Ot,Ob as S,Og as Ht,Pa as k,Pc as pt,Pg as Pt,Qa as Qi,Qg as Ft,Rd as G,Rf as Te,Rg as Ut,Sb as R,Ta as Q,Tb as T,Ub as L,Va as b,Vb as mi,Vc as Lo,Vd as Ao,Y as Ki,Zb as be,_b as Ie,bc as _,cc as v,cg as ko,da as C,db as ae,dg as Do,ea as h,eb as le,hg as xo,ib as u,iq as Le,jb as n,jq as Go,kb as a,kq as Ae,lb as g,lg as Bo,mg as Et,ng as yt,og as Rt,pb as I,pg as Tt,qb as w,qq as yo,rb as se,rg as Lt,rq as q,sb as E,sg as Vo,tg as At,uc as B,ud as ye,ug as kt,vb as M,vg as Dt,wd as N,wg as xt,xb as f}from"./chunk-P7V72WIT.js";import{i as x}from"./chunk-SEDBTTTN.js";var hi=class hi{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};hi.\u0275fac=function(e){return new(e||hi)},hi.\u0275cmp=k({type:hi,selectors:[["app-coremodulelog"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&g(0,"router-outlet")},dependencies:[Go],encapsulation:2});var Xi=hi;var Xo=["vform"];function Yo(o,r){if(o&1){let e=E();n(0,"div",18)(1,"button",19),M("click",function(){C(e);let t=f();return h(t.onFormCancel())}),g(2,"i",20),d(3),_(4,"translate"),a(),n(5,"button",21),g(6,"i",20),d(7),_(8,"translate"),a()()}o&2&&(s(3),S(" ",v(4,2,"ACTION.CANCEL")," "),s(4),S(" ",v(8,4,"ACTION.SAVE")," "))}var gi=class gi extends et{constructor(e,i,t,c,p,l,A,ne,K,de){super(c,new Bt,K,de);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogFavoriteService=c;this.cmsToastrService=p;this.tokenHelper=l;this.cmsStoreService=A;this.cdr=ne;this.publicHelper=K;this.translate=de;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new vt;this.dataModel=new Bt;this.formInfo=new Y;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogFavoriteService.setAccessLoad(),this.coreModuleLogFavoriteService.setAccessDataType(_e.Editor),this.coreModuleLogFavoriteService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogFavoriteService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};gi.\u0275fac=function(i){return new(i||gi)(m($),m(Z),m(G),m(Rt),m(U),m(F),m(P),m(B),m(j),m(O))},gi.\u0275cmp=k({type:gi,selectors:[["app-coremodulelog-favorite-edit"]],viewQuery:function(i,t){if(i&1&&z(Xo,5),i&2){let c;J(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[Q],decls:32,vars:24,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let c=E();n(0,"div",4),g(1,"app-progress-spinner",5),n(2,"div",6)(3,"p",7),d(4),a(),n(5,"p"),d(6),_(7,"translate"),a(),n(8,"form",8,0),M("ngSubmit",function(){return C(c),h(t.onFormSubmit())}),g(10,"app-cms-site-selector",9),_(11,"translate"),g(12,"app-cms-user-selector",9),_(13,"translate"),g(14,"app-cms-member-selector",9),_(15,"translate"),n(16,"div",10)(17,"label",11),d(18,"ModuleName"),a(),n(19,"input",12,1),L("ngModelChange",function(l){return C(c),T(t.dataModel.moduleName,l)||(t.dataModel.moduleName=l),h(l)}),a()(),n(21,"div",10)(22,"label",13),d(23,"ModuleEntityName"),a(),n(24,"input",14,2),L("ngModelChange",function(l){return C(c),T(t.dataModel.moduleEntityName,l)||(t.dataModel.moduleEntityName=l),h(l)}),a()(),n(26,"div",10)(27,"label",15),d(28,"ModuleEntityId"),a(),n(29,"input",16,3),L("ngModelChange",function(l){return C(c),T(t.dataModel.moduleEntityId,l)||(t.dataModel.moduleEntityId=l),h(l)}),a()(),b(31,Yo,9,6,"div",17),a()()()}i&2&&(s(),u("optionsInfoAreaId",t.constructorInfoAreaId),s(3),S(" ",t.formInfo.formTitle," "),s(2),S(" ",v(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(11,18,"TITLE.SITE")),s(2),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(13,20,"TITLE.USER")),s(2),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",v(15,22,"TITLE.Member")),s(5),R("ngModel",t.dataModel.moduleName),s(5),R("ngModel",t.dataModel.moduleEntityName),s(5),R("ngModel",t.dataModel.moduleEntityId),s(2),u("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[V,xe,ht,gt,ke,_t,De,oe,ft,Wt,Kt,ee,H],encapsulation:2});var Yi=gi;var Zo=["vform"];function $o(o,r){if(o&1&&(n(0,"div",7),g(1,"i",11),n(2,"span",12),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function en(o,r){if(o&1&&(n(0,"div",8),g(1,"i",13),n(2,"span",12),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function tn(o,r){if(o&1&&(n(0,"div",9),g(1,"i",14),n(2,"span",12),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function on(o,r){if(o&1&&(n(0,"div",10),g(1,"i",15),n(2,"span",12),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function nn(o,r){if(o&1&&ae(0,$o,4,1,"div",7)(1,en,4,1,"div",8)(2,tn,4,1,"div",9)(3,on,4,1,"div",10),o&2){let e,i=f();le((e=i.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function rn(o,r){if(o&1){let e=E();n(0,"div",16)(1,"button",17),M("click",function(){C(e);let t=f();return h(t.onFormCancel())}),g(2,"i",18),d(3),_(4,"translate"),a()()}o&2&&(s(3),S(" ",v(4,1,"ACTION.CANCEL")," "))}var _i=class _i{constructor(r,e,i,t,c,p,l,A,ne,K){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogFavoriteService=t;this.cmsToastrService=c;this.tokenHelper=p;this.cmsStoreService=l;this.cdr=A;this.publicHelper=ne;this.translate=K;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Te;this.dataModelResult=new ie;this.dataModel=new Bt;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new ie;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>x(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogFavoriteService.setAccessLoad(),this.coreModuleLogFavoriteService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};_i.\u0275fac=function(e){return new(e||_i)(m($),m(Z),m(G),m(Rt),m(U),m(F),m(P),m(B),m(j),m(O))},_i.\u0275cmp=k({type:_i,selectors:[["app-coremodulelog-favorite-view"]],viewQuery:function(e,i){if(e&1&&z(Zo,5),e&2){let t;J(t=X())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(n(0,"div",0),d(1),a(),n(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),n(5,"div",4),ae(6,nn,4,1),a(),n(7,"div",5),b(8,rn,5,3,"div",6),a()),e&2&&(s(),S(" ",i.formInfo.formTitle," "),s(2),u("optionsInfoAreaId",i.constructorInfoAreaId),s(),u("dataModel",i.dataModel)("optionMethod",1),s(2),le((i.formInfo==null||i.formInfo.submitResultMessage==null?null:i.formInfo.submitResultMessage.length)>0?6:-1),s(2),u("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[V,ee,it,H],encapsulation:2});var Zi=_i;var an=()=>[5,10,20,100],ln=o=>({display:o});function cn(o,r){if(o&1&&g(0,"app-core-user-header",44),o&2){let e=f();u("optionId",e.requestLinkUserId)}}function dn(o,r){if(o&1){let e=E();n(0,"a",45),M("click",function(){C(e);let t=f();return h(t.onActionBackToParent())}),g(1,"i",46),a()}}function mn(o,r){if(o&1){let e=E();n(0,"div",47)(1,"a",48),M("click",function(){C(e);let t=f();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",49)(3,"br"),a(),n(4,"p",50),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.VIEW")," "))}function pn(o,r){if(o&1){let e=E();n(0,"div",47)(1,"a",51),M("click",function(){C(e);let t=f();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",52)(3,"br"),a(),n(4,"p",50),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.EDIT")," "))}function un(o,r){if(o&1){let e=E();n(0,"div",47)(1,"a",53),M("click",function(){C(e);let t=f();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),a(),n(4,"p",50),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.DELETE")," "))}function fn(o,r){if(o&1){let e=E();n(0,"div",47)(1,"a",48),M("click",function(){C(e);let t=f();return h(t.onActionButtonViewContent(t.tableRowSelected))}),g(2,"i",55)(3,"br"),a(),n(4,"p",50),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.CONTENT")," "))}function Sn(o,r){if(o&1){let e=E();n(0,"div",47)(1,"a",48),M("click",function(){C(e);let t=f();return h(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(2,"i",56)(3,"br"),a(),n(4,"p",50),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.USER")," "))}function Cn(o,r){if(o&1&&(n(0,"mat-header-cell",57),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function hn(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.id," ")}}function gn(o,r){if(o&1&&(n(0,"mat-header-cell",57),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function _n(o,r){if(o&1&&g(0,"select",60),o&2){let e=f().$implicit,i=f();u("contentService",i.contentService)("row",e)("ngStyle",Ie(3,ln,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function vn(o,r){if(o&1&&(n(0,"mat-cell",58),_(1,"statusCellClass"),g(2,"i",58),_(3,"statusIconClass"),b(4,_n,1,5,"select",59),a()),o&2){let e=r.$implicit,i=f();u("ngClass",v(1,3,e.recordStatus)),s(2),u("ngClass",v(3,5,e.recordStatus)),s(2),u("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Mn(o,r){if(o&1&&(n(0,"mat-header-cell",57),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function bn(o,r){if(o&1&&(n(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),a()),o&2){let e=r.$implicit;s(),S(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function In(o,r){if(o&1&&(n(0,"mat-header-cell",57),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function wn(o,r){if(o&1&&(n(0,"mat-cell"),d(1),_(2,"cmsuserinfo"),_(3,"async"),a()),o&2){let e=r.$implicit;s(),S(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function En(o,r){if(o&1&&(n(0,"mat-header-cell",57),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function yn(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.linkMemberId," ")}}function Rn(o,r){if(o&1&&(n(0,"mat-header-cell",57),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function Tn(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.moduleName," ")}}function Ln(o,r){if(o&1&&(n(0,"mat-header-cell",57),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function An(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.moduleEntityName," ")}}function kn(o,r){if(o&1&&(n(0,"mat-header-cell",57),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Dn(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.moduleEntityId," ")}}function xn(o,r){if(o&1&&(n(0,"mat-header-cell",57),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Bn(o,r){if(o&1&&(n(0,"mat-cell",61),d(1),_(2,"localeDateTime"),a()),o&2){let e=r.$implicit;s(),S(" ",v(2,1,e.createdDate)," ")}}function Vn(o,r){o&1&&(n(0,"mat-header-cell"),d(1),_(2,"translate"),a()),o&2&&(s(),S(" ",v(2,1,"TITLE.OPTION")," "))}function Nn(o,r){if(o&1&&(n(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),d(3,"more_vert"),a()(),g(4,"mat-menu",null,2),a()),o&2){let e=te(5);s(),u("matMenuTriggerFor",e)}}function Gn(o,r){o&1&&g(0,"mat-header-row")}function On(o,r){if(o&1){let e=E();n(0,"mat-row",64),M("click",function(t){let c=C(e).$implicit,p=f();return h(p.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=C(e).$implicit,p=f();return h(p.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=f();Me("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var vi=class vi extends tt{constructor(e,i,t,c,p,l,A,ne,K,de,It,dt,wt){super(i,new Bt,dt,l,ne);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=p;this.tokenHelper=l;this.cdr=A;this.translate=ne;this.router=K;this.cmsStoreService=de;this.pageInfo=It;this.publicHelper=dt;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Re;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberId")),this.requestLinkSiteId>0){let y=new W;y.propertyName="LinkCmsSiteId",y.value=this.requestLinkSiteId,this.filteModelContent.filters.push(y)}if(this.requestLinkUserId>0){let y=new W;y.propertyName="LinkUserId",y.value=this.requestLinkUserId,this.filteModelContent.filters.push(y)}if(this.requestlinkMemberId>0){let y=new W;y.propertyName="linkMemberId",y.value=this.requestlinkMemberId,this.filteModelContent.filters.push(y)}this.optionsSearch.parentMethods={onSubmit:y=>this.onSubmitOptionsSearch(y)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=N.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=N.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Bt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=N.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Zi,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Yi,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(p,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonViewContent(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e);let i="/"+e.moduleName+"/"+e.moduleEntityName.substring(e.moduleName.length)+"/edit/"+e.moduleEntityId;e.moduleEntityName.indexOf(e.moduleName)>=0?this.router.navigate([i.toLowerCase()]):this.router.navigate([i.toLowerCase()])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),p=new W;p.propertyName="RecordStatus",p.value=ye.Available,c.filters.push(p),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.content_does_not_include_member_informations").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};vi.\u0275fac=function(i){return new(i||vi)(m(G),m(Rt),m(U),m(ve),m(Le),m(F),m(B),m(O),m(Ae),m(P),m(Ze),m(j),m(Ve))},vi.\u0275cmp=k({type:vi,selectors:[["app-coremodulelog-favorite-list"]],standalone:!1,features:[Q],decls:65,vars:24,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"justify-content-start"],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-folder-grid","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=E();b(0,cn,1,1,"app-core-user-header",3),n(1,"app-cms-html-list",4),L("optionActionGuideNoticeDisplayChange",function(l){return C(c),T(t.viewGuideNotice,l)||(t.viewGuideNotice=l),h(l)}),M("optionOnActionButtonMemoRow",function(){return C(c),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(c),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(c),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(c),h(t.onActionButtonPrintRow())}),I(2,5),d(3," -------------------------------------- "),w(),se(4,6),I(5,7),n(6,"div",8),g(7,"div",9)(8,"div",10),a(),w(),se(9,7),I(10,11),b(11,dn,2,0,"a",12),n(12,"a",13),M("click",function(){return C(c),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(13,"i",14),a(),n(14,"a",13),M("click",function(){return C(c),h(t.onActionButtonReload())}),g(15,"i",15),a(),w(),se(16,16)(17,17),I(18,18),b(19,mn,7,3,"div",19)(20,pn,7,3,"div",19)(21,un,7,3,"div",19)(22,fn,7,3,"div",19)(23,Sn,7,3,"div",19),w(),I(24,20),n(25,"app-cms-search-list",21),L("optionsChange",function(l){return C(c),T(t.optionsSearch,l)||(t.optionsSearch=l),h(l)}),a(),n(26,"app-cms-statist-list",21),L("optionsChange",function(l){return C(c),T(t.optionsStatist,l)||(t.optionsStatist=l),h(l)}),a(),w(),I(27,22),n(28,"mat-table",23,0),M("matSortChange",function(){C(c);let l=te(29);return h(t.onTableSortData(l))}),I(30,24),b(31,Cn,2,1,"mat-header-cell",25)(32,hn,2,1,"mat-cell",26),w(),I(33,27),b(34,gn,2,1,"mat-header-cell",25)(35,vn,5,7,"mat-cell",28),w(),I(36,29),b(37,Mn,2,1,"mat-header-cell",25)(38,bn,4,5,"mat-cell",26),w(),I(39,30),b(40,In,2,1,"mat-header-cell",25)(41,wn,4,5,"mat-cell",26),w(),I(42,31),b(43,En,2,1,"mat-header-cell",25)(44,yn,2,1,"mat-cell",26),w(),I(45,32),b(46,Rn,2,1,"mat-header-cell",25)(47,Tn,2,1,"mat-cell",26),w(),I(48,33),b(49,Ln,2,1,"mat-header-cell",25)(50,An,2,1,"mat-cell",26),w(),I(51,34),b(52,kn,2,1,"mat-header-cell",25)(53,Dn,2,1,"mat-cell",26),w(),I(54,35),b(55,xn,2,1,"mat-header-cell",25)(56,Bn,3,3,"mat-cell",36),w(),I(57,37),b(58,Vn,3,3,"mat-header-cell",38)(59,Nn,6,1,"mat-cell",39),w(),b(60,Gn,1,0,"mat-header-row",40)(61,On,1,2,"mat-row",41),a(),w(),I(62,42),n(63,"mat-paginator",43,1),M("page",function(l){return C(c),h(t.onTablePageingData(l))}),a(),w(),a()}i&2&&(u("ngIf",t.requestLinkUserId>0),s(),u("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(10),u("ngIf",t.requestLinkSiteId>0),s(8),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),u("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),s(2),R("options",t.optionsSearch),s(),R("options",t.optionsStatist),s(2),u("dataSource",t.tableSource),s(32),u("matHeaderRowDef",t.tabledisplayedColumns),s(),u("matRowDefColumns",t.tabledisplayedColumns),s(2),u("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(23,an)))},dependencies:[we,V,Ee,Be,Ne,oe,Ge,Oe,He,Pe,Fe,Ue,qe,ze,We,je,Je,Ke,Qe,Xe,Ye,ot,nt,rt,st,at,Ji,pt,H,Mt,St,$e,lt,ct],encapsulation:2});var $i=vi;var Hn=["vform"];function Pn(o,r){if(o&1){let e=E();n(0,"div",18)(1,"button",19),M("click",function(){C(e);let t=f();return h(t.onFormCancel())}),g(2,"i",20),d(3),_(4,"translate"),a(),n(5,"button",21),g(6,"i",20),d(7),_(8,"translate"),a()()}o&2&&(s(3),S(" ",v(4,2,"ACTION.CANCEL")," "),s(4),S(" ",v(8,4,"ACTION.SAVE")," "))}var Mi=class Mi extends et{constructor(e,i,t,c,p,l,A,ne,K,de){super(c,new Vt,K,de);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogLikeService=c;this.cmsToastrService=p;this.tokenHelper=l;this.cmsStoreService=A;this.cdr=ne;this.publicHelper=K;this.translate=de;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new vt;this.dataModel=new Vt;this.formInfo=new Y;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogLikeService.setAccessLoad(),this.coreModuleLogLikeService.setAccessDataType(_e.Editor),this.coreModuleLogLikeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogLikeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Mi.\u0275fac=function(i){return new(i||Mi)(m($),m(Z),m(G),m(yt),m(U),m(F),m(P),m(B),m(j),m(O))},Mi.\u0275cmp=k({type:Mi,selectors:[["app-coremodulelog-like-edit"]],viewQuery:function(i,t){if(i&1&&z(Hn,5),i&2){let c;J(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[Q],decls:32,vars:24,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let c=E();n(0,"div",4),g(1,"app-progress-spinner",5),n(2,"div",6)(3,"p",7),d(4),a(),n(5,"p"),d(6),_(7,"translate"),a(),n(8,"form",8,0),M("ngSubmit",function(){return C(c),h(t.onFormSubmit())}),g(10,"app-cms-site-selector",9),_(11,"translate"),g(12,"app-cms-user-selector",9),_(13,"translate"),g(14,"app-cms-member-selector",9),_(15,"translate"),n(16,"div",10)(17,"label",11),d(18,"ModuleName"),a(),n(19,"input",12,1),L("ngModelChange",function(l){return C(c),T(t.dataModel.moduleName,l)||(t.dataModel.moduleName=l),h(l)}),a()(),n(21,"div",10)(22,"label",13),d(23,"ModuleEntityName"),a(),n(24,"input",14,2),L("ngModelChange",function(l){return C(c),T(t.dataModel.moduleEntityName,l)||(t.dataModel.moduleEntityName=l),h(l)}),a()(),n(26,"div",10)(27,"label",15),d(28,"ModuleEntityId"),a(),n(29,"input",16,3),L("ngModelChange",function(l){return C(c),T(t.dataModel.moduleEntityId,l)||(t.dataModel.moduleEntityId=l),h(l)}),a()(),b(31,Pn,9,6,"div",17),a()()()}i&2&&(s(),u("optionsInfoAreaId",t.constructorInfoAreaId),s(3),S(" ",t.formInfo.formTitle," "),s(2),S(" ",v(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(11,18,"TITLE.SITE")),s(2),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(13,20,"TITLE.USER")),s(2),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",v(15,22,"TITLE.Member")),s(5),R("ngModel",t.dataModel.moduleName),s(5),R("ngModel",t.dataModel.moduleEntityName),s(5),R("ngModel",t.dataModel.moduleEntityId),s(2),u("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[V,xe,ht,gt,ke,_t,De,oe,ft,Wt,Kt,ee,H],encapsulation:2});var eo=Mi;var Fn=["vform"];function Un(o,r){if(o&1&&(n(0,"div",9),g(1,"i",13),n(2,"span",14),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function jn(o,r){if(o&1&&(n(0,"div",10),g(1,"i",15),n(2,"span",14),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function qn(o,r){if(o&1&&(n(0,"div",11),g(1,"i",16),n(2,"span",14),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function Wn(o,r){if(o&1&&(n(0,"div",12),g(1,"i",17),n(2,"span",14),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function Kn(o,r){if(o&1&&ae(0,Un,4,1,"div",9)(1,jn,4,1,"div",10)(2,qn,4,1,"div",11)(3,Wn,4,1,"div",12),o&2){let e,i=f();le((e=i.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function Qn(o,r){if(o&1){let e=E();n(0,"div",18)(1,"button",19),M("click",function(){C(e);let t=f();return h(t.onFormCancel())}),g(2,"i",20),d(3),_(4,"translate"),a()()}o&2&&(s(3),S(" ",v(4,1,"ACTION.CANCEL")," "))}var bi=class bi{constructor(r,e,i,t,c,p,l,A,ne,K){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogLikeService=t;this.cmsToastrService=c;this.tokenHelper=p;this.cmsStoreService=l;this.cdr=A;this.publicHelper=ne;this.translate=K;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Te;this.dataModelResult=new ie;this.dataModel=new Vt;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new ie;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>x(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogLikeService.setAccessLoad(),this.coreModuleLogLikeService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};bi.\u0275fac=function(e){return new(e||bi)(m($),m(Z),m(G),m(yt),m(U),m(F),m(P),m(B),m(j),m(O))},bi.\u0275cmp=k({type:bi,selectors:[["app-coremodulelog-report-abuse-view"]],viewQuery:function(e,i){if(e&1&&z(Fn,5),e&2){let t;J(t=X())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(n(0,"div",0),g(1,"app-progress-spinner",1),n(2,"div",2)(3,"p",3),d(4),a(),n(5,"p"),d(6),_(7,"translate"),a(),n(8,"div",4),g(9,"app-cms-json-list",5),a(),n(10,"div",6),ae(11,Kn,4,1),a(),n(12,"div",7),b(13,Qn,5,3,"div",8),a()()()),e&2&&(s(),u("optionsInfoAreaId",i.constructorInfoAreaId),s(3),S(" ",i.formInfo.formTitle," "),s(2),S(" ",v(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),s(3),u("dataModel",i.dataModel)("optionMethod",1),s(2),le((i.formInfo==null||i.formInfo.submitResultMessage==null?null:i.formInfo.submitResultMessage.length)>0?11:-1),s(2),u("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[V,ee,it,H],encapsulation:2});var to=bi;var zn=()=>[5,10,20,100],Jn=o=>({display:o});function Xn(o,r){if(o&1&&g(0,"app-core-user-header",43),o&2){let e=f();u("optionId",e.requestLinkUserId)}}function Yn(o,r){if(o&1){let e=E();n(0,"a",44),M("click",function(){C(e);let t=f();return h(t.onActionBackToParent())}),g(1,"i",45),a()}}function Zn(o,r){if(o&1){let e=E();n(0,"div",46)(1,"a",47),M("click",function(){C(e);let t=f();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",48)(3,"br"),a(),n(4,"p",49),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.VIEW")," "))}function $n(o,r){if(o&1){let e=E();n(0,"div",46)(1,"a",50),M("click",function(){C(e);let t=f();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",51)(3,"br"),a(),n(4,"p",49),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.EDIT")," "))}function er(o,r){if(o&1){let e=E();n(0,"div",46)(1,"a",52),M("click",function(){C(e);let t=f();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",53)(3,"br"),a(),n(4,"p",49),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.DELETE")," "))}function tr(o,r){if(o&1){let e=E();n(0,"div",46)(1,"a",47),M("click",function(){C(e);let t=f();return h(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),a(),n(4,"p",49),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.USER")," "))}function ir(o,r){if(o&1){let e=E();n(0,"div",46)(1,"a",47),M("click",function(){C(e);let t=f();return h(t.onActionButtonViewMemberRow(t.tableRowSelected))}),g(2,"i",55)(3,"br"),a(),n(4,"p",49),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.MEMBER")," "))}function or(o,r){if(o&1&&(n(0,"mat-header-cell",56),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function nr(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.id," ")}}function rr(o,r){if(o&1&&(n(0,"mat-header-cell",56),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function sr(o,r){if(o&1&&g(0,"select",59),o&2){let e=f().$implicit,i=f();u("contentService",i.contentService)("row",e)("ngStyle",Ie(3,Jn,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function ar(o,r){if(o&1&&(n(0,"mat-cell",57),_(1,"statusCellClass"),g(2,"i",57),_(3,"statusIconClass"),b(4,sr,1,5,"select",58),a()),o&2){let e=r.$implicit,i=f();u("ngClass",v(1,3,e.recordStatus)),s(2),u("ngClass",v(3,5,e.recordStatus)),s(2),u("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function lr(o,r){if(o&1&&(n(0,"mat-header-cell",56),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function cr(o,r){if(o&1&&(n(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),a()),o&2){let e=r.$implicit;s(),S(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function dr(o,r){if(o&1&&(n(0,"mat-header-cell",56),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function mr(o,r){if(o&1&&(n(0,"mat-cell"),d(1),_(2,"cmsuserinfo"),_(3,"async"),a()),o&2){let e=r.$implicit;s(),S(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function pr(o,r){if(o&1&&(n(0,"mat-header-cell",56),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function ur(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.linkMemberId," ")}}function fr(o,r){if(o&1&&(n(0,"mat-header-cell",56),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function Sr(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.moduleName," ")}}function Cr(o,r){if(o&1&&(n(0,"mat-header-cell",56),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function hr(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.moduleEntityName," ")}}function gr(o,r){if(o&1&&(n(0,"mat-header-cell",56),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function _r(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.moduleEntityId," ")}}function vr(o,r){if(o&1&&(n(0,"mat-header-cell",56),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Mr(o,r){if(o&1&&(n(0,"mat-cell",60),d(1),_(2,"localeDateTime"),a()),o&2){let e=r.$implicit;s(),S(" ",v(2,1,e.createdDate)," ")}}function br(o,r){o&1&&(n(0,"mat-header-cell"),d(1),_(2,"translate"),a()),o&2&&(s(),S(" ",v(2,1,"TITLE.OPTION")," "))}function Ir(o,r){if(o&1&&(n(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),d(3,"more_vert"),a()(),g(4,"mat-menu",null,2),a()),o&2){let e=te(5);s(),u("matMenuTriggerFor",e)}}function wr(o,r){o&1&&g(0,"mat-header-row")}function Er(o,r){if(o&1){let e=E();n(0,"mat-row",63),M("click",function(t){let c=C(e).$implicit,p=f();return h(p.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=C(e).$implicit,p=f();return h(p.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=f();Me("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ii=class Ii extends tt{constructor(e,i,t,c,p,l,A,ne,K,de,It,dt,wt){super(i,new Vt,dt,l,K);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=p;this.tokenHelper=l;this.cmsStoreService=A;this.cdr=ne;this.translate=K;this.router=de;this.pageInfo=It;this.publicHelper=dt;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Re;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberId")),this.requestLinkSiteId>0){let y=new W;y.propertyName="LinkCmsSiteId",y.value=this.requestLinkSiteId,this.filteModelContent.filters.push(y)}if(this.requestLinkUserId>0){let y=new W;y.propertyName="LinkUserId",y.value=this.requestLinkUserId,this.filteModelContent.filters.push(y)}if(this.requestlinkMemberId>0){let y=new W;y.propertyName="linkMemberId",y.value=this.requestlinkMemberId,this.filteModelContent.filters.push(y)}this.optionsSearch.parentMethods={onSubmit:y=>this.onSubmitOptionsSearch(y)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=N.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=N.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Vt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=N.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(to,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(eo,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(p,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),p=new W;p.propertyName="RecordStatus",p.value=ye.Available,c.filters.push(p),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.content_does_not_include_member_informations").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ii.\u0275fac=function(i){return new(i||Ii)(m(G),m(yt),m(U),m(ve),m(Le),m(F),m(P),m(B),m(O),m(Ae),m(Ze),m(j),m(Ve))},Ii.\u0275cmp=k({type:Ii,selectors:[["app-coremodulelog-like-list"]],standalone:!1,features:[Q],decls:69,vars:32,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=E();b(0,Xn,1,1,"app-core-user-header",3),n(1,"app-cms-html-list",4),L("optionActionGuideNoticeDisplayChange",function(l){return C(c),T(t.viewGuideNotice,l)||(t.viewGuideNotice=l),h(l)}),M("optionOnActionButtonMemoRow",function(){return C(c),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(c),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(c),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(c),h(t.onActionButtonPrintRow())}),I(2,5),d(3," -------------------------------------- "),w(),se(4,6)(5,7),I(6,8),b(7,Yn,2,0,"a",9),n(8,"a",10),M("click",function(){return C(c),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",11),a(),n(10,"a",10),M("click",function(){return C(c),h(t.onActionButtonReload())}),g(11,"i",12),a(),w(),I(12,13),n(13,"a",14),M("click",function(){return C(c),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(14,"mat-slide-toggle",15),d(15),_(16,"translate"),a(),n(17,"a",14),M("click",function(){return C(c),h(t.onActionButtonStatist())}),g(18,"mat-slide-toggle",15),d(19),_(20,"translate"),a(),w(),se(21,16),I(22,17),b(23,Zn,7,3,"div",18)(24,$n,7,3,"div",18)(25,er,7,3,"div",18)(26,tr,7,3,"div",18)(27,ir,7,3,"div",18),w(),I(28,19),n(29,"app-cms-search-list",20),L("optionsChange",function(l){return C(c),T(t.optionsSearch,l)||(t.optionsSearch=l),h(l)}),a(),n(30,"app-cms-statist-list",20),L("optionsChange",function(l){return C(c),T(t.optionsStatist,l)||(t.optionsStatist=l),h(l)}),a(),w(),I(31,21),n(32,"mat-table",22,0),M("matSortChange",function(){C(c);let l=te(33);return h(t.onTableSortData(l))}),I(34,23),b(35,or,2,1,"mat-header-cell",24)(36,nr,2,1,"mat-cell",25),w(),I(37,26),b(38,rr,2,1,"mat-header-cell",24)(39,ar,5,7,"mat-cell",27),w(),I(40,28),b(41,lr,2,1,"mat-header-cell",24)(42,cr,4,5,"mat-cell",25),w(),I(43,29),b(44,dr,2,1,"mat-header-cell",24)(45,mr,4,5,"mat-cell",25),w(),I(46,30),b(47,pr,2,1,"mat-header-cell",24)(48,ur,2,1,"mat-cell",25),w(),I(49,31),b(50,fr,2,1,"mat-header-cell",24)(51,Sr,2,1,"mat-cell",25),w(),I(52,32),b(53,Cr,2,1,"mat-header-cell",24)(54,hr,2,1,"mat-cell",25),w(),I(55,33),b(56,gr,2,1,"mat-header-cell",24)(57,_r,2,1,"mat-cell",25),w(),I(58,34),b(59,vr,2,1,"mat-header-cell",24)(60,Mr,3,3,"mat-cell",35),w(),I(61,36),b(62,br,3,3,"mat-header-cell",37)(63,Ir,6,1,"mat-cell",38),w(),b(64,wr,1,0,"mat-header-row",39)(65,Er,1,2,"mat-row",40),a(),w(),I(66,41),n(67,"mat-paginator",42,1),M("page",function(l){return C(c),h(t.onTablePageingData(l))}),a(),w(),a()}i&2&&(u("ngIf",t.requestLinkUserId>0),s(),u("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),u("ngIf",t.requestLinkSiteId>0),s(7),u("checked",t.optionsSearch.data.show),s(),S("",v(16,27,"ACTION.SEARCH")," "),s(3),u("checked",t.optionsStatist.data.show),s(),S("",v(20,29,"ACTION.STATIST")," "),s(4),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),u("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),s(),u("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkMemberId)>0),s(2),R("options",t.optionsSearch),s(),R("options",t.optionsStatist),s(2),u("dataSource",t.tableSource),s(32),u("matHeaderRowDef",t.tabledisplayedColumns),s(),u("matRowDefColumns",t.tabledisplayedColumns),s(2),u("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(31,zn)))},dependencies:[we,V,Ee,Be,Ne,oe,Ge,Oe,He,ut,Pe,Fe,Ue,qe,ze,We,je,Je,Ke,Qe,Xe,Ye,ot,nt,rt,st,at,Ji,pt,H,Mt,St,$e,lt,ct],encapsulation:2});var io=Ii;var yr=["vform"];function Rr(o,r){if(o&1){let e=E();n(0,"div",27)(1,"button",28),M("click",function(){C(e);let t=f();return h(t.onFormCancel())}),g(2,"i",29),d(3),_(4,"translate"),a(),n(5,"button",30),g(6,"i",29),d(7),_(8,"translate"),a()()}o&2&&(s(3),S(" ",v(4,2,"ACTION.CANCEL")," "),s(4),S(" ",v(8,4,"ACTION.SAVE")," "))}var wi=class wi extends et{constructor(e,i,t,c,p,l,A,ne,K,de){super(c,new Gt,K,de);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogReportAbuseService=c;this.cmsToastrService=p;this.tokenHelper=l;this.cmsStoreService=A;this.cdr=ne;this.publicHelper=K;this.translate=de;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new vt;this.dataModel=new Gt;this.formInfo=new Y;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogReportAbuseService.setAccessLoad(),this.coreModuleLogReportAbuseService.setAccessDataType(_e.Editor),this.coreModuleLogReportAbuseService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogReportAbuseService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};wi.\u0275fac=function(i){return new(i||wi)(m($),m(Z),m(G),m(Tt),m(U),m(F),m(P),m(B),m(j),m(O))},wi.\u0275cmp=k({type:wi,selectors:[["app-coremodulelog-report-abuse-edit"]],viewQuery:function(i,t){if(i&1&&z(yr,5),i&2){let c;J(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[Q],decls:49,vars:27,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["SubjectBody",""],["AdminResultProcess",""],["SubjectUrl",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectBody",1,"color-highlight"],["matInput","","type","text","name","dataModel.subjectBody","placeholder","SubjectBody","id","dataModel.subjectBody",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.adminResultProcess",1,"color-highlight"],["matInput","","name","dataModel.adminResultProcess","type","text","placeholder","AdminResultProcess","minlength","1","maxlength","500","rows","5","id","dataModel.adminResultProcess",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectUrl",1,"color-highlight"],["matInput","","name","dataModel.subjectUrl","type","text","placeholder","SubjectUrl","minlength","1","maxlength","500","rows","5","id","dataModel.subjectUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let c=E();n(0,"div",7),g(1,"app-progress-spinner",8),n(2,"div",9)(3,"p",10),d(4),a(),n(5,"p"),d(6),_(7,"translate"),a(),n(8,"form",11,0),M("ngSubmit",function(){return C(c),h(t.onFormSubmit())}),g(10,"app-cms-site-selector",12),_(11,"translate"),g(12,"app-cms-user-selector",12),_(13,"translate"),g(14,"app-cms-member-selector",12),_(15,"translate"),n(16,"div",13)(17,"label",14),d(18,"ModuleName"),a(),n(19,"input",15,1),L("ngModelChange",function(l){return C(c),T(t.dataModel.moduleName,l)||(t.dataModel.moduleName=l),h(l)}),a()(),n(21,"div",13)(22,"label",16),d(23,"ModuleEntityName"),a(),n(24,"input",17,2),L("ngModelChange",function(l){return C(c),T(t.dataModel.moduleEntityName,l)||(t.dataModel.moduleEntityName=l),h(l)}),a()(),n(26,"div",13)(27,"label",18),d(28,"ModuleEntityId"),a(),n(29,"input",19,3),L("ngModelChange",function(l){return C(c),T(t.dataModel.moduleEntityId,l)||(t.dataModel.moduleEntityId=l),h(l)}),a()(),n(31,"div",13)(32,"label",20),d(33,"SubjectBody"),a(),n(34,"input",21,4),L("ngModelChange",function(l){return C(c),T(t.dataModel.subjectBody,l)||(t.dataModel.subjectBody=l),h(l)}),a()(),n(36,"div",13)(37,"label",22),d(38,"AdminResultProcess"),a(),n(39,"textarea",23,5),L("ngModelChange",function(l){return C(c),T(t.dataModel.adminResultProcess,l)||(t.dataModel.adminResultProcess=l),h(l)}),d(41,"        "),a()(),n(42,"div",13)(43,"label",24),d(44,"SubjectUrl"),a(),n(45,"textarea",25,6),L("ngModelChange",function(l){return C(c),T(t.dataModel.subjectUrl,l)||(t.dataModel.subjectUrl=l),h(l)}),d(47,"        "),a()(),b(48,Rr,9,6,"div",26),a()()()}i&2&&(s(),u("optionsInfoAreaId",t.constructorInfoAreaId),s(3),S(" ",t.formInfo.formTitle," "),s(2),S(" ",v(7,19,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(11,21,"TITLE.SITE")),s(2),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(13,23,"TITLE.USER")),s(2),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",v(15,25,"TITLE.Member")),s(5),R("ngModel",t.dataModel.moduleName),s(5),R("ngModel",t.dataModel.moduleEntityName),s(5),R("ngModel",t.dataModel.moduleEntityId),s(5),R("ngModel",t.dataModel.subjectBody),s(5),R("ngModel",t.dataModel.adminResultProcess),s(6),R("ngModel",t.dataModel.subjectUrl),s(3),u("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[V,xe,ht,gt,ke,jt,qt,_t,De,oe,ft,Wt,Kt,ee,H],encapsulation:2});var oo=wi;var Tr=["vform"];function Lr(o,r){if(o&1&&(n(0,"div",7),g(1,"i",11),n(2,"span",12),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function Ar(o,r){if(o&1&&(n(0,"div",8),g(1,"i",13),n(2,"span",12),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function kr(o,r){if(o&1&&(n(0,"div",9),g(1,"i",14),n(2,"span",12),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function Dr(o,r){if(o&1&&(n(0,"div",10),g(1,"i",15),n(2,"span",12),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function xr(o,r){if(o&1&&ae(0,Lr,4,1,"div",7)(1,Ar,4,1,"div",8)(2,kr,4,1,"div",9)(3,Dr,4,1,"div",10),o&2){let e,i=f();le((e=i.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function Br(o,r){if(o&1){let e=E();n(0,"div",16)(1,"button",17),M("click",function(){C(e);let t=f();return h(t.onFormCancel())}),g(2,"i",18),d(3),_(4,"translate"),a()()}o&2&&(s(3),S(" ",v(4,1,"ACTION.CANCEL")," "))}var Ei=class Ei{constructor(r,e,i,t,c,p,l,A,ne,K){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogReportAbuseService=t;this.cmsToastrService=c;this.tokenHelper=p;this.cmsStoreService=l;this.cdr=A;this.publicHelper=ne;this.translate=K;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Te;this.dataModelResult=new ie;this.dataModel=new Gt;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new ie;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>x(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogReportAbuseService.setAccessLoad(),this.coreModuleLogReportAbuseService.setAccessDataType(_e.Editor),this.coreModuleLogReportAbuseService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ei.\u0275fac=function(e){return new(e||Ei)(m($),m(Z),m(G),m(Tt),m(U),m(F),m(P),m(B),m(j),m(O))},Ei.\u0275cmp=k({type:Ei,selectors:[["app-coremodulelog-report-abuse-view"]],viewQuery:function(e,i){if(e&1&&z(Tr,5),e&2){let t;J(t=X())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(n(0,"div",0),d(1),a(),n(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),n(5,"div",4),ae(6,xr,4,1),a(),n(7,"div",5),b(8,Br,5,3,"div",6),a()),e&2&&(s(),S(" ",i.formInfo.formTitle," "),s(2),u("optionsInfoAreaId",i.constructorInfoAreaId),s(),u("dataModel",i.dataModel)("optionMethod",1),s(2),le((i.formInfo==null||i.formInfo.submitResultMessage==null?null:i.formInfo.submitResultMessage.length)>0?6:-1),s(2),u("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[V,ee,it,H],encapsulation:2});var no=Ei;var Vr=()=>[5,10,20,100],Nr=o=>({display:o});function Gr(o,r){if(o&1){let e=E();n(0,"a",44),M("click",function(){C(e);let t=f();return h(t.onActionBackToParent())}),g(1,"i",45),a()}}function Or(o,r){if(o&1){let e=E();n(0,"div",46)(1,"a",47),M("click",function(){C(e);let t=f();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",48)(3,"br"),a(),n(4,"p",49),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.VIEW")," "))}function Hr(o,r){if(o&1){let e=E();n(0,"div",46)(1,"a",50),M("click",function(){C(e);let t=f();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",51)(3,"br"),a(),n(4,"p",49),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.EDIT")," "))}function Pr(o,r){if(o&1){let e=E();n(0,"div",46)(1,"a",52),M("click",function(){C(e);let t=f();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",53)(3,"br"),a(),n(4,"p",49),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.DELETE")," "))}function Fr(o,r){if(o&1){let e=E();n(0,"div",46)(1,"a",47),M("click",function(){C(e);let t=f();return h(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),a(),n(4,"p",49),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.USER")," "))}function Ur(o,r){if(o&1){let e=E();n(0,"div",46)(1,"a",47),M("click",function(){C(e);let t=f();return h(t.onActionButtonViewMemberRow(t.tableRowSelected))}),g(2,"i",55)(3,"br"),a(),n(4,"p",49),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.MEMBER")," "))}function jr(o,r){if(o&1&&(n(0,"mat-header-cell",56),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function qr(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.id," ")}}function Wr(o,r){if(o&1&&(n(0,"mat-header-cell",56),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Kr(o,r){if(o&1&&g(0,"select",59),o&2){let e=f().$implicit,i=f();u("contentService",i.contentService)("row",e)("ngStyle",Ie(3,Nr,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Qr(o,r){if(o&1&&(n(0,"mat-cell",57),_(1,"statusCellClass"),g(2,"i",57),_(3,"statusIconClass"),b(4,Kr,1,5,"select",58),a()),o&2){let e=r.$implicit,i=f();u("ngClass",v(1,3,e.recordStatus)),s(2),u("ngClass",v(3,5,e.recordStatus)),s(2),u("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function zr(o,r){if(o&1&&(n(0,"mat-header-cell",56),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Jr(o,r){if(o&1&&(n(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),a()),o&2){let e=r.$implicit;s(),S(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Xr(o,r){if(o&1&&(n(0,"mat-header-cell",56),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Yr(o,r){if(o&1&&(n(0,"mat-cell"),d(1),_(2,"cmsuserinfo"),_(3,"async"),a()),o&2){let e=r.$implicit;s(),S(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function Zr(o,r){if(o&1&&(n(0,"mat-header-cell",56),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function $r(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.linkMemberId," ")}}function es(o,r){if(o&1&&(n(0,"mat-header-cell",56),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function ts(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.moduleName," ")}}function is(o,r){if(o&1&&(n(0,"mat-header-cell",56),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function os(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.moduleEntityName," ")}}function ns(o,r){if(o&1&&(n(0,"mat-header-cell",56),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function rs(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.moduleEntityId," ")}}function ss(o,r){if(o&1&&(n(0,"mat-header-cell",56),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.subjectBody==null?null:e.fieldsInfo.subjectBody.fieldTitle," ")}}function as(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.subjectBody," ")}}function ls(o,r){if(o&1&&(n(0,"mat-header-cell",56),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.adminResultProcess==null?null:e.fieldsInfo.adminResultProcess.fieldTitle," ")}}function cs(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.adminResultProcess," ")}}function ds(o,r){if(o&1&&(n(0,"mat-header-cell",56),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ms(o,r){if(o&1&&(n(0,"mat-cell",60),d(1),_(2,"localeDateTime"),a()),o&2){let e=r.$implicit;s(),S(" ",v(2,1,e.createdDate)," ")}}function ps(o,r){o&1&&(n(0,"mat-header-cell"),d(1),_(2,"translate"),a()),o&2&&(s(),S(" ",v(2,1,"TITLE.OPTION")," "))}function us(o,r){if(o&1&&(n(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),d(3,"more_vert"),a()(),g(4,"mat-menu",null,2),a()),o&2){let e=te(5);s(),u("matMenuTriggerFor",e)}}function fs(o,r){o&1&&g(0,"mat-header-row")}function Ss(o,r){if(o&1){let e=E();n(0,"mat-row",63),M("click",function(t){let c=C(e).$implicit,p=f();return h(p.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=C(e).$implicit,p=f();return h(p.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=f();Me("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var yi=class yi extends tt{constructor(e,i,t,c,p,l,A,ne,K,de,It,dt,wt){super(i,new Gt,dt,l,ne);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=p;this.tokenHelper=l;this.cdr=A;this.translate=ne;this.cmsStoreService=K;this.router=de;this.pageInfo=It;this.publicHelper=dt;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Re;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","AdminResultProcess","CreatedDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","AdminResultProcess","CreatedDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberId")),this.requestLinkSiteId>0){let y=new W;y.propertyName="LinkCmsSiteId",y.value=this.requestLinkSiteId,this.filteModelContent.filters.push(y)}if(this.requestLinkUserId>0){let y=new W;y.propertyName="LinkUserId",y.value=this.requestLinkUserId,this.filteModelContent.filters.push(y)}if(this.requestlinkMemberId>0){let y=new W;y.propertyName="linkMemberId",y.value=this.requestlinkMemberId,this.filteModelContent.filters.push(y)}this.optionsSearch.parentMethods={onSubmit:y=>this.onSubmitOptionsSearch(y)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=N.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=N.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Gt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=N.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(no,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(oo,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(p,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),p=new W;p.propertyName="RecordStatus",p.value=ye.Available,c.filters.push(p),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.content_does_not_include_member_informations").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};yi.\u0275fac=function(i){return new(i||yi)(m(G),m(Tt),m(U),m(ve),m(Le),m(F),m(B),m(O),m(P),m(Ae),m(Ze),m(j),m(Ve))},yi.\u0275cmp=k({type:yi,selectors:[["app-coremodulelog-report-abuse-list"]],standalone:!1,features:[Q],decls:74,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","SubjectBody"],["matColumnDef","AdminResultProcess"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=E();n(0,"app-cms-html-list",3),L("optionActionGuideNoticeDisplayChange",function(l){return C(c),T(t.viewGuideNotice,l)||(t.viewGuideNotice=l),h(l)}),M("optionOnActionButtonMemoRow",function(){return C(c),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(c),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(c),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(c),h(t.onActionButtonPrintRow())}),I(1,4),d(2," -------------------------------------- "),w(),se(3,5)(4,6),I(5,7),b(6,Gr,2,0,"a",8),n(7,"a",9),M("click",function(){return C(c),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),a(),n(9,"a",9),M("click",function(){return C(c),h(t.onActionButtonReload())}),g(10,"i",11),a(),w(),I(11,12),n(12,"a",13),M("click",function(){return C(c),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),d(14),_(15,"translate"),a(),n(16,"a",13),M("click",function(){return C(c),h(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),d(18),_(19,"translate"),a(),w(),se(20,15),I(21,16),b(22,Or,7,3,"div",17)(23,Hr,7,3,"div",17)(24,Pr,7,3,"div",17)(25,Fr,7,3,"div",17)(26,Ur,7,3,"div",17),w(),I(27,18),n(28,"app-cms-search-list",19),L("optionsChange",function(l){return C(c),T(t.optionsSearch,l)||(t.optionsSearch=l),h(l)}),a(),n(29,"app-cms-statist-list",19),L("optionsChange",function(l){return C(c),T(t.optionsStatist,l)||(t.optionsStatist=l),h(l)}),a(),w(),I(30,20),n(31,"mat-table",21,0),M("matSortChange",function(){C(c);let l=te(32);return h(t.onTableSortData(l))}),I(33,22),b(34,jr,2,1,"mat-header-cell",23)(35,qr,2,1,"mat-cell",24),w(),I(36,25),b(37,Wr,2,1,"mat-header-cell",23)(38,Qr,5,7,"mat-cell",26),w(),I(39,27),b(40,zr,2,1,"mat-header-cell",23)(41,Jr,4,5,"mat-cell",24),w(),I(42,28),b(43,Xr,2,1,"mat-header-cell",23)(44,Yr,4,5,"mat-cell",24),w(),I(45,29),b(46,Zr,2,1,"mat-header-cell",23)(47,$r,2,1,"mat-cell",24),w(),I(48,30),b(49,es,2,1,"mat-header-cell",23)(50,ts,2,1,"mat-cell",24),w(),I(51,31),b(52,is,2,1,"mat-header-cell",23)(53,os,2,1,"mat-cell",24),w(),I(54,32),b(55,ns,2,1,"mat-header-cell",23)(56,rs,2,1,"mat-cell",24),w(),I(57,33),b(58,ss,2,1,"mat-header-cell",23)(59,as,2,1,"mat-cell",24),w(),I(60,34),b(61,ls,2,1,"mat-header-cell",23)(62,cs,2,1,"mat-cell",24),w(),I(63,35),b(64,ds,2,1,"mat-header-cell",23)(65,ms,3,3,"mat-cell",36),w(),I(66,37),b(67,ps,3,3,"mat-header-cell",38)(68,us,6,1,"mat-cell",39),w(),b(69,fs,1,0,"mat-header-row",40)(70,Ss,1,2,"mat-row",41),a(),w(),I(71,42),n(72,"mat-paginator",43,1),M("page",function(l){return C(c),h(t.onTablePageingData(l))}),a(),w(),a()}i&2&&(u("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),u("ngIf",t.requestLinkSiteId>0),s(7),u("checked",t.optionsSearch.data.show),s(),S("",v(15,26,"ACTION.SEARCH")," "),s(3),u("checked",t.optionsStatist.data.show),s(),S("",v(19,28,"ACTION.STATIST")," "),s(4),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),u("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),s(),u("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkMemberId)>0),s(2),R("options",t.optionsSearch),s(),R("options",t.optionsStatist),s(2),u("dataSource",t.tableSource),s(38),u("matHeaderRowDef",t.tabledisplayedColumns),s(),u("matRowDefColumns",t.tabledisplayedColumns),s(2),u("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(30,Vr)))},dependencies:[we,V,Ee,Be,Ne,oe,Ge,Oe,He,ut,Pe,Fe,Ue,qe,ze,We,je,Je,Ke,Qe,Xe,Ye,ot,nt,rt,st,at,pt,H,Mt,St,$e,lt,ct],encapsulation:2});var ro=yi;var Cs=["vform"];function hs(o,r){if(o&1){let e=E();n(0,"div",17)(1,"button",18),M("click",function(){C(e);let t=f();return h(t.onFormCancel())}),g(2,"i",19),d(3),_(4,"translate"),a()()}o&2&&(s(3),S(" ",v(4,1,"ACTION.CANCEL")," "))}var Ri=class Ri extends et{constructor(e,i,t,c,p,l,A,ne,K,de){super(c,new Nt,K,de);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogScoreService=c;this.cmsToastrService=p;this.tokenHelper=l;this.cmsStoreService=A;this.cdr=ne;this.publicHelper=K;this.translate=de;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new ie;this.dataModel=new Nt;this.formInfo=new Y;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogScoreService.setAccessLoad(),this.coreModuleLogScoreService.setAccessDataType(_e.Editor),this.coreModuleLogScoreService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ri.\u0275fac=function(i){return new(i||Ri)(m($),m(Z),m(G),m(Et),m(U),m(F),m(P),m(B),m(j),m(O))},Ri.\u0275cmp=k({type:Ri,selectors:[["app-coremodulelog-score-edit"]],viewQuery:function(i,t){if(i&1&&z(Cs,5),i&2){let c;J(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[Q],decls:32,vars:24,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){if(i&1){let c=E();n(0,"div",4),g(1,"app-progress-spinner",5),n(2,"div",6)(3,"p",7),d(4),a(),n(5,"p"),d(6),_(7,"translate"),a(),n(8,"form",null,0),g(10,"app-cms-site-selector",8),_(11,"translate"),g(12,"app-cms-user-selector",8),_(13,"translate"),g(14,"app-cms-member-selector",8),_(15,"translate"),n(16,"div",9)(17,"label",10),d(18,"ModuleName"),a(),n(19,"input",11,1),L("ngModelChange",function(l){return C(c),T(t.dataModel.moduleName,l)||(t.dataModel.moduleName=l),h(l)}),a()(),n(21,"div",9)(22,"label",12),d(23,"ModuleEntityName"),a(),n(24,"input",13,2),L("ngModelChange",function(l){return C(c),T(t.dataModel.moduleEntityName,l)||(t.dataModel.moduleEntityName=l),h(l)}),a()(),n(26,"div",9)(27,"label",14),d(28,"ModuleEntityId"),a(),n(29,"input",15,3),L("ngModelChange",function(l){return C(c),T(t.dataModel.moduleEntityId,l)||(t.dataModel.moduleEntityId=l),h(l)}),a()(),b(31,hs,5,3,"div",16),a()()()}i&2&&(s(),u("optionsInfoAreaId",t.constructorInfoAreaId),s(3),S(" ",t.formInfo.formTitle," "),s(2),S(" ",v(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(11,18,"TITLE.SITE")),s(2),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(13,20,"TITLE.USER")),s(2),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",v(15,22,"TITLE.Member")),s(5),R("ngModel",t.dataModel.moduleName),s(5),R("ngModel",t.dataModel.moduleEntityName),s(5),R("ngModel",t.dataModel.moduleEntityId),s(2),u("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[V,xe,ht,gt,ke,_t,De,oe,ft,Wt,Kt,ee,H],encapsulation:2});var so=Ri;var gs=["vform"];function _s(o,r){if(o&1&&(n(0,"div",7),g(1,"i",11),n(2,"span",12),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function vs(o,r){if(o&1&&(n(0,"div",8),g(1,"i",13),n(2,"span",12),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function Ms(o,r){if(o&1&&(n(0,"div",9),g(1,"i",14),n(2,"span",12),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function bs(o,r){if(o&1&&(n(0,"div",10),g(1,"i",15),n(2,"span",12),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function Is(o,r){if(o&1&&ae(0,_s,4,1,"div",7)(1,vs,4,1,"div",8)(2,Ms,4,1,"div",9)(3,bs,4,1,"div",10),o&2){let e,i=f();le((e=i.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function ws(o,r){if(o&1){let e=E();n(0,"div",16)(1,"button",17),M("click",function(){C(e);let t=f();return h(t.onFormCancel())}),g(2,"i",18),d(3),_(4,"translate"),a()()}o&2&&(s(3),S(" ",v(4,1,"ACTION.CANCEL")," "))}var Ti=class Ti{constructor(r,e,i,t,c,p,l,A,ne,K){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogScoreService=t;this.cmsToastrService=c;this.tokenHelper=p;this.cmsStoreService=l;this.cdr=A;this.publicHelper=ne;this.translate=K;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Te;this.dataModelResult=new ie;this.dataModel=new Nt;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new ie;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>x(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogScoreService.setAccessLoad(),this.coreModuleLogScoreService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ti.\u0275fac=function(e){return new(e||Ti)(m($),m(Z),m(G),m(Et),m(U),m(F),m(P),m(B),m(j),m(O))},Ti.\u0275cmp=k({type:Ti,selectors:[["app-coremodulelog-score-view"]],viewQuery:function(e,i){if(e&1&&z(gs,5),e&2){let t;J(t=X())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(n(0,"div",0),d(1),a(),n(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),n(5,"div",4),ae(6,Is,4,1),a(),n(7,"div",5),b(8,ws,5,3,"div",6),a()),e&2&&(s(),S(" ",i.formInfo.formTitle," "),s(2),u("optionsInfoAreaId",i.constructorInfoAreaId),s(),u("dataModel",i.dataModel)("optionMethod",1),s(2),le((i.formInfo==null||i.formInfo.submitResultMessage==null?null:i.formInfo.submitResultMessage.length)>0?6:-1),s(2),u("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[V,ee,it,H],encapsulation:2});var ao=Ti;var Es=()=>[5,10,20,100],ys=o=>({display:o});function Rs(o,r){if(o&1){let e=E();n(0,"a",42),M("click",function(){C(e);let t=f();return h(t.onActionBackToParent())}),g(1,"i",43),a()}}function Ts(o,r){if(o&1){let e=E();n(0,"div",44)(1,"a",45),M("click",function(){C(e);let t=f();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",46)(3,"br"),a(),n(4,"p",47),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.VIEW")," "))}function Ls(o,r){if(o&1){let e=E();n(0,"div",44)(1,"a",48),M("click",function(){C(e);let t=f();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",49)(3,"br"),a(),n(4,"p",47),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.EDIT")," "))}function As(o,r){if(o&1){let e=E();n(0,"div",44)(1,"a",50),M("click",function(){C(e);let t=f();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",51)(3,"br"),a(),n(4,"p",47),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.DELETE")," "))}function ks(o,r){if(o&1){let e=E();n(0,"div",44)(1,"a",45),M("click",function(){C(e);let t=f();return h(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(2,"i",52)(3,"br"),a(),n(4,"p",47),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.USER")," "))}function Ds(o,r){if(o&1){let e=E();n(0,"div",44)(1,"a",45),M("click",function(){C(e);let t=f();return h(t.onActionButtonViewMemberRow(t.tableRowSelected))}),g(2,"i",53)(3,"br"),a(),n(4,"p",47),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.MEMBER")," "))}function xs(o,r){if(o&1&&(n(0,"mat-header-cell",54),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Bs(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.id," ")}}function Vs(o,r){if(o&1&&(n(0,"mat-header-cell",54),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ns(o,r){if(o&1&&g(0,"select",57),o&2){let e=f().$implicit,i=f();u("contentService",i.contentService)("row",e)("ngStyle",Ie(3,ys,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Gs(o,r){if(o&1&&(n(0,"mat-cell",55),_(1,"statusCellClass"),g(2,"i",55),_(3,"statusIconClass"),b(4,Ns,1,5,"select",56),a()),o&2){let e=r.$implicit,i=f();u("ngClass",v(1,3,e.recordStatus)),s(2),u("ngClass",v(3,5,e.recordStatus)),s(2),u("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Os(o,r){if(o&1&&(n(0,"mat-header-cell",54),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Hs(o,r){if(o&1&&(n(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),a()),o&2){let e=r.$implicit;s(),S(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Ps(o,r){if(o&1&&(n(0,"mat-header-cell",54),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Fs(o,r){if(o&1&&(n(0,"mat-cell"),d(1),_(2,"cmsuserinfo"),_(3,"async"),a()),o&2){let e=r.$implicit;s(),S(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function Us(o,r){if(o&1&&(n(0,"mat-header-cell",54),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function js(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.linkMemberId," ")}}function qs(o,r){if(o&1&&(n(0,"mat-header-cell",54),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function Ws(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.moduleName," ")}}function Ks(o,r){if(o&1&&(n(0,"mat-header-cell",54),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Qs(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.moduleEntityName," ")}}function zs(o,r){if(o&1&&(n(0,"mat-header-cell",54),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Js(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.moduleEntityId," ")}}function Xs(o,r){if(o&1&&(n(0,"mat-header-cell",54),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Ys(o,r){if(o&1&&(n(0,"mat-cell",58),d(1),_(2,"localeDateTime"),a()),o&2){let e=r.$implicit;s(),S(" ",v(2,1,e.createdDate)," ")}}function Zs(o,r){o&1&&(n(0,"mat-header-cell"),d(1),_(2,"translate"),a()),o&2&&(s(),S(" ",v(2,1,"TITLE.OPTION")," "))}function $s(o,r){if(o&1&&(n(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),d(3,"more_vert"),a()(),g(4,"mat-menu",null,2),a()),o&2){let e=te(5);s(),u("matMenuTriggerFor",e)}}function ea(o,r){o&1&&g(0,"mat-header-row")}function ta(o,r){if(o&1){let e=E();n(0,"mat-row",61),M("click",function(t){let c=C(e).$implicit,p=f();return h(p.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=C(e).$implicit,p=f();return h(p.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=f();Me("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Li=class Li extends tt{constructor(e,i,t,c,p,l,A,ne,K,de,It,dt,wt){super(i,new Nt,dt,A,K);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=p;this.cmsStoreService=l;this.tokenHelper=A;this.cdr=ne;this.translate=K;this.router=de;this.pageInfo=It;this.publicHelper=dt;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Re;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberId")),this.requestLinkSiteId>0){let y=new W;y.propertyName="LinkCmsSiteId",y.value=this.requestLinkSiteId,this.filteModelContent.filters.push(y)}if(this.requestLinkUserId>0){let y=new W;y.propertyName="LinkUserId",y.value=this.requestLinkUserId,this.filteModelContent.filters.push(y)}if(this.requestlinkMemberId>0){let y=new W;y.propertyName="linkMemberId",y.value=this.requestlinkMemberId,this.filteModelContent.filters.push(y)}this.optionsSearch.parentMethods={onSubmit:y=>this.onSubmitOptionsSearch(y)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=N.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=N.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Nt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=N.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ao,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(so,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(p,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),p=new W;p.propertyName="RecordStatus",p.value=ye.Available,c.filters.push(p),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.content_does_not_include_member_informations").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Li.\u0275fac=function(i){return new(i||Li)(m(G),m(Et),m(U),m(ve),m(Le),m(P),m(F),m(B),m(O),m(Ae),m(Ze),m(j),m(Ve))},Li.\u0275cmp=k({type:Li,selectors:[["app-coremodulelog-score-list"]],standalone:!1,features:[Q],decls:68,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=E();n(0,"app-cms-html-list",3),L("optionActionGuideNoticeDisplayChange",function(l){return C(c),T(t.viewGuideNotice,l)||(t.viewGuideNotice=l),h(l)}),M("optionOnActionButtonMemoRow",function(){return C(c),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(c),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(c),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(c),h(t.onActionButtonPrintRow())}),I(1,4),d(2," -------------------------------------- "),w(),se(3,5)(4,6),I(5,7),b(6,Rs,2,0,"a",8),n(7,"a",9),M("click",function(){return C(c),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),a(),n(9,"a",9),M("click",function(){return C(c),h(t.onActionButtonReload())}),g(10,"i",11),a(),w(),I(11,12),n(12,"a",13),M("click",function(){return C(c),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),d(14),_(15,"translate"),a(),n(16,"a",13),M("click",function(){return C(c),h(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),d(18),_(19,"translate"),a(),w(),se(20,15),I(21,16),b(22,Ts,7,3,"div",17)(23,Ls,7,3,"div",17)(24,As,7,3,"div",17)(25,ks,7,3,"div",17)(26,Ds,7,3,"div",17),w(),I(27,18),n(28,"app-cms-search-list",19),L("optionsChange",function(l){return C(c),T(t.optionsSearch,l)||(t.optionsSearch=l),h(l)}),a(),n(29,"app-cms-statist-list",19),L("optionsChange",function(l){return C(c),T(t.optionsStatist,l)||(t.optionsStatist=l),h(l)}),a(),w(),I(30,20),n(31,"mat-table",21,0),M("matSortChange",function(){C(c);let l=te(32);return h(t.onTableSortData(l))}),I(33,22),b(34,xs,2,1,"mat-header-cell",23)(35,Bs,2,1,"mat-cell",24),w(),I(36,25),b(37,Vs,2,1,"mat-header-cell",23)(38,Gs,5,7,"mat-cell",26),w(),I(39,27),b(40,Os,2,1,"mat-header-cell",23)(41,Hs,4,5,"mat-cell",24),w(),I(42,28),b(43,Ps,2,1,"mat-header-cell",23)(44,Fs,4,5,"mat-cell",24),w(),I(45,29),b(46,Us,2,1,"mat-header-cell",23)(47,js,2,1,"mat-cell",24),w(),I(48,30),b(49,qs,2,1,"mat-header-cell",23)(50,Ws,2,1,"mat-cell",24),w(),I(51,31),b(52,Ks,2,1,"mat-header-cell",23)(53,Qs,2,1,"mat-cell",24),w(),I(54,32),b(55,zs,2,1,"mat-header-cell",23)(56,Js,2,1,"mat-cell",24),w(),I(57,33),b(58,Xs,2,1,"mat-header-cell",23)(59,Ys,3,3,"mat-cell",34),w(),I(60,35),b(61,Zs,3,3,"mat-header-cell",36)(62,$s,6,1,"mat-cell",37),w(),b(63,ea,1,0,"mat-header-row",38)(64,ta,1,2,"mat-row",39),a(),w(),I(65,40),n(66,"mat-paginator",41,1),M("page",function(l){return C(c),h(t.onTablePageingData(l))}),a(),w(),a()}i&2&&(u("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),u("ngIf",t.requestLinkSiteId>0),s(7),u("checked",t.optionsSearch.data.show),s(),S("",v(15,26,"ACTION.SEARCH")," "),s(3),u("checked",t.optionsStatist.data.show),s(),S("",v(19,28,"ACTION.STATIST")," "),s(4),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),u("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),s(),u("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkMemberId)>0),s(2),R("options",t.optionsSearch),s(),R("options",t.optionsStatist),s(2),u("dataSource",t.tableSource),s(32),u("matHeaderRowDef",t.tabledisplayedColumns),s(),u("matRowDefColumns",t.tabledisplayedColumns),s(2),u("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(30,Es)))},dependencies:[we,V,Ee,Be,Ne,oe,Ge,Oe,He,ut,Pe,Fe,Ue,qe,ze,We,je,Je,Ke,Qe,Xe,Ye,ot,nt,rt,st,at,pt,H,Mt,St,$e,lt,ct],encapsulation:2});var lo=Li;var ia=["vform"];function oa(o,r){if(o&1){let e=E();n(0,"div",25)(1,"label",26),d(2),a(),n(3,"input",27),L("ngModelChange",function(t){C(e);let c=f();return T(c.dataModel.expireDateTime,t)||(c.dataModel.expireDateTime=t),h(t)}),a(),g(4,"mat-datepicker-toggle",28)(5,"mat-datepicker",29,6),a()}if(o&2){let e=te(6),i=f();s(2),D(i.fieldsInfo.expireDateTime==null?null:i.fieldsInfo.expireDateTime.fieldTitle),s(),u("placeholder",mi(i.fieldsInfo.expireDateTime==null?null:i.fieldsInfo.expireDateTime.fieldTitle))("disabled",mi(!(i.fieldsInfo.expireDateTime!=null&&i.fieldsInfo.expireDateTime.accessEditField)))("matDatepicker",e),R("ngModel",i.dataModel.expireDateTime),s(),u("for",e)}}function na(o,r){if(o&1){let e=E();n(0,"div",30)(1,"button",31),M("click",function(){C(e);let t=f();return h(t.onFormCancel())}),g(2,"i",32),d(3),_(4,"translate"),a(),n(5,"button",33),g(6,"i",32),d(7),_(8,"translate"),a()()}o&2&&(s(3),S(" ",v(4,2,"ACTION.CANCEL")," "),s(4),S(" ",v(8,4,"ACTION.SAVE")," "))}var Ai=class Ai extends et{constructor(e,i,t,c,p,l,A,ne,K,de){super(c,new Ot,K,de);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogShowKeyService=c;this.cmsToastrService=p;this.tokenHelper=l;this.cmsStoreService=A;this.cdr=ne;this.publicHelper=K;this.translate=de;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new vt;this.dataModel=new Ot;this.formInfo=new Y;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogShowKeyService.setAccessLoad(),this.coreModuleLogShowKeyService.setAccessDataType(_e.Editor),this.coreModuleLogShowKeyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogShowKeyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ai.\u0275fac=function(i){return new(i||Ai)(m($),m(Z),m(G),m(Lt),m(U),m(F),m(P),m(B),m(j),m(O))},Ai.\u0275cmp=k({type:Ai,selectors:[["app-coremodule-data-memo-edit"]],viewQuery:function(i,t){if(i&1&&z(ia,5),i&2){let c;J(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[Q],decls:37,vars:12,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["showKey",""],["SubjectTitle",""],["expireDateTime",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","name","dataModel.moduleName","type","text","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","name","dataModel.moduleEntityName","type","text","placeholder","ModuleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","name","dataModel.moduleEntityId","type","text","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.showKey",1,"color-highlight"],["matInput","","name","dataModel.showKey","type","text","placeholder","showKey","id","dataModel.showKey",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectTitle",1,"color-highlight"],["matInput","","name","dataModel.subjectTitle","type","text","placeholder","SubjectTitle","id","dataModel.subjectTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.expireDateTime",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDateTime","minlength","3","maxlength","100","id","dataModel.expireDateTime",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let c=E();n(0,"div",7),g(1,"app-progress-spinner",8),n(2,"div",9)(3,"p",10),d(4),a(),n(5,"p"),d(6),_(7,"translate"),a(),n(8,"form",11,0),M("ngSubmit",function(){return C(c),h(t.onFormSubmit())}),n(10,"div",12)(11,"label",13),d(12,"ModuleName"),a(),n(13,"input",14,1),L("ngModelChange",function(l){return C(c),T(t.dataModel.moduleName,l)||(t.dataModel.moduleName=l),h(l)}),a()(),n(15,"div",12)(16,"label",15),d(17,"ModuleEntityName"),a(),n(18,"input",16,2),L("ngModelChange",function(l){return C(c),T(t.dataModel.moduleEntityName,l)||(t.dataModel.moduleEntityName=l),h(l)}),a()(),n(20,"div",12)(21,"label",17),d(22,"ModuleEntityId"),a(),n(23,"input",18,3),L("ngModelChange",function(l){return C(c),T(t.dataModel.moduleEntityId,l)||(t.dataModel.moduleEntityId=l),h(l)}),a()(),n(25,"div",12)(26,"label",19),d(27,"showKey"),a(),n(28,"textarea",20,4),L("ngModelChange",function(l){return C(c),T(t.dataModel.showKey,l)||(t.dataModel.showKey=l),h(l)}),a()(),n(30,"div",12)(31,"label",21),d(32,"SubjectTitle"),a(),n(33,"textarea",22,5),L("ngModelChange",function(l){return C(c),T(t.dataModel.subjectTitle,l)||(t.dataModel.subjectTitle=l),h(l)}),a()(),b(35,oa,7,8,"div",23)(36,na,9,6,"div",24),a()()()}i&2&&(s(),u("optionsInfoAreaId",t.constructorInfoAreaId),s(3),S(" ",t.formInfo.formTitle," "),s(2),S(" ",v(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),s(7),R("ngModel",t.dataModel.moduleName),s(5),R("ngModel",t.dataModel.moduleEntityName),s(5),R("ngModel",t.dataModel.moduleEntityId),s(5),R("ngModel",t.dataModel.showKey),s(5),R("ngModel",t.dataModel.subjectTitle),s(2),u("ngIf",t.fieldsInfo.expireDateTime==null?null:t.fieldsInfo.expireDateTime.accessWatchField),s(),u("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[V,xe,ht,gt,ke,jt,qt,_t,De,Fo,Uo,jo,Po,oe,ee,H],encapsulation:2});var co=Ai;var ra=["vform"];function sa(o,r){if(o&1&&(n(0,"div",7),g(1,"i",11),n(2,"span",12),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function aa(o,r){if(o&1&&(n(0,"div",8),g(1,"i",13),n(2,"span",12),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function la(o,r){if(o&1&&(n(0,"div",9),g(1,"i",14),n(2,"span",12),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function ca(o,r){if(o&1&&(n(0,"div",10),g(1,"i",15),n(2,"span",12),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function da(o,r){if(o&1&&ae(0,sa,4,1,"div",7)(1,aa,4,1,"div",8)(2,la,4,1,"div",9)(3,ca,4,1,"div",10),o&2){let e,i=f();le((e=i.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function ma(o,r){if(o&1){let e=E();n(0,"div",16)(1,"button",17),M("click",function(){C(e);let t=f();return h(t.onFormCancel())}),g(2,"i",18),d(3),_(4,"translate"),a()()}o&2&&(s(3),S(" ",v(4,1,"ACTION.CANCEL")," "))}var ki=class ki{constructor(r,e,i,t,c,p,l,A,ne,K){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogShowKeyService=t;this.cmsToastrService=c;this.tokenHelper=p;this.cmsStoreService=l;this.cdr=A;this.publicHelper=ne;this.translate=K;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Te;this.dataModelResult=new ie;this.dataModel=new Ot;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new ie;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>x(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogShowKeyService.setAccessLoad(),this.coreModuleLogShowKeyService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ki.\u0275fac=function(e){return new(e||ki)(m($),m(Z),m(G),m(Lt),m(U),m(F),m(P),m(B),m(j),m(O))},ki.\u0275cmp=k({type:ki,selectors:[["app-coremodule-data-memo-view"]],viewQuery:function(e,i){if(e&1&&z(ra,5),e&2){let t;J(t=X())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(n(0,"div",0),d(1),a(),n(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),n(5,"div",4),ae(6,da,4,1),a(),n(7,"div",5),b(8,ma,5,3,"div",6),a()),e&2&&(s(),S(" ",i.formInfo.formTitle," "),s(2),u("optionsInfoAreaId",i.constructorInfoAreaId),s(),u("dataModel",i.dataModel)("optionMethod",1),s(2),le((i.formInfo==null||i.formInfo.submitResultMessage==null?null:i.formInfo.submitResultMessage.length)>0?6:-1),s(2),u("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[V,ee,it,H],encapsulation:2});var mo=ki;var pa=()=>[5,10,20,100],ua=o=>({display:o});function fa(o,r){if(o&1){let e=E();n(0,"a",41),M("click",function(){C(e);let t=f();return h(t.onActionBackToParent())}),g(1,"i",42),a()}}function Sa(o,r){if(o&1){let e=E();n(0,"div",43)(1,"a",44),M("click",function(){C(e);let t=f();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",45)(3,"br"),a(),n(4,"p",46),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.VIEW")," "))}function Ca(o,r){if(o&1){let e=E();n(0,"div",43)(1,"a",47),M("click",function(){C(e);let t=f();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",48)(3,"br"),a(),n(4,"p",46),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.EDIT")," "))}function ha(o,r){if(o&1){let e=E();n(0,"div",43)(1,"a",49),M("click",function(){C(e);let t=f();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",50)(3,"br"),a(),n(4,"p",46),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.DELETE")," "))}function ga(o,r){if(o&1&&(n(0,"mat-header-cell",51),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function _a(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.id," ")}}function va(o,r){if(o&1&&(n(0,"mat-header-cell",51),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ma(o,r){if(o&1&&g(0,"select",54),o&2){let e=f().$implicit,i=f();u("contentService",i.contentService)("row",e)("ngStyle",Ie(3,ua,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function ba(o,r){if(o&1&&(n(0,"mat-cell",52),_(1,"statusCellClass"),g(2,"i",52),_(3,"statusIconClass"),b(4,Ma,1,5,"select",53),a()),o&2){let e=r.$implicit,i=f();u("ngClass",v(1,3,e.recordStatus)),s(2),u("ngClass",v(3,5,e.recordStatus)),s(2),u("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Ia(o,r){if(o&1&&(n(0,"mat-header-cell",51),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function wa(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.moduleName," ")}}function Ea(o,r){if(o&1&&(n(0,"mat-header-cell",51),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function ya(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.moduleEntityName," ")}}function Ra(o,r){if(o&1&&(n(0,"mat-header-cell",51),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Ta(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.moduleEntityId," ")}}function La(o,r){if(o&1&&(n(0,"mat-header-cell",51),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.showKey==null?null:e.fieldsInfo.showKey.fieldTitle," ")}}function Aa(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.showKey," ")}}function ka(o,r){if(o&1&&(n(0,"mat-header-cell",51),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Da(o,r){if(o&1&&(n(0,"mat-cell",55),d(1),_(2,"localeDateTime"),a()),o&2){let e=r.$implicit;s(),S(" ",v(2,1,e.createdDate)," ")}}function xa(o,r){o&1&&(n(0,"mat-header-cell"),d(1),_(2,"translate"),a()),o&2&&(s(),S(" ",v(2,1,"TITLE.OPTION")," "))}function Ba(o,r){if(o&1&&(n(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),d(3,"more_vert"),a()(),g(4,"mat-menu",null,2),a()),o&2){let e=te(5);s(),u("matMenuTriggerFor",e)}}function Va(o,r){if(o&1&&(n(0,"mat-cell")(1,"div")(2,"table")(3,"tr"),g(4,"td"),n(5,"td"),d(6),a()()()()()),o&2){let e=r.$implicit;s(6),D(e.subjectTitle)}}function Na(o,r){o&1&&g(0,"mat-header-row")}function Ga(o,r){if(o&1){let e=E();n(0,"mat-row",58),M("click",function(t){let c=C(e).$implicit,p=f();return h(p.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=C(e).$implicit,p=f();return h(p.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=f();Me("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Di=class Di extends tt{constructor(e,i,t,c,p,l,A,ne,K,de,It,dt,wt){super(i,new Ot,dt,l,ne);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=p;this.tokenHelper=l;this.cdr=A;this.translate=ne;this.cmsStoreService=K;this.router=de;this.pageInfo=It;this.publicHelper=dt;this.dialog=wt;this.requestLinkSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Re;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["RecordStatus","ModuleName","ModuleEntityName","ModuleEntityId","showKey","CreatedDate"];this.tabledisplayedColumnsMobileSource=["RecordStatus","ModuleName","ModuleEntityName","ModuleEntityId","showKey","CreatedDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkSiteId>0){let y=new W;y.propertyName="LinkCmsSiteId",y.value=this.requestLinkSiteId,this.filteModelContent.filters.push(y)}this.optionsSearch.parentMethods={onSubmit:y=>this.onSubmitOptionsSearch(y)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=N.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=N.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ot);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=N.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(mo,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(co,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(p,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),p=new W;p.propertyName="RecordStatus",p.value=ye.Available,c.Filters.push(p),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Di.\u0275fac=function(i){return new(i||Di)(m(G),m(Lt),m(U),m(ve),m(Le),m(F),m(B),m(O),m(P),m(Ae),m(Ze),m(j),m(Ve))},Di.\u0275cmp=k({type:Di,selectors:[["app-coremodule-data-memo-list"]],standalone:!1,features:[Q],decls:62,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","showKey"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=E();n(0,"app-cms-html-list",3),L("optionActionGuideNoticeDisplayChange",function(l){return C(c),T(t.viewGuideNotice,l)||(t.viewGuideNotice=l),h(l)}),M("optionOnActionButtonMemoRow",function(){return C(c),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(c),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(c),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(c),h(t.onActionButtonPrintRow())}),I(1,4),d(2," -------------------------------------- "),w(),se(3,5)(4,6),I(5,7),b(6,fa,2,0,"a",8),n(7,"a",9),M("click",function(){return C(c),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),a(),n(9,"a",9),M("click",function(){return C(c),h(t.onActionButtonReload())}),g(10,"i",11),a(),w(),I(11,12),n(12,"a",13),M("click",function(){return C(c),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),d(14),_(15,"translate"),a(),n(16,"a",13),M("click",function(){return C(c),h(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),d(18),_(19,"translate"),a(),w(),se(20,15),I(21,16),b(22,Sa,7,3,"div",17)(23,Ca,7,3,"div",17)(24,ha,7,3,"div",17),w(),I(25,18),n(26,"app-cms-search-list",19),L("optionsChange",function(l){return C(c),T(t.optionsSearch,l)||(t.optionsSearch=l),h(l)}),a(),n(27,"app-cms-statist-list",19),L("optionsChange",function(l){return C(c),T(t.optionsStatist,l)||(t.optionsStatist=l),h(l)}),a(),w(),I(28,20),n(29,"mat-table",21,0),M("matSortChange",function(){C(c);let l=te(30);return h(t.onTableSortData(l))}),I(31,22),b(32,ga,2,1,"mat-header-cell",23)(33,_a,2,1,"mat-cell",24),w(),I(34,25),b(35,va,2,1,"mat-header-cell",23)(36,ba,5,7,"mat-cell",26),w(),I(37,27),b(38,Ia,2,1,"mat-header-cell",23)(39,wa,2,1,"mat-cell",24),w(),I(40,28),b(41,Ea,2,1,"mat-header-cell",23)(42,ya,2,1,"mat-cell",24),w(),I(43,29),b(44,Ra,2,1,"mat-header-cell",23)(45,Ta,2,1,"mat-cell",24),w(),I(46,30),b(47,La,2,1,"mat-header-cell",23)(48,Aa,2,1,"mat-cell",24),w(),I(49,31),b(50,ka,2,1,"mat-header-cell",23)(51,Da,3,3,"mat-cell",32),w(),I(52,33),b(53,xa,3,3,"mat-header-cell",34)(54,Ba,6,1,"mat-cell",35),w(),I(55,36),b(56,Va,7,1,"mat-cell",24),w(),b(57,Na,1,0,"mat-header-row",37)(58,Ga,1,2,"mat-row",38),a(),w(),I(59,39),n(60,"mat-paginator",40,1),M("page",function(l){return C(c),h(t.onTablePageingData(l))}),a(),w(),a()}i&2&&(u("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),u("ngIf",t.requestLinkSiteId>0),s(7),u("checked",t.optionsSearch.data.show),s(),S("",v(15,24,"ACTION.SEARCH")," "),s(3),u("checked",t.optionsStatist.data.show),s(),S("",v(19,26,"ACTION.STATIST")," "),s(4),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(2),R("options",t.optionsSearch),s(),R("options",t.optionsStatist),s(2),u("dataSource",t.tableSource),s(28),u("matHeaderRowDef",t.tabledisplayedColumns),s(),u("matRowDefColumns",t.tabledisplayedColumns),s(2),u("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(28,pa)))},dependencies:[we,V,Ee,Be,Ne,oe,Ge,Oe,He,ut,Pe,Fe,Ue,qe,ze,We,je,Je,Ke,Qe,Xe,Ye,ot,nt,rt,st,at,H,$e,lt,ct],encapsulation:2});var po=Di;var Oa=["vform"];function Ha(o,r){if(o&1){let e=E();n(0,"div",7)(1,"button",8),M("click",function(){C(e);let t=f();return h(t.onFormCancel())}),g(2,"i",9),d(3),_(4,"translate"),a()()}o&2&&(s(3),S(" ",v(4,1,"ACTION.CANCEL")," "))}var xi=class xi extends et{constructor(e,i,t,c,p,l,A,ne,K,de){super(c,new Ht,K,de);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogSiteCreditBlockedService=c;this.cmsToastrService=p;this.tokenHelper=l;this.cmsStoreService=A;this.cdr=ne;this.publicHelper=K;this.translate=de;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new vt;this.dataModel=new Ht;this.formInfo=new Y;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteCreditBlockedService.setAccessDataType(_e.Editor),this.coreModuleLogSiteCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};xi.\u0275fac=function(i){return new(i||xi)(m($),m(Z),m(G),m(At),m(U),m(F),m(P),m(B),m(j),m(O))},xi.\u0275cmp=k({type:xi,selectors:[["app-coremodulelog-site-credit-blocked-edit"]],viewQuery:function(i,t){if(i&1&&z(Oa,5),i&2){let c;J(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[Q],decls:13,vars:11,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(n(0,"div",1),g(1,"app-progress-spinner",2),n(2,"div",3)(3,"p",4),d(4),a(),n(5,"p"),d(6),_(7,"translate"),a(),n(8,"form",null,0),g(10,"app-cms-site-selector",5),_(11,"translate"),b(12,Ha,5,3,"div",6),a()()()),i&2&&(s(),u("optionsInfoAreaId",t.constructorInfoAreaId),s(3),S(" ",t.formInfo.formTitle," "),s(2),S(" ",v(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(11,9,"TITLE.SITE")),s(2),u("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[V,xe,ke,De,ft,ee,H],encapsulation:2});var uo=xi;var Pa=["vform"];function Fa(o,r){if(o&1&&(n(0,"div",7),g(1,"i",11),n(2,"span",12),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function Ua(o,r){if(o&1&&(n(0,"div",8),g(1,"i",13),n(2,"span",12),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function ja(o,r){if(o&1&&(n(0,"div",9),g(1,"i",14),n(2,"span",12),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function qa(o,r){if(o&1&&(n(0,"div",10),g(1,"i",15),n(2,"span",12),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function Wa(o,r){if(o&1&&ae(0,Fa,4,1,"div",7)(1,Ua,4,1,"div",8)(2,ja,4,1,"div",9)(3,qa,4,1,"div",10),o&2){let e,i=f();le((e=i.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function Ka(o,r){if(o&1){let e=E();n(0,"div",16)(1,"button",17),M("click",function(){C(e);let t=f();return h(t.onFormCancel())}),g(2,"i",18),d(3),_(4,"translate"),a()()}o&2&&(s(3),S(" ",v(4,1,"ACTION.CANCEL")," "))}var Bi=class Bi{constructor(r,e,i,t,c,p,l,A,ne,K){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogSiteCreditBlockedService=t;this.cmsToastrService=c;this.tokenHelper=p;this.cmsStoreService=l;this.cdr=A;this.publicHelper=ne;this.translate=K;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Te;this.dataModelResult=new ie;this.dataModel=new Ht;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new ie;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>x(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Bi.\u0275fac=function(e){return new(e||Bi)(m($),m(Z),m(G),m(At),m(U),m(F),m(P),m(B),m(j),m(O))},Bi.\u0275cmp=k({type:Bi,selectors:[["app-coremodulelog-site-credit-blocked-view"]],viewQuery:function(e,i){if(e&1&&z(Pa,5),e&2){let t;J(t=X())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(n(0,"div",0),d(1),a(),n(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),n(5,"div",4),ae(6,Wa,4,1),a(),n(7,"div",5),b(8,Ka,5,3,"div",6),a()),e&2&&(s(),S(" ",i.formInfo.formTitle," "),s(2),u("optionsInfoAreaId",i.constructorInfoAreaId),s(),u("dataModel",i.dataModel)("optionMethod",1),s(2),le((i.formInfo==null||i.formInfo.submitResultMessage==null?null:i.formInfo.submitResultMessage.length)>0?6:-1),s(2),u("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[V,ee,it,H],encapsulation:2});var fo=Bi;var Qa=()=>[5,10,20,100],za=o=>({display:o});function Ja(o,r){if(o&1){let e=E();n(0,"a",37),M("click",function(){C(e);let t=f();return h(t.onActionBackToParent())}),g(1,"i",38),a()}}function Xa(o,r){if(o&1){let e=E();n(0,"div",39)(1,"a",40),M("click",function(){C(e);let t=f();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",41)(3,"br"),a(),n(4,"p",42),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.VIEW")," "))}function Ya(o,r){if(o&1){let e=E();n(0,"div",39)(1,"a",43),M("click",function(){C(e);let t=f();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",44)(3,"br"),a(),n(4,"p",42),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.EDIT")," "))}function Za(o,r){if(o&1){let e=E();n(0,"div",39)(1,"a",45),M("click",function(){C(e);let t=f();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",46)(3,"br"),a(),n(4,"p",42),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.DELETE")," "))}function $a(o,r){if(o&1){let e=E();n(0,"div",39)(1,"a",40),M("click",function(){C(e);let t=f();return h(t.onActionButtonViewSiteRow(t.tableRowSelected))}),g(2,"i",47)(3,"br"),a(),n(4,"p",42),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.SITE")," "))}function el(o,r){if(o&1&&(n(0,"mat-header-cell",48),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function tl(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.id," ")}}function il(o,r){if(o&1&&(n(0,"mat-header-cell",48),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ol(o,r){if(o&1&&g(0,"select",51),o&2){let e=f().$implicit,i=f();u("contentService",i.contentService)("row",e)("ngStyle",Ie(3,za,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function nl(o,r){if(o&1&&(n(0,"mat-cell",49),_(1,"statusCellClass"),g(2,"i",49),_(3,"statusIconClass"),b(4,ol,1,5,"select",50),a()),o&2){let e=r.$implicit,i=f();u("ngClass",v(1,3,e.recordStatus)),s(2),u("ngClass",v(3,5,e.recordStatus)),s(2),u("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function rl(o,r){if(o&1&&(n(0,"mat-header-cell",48),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function sl(o,r){if(o&1&&(n(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),a()),o&2){let e=r.$implicit;s(),S(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function al(o,r){if(o&1&&(n(0,"mat-header-cell",48),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ll(o,r){if(o&1&&(n(0,"mat-cell",52),d(1),_(2,"localeDateTime"),a()),o&2){let e=r.$implicit;s(),S(" ",v(2,1,e.createdDate)," ")}}function cl(o,r){o&1&&(n(0,"mat-header-cell"),d(1),_(2,"translate"),a()),o&2&&(s(),S(" ",v(2,1,"TITLE.OPTION")," "))}function dl(o,r){if(o&1&&(n(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),d(3,"more_vert"),a()(),g(4,"mat-menu",null,2),a()),o&2){let e=te(5);s(),u("matMenuTriggerFor",e)}}function ml(o,r){o&1&&g(0,"mat-header-row")}function pl(o,r){if(o&1){let e=E();n(0,"mat-row",55),M("click",function(t){let c=C(e).$implicit,p=f();return h(p.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=C(e).$implicit,p=f();return h(p.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=f();Me("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Vi=class Vi extends tt{constructor(e,i,t,c,p,l,A,ne,K,de,It,dt,wt){super(i,new Ht,dt,l,K);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=p;this.tokenHelper=l;this.cdr=A;this.cmsStoreService=ne;this.translate=K;this.router=de;this.pageInfo=It;this.publicHelper=dt;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Re;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","CreatedDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","CreatedDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberUserId")),this.requestLinkSiteId>0){let y=new W;y.propertyName="LinkCmsSiteId",y.value=this.requestLinkSiteId,this.filteModelContent.filters.push(y)}if(this.requestLinkUserId>0){let y=new W;y.propertyName="LinkUserId",y.value=this.requestLinkUserId,this.filteModelContent.filters.push(y)}if(this.requestlinkMemberUserId>0){let y=new W;y.propertyName="linkMemberUserId",y.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(y)}this.optionsSearch.parentMethods={onSubmit:y=>this.onSubmitOptionsSearch(y)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=N.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=N.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ht);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=N.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(fo,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(uo,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(p,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),p=new W;p.propertyName="RecordStatus",p.value=ye.Available,c.filters.push(p),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Vi.\u0275fac=function(i){return new(i||Vi)(m(G),m(At),m(U),m(ve),m(Le),m(F),m(B),m(P),m(O),m(Ae),m(Ze),m(j),m(Ve))},Vi.\u0275cmp=k({type:Vi,selectors:[["app-coremodulelog-site-credit-blocked-list"]],standalone:!1,features:[Q],decls:52,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=E();n(0,"app-cms-html-list",3),L("optionActionGuideNoticeDisplayChange",function(l){return C(c),T(t.viewGuideNotice,l)||(t.viewGuideNotice=l),h(l)}),M("optionOnActionButtonMemoRow",function(){return C(c),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(c),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(c),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(c),h(t.onActionButtonPrintRow())}),I(1,4),d(2," -------------------------------------- "),w(),se(3,5)(4,6),I(5,7),b(6,Ja,2,0,"a",8),n(7,"a",9),M("click",function(){return C(c),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),a(),n(9,"a",9),M("click",function(){return C(c),h(t.onActionButtonReload())}),g(10,"i",11),a(),w(),I(11,12),n(12,"a",13),M("click",function(){return C(c),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),d(14),_(15,"translate"),a(),n(16,"a",13),M("click",function(){return C(c),h(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),d(18),_(19,"translate"),a(),w(),se(20,15),I(21,16),b(22,Xa,7,3,"div",17)(23,Ya,7,3,"div",17)(24,Za,7,3,"div",17)(25,$a,7,3,"div",17),w(),I(26,18),n(27,"app-cms-search-list",19),L("optionsChange",function(l){return C(c),T(t.optionsSearch,l)||(t.optionsSearch=l),h(l)}),a(),n(28,"app-cms-statist-list",19),L("optionsChange",function(l){return C(c),T(t.optionsStatist,l)||(t.optionsStatist=l),h(l)}),a(),w(),I(29,20),n(30,"mat-table",21,0),M("matSortChange",function(){C(c);let l=te(31);return h(t.onTableSortData(l))}),I(32,22),b(33,el,2,1,"mat-header-cell",23)(34,tl,2,1,"mat-cell",24),w(),I(35,25),b(36,il,2,1,"mat-header-cell",23)(37,nl,5,7,"mat-cell",26),w(),I(38,27),b(39,rl,2,1,"mat-header-cell",23)(40,sl,4,5,"mat-cell",24),w(),I(41,28),b(42,al,2,1,"mat-header-cell",23)(43,ll,3,3,"mat-cell",29),w(),I(44,30),b(45,cl,3,3,"mat-header-cell",31)(46,dl,6,1,"mat-cell",32),w(),b(47,ml,1,0,"mat-header-row",33)(48,pl,1,2,"mat-row",34),a(),w(),I(49,35),n(50,"mat-paginator",36,1),M("page",function(l){return C(c),h(t.onTablePageingData(l))}),a(),w(),a()}i&2&&(u("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),u("ngIf",t.requestLinkSiteId>0),s(7),u("checked",t.optionsSearch.data.show),s(),S("",v(15,25,"ACTION.SEARCH")," "),s(3),u("checked",t.optionsStatist.data.show),s(),S("",v(19,27,"ACTION.STATIST")," "),s(4),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),u("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0),s(2),R("options",t.optionsSearch),s(),R("options",t.optionsStatist),s(2),u("dataSource",t.tableSource),s(17),u("matHeaderRowDef",t.tabledisplayedColumns),s(),u("matRowDefColumns",t.tabledisplayedColumns),s(2),u("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(29,Qa)))},dependencies:[we,V,Ee,Be,Ne,oe,Ge,Oe,He,ut,Pe,Fe,Ue,qe,ze,We,je,Je,Ke,Qe,Xe,Ye,ot,nt,rt,st,at,pt,H,St,$e,lt,ct],encapsulation:2});var So=Vi;var ul=["vform"];function fl(o,r){if(o&1&&(n(0,"mat-error"),d(1),n(2,"strong"),d(3),_(4,"translate"),a()()),o&2){let e=f(2);s(),S(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldDescription," is "),s(2),D(v(4,2,"MESSAGE.required"))}}function Sl(o,r){if(o&1){let e=E();n(0,"div",9)(1,"label",10),d(2),a(),n(3,"textarea",11,1),L("ngModelChange",function(t){C(e);let c=f();return T(c.dataModel.description,t)||(c.dataModel.description=t),h(t)}),d(5,"        "),a(),n(6,"em"),d(7),a(),b(8,fl,5,4,"mat-error",12),a()}if(o&2){let e=te(4),i=f();s(2),D(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldDescription),s(),u("placeholder",mi(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),R("ngModel",i.dataModel.description),u("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),s(4),S("",e.value.length," / 500"),s(),u("ngIf",e.errors==null?null:e.errors.required)}}function Cl(o,r){if(o&1){let e=E();n(0,"div",13)(1,"button",14),M("click",function(){C(e);let t=f();return h(t.onFormCancel())}),g(2,"i",15),d(3),_(4,"translate"),a()()}o&2&&(s(3),S(" ",v(4,1,"ACTION.CANCEL")," "))}var Ni=class Ni extends et{constructor(e,i,t,c,p,l,A,ne,K,de){super(c,new Ft,K,de);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogSiteCreditService=c;this.cmsToastrService=p;this.tokenHelper=l;this.cmsStoreService=A;this.cdr=ne;this.publicHelper=K;this.translate=de;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new ie;this.dataModel=new Ft;this.formInfo=new Y;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditService.setAccessLoad(),this.coreModuleLogSiteCreditService.setAccessDataType(_e.Editor),this.coreModuleLogSiteCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ni.\u0275fac=function(i){return new(i||Ni)(m($),m(Z),m(G),m(Dt),m(U),m(F),m(P),m(B),m(j),m(O))},Ni.\u0275cmp=k({type:Ni,selectors:[["app-coremodulelog-site-credit--edit"]],viewQuery:function(i,t){if(i&1&&z(ul,5),i&2){let c;J(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[Q],decls:14,vars:12,consts:[["vform","ngForm"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","10","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(n(0,"div",2),g(1,"app-progress-spinner",3),n(2,"div",4)(3,"p",5),d(4),a(),n(5,"p"),d(6),_(7,"translate"),a(),n(8,"form",null,0),g(10,"app-cms-site-selector",6),_(11,"translate"),b(12,Sl,9,7,"div",7)(13,Cl,5,3,"div",8),a()()()),i&2&&(s(),u("optionsInfoAreaId",t.constructorInfoAreaId),s(3),S(" ",t.formInfo.formTitle," "),s(2),S(" ",v(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(11,10,"TITLE.SITE")),s(2),u("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),s(),u("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[V,xe,ht,gt,ke,jt,qt,_t,De,zi,oe,ft,ee,H],encapsulation:2});var Co=Ni;var hl=["vform"];function gl(o,r){if(o&1&&(n(0,"div",7),g(1,"i",11),n(2,"span",12),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function _l(o,r){if(o&1&&(n(0,"div",8),g(1,"i",13),n(2,"span",12),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function vl(o,r){if(o&1&&(n(0,"div",9),g(1,"i",14),n(2,"span",12),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function Ml(o,r){if(o&1&&(n(0,"div",10),g(1,"i",15),n(2,"span",12),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function bl(o,r){if(o&1&&ae(0,gl,4,1,"div",7)(1,_l,4,1,"div",8)(2,vl,4,1,"div",9)(3,Ml,4,1,"div",10),o&2){let e,i=f();le((e=i.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function Il(o,r){if(o&1){let e=E();n(0,"div",16)(1,"button",17),M("click",function(){C(e);let t=f();return h(t.onFormCancel())}),g(2,"i",18),d(3),_(4,"translate"),a()()}o&2&&(s(3),S(" ",v(4,1,"ACTION.CANCEL")," "))}var Gi=class Gi{constructor(r,e,i,t,c,p,l,A,ne,K){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogSiteCreditService=t;this.cmsToastrService=c;this.tokenHelper=p;this.cmsStoreService=l;this.cdr=A;this.publicHelper=ne;this.translate=K;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Te;this.dataModelResult=new ie;this.dataModel=new Ft;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new ie;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>x(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditService.setAccessLoad(),this.coreModuleLogSiteCreditService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Gi.\u0275fac=function(e){return new(e||Gi)(m($),m(Z),m(G),m(Dt),m(U),m(F),m(P),m(B),m(j),m(O))},Gi.\u0275cmp=k({type:Gi,selectors:[["app-coremodulelog-site-credit--view"]],viewQuery:function(e,i){if(e&1&&z(hl,5),e&2){let t;J(t=X())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(n(0,"div",0),d(1),a(),n(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),n(5,"div",4),ae(6,bl,4,1),a(),n(7,"div",5),b(8,Il,5,3,"div",6),a()),e&2&&(s(),S(" ",i.formInfo.formTitle," "),s(2),u("optionsInfoAreaId",i.constructorInfoAreaId),s(),u("dataModel",i.dataModel)("optionMethod",1),s(2),le((i.formInfo==null||i.formInfo.submitResultMessage==null?null:i.formInfo.submitResultMessage.length)>0?6:-1),s(2),u("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[V,ee,it,H],encapsulation:2});var ho=Gi;var wl=()=>[5,10,20,100],El=o=>({display:o});function yl(o,r){if(o&1){let e=E();n(0,"a",37),M("click",function(){C(e);let t=f();return h(t.onActionBackToParent())}),g(1,"i",38),a()}}function Rl(o,r){if(o&1){let e=E();n(0,"div",39)(1,"a",40),M("click",function(){C(e);let t=f();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",41)(3,"br"),a(),n(4,"p",42),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.VIEW")," "))}function Tl(o,r){if(o&1){let e=E();n(0,"div",39)(1,"a",43),M("click",function(){C(e);let t=f();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",44)(3,"br"),a(),n(4,"p",42),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.EDIT")," "))}function Ll(o,r){if(o&1){let e=E();n(0,"div",39)(1,"a",45),M("click",function(){C(e);let t=f();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",46)(3,"br"),a(),n(4,"p",42),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.DELETE")," "))}function Al(o,r){if(o&1){let e=E();n(0,"div",39)(1,"a",40),M("click",function(){C(e);let t=f();return h(t.onActionButtonViewSiteRow(t.tableRowSelected))}),g(2,"i",47)(3,"br"),a(),n(4,"p",42),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.SITE")," "))}function kl(o,r){if(o&1&&(n(0,"mat-header-cell",48),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Dl(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.id," ")}}function xl(o,r){if(o&1&&(n(0,"mat-header-cell",48),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Bl(o,r){if(o&1&&g(0,"select",51),o&2){let e=f().$implicit,i=f();u("contentService",i.contentService)("row",e)("ngStyle",Ie(3,El,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Vl(o,r){if(o&1&&(n(0,"mat-cell",49),_(1,"statusCellClass"),g(2,"i",49),_(3,"statusIconClass"),b(4,Bl,1,5,"select",50),a()),o&2){let e=r.$implicit,i=f();u("ngClass",v(1,3,e.recordStatus)),s(2),u("ngClass",v(3,5,e.recordStatus)),s(2),u("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Nl(o,r){if(o&1&&(n(0,"mat-header-cell",48),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Gl(o,r){if(o&1&&(n(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),a()),o&2){let e=r.$implicit;s(),S(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Ol(o,r){if(o&1&&(n(0,"mat-header-cell",48),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Hl(o,r){if(o&1&&(n(0,"mat-cell",52),d(1),_(2,"localeDateTime"),a()),o&2){let e=r.$implicit;s(),S(" ",v(2,1,e.createdDate)," ")}}function Pl(o,r){o&1&&(n(0,"mat-header-cell"),d(1),_(2,"translate"),a()),o&2&&(s(),S(" ",v(2,1,"TITLE.OPTION")," "))}function Fl(o,r){if(o&1&&(n(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),d(3,"more_vert"),a()(),g(4,"mat-menu",null,2),a()),o&2){let e=te(5);s(),u("matMenuTriggerFor",e)}}function Ul(o,r){o&1&&g(0,"mat-header-row")}function jl(o,r){if(o&1){let e=E();n(0,"mat-row",55),M("click",function(t){let c=C(e).$implicit,p=f();return h(p.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=C(e).$implicit,p=f();return h(p.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=f();Me("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Oi=class Oi extends tt{constructor(e,i,t,c,p,l,A,ne,K,de,It,dt,wt){super(i,new Ft,dt,l,ne);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=p;this.tokenHelper=l;this.cdr=A;this.translate=ne;this.router=K;this.cmsStoreService=de;this.pageInfo=It;this.publicHelper=dt;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Re;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","CreatedDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","CreatedDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberUserId")),this.requestLinkSiteId>0){let y=new W;y.propertyName="LinkCmsSiteId",y.value=this.requestLinkSiteId,this.filteModelContent.filters.push(y)}if(this.requestLinkUserId>0){let y=new W;y.propertyName="LinkUserId",y.value=this.requestLinkUserId,this.filteModelContent.filters.push(y)}if(this.requestlinkMemberUserId>0){let y=new W;y.propertyName="linkMemberUserId",y.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(y)}this.optionsSearch.parentMethods={onSubmit:y=>this.onSubmitOptionsSearch(y)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=N.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=N.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ft);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=N.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ho,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Co,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(p,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),p=new W;p.propertyName="RecordStatus",p.value=ye.Available,c.filters.push(p),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Oi.\u0275fac=function(i){return new(i||Oi)(m(G),m(Dt),m(U),m(ve),m(Le),m(F),m(B),m(O),m(Ae),m(P),m(Ze),m(j),m(Ve))},Oi.\u0275cmp=k({type:Oi,selectors:[["app-coremodulelog-site-credit--list"]],standalone:!1,features:[Q],decls:52,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=E();n(0,"app-cms-html-list",3),L("optionActionGuideNoticeDisplayChange",function(l){return C(c),T(t.viewGuideNotice,l)||(t.viewGuideNotice=l),h(l)}),M("optionOnActionButtonMemoRow",function(){return C(c),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(c),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(c),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(c),h(t.onActionButtonPrintRow())}),I(1,4),d(2," -------------------------------------- "),w(),se(3,5)(4,6),I(5,7),b(6,yl,2,0,"a",8),n(7,"a",9),M("click",function(){return C(c),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),a(),n(9,"a",9),M("click",function(){return C(c),h(t.onActionButtonReload())}),g(10,"i",11),a(),w(),I(11,12),n(12,"a",13),M("click",function(){return C(c),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),d(14),_(15,"translate"),a(),n(16,"a",13),M("click",function(){return C(c),h(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),d(18),_(19,"translate"),a(),w(),se(20,15),I(21,16),b(22,Rl,7,3,"div",17)(23,Tl,7,3,"div",17)(24,Ll,7,3,"div",17)(25,Al,7,3,"div",17),w(),I(26,18),n(27,"app-cms-search-list",19),L("optionsChange",function(l){return C(c),T(t.optionsSearch,l)||(t.optionsSearch=l),h(l)}),a(),n(28,"app-cms-statist-list",19),L("optionsChange",function(l){return C(c),T(t.optionsStatist,l)||(t.optionsStatist=l),h(l)}),a(),w(),I(29,20),n(30,"mat-table",21,0),M("matSortChange",function(){C(c);let l=te(31);return h(t.onTableSortData(l))}),I(32,22),b(33,kl,2,1,"mat-header-cell",23)(34,Dl,2,1,"mat-cell",24),w(),I(35,25),b(36,xl,2,1,"mat-header-cell",23)(37,Vl,5,7,"mat-cell",26),w(),I(38,27),b(39,Nl,2,1,"mat-header-cell",23)(40,Gl,4,5,"mat-cell",24),w(),I(41,28),b(42,Ol,2,1,"mat-header-cell",23)(43,Hl,3,3,"mat-cell",29),w(),I(44,30),b(45,Pl,3,3,"mat-header-cell",31)(46,Fl,6,1,"mat-cell",32),w(),b(47,Ul,1,0,"mat-header-row",33)(48,jl,1,2,"mat-row",34),a(),w(),I(49,35),n(50,"mat-paginator",36,1),M("page",function(l){return C(c),h(t.onTablePageingData(l))}),a(),w(),a()}i&2&&(u("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),u("ngIf",t.requestLinkSiteId>0),s(7),u("checked",t.optionsSearch.data.show),s(),S("",v(15,25,"ACTION.SEARCH")," "),s(3),u("checked",t.optionsStatist.data.show),s(),S("",v(19,27,"ACTION.STATIST")," "),s(4),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),u("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0),s(2),R("options",t.optionsSearch),s(),R("options",t.optionsStatist),s(2),u("dataSource",t.tableSource),s(17),u("matHeaderRowDef",t.tabledisplayedColumns),s(),u("matRowDefColumns",t.tabledisplayedColumns),s(2),u("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(29,wl)))},dependencies:[we,V,Ee,Be,Ne,oe,Ge,Oe,He,ut,Pe,Fe,Ue,qe,ze,We,je,Je,Ke,Qe,Xe,Ye,ot,nt,rt,st,at,pt,H,St,$e,lt,ct],encapsulation:2});var go=Oi;var ql=["vform"];function Wl(o,r){if(o&1){let e=E();n(0,"div",7)(1,"button",8),M("click",function(){C(e);let t=f();return h(t.onFormCancel())}),g(2,"i",9),d(3),_(4,"translate"),a()()}o&2&&(s(3),S(" ",v(4,1,"ACTION.CANCEL")," "))}var Hi=class Hi extends et{constructor(e,i,t,c,p,l,A,ne,K,de){super(c,new Pt,K,de);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogSiteUserCreditBlockedService=c;this.cmsToastrService=p;this.tokenHelper=l;this.cmsStoreService=A;this.cdr=ne;this.publicHelper=K;this.translate=de;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new vt;this.dataModel=new Pt;this.formInfo=new Y;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteUserCreditBlockedService.setAccessDataType(_e.Editor),this.coreModuleLogSiteUserCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Hi.\u0275fac=function(i){return new(i||Hi)(m($),m(Z),m(G),m(kt),m(U),m(F),m(P),m(B),m(j),m(O))},Hi.\u0275cmp=k({type:Hi,selectors:[["app-coremodulelog-site-user-credit-blocked-edit"]],viewQuery:function(i,t){if(i&1&&z(ql,5),i&2){let c;J(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[Q],decls:13,vars:11,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(n(0,"div",1),g(1,"app-progress-spinner",2),n(2,"div",3)(3,"p",4),d(4),a(),n(5,"p"),d(6),_(7,"translate"),a(),n(8,"form",null,0),g(10,"app-cms-site-selector",5),_(11,"translate"),b(12,Wl,5,3,"div",6),a()()()),i&2&&(s(),u("optionsInfoAreaId",t.constructorInfoAreaId),s(3),S(" ",t.formInfo.formTitle," "),s(2),S(" ",v(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(11,9,"TITLE.SITE")),s(2),u("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[V,xe,ke,De,ft,ee,H],encapsulation:2});var _o=Hi;var Kl=["vform"];function Ql(o,r){if(o&1&&(n(0,"div",9),g(1,"i",13),n(2,"span",14),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function zl(o,r){if(o&1&&(n(0,"div",10),g(1,"i",15),n(2,"span",14),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function Jl(o,r){if(o&1&&(n(0,"div",11),g(1,"i",16),n(2,"span",14),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function Xl(o,r){if(o&1&&(n(0,"div",12),g(1,"i",17),n(2,"span",14),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function Yl(o,r){if(o&1&&ae(0,Ql,4,1,"div",9)(1,zl,4,1,"div",10)(2,Jl,4,1,"div",11)(3,Xl,4,1,"div",12),o&2){let e,i=f();le((e=i.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function Zl(o,r){if(o&1){let e=E();n(0,"div",18)(1,"button",19),M("click",function(){C(e);let t=f();return h(t.onFormCancel())}),g(2,"i",20),d(3),_(4,"translate"),a()()}o&2&&(s(3),S(" ",v(4,1,"ACTION.CANCEL")," "))}var Pi=class Pi{constructor(r,e,i,t,c,p,l,A,ne,K){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogSiteUserCreditBlockedService=t;this.cmsToastrService=c;this.tokenHelper=p;this.cmsStoreService=l;this.cdr=A;this.publicHelper=ne;this.translate=K;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Te;this.dataModelResult=new ie;this.dataModel=new Pt;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new ie;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>x(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteUserCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Pi.\u0275fac=function(e){return new(e||Pi)(m($),m(Z),m(G),m(kt),m(U),m(F),m(P),m(B),m(j),m(O))},Pi.\u0275cmp=k({type:Pi,selectors:[["app-coremodulelog-site-user-credit-blocked-view"]],viewQuery:function(e,i){if(e&1&&z(Kl,5),e&2){let t;J(t=X())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(n(0,"div",0),g(1,"app-progress-spinner",1),n(2,"div",2)(3,"p",3),d(4),a(),n(5,"p"),d(6),_(7,"translate"),a(),n(8,"div",4),g(9,"app-cms-json-list",5),a(),n(10,"div",6),ae(11,Yl,4,1),a(),n(12,"div",7),b(13,Zl,5,3,"div",8),a()()()),e&2&&(s(),u("optionsInfoAreaId",i.constructorInfoAreaId),s(3),S(" ",i.formInfo.formTitle," "),s(2),S(" ",v(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),s(3),u("dataModel",i.dataModel)("optionMethod",1),s(2),le((i.formInfo==null||i.formInfo.submitResultMessage==null?null:i.formInfo.submitResultMessage.length)>0?11:-1),s(2),u("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[V,ee,it,H],encapsulation:2});var vo=Pi;var $l=()=>[5,10,20,100],ec=o=>({display:o});function tc(o,r){if(o&1){let e=E();n(0,"a",38),M("click",function(){C(e);let t=f();return h(t.onActionBackToParent())}),g(1,"i",39),a()}}function ic(o,r){if(o&1){let e=E();n(0,"div",40)(1,"a",41),M("click",function(){C(e);let t=f();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",42)(3,"br"),a(),n(4,"p",43),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.VIEW")," "))}function oc(o,r){if(o&1){let e=E();n(0,"div",40)(1,"a",44),M("click",function(){C(e);let t=f();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",45)(3,"br"),a(),n(4,"p",43),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.EDIT")," "))}function nc(o,r){if(o&1){let e=E();n(0,"div",40)(1,"a",46),M("click",function(){C(e);let t=f();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",47)(3,"br"),a(),n(4,"p",43),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.DELETE")," "))}function rc(o,r){if(o&1){let e=E();n(0,"div",40)(1,"a",41),M("click",function(){C(e);let t=f();return h(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(2,"i",48)(3,"br"),a(),n(4,"p",43),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.USER")," "))}function sc(o,r){if(o&1&&(n(0,"mat-header-cell",49),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ac(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.id," ")}}function lc(o,r){if(o&1&&(n(0,"mat-header-cell",49),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function cc(o,r){if(o&1&&g(0,"select",52),o&2){let e=f().$implicit,i=f();u("contentService",i.contentService)("row",e)("ngStyle",Ie(3,ec,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function dc(o,r){if(o&1&&(n(0,"mat-cell",50),_(1,"statusCellClass"),g(2,"i",50),_(3,"statusIconClass"),b(4,cc,1,5,"select",51),a()),o&2){let e=r.$implicit,i=f();u("ngClass",v(1,3,e.recordStatus)),s(2),u("ngClass",v(3,5,e.recordStatus)),s(2),u("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function mc(o,r){if(o&1&&(n(0,"mat-header-cell",49),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function pc(o,r){if(o&1&&(n(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),a()),o&2){let e=r.$implicit;s(),S(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function uc(o,r){if(o&1&&(n(0,"mat-header-cell",49),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function fc(o,r){if(o&1&&(n(0,"mat-cell"),d(1),_(2,"cmsuserinfo"),_(3,"async"),a()),o&2){let e=r.$implicit;s(),S(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function Sc(o,r){if(o&1&&(n(0,"mat-header-cell",49),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Cc(o,r){if(o&1&&(n(0,"mat-cell",53),d(1),_(2,"localeDateTime"),a()),o&2){let e=r.$implicit;s(),S(" ",v(2,1,e.createdDate)," ")}}function hc(o,r){o&1&&(n(0,"mat-header-cell"),d(1),_(2,"translate"),a()),o&2&&(s(),S(" ",v(2,1,"TITLE.OPTION")," "))}function gc(o,r){if(o&1&&(n(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),d(3,"more_vert"),a()(),g(4,"mat-menu",null,2),a()),o&2){let e=te(5);s(),u("matMenuTriggerFor",e)}}function _c(o,r){o&1&&g(0,"mat-header-row")}function vc(o,r){if(o&1){let e=E();n(0,"mat-row",56),M("click",function(t){let c=C(e).$implicit,p=f();return h(p.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=C(e).$implicit,p=f();return h(p.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=f();Me("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Fi=class Fi extends tt{constructor(e,i,t,c,p,l,A,ne,K,de,It,dt,wt){super(i,new Pt,dt,l,ne);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=p;this.tokenHelper=l;this.cdr=A;this.translate=ne;this.cmsStoreService=K;this.router=de;this.pageInfo=It;this.publicHelper=dt;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Re;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","CreatedDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","CreatedDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberUserId")),this.requestLinkSiteId>0){let y=new W;y.propertyName="LinkCmsSiteId",y.value=this.requestLinkSiteId,this.filteModelContent.filters.push(y)}if(this.requestLinkUserId>0){let y=new W;y.propertyName="LinkUserId",y.value=this.requestLinkUserId,this.filteModelContent.filters.push(y)}if(this.requestlinkMemberUserId>0){let y=new W;y.propertyName="linkMemberUserId",y.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(y)}this.optionsSearch.parentMethods={onSubmit:y=>this.onSubmitOptionsSearch(y)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=N.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=N.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Pt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=N.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(vo,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(_o,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(p,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),p=new W;p.propertyName="RecordStatus",p.value=ye.Available,c.filters.push(p),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Fi.\u0275fac=function(i){return new(i||Fi)(m(G),m(kt),m(U),m(ve),m(Le),m(F),m(B),m(O),m(P),m(Ae),m(Ze),m(j),m(Ve))},Fi.\u0275cmp=k({type:Fi,selectors:[["app-coremodulelog-site-user-credit-blocked-list"]],standalone:!1,features:[Q],decls:56,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=E();n(0,"app-cms-html-list",3),L("optionActionGuideNoticeDisplayChange",function(l){return C(c),T(t.viewGuideNotice,l)||(t.viewGuideNotice=l),h(l)}),M("optionOnActionButtonMemoRow",function(){return C(c),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(c),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(c),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(c),h(t.onActionButtonPrintRow())}),I(1,4),d(2,"id "),d(3," -------------------------------------- "),w(),se(4,5)(5,6),I(6,7),b(7,tc,2,0,"a",8),n(8,"a",9),M("click",function(){return C(c),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",10),a(),n(10,"a",9),M("click",function(){return C(c),h(t.onActionButtonReload())}),g(11,"i",11),a(),w(),I(12,12),n(13,"a",13),M("click",function(){return C(c),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(14,"mat-slide-toggle",14),d(15),_(16,"translate"),a(),n(17,"a",13),M("click",function(){return C(c),h(t.onActionButtonStatist())}),g(18,"mat-slide-toggle",14),d(19),_(20,"translate"),a(),w(),se(21,15),I(22,16),b(23,ic,7,3,"div",17)(24,oc,7,3,"div",17)(25,nc,7,3,"div",17)(26,rc,7,3,"div",17),w(),I(27,18),n(28,"app-cms-search-list",19),L("optionsChange",function(l){return C(c),T(t.optionsSearch,l)||(t.optionsSearch=l),h(l)}),a(),n(29,"app-cms-statist-list",19),L("optionsChange",function(l){return C(c),T(t.optionsStatist,l)||(t.optionsStatist=l),h(l)}),a(),w(),I(30,20),n(31,"mat-table",21,0),M("matSortChange",function(){C(c);let l=te(32);return h(t.onTableSortData(l))}),I(33,22),b(34,sc,2,1,"mat-header-cell",23)(35,ac,2,1,"mat-cell",24),w(),I(36,25),b(37,lc,2,1,"mat-header-cell",23)(38,dc,5,7,"mat-cell",26),w(),I(39,27),b(40,mc,2,1,"mat-header-cell",23)(41,pc,4,5,"mat-cell",24),w(),I(42,28),b(43,uc,2,1,"mat-header-cell",23)(44,fc,4,5,"mat-cell",24),w(),I(45,29),b(46,Sc,2,1,"mat-header-cell",23)(47,Cc,3,3,"mat-cell",30),w(),I(48,31),b(49,hc,3,3,"mat-header-cell",32)(50,gc,6,1,"mat-cell",33),w(),b(51,_c,1,0,"mat-header-row",34)(52,vc,1,2,"mat-row",35),a(),w(),I(53,36),n(54,"mat-paginator",37,1),M("page",function(l){return C(c),h(t.onTablePageingData(l))}),a(),w(),a()}i&2&&(u("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(7),u("ngIf",t.requestLinkSiteId>0),s(7),u("checked",t.optionsSearch.data.show),s(),S("",v(16,25,"ACTION.SEARCH")," "),s(3),u("checked",t.optionsStatist.data.show),s(),S("",v(20,27,"ACTION.STATIST")," "),s(4),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),u("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),s(2),R("options",t.optionsSearch),s(),R("options",t.optionsStatist),s(2),u("dataSource",t.tableSource),s(20),u("matHeaderRowDef",t.tabledisplayedColumns),s(),u("matRowDefColumns",t.tabledisplayedColumns),s(2),u("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(29,$l)))},dependencies:[we,V,Ee,Be,Ne,oe,Ge,Oe,He,ut,Pe,Fe,Ue,qe,ze,We,je,Je,Ke,Qe,Xe,Ye,ot,nt,rt,st,at,pt,H,Mt,St,$e,lt,ct],encapsulation:2});var Mo=Fi;var Mc=["vform"];function bc(o,r){if(o&1&&(n(0,"mat-error"),d(1),n(2,"strong"),d(3),_(4,"translate"),a()()),o&2){let e=f(2);s(),S(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldDescription," is "),s(2),D(v(4,2,"MESSAGE.required"))}}function Ic(o,r){if(o&1){let e=E();n(0,"div",9)(1,"label",10),d(2),a(),n(3,"textarea",11,1),L("ngModelChange",function(t){C(e);let c=f();return T(c.dataModel.description,t)||(c.dataModel.description=t),h(t)}),d(5,"        "),a(),n(6,"em"),d(7),a(),b(8,bc,5,4,"mat-error",12),a()}if(o&2){let e=te(4),i=f();s(2),D(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldDescription),s(),u("placeholder",mi(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),R("ngModel",i.dataModel.description),u("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),s(4),S("",e.value.length," / 500"),s(),u("ngIf",e.errors==null?null:e.errors.required)}}function wc(o,r){if(o&1){let e=E();n(0,"div",13)(1,"button",14),M("click",function(){C(e);let t=f();return h(t.onFormCancel())}),g(2,"i",15),d(3),_(4,"translate"),a()()}o&2&&(s(3),S(" ",v(4,1,"ACTION.CANCEL")," "))}var Ui=class Ui extends et{constructor(e,i,t,c,p,l,A,ne,K,de){super(c,new Ut,K,de);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogSiteUserCreditService=c;this.cmsToastrService=p;this.tokenHelper=l;this.cmsStoreService=A;this.cdr=ne;this.publicHelper=K;this.translate=de;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new ie;this.dataModel=new Ut;this.formInfo=new Y;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditService.setAccessLoad(),this.coreModuleLogSiteUserCreditService.setAccessDataType(_e.Editor),this.coreModuleLogSiteUserCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ui.\u0275fac=function(i){return new(i||Ui)(m($),m(Z),m(G),m(xt),m(U),m(F),m(P),m(B),m(j),m(O))},Ui.\u0275cmp=k({type:Ui,selectors:[["app-coremodulelog-site-user-credit--edit"]],viewQuery:function(i,t){if(i&1&&z(Mc,5),i&2){let c;J(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[Q],decls:14,vars:12,consts:[["vform","ngForm"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","10","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(n(0,"div",2),g(1,"app-progress-spinner",3),n(2,"div",4)(3,"p",5),d(4),a(),n(5,"p"),d(6),_(7,"translate"),a(),n(8,"form",null,0),g(10,"app-cms-site-selector",6),_(11,"translate"),b(12,Ic,9,7,"div",7)(13,wc,5,3,"div",8),a()()()),i&2&&(s(),u("optionsInfoAreaId",t.constructorInfoAreaId),s(3),S(" ",t.formInfo.formTitle," "),s(2),S(" ",v(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(11,10,"TITLE.SITE")),s(2),u("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),s(),u("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[V,xe,ht,gt,ke,jt,qt,_t,De,zi,oe,ft,ee,H],encapsulation:2});var bo=Ui;var Ec=["vform"];function yc(o,r){if(o&1&&(n(0,"div",9),g(1,"i",13),n(2,"span",14),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function Rc(o,r){if(o&1&&(n(0,"div",10),g(1,"i",15),n(2,"span",14),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function Tc(o,r){if(o&1&&(n(0,"div",11),g(1,"i",16),n(2,"span",14),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function Lc(o,r){if(o&1&&(n(0,"div",12),g(1,"i",17),n(2,"span",14),d(3),a()()),o&2){let e=f(2);s(3),D(e.formInfo.submitResultMessage)}}function Ac(o,r){if(o&1&&ae(0,yc,4,1,"div",9)(1,Rc,4,1,"div",10)(2,Tc,4,1,"div",11)(3,Lc,4,1,"div",12),o&2){let e,i=f();le((e=i.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function kc(o,r){if(o&1){let e=E();n(0,"div",18)(1,"button",19),M("click",function(){C(e);let t=f();return h(t.onFormCancel())}),g(2,"i",20),d(3),_(4,"translate"),a()()}o&2&&(s(3),S(" ",v(4,1,"ACTION.CANCEL")," "))}var ji=class ji{constructor(r,e,i,t,c,p,l,A,ne,K){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogSiteUserCreditService=t;this.cmsToastrService=c;this.tokenHelper=p;this.cmsStoreService=l;this.cdr=A;this.publicHelper=ne;this.translate=K;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Te;this.dataModelResult=new ie;this.dataModel=new Ut;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new ie;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>x(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditService.setAccessLoad(),this.coreModuleLogSiteUserCreditService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ji.\u0275fac=function(e){return new(e||ji)(m($),m(Z),m(G),m(xt),m(U),m(F),m(P),m(B),m(j),m(O))},ji.\u0275cmp=k({type:ji,selectors:[["app-coremodulelog-site-user-credit--view"]],viewQuery:function(e,i){if(e&1&&z(Ec,5),e&2){let t;J(t=X())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(n(0,"div",0),g(1,"app-progress-spinner",1),n(2,"div",2)(3,"p",3),d(4),a(),n(5,"p"),d(6),_(7,"translate"),a(),n(8,"div",4),g(9,"app-cms-json-list",5),a(),n(10,"div",6),ae(11,Ac,4,1),a(),n(12,"div",7),b(13,kc,5,3,"div",8),a()()()),e&2&&(s(),u("optionsInfoAreaId",i.constructorInfoAreaId),s(3),S(" ",i.formInfo.formTitle," "),s(2),S(" ",v(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),s(3),u("dataModel",i.dataModel)("optionMethod",1),s(2),le((i.formInfo==null||i.formInfo.submitResultMessage==null?null:i.formInfo.submitResultMessage.length)>0?11:-1),s(2),u("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[V,ee,it,H],encapsulation:2});var Io=ji;var Dc=()=>[5,10,20,100],xc=o=>({display:o});function Bc(o,r){if(o&1){let e=E();n(0,"a",38),M("click",function(){C(e);let t=f();return h(t.onActionBackToParent())}),g(1,"i",39),a()}}function Vc(o,r){if(o&1){let e=E();n(0,"div",40)(1,"a",41),M("click",function(){C(e);let t=f();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",42)(3,"br"),a(),n(4,"p",43),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.VIEW")," "))}function Nc(o,r){if(o&1){let e=E();n(0,"div",40)(1,"a",44),M("click",function(){C(e);let t=f();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",45)(3,"br"),a(),n(4,"p",43),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.EDIT")," "))}function Gc(o,r){if(o&1){let e=E();n(0,"div",40)(1,"a",46),M("click",function(){C(e);let t=f();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",47)(3,"br"),a(),n(4,"p",43),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.DELETE")," "))}function Oc(o,r){if(o&1){let e=E();n(0,"div",40)(1,"a",41),M("click",function(){C(e);let t=f();return h(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(2,"i",48)(3,"br"),a(),n(4,"p",43),d(5),_(6,"translate"),a()()}o&2&&(s(5),S(" ",v(6,1,"ACTION.USER")," "))}function Hc(o,r){if(o&1&&(n(0,"mat-header-cell",49),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Pc(o,r){if(o&1&&(n(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;s(),S(" ",e.id," ")}}function Fc(o,r){if(o&1&&(n(0,"mat-header-cell",49),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Uc(o,r){if(o&1&&g(0,"select",52),o&2){let e=f().$implicit,i=f();u("contentService",i.contentService)("row",e)("ngStyle",Ie(3,xc,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function jc(o,r){if(o&1&&(n(0,"mat-cell",50),_(1,"statusCellClass"),g(2,"i",50),_(3,"statusIconClass"),b(4,Uc,1,5,"select",51),a()),o&2){let e=r.$implicit,i=f();u("ngClass",v(1,3,e.recordStatus)),s(2),u("ngClass",v(3,5,e.recordStatus)),s(2),u("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function qc(o,r){if(o&1&&(n(0,"mat-header-cell",49),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Wc(o,r){if(o&1&&(n(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),a()),o&2){let e=r.$implicit;s(),S(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Kc(o,r){if(o&1&&(n(0,"mat-header-cell",49),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Qc(o,r){if(o&1&&(n(0,"mat-cell"),d(1),_(2,"cmsuserinfo"),_(3,"async"),a()),o&2){let e=r.$implicit;s(),S(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function zc(o,r){if(o&1&&(n(0,"mat-header-cell",49),d(1),a()),o&2){let e=f();s(),S(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Jc(o,r){if(o&1&&(n(0,"mat-cell",53),d(1),_(2,"localeDateTime"),a()),o&2){let e=r.$implicit;s(),S(" ",v(2,1,e.createdDate)," ")}}function Xc(o,r){o&1&&(n(0,"mat-header-cell"),d(1),_(2,"translate"),a()),o&2&&(s(),S(" ",v(2,1,"TITLE.OPTION")," "))}function Yc(o,r){if(o&1&&(n(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),d(3,"more_vert"),a()(),g(4,"mat-menu",null,2),a()),o&2){let e=te(5);s(),u("matMenuTriggerFor",e)}}function Zc(o,r){o&1&&g(0,"mat-header-row")}function $c(o,r){if(o&1){let e=E();n(0,"mat-row",56),M("click",function(t){let c=C(e).$implicit,p=f();return h(p.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=C(e).$implicit,p=f();return h(p.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=f();Me("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var qi=class qi extends tt{constructor(e,i,t,c,p,l,A,ne,K,de,It,dt,wt){super(i,new Ut,dt,A,K);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=p;this.cmsStoreService=l;this.tokenHelper=A;this.cdr=ne;this.translate=K;this.router=de;this.pageInfo=It;this.publicHelper=dt;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Re;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","CreatedDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","CreatedDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberUserId")),this.requestLinkSiteId>0){let y=new W;y.propertyName="LinkCmsSiteId",y.value=this.requestLinkSiteId,this.filteModelContent.filters.push(y)}if(this.requestLinkUserId>0){let y=new W;y.propertyName="LinkUserId",y.value=this.requestLinkUserId,this.filteModelContent.filters.push(y)}if(this.requestlinkMemberUserId>0){let y=new W;y.propertyName="linkMemberUserId",y.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(y)}this.optionsSearch.parentMethods={onSubmit:y=>this.onSubmitOptionsSearch(y)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=N.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=N.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ut);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=N.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Io,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(bo,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(p,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),p=new W;p.propertyName="RecordStatus",p.value=ye.Available,c.filters.push(p),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};qi.\u0275fac=function(i){return new(i||qi)(m(G),m(xt),m(U),m(ve),m(Le),m(P),m(F),m(B),m(O),m(Ae),m(Ze),m(j),m(Ve))},qi.\u0275cmp=k({type:qi,selectors:[["app-coremodulelog-site-user-credit--list"]],standalone:!1,features:[Q],decls:55,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=E();n(0,"app-cms-html-list",3),L("optionActionGuideNoticeDisplayChange",function(l){return C(c),T(t.viewGuideNotice,l)||(t.viewGuideNotice=l),h(l)}),M("optionOnActionButtonMemoRow",function(){return C(c),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(c),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(c),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(c),h(t.onActionButtonPrintRow())}),I(1,4),d(2," -------------------------------------- "),w(),se(3,5)(4,6),I(5,7),b(6,Bc,2,0,"a",8),n(7,"a",9),M("click",function(){return C(c),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),a(),n(9,"a",9),M("click",function(){return C(c),h(t.onActionButtonReload())}),g(10,"i",11),a(),w(),I(11,12),n(12,"a",13),M("click",function(){return C(c),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),d(14),_(15,"translate"),a(),n(16,"a",13),M("click",function(){return C(c),h(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),d(18),_(19,"translate"),a(),w(),se(20,15),I(21,16),b(22,Vc,7,3,"div",17)(23,Nc,7,3,"div",17)(24,Gc,7,3,"div",17)(25,Oc,7,3,"div",17),w(),I(26,18),n(27,"app-cms-search-list",19),L("optionsChange",function(l){return C(c),T(t.optionsSearch,l)||(t.optionsSearch=l),h(l)}),a(),n(28,"app-cms-statist-list",19),L("optionsChange",function(l){return C(c),T(t.optionsStatist,l)||(t.optionsStatist=l),h(l)}),a(),w(),I(29,20),n(30,"mat-table",21,0),M("matSortChange",function(){C(c);let l=te(31);return h(t.onTableSortData(l))}),I(32,22),b(33,Hc,2,1,"mat-header-cell",23)(34,Pc,2,1,"mat-cell",24),w(),I(35,25),b(36,Fc,2,1,"mat-header-cell",23)(37,jc,5,7,"mat-cell",26),w(),I(38,27),b(39,qc,2,1,"mat-header-cell",23)(40,Wc,4,5,"mat-cell",24),w(),I(41,28),b(42,Kc,2,1,"mat-header-cell",23)(43,Qc,4,5,"mat-cell",24),w(),I(44,29),b(45,zc,2,1,"mat-header-cell",23)(46,Jc,3,3,"mat-cell",30),w(),I(47,31),b(48,Xc,3,3,"mat-header-cell",32)(49,Yc,6,1,"mat-cell",33),w(),b(50,Zc,1,0,"mat-header-row",34)(51,$c,1,2,"mat-row",35),a(),w(),I(52,36),n(53,"mat-paginator",37,1),M("page",function(l){return C(c),h(t.onTablePageingData(l))}),a(),w(),a()}i&2&&(u("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),u("ngIf",t.requestLinkSiteId>0),s(7),u("checked",t.optionsSearch.data.show),s(),S("",v(15,25,"ACTION.SEARCH")," "),s(3),u("checked",t.optionsStatist.data.show),s(),S("",v(19,27,"ACTION.STATIST")," "),s(4),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),u("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),s(2),R("options",t.optionsSearch),s(),R("options",t.optionsStatist),s(2),u("dataSource",t.tableSource),s(20),u("matHeaderRowDef",t.tabledisplayedColumns),s(),u("matRowDefColumns",t.tabledisplayedColumns),s(2),u("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(29,Dc)))},dependencies:[we,V,Ee,Be,Ne,oe,Ge,Oe,He,ut,Pe,Fe,Ue,qe,ze,We,je,Je,Ke,Qe,Xe,Ye,ot,nt,rt,st,at,pt,H,Mt,St,$e,lt,ct],encapsulation:2});var wo=qi;var ed=[{path:"",component:Xi,data:{title:"ROUTE.COREMODULELOG"},children:[{path:"report-abuse",component:ro,data:{title:"ROUTE.COREMODULELOG"}},{path:"show-key",component:po,data:{title:"ROUTE.COREMODULELOG"}},{path:"favorite",component:$i,data:{title:"ROUTE.COREMODULELOG.FAVORITE"}},{path:"like",component:io,data:{title:"ROUTE.COREMODULELOG.LIKE"}},{path:"score",component:lo,data:{title:"ROUTE.COREMODULELOG.SCORE"}},{path:"site-credit",component:go,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-user-credit",component:wo,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-credit-blocked",component:So,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-user-credit-blocked",component:Mo,data:{title:"ROUTE.COREMODULELOG"}}]}],Si=class Si{};Si.\u0275fac=function(e){return new(e||Si)},Si.\u0275mod=Qi({type:Si}),Si.\u0275inj=Ki({imports:[yo.forChild(ed),yo]});var Eo=Si;var Ci=class Ci{};Ci.\u0275fac=function(e){return new(e||Ci)},Ci.\u0275mod=Qi({type:Ci}),Ci.\u0275inj=Ki({providers:[Ao,ko,Do,xo,Bo,Rt,Vo,yt,No,Lt,Tt,Et,At,kt,Dt,xt,ve],imports:[Eo,Lo,Oo,Ho.withConfig({warnOnNgModelWithFormControl:"never"}),Wo,Ko,Qo,qo]});var Jo=Ci;export{Jo as CoreModuleLogModule};
