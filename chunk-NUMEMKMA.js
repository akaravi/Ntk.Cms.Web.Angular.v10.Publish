import{a as Go}from"./chunk-HTJG366C.js";import{a as Bo,b as Fo,c as sr}from"./chunk-4W2ZDIRQ.js";import{c as ko,i as rr,j as lr,m as Wi,o as Hi,p as tn,r as nn,s as on,t as dr,u as cr}from"./chunk-GD4QHCZB.js";import"./chunk-E2IGJCUJ.js";import"./chunk-RVWR7NO3.js";import"./chunk-2JTWFKVB.js";import"./chunk-AFBRSKFL.js";import{a as Vo}from"./chunk-WBY26EFE.js";import{a as Lo}from"./chunk-VSBLH3EH.js";import"./chunk-NJHE727P.js";import{a as pr}from"./chunk-DOWQFGE2.js";import"./chunk-SAVYCYMJ.js";import{a as or}from"./chunk-AXPWVDZN.js";import{a as St,b as ar}from"./chunk-KAKXUO64.js";import{a as nr}from"./chunk-BXVNH2ZO.js";import{a as xo}from"./chunk-J3B2CJCZ.js";import"./chunk-CLFVUVK4.js";import{a as Ya}from"./chunk-EEIJQEQ3.js";import{a as Do}from"./chunk-2UBVCYDX.js";import{a as ir}from"./chunk-ZRJDZEMA.js";import{a as tr}from"./chunk-LVLBUU5Z.js";import{a as er}from"./chunk-4SOZPASS.js";import"./chunk-EGBMIRON.js";import{a as $a}from"./chunk-3IDV2HIZ.js";import{a as Ja}from"./chunk-6OOUIFP7.js";import{a as Xa}from"./chunk-5PGIHI7G.js";import{c as st,d as dt,e as ct,f as Po,g as pt,h as mt}from"./chunk-35JUN3LB.js";import{a as wt}from"./chunk-7HF25NU4.js";import"./chunk-E5FIWGWV.js";import{j as gt,k as ht,l as _t}from"./chunk-K6R5KLLV.js";import"./chunk-KNTHX32W.js";import{a as Ae}from"./chunk-QQASZTWY.js";import{a as Tt}from"./chunk-Q2QA4ZTY.js";import"./chunk-GQQOYU4Q.js";import"./chunk-JHUBPGKZ.js";import{b as Ka}from"./chunk-GNDDMYF7.js";import{a as Ct}from"./chunk-HTLJNZF6.js";import"./chunk-2DJLLHEJ.js";import"./chunk-IXPEP4O3.js";import{a as Ro}from"./chunk-ABPLGNRY.js";import{a as Oe}from"./chunk-IPNZEP47.js";import{a as Ce}from"./chunk-WFUYKU73.js";import{a as ae,d as _e}from"./chunk-5K55RFP4.js";import{b as za,e as lt,f as N}from"./chunk-EF7DKNFT.js";import{$ as Oi,$a as oe,A as Fi,Ab as Xe,Ba as Io,Bb as $e,Ca as bo,Cb as et,D as So,Da as To,Db as tt,E as yo,Eb as it,Fb as nt,G as Mo,Gb as ot,H as Eo,Hb as at,I as vo,Ib as rt,J as re,K as fe,Ka as Te,L as ge,La as we,Lc as le,Ma as He,N as La,O as ka,Ob as Oa,Oc as se,Pb as Na,Q as Gi,Qb as Wa,Qc as G,Rb as Ha,Sb as Ua,Sc as Wt,Tb as ja,Tc as Za,V as $i,W as he,Wb as F,Xb as W,Ya as Ba,Z as Ne,Za as ye,_ as en,_a as Fa,a as go,aa as Ni,ac as qa,ba as We,bb as wo,c as Da,cb as Ao,d as ho,eb as qe,f as _o,fb as Qe,hc as bt,i as Co,ib as Ze,ic as Qa,k as xa,m as Vt,n as ee,nb as ze,pb as Ke,q as te,qb as Je,r as ce,sa as Va,t as pe,u as Xt,ua as $t,v as me,va as ei,w as ue,x as ft,xa as ti,ya as ii,yb as Ga,zb as Ye}from"./chunk-4ZDW4SNU.js";import{$d as It,$e as Sa,$n as Li,Ab as g,Bb as fa,Ca as z,Cb as ra,Cd as ro,Dd as Ue,Eb as K,F as Ti,Fa as o,Fb as J,Gb as Y,Gd as vt,Ha as Ot,Hd as Le,Hn as lo,I as ua,In as sa,Jn as Mi,Kb as x,Lb as ie,Lc as Z,Ld as q,Mb as ne,Md as Q,Oa as C,P as wi,Pb as c,Pd as jt,Q as Ai,Qb as A,Qg as ya,Rb as h,Rc as Nt,Rd as Yi,Sa as V,Sb as Ji,Sn as Ea,Ta as co,Tc as Kt,Tn as Pi,Ud as qt,Un as va,Vb as b,Vn as Ia,Wa as U,Wb as T,Wn as ba,Xb as w,Xn as Ta,Y as so,Ya as L,Yb as R,Yd as B,Yn as uo,Zb as ui,Zn as Di,_c as ga,_n as xi,ac as X,ag as mo,ao as ki,bc as Ft,bo as wa,cn as fi,co as Jt,da as p,db as oo,do as Aa,ea as m,fb as y,fc as S,gb as M,gc as E,gn as la,go as fo,hc as ao,hn as gi,ib as Pe,in as hi,io as Ra,jb as De,jd as ha,kb as xe,kg as Xi,lb as f,ln as _i,lo as Vi,mb as l,mn as Ci,mo as kt,mr as j,nb as r,ob as _,oe as po,p as ma,q as bi,re as $,rh as Ma,ro as Pa,sb as P,sn as Si,so as Bi,tb as D,to as Qt,ub as Fe,ud as Ri,uo as Yt,vb as I,vd as _a,ve as Ca,wd as Ge,yb as v,yc as O,yn as Lt,zn as yi}from"./chunk-GC7IBVIU.js";import{i as ke}from"./chunk-SEDBTTTN.js";var Er=["tagInput"];function vr(n,d){if(n&1){let t=I();l(0,"mat-chip",8),v("removed",function(){let e=p(t).$implicit,a=g();return m(a.remove(e))}),c(1),l(2,"button",9)(3,"mat-icon"),c(4,"cancel"),r()()()}if(n&2){let t=d.$implicit;o(),h(" ",t.display," ")}}function Ir(n,d){if(n&1&&(l(0,"mat-option",7),c(1),r()),n&2){let t=d.$implicit;f("value",t),o(),h(" ",t.display," ")}}var an=class an{constructor(d,t,i){this.service=d;this.cmsToastrService=t;this.translate=i;this.constructorInfoAreaId=this.constructor.name;this.optionDisabled=!1;this.optionPlaceholder="+ Tag";this.optionLabel="";this.optionChange=new Ot;this.tagDataModel=[];this.tagLastDataModel=[];this.selectForceStatus=!0;this.separatorKeysCodes=[13];this.tagCtrl=new Xt("");this.addOnBlur=!0;this.filteredOptions=this.tagCtrl.valueChanges.pipe(wi(null),Ti(400),Ai(e=>this.filter(e||"")))}set optionSelectForce(d){this.onActionSelectForce(d)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}filter(d){let t=new Q;t.rowPerPage=20,t.accessLoad=!0;let i=new q;return d&&d.length>0&&(i.propertyName="title",i.value=d,i.searchType=qt.Contains,i.clauseType=jt.Or,t.filters.push(i)),d&&typeof d=="string"&&d.length>10&&(i=new q,i.propertyName="id",i.value=d,i.searchType=qt.Equal,i.clauseType=jt.Or,t.filters.push(i)),this.service.ServiceGetAll(t).pipe(bi(e=>(this.tagLastDataModel=e.listItems.map(a=>({display:a.titleML,value:a.id})),this.tagLastDataModel)))}checkIndex(d){let t=0,i=-1;return this.tagDataModel.forEach(e=>{e.value==d&&(i=t),t++}),i}add(d){let t;d.value&&this.tagLastDataModel.forEach(i=>{(i.display==d.value||i.value+""==d.value)&&(t=i)}),t&&this.checkIndex(t.value)<0&&(this.tagDataModel.push(t),this.onActionChange()),d.chipInput.clear(),this.tagCtrl.setValue(null)}remove(d){let t=this.checkIndex(d.value);t>=0&&(this.tagDataModel.splice(t,1),this.onActionChange())}selected(d){let t=d.option.value;this.checkIndex(t.value)<0&&this.tagDataModel.push(t),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let d=[];this.tagDataModel.forEach(t=>{d.findIndex(i=>i==t.value)<0&&d.push(t.value)}),this.selectForceStatus=!1,this.optionChange.emit(d)}onActionSelectForce(d){if(!this.selectForceStatus||!d||d.length===0)return;let t=new Q;d.forEach(i=>{if(i.length>0){let e=new q;e.propertyName="id",e.value=i,e.clauseType=jt.Or,t.filters.push(e)}}),this.service.ServiceGetAll(t).subscribe({next:i=>{i.isSuccess?i.listItems.forEach(e=>{this.tagDataModel.findIndex(a=>a.value==e.id)<0&&this.tagDataModel.push({value:e.id,display:e.titleML})}):this.cmsToastrService.typeErrorGetAll(i.errorMessage)},error:i=>{this.cmsToastrService.typeErrorGetAll(i)}})}};an.\u0275fac=function(t){return new(t||an)(C(Qt),C(G),C(F))},an.\u0275cmp=V({type:an,selectors:[["app-estate-property-type-landuse-autocomplete"]],viewQuery:function(t,i){if(t&1&&K(Er,5),t&2){let e;J(e=Y())&&(i.tagInput=e.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,decls:14,vars:10,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value"],[3,"removed"],["type","button","matChipRemove",""]],template:function(t,i){if(t&1){let e=I();l(0,"mat-form-field",3)(1,"mat-label"),c(2),r(),l(3,"mat-chip-grid",4,0),De(5,vr,5,1,"mat-chip",null,Pe),l(7,"input",5,1),v("matChipInputTokenEnd",function(u){return p(e),m(i.add(u))}),r()(),l(9,"mat-autocomplete",6,2),v("optionSelected",function(u){return p(e),m(i.selected(u))}),De(11,Ir,2,2,"mat-option",7,Pe),S(13,"async"),r()()}if(t&2){let e=x(4),a=x(10);o(2),A(i.optionLabel),o(),f("disabled",i.optionDisabled),o(2),xe(i.tagDataModel),o(2),f("placeholder"," + "+i.optionPlaceholder)("matChipInputAddOnBlur",i.addOnBlur)("formControl",i.tagCtrl)("matAutocomplete",a)("matChipInputFor",e)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes),o(4),xe(E(13,8,i.filteredOptions))}},dependencies:[ee,te,Fi,Oi,Gi,Ni,ei,ti,ii,$t,en,$i,ye,Kt],encapsulation:2});var rn=an;var br=["tagInput"];function Tr(n,d){if(n&1){let t=I();l(0,"mat-chip",8),v("removed",function(){let e=p(t).$implicit,a=g();return m(a.remove(e))}),c(1),l(2,"button",9)(3,"mat-icon"),c(4,"cancel"),r()()()}if(n&2){let t=d.$implicit;o(),h(" ",t.display," ")}}function wr(n,d){if(n&1&&(l(0,"mat-option",7),c(1),r()),n&2){let t=d.$implicit;f("value",t),o(),h(" ",t.display," ")}}var ln=class ln{constructor(d,t,i){this.service=d;this.cmsToastrService=t;this.translate=i;this.constructorInfoAreaId=this.constructor.name;this.optionDisabled=!1;this.optionPlaceholder="+ Tag";this.optionLabel="";this.optionChange=new Ot;this.tagDataModel=[];this.tagLastDataModel=[];this.selectForceStatus=!0;this.separatorKeysCodes=[13];this.tagCtrl=new Xt("");this.addOnBlur=!0;this.filteredOptions=this.tagCtrl.valueChanges.pipe(wi(null),Ti(400),Ai(e=>this.filter(e||"")))}set optionSelectForce(d){this.onActionSelectForce(d)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}filter(d){let t=new Q;t.rowPerPage=20,t.accessLoad=!0;let i=new q;return d&&d.length>0&&(i.propertyName="title",i.value=d,i.searchType=qt.Contains,i.clauseType=jt.Or,t.filters.push(i)),d&&typeof d=="string"&&d.length>10&&(i=new q,i.propertyName="id",i.value=d,i.searchType=qt.Equal,i.clauseType=jt.Or,t.filters.push(i)),this.service.ServiceGetAll(t).pipe(bi(e=>(this.tagLastDataModel=e.listItems.map(a=>({display:a.titleML,value:a.id})),this.tagLastDataModel)))}checkIndex(d){var t=0,i=-1;return this.tagDataModel.forEach(e=>{e.value==d&&(i=t),t++}),i}add(d){var t;d.value&&this.tagLastDataModel.forEach(i=>{(i.display==d.value||i.value+""==d.value)&&(t=i)}),t&&this.checkIndex(t.value)<0&&(this.tagDataModel.push(t),this.onActionChange()),d.chipInput.clear(),this.tagCtrl.setValue(null)}remove(d){let t=this.checkIndex(d.value);t>=0&&(this.tagDataModel.splice(t,1),this.onActionChange())}selected(d){let t=d.option.value;this.checkIndex(t.value)<0&&this.tagDataModel.push(t),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let d=[];this.tagDataModel.forEach(t=>{d.findIndex(i=>i==t.value)<0&&d.push(t.value)}),this.selectForceStatus=!1,this.optionChange.emit(d)}onActionSelectForce(d){if(!this.selectForceStatus||!d||d.length===0)return;let t=new Q;d.forEach(i=>{if(i.length>0){let e=new q;e.propertyName="id",e.value=i,e.clauseType=jt.Or,t.filters.push(e)}}),this.service.ServiceGetAll(t).subscribe({next:i=>{i.isSuccess?i.listItems.forEach(e=>{this.tagDataModel.findIndex(a=>a.value==e.id)<0&&this.tagDataModel.push({value:e.id,display:e.titleML})}):this.cmsToastrService.typeErrorGetAll(i.errorMessage)},error:i=>{this.cmsToastrService.typeErrorGetAll(i)}})}};ln.\u0275fac=function(t){return new(t||ln)(C(Yt),C(G),C(F))},ln.\u0275cmp=V({type:ln,selectors:[["app-estate-property-type-usage-autocomplete"]],viewQuery:function(t,i){if(t&1&&K(br,5),t&2){let e;J(e=Y())&&(i.tagInput=e.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,decls:14,vars:10,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value"],[3,"removed"],["type","button","matChipRemove",""]],template:function(t,i){if(t&1){let e=I();l(0,"mat-form-field",3)(1,"mat-label"),c(2),r(),l(3,"mat-chip-grid",4,0),De(5,Tr,5,1,"mat-chip",null,Pe),l(7,"input",5,1),v("matChipInputTokenEnd",function(u){return p(e),m(i.add(u))}),r()(),l(9,"mat-autocomplete",6,2),v("optionSelected",function(u){return p(e),m(i.selected(u))}),De(11,wr,2,2,"mat-option",7,Pe),S(13,"async"),r()()}if(t&2){let e=x(4),a=x(10);o(2),A(i.optionLabel),o(),f("disabled",i.optionDisabled),o(2),xe(i.tagDataModel),o(2),f("placeholder"," + "+i.optionPlaceholder)("matChipInputAddOnBlur",i.addOnBlur)("formControl",i.tagCtrl)("matAutocomplete",a)("matChipInputFor",e)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes),o(4),xe(E(13,8,i.filteredOptions))}},dependencies:[ee,te,Fi,Oi,Gi,Ni,ei,ti,ii,$t,en,$i,ye,Kt],encapsulation:2});var sn=ln;var Ar=["tagInput"];function Rr(n,d){if(n&1){let t=I();l(0,"mat-chip",8),v("removed",function(){let e=p(t).$implicit,a=g();return m(a.remove(e))}),c(1),l(2,"button",9)(3,"mat-icon"),c(4,"cancel"),r()()()}if(n&2){let t=d.$implicit;o(),h(" ",t.display," ")}}function Pr(n,d){if(n&1&&(l(0,"mat-option",7),c(1),r()),n&2){let t=d.$implicit;f("value",t),o(),h(" ",t.display," ")}}var dn=class dn{constructor(d,t,i){this.service=d;this.cmsToastrService=t;this.translate=i;this.constructorInfoAreaId=this.constructor.name;this.optionDisabled=!1;this.optionPlaceholder="+ Tag";this.optionLabel="";this.optionChange=new Ot;this.tagDataModel=[];this.tagLastDataModel=[];this.selectForceStatus=!0;this.separatorKeysCodes=[13];this.tagCtrl=new Xt("");this.addOnBlur=!0;this.filteredOptions=this.tagCtrl.valueChanges.pipe(wi(null),Ti(400),Ai(e=>this.filter(e||"")))}set optionSelectForce(d){this.onActionSelectForce(d)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}filter(d){let t=new Q;t.rowPerPage=20,t.accessLoad=!0;let i=new q;return i.propertyName="title",i.value=d,i.searchType=qt.Contains,i.clauseType=jt.Or,t.filters.push(i),d&&typeof+d=="number"&&+d>0&&(i=new q,i.propertyName="id",i.value=d,i.searchType=qt.Equal,i.clauseType=jt.Or,t.filters.push(i)),this.service.ServiceGetAll(t).pipe(bi(e=>(this.tagLastDataModel=e.listItems.map(a=>({display:a.titleML,value:a.id})),this.tagLastDataModel)))}checkIndex(d){var t=0,i=-1;return this.tagDataModel.forEach(e=>{e.value==d&&(i=t),t++}),i}add(d){var t;d.value&&this.tagLastDataModel.forEach(i=>{(i.display==d.value||i.value+""==d.value)&&(t=i)}),t&&this.checkIndex(t.value)<0&&(this.tagDataModel.push(t),this.onActionChange()),d.chipInput.clear(),this.tagCtrl.setValue(null)}remove(d){let t=this.checkIndex(d.value);t>=0&&(this.tagDataModel.splice(t,1),this.onActionChange())}selected(d){let t=d.option.value;this.checkIndex(t.value)<0&&this.tagDataModel.push(t),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let d=[];this.tagDataModel.forEach(t=>{d.findIndex(i=>i==t.value)<0&&d.push(t.value)}),this.selectForceStatus=!1,this.optionChange.emit(d)}onActionSelectForce(d){if(!this.selectForceStatus||!d||d.length===0)return;let t=new Q;d.forEach(i=>{if(i.length>0){let e=new q;e.propertyName="id",e.value=i,e.clauseType=jt.Or,t.filters.push(e)}}),this.service.ServiceGetAll(t).subscribe({next:i=>{i.isSuccess?i.listItems.forEach(e=>{this.tagDataModel.findIndex(a=>a.value==e.id)<0&&this.tagDataModel.push({value:e.id,display:e.titleML})}):this.cmsToastrService.typeErrorGetAll(i.errorMessage)},error:i=>{this.cmsToastrService.typeErrorGetAll(i)}})}};dn.\u0275fac=function(t){return new(t||dn)(C(Jt),C(G),C(F))},dn.\u0275cmp=V({type:dn,selectors:[["app-estate-contract-type-autocomplete"]],viewQuery:function(t,i){if(t&1&&K(Ar,5),t&2){let e;J(e=Y())&&(i.tagInput=e.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,decls:14,vars:10,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value"],[3,"removed"],["type","button","matChipRemove",""]],template:function(t,i){if(t&1){let e=I();l(0,"mat-form-field",3)(1,"mat-label"),c(2),r(),l(3,"mat-chip-grid",4,0),De(5,Rr,5,1,"mat-chip",null,Pe),l(7,"input",5,1),v("matChipInputTokenEnd",function(u){return p(e),m(i.add(u))}),r()(),l(9,"mat-autocomplete",6,2),v("optionSelected",function(u){return p(e),m(i.selected(u))}),De(11,Pr,2,2,"mat-option",7,Pe),S(13,"async"),r()()}if(t&2){let e=x(4),a=x(10);o(2),A(i.optionLabel),o(),f("disabled",i.optionDisabled),o(2),xe(i.tagDataModel),o(2),f("placeholder"," + "+i.optionPlaceholder)("matChipInputAddOnBlur",i.addOnBlur)("formControl",i.tagCtrl)("matAutocomplete",a)("matChipInputFor",e)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes),o(4),xe(E(13,8,i.filteredOptions))}},dependencies:[ee,te,Fi,Oi,Gi,Ni,ei,ti,ii,$t,en,$i,ye,Kt],encapsulation:2});var cn=dn;var Vr=["vform"];function Br(n,d){n&1&&_(0,"i",18)}function Fr(n,d){n&1&&_(0,"i",19)}function Gr(n,d){n&1&&(l(0,"mat-error"),c(1," Title is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function Or(n,d){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function Nr(n,d){n&1&&(l(0,"mat-error"),c(1," DescriptionHidden is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function Wr(n,d){if(n&1){let t=I();l(0,"div",15)(1,"label",47),c(2),S(3,"translate"),r(),l(4,"textarea",48,5),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.descriptionHidden,e)||(a.dataModel.descriptionHidden=e),m(e)}),r(),l(6,"em"),c(7),r(),y(8,Nr,5,3,"mat-error"),r()}if(n&2){let t=x(5),i=g();o(2),A(E(3,6,"TITLE.Description_Hidden")),o(2),f("placeholder",R(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(3),h("",t.value.length," / 500"),o(),M(t.errors!=null&&t.errors.required?8:-1)}}function Hr(n,d){if(n&1){let t=I();l(0,"div",15)(1,"label",49),c(2),r(),l(3,"input",50,6),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.speedView,e)||(a.dataModel.speedView=e),m(e)}),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.speedView==null?null:t.fieldsInfo.speedView.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.speedView==null?null:t.fieldsInfo.speedView.fieldTitle)),b("ngModel",t.dataModel.speedView),f("disabled",!(t.fieldsInfo.speedView!=null&&t.fieldsInfo.speedView.accessAddField))}}function Ur(n,d){if(n&1){let t=I();l(0,"div",15)(1,"label",51),c(2),r(),l(3,"input",52,7),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.reloadViewPerMin,e)||(a.dataModel.reloadViewPerMin=e),m(e)}),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.reloadViewPerMin==null?null:t.fieldsInfo.reloadViewPerMin.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.reloadViewPerMin==null?null:t.fieldsInfo.reloadViewPerMin.fieldTitle)),b("ngModel",t.dataModel.reloadViewPerMin),f("disabled",!(t.fieldsInfo.reloadViewPerMin!=null&&t.fieldsInfo.reloadViewPerMin.accessAddField))}}function jr(n,d){if(n&1&&(_(0,"img",24),S(1,"cmsthumbnail")),n&2){let t=g();f("src",R(E(1,2,t.dataModel.linkMainImageIdSrc)),z)}}function qr(n,d){n&1&&(l(0,"p"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",E(2,1,"MESSAGE.Content_of_your_choice_to_display_On_this_billboard")," "))}function Qr(n,d){n&1&&(l(0,"P"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",E(2,1,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller")))}function Zr(n,d){if(n&1){let t=I();l(0,"app-estate-property-type-usage-autocomplete",53),S(1,"translate"),v("optionChange",function(e){p(t);let a=g();return m(a.onActionSelectorSelectUsage(e))}),r()}if(n&2){let t=g();f("optionDisabled",!(t.fieldsInfo.linkPropertyTypeUsageIds!=null&&t.fieldsInfo.linkPropertyTypeUsageIds.accessAddField))("optionSelectForce",t.dataModel.linkPropertyTypeUsageIds)("optionPlaceholder",E(1,3,"TITLE.Type_Usage"))}}function zr(n,d){if(n&1){let t=I();l(0,"app-estate-property-type-landuse-autocomplete",53),S(1,"translate"),v("optionChange",function(e){p(t);let a=g();return m(a.onActionSelectorSelectLanduse(e))}),r()}if(n&2){let t=g();f("optionDisabled",!(t.fieldsInfo.linkPropertyTypeLanduseIds!=null&&t.fieldsInfo.linkPropertyTypeLanduseIds.accessAddField))("optionSelectForce",t.dataModel.linkPropertyTypeLanduseIds)("optionPlaceholder",E(1,3,"TITLE.Property_Type"))}}function Kr(n,d){if(n&1){let t=I();l(0,"app-estate-contract-type-autocomplete",53),S(1,"translate"),v("optionChange",function(e){p(t);let a=g();return m(a.onActionSelectorContarctType(e))}),r()}if(n&2){let t=g();f("optionDisabled",!(t.fieldsInfo.linkContractTypeIds!=null&&t.fieldsInfo.linkContractTypeIds.accessAddField))("optionSelectForce",t.dataModel.linkContractTypeIds)("optionPlaceholder",E(1,3,"TITLE.Transaction_type"))}}function Jr(n,d){if(n&1){let t=I();l(0,"app-cms-currency-selector",54),S(1,"translate"),v("optionChange",function(e){p(t);let a=g();return m(a.onActionSelectCurrency(e))}),r()}if(n&2){let t=g();f("optionSelectFirstItem",!0)("optionSelectForce",t.dataModel.linkCoreCurrencyId)("optionPlaceholder",E(1,3,"TITLE.Specify_the_transaction_currency"))}}function Yr(n,d){if(n&1){let t=I();l(0,"app-cms-location-autocomplete",53),S(1,"translate"),v("optionChange",function(e){p(t);let a=g();return m(a.onActionSelectorLocation(e))}),r()}if(n&2){let t=g();f("optionDisabled",!(t.fieldsInfo.linkLocationIds!=null&&t.fieldsInfo.linkLocationIds.accessAddField))("optionSelectForce",t.dataModel.linkLocationIds)("optionPlaceholder",E(1,3,"TITLE.Region"))}}function Xr(n,d){if(n&1&&(l(0,"option",42),c(1),r()),n&2){let t=d.$implicit;f("value",t.fieldName),o(),h(" ",t.fieldTitle," ")}}function $r(n,d){if(n&1){let t=I();l(0,"div",45)(1,"a",55),v("click",function(){p(t);let e=g();return m(e.onActionSortArrow())}),_(2,"i",56),S(3,"sortTypeIconClass"),r()()}if(n&2){let t=g();o(2),f("ngClass",E(3,1,t.dataModel.resultSortType))}}function el(n,d){if(n&1){let t=I();l(0,"div",46)(1,"button",57),v("click",function(){p(t);let e=g();return m(e.onFormCancel())}),_(2,"i",58),c(3),S(4,"translate"),r(),l(5,"button",59),_(6,"i",60),c(7),S(8,"translate"),r()()}if(n&2){g();let t=x(11);o(3),h(" ",E(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!t.form.valid),o(2),h(" ",E(8,5,"ACTION.SAVE")," ")}}var pn=class pn extends Tt{constructor(t,i,e,a,u,s,k,H){super(e,new hi,s,H);this.router=t;this.coreEnumService=i;this.estateBillboardService=e;this.cmsToastrService=a;this.activatedRoute=u;this.publicHelper=s;this.cdr=k;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModel=new hi;this.dataModelCorCurrencySelector=new mo;this.formInfo=new _e;this.fileManagerOpenForm=!1;this.LinkPropertyIdsInUse=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestId=this.activatedRoute.snapshot.paramMap.get("id")}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess(),this.requestId&&this.requestId.length>0&&this.DataGetOneContent()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateBillboardService.ServiceAdd(this.dataModel).subscribe({next:i=>{i.isSuccess?(this.DataGetOneContent(),this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.router.navigate(["/estate/billboard/edit",i.item.id])):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateBillboardService.setAccessLoad(),this.estateBillboardService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateBillboardService.ServiceEdit(this.dataModel).subscribe({next:i=>{i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onActionSelectorSelectUsage(t){this.dataModel.linkPropertyTypeUsageIds=t}onActionSelectorContarctType(t){this.dataModel.linkContractTypeIds=t}onActionSelectorSelectLanduse(t){this.dataModel.linkPropertyTypeLanduseIds=t}onActionSelectorLocation(t){this.dataModel.linkLocationIds=t}onActionSelectorProperty(t){this.dataModel.linkPropertyIds=t,this.dataModel.linkPropertyIds&&this.dataModel.linkPropertyIds.length>0?(this.LinkPropertyIdsInUse=!0,this.dataModel.linkPropertyTypeUsageIds=null,this.dataModel.linkContractTypeIds=null,this.dataModel.linkPropertyTypeLanduseIds=null,this.dataModel.linkLocationIds=null):this.LinkPropertyIdsInUse=!1}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.dataModel.id&&this.dataModel.id.length>0?this.DataEditContent():this.DataAddContent())}onFormCancel(){this.router.navigate(["/estate/billboard/"])}onActionSelectCurrency(t){if(!t||t.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=t,this.dataModel.linkCoreCurrencyId=t.id}onActionSortArrow(){this.dataModel.resultSortType==B.Ascending?this.dataModel.resultSortType=B.Descending:this.dataModel.resultSortType==B.Descending?this.dataModel.resultSortType=B.Random:this.dataModel.resultSortType==B.Random?this.dataModel.resultSortType=B.Ascending:this.dataModel.resultSortType=B.Ascending}};pn.\u0275fac=function(i){return new(i||pn)(C(Ge),C($),C(xi),C(G),C(Ri),C(N),C(O),C(F))},pn.\u0275cmp=V({type:pn,selectors:[["app-estate-billboard-add"]],viewQuery:function(i,e){if(i&1&&(K(Vr,5),K(tn,5)),i&2){let a;J(a=Y())&&(e.formGroup=a.first),J(a=Y())&&(e.estatePropertyList=a.first)}},standalone:!1,features:[U],decls:85,vars:70,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["ResultSortColumn","ngModel"],["DescriptionHidden",""],["SpeedView",""],["ReloadViewPerMin",""],[3,"Key","svg"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[3,"optionChange","optionDisabled","optionPlaceholder","optionSelectForce"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.includeAllSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.includeAllSite","name","dataModel.includeAllSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.includeAllSite",1,"custom-control-label"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[1,"row","mb-0"],[1,"col-10","pe-0"],["for","dataModel.resultSortColumn",1,"color-highlight"],["id","dataModel.resultSortColumn","name","dataModel.resultSortColumn",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value"],[1,"fa","fa-chevron-down"],[1,"col-2","ps-0"],[1,"col-md-2","col-sm-2","col-xs-2","resultSortIcon",2,"margin","auto"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.speedView",1,"color-highlight"],["type","number","name","dataModel.speedView","min","3","max","10","id","dataModel.speedView",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.reloadViewPerMin",1,"color-highlight"],["type","number","name","dataModel.reloadViewPerMin","min","1","max","10","id","dataModel.reloadViewPerMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[3,"click"],[2,"color","black",3,"ngClass"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let a=I();_(0,"app-cms-guide-notice",8),l(1,"div",9),_(2,"app-progress-spinner",10),l(3,"div",11)(4,"p",12),c(5),r(),l(6,"p"),c(7),S(8,"translate"),r(),_(9,"app-cms-form-result-message",13),l(10,"form",14,0),v("ngSubmit",function(){return p(a),m(e.onFormSubmit())}),l(12,"div",15)(13,"label",16),c(14),r(),l(15,"input",17,1),w("ngModelChange",function(s){return p(a),T(e.dataModel.title,s)||(e.dataModel.title=s),m(s)}),r(),y(17,Br,1,0,"i",18),y(18,Fr,1,0,"i",19),l(19,"em"),c(20),r(),y(21,Gr,5,3,"mat-error"),r(),l(22,"div",15)(23,"label",20),c(24),r(),l(25,"textarea",21,2),w("ngModelChange",function(s){return p(a),T(e.dataModel.description,s)||(e.dataModel.description=s),m(s)}),r(),l(27,"em"),c(28),r(),y(29,Or,5,3,"mat-error"),r(),y(30,Wr,9,8,"div",15),y(31,Hr,5,5,"div",15),y(32,Ur,5,5,"div",15),l(33,"div",22)(34,"a",23),S(35,"cmsthumbnail"),y(36,jr,2,4,"img",24),r()(),l(37,"div",15)(38,"label",25),v("click",function(){return p(a),m(e.fileManagerOpenForm=!0)}),c(39),S(40,"translate"),r(),l(41,"input",26,3),S(43,"translate"),w("ngModelChange",function(s){return p(a),T(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),m(s)}),v("click",function(){return p(a),m(e.fileManagerOpenForm=!0)}),r(),l(44,"cms-file-manager",27),v("itemSelected",function(s){return p(a),m(e.onActionFileSelected(s))}),w("openFormChange",function(s){return p(a),T(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),m(s)}),r()(),l(45,"p"),c(46),S(47,"translate"),r(),l(48,"app-estate-property-autocomplete",28),S(49,"translate"),v("optionChange",function(s){return p(a),m(e.onActionSelectorProperty(s))}),r(),l(50,"p"),c(51),S(52,"translate"),r(),_(53,"hr"),l(54,"div",29)(55,"div",30)(56,"h5",31),c(57),r()(),l(58,"div",32)(59,"div",33)(60,"input",34),w("ngModelChange",function(s){return p(a),T(e.dataModel.includeAllSite,s)||(e.dataModel.includeAllSite=s),m(s)}),r(),_(61,"label",35),r()()(),y(62,qr,3,3,"p"),y(63,Qr,3,3,"P"),y(64,Zr,2,5,"app-estate-property-type-usage-autocomplete",36),y(65,zr,2,5,"app-estate-property-type-landuse-autocomplete",36),_(66,"br"),y(67,Kr,2,5,"app-estate-contract-type-autocomplete",36),y(68,Jr,2,5,"app-cms-currency-selector",37),y(69,Yr,2,5,"app-cms-location-autocomplete",36),l(70,"div",38)(71,"div",39)(72,"div",15)(73,"label",40),c(74),r(),l(75,"select",41,4),w("ngModelChange",function(s){return p(a),T(e.dataModel.resultSortColumn,s)||(e.dataModel.resultSortColumn=s),m(s)}),De(77,Xr,2,2,"option",42,Pe),r(),l(79,"span"),_(80,"i",43),r(),_(81,"em"),r()(),l(82,"div",44),y(83,$r,4,3,"div",45),r()(),y(84,el,9,7,"div",46),r()()()}if(i&2){let a=x(16),u=x(26);f("Key","estate.billboard.list.add")("svg","assets/media/svg/icons/General/Notifications1.svg"),o(2),f("optionsInfoAreaId",e.constructorInfoAreaId),o(3),h(" ",e.formInfo.formTitle," "),o(2),h(" ",E(8,56,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",e.formInfo),o(5),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModel.title),o(2),M(a.value?-1:17),o(),M(a.value?18:-1),o(2),h("",a.value.length," / 100"),o(),M(a.errors!=null&&a.errors.required?21:-1),o(3),A(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModel.description),o(3),h("",u.value.length," / 500"),o(),M(u.errors!=null&&u.errors.required?29:-1),o(),M(e.fieldsInfo.descriptionHidden!=null&&e.fieldsInfo.descriptionHidden.accessWatchField?30:-1),o(),M(e.fieldsInfo.speedView!=null&&e.fieldsInfo.speedView.accessWatchField?31:-1),o(),M(e.fieldsInfo.reloadViewPerMin!=null&&e.fieldsInfo.reloadViewPerMin.accessWatchField?32:-1),o(2),f("href",R(E(35,58,e.dataModel.linkMainImageIdSrc)),z),o(2),M((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?36:-1),o(3),A(E(40,60,"TITLE.PHOTO_FILE")),o(2),f("placeholder",R(E(43,62,"TITLE.Original_File_ID"))),b("ngModel",e.dataModel.linkMainImageId),o(3),f("language",e.appLanguage)("isPopup",!0),b("openForm",e.fileManagerOpenForm),f("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(2),A(E(47,64,"TITLE.specific_property_list")),o(2),f("optionDisabled",!(e.fieldsInfo.linkPropertyIds!=null&&e.fieldsInfo.linkPropertyIds.accessAddField))("optionPlaceholder",E(49,66,"TITLE.Property"))("optionSelectForce",e.dataModel.linkPropertyIds),o(3),h(" ",E(52,68,"MESSAGE.Selecting_specific_property_will_remove_all_search_fields")," "),o(6),h(" ",e.fieldsInfo.includeAllSite==null?null:e.fieldsInfo.includeAllSite.fieldTitle," "),o(3),b("ngModel",e.dataModel.includeAllSite),o(2),M(e.LinkPropertyIdsInUse?-1:62),o(),M(e.LinkPropertyIdsInUse?-1:63),o(),M(e.LinkPropertyIdsInUse?-1:64),o(),M(e.LinkPropertyIdsInUse?-1:65),o(2),M(e.LinkPropertyIdsInUse?-1:67),o(),M(e.LinkPropertyIdsInUse?-1:68),o(),M(e.LinkPropertyIdsInUse?-1:69),o(5),A(e.fieldsInfo.resultSortColumn==null?null:e.fieldsInfo.resultSortColumn.fieldTitle),o(),b("ngModel",e.dataModel.resultSortColumn),o(2),xe(e.dataFieldInfoModel),o(6),M((e.dataModel==null||e.dataModel.resultSortColumn==null?null:e.dataModel.resultSortColumn.length)>0?83:-1),o(),M(e.formInfo.submitButtonEnabled?84:-1)}},dependencies:[Z,ue,yo,Mo,ee,ft,Vt,So,te,ce,re,fe,ge,vo,Eo,me,pe,he,oe,Vo,Hi,ae,Po,Ce,Ct,Bo,bt,rn,sn,cn,W,Ae,Fo],encapsulation:2});var Ui=pn;var il=["vform"];function nl(n,d){n&1&&_(0,"i",18)}function ol(n,d){n&1&&_(0,"i",19)}function al(n,d){n&1&&(l(0,"mat-error"),c(1," Title is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function rl(n,d){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function ll(n,d){n&1&&(l(0,"mat-error"),c(1," DescriptionHidden is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function sl(n,d){if(n&1){let t=I();l(0,"div",15)(1,"label",44),c(2),S(3,"translate"),r(),l(4,"textarea",45,5),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.descriptionHidden,e)||(a.dataModel.descriptionHidden=e),m(e)}),c(6,"          "),r(),l(7,"em"),c(8),r(),y(9,ll,5,3,"mat-error"),r()}if(n&2){let t=x(5),i=g();o(2),A(E(3,6,"TITLE.Description_Hidden")),o(2),f("placeholder",R(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(4),h("",t.value.length," / 500"),o(),M(t.errors!=null&&t.errors.required?9:-1)}}function dl(n,d){if(n&1){let t=I();l(0,"div",15)(1,"label",46),c(2),r(),l(3,"input",47,6),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.speedView,e)||(a.dataModel.speedView=e),m(e)}),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.speedView==null?null:t.fieldsInfo.speedView.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.speedView==null?null:t.fieldsInfo.speedView.fieldTitle)),b("ngModel",t.dataModel.speedView),f("disabled",!(t.fieldsInfo.speedView!=null&&t.fieldsInfo.speedView.accessEditField))}}function cl(n,d){if(n&1){let t=I();l(0,"div",15)(1,"label",48),c(2),r(),l(3,"input",49,7),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.reloadViewPerMin,e)||(a.dataModel.reloadViewPerMin=e),m(e)}),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.reloadViewPerMin==null?null:t.fieldsInfo.reloadViewPerMin.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.reloadViewPerMin==null?null:t.fieldsInfo.reloadViewPerMin.fieldTitle)),b("ngModel",t.dataModel.reloadViewPerMin),f("disabled",!(t.fieldsInfo.reloadViewPerMin!=null&&t.fieldsInfo.reloadViewPerMin.accessEditField))}}function pl(n,d){n&1&&(l(0,"p"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",E(2,1,"MESSAGE.Content_of_your_choice_to_display_On_this_billboard")," "))}function ml(n,d){n&1&&(l(0,"P"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",E(2,1,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller")," "))}function ul(n,d){if(n&1){let t=I();l(0,"app-estate-property-type-usage-autocomplete",50),S(1,"translate"),v("optionChange",function(e){p(t);let a=g();return m(a.onActionSelectorSelectUsage(e))}),r()}if(n&2){let t=g();f("optionDisabled",!(t.fieldsInfo.linkPropertyTypeUsageIds!=null&&t.fieldsInfo.linkPropertyTypeUsageIds.accessEditField))("optionSelectForce",t.dataModel.linkPropertyTypeUsageIds)("optionPlaceholder",E(1,3,"TITLE.Type_Usage"))}}function fl(n,d){if(n&1){let t=I();l(0,"app-estate-property-type-landuse-autocomplete",50),S(1,"translate"),v("optionChange",function(e){p(t);let a=g();return m(a.onActionSelectorSelectLanduse(e))}),r()}if(n&2){let t=g();f("optionDisabled",!(t.fieldsInfo.linkPropertyTypeLanduseIds!=null&&t.fieldsInfo.linkPropertyTypeLanduseIds.accessEditField))("optionSelectForce",t.dataModel.linkPropertyTypeLanduseIds)("optionPlaceholder",E(1,3,"TITLE.Property_Type"))}}function gl(n,d){if(n&1){let t=I();l(0,"app-estate-contract-type-autocomplete",50),S(1,"translate"),v("optionChange",function(e){p(t);let a=g();return m(a.onActionSelectorContarctType(e))}),r()}if(n&2){let t=g();f("optionDisabled",!(t.fieldsInfo.linkContractTypeIds!=null&&t.fieldsInfo.linkContractTypeIds.accessEditField))("optionSelectForce",t.dataModel.linkContractTypeIds)("optionPlaceholder",E(1,3,"TITLE.Transaction_type"))}}function hl(n,d){if(n&1){let t=I();l(0,"app-cms-currency-selector",51),S(1,"translate"),v("optionChange",function(e){p(t);let a=g();return m(a.onActionSelectCurrency(e))}),r()}if(n&2){let t=g();f("optionSelectFirstItem",!0)("optionSelectForce",t.dataModel.linkCoreCurrencyId)("optionPlaceholder",E(1,3,"TITLE.Specify_the_transaction_currency"))}}function _l(n,d){if(n&1){let t=I();l(0,"app-cms-location-autocomplete",50),S(1,"translate"),v("optionChange",function(e){p(t);let a=g();return m(a.onActionSelectorLocation(e))}),r()}if(n&2){let t=g();f("optionDisabled",!(t.fieldsInfo.linkLocationIds!=null&&t.fieldsInfo.linkLocationIds.accessEditField))("optionSelectForce",t.dataModel.linkLocationIds)("optionPlaceholder",E(1,3,"TITLE.Region"))}}function Cl(n,d){if(n&1&&(l(0,"option",36),c(1),r()),n&2){let t=d.$implicit;f("value",t.fieldName),o(),h(" ",t.fieldTitle," ")}}function Sl(n,d){if(n&1){let t=I();l(0,"div",39)(1,"a",52),v("click",function(){p(t);let e=g();return m(e.onActionSortArrow())}),_(2,"i",53),S(3,"sortTypeIconClass"),r()()}if(n&2){let t=g();o(2),f("ngClass",E(3,1,t.dataModel.resultSortType))}}function yl(n,d){if(n&1){let t=I();l(0,"div",40)(1,"a",54),_(2,"img",55),S(3,"translate"),r(),l(4,"span",56),v("click",function(){p(t);let e=g();return m(e.onActionCopied())}),_(5,"i",57),r(),l(6,"h5",58),c(7),S(8,"translate"),r(),l(9,"p",59),c(10),S(11,"translate"),r(),l(12,"p",59),c(13),S(14,"translate"),_(15,"br"),c(16),S(17,"translate"),_(18,"br"),c(19),S(20,"translate"),_(21,"br"),c(22),S(23,"translate"),_(24,"br"),c(25),S(26,"translate"),r(),_(27,"hr")(28,"app-cms-qdoc",60),r()}if(n&2){let t=g();o(),f("href",R(t.dataModel.urlViewContent),z),o(),f("alt",R(E(3,14,"TITLE.Scan_the_barcode")))("src",t.dataModel.urlViewContentQRCodeBase64,z),o(2),f("cdkCopyToClipboard",t.dataModel.urlViewContent),o(3),h(" ",E(8,16,"TITLE.DESCRIPTION"),": "),o(3),h(" ",E(11,18,"TITLE.You_can_view_the_output_of_your_billboard")," "),o(3),h(" ",E(14,20,"TITLE.In_the_title_section_you_can_edit_the_title_of_your_billboard_and_write_a_description_for_it")," "),o(3),h(" ",E(17,22,"TITLE.In_the_next_section_you_can_set_the_speed_of_scrolling_the_page_and_reloading_the_page_every_minute_and_choose_a_picture_for_it")," "),o(3),h(" ",E(20,24,"TITLE.In_the_next_section_you_can_see_your_display_content_for_the_billboard")," "),o(3),h(" ",E(23,26,"TITLE.You_can_narrow_your_search_by_filling_in_any_of_the_fields")," "),o(3),h(" ",E(26,28,"TITLE.Finally_by_clicking_on_the_view_option_you_can_see_the_advertisements_you_want_and_by_clicking_on_the_save_option_you_can_create_your_own_billboard")," "),o(3),f("optionUrl",t.dataModel.urlViewContent)}}function Ml(n,d){if(n&1){let t=I();l(0,"button",66),v("click",function(){p(t);let e=g(2);return m(e.onFormLoadResult())}),_(1,"i",62),c(2),S(3,"translate"),r()}n&2&&(o(2),h(" ",E(3,1,"ACTION.VIEW")," "))}function El(n,d){if(n&1){let t=I();l(0,"div",41)(1,"button",61),v("click",function(){p(t);let e=g();return m(e.onFormCancel())}),_(2,"i",62),c(3),S(4,"translate"),r(),l(5,"button",63),_(6,"i",64),c(7),S(8,"translate"),r(),y(9,Ml,4,3,"button",65),r()}if(n&2){let t=g(),i=x(11);o(3),h(" ",E(4,4,"ACTION.CANCEL")," "),o(2),f("disabled",!i.form.valid),o(2),h(" ",E(8,6,"ACTION.SAVE")," "),o(2),M((t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0?9:-1)}}function vl(n,d){n&1&&(l(0,"div",43),_(1,"div",67),r())}var mn=class mn extends wt{constructor(t,i,e,a,u,s,k,H,Ie,be){super(a,new hi,s,Ie);this.router=t;this.estatePropertyDetailGroupService=i;this.coreEnumService=e;this.estateBillboardService=a;this.cmsToastrService=u;this.publicHelper=s;this.cdr=k;this.activatedRoute=H;this.translate=Ie;this.http=be;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new vt;this.dataModel=new hi;this.dataModelCorCurrencySelector=new mo;this.formInfo=new _e;this.fileManagerOpenForm=!1;this.optionloadComponent=!1;this.loadResult="";this.LinkPropertyIdsInUse=!1;this.optionReload=()=>{this.estatePropertyList.optionloadComponent=!0,this.estatePropertyList.DataGetAll()};this.publicHelper.processService.cdr=this.cdr,this.requestId=this.activatedRoute.snapshot.paramMap.get("id"),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.router.navigate(["/estate/billboard/"]);return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateBillboardService.setAccessLoad(),this.estateBillboardService.setAccessDataType(It.Editor),this.estateBillboardService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataFieldInfoModel=i.access.fieldsInfo,this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.dataModel.linkPropertyIds&&this.dataModel.linkPropertyIds.length>0&&(this.LinkPropertyIdsInUse=!0),this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateBillboardService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.optionReload()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onActionSelectorSelectUsage(t){this.dataModel.linkPropertyTypeUsageIds=t}onActionSelectorContarctType(t){this.dataModel.linkContractTypeIds=t}onActionSelectorSelectLanduse(t){this.dataModel.linkPropertyTypeLanduseIds=t}onActionSelectorLocation(t){this.dataModel.linkLocationIds=t}onActionSelectorProperty(t){this.dataModel.linkPropertyIds=t,this.dataModel.linkPropertyIds&&this.dataModel.linkPropertyIds.length>0?(this.LinkPropertyIdsInUse=!0,this.dataModel.linkPropertyTypeUsageIds=null,this.dataModel.linkContractTypeIds=null,this.dataModel.linkPropertyTypeLanduseIds=null,this.dataModel.linkLocationIds=null):this.LinkPropertyIdsInUse=!1}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.router.navigate(["/estate/billboard/"])}onFormLoadResult(){this.loadResult="estatePropertyList",this.estatePropertyList.optionloadComponent=!0,this.estatePropertyList.DataGetAll()}onActionSelectCurrency(t){if(!t||t.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=t,this.dataModel.linkCoreCurrencyId=t.id}onActionSortArrow(){this.dataModel.resultSortType==B.Ascending?this.dataModel.resultSortType=B.Descending:this.dataModel.resultSortType==B.Descending?this.dataModel.resultSortType=B.Random:this.dataModel.resultSortType==B.Random?this.dataModel.resultSortType=B.Ascending:this.dataModel.resultSortType=B.Ascending}};mn.\u0275fac=function(i){return new(i||mn)(C(Ge),C(kt),C($),C(xi),C(G),C(N),C(O),C(Ri),C(F),C(ha))},mn.\u0275cmp=V({type:mn,selectors:[["app-estate-billboard-edit"]],viewQuery:function(i,e){if(i&1&&(K(il,5),K(tn,5)),i&2){let a;J(a=Y())&&(e.formGroup=a.first),J(a=Y())&&(e.estatePropertyList=a.first)}},standalone:!1,features:[U],decls:82,vars:58,consts:[["vform","ngForm"],["Title",""],["Description",""],["ResultSortColumn","ngModel"],["estatePropertyList",""],["DescriptionHidden",""],["SpeedView",""],["ReloadViewPerMin",""],[3,"Key","svg"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionDisabled","optionPlaceholder","optionSelectForce"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.includeAllSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.includeAllSite","name","dataModel.includeAllSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.includeAllSite",1,"custom-control-label"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[1,"row","mb-0"],[1,"col-10","pe-0"],["for","dataModel.resultSortColumn",1,"color-highlight"],["id","dataModel.resultSortColumn","name","dataModel.resultSortColumn",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value"],[1,"fa","fa-chevron-down"],[1,"col-2","ps-0"],[1,"col-md-2","col-sm-2","col-xs-2","resultSortIcon",2,"margin","auto"],[1,"col-md-6","col-sm-6","col-xs-9",2,"text-align","center"],[1,"form-actions"],[3,"optionLinkBillboardId","optionloadComponent","optionsortType","optionloadByRoute"],[1,"row","alert","alert-custom","alert-white","alert-shadow","gutter-b"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.speedView",1,"color-highlight"],["type","number","name","dataModel.speedView","min","3","max","10","id","dataModel.speedView",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.reloadViewPerMin",1,"color-highlight"],["type","number","name","dataModel.reloadViewPerMin","min","1","max","10","id","dataModel.reloadViewPerMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[3,"click"],[2,"color","black",3,"ngClass"],["target","_blank",3,"href"],["height","300px","width","300px",3,"src","alt"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[2,"text-align","right"],["dir","rtl",2,"font-size","17px"],[3,"optionUrl"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",3,"disabled"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"col-md-12","col-sm-12","col-xs-18"]],template:function(i,e){if(i&1){let a=I();_(0,"app-cms-guide-notice",8),l(1,"div",9),_(2,"app-progress-spinner",10),l(3,"div",11)(4,"p",12),c(5),r(),l(6,"p"),c(7),S(8,"translate"),r(),_(9,"app-cms-form-result-message",13),l(10,"form",14,0),v("ngSubmit",function(){return p(a),m(e.onFormSubmit())}),l(12,"div",15)(13,"label",16),c(14),r(),l(15,"input",17,1),w("ngModelChange",function(s){return p(a),T(e.dataModel.title,s)||(e.dataModel.title=s),m(s)}),r(),y(17,nl,1,0,"i",18),y(18,ol,1,0,"i",19),l(19,"em"),c(20),r(),y(21,al,5,3,"mat-error"),r(),l(22,"div",15)(23,"label",20),c(24),r(),l(25,"textarea",21,2),w("ngModelChange",function(s){return p(a),T(e.dataModel.description,s)||(e.dataModel.description=s),m(s)}),c(27,"        "),r(),l(28,"em"),c(29),r(),y(30,rl,5,3,"mat-error"),r(),y(31,sl,10,8,"div",15),y(32,dl,5,5,"div",15),y(33,cl,5,5,"div",15),l(34,"p"),c(35),S(36,"translate"),r(),l(37,"app-estate-property-autocomplete",22),S(38,"translate"),v("optionChange",function(s){return p(a),m(e.onActionSelectorProperty(s))}),r(),l(39,"p"),c(40),S(41,"translate"),r(),_(42,"hr"),l(43,"div",23)(44,"div",24)(45,"h5",25),c(46),r()(),l(47,"div",26)(48,"div",27)(49,"input",28),w("ngModelChange",function(s){return p(a),T(e.dataModel.includeAllSite,s)||(e.dataModel.includeAllSite=s),m(s)}),r(),_(50,"label",29),r()()(),y(51,pl,3,3,"p"),y(52,ml,3,3,"P"),y(53,ul,2,5,"app-estate-property-type-usage-autocomplete",30),y(54,fl,2,5,"app-estate-property-type-landuse-autocomplete",30),_(55,"br"),y(56,gl,2,5,"app-estate-contract-type-autocomplete",30),y(57,hl,2,5,"app-cms-currency-selector",31),y(58,_l,2,5,"app-cms-location-autocomplete",30),_(59,"br"),c(60),S(61,"translate"),_(62,"hr"),l(63,"div",32)(64,"div",33)(65,"div",15)(66,"label",34),c(67),r(),l(68,"select",35,3),w("ngModelChange",function(s){return p(a),T(e.dataModel.resultSortColumn,s)||(e.dataModel.resultSortColumn=s),m(s)}),De(70,Cl,2,2,"option",36,Pe),r(),l(72,"span"),_(73,"i",37),r(),_(74,"em"),r()(),l(75,"div",38),y(76,Sl,4,3,"div",39),r()(),y(77,yl,29,30,"div",40),y(78,El,10,8,"div",41),r(),_(79,"app-estate-property-list",42,4),r()(),y(81,vl,2,0,"div",43)}if(i&2){let a=x(16),u=x(26);f("Key","estate.billboard.list.edit")("svg","assets/media/svg/icons/General/Notifications1.svg"),o(2),f("optionsInfoAreaId",e.constructorInfoAreaId),o(3),h(" ",e.formInfo.formTitle," "),o(2),h(" ",E(8,48,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",e.formInfo),o(5),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModel.title),o(2),M(a.value?-1:17),o(),M(a.value?18:-1),o(2),h("",a.value.length," / 100"),o(),M(a.errors!=null&&a.errors.required?21:-1),o(3),A(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModel.description),o(4),h("",u.value.length," / 500"),o(),M(u.errors!=null&&u.errors.required?30:-1),o(),M(e.fieldsInfo.descriptionHidden!=null&&e.fieldsInfo.descriptionHidden.accessWatchField?31:-1),o(),M(e.fieldsInfo.speedView!=null&&e.fieldsInfo.speedView.accessWatchField?32:-1),o(),M(e.fieldsInfo.reloadViewPerMin!=null&&e.fieldsInfo.reloadViewPerMin.accessWatchField?33:-1),o(2),h(" ",E(36,50,"TITLE.specific_property_list")," "),o(2),f("optionDisabled",!(e.fieldsInfo.linkPropertyIds!=null&&e.fieldsInfo.linkPropertyIds.accessEditField))("optionPlaceholder",E(38,52,"TITLE.Property"))("optionSelectForce",e.dataModel.linkPropertyIds),o(3),h(" ",E(41,54,"MESSAGE.Selecting_specific_property_will_remove_all_search_fields")," "),o(6),h(" ",e.fieldsInfo.includeAllSite==null?null:e.fieldsInfo.includeAllSite.fieldTitle," "),o(3),b("ngModel",e.dataModel.includeAllSite),o(2),M(e.LinkPropertyIdsInUse?-1:51),o(),M(e.LinkPropertyIdsInUse?-1:52),o(),M(e.LinkPropertyIdsInUse?-1:53),o(),M(e.LinkPropertyIdsInUse?-1:54),o(2),M(e.LinkPropertyIdsInUse?-1:56),o(),M(e.LinkPropertyIdsInUse?-1:57),o(),M(e.LinkPropertyIdsInUse?-1:58),o(2),h(" ",E(61,56,"ACTION.SEARCH"),": "),o(7),A(e.fieldsInfo.resultSortColumn==null?null:e.fieldsInfo.resultSortColumn.fieldTitle),o(),b("ngModel",e.dataModel.resultSortColumn),o(2),xe(e.dataFieldInfoModel),o(6),M((e.dataModel==null||e.dataModel.resultSortColumn==null?null:e.dataModel.resultSortColumn.length)>0?76:-1),o(),M((e.dataModel==null||e.dataModel.urlViewContentQRCodeBase64==null?null:e.dataModel.urlViewContentQRCodeBase64.length)>0&&(e.dataModel==null||e.dataModel.urlViewContent==null?null:e.dataModel.urlViewContent.length)>0?77:-1),o(),M(e.formInfo.submitButtonEnabled?78:-1),o(),f("optionLinkBillboardId",e.dataModel.id)("optionloadComponent",e.optionloadComponent)("optionsortType",e.dataModel.resultSortType)("optionloadByRoute",!1),o(2),M(e.loadResult==="estatePropertyList"?81:-1)}},dependencies:[Z,ue,yo,Mo,ee,ft,Vt,So,te,ce,re,fe,ge,vo,Eo,me,pe,Da,he,oe,go,Vo,Hi,sr,ae,Po,Ce,Ct,tn,Bo,rn,sn,cn,W,Fo],encapsulation:2});var un=mn;var Il=()=>["expandedTitle"],bl=()=>["expandedDetail"],Tl=()=>[5,10,20,100],gr=n=>({display:n});function wl(n,d){if(n&1){let t=I();l(0,"div",18)(1,"a",53),v("click",function(e){p(t);let a=g();return m(a.onActionButtonNewRow(e))}),_(2,"i",54)(3,"br"),r(),l(4,"p",21),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.ADD")," "))}function Al(n,d){if(n&1){let t=I();l(0,"a",55),v("click",function(e){p(t);let a=g();return m(a.onActionButtonEditRow(a.tableRowSelected,e))}),_(1,"i",56)(2,"br"),r()}}function Rl(n,d){if(n&1){let t=I();l(0,"a",57),v("click",function(){p(t);let e=g();return m(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(1,"i",58)(2,"br"),r()}}function Pl(n,d){if(n&1){let t=I();l(0,"div",18)(1,"a",59),v("click",function(e){p(t);let a=g();return m(a.onActionButtonCopyNewRow(a.tableRowSelected,e))}),_(2,"i",60)(3,"br"),r(),l(4,"p",21),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.COPY")," "))}function Dl(n,d){n&1&&(l(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",E(2,1,"TITLE.MENU")," "))}function xl(n,d){if(n&1){let t=I();l(0,"mat-cell")(1,"button",61),v("click",function(){let e=p(t).$implicit,a=g();return m(a.onActionTableRowSelectActionMenu(e))}),_(2,"i",62),r()()}}function Ll(n,d){n&1&&(l(0,"mat-header-cell",63),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",E(2,1,"TITLE.PICTURE")," "))}function kl(n,d){if(n&1&&(_(0,"img",64),S(1,"cmsthumbnail")),n&2){let t=g().$implicit;f("src",R(E(1,2,t.linkMainImageIdSrc)),z)}}function Vl(n,d){if(n&1&&(l(0,"mat-cell"),y(1,kl,2,4,"img",64),r()),n&2){let t=d.$implicit;o(),M((t==null||t.linkMainImageIdSrc==null?null:t.linkMainImageIdSrc.length)>0?1:-1)}}function Bl(n,d){if(n&1&&(l(0,"mat-header-cell",63),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function Fl(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.id," ")}}function Gl(n,d){if(n&1&&(l(0,"mat-header-cell",63),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.linkSiteId==null?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ol(n,d){if(n&1&&(l(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),n&2){let t=d.$implicit;o(),h(" ",E(3,3,E(2,1,t.linkSiteId))," ")}}function Nl(n,d){if(n&1&&(l(0,"mat-header-cell",63),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function Wl(n,d){if(n&1&&_(0,"select",66),n&2){let t=g().$implicit,i=g();f("contentService",i.contentService)("row",t)("ngStyle",Ft(3,gr,t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Hl(n,d){if(n&1&&(l(0,"mat-cell",65),S(1,"statusCellClass"),_(2,"i",65),S(3,"statusIconClass"),y(4,Wl,1,5,"select",66),r()),n&2){let t=d.$implicit,i=g();f("ngClass",E(1,3,t.recordStatus)),o(2),f("ngClass",E(3,5,t.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function Ul(n,d){if(n&1&&(l(0,"mat-header-cell",63),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," ")}}function jl(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.title," ")}}function ql(n,d){if(n&1&&(l(0,"mat-header-cell",63),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.speedView==null?null:t.fieldsInfo.speedView.fieldTitle," ")}}function Ql(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.speedView)}}function Zl(n,d){if(n&1&&(l(0,"mat-header-cell",63),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.reloadViewPerMin==null?null:t.fieldsInfo.reloadViewPerMin.fieldTitle," ")}}function zl(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.reloadViewPerMin)}}function Kl(n,d){n&1&&(l(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",E(2,1,"TITLE.OPTION")," "))}function Jl(n,d){if(n&1&&(l(0,"mat-cell",67)(1,"button",68)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),n&2){let t=x(5);o(),f("matMenuTriggerFor",t)}}function Yl(n,d){n&1&&(l(0,"mat-header-cell",63),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",E(2,1,"TITLE.LINKTO")," "))}function Xl(n,d){if(n&1){let t=I();l(0,"mat-cell")(1,"button",69),v("click",function(){let e=p(t).$implicit,a=g();return m(a.onActionButtonLinkTo(e))}),l(2,"mat-icon",70),c(3,"\u2197"),r()()()}}function $l(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.title," ")}}function es(n,d){if(n&1&&(_(0,"img",71),S(1,"cmsthumbnail")),n&2){let t=g().$implicit;f("src",R(E(1,2,t.linkMainImageIdSrc)),z)}}function ts(n,d){if(n&1&&(l(0,"tr"),_(1,"td"),l(2,"td"),c(3),r()()),n&2){let t=g().$implicit,i=g();o(3),Ji(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",t.description," ")}}function is(n,d){if(n&1&&(l(0,"tr"),_(1,"td"),l(2,"td"),c(3),S(4,"translate"),r()()),n&2){let t=g().$implicit;o(3),Ji(" ",E(4,2,"TITLE.Description_Hidden")," : ",t.descriptionHidden," ")}}function ns(n,d){if(n&1){let t=I();l(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),y(5,es,2,4,"img",71),r(),l(6,"th")(7,"span",72),v("click",function(){p(t);let e=g();return m(e.onActionCopied())}),_(8,"i",73),r(),c(9),r()(),l(10,"tr"),_(11,"td"),l(12,"td"),c(13),r()(),y(14,ts,4,2,"tr"),y(15,is,5,4,"tr"),l(16,"tr"),_(17,"td")(18,"td"),r()()()()}if(n&2){let t=d.$implicit,i=g();o(5),M((t==null||t.linkMainImageIdSrc==null?null:t.linkMainImageIdSrc.length)>0?5:-1),o(2),f("cdkCopyToClipboard",t.id),o(2),h(" ",t.id," "),o(4),Ji("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : ",t.title),o(),M(t.description?14:-1),o(),M(i.fieldsInfo.descriptionHidden!=null&&i.fieldsInfo.descriptionHidden.accessWatchField?15:-1)}}function os(n,d){n&1&&_(0,"mat-header-row")}function as(n,d){if(n&1){let t=I();l(0,"mat-row",74),v("click",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))})("rtclick",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))})("mouseenter",function(){let e=p(t).$implicit,a=g();return m(a.onActionTableRowMouseEnter(e))})("mouseleave",function(){let e=p(t).$implicit,a=g();return m(a.onActionTableRowMouseLeave(e))}),r()}if(n&2){let t=d.$implicit,i=g();ne("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function rs(n,d){if(n&1){let t=I();l(0,"mat-row",75),v("click",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))})("rtclick",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))})("mouseenter",function(){let e=p(t).$implicit,a=g();return m(a.onActionTableRowMouseEnter(e))})("mouseleave",function(){let e=p(t).$implicit,a=g();return m(a.onActionTableRowMouseLeave(e))}),r()}if(n&2){let t=d.$implicit,i=g();ne("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function ls(n,d){if(n&1){let t=I();l(0,"mat-row",76),v("click",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))})("rtclick",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))})("mouseenter",function(){let e=p(t).$implicit,a=g();return m(a.onActionTableRowMouseEnter(e))})("mouseleave",function(){let e=p(t).$implicit,a=g();return m(a.onActionTableRowMouseLeave(e))}),r()}if(n&2){let t=d.$implicit,i=g();ne("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),f("ngStyle",Ft(3,gr,t.expanded===!0?"":"none"))}}var fn=class fn extends st{constructor(t,i,e,a,u,s,k,H,Ie,be,je,Ht){super(t,new hi,je,a,k);this.contentService=t;this.cmsConfirmationDialogService=i;this.cmsToastrService=e;this.tokenHelper=a;this.router=u;this.cdr=s;this.translate=k;this.themeService=H;this.cmsStoreService=Ie;this.pageInfo=be;this.publicHelper=je;this.dialog=Ht;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Q;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","linkSiteId","recordStatus","SpeedView","ReloadViewPerMin","LinkTo","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","SpeedView","ReloadViewPerMin","LinkTo","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:xt=>this.onSubmitOptionsSearch(xt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=B.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>ke(this,null,function*(){this.tokenInfo=t,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new hi);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(t){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}t?.ctrlKey?(this.link="/#/estate/billboard/add/",window.open(this.link,"_blank")):this.router.navigate(["/estate/billboard/add"])}onActionButtonEditRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/billboard/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/billboard/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],e=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(a=>{if(a){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(u,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonContentList(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/property/LinkBillboardId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkBillboardId/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),u=new q;u.propertyName="recordStatus",u.value=Ue.Available,a.filters.push(u),this.contentService.ServiceGetCount(a).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonOpenBillboard(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),window.open(this.tableRowSelected.urlViewContent,"_blank")}onActionButtonCopyNewRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/billboard/add-copy/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/billboard/add-copy",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonLinkTo(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(t.recordStatus!=Ue.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(t);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_billboards_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.contentService.ServiceGetOneById(t.id).subscribe({next:e=>{if(e.isSuccess){var a="";this.publicHelper.isMobile?a="dialog-fullscreen":a="dialog-min",this.dialog.open(or,{height:"90%",panelClass:a,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{title:e.item.title,urlViewContentQRCodeBase64:e.item.urlViewContentQRCodeBase64,urlViewContent:e.item.urlViewContent}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(e.errorMessage);this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}};fn.\u0275fac=function(i){return new(i||fn)(C(xi),C(Oe),C(G),C(se),C(Ge),C(O),C(F),C(Wt),C(le),C(lt),C(N),C(He))},fn.\u0275cmp=V({type:fn,selectors:[["app-estate-billboard-list"]],standalone:!1,features:[U],decls:105,vars:51,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-billboard","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","SpeedView"],["matColumnDef","ReloadViewPerMin"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,e){if(i&1){let a=I();l(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(s){return p(a),T(e.viewGuideNotice,s)||(e.viewGuideNotice=s),m(s)}),v("optionOnActionButtonMemoRow",function(){return p(a),m(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(a),m(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(a),m(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(a),m(e.onActionButtonPrintRow())}),P(1,4),c(2," -------------------------------------- "),D(),Fe(3,5)(4,6),P(5,7),l(6,"a",8),v("click",function(){return p(a),m(e.viewGuideNotice=!e.viewGuideNotice)}),_(7,"i",9),r(),l(8,"a",8),v("click",function(){return p(a),m(e.onActionButtonReload())}),_(9,"i",10),r(),l(10,"a",11),v("click",function(){return p(a),m(e.onActionGridExpandRows(!0))}),_(11,"i",12),r(),l(12,"a",11),v("click",function(){return p(a),m(e.onActionGridExpandRows(!1))}),_(13,"i",13),r(),D(),P(14,14),l(15,"a",15),v("click",function(){return p(a),m(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(16,"mat-slide-toggle",16),c(17),S(18,"translate"),r(),l(19,"a",15),v("click",function(){return p(a),m(e.onActionButtonStatist())}),_(20,"mat-slide-toggle",16),c(21),S(22,"translate"),r(),D(),P(23,17),y(24,wl,7,3,"div",18),D(),P(25,19),l(26,"div",18),y(27,Al,3,0,"a",20),l(28,"p",21),c(29),S(30,"translate"),r()(),l(31,"div",18),y(32,Rl,3,0,"a",22),l(33,"p",21),c(34),S(35,"translate"),r()(),l(36,"div",18)(37,"a",11),v("click",function(s){return p(a),m(e.onActionButtonContentList(e.tableRowSelected,s))}),_(38,"i",23)(39,"br"),r(),l(40,"p",21),c(41),S(42,"translate"),r()(),l(43,"div",18)(44,"a",11),v("click",function(){return p(a),m(e.onActionButtonOpenBillboard(e.tableRowSelected))}),_(45,"i",24)(46,"br"),r(),l(47,"p",21),c(48),S(49,"translate"),r()(),y(50,Pl,7,3,"div",18),l(51,"div",18)(52,"a",8),v("click",function(){return p(a),m(e.onActionButtonLinkTo(e.tableRowSelected))}),_(53,"i",25)(54,"br"),r(),l(55,"p",21),c(56),S(57,"translate"),r()(),D(),P(58,26),l(59,"app-cms-search-list",27),w("optionsChange",function(s){return p(a),T(e.optionsSearch,s)||(e.optionsSearch=s),m(s)}),r(),l(60,"app-cms-statist-list",27),w("optionsChange",function(s){return p(a),T(e.optionsStatist,s)||(e.optionsStatist=s),m(s)}),r(),D(),P(61,28),l(62,"mat-table",29,0),v("matSortChange",function(){p(a);let s=x(63);return m(e.onTableSortData(s))}),P(64,30),L(65,Dl,3,3,"mat-header-cell",31)(66,xl,3,0,"mat-cell",32),D(),P(67,33),L(68,Ll,3,3,"mat-header-cell",34)(69,Vl,2,1,"mat-cell",32),D(),P(70,35),L(71,Bl,2,1,"mat-header-cell",34)(72,Fl,2,1,"mat-cell",32),D(),P(73,36),L(74,Gl,2,1,"mat-header-cell",34)(75,Ol,4,5,"mat-cell",32),D(),P(76,37),L(77,Nl,2,1,"mat-header-cell",34)(78,Hl,5,7,"mat-cell",38),D(),P(79,39),L(80,Ul,2,1,"mat-header-cell",34)(81,jl,2,1,"mat-cell",32),D(),P(82,40),L(83,ql,2,1,"mat-header-cell",34)(84,Ql,2,1,"mat-cell",32),D(),P(85,41),L(86,Zl,2,1,"mat-header-cell",34)(87,zl,2,1,"mat-cell",32),D(),P(88,42),L(89,Kl,3,3,"mat-header-cell",31)(90,Jl,6,1,"mat-cell",43),D(),P(91,44),L(92,Yl,3,3,"mat-header-cell",34)(93,Xl,4,0,"mat-cell",32),D(),P(94,45),L(95,$l,2,1,"mat-cell",32),D(),P(96,46),L(97,ns,19,7,"mat-cell",32),D(),L(98,os,1,0,"mat-header-row",47)(99,as,1,2,"mat-row",48)(100,rs,1,2,"mat-row",49)(101,ls,1,5,"mat-row",50),r(),D(),P(102,51),l(103,"mat-paginator",52,1),v("page",function(s){return p(a),m(e.onTablePageingData(s))}),r(),D(),r()}i&2&&(f("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","estate.billboard.list"),b("optionActionGuideNoticeDisplay",e.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),o(9),ne("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),o(7),f("checked",e.optionsSearch.data.show),o(),h("",E(18,34,"ACTION.SEARCH")," "),o(3),f("checked",e.optionsStatist.data.show),o(),h("",E(22,36,"ACTION.STATIST")," "),o(3),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?24:-1),o(3),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?27:-1),o(2),h(" ",E(30,38,"ACTION.EDIT")," "),o(3),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?32:-1),o(2),h(" ",E(35,40,"ACTION.DELETE")," "),o(7),h(" ",E(42,42,"ACTION.SHOWPROPERTIES")," "),o(7),h(" ",E(49,44,"ACTION.BILLBOARDDISPLAY")," "),o(2),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow&&(e.tableRowSelected!=null&&e.tableRowSelected.id)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0?50:-1),o(6),h(" ",E(57,46,"TITLE.LINKTO")," "),o(3),b("options",e.optionsSearch),o(),b("options",e.optionsStatist),o(2),f("dataSource",e.tableSource),o(36),f("matHeaderRowDef",e.tabledisplayedColumns),o(),f("matRowDefColumns",X(48,Il)),o(),f("matRowDefColumns",e.tabledisplayedColumns),o(),f("matRowDefColumns",X(49,bl)),o(2),f("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",X(50,Tl)))},dependencies:[Z,Nt,We,ye,oe,qe,Qe,Ze,ze,Ke,Je,Ye,$e,nt,et,Xe,ot,tt,it,at,rt,go,dt,ct,pt,mt,Ja,Kt,W,Ya,Ae,Xa,$a],encapsulation:2});var gn=fn;var ss=["vform"],ds=()=>["fa"];function cs(n,d){if(n&1&&(_(0,"img",15),S(1,"cmsthumbnail")),n&2){let t=g();f("src",R(E(1,2,t.dataModel.linkMainImageIdSrc)),z)}}function ps(n,d){n&1&&_(0,"i",22)}function ms(n,d){n&1&&_(0,"i",23)}function us(n,d){n&1&&(l(0,"mat-error"),c(1," Title is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function fs(n,d){if(n&1){let t=I();l(0,"div",16)(1,"label",29),c(2),r(),l(3,"input",30,4),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.iconFont,e)||(a.dataModel.iconFont=e),m(e)}),v("iconPickerSelect",function(e){p(t);let a=g();return m(a.onIconPickerSelect(e))}),r(),l(5,"span",31),_(6,"i",32),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),b("ngModel",t.dataModel.iconFont),f("iconPicker",t.dataModel.iconFont)("ipIconPack",X(9,ds))("ipPosition","top")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessAddField)),o(3),f("ngClass",t.dataModel.iconFont)}}function gs(n,d){if(n&1){let t=I();l(0,"div",24)(1,"label",33),c(2),r(),l(3,"div",34)(4,"div",35)(5,"input",36,5),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.iconColor,e)||(a.dataModel.iconColor=e),m(e)}),r()(),l(7,"div",37),_(8,"ngx-mat-color-toggle",38)(9,"ngx-mat-color-picker",39,6),r()()()}if(n&2){let t=x(10),i=g();o(2),A(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ie("background",i.dataModel.iconColor),f("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),f("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),f("for",t),o(),f("touchUi",!0)("color","primary")}}function hs(n,d){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function _s(n,d){if(n&1){let t=I();l(0,"div",28)(1,"button",40),v("click",function(){p(t);let e=g();return m(e.onFormCancel())}),_(2,"i",41),c(3),S(4,"translate"),r(),l(5,"button",42),_(6,"i",43),c(7),S(8,"translate"),r()()}if(n&2){g();let t=x(10);o(3),h(" ",E(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!t.form.valid),o(2),h(" ",E(8,5,"ACTION.SAVE")," ")}}var _n=class _n extends Tt{constructor(t,i,e,a,u,s,k,H){super(a,new Ci,s,H);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateCategoryZoneService=a;this.cmsToastrService=u;this.publicHelper=s;this.cdr=k;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Le;this.dataModel=new Ci;this.formInfo=new _e;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)});this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.estateCategoryZoneService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorLocation(t){this.dataModel.linkLocationIds=t}};_n.\u0275fac=function(i){return new(i||_n)(C(we),C(Te),C($),C(ki),C(G),C(N),C(O),C(F))},_n.\u0275cmp=V({type:_n,selectors:[["app-estate-category-zone-add"]],viewQuery:function(i,e){if(i&1&&K(ss,5),i&2){let a;J(a=Y())&&(e.formGroup=a.first)}},standalone:!1,features:[U],decls:51,vars:58,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder","optionLabel"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let a=I();l(0,"div",7),_(1,"app-progress-spinner",8),l(2,"div",9)(3,"p",10),c(4),r(),l(5,"p"),c(6),S(7,"translate"),r(),_(8,"app-cms-form-result-message",11),l(9,"form",12,0),v("ngSubmit",function(){return p(a),m(e.onFormSubmit())}),l(11,"div",13)(12,"a",14),S(13,"cmsthumbnail"),y(14,cs,2,4,"img",15),r()(),l(15,"div",16)(16,"label",17),v("click",function(){return p(a),m(e.fileManagerOpenForm=!0)}),c(17),S(18,"translate"),r(),l(19,"input",18,1),S(21,"translate"),w("ngModelChange",function(s){return p(a),T(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),m(s)}),v("click",function(){return p(a),m(e.fileManagerOpenForm=!0)}),r(),l(22,"cms-file-manager",19),S(23,"translate"),v("itemSelected",function(s){return p(a),m(e.onActionFileSelected(s))}),w("openFormChange",function(s){return p(a),T(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),m(s)}),r()(),l(24,"div",16)(25,"label",20),c(26),r(),l(27,"input",21,2),w("ngModelChange",function(s){return p(a),T(e.dataModel.title,s)||(e.dataModel.title=s),m(s)}),r(),y(29,ps,1,0,"i",22),y(30,ms,1,0,"i",23),l(31,"em"),c(32),r(),y(33,us,5,3,"mat-error"),r(),y(34,fs,7,10,"div",16),y(35,gs,11,11,"div",24),c(36),S(37,"translate"),l(38,"app-cms-location-autocomplete",25),S(39,"translate"),S(40,"translate"),v("optionChange",function(s){return p(a),m(e.onActionSelectorLocation(s))}),r(),l(41,"div",16)(42,"label",26),c(43),r(),l(44,"textarea",27,3),w("ngModelChange",function(s){return p(a),T(e.dataModel.description,s)||(e.dataModel.description=s),m(s)}),c(46,"                  "),r(),l(47,"em"),c(48),r(),y(49,hs,5,3,"mat-error"),r(),y(50,_s,9,7,"div",28),r()()()}if(i&2){let a=x(28),u=x(45);o(),f("optionsInfoAreaId",e.constructorInfoAreaId),o(3),h(" ",e.formInfo.formTitle," "),o(2),h(" ",E(7,42,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",e.formInfo),o(4),f("href",R(E(13,44,e.dataModel.linkMainImageIdSrc)),z),o(2),M((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?14:-1),o(3),A(E(18,46,"TITLE.PICTURE")),o(2),f("placeholder",R(E(21,48,"TITLE.Original_File_ID"))),b("ngModel",e.dataModel.linkMainImageId),o(3),f("language",e.appLanguage)("isPopup",!0)("openSelectFileDescription",E(23,50,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),b("openForm",e.fileManagerOpenForm),f("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModel.title),o(2),M(a.value?-1:29),o(),M(a.value?30:-1),o(2),h("",a.value.length," / 100"),o(),M(a.errors!=null&&a.errors.required?33:-1),o(),M(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?34:-1),o(),M(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?35:-1),o(),h(" ",E(37,52,"TITLE.Geographical_Areas")," : "),o(2),f("optionDisabled",!(e.fieldsInfo.linkLocationIds!=null&&e.fieldsInfo.linkLocationIds.accessAddField))("optionSelectForce",e.dataModel.linkLocationIds)("optionPlaceholder",E(39,54,"TITLE.Region"))("optionLabel",E(40,56,"TITLE.Geographical_Areas")),o(5),A(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModel.description),o(4),h("",u.value.length," / 500"),o(),M(u.errors!=null&&u.errors.required?49:-1),o(),M(e.formInfo.submitButtonEnabled?50:-1)}},dependencies:[Z,ue,ee,te,ce,re,fe,ge,me,pe,he,Ne,oe,Hi,ae,Ce,St,_t,ht,gt,bt,W,Ae],encapsulation:2});var Wo=_n;var Cs=["vform"],Ss=()=>["fa"];function ys(n,d){if(n&1&&(_(0,"img",15),S(1,"cmsthumbnail")),n&2){let t=g();f("src",R(E(1,2,t.dataModel.linkMainImageIdSrc)),z)}}function Ms(n,d){n&1&&_(0,"i",22)}function Es(n,d){n&1&&_(0,"i",23)}function vs(n,d){if(n&1&&(l(0,"mat-error"),c(1),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2){let t=g();o(),h(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," is "),o(2),A(E(4,2,"MESSAGE.required"))}}function Is(n,d){if(n&1){let t=I();l(0,"div",16)(1,"label",29),c(2),r(),l(3,"input",30,4),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.iconFont,e)||(a.dataModel.iconFont=e),m(e)}),v("iconPickerSelect",function(e){p(t);let a=g();return m(a.onIconPickerSelect(e))}),r(),l(5,"span",31),_(6,"i",32),r()()}if(n&2){let t=g();o(2),h(" ",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),b("ngModel",t.dataModel.iconFont),f("iconPicker",t.dataModel.iconFont)("ipIconPack",X(9,Ss))("ipPosition","top")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessEditField)),o(3),f("ngClass",t.dataModel.iconFont)}}function bs(n,d){if(n&1){let t=I();l(0,"div",24)(1,"label",33),c(2),r(),l(3,"div",34)(4,"div",35)(5,"input",36,5),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.iconColor,e)||(a.dataModel.iconColor=e),m(e)}),r()(),l(7,"div",37),_(8,"ngx-mat-color-toggle",38)(9,"ngx-mat-color-picker",39,6),r()()()}if(n&2){let t=x(10),i=g();o(2),A(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ie("background",i.dataModel.iconColor),f("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),f("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),f("for",t),o(),f("touchUi",!0)("color","primary")}}function Ts(n,d){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function ws(n,d){if(n&1){let t=I();l(0,"div",28)(1,"button",40),v("click",function(){p(t);let e=g();return m(e.onFormCancel())}),_(2,"i",41),c(3),S(4,"translate"),r(),l(5,"button",42),_(6,"i",43),c(7),S(8,"translate"),r()()}if(n&2){g();let t=x(10);o(3),h(" ",E(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!t.form.valid),o(2),h(" ",E(8,5,"ACTION.SAVE")," ")}}var Cn=class Cn extends wt{constructor(t,i,e,a,u,s,k,H,Ie){super(a,new Ci,k,Ie);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateCategoryZoneService=a;this.estatePropertyTypeService=u;this.cmsToastrService=s;this.publicHelper=k;this.cdr=H;this.translate=Ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new vt;this.dataModel=new Ci;this.formInfo=new _e;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCategoryZoneService.setAccessLoad(),this.estateCategoryZoneService.setAccessDataType(It.Editor),this.estateCategoryZoneService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(a=>{this.formInfo.submitResultMessage=a}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(a=>{this.publicHelper.processService.processStart(t,a,this.constructorInfoAreaId)});let i=new Q,e=new q;e.propertyName="LinkCategoryZoneId",e.value=this.requestId,i.filters.push(e),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:a=>{this.dataEstatePropertyTypeModel=a.listItems;let u=[];this.dataEstatePropertyTypeModel.forEach(s=>{u.push(s.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=u,a.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=a.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(a.errorMessage)),this.publicHelper.processService.processStop(t)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCategoryZoneService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorUserCategorySelect(t){this.dataEstatePropertyTypeUsageModel=t}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorLocation(t){this.dataModel.linkLocationIds=t}};Cn.\u0275fac=function(i){return new(i||Cn)(C(we),C(Te),C($),C(ki),C(Bi),C(G),C(N),C(O),C(F))},Cn.\u0275cmp=V({type:Cn,selectors:[["app-estate-category-zone-edit"]],viewQuery:function(i,e){if(i&1&&K(Cs,5),i&2){let a;J(a=Y())&&(e.formGroup=a.first)}},standalone:!1,features:[U],decls:51,vars:58,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder","optionLabel"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let a=I();l(0,"div",7),_(1,"app-progress-spinner",8),l(2,"div",9)(3,"p",10),c(4),r(),l(5,"p"),c(6),S(7,"translate"),r(),_(8,"app-cms-form-result-message",11),l(9,"form",12,0),v("ngSubmit",function(){return p(a),m(e.onFormSubmit())}),l(11,"div",13)(12,"a",14),S(13,"cmsthumbnail"),y(14,ys,2,4,"img",15),r()(),l(15,"div",16)(16,"label",17),v("click",function(){return p(a),m(e.fileManagerOpenForm=!0)}),c(17),S(18,"translate"),r(),l(19,"input",18,1),S(21,"translate"),w("ngModelChange",function(s){return p(a),T(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),m(s)}),v("click",function(){return p(a),m(e.fileManagerOpenForm=!0)}),r(),l(22,"cms-file-manager",19),S(23,"translate"),v("itemSelected",function(s){return p(a),m(e.onActionFileSelected(s))}),w("openFormChange",function(s){return p(a),T(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),m(s)}),r()(),l(24,"div",16)(25,"label",20),c(26),r(),l(27,"input",21,2),w("ngModelChange",function(s){return p(a),T(e.dataModel.title,s)||(e.dataModel.title=s),m(s)}),r(),y(29,Ms,1,0,"i",22),y(30,Es,1,0,"i",23),l(31,"em"),c(32),r(),y(33,vs,5,4,"mat-error"),r(),y(34,Is,7,10,"div",16),y(35,bs,11,11,"div",24),c(36),S(37,"translate"),l(38,"app-cms-location-autocomplete",25),S(39,"translate"),S(40,"translate"),v("optionChange",function(s){return p(a),m(e.onActionSelectorLocation(s))}),r(),l(41,"div",16)(42,"label",26),c(43),r(),l(44,"textarea",27,3),w("ngModelChange",function(s){return p(a),T(e.dataModel.description,s)||(e.dataModel.description=s),m(s)}),c(46,"                    "),r(),l(47,"em"),c(48),r(),y(49,Ts,5,3,"mat-error"),r(),y(50,ws,9,7,"div",28),r()()()}if(i&2){let a=x(28),u=x(45);o(),f("optionsInfoAreaId",e.constructorInfoAreaId),o(3),h(" ",e.formInfo.formTitle," "),o(2),h(" ",E(7,42,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",e.formInfo),o(4),f("href",R(E(13,44,e.dataModel.linkMainImageIdSrc)),z),o(2),M((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?14:-1),o(3),A(E(18,46,"TITLE.PICTURE")),o(2),f("placeholder",R(E(21,48,"TITLE.Original_File_ID"))),b("ngModel",e.dataModel.linkMainImageId),o(3),f("language",e.appLanguage)("isPopup",!0)("openSelectFileDescription",E(23,50,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),b("openForm",e.fileManagerOpenForm),f("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModel.title),o(2),M(a.value?-1:29),o(),M(a.value?30:-1),o(2),h("",a.value.length," / 100"),o(),M(a.errors!=null&&a.errors.required?33:-1),o(),M(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?34:-1),o(),M(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?35:-1),o(),h(" ",E(37,52,"TITLE.Geographical_Areas")," : "),o(2),f("optionDisabled",!(e.fieldsInfo.linkLocationIds!=null&&e.fieldsInfo.linkLocationIds.accessEditField))("optionSelectForce",e.dataModel.linkLocationIds)("optionPlaceholder",E(39,54,"TITLE.Region"))("optionLabel",E(40,56,"TITLE.Geographical_Areas")),o(5),A(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModel.description),o(4),h("",u.value.length," / 500"),o(),M(u.errors!=null&&u.errors.required?49:-1),o(),M(e.formInfo.submitButtonEnabled?50:-1)}},dependencies:[Z,ue,ee,te,ce,re,fe,ge,me,pe,he,Ne,oe,Hi,ae,Ce,St,_t,ht,gt,bt,W,Ae],encapsulation:2});var Ho=Cn;var As=()=>[5,10,20,100];function Rs(n,d){if(n&1){let t=I();l(0,"div",15)(1,"a",39),v("click",function(){p(t);let e=g();return m(e.onActionButtonNewRow())}),_(2,"i",40)(3,"br"),r(),l(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.ADD")," "))}function Ps(n,d){if(n&1){let t=I();l(0,"div",15)(1,"a",41),v("click",function(){p(t);let e=g();return m(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",42)(3,"br"),r(),l(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.EDIT")," "))}function Ds(n,d){if(n&1){let t=I();l(0,"div",15)(1,"a",43),v("click",function(){p(t);let e=g();return m(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",44)(3,"br"),r(),l(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.DELETE")," "))}function xs(n,d){n&1&&(l(0,"mat-header-cell",45),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",E(2,1,"TITLE.PICTURE")," "))}function Ls(n,d){if(n&1&&(_(0,"img",46),S(1,"cmsthumbnail")),n&2){let t=g().$implicit;f("src",R(E(1,2,t.linkMainImageIdSrc)),z)}}function ks(n,d){if(n&1&&(l(0,"mat-cell"),y(1,Ls,2,4,"img",46),r()),n&2){let t=d.$implicit;o(),M((t==null||t.linkMainImageIdSrc==null?null:t.linkMainImageIdSrc.length)>0?1:-1)}}function Vs(n,d){if(n&1&&(l(0,"mat-header-cell",45),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle," ")}}function Bs(n,d){if(n&1&&(l(0,"mat-cell"),_(1,"i",47),r()),n&2){let t=d.$implicit;o(),ie("color",t.iconColor),f("ngClass",t.iconFont)}}function Fs(n,d){if(n&1&&(l(0,"mat-header-cell",45),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function Gs(n,d){if(n&1&&(l(0,"mat-cell"),_(1,"i",47),r()),n&2){let t=d.$implicit;o(),ie("color",t.iconColor),f("ngClass",t.iconFont)}}function Os(n,d){if(n&1&&(l(0,"mat-header-cell",45),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," ")}}function Ns(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.title," ")}}function Ws(n,d){if(n&1&&(l(0,"mat-header-cell",45),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle," ")}}function Hs(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.description," ")}}function Us(n,d){n&1&&(l(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",E(2,1,"TITLE.OPTION")," "))}function js(n,d){if(n&1&&(l(0,"mat-cell",48)(1,"button",49)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),n&2){let t=x(5);o(),f("matMenuTriggerFor",t)}}function qs(n,d){n&1&&_(0,"mat-header-row")}function Qs(n,d){if(n&1){let t=I();l(0,"mat-row",50),v("click",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))})("rtclick",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))}),r()}if(n&2){let t=d.$implicit,i=g();ne("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Sn=class Sn extends st{constructor(t,i,e,a,u,s,k,H,Ie,be,je,Ht){super(t,new Ci,je,u,k);this.contentService=t;this.cmsConfirmationDialogService=i;this.cmsToastrService=e;this.router=a;this.tokenHelper=u;this.cdr=s;this.translate=k;this.themeService=H;this.cmsStoreService=Ie;this.pageInfo=be;this.publicHelper=je;this.dialog=Ht;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Q;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","IconFont","Description"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IconFont","Description"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:xt=>this.onSubmitOptionsSearch(xt)},this.filteModelContent.sortColumn="title",this.filteModelContent.sortType=B.Ascending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>ke(this,null,function*(){this.tokenInfo=t,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ci);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-wide",this.dialog.open(Wo,{height:"90%",panelClass:t,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ho,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],e=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(a=>{if(a){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(u,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonContentDetailList(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/property-detail/LinkCategoryZoneId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-detail/LinkCategoryZoneId/",this.tableRowSelected.id])}onActionButtonContentList(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/property/LinkCategoryZoneId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkCategoryZoneId/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),u=new q;u.propertyName="recordStatus",u.value=Ue.Available,a.filters.push(u),this.contentService.ServiceGetCount(a).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Sn.\u0275fac=function(i){return new(i||Sn)(C(ki),C(Oe),C(G),C(Ge),C(se),C(O),C(F),C(Wt),C(le),C(lt),C(N),C(He))},Sn.\u0275cmp=V({type:Sn,selectors:[["app-estate-category-zone-list"]],standalone:!1,features:[U],decls:67,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,e){if(i&1){let a=I();l(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(s){return p(a),T(e.viewGuideNotice,s)||(e.viewGuideNotice=s),m(s)}),v("optionOnActionButtonMemoRow",function(){return p(a),m(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(a),m(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(a),m(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(a),m(e.onActionButtonPrintRow())}),P(1,4),c(2," -------------------------------------- "),D(),Fe(3,5)(4,6),P(5,7),l(6,"a",8),v("click",function(){return p(a),m(e.viewGuideNotice=!e.viewGuideNotice)}),_(7,"i",9),r(),l(8,"a",8),v("click",function(){return p(a),m(e.onActionButtonReload())}),_(9,"i",10),r(),D(),P(10,11),l(11,"a",12),v("click",function(){return p(a),m(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(12,"mat-slide-toggle",13),c(13),S(14,"translate"),r(),l(15,"a",12),v("click",function(){return p(a),m(e.onActionButtonStatist())}),_(16,"mat-slide-toggle",13),c(17),S(18,"translate"),r(),D(),P(19,14),y(20,Rs,7,3,"div",15),D(),P(21,16),y(22,Ps,7,3,"div",15),y(23,Ds,7,3,"div",15),l(24,"div",15)(25,"a",17),v("click",function(s){return p(a),m(e.onActionButtonContentDetailList(e.tableRowSelected,s))}),_(26,"i",18)(27,"br"),r(),l(28,"p",19),c(29),S(30,"translate"),r()(),l(31,"div",15)(32,"a",17),v("click",function(s){return p(a),m(e.onActionButtonContentList(e.tableRowSelected,s))}),_(33,"i",20)(34,"br"),r(),l(35,"p",19),c(36),S(37,"translate"),r()(),D(),P(38,21),l(39,"app-cms-search-list",22),w("optionsChange",function(s){return p(a),T(e.optionsSearch,s)||(e.optionsSearch=s),m(s)}),r(),l(40,"app-cms-statist-list",22),w("optionsChange",function(s){return p(a),T(e.optionsStatist,s)||(e.optionsStatist=s),m(s)}),r(),D(),P(41,23),l(42,"mat-table",24,0),v("matSortChange",function(){p(a);let s=x(43);return m(e.onTableSortData(s))}),P(44,25),L(45,xs,3,3,"mat-header-cell",26)(46,ks,2,1,"mat-cell",27),D(),P(47,28),L(48,Vs,2,1,"mat-header-cell",26)(49,Bs,2,3,"mat-cell",27),D(),P(50,29),L(51,Fs,2,1,"mat-header-cell",26)(52,Gs,2,3,"mat-cell",27),D(),P(53,30),L(54,Os,2,1,"mat-header-cell",26)(55,Ns,2,1,"mat-cell",27),D(),P(56,31),L(57,Ws,2,1,"mat-header-cell",26)(58,Hs,2,1,"mat-cell",27),D(),P(59,32),L(60,Us,3,3,"mat-header-cell",33)(61,js,6,1,"mat-cell",34),D(),L(62,qs,1,0,"mat-header-row",35)(63,Qs,1,2,"mat-row",36),r(),D(),P(64,37),l(65,"mat-paginator",38,1),v("page",function(s){return p(a),m(e.onTablePageingData(s))}),r(),D(),r()}i&2&&(f("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",e.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),o(9),ne("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),o(3),f("checked",e.optionsSearch.data.show),o(),h("",E(14,27,"ACTION.SEARCH")," "),o(3),f("checked",e.optionsStatist.data.show),o(),h("",E(18,29,"ACTION.STATIST")," "),o(3),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?20:-1),o(2),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?22:-1),o(),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?23:-1),o(6),h(" ",E(30,31,"ACTION.DETAIL")," "),o(7),h(" ",E(37,33,"ACTION.PROPERTYLIST")," "),o(3),b("options",e.optionsSearch),o(),b("options",e.optionsStatist),o(2),f("dataSource",e.tableSource),o(20),f("matHeaderRowDef",e.tabledisplayedColumns),o(),f("matRowDefColumns",e.tabledisplayedColumns),o(2),f("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",X(35,As)))},dependencies:[Z,We,ye,qe,Qe,Ze,ze,Ke,Je,Ye,$e,nt,et,Xe,ot,tt,it,at,rt,dt,ct,pt,mt,W,Ae],encapsulation:2});var yn=Sn;var zs=["vform"],Ks=n=>({direction:n});function Js(n,d){n&1&&_(0,"i",26)}function Ys(n,d){n&1&&_(0,"i",27)}function Xs(n,d){n&1&&(l(0,"mat-error"),c(1," Title is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function $s(n,d){n&1&&_(0,"i",26)}function ed(n,d){n&1&&_(0,"i",27)}function td(n,d){n&1&&(l(0,"mat-error"),c(1," titleResourceLanguage is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function id(n,d){n&1&&_(0,"i",26)}function nd(n,d){n&1&&_(0,"i",27)}function od(n,d){n&1&&(l(0,"mat-error"),c(1," orderTitle is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function ad(n,d){n&1&&_(0,"i",26)}function rd(n,d){n&1&&_(0,"i",27)}function ld(n,d){n&1&&(l(0,"mat-error"),c(1," orderTitleResourceLanguage is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function sd(n,d){n&1&&_(0,"i",26)}function dd(n,d){n&1&&_(0,"i",27)}function cd(n,d){n&1&&(l(0,"mat-error"),c(1," TitleSoldIt is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function pd(n,d){n&1&&_(0,"i",26)}function md(n,d){n&1&&_(0,"i",27)}function ud(n,d){n&1&&(l(0,"mat-error"),c(1," titleSoldItResourceLanguage is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function fd(n,d){if(n&1){let t=I();l(0,"div",44)(1,"div",58)(2,"h5",59),c(3),r()(),l(4,"div",60)(5,"div",61)(6,"input",62),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.allowPriceInquiryCalculate,e)||(a.dataModel.allowPriceInquiryCalculate=e),m(e)}),r(),_(7,"label",63),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.allowPriceInquiryCalculate==null?null:t.fieldsInfo.allowPriceInquiryCalculate.fieldTitle," "),o(3),b("ngModel",t.dataModel.allowPriceInquiryCalculate)}}function gd(n,d){if(n&1){let t=I();l(0,"div",44)(1,"div",58)(2,"h5",59),c(3),r()(),l(4,"div",60)(5,"div",61)(6,"input",64),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.hasSalePrice,e)||(a.dataModel.hasSalePrice=e),m(e)}),r(),_(7,"label",65),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.hasSalePrice==null?null:t.fieldsInfo.hasSalePrice.fieldTitle," "),o(3),b("ngModel",t.dataModel.hasSalePrice)}}function hd(n,d){if(n&1){let t=I();l(0,"div",44)(1,"div",58)(2,"h5",59),c(3),r()(),l(4,"div",60)(5,"div",61)(6,"input",66),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.hasRentPrice,e)||(a.dataModel.hasRentPrice=e),m(e)}),r(),_(7,"label",67),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.hasRentPrice==null?null:t.fieldsInfo.hasRentPrice.fieldTitle," "),o(3),b("ngModel",t.dataModel.hasRentPrice)}}function _d(n,d){if(n&1){let t=I();l(0,"div",44)(1,"div",58)(2,"h5",59),c(3),r()(),l(4,"div",60)(5,"div",61)(6,"input",68),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.hasDepositPrice,e)||(a.dataModel.hasDepositPrice=e),m(e)}),r(),_(7,"label",69),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.hasDepositPrice==null?null:t.fieldsInfo.hasDepositPrice.fieldTitle," "),o(3),b("ngModel",t.dataModel.hasDepositPrice)}}function Cd(n,d){if(n&1){let t=I();l(0,"div",44)(1,"div",58)(2,"h5",59),c(3),r()(),l(4,"div",60)(5,"div",61)(6,"input",70),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.hasPeriodPrice,e)||(a.dataModel.hasPeriodPrice=e),m(e)}),r(),_(7,"label",71),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.hasPeriodPrice==null?null:t.fieldsInfo.hasPeriodPrice.fieldTitle," "),o(3),b("ngModel",t.dataModel.hasPeriodPrice)}}function Sd(n,d){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function yd(n,d){n&1&&_(0,"hr")}function Md(n,d){if(n&1){let t=I();l(0,"div",44)(1,"div",58)(2,"h5",72),c(3),r()(),l(4,"div",60)(5,"div",61)(6,"input",73),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.salePriceAllowAgreement,e)||(a.dataModel.salePriceAllowAgreement=e),m(e)}),r(),_(7,"label",74),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.salePriceAllowAgreement==null?null:t.fieldsInfo.salePriceAllowAgreement.fieldTitle," "),o(3),b("ngModel",t.dataModel.salePriceAllowAgreement)}}function Ed(n,d){if(n&1){let t=I();l(0,"div",23)(1,"label",75),c(2),r(),l(3,"input",76,8),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.titleSalePrice,e)||(a.dataModel.titleSalePrice=e),m(e)}),r(),l(5,"em"),c(6),r()()}if(n&2){let t=x(4),i=g();o(2),A(i.fieldsInfo.titleSalePrice==null?null:i.fieldsInfo.titleSalePrice.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.titleSalePrice==null?null:i.fieldsInfo.titleSalePrice.fieldTitle)),b("ngModel",i.dataModel.titleSalePrice),o(3),h("",t.value.length," / 100")}}function vd(n,d){if(n&1){let t=I();l(0,"div",23)(1,"label",77),c(2),r(),l(3,"input",78,9),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.titleSalePriceResourceLanguage,e)||(a.dataModel.titleSalePriceResourceLanguage=e),m(e)}),r(),l(5,"em"),c(6),r()()}if(n&2){let t=x(4),i=g();o(2),A(i.fieldsInfo.titleSalePriceResourceLanguage==null?null:i.fieldsInfo.titleSalePriceResourceLanguage.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.titleSalePriceResourceLanguage==null?null:i.fieldsInfo.titleSalePriceResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleSalePriceResourceLanguage),o(3),h("",t.value.length," / 100")}}function Id(n,d){n&1&&_(0,"hr")}function bd(n,d){if(n&1){let t=I();l(0,"div",44)(1,"div",58)(2,"h5",79),c(3),r()(),l(4,"div",60)(5,"div",61)(6,"input",80),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.rentPriceAllowAgreement,e)||(a.dataModel.rentPriceAllowAgreement=e),m(e)}),r(),_(7,"label",81),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.rentPriceAllowAgreement==null?null:t.fieldsInfo.rentPriceAllowAgreement.fieldTitle," "),o(3),b("ngModel",t.dataModel.rentPriceAllowAgreement)}}function Td(n,d){if(n&1){let t=I();l(0,"div",23)(1,"label",82),c(2),r(),l(3,"input",83,8),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.titleRentPrice,e)||(a.dataModel.titleRentPrice=e),m(e)}),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.titleRentPrice==null?null:t.fieldsInfo.titleRentPrice.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.titleRentPrice==null?null:t.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",t.dataModel.titleRentPrice)}}function wd(n,d){if(n&1){let t=I();l(0,"div",23)(1,"label",84),c(2),r(),l(3,"input",85,10),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.titleRentPriceResourceLanguage,e)||(a.dataModel.titleRentPriceResourceLanguage=e),m(e)}),r(),l(5,"em"),c(6),r()()}if(n&2){let t=x(4),i=g();o(2),A(i.fieldsInfo.titleRentPriceResourceLanguage==null?null:i.fieldsInfo.titleRentPriceResourceLanguage.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",i.dataModel.titleRentPriceResourceLanguage),o(3),h("",t.value.length," / 100")}}function Ad(n,d){if(n&1){let t=I();l(0,"div",23)(1,"label",86),c(2),r(),l(3,"input",87,11),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.rentPricePriodTitle,e)||(a.dataModel.rentPricePriodTitle=e),m(e)}),r(),l(5,"em"),c(6),r()()}if(n&2){let t=x(4),i=g();o(2),A(i.fieldsInfo.rentPricePriodTitle==null?null:i.fieldsInfo.rentPricePriodTitle.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",i.dataModel.rentPricePriodTitle),o(3),h("",t.value.length," / 100")}}function Rd(n,d){if(n&1){let t=I();l(0,"div",23)(1,"label",88),c(2),r(),l(3,"input",89,12),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.rentPricePriodTitleResourceLanguage,e)||(a.dataModel.rentPricePriodTitleResourceLanguage=e),m(e)}),r(),l(5,"em"),c(6),r()()}if(n&2){let t=x(4),i=g();o(2),A(i.fieldsInfo.rentPricePriodTitleResourceLanguage==null?null:i.fieldsInfo.rentPricePriodTitleResourceLanguage.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",i.dataModel.rentPricePriodTitleResourceLanguage),o(3),h("",t.value.length," / 100")}}function Pd(n,d){n&1&&_(0,"hr")}function Dd(n,d){if(n&1){let t=I();l(0,"div",44)(1,"div",58)(2,"h5",79),c(3),r()(),l(4,"div",60)(5,"div",61)(6,"input",90),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.depositPriceAllowAgreement,e)||(a.dataModel.depositPriceAllowAgreement=e),m(e)}),r(),_(7,"label",91),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.depositPriceAllowAgreement==null?null:t.fieldsInfo.depositPriceAllowAgreement.fieldTitle," "),o(3),b("ngModel",t.dataModel.depositPriceAllowAgreement)}}function xd(n,d){if(n&1){let t=I();l(0,"div",23)(1,"label",92),c(2),r(),l(3,"input",93,13),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.titleDepositPrice,e)||(a.dataModel.titleDepositPrice=e),m(e)}),r(),l(5,"em"),c(6),r()()}if(n&2){let t=x(4),i=g();o(2),A(i.fieldsInfo.titleDepositPrice==null?null:i.fieldsInfo.titleDepositPrice.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.titleDepositPrice==null?null:i.fieldsInfo.titleDepositPrice.fieldTitle)),b("ngModel",i.dataModel.titleDepositPrice),o(3),h("",t.value.length," / 100")}}function Ld(n,d){if(n&1){let t=I();l(0,"div",23)(1,"label",94),c(2),r(),l(3,"input",95,14),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.titleDepositPriceResourceLanguage,e)||(a.dataModel.titleDepositPriceResourceLanguage=e),m(e)}),r(),l(5,"em"),c(6),r()()}if(n&2){let t=x(4),i=g();o(2),A(i.fieldsInfo.titleDepositPriceResourceLanguage==null?null:i.fieldsInfo.titleDepositPriceResourceLanguage.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.titleDepositPriceResourceLanguage==null?null:i.fieldsInfo.titleDepositPriceResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleDepositPriceResourceLanguage),o(3),h("",t.value.length," / 100")}}function kd(n,d){n&1&&_(0,"hr")}function Vd(n,d){if(n&1){let t=I();l(0,"div",44)(1,"div",58)(2,"h5",79),c(3),r()(),l(4,"div",60)(5,"div",61)(6,"input",96),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.periodPriceAllowAgreement,e)||(a.dataModel.periodPriceAllowAgreement=e),m(e)}),r(),_(7,"label",97),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.periodPriceAllowAgreement==null?null:t.fieldsInfo.periodPriceAllowAgreement.fieldTitle," "),o(3),b("ngModel",t.dataModel.periodPriceAllowAgreement)}}function Bd(n,d){if(n&1){let t=I();l(0,"div",23)(1,"label",98),c(2),r(),l(3,"input",99,15),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.titlePeriodPrice,e)||(a.dataModel.titlePeriodPrice=e),m(e)}),r(),l(5,"em"),c(6),r()()}if(n&2){let t=x(4),i=g();o(2),A(i.fieldsInfo.titlePeriodPrice==null?null:i.fieldsInfo.titlePeriodPrice.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.titlePeriodPrice==null?null:i.fieldsInfo.titlePeriodPrice.fieldTitle)),b("ngModel",i.dataModel.titlePeriodPrice),o(3),h("",t.value.length," / 100")}}function Fd(n,d){if(n&1){let t=I();l(0,"div",23)(1,"label",100),c(2),r(),l(3,"input",101,16),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.titlePeriodPriceResourceLanguage,e)||(a.dataModel.titlePeriodPriceResourceLanguage=e),m(e)}),r(),l(5,"em"),c(6),r()()}if(n&2){let t=x(4),i=g();o(2),A(i.fieldsInfo.titlePeriodPriceResourceLanguage==null?null:i.fieldsInfo.titlePeriodPriceResourceLanguage.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.titlePeriodPriceResourceLanguage==null?null:i.fieldsInfo.titlePeriodPriceResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titlePeriodPriceResourceLanguage),o(3),h("",t.value.length," / 100")}}function Gd(n,d){if(n&1&&(l(0,"button",104),_(1,"i",105),c(2),S(3,"translate"),r()),n&2){g(2);let t=x(10);f("disabled",!t.form.valid),o(2),h(" ",E(3,2,"ACTION.SAVE")," ")}}function Od(n,d){if(n&1){let t=I();l(0,"div",57)(1,"button",102),v("click",function(){p(t);let e=g();return m(e.onFormCancel())}),_(2,"i",103),c(3),S(4,"translate"),r(),y(5,Gd,4,4,"button",104),r()}if(n&2){let t=g();o(3),h(" ",E(4,2,"ACTION.CANCEL")," "),o(2),M(t.formInfo.submitButtonEnabled?5:-1)}}var Mn=class Mn extends Tt{constructor(t,i,e,a,u,s,k,H,Ie,be){super(a,new Si,k,be);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateContractTypeService=a;this.cmsToastrService=u;this.cmsStoreService=s;this.publicHelper=k;this.cdr=H;this.tokenHelper=Ie;this.translate=be;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new Xi;this.dataModelResult=new Le;this.dataModel=new Si;this.formInfo=new _e;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Mn.\u0275fac=function(i){return new(i||Mn)(C(we),C(Te),C($),C(Jt),C(G),C(le),C(N),C(O),C(se),C(F))},Mn.\u0275cmp=V({type:Mn,selectors:[["app-estate-contract-type-add"]],viewQuery:function(i,e){if(i&1&&K(zs,5),i&2){let a;J(a=Y())&&(e.formGroup=a.first)}},standalone:!1,features:[U],decls:140,vars:116,consts:[["vform","ngForm"],["Title",""],["titleResourceLanguage",""],["orderTitle",""],["orderTitleResourceLanguage",""],["TitleSoldIt",""],["titleSoldItResourceLanguage",""],["Description",""],["TitleSalePrice",""],["titleSalePriceResourceLanguage",""],["titleRentPriceResourceLanguage",""],["rentPricePriodTitle",""],["rentPricePriodTitleResourceLanguage",""],["TitleDepositPrice",""],["titleDepositPriceResourceLanguage",""],["TitlePeriodPrice",""],["titlePeriodPriceResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.orderTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitle","minlength","3","maxlength","100","required","","id","dataModel.orderTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.orderTitleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitleML","id","dataModel.orderTitleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.orderTitleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.orderTitleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.titleSoldIt",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldIt","minlength","1","maxlength","100","required","","id","dataModel.titleSoldIt",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSoldItML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldItML","id","dataModel.titleSoldItML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleSoldItResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldItResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleSoldItResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","mb-3"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSalePriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePriceML","id","dataModel.titleSalePriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleRentPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPriceML","id","dataModel.titleRentPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.rentPricePriodTitleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitleML","id","dataModel.rentPricePriodTitleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleDepositPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPriceML","id","dataModel.titleDepositPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titlePeriodPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPriceML","id","dataModel.titlePeriodPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],[1,"pt-1"],["data-trigger-switch","dataModel.hasPeriodPrice",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.allowPriceInquiryCalculate","name","dataModel.allowPriceInquiryCalculate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.allowPriceInquiryCalculate",1,"custom-control-label"],["type","checkbox","id","dataModel.hasSalePrice","name","dataModel.hasSalePrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasSalePrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasRentPrice","name","dataModel.hasRentPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasRentPrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasDepositPrice","name","dataModel.hasDepositPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasDepositPrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasPeriodPrice","name","dataModel.hasPeriodPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasPeriodPrice",1,"custom-control-label"],["data-trigger-switch","dataModel.salePriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","dataModel.salePriceAllowAgreement","name","dataModel.salePriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.salePriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleSalePrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePrice","minlength","1","maxlength","100","id","dataModel.titleSalePrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSalePriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleSalePriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["data-trigger-switch","dataModel.rentPriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","dataModel.rentPriceAllowAgreement","name","dataModel.rentPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleRentPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPrice","minlength","1","maxlength","100","id","dataModel.titleRentPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleRentPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleRentPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rentPricePriodTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitle","minlength","1","maxlength","100","id","dataModel.rentPricePriodTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rentPricePriodTitleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitleResourceLanguage","minlength","1","maxlength","100","id","dataModel.rentPricePriodTitleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","checkbox","id","dataModel.depositPriceAllowAgreement","name","dataModel.depositPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleDepositPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPrice","minlength","1","maxlength","100","id","dataModel.titleDepositPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleDepositPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleDepositPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","checkbox","id","dataModel.periodPriceAllowAgreement","name","dataModel.periodPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titlePeriodPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPrice","minlength","1","maxlength","100","id","dataModel.titlePeriodPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titlePeriodPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titlePeriodPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let a=I();l(0,"div",17),_(1,"app-progress-spinner",18),l(2,"div",19)(3,"p",20),c(4),r(),l(5,"p"),c(6),S(7,"translate"),r(),_(8,"app-cms-form-result-message",21),l(9,"form",22,0),v("ngSubmit",function(){return p(a),m(e.onFormSubmit())}),l(11,"div",23)(12,"label",24),c(13),r(),l(14,"input",25,1),w("ngModelChange",function(s){return p(a),T(e.dataModel.title,s)||(e.dataModel.title=s),m(s)}),r(),y(16,Js,1,0,"i",26),y(17,Ys,1,0,"i",27),l(18,"em"),c(19),r(),y(20,Xs,5,3,"mat-error"),r(),l(21,"div",23)(22,"label",28),c(23),r(),l(24,"input",29),w("ngModelChange",function(s){return p(a),T(e.dataModel.titleML,s)||(e.dataModel.titleML=s),m(s)}),r()(),l(25,"div",23)(26,"label",30),c(27),r(),l(28,"input",31,2),w("ngModelChange",function(s){return p(a),T(e.dataModel.titleResourceLanguage,s)||(e.dataModel.titleResourceLanguage=s),m(s)}),r(),y(30,$s,1,0,"i",26),y(31,ed,1,0,"i",27),l(32,"em"),c(33),r(),y(34,td,5,3,"mat-error"),r(),_(35,"hr"),l(36,"div",23)(37,"label",32),c(38),r(),l(39,"input",33,3),w("ngModelChange",function(s){return p(a),T(e.dataModel.orderTitle,s)||(e.dataModel.orderTitle=s),m(s)}),r(),y(41,id,1,0,"i",26),y(42,nd,1,0,"i",27),l(43,"em"),c(44),r(),y(45,od,5,3,"mat-error"),r(),l(46,"div",23)(47,"label",34),c(48),r(),l(49,"input",35),w("ngModelChange",function(s){return p(a),T(e.dataModel.orderTitleML,s)||(e.dataModel.orderTitleML=s),m(s)}),r()(),l(50,"div",23)(51,"label",36),c(52),r(),l(53,"input",37,4),w("ngModelChange",function(s){return p(a),T(e.dataModel.orderTitleResourceLanguage,s)||(e.dataModel.orderTitleResourceLanguage=s),m(s)}),r(),y(55,ad,1,0,"i",26),y(56,rd,1,0,"i",27),l(57,"em"),c(58),r(),y(59,ld,5,3,"mat-error"),r(),l(60,"div",23)(61,"label",38),c(62),r(),l(63,"input",39,5),w("ngModelChange",function(s){return p(a),T(e.dataModel.titleSoldIt,s)||(e.dataModel.titleSoldIt=s),m(s)}),r(),y(65,sd,1,0,"i",26),y(66,dd,1,0,"i",27),l(67,"em"),c(68),r(),y(69,cd,5,3,"mat-error"),r(),l(70,"div",23)(71,"label",40),c(72),r(),l(73,"input",41,5),w("ngModelChange",function(s){return p(a),T(e.dataModel.titleSoldItML,s)||(e.dataModel.titleSoldItML=s),m(s)}),r()(),l(75,"div",23)(76,"label",42),c(77),r(),l(78,"input",43,6),w("ngModelChange",function(s){return p(a),T(e.dataModel.titleSoldItResourceLanguage,s)||(e.dataModel.titleSoldItResourceLanguage=s),m(s)}),r(),y(80,pd,1,0,"i",26),y(81,md,1,0,"i",27),l(82,"em"),c(83),r(),y(84,ud,5,3,"mat-error"),r(),y(85,fd,8,2,"div",44),y(86,gd,8,2,"div",44),y(87,hd,8,2,"div",44),y(88,_d,8,2,"div",44),y(89,Cd,8,2,"div",44),l(90,"div",23)(91,"label",45),c(92),r(),l(93,"textarea",46,7),w("ngModelChange",function(s){return p(a),T(e.dataModel.description,s)||(e.dataModel.description=s),m(s)}),r(),l(95,"em"),c(96),r(),y(97,Sd,5,3,"mat-error"),r(),y(98,yd,1,0,"hr"),y(99,Md,8,2,"div",44),y(100,Ed,7,5,"div",23),l(101,"div",23)(102,"label",47),c(103),r(),l(104,"input",48,8),w("ngModelChange",function(s){return p(a),T(e.dataModel.titleSalePriceML,s)||(e.dataModel.titleSalePriceML=s),m(s)}),r(),l(106,"em"),c(107),r()(),y(108,vd,7,5,"div",23),y(109,Id,1,0,"hr"),y(110,bd,8,2,"div",44),y(111,Td,5,4,"div",23),l(112,"div",23)(113,"label",49),c(114),r(),l(115,"input",50),w("ngModelChange",function(s){return p(a),T(e.dataModel.titleRentPriceML,s)||(e.dataModel.titleRentPriceML=s),m(s)}),r()(),y(116,wd,7,5,"div",23),y(117,Ad,7,5,"div",23),l(118,"div",23)(119,"label",51),c(120),r(),l(121,"input",52),w("ngModelChange",function(s){return p(a),T(e.dataModel.rentPricePriodTitleML,s)||(e.dataModel.rentPricePriodTitleML=s),m(s)}),r()(),y(122,Rd,7,5,"div",23),y(123,Pd,1,0,"hr"),y(124,Dd,8,2,"div",44),y(125,xd,7,5,"div",23),l(126,"div",23)(127,"label",53),c(128),r(),l(129,"input",54),w("ngModelChange",function(s){return p(a),T(e.dataModel.titleDepositPriceML,s)||(e.dataModel.titleDepositPriceML=s),m(s)}),r()(),y(130,Ld,7,5,"div",23),y(131,kd,1,0,"hr"),y(132,Vd,8,2,"div",44),y(133,Bd,7,5,"div",23),l(134,"div",23)(135,"label",55),c(136),r(),l(137,"input",56),w("ngModelChange",function(s){return p(a),T(e.dataModel.titlePeriodPriceML,s)||(e.dataModel.titlePeriodPriceML=s),m(s)}),r()(),y(138,Fd,7,5,"div",23),y(139,Od,6,4,"div",57),r()()()}if(i&2){let a=x(15),u=x(29),s=x(40),k=x(54),H=x(64),Ie=x(79),be=x(94),je=x(105);o(),f("optionsInfoAreaId",e.constructorInfoAreaId),o(3),h(" ",e.formInfo.formTitle," "),o(2),h(" ",E(7,112,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",e.formInfo),o(),f("ngStyle",Ft(114,Ks,e.tokenInfo.access.direction)),o(4),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModel.title),o(2),M(a.value?-1:16),o(),M(a.value?17:-1),o(2),h("",a.value.length," / 100"),o(),M(a.errors!=null&&a.errors.required?20:-1),o(3),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),b("ngModel",e.dataModel.titleML),f("disabled",!0),o(3),A(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle)),b("ngModel",e.dataModel.titleResourceLanguage),f("disabled",!0),o(2),M(u.value?-1:30),o(),M(u.value?31:-1),o(2),h("",u.value.length," / 100"),o(),M(u.errors!=null&&u.errors.required?34:-1),o(4),A(e.fieldsInfo.orderTitle==null?null:e.fieldsInfo.orderTitle.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.orderTitle==null?null:e.fieldsInfo.orderTitle.fieldTitle)),b("ngModel",e.dataModel.orderTitle),f("disabled",!0),o(2),M(s.value?-1:41),o(),M(s.value?42:-1),o(2),h("",s.value.length," / 100"),o(),M(s.errors!=null&&s.errors.required?45:-1),o(3),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),b("ngModel",e.dataModel.orderTitleML),f("disabled",!0)("disabled",!0),o(3),A(e.fieldsInfo.orderTitleResourceLanguage==null?null:e.fieldsInfo.orderTitleResourceLanguage.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.orderTitleResourceLanguage==null?null:e.fieldsInfo.orderTitleResourceLanguage.fieldTitle)),b("ngModel",e.dataModel.orderTitleResourceLanguage),f("disabled",!0),o(2),M(k.value?-1:55),o(),M(k.value?56:-1),o(2),h("",k.value.length," / 100"),o(),M(k.errors!=null&&k.errors.required?59:-1),o(3),A(e.fieldsInfo.titleSoldIt==null?null:e.fieldsInfo.titleSoldIt.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.titleSoldIt==null?null:e.fieldsInfo.titleSoldIt.fieldTitle)),b("ngModel",e.dataModel.titleSoldIt),o(2),M(H.value?-1:65),o(),M(H.value?66:-1),o(2),h("",H.value.length," / 100"),o(),M(H.errors!=null&&H.errors.required?69:-1),o(3),A(e.fieldsInfo.titleSoldIt==null?null:e.fieldsInfo.titleSoldIt.fieldTitle),o(),b("ngModel",e.dataModel.titleSoldItML),f("disabled",!0),o(4),A(e.fieldsInfo.titleSoldItResourceLanguage==null?null:e.fieldsInfo.titleSoldItResourceLanguage.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.titleSoldItResourceLanguage==null?null:e.fieldsInfo.titleSoldItResourceLanguage.fieldTitle)),b("ngModel",e.dataModel.titleSoldItResourceLanguage),o(2),M(H.value?-1:80),o(),M(H.value?81:-1),o(2),h("",Ie.value.length," / 100"),o(),M(Ie.errors!=null&&Ie.errors.required?84:-1),o(),M(e.fieldsInfo.allowPriceInquiryCalculate!=null&&e.fieldsInfo.allowPriceInquiryCalculate.accessWatchField?85:-1),o(),M(e.fieldsInfo.hasSalePrice!=null&&e.fieldsInfo.hasSalePrice.accessWatchField?86:-1),o(),M(e.fieldsInfo.hasRentPrice!=null&&e.fieldsInfo.hasRentPrice.accessWatchField?87:-1),o(),M(e.fieldsInfo.hasDepositPrice!=null&&e.fieldsInfo.hasDepositPrice.accessWatchField?88:-1),o(),M(e.fieldsInfo.hasPeriodPrice!=null&&e.fieldsInfo.hasPeriodPrice.accessWatchField?89:-1),o(3),A(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModel.description),o(3),h("",be.value.length," / 500"),o(),M(be.errors!=null&&be.errors.required?97:-1),o(),M(e.dataModel.hasSalePrice?98:-1),o(),M(e.fieldsInfo.salePriceAllowAgreement!=null&&e.fieldsInfo.salePriceAllowAgreement.accessWatchField?99:-1),o(),M(e.dataModel.hasSalePrice?100:-1),o(3),A(e.fieldsInfo.titleSalePrice==null?null:e.fieldsInfo.titleSalePrice.fieldTitle),o(),b("ngModel",e.dataModel.titleSalePriceML),f("disabled",!0),o(3),h("",je.value.length," / 100"),o(),M(e.dataModel.hasSalePrice?108:-1),o(),M(e.dataModel.hasRentPrice?109:-1),o(),M(e.fieldsInfo.rentPriceAllowAgreement!=null&&e.fieldsInfo.rentPriceAllowAgreement.accessWatchField?110:-1),o(),M(e.dataModel.hasRentPrice?111:-1),o(3),A(e.fieldsInfo.titleRentPrice==null?null:e.fieldsInfo.titleRentPrice.fieldTitle),o(),b("ngModel",e.dataModel.titleRentPriceML),f("disabled",!0),o(),M(e.dataModel.hasRentPrice?116:-1),o(),M(e.dataModel.hasRentPrice?117:-1),o(3),A(e.fieldsInfo.rentPricePriodTitle==null?null:e.fieldsInfo.rentPricePriodTitle.fieldTitle),o(),b("ngModel",e.dataModel.rentPricePriodTitleML),f("disabled",!0),o(),M(e.dataModel.hasRentPrice?122:-1),o(),M(e.dataModel.hasDepositPrice?123:-1),o(),M(e.fieldsInfo.depositPriceAllowAgreement!=null&&e.fieldsInfo.depositPriceAllowAgreement.accessWatchField?124:-1),o(),M(e.dataModel.hasDepositPrice?125:-1),o(3),A(e.fieldsInfo.titleDepositPriceML==null?null:e.fieldsInfo.titleDepositPriceML.fieldTitle),o(),b("ngModel",e.dataModel.titleDepositPriceML),f("disabled",!0),o(),M(e.dataModel.hasDepositPrice?130:-1),o(),M(e.dataModel.hasPeriodPrice?131:-1),o(),M(e.fieldsInfo.periodPriceAllowAgreement!=null&&e.fieldsInfo.periodPriceAllowAgreement.accessWatchField?132:-1),o(),M(e.dataModel.hasPeriodPrice?133:-1),o(3),A(e.fieldsInfo.titlePeriodPriceML==null?null:e.fieldsInfo.titlePeriodPriceML.fieldTitle),o(),b("ngModel",e.dataModel.titlePeriodPriceML),f("disabled",!0),o(),M(e.dataModel.hasPeriodPrice?138:-1),o(),M(e.publicHelper.processService.process.inRunAll?-1:139)}},dependencies:[Nt,ue,ee,Vt,te,ce,re,fe,ge,me,pe,he,oe,ae,Ce,Ro,W],encapsulation:2});var Uo=Mn;var Nd=["vform"],Wd=n=>({direction:n});function Hd(n,d){n&1&&_(0,"i",26)}function Ud(n,d){n&1&&_(0,"i",27)}function jd(n,d){n&1&&(l(0,"mat-error"),c(1," Title is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function qd(n,d){n&1&&_(0,"i",26)}function Qd(n,d){n&1&&_(0,"i",27)}function Zd(n,d){n&1&&(l(0,"mat-error"),c(1," titleResourceLanguage is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function zd(n,d){n&1&&_(0,"i",26)}function Kd(n,d){n&1&&_(0,"i",27)}function Jd(n,d){n&1&&(l(0,"mat-error"),c(1," orderTitle is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function Yd(n,d){n&1&&_(0,"i",26)}function Xd(n,d){n&1&&_(0,"i",27)}function $d(n,d){n&1&&(l(0,"mat-error"),c(1," orderTitleResourceLanguage is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function ec(n,d){n&1&&_(0,"i",26)}function tc(n,d){n&1&&_(0,"i",27)}function ic(n,d){n&1&&(l(0,"mat-error"),c(1," TitleSoldIt is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function nc(n,d){n&1&&_(0,"i",26)}function oc(n,d){n&1&&_(0,"i",27)}function ac(n,d){n&1&&(l(0,"mat-error"),c(1," titleSoldItResourceLanguage is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function rc(n,d){if(n&1){let t=I();l(0,"div",44)(1,"div",58)(2,"h5",59),c(3),r()(),l(4,"div",60)(5,"div",61)(6,"input",62),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.allowPriceInquiryCalculate,e)||(a.dataModel.allowPriceInquiryCalculate=e),m(e)}),r(),_(7,"label",63),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.allowPriceInquiryCalculate==null?null:t.fieldsInfo.allowPriceInquiryCalculate.fieldTitle," "),o(3),b("ngModel",t.dataModel.allowPriceInquiryCalculate)}}function lc(n,d){if(n&1){let t=I();l(0,"div",44)(1,"div",58)(2,"h5",59),c(3),r()(),l(4,"div",60)(5,"div",61)(6,"input",64),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.hasSalePrice,e)||(a.dataModel.hasSalePrice=e),m(e)}),r(),_(7,"label",65),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.hasSalePrice==null?null:t.fieldsInfo.hasSalePrice.fieldTitle," "),o(3),b("ngModel",t.dataModel.hasSalePrice)}}function sc(n,d){if(n&1){let t=I();l(0,"div",44)(1,"div",58)(2,"h5",59),c(3),r()(),l(4,"div",60)(5,"div",61)(6,"input",66),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.hasRentPrice,e)||(a.dataModel.hasRentPrice=e),m(e)}),r(),_(7,"label",67),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.hasRentPrice==null?null:t.fieldsInfo.hasRentPrice.fieldTitle," "),o(3),b("ngModel",t.dataModel.hasRentPrice)}}function dc(n,d){if(n&1){let t=I();l(0,"div",44)(1,"div",58)(2,"h5",59),c(3),r()(),l(4,"div",60)(5,"div",61)(6,"input",68),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.hasDepositPrice,e)||(a.dataModel.hasDepositPrice=e),m(e)}),r(),_(7,"label",69),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.hasDepositPrice==null?null:t.fieldsInfo.hasDepositPrice.fieldTitle," "),o(3),b("ngModel",t.dataModel.hasDepositPrice)}}function cc(n,d){if(n&1){let t=I();l(0,"div",44)(1,"div",58)(2,"h5",59),c(3),r()(),l(4,"div",60)(5,"div",61)(6,"input",70),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.hasPeriodPrice,e)||(a.dataModel.hasPeriodPrice=e),m(e)}),r(),_(7,"label",71),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.hasPeriodPrice==null?null:t.fieldsInfo.hasPeriodPrice.fieldTitle," "),o(3),b("ngModel",t.dataModel.hasPeriodPrice)}}function pc(n,d){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function mc(n,d){n&1&&_(0,"hr")}function uc(n,d){if(n&1){let t=I();l(0,"div",44)(1,"div",58)(2,"h5",72),c(3),r()(),l(4,"div",60)(5,"div",61)(6,"input",73),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.salePriceAllowAgreement,e)||(a.dataModel.salePriceAllowAgreement=e),m(e)}),r(),_(7,"label",74),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.salePriceAllowAgreement==null?null:t.fieldsInfo.salePriceAllowAgreement.fieldTitle," "),o(3),b("ngModel",t.dataModel.salePriceAllowAgreement)}}function fc(n,d){if(n&1){let t=I();l(0,"div",23)(1,"label",75),c(2),r(),l(3,"input",76,8),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.titleSalePrice,e)||(a.dataModel.titleSalePrice=e),m(e)}),r(),l(5,"em"),c(6),r()()}if(n&2){let t=x(4),i=g();o(2),A(i.fieldsInfo.titleSalePrice==null?null:i.fieldsInfo.titleSalePrice.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.titleSalePrice==null?null:i.fieldsInfo.titleSalePrice.fieldTitle)),b("ngModel",i.dataModel.titleSalePrice),o(3),h("",t.value.length," / 100")}}function gc(n,d){if(n&1){let t=I();l(0,"div",23)(1,"label",77),c(2),r(),l(3,"input",78,9),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.titleSalePriceResourceLanguage,e)||(a.dataModel.titleSalePriceResourceLanguage=e),m(e)}),r(),l(5,"em"),c(6),r()()}if(n&2){let t=x(4),i=g();o(2),A(i.fieldsInfo.titleSalePriceResourceLanguage==null?null:i.fieldsInfo.titleSalePriceResourceLanguage.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.titleSalePriceResourceLanguage==null?null:i.fieldsInfo.titleSalePriceResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleSalePriceResourceLanguage),o(3),h("",t.value.length," / 100")}}function hc(n,d){n&1&&_(0,"hr")}function _c(n,d){if(n&1){let t=I();l(0,"div",44)(1,"div",58)(2,"h5",79),c(3),r()(),l(4,"div",60)(5,"div",61)(6,"input",80),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.rentPriceAllowAgreement,e)||(a.dataModel.rentPriceAllowAgreement=e),m(e)}),r(),_(7,"label",81),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.rentPriceAllowAgreement==null?null:t.fieldsInfo.rentPriceAllowAgreement.fieldTitle," "),o(3),b("ngModel",t.dataModel.rentPriceAllowAgreement)}}function Cc(n,d){if(n&1){let t=I();l(0,"div",23)(1,"label",82),c(2),r(),l(3,"input",83,8),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.titleRentPrice,e)||(a.dataModel.titleRentPrice=e),m(e)}),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.titleRentPrice==null?null:t.fieldsInfo.titleRentPrice.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.titleRentPrice==null?null:t.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",t.dataModel.titleRentPrice)}}function Sc(n,d){if(n&1){let t=I();l(0,"div",23)(1,"label",84),c(2),r(),l(3,"input",85,10),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.titleRentPriceResourceLanguage,e)||(a.dataModel.titleRentPriceResourceLanguage=e),m(e)}),r(),l(5,"em"),c(6),r()()}if(n&2){let t=x(4),i=g();o(2),A(i.fieldsInfo.titleRentPriceResourceLanguage==null?null:i.fieldsInfo.titleRentPriceResourceLanguage.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",i.dataModel.titleRentPriceResourceLanguage),o(3),h("",t.value.length," / 100")}}function yc(n,d){if(n&1){let t=I();l(0,"div",23)(1,"label",86),c(2),r(),l(3,"input",87,11),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.rentPricePriodTitle,e)||(a.dataModel.rentPricePriodTitle=e),m(e)}),r(),l(5,"em"),c(6),r()()}if(n&2){let t=x(4),i=g();o(2),A(i.fieldsInfo.rentPricePriodTitle==null?null:i.fieldsInfo.rentPricePriodTitle.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",i.dataModel.rentPricePriodTitle),o(3),h("",t.value.length," / 100")}}function Mc(n,d){if(n&1){let t=I();l(0,"div",23)(1,"label",88),c(2),r(),l(3,"input",89,12),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.rentPricePriodTitleResourceLanguage,e)||(a.dataModel.rentPricePriodTitleResourceLanguage=e),m(e)}),r(),l(5,"em"),c(6),r()()}if(n&2){let t=x(4),i=g();o(2),A(i.fieldsInfo.rentPricePriodTitleResourceLanguage==null?null:i.fieldsInfo.rentPricePriodTitleResourceLanguage.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",i.dataModel.rentPricePriodTitleResourceLanguage),o(3),h("",t.value.length," / 100")}}function Ec(n,d){n&1&&_(0,"hr")}function vc(n,d){if(n&1){let t=I();l(0,"div",44)(1,"div",58)(2,"h5",79),c(3),r()(),l(4,"div",60)(5,"div",61)(6,"input",90),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.depositPriceAllowAgreement,e)||(a.dataModel.depositPriceAllowAgreement=e),m(e)}),r(),_(7,"label",91),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.depositPriceAllowAgreement==null?null:t.fieldsInfo.depositPriceAllowAgreement.fieldTitle," "),o(3),b("ngModel",t.dataModel.depositPriceAllowAgreement)}}function Ic(n,d){if(n&1){let t=I();l(0,"div",23)(1,"label",92),c(2),r(),l(3,"input",93,13),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.titleDepositPrice,e)||(a.dataModel.titleDepositPrice=e),m(e)}),r(),l(5,"em"),c(6),r()()}if(n&2){let t=x(4),i=g();o(2),A(i.fieldsInfo.titleDepositPrice==null?null:i.fieldsInfo.titleDepositPrice.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.titleDepositPrice==null?null:i.fieldsInfo.titleDepositPrice.fieldTitle)),b("ngModel",i.dataModel.titleDepositPrice),o(3),h("",t.value.length," / 100")}}function bc(n,d){if(n&1){let t=I();l(0,"div",23)(1,"label",94),c(2),r(),l(3,"input",95,14),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.titleDepositPriceResourceLanguage,e)||(a.dataModel.titleDepositPriceResourceLanguage=e),m(e)}),r(),l(5,"em"),c(6),r()()}if(n&2){let t=x(4),i=g();o(2),A(i.fieldsInfo.titleDepositPriceResourceLanguage==null?null:i.fieldsInfo.titleDepositPriceResourceLanguage.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.titleDepositPriceResourceLanguage==null?null:i.fieldsInfo.titleDepositPriceResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleDepositPriceResourceLanguage),o(3),h("",t.value.length," / 100")}}function Tc(n,d){n&1&&_(0,"hr")}function wc(n,d){if(n&1){let t=I();l(0,"div",44)(1,"div",58)(2,"h5",79),c(3),r()(),l(4,"div",60)(5,"div",61)(6,"input",96),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.periodPriceAllowAgreement,e)||(a.dataModel.periodPriceAllowAgreement=e),m(e)}),r(),_(7,"label",97),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.periodPriceAllowAgreement==null?null:t.fieldsInfo.periodPriceAllowAgreement.fieldTitle," "),o(3),b("ngModel",t.dataModel.periodPriceAllowAgreement)}}function Ac(n,d){if(n&1){let t=I();l(0,"div",23)(1,"label",98),c(2),r(),l(3,"input",99,15),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.titlePeriodPrice,e)||(a.dataModel.titlePeriodPrice=e),m(e)}),r(),l(5,"em"),c(6),r()()}if(n&2){let t=x(4),i=g();o(2),A(i.fieldsInfo.titlePeriodPrice==null?null:i.fieldsInfo.titlePeriodPrice.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.titlePeriodPrice==null?null:i.fieldsInfo.titlePeriodPrice.fieldTitle)),b("ngModel",i.dataModel.titlePeriodPrice),o(3),h("",t.value.length," / 100")}}function Rc(n,d){if(n&1){let t=I();l(0,"div",23)(1,"label",100),c(2),r(),l(3,"input",101,16),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.titlePeriodPriceResourceLanguage,e)||(a.dataModel.titlePeriodPriceResourceLanguage=e),m(e)}),r(),l(5,"em"),c(6),r()()}if(n&2){let t=x(4),i=g();o(2),A(i.fieldsInfo.titlePeriodPriceResourceLanguage==null?null:i.fieldsInfo.titlePeriodPriceResourceLanguage.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.titlePeriodPriceResourceLanguage==null?null:i.fieldsInfo.titlePeriodPriceResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titlePeriodPriceResourceLanguage),o(3),h("",t.value.length," / 100")}}function Pc(n,d){if(n&1){let t=I();l(0,"div",57)(1,"button",102),v("click",function(){p(t);let e=g();return m(e.onFormCancel())}),_(2,"i",103),c(3),S(4,"translate"),r(),l(5,"button",104),_(6,"i",105),c(7),S(8,"translate"),r()()}if(n&2){g();let t=x(10);o(3),h(" ",E(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!t.form.valid),o(2),h(" ",E(8,5,"ACTION.SAVE")," ")}}var En=class En extends wt{constructor(t,i,e,a,u,s,k,H,Ie,be){super(a,new Si,s,be);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateContractTypeService=a;this.cmsToastrService=u;this.publicHelper=s;this.cdr=k;this.tokenHelper=H;this.cmsStoreService=Ie;this.translate=be;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new vt;this.dataModel=new Si;this.formInfo=new _e;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateContractTypeService.setAccessLoad(),this.estateContractTypeService.setAccessDataType(It.Editor),this.estateContractTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};En.\u0275fac=function(i){return new(i||En)(C(we),C(Te),C($),C(Jt),C(G),C(N),C(O),C(se),C(le),C(F))},En.\u0275cmp=V({type:En,selectors:[["app-estate-contract-type-edit"]],viewQuery:function(i,e){if(i&1&&K(Nd,5),i&2){let a;J(a=Y())&&(e.formGroup=a.first)}},standalone:!1,features:[U],decls:137,vars:115,consts:[["vform","ngForm"],["Title",""],["titleResourceLanguage",""],["orderTitle",""],["orderTitleResourceLanguage",""],["TitleSoldIt",""],["titleSoldItResourceLanguage",""],["Description",""],["TitleSalePrice",""],["titleSalePriceResourceLanguage",""],["titleRentPriceResourceLanguage",""],["rentPricePriodTitle",""],["rentPricePriodTitleResourceLanguage",""],["TitleDepositPrice",""],["titleDepositPriceResourceLanguage",""],["TitlePeriodPrice",""],["titlePeriodPriceResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.orderTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitle","minlength","3","maxlength","100","required","","id","dataModel.orderTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.orderTitleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitleML","id","dataModel.orderTitleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.orderTitleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.orderTitleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.titleSoldIt",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldIt","minlength","3","maxlength","100","required","","id","dataModel.titleSoldIt",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSoldItML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldItML","id","dataModel.titleSoldItML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleSoldItResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldItResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleSoldItResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","mb-3"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSalePriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePriceML","id","dataModel.titleSalePriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleRentPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPriceML","id","dataModel.titleRentPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.rentPricePriodTitleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitleML","id","dataModel.rentPricePriodTitleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleDepositPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPriceML","id","dataModel.titleDepositPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titlePeriodPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPriceML","id","dataModel.titlePeriodPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],[1,"pt-1"],["data-trigger-switch","dataModel.hasPeriodPrice",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.allowPriceInquiryCalculate","name","dataModel.allowPriceInquiryCalculate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.allowPriceInquiryCalculate",1,"custom-control-label"],["type","checkbox","id","dataModel.hasSalePrice","name","dataModel.hasSalePrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasSalePrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasRentPrice","name","dataModel.hasRentPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasRentPrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasDepositPrice","name","dataModel.hasDepositPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasDepositPrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasPeriodPrice","name","dataModel.hasPeriodPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasPeriodPrice",1,"custom-control-label"],["data-trigger-switch","dataModel.salePriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","dataModel.salePriceAllowAgreement","name","dataModel.salePriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.salePriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleSalePrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePrice","minlength","1","maxlength","100","id","dataModel.titleSalePrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSalePriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleSalePriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["data-trigger-switch","dataModel.rentPriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","dataModel.rentPriceAllowAgreement","name","dataModel.rentPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleRentPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPrice","minlength","1","maxlength","100","id","dataModel.titleRentPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleRentPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleRentPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rentPricePriodTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitle","minlength","1","maxlength","100","id","dataModel.rentPricePriodTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rentPricePriodTitleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitleResourceLanguage","minlength","1","maxlength","100","id","dataModel.rentPricePriodTitleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","checkbox","id","dataModel.depositPriceAllowAgreement","name","dataModel.depositPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleDepositPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.   titleDepositPrice","minlength","1","maxlength","100","id","dataModel.titleDepositPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleDepositPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleDepositPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","checkbox","id","dataModel.periodPriceAllowAgreement","name","dataModel.periodPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titlePeriodPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPrice","minlength","1","maxlength","100","id","dataModel.titlePeriodPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titlePeriodPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titlePeriodPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let a=I();l(0,"div",17),_(1,"app-progress-spinner",18),l(2,"div",19)(3,"p",20),c(4),r(),l(5,"p"),c(6),S(7,"translate"),r(),_(8,"app-cms-form-result-message",21),l(9,"form",22,0),v("ngSubmit",function(){return p(a),m(e.onFormSubmit())}),l(11,"div",23)(12,"label",24),c(13),r(),l(14,"input",25,1),w("ngModelChange",function(s){return p(a),T(e.dataModel.title,s)||(e.dataModel.title=s),m(s)}),r(),y(16,Hd,1,0,"i",26),y(17,Ud,1,0,"i",27),l(18,"em"),c(19),r(),y(20,jd,5,3,"mat-error"),r(),l(21,"div",23)(22,"label",28),c(23),r(),l(24,"input",29),w("ngModelChange",function(s){return p(a),T(e.dataModel.titleML,s)||(e.dataModel.titleML=s),m(s)}),r()(),l(25,"div",23)(26,"label",30),c(27),r(),l(28,"input",31,2),w("ngModelChange",function(s){return p(a),T(e.dataModel.titleResourceLanguage,s)||(e.dataModel.titleResourceLanguage=s),m(s)}),r(),y(30,qd,1,0,"i",26),y(31,Qd,1,0,"i",27),l(32,"em"),c(33),r(),y(34,Zd,5,3,"mat-error"),r(),_(35,"hr"),l(36,"div",23)(37,"label",32),c(38),r(),l(39,"input",33,3),w("ngModelChange",function(s){return p(a),T(e.dataModel.orderTitle,s)||(e.dataModel.orderTitle=s),m(s)}),r(),y(41,zd,1,0,"i",26),y(42,Kd,1,0,"i",27),l(43,"em"),c(44),r(),y(45,Jd,5,3,"mat-error"),r(),l(46,"div",23)(47,"label",34),c(48),r(),l(49,"input",35),w("ngModelChange",function(s){return p(a),T(e.dataModel.orderTitleML,s)||(e.dataModel.orderTitleML=s),m(s)}),r()(),l(50,"div",23)(51,"label",36),c(52),r(),l(53,"input",37,4),w("ngModelChange",function(s){return p(a),T(e.dataModel.orderTitleResourceLanguage,s)||(e.dataModel.orderTitleResourceLanguage=s),m(s)}),r(),y(55,Yd,1,0,"i",26),y(56,Xd,1,0,"i",27),l(57,"em"),c(58),r(),y(59,$d,5,3,"mat-error"),r(),l(60,"div",23)(61,"label",38),c(62),r(),l(63,"input",39,5),w("ngModelChange",function(s){return p(a),T(e.dataModel.titleSoldIt,s)||(e.dataModel.titleSoldIt=s),m(s)}),r(),y(65,ec,1,0,"i",26),y(66,tc,1,0,"i",27),l(67,"em"),c(68),r(),y(69,ic,5,3,"mat-error"),r(),l(70,"div",23)(71,"label",40),c(72),r(),l(73,"input",41,5),w("ngModelChange",function(s){return p(a),T(e.dataModel.titleSoldItML,s)||(e.dataModel.titleSoldItML=s),m(s)}),r()(),l(75,"div",23)(76,"label",42),c(77),r(),l(78,"input",43,6),w("ngModelChange",function(s){return p(a),T(e.dataModel.titleSoldItResourceLanguage,s)||(e.dataModel.titleSoldItResourceLanguage=s),m(s)}),r(),y(80,nc,1,0,"i",26),y(81,oc,1,0,"i",27),l(82,"em"),c(83),r(),y(84,ac,5,3,"mat-error"),r(),y(85,rc,8,2,"div",44),y(86,lc,8,2,"div",44),y(87,sc,8,2,"div",44),y(88,dc,8,2,"div",44),y(89,cc,8,2,"div",44),l(90,"div",23)(91,"label",45),c(92),r(),l(93,"textarea",46,7),w("ngModelChange",function(s){return p(a),T(e.dataModel.description,s)||(e.dataModel.description=s),m(s)}),r(),l(95,"em"),c(96),r(),y(97,pc,5,3,"mat-error"),r(),y(98,mc,1,0,"hr"),y(99,uc,8,2,"div",44),y(100,fc,7,5,"div",23),l(101,"div",23)(102,"label",47),c(103),r(),l(104,"input",48),w("ngModelChange",function(s){return p(a),T(e.dataModel.titleSalePriceML,s)||(e.dataModel.titleSalePriceML=s),m(s)}),r()(),y(105,gc,7,5,"div",23),y(106,hc,1,0,"hr"),y(107,_c,8,2,"div",44),y(108,Cc,5,4,"div",23),l(109,"div",23)(110,"label",49),c(111),r(),l(112,"input",50),w("ngModelChange",function(s){return p(a),T(e.dataModel.titleRentPriceML,s)||(e.dataModel.titleRentPriceML=s),m(s)}),r()(),y(113,Sc,7,5,"div",23),y(114,yc,7,5,"div",23),l(115,"div",23)(116,"label",51),c(117),r(),l(118,"input",52),w("ngModelChange",function(s){return p(a),T(e.dataModel.rentPricePriodTitleML,s)||(e.dataModel.rentPricePriodTitleML=s),m(s)}),r()(),y(119,Mc,7,5,"div",23),y(120,Ec,1,0,"hr"),y(121,vc,8,2,"div",44),y(122,Ic,7,5,"div",23),l(123,"div",23)(124,"label",53),c(125),r(),l(126,"input",54),w("ngModelChange",function(s){return p(a),T(e.dataModel.titleDepositPriceML,s)||(e.dataModel.titleDepositPriceML=s),m(s)}),r()(),y(127,bc,7,5,"div",23),y(128,Tc,1,0,"hr"),y(129,wc,8,2,"div",44),y(130,Ac,7,5,"div",23),l(131,"div",23)(132,"label",55),c(133),r(),l(134,"input",56),w("ngModelChange",function(s){return p(a),T(e.dataModel.titlePeriodPriceML,s)||(e.dataModel.titlePeriodPriceML=s),m(s)}),r()(),y(135,Rc,7,5,"div",23),y(136,Pc,9,7,"div",57),r()()()}if(i&2){let a=x(15),u=x(29),s=x(40),k=x(54),H=x(64),Ie=x(79),be=x(94);o(),f("optionsInfoAreaId",e.constructorInfoAreaId),o(3),h(" ",e.formInfo.formTitle," "),o(2),h(" ",E(7,111,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",e.formInfo),o(),f("ngStyle",Ft(113,Wd,e.tokenInfo.access.direction)),o(4),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModel.title),o(2),M(a.value?-1:16),o(),M(a.value?17:-1),o(2),h("",a.value.length," / 100"),o(),M(a.errors!=null&&a.errors.required?20:-1),o(3),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),b("ngModel",e.dataModel.titleML),f("disabled",!0),o(3),A(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle)),b("ngModel",e.dataModel.titleResourceLanguage),f("disabled",!0),o(2),M(u.value?-1:30),o(),M(u.value?31:-1),o(2),h("",u.value.length," / 100"),o(),M(u.errors!=null&&u.errors.required?34:-1),o(4),A(e.fieldsInfo.orderTitle==null?null:e.fieldsInfo.orderTitle.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.orderTitle==null?null:e.fieldsInfo.orderTitle.fieldTitle)),b("ngModel",e.dataModel.orderTitle),f("disabled",!0),o(2),M(s.value?-1:41),o(),M(s.value?42:-1),o(2),h("",s.value.length," / 100"),o(),M(s.errors!=null&&s.errors.required?45:-1),o(3),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),b("ngModel",e.dataModel.orderTitleML),f("disabled",!0)("disabled",!0),o(3),A(e.fieldsInfo.orderTitleResourceLanguage==null?null:e.fieldsInfo.orderTitleResourceLanguage.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.orderTitleResourceLanguage==null?null:e.fieldsInfo.orderTitleResourceLanguage.fieldTitle)),b("ngModel",e.dataModel.orderTitleResourceLanguage),f("disabled",!0),o(2),M(k.value?-1:55),o(),M(k.value?56:-1),o(2),h("",k.value.length," / 100"),o(),M(k.errors!=null&&k.errors.required?59:-1),o(3),A(e.fieldsInfo.titleSoldIt==null?null:e.fieldsInfo.titleSoldIt.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.titleSoldIt==null?null:e.fieldsInfo.titleSoldIt.fieldTitle)),b("ngModel",e.dataModel.titleSoldIt),o(2),M(H.value?-1:65),o(),M(H.value?66:-1),o(2),h("",H.value.length," / 100"),o(),M(H.errors!=null&&H.errors.required?69:-1),o(3),A(e.fieldsInfo.titleSoldIt==null?null:e.fieldsInfo.titleSoldIt.fieldTitle),o(),b("ngModel",e.dataModel.titleSoldItML),f("disabled",!0),o(4),A(e.fieldsInfo.titleSoldItResourceLanguage==null?null:e.fieldsInfo.titleSoldItResourceLanguage.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.titleSoldItResourceLanguage==null?null:e.fieldsInfo.titleSoldItResourceLanguage.fieldTitle)),b("ngModel",e.dataModel.titleSoldItResourceLanguage),o(2),M(H.value?-1:80),o(),M(H.value?81:-1),o(2),h("",Ie.value.length," / 100"),o(),M(Ie.errors!=null&&Ie.errors.required?84:-1),o(),M(e.fieldsInfo.allowPriceInquiryCalculate!=null&&e.fieldsInfo.allowPriceInquiryCalculate.accessWatchField?85:-1),o(),M(e.fieldsInfo.hasSalePrice!=null&&e.fieldsInfo.hasSalePrice.accessWatchField?86:-1),o(),M(e.fieldsInfo.hasRentPrice!=null&&e.fieldsInfo.hasRentPrice.accessWatchField?87:-1),o(),M(e.fieldsInfo.hasDepositPrice!=null&&e.fieldsInfo.hasDepositPrice.accessWatchField?88:-1),o(),M(e.fieldsInfo.hasPeriodPrice!=null&&e.fieldsInfo.hasPeriodPrice.accessWatchField?89:-1),o(3),A(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModel.description),o(3),h("",be.value.length," / 500"),o(),M(be.errors!=null&&be.errors.required?97:-1),o(),M(e.dataModel.hasSalePrice?98:-1),o(),M(e.fieldsInfo.salePriceAllowAgreement!=null&&e.fieldsInfo.salePriceAllowAgreement.accessWatchField?99:-1),o(),M(e.dataModel.hasSalePrice?100:-1),o(3),A(e.fieldsInfo.titleSalePrice==null?null:e.fieldsInfo.titleSalePrice.fieldTitle),o(),b("ngModel",e.dataModel.titleSalePriceML),f("disabled",!0),o(),M(e.dataModel.hasSalePrice?105:-1),o(),M(e.dataModel.hasRentPrice?106:-1),o(),M(e.fieldsInfo.rentPriceAllowAgreement!=null&&e.fieldsInfo.rentPriceAllowAgreement.accessWatchField?107:-1),o(),M(e.dataModel.hasRentPrice?108:-1),o(3),A(e.fieldsInfo.titleRentPrice==null?null:e.fieldsInfo.titleRentPrice.fieldTitle),o(),b("ngModel",e.dataModel.titleRentPriceML),f("disabled",!0),o(),M(e.dataModel.hasRentPrice?113:-1),o(),M(e.dataModel.hasRentPrice?114:-1),o(3),A(e.fieldsInfo.rentPricePriodTitle==null?null:e.fieldsInfo.rentPricePriodTitle.fieldTitle),o(),b("ngModel",e.dataModel.rentPricePriodTitleML),f("disabled",!0),o(),M(e.dataModel.hasRentPrice?119:-1),o(),M(e.dataModel.hasDepositPrice?120:-1),o(),M(e.fieldsInfo.depositPriceAllowAgreement!=null&&e.fieldsInfo.depositPriceAllowAgreement.accessWatchField?121:-1),o(),M(e.dataModel.hasDepositPrice?122:-1),o(3),A(e.fieldsInfo.titleDepositPriceML==null?null:e.fieldsInfo.titleDepositPriceML.fieldTitle),o(),b("ngModel",e.dataModel.titleDepositPriceML),f("disabled",!0),o(),M(e.dataModel.hasDepositPrice?127:-1),o(),M(e.dataModel.hasPeriodPrice?128:-1),o(),M(e.fieldsInfo.periodPriceAllowAgreement!=null&&e.fieldsInfo.periodPriceAllowAgreement.accessWatchField?129:-1),o(),M(e.dataModel.hasPeriodPrice?130:-1),o(3),A(e.fieldsInfo.titlePeriodPriceML==null?null:e.fieldsInfo.titlePeriodPriceML.fieldTitle),o(),b("ngModel",e.dataModel.titlePeriodPriceML),f("disabled",!0),o(),M(e.dataModel.hasPeriodPrice?135:-1),o(),M(e.formInfo.submitButtonEnabled?136:-1)}},dependencies:[Nt,ue,ee,Vt,te,ce,re,fe,ge,me,pe,he,oe,ae,Ce,Ro,W],encapsulation:2});var jo=En;var Dc=()=>[5,10,20,100];function xc(n,d){if(n&1){let t=I();l(0,"div",15)(1,"a",39),v("click",function(){p(t);let e=g();return m(e.onActionButtonNewRow())}),_(2,"i",40)(3,"br"),r(),l(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.ADD")," "))}function Lc(n,d){if(n&1){let t=I();l(0,"div",15)(1,"a",41),v("click",function(){p(t);let e=g();return m(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",42)(3,"br"),r(),l(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.EDIT")," "))}function kc(n,d){if(n&1){let t=I();l(0,"div",15)(1,"a",43),v("click",function(){p(t);let e=g();return m(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",44)(3,"br"),r(),l(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.DELETE")," "))}function Vc(n,d){if(n&1&&(l(0,"mat-header-cell",45),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function Bc(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.id," ")}}function Fc(n,d){if(n&1&&(l(0,"mat-header-cell",45),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," ")}}function Gc(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),Ji(" ",t.title," / ",t.orderTitle," ")}}function Oc(n,d){if(n&1&&(l(0,"mat-header-cell",45),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.hasSalePrice==null?null:t.fieldsInfo.hasSalePrice.fieldTitle," ")}}function Nc(n,d){if(n&1&&(l(0,"mat-cell"),_(1,"i",46),S(2,"boolclass"),r()),n&2){let t=d.$implicit;o(),f("ngClass",E(2,1,t.hasSalePrice))}}function Wc(n,d){if(n&1&&(l(0,"mat-header-cell",45),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.hasDepositPrice==null?null:t.fieldsInfo.hasDepositPrice.fieldTitle," ")}}function Hc(n,d){if(n&1&&(l(0,"mat-cell"),_(1,"i",46),S(2,"boolclass"),r()),n&2){let t=d.$implicit;o(),f("ngClass",E(2,1,t.hasDepositPrice))}}function Uc(n,d){if(n&1&&(l(0,"mat-header-cell",45),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.hasPeriodPrice==null?null:t.fieldsInfo.hasPeriodPrice.fieldTitle," ")}}function jc(n,d){if(n&1&&(l(0,"mat-cell"),_(1,"i",46),S(2,"boolclass"),r()),n&2){let t=d.$implicit;o(),f("ngClass",E(2,1,t.hasPeriodPrice))}}function qc(n,d){if(n&1&&(l(0,"mat-header-cell",45),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.hasRentPrice==null?null:t.fieldsInfo.hasRentPrice.fieldTitle," ")}}function Qc(n,d){if(n&1&&(l(0,"mat-cell"),_(1,"i",46),S(2,"boolclass"),r()),n&2){let t=d.$implicit;o(),f("ngClass",E(2,1,t.hasRentPrice))}}function Zc(n,d){n&1&&(l(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",E(2,1,"TITLE.OPTION")," "))}function zc(n,d){if(n&1&&(l(0,"mat-cell",47)(1,"button",48)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),n&2){let t=x(5);o(),f("matMenuTriggerFor",t)}}function Kc(n,d){n&1&&_(0,"mat-header-row")}function Jc(n,d){if(n&1){let t=I();l(0,"mat-row",49),v("click",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))})("rtclick",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))}),r()}if(n&2){let t=d.$implicit,i=g();ne("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var vn=class vn extends st{constructor(t,i,e,a,u,s,k,H,Ie,be,je,Ht){super(t,new Si,je,u,H);this.contentService=t;this.cmsConfirmationDialogService=i;this.cmsToastrService=e;this.cmsStoreService=a;this.tokenHelper=u;this.router=s;this.cdr=k;this.translate=H;this.pageInfo=Ie;this.themeService=be;this.publicHelper=je;this.dialog=Ht;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Q;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["HasSalePrice","HasDepositPrice","HasRentPrice","HasPeriodPrice"];this.tabledisplayedColumnsMobileSource=["HasSalePrice","HasDepositPrice","HasRentPrice","HasPeriodPrice"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:xt=>this.onSubmitOptionsSearch(xt)},this.filteModelContent.sortColumn="title",this.filteModelContent.sortType=B.Ascending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>ke(this,null,function*(){this.tokenInfo=t,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Si);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Uo,{height:"90%",panelClass:t,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(jo,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],e=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(a=>{if(a){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(u,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonContentList(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/property/LinkContractTypeId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkContractTypeId/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),u=new q;u.propertyName="recordStatus",u.value=Ue.Available,a.filters.push(u),this.contentService.ServiceGetCount(a).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};vn.\u0275fac=function(i){return new(i||vn)(C(Jt),C(Oe),C(G),C(le),C(se),C(Ge),C(O),C(F),C(lt),C(Wt),C(N),C(He))},vn.\u0275cmp=V({type:vn,selectors:[["app-estate-contract-type-list"]],standalone:!1,features:[U],decls:63,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","title"],["matColumnDef","HasSalePrice"],["matColumnDef","HasDepositPrice"],["matColumnDef","HasPeriodPrice"],["matColumnDef","HasRentPrice"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,e){if(i&1){let a=I();l(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(s){return p(a),T(e.viewGuideNotice,s)||(e.viewGuideNotice=s),m(s)}),v("optionOnActionButtonMemoRow",function(){return p(a),m(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(a),m(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(a),m(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(a),m(e.onActionButtonPrintRow())}),P(1,4),c(2," -------------------------------------- "),D(),Fe(3,5)(4,6),P(5,7),l(6,"a",8),v("click",function(){return p(a),m(e.viewGuideNotice=!e.viewGuideNotice)}),_(7,"i",9),r(),l(8,"a",8),v("click",function(){return p(a),m(e.onActionButtonReload())}),_(9,"i",10),r(),D(),P(10,11),l(11,"a",12),v("click",function(){return p(a),m(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(12,"mat-slide-toggle",13),c(13),S(14,"translate"),r(),l(15,"a",12),v("click",function(){return p(a),m(e.onActionButtonStatist())}),_(16,"mat-slide-toggle",13),c(17),S(18,"translate"),r(),D(),P(19,14),y(20,xc,7,3,"div",15),D(),P(21,16),y(22,Lc,7,3,"div",15),y(23,kc,7,3,"div",15),l(24,"div",15)(25,"a",17),v("click",function(s){return p(a),m(e.onActionButtonContentList(e.tableRowSelected,s))}),_(26,"i",18)(27,"br"),r(),l(28,"p",19),c(29),S(30,"translate"),r()(),D(),P(31,20),l(32,"app-cms-search-list",21),w("optionsChange",function(s){return p(a),T(e.optionsSearch,s)||(e.optionsSearch=s),m(s)}),r(),l(33,"app-cms-statist-list",21),w("optionsChange",function(s){return p(a),T(e.optionsStatist,s)||(e.optionsStatist=s),m(s)}),r(),D(),P(34,22),l(35,"mat-table",23,0),v("matSortChange",function(){p(a);let s=x(36);return m(e.onTableSortData(s))}),P(37,24),L(38,Vc,2,1,"mat-header-cell",25)(39,Bc,2,1,"mat-cell",26),D(),P(40,27),L(41,Fc,2,1,"mat-header-cell",25)(42,Gc,2,2,"mat-cell",26),D(),P(43,28),L(44,Oc,2,1,"mat-header-cell",25)(45,Nc,3,3,"mat-cell",26),D(),P(46,29),L(47,Wc,2,1,"mat-header-cell",25)(48,Hc,3,3,"mat-cell",26),D(),P(49,30),L(50,Uc,2,1,"mat-header-cell",25)(51,jc,3,3,"mat-cell",26),D(),P(52,31),L(53,qc,2,1,"mat-header-cell",25)(54,Qc,3,3,"mat-cell",26),D(),P(55,32),L(56,Zc,3,3,"mat-header-cell",33)(57,zc,6,1,"mat-cell",34),D(),L(58,Kc,1,0,"mat-header-row",35)(59,Jc,1,2,"mat-row",36),r(),D(),P(60,37),l(61,"mat-paginator",38,1),v("page",function(s){return p(a),m(e.onTablePageingData(s))}),r(),D(),r()}i&2&&(f("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",e.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),o(9),ne("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),o(3),f("checked",e.optionsSearch.data.show),o(),h("",E(14,26,"ACTION.SEARCH")," "),o(3),f("checked",e.optionsStatist.data.show),o(),h("",E(18,28,"ACTION.STATIST")," "),o(3),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?20:-1),o(2),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?22:-1),o(),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?23:-1),o(6),h(" ",E(30,30,"ACTION.Property_to_be_traded")," "),o(3),b("options",e.optionsSearch),o(),b("options",e.optionsStatist),o(2),f("dataSource",e.tableSource),o(23),f("matHeaderRowDef",e.tabledisplayedColumns),o(),f("matRowDefColumns",e.tabledisplayedColumns),o(2),f("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",X(32,Dc)))},dependencies:[Z,We,ye,qe,Qe,Ze,ze,Ke,Je,Ye,$e,nt,et,Xe,ot,tt,it,at,rt,dt,ct,pt,mt,W,za],encapsulation:2});var In=vn;var Yc=["vform"],Xc=()=>["fa"];function $c(n,d){n&1&&_(0,"i",16)}function ep(n,d){n&1&&_(0,"i",17)}function tp(n,d){n&1&&(l(0,"mat-error"),c(1," Title is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function ip(n,d){if(n&1){let t=I();l(0,"div",13)(1,"label",23),c(2),r(),l(3,"input",24,3),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.iconFont,e)||(a.dataModel.iconFont=e),m(e)}),v("iconPickerSelect",function(e){p(t);let a=g();return m(a.onIconPickerSelect(e))}),r(),l(5,"span",25),_(6,"i",26),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),b("ngModel",t.dataModel.iconFont),f("iconPicker",t.dataModel.iconFont)("ipIconPack",X(9,Xc))("ipPosition","top")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessAddField)),o(3),f("ngClass",t.dataModel.iconFont)}}function np(n,d){if(n&1){let t=I();l(0,"div",19)(1,"label",27),c(2),r(),l(3,"div",28)(4,"div",29)(5,"input",30,4),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.iconColor,e)||(a.dataModel.iconColor=e),m(e)}),r()(),l(7,"div",31),_(8,"ngx-mat-color-toggle",32)(9,"ngx-mat-color-picker",33,5),r()()()}if(n&2){let t=x(10),i=g();o(2),A(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ie("background",i.dataModel.iconColor),f("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),f("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),f("for",t),o(),f("touchUi",!0)("color","primary")}}function op(n,d){if(n&1){let t=I();l(0,"div",13)(1,"label",34),c(2),r(),l(3,"input",35,6),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.showInFormOrder,e)||(a.dataModel.showInFormOrder=e),m(e)}),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.fieldTitle)),b("ngModel",t.dataModel.showInFormOrder)}}function ap(n,d){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function rp(n,d){if(n&1){let t=I();l(0,"div",22)(1,"button",36),v("click",function(){p(t);let e=g();return m(e.onFormCancel())}),_(2,"i",37),c(3),S(4,"translate"),r(),l(5,"button",38),_(6,"i",39),c(7),S(8,"translate"),r()()}if(n&2){g();let t=x(10);o(3),h(" ",E(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!t.form.valid),o(2),h(" ",E(8,5,"ACTION.SAVE")," ")}}var bn=class bn extends Tt{constructor(t,i,e,a,u,s,k,H){super(a,new Lt,s,H);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estatePropertyDetailGroupService=a;this.cmsToastrService=u;this.publicHelper=s;this.cdr=k;this.translate=H;this.requestLinkPropertyTypeLanduseId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Le;this.dataModel=new Lt;this.formInfo=new _e;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),t&&(this.requestLinkPropertyTypeLanduseId=t.linkPropertyTypeLanduseId),this.requestLinkPropertyTypeLanduseId.length>0&&(this.dataModel.linkPropertyTypeLanduseId=this.requestLinkPropertyTypeLanduseId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelect(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=t.id}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};bn.\u0275fac=function(i){return new(i||bn)(C(we),C(Te),C($),C(kt),C(G),C(N),C(O),C(F))},bn.\u0275cmp=V({type:bn,selectors:[["app-estate-property-detail-group-add"]],viewQuery:function(i,e){if(i&1&&K(Yc,5),i&2){let a;J(a=Y())&&(e.formGroup=a.first)}},standalone:!1,features:[U],decls:36,vars:28,consts:[["vform","ngForm"],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],["ShowInFormOrder",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.showInFormOrder",1,"color-highlight"],["type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let a=I();l(0,"div",7),_(1,"app-progress-spinner",8),l(2,"div",9)(3,"p",10),c(4),r(),l(5,"p"),c(6),S(7,"translate"),r(),_(8,"app-cms-form-result-message",11),l(9,"form",12,0),v("ngSubmit",function(){return p(a),m(e.onFormSubmit())}),l(11,"div",13)(12,"label",14),c(13),r(),l(14,"input",15,1),w("ngModelChange",function(s){return p(a),T(e.dataModel.title,s)||(e.dataModel.title=s),m(s)}),r(),y(16,$c,1,0,"i",16),y(17,ep,1,0,"i",17),l(18,"em"),c(19),r(),y(20,tp,5,3,"mat-error"),r(),l(21,"app-estate-property-type-landuse-selector",18),S(22,"translate"),v("optionChange",function(s){return p(a),m(e.onActionSelectorSelect(s))}),r(),y(23,ip,7,10,"div",13),y(24,np,11,11,"div",19),y(25,op,5,4,"div",13),l(26,"div",13)(27,"label",20),c(28),r(),l(29,"textarea",21,2),w("ngModelChange",function(s){return p(a),T(e.dataModel.description,s)||(e.dataModel.description=s),m(s)}),c(31,"                "),r(),l(32,"em"),c(33),r(),y(34,ap,5,3,"mat-error"),r(),y(35,rp,9,7,"div",22),r()()()}if(i&2){let a=x(15),u=x(30);o(),f("optionsInfoAreaId",e.constructorInfoAreaId),o(3),h(" ",e.formInfo.formTitle," "),o(2),h(" ",E(7,24,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",e.formInfo),o(5),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModel.title),o(2),M(a.value?-1:16),o(),M(a.value?17:-1),o(2),h("",a.value.length," / 100"),o(),M(a.errors!=null&&a.errors.required?20:-1),o(),f("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",E(22,26,"TITLE.Category")),o(2),M(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?23:-1),o(),M(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?24:-1),o(),M(e.fieldsInfo.showInFormOrder!=null&&e.fieldsInfo.showInFormOrder.accessWatchField?25:-1),o(3),A(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModel.description),o(4),h("",u.value.length," / 500"),o(),M(u.errors!=null&&u.errors.required?34:-1),o(),M(e.formInfo.submitButtonEnabled?35:-1)}},dependencies:[Z,ue,ee,ft,te,ce,re,fe,ge,me,pe,he,Ne,oe,ae,Ce,Ct,Wi,St,_t,ht,gt,W],encapsulation:2});var Tn=bn;var lp=["vform"],sp=()=>["fa"];function dp(n,d){n&1&&_(0,"i",16)}function cp(n,d){n&1&&_(0,"i",17)}function pp(n,d){n&1&&(l(0,"mat-error"),c(1," Title is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function mp(n,d){if(n&1){let t=I();l(0,"div",13)(1,"label",23),c(2),r(),l(3,"input",24,3),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.iconFont,e)||(a.dataModel.iconFont=e),m(e)}),v("iconPickerSelect",function(e){p(t);let a=g();return m(a.onIconPickerSelect(e))}),r(),l(5,"span",25),_(6,"i",26),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),b("ngModel",t.dataModel.iconFont),f("iconPicker",t.dataModel.iconFont)("ipIconPack",X(9,sp))("ipPosition","top")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessEditField)),o(3),f("ngClass",t.dataModel.iconFont)}}function up(n,d){if(n&1){let t=I();l(0,"div",19)(1,"label",27),c(2),r(),l(3,"div",28)(4,"div",29)(5,"input",30,4),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.iconColor,e)||(a.dataModel.iconColor=e),m(e)}),r()(),l(7,"div",31),_(8,"ngx-mat-color-toggle",32)(9,"ngx-mat-color-picker",33,5),r()()()}if(n&2){let t=x(10),i=g();o(2),A(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ie("background",i.dataModel.iconColor),f("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),f("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),f("for",t),o(),f("touchUi",!0)("color","primary")}}function fp(n,d){if(n&1){let t=I();l(0,"div",13)(1,"label",14),c(2),r(),l(3,"input",34,6),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.showInFormOrder,e)||(a.dataModel.showInFormOrder=e),m(e)}),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.fieldTitle)),b("ngModel",t.dataModel.showInFormOrder),f("disabled",!(t.fieldsInfo.showInFormOrder!=null&&t.fieldsInfo.showInFormOrder.accessEditField))}}function gp(n,d){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function hp(n,d){if(n&1){let t=I();l(0,"div",22)(1,"button",35),v("click",function(){p(t);let e=g();return m(e.onFormCancel())}),_(2,"i",36),c(3),S(4,"translate"),r(),l(5,"button",37),_(6,"i",38),c(7),S(8,"translate"),r()()}if(n&2){g();let t=x(10);o(3),h(" ",E(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!t.form.valid),o(2),h(" ",E(8,5,"ACTION.SAVE")," ")}}var wn=class wn extends wt{constructor(t,i,e,a,u,s,k,H){super(a,new Lt,s,H);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estatePropertyDetailGroupService=a;this.cmsToastrService=u;this.publicHelper=s;this.cdr=k;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new vt;this.dataModel=new Lt;this.formInfo=new _e;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.setAccessLoad(),this.estatePropertyDetailGroupService.setAccessDataType(It.Editor),this.estatePropertyDetailGroupService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelect(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=t.id}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};wn.\u0275fac=function(i){return new(i||wn)(C(we),C(Te),C($),C(kt),C(G),C(N),C(O),C(F))},wn.\u0275cmp=V({type:wn,selectors:[["app-estate-property-detail-group-edit"]],viewQuery:function(i,e){if(i&1&&K(lp,5),i&2){let a;J(a=Y())&&(e.formGroup=a.first)}},standalone:!1,features:[U],decls:36,vars:29,consts:[["vform","ngForm"],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],["ShowInFormOrder",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let a=I();l(0,"div",7),_(1,"app-progress-spinner",8),l(2,"div",9)(3,"p",10),c(4),r(),l(5,"p"),c(6),S(7,"translate"),r(),_(8,"app-cms-form-result-message",11),l(9,"form",12,0),v("ngSubmit",function(){return p(a),m(e.onFormSubmit())}),l(11,"div",13)(12,"label",14),c(13),r(),l(14,"input",15,1),w("ngModelChange",function(s){return p(a),T(e.dataModel.title,s)||(e.dataModel.title=s),m(s)}),r(),y(16,dp,1,0,"i",16),y(17,cp,1,0,"i",17),l(18,"em"),c(19),r(),y(20,pp,5,3,"mat-error"),r(),l(21,"app-estate-property-type-landuse-selector",18),S(22,"translate"),v("optionChange",function(s){return p(a),m(e.onActionSelectorSelect(s))}),r(),y(23,mp,7,10,"div",13),y(24,up,11,11,"div",19),y(25,fp,5,5,"div",13),l(26,"div",13)(27,"label",20),c(28),r(),l(29,"textarea",21,2),w("ngModelChange",function(s){return p(a),T(e.dataModel.description,s)||(e.dataModel.description=s),m(s)}),c(31,"                "),r(),l(32,"em"),c(33),r(),y(34,gp,5,3,"mat-error"),r(),y(35,hp,9,7,"div",22),r()()()}if(i&2){let a=x(15),u=x(30);o(),f("optionsInfoAreaId",e.constructorInfoAreaId),o(3),h(" ",e.formInfo.formTitle," "),o(2),h(" ",E(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",e.formInfo),o(5),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModel.title),o(2),M(a.value?-1:16),o(),M(a.value?17:-1),o(2),h("",a.value.length," / 100"),o(),M(a.errors!=null&&a.errors.required?20:-1),o(),f("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",E(22,27,"TITLE.Category"))("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseId!=null&&e.fieldsInfo.linkPropertyTypeLanduseId.accessEditField)),o(2),M(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?23:-1),o(),M(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?24:-1),o(),M(e.fieldsInfo.showInFormOrder!=null&&e.fieldsInfo.showInFormOrder.accessWatchField?25:-1),o(3),A(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModel.description),o(4),h("",u.value.length," / 500"),o(),M(u.errors!=null&&u.errors.required?34:-1),o(),M(e.formInfo.submitButtonEnabled?35:-1)}},dependencies:[Z,ue,ee,ft,te,ce,re,fe,ge,me,pe,he,Ne,oe,ae,Ce,Ct,Wi,St,_t,ht,gt,W],encapsulation:2});var An=wn;var Sp=()=>[5,10,20,100];function yp(n,d){if(n&1){let t=I();l(0,"div",18)(1,"a",42),v("click",function(){p(t);let e=g();return m(e.onActionButtonNewRow())}),_(2,"i",43)(3,"br"),r(),l(4,"p",22),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.ADD")," "))}function Mp(n,d){if(n&1){let t=I();l(0,"div",18)(1,"a",44),v("click",function(){p(t);let e=g();return m(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",45)(3,"br"),r(),l(4,"p",22),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.EDIT")," "))}function Ep(n,d){if(n&1){let t=I();l(0,"div",18)(1,"a",46),v("click",function(){p(t);let e=g();return m(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",47)(3,"br"),r(),l(4,"p",22),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.DELETE")," "))}function vp(n,d){if(n&1&&(l(0,"mat-header-cell",48),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function Ip(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.id," ")}}function bp(n,d){if(n&1&&(l(0,"mat-header-cell",48),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle," ")}}function Tp(n,d){if(n&1&&(l(0,"mat-cell"),_(1,"i",49),r()),n&2){let t=d.$implicit;o(),ie("color",t.iconColor),f("ngClass",t.iconFont)}}function wp(n,d){if(n&1&&(l(0,"mat-header-cell",48),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," ")}}function Ap(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.title," ")}}function Rp(n,d){if(n&1&&(l(0,"mat-header-cell",48),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.fieldTitle," ")}}function Pp(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.showInFormOrder," ")}}function Dp(n,d){if(n&1&&(l(0,"mat-header-cell",48),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.linkPropertyTypeLanduseId==null?null:t.fieldsInfo.linkPropertyTypeLanduseId.fieldTitle," ")}}function xp(n,d){if(n&1&&(l(0,"mat-cell"),c(1),S(2,"cmstitle"),r()),n&2){let t=d.$implicit,i=g();o(),h(" ",ao(2,1,t.linkPropertyTypeLanduseId,i.dataModelEstatePropertyTypeLanduseResult.listItems)," ")}}function Lp(n,d){n&1&&(l(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",E(2,1,"TITLE.OPTION")," "))}function kp(n,d){if(n&1&&(l(0,"mat-cell",50)(1,"button",51)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),n&2){let t=x(5);o(),f("matMenuTriggerFor",t)}}function Vp(n,d){n&1&&(l(0,"mat-header-cell",48),c(1,". "),r())}function Bp(n,d){n&1&&(l(0,"mat-cell")(1,"mat-icon",52),c(2,"reorder"),r()())}function Fp(n,d){n&1&&_(0,"mat-header-row")}function Gp(n,d){if(n&1){let t=I();l(0,"mat-row",53),v("click",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))})("rtclick",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))}),r()}if(n&2){let t=d.$implicit,i=g();ne("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Rn=class Rn extends st{constructor(t,i,e,a,u,s,k,H,Ie,be,je,Ht){super(t,new Lt,je,u,H);this.contentService=t;this.estatePropertyTypeLanduseService=i;this.cmsConfirmationDialogService=e;this.cmsToastrService=a;this.tokenHelper=u;this.router=s;this.cdr=k;this.translate=H;this.cmsStoreService=Ie;this.pageInfo=be;this.publicHelper=je;this.dialog=Ht;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Q;this.filterDataModelQueryBuilder=[];this.dataModelEstatePropertyTypeLanduseResult=new Le;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["IconFont","ShowInFormOrder","LinkPropertyTypeLanduseId"];this.tabledisplayedColumnsMobileSource=["IconFont","ShowInFormOrder","LinkPropertyTypeLanduseId"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:xt=>this.onSubmitOptionsSearch(xt)},this.filteModelContent.sortColumn="ShowInFormOrder",this.filteModelContent.sortType=B.Ascending}ngOnInit(){this.filteModelContent.sortColumn="ShowInFormOrder",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>ke(this,null,function*(){this.tokenInfo=t,this.DataGetAll()}))),this.getPropertyType()}getPropertyType(){let t=new Q;t.rowPerPage=100,this.estatePropertyTypeLanduseService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelEstatePropertyTypeLanduseResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Lt);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onTableDropRow(t){let i=this.tableSource.data.findIndex(a=>a===t.item.data),e=new po;e.id=this.tableSource.data[i].id,e.centerId=this.tableSource.data[t.currentIndex].id,i>t.currentIndex?e.actionGo=Yi.GoUp:e.actionGo=Yi.GoDown,this.contentService.ServiceEditStep(e).subscribe({next:a=>{a.isSuccess?(ho(this.tableSource.data,i,t.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(a.errorMessage)},error:a=>{this.cmsToastrService.typeError(a)}})}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Tn,{height:"90%",panelClass:t,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(An,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],e=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(a=>{if(a){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(u,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonContentList(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.router.navigate(["/hypershop/content/PareintId/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),u=new q;u.propertyName="recordStatus",u.value=Ue.Available,a.filters.push(u),this.contentService.ServiceGetCount(a).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Rn.\u0275fac=function(i){return new(i||Rn)(C(kt),C(Qt),C(Oe),C(G),C(se),C(Ge),C(O),C(F),C(le),C(lt),C(N),C(He))},Rn.\u0275cmp=V({type:Rn,selectors:[["app-estate-property-detail-group-list"]],standalone:!1,features:[U],decls:66,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"justify-content-start"],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-cubes","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","title"],["matColumnDef","ShowInFormOrder"],["matColumnDef","LinkPropertyTypeLanduseId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,e){if(i&1){let a=I();l(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(s){return p(a),T(e.viewGuideNotice,s)||(e.viewGuideNotice=s),m(s)}),v("optionOnActionButtonMemoRow",function(){return p(a),m(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(a),m(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(a),m(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(a),m(e.onActionButtonPrintRow())}),Fe(1,4)(2,5),P(3,6),l(4,"div",7),_(5,"div",8)(6,"div",9),r(),D(),Fe(7,6),P(8,10),l(9,"a",11),v("click",function(){return p(a),m(e.viewGuideNotice=!e.viewGuideNotice)}),_(10,"i",12),r(),l(11,"a",11),v("click",function(){return p(a),m(e.onActionButtonReload())}),_(12,"i",13),r(),D(),P(13,14),l(14,"a",15),v("click",function(){return p(a),m(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(15,"mat-slide-toggle",16),c(16),S(17,"translate"),r(),l(18,"a",15),v("click",function(){return p(a),m(e.onActionButtonStatist())}),_(19,"mat-slide-toggle",16),c(20),S(21,"translate"),r(),D(),P(22,17),y(23,yp,7,3,"div",18),D(),P(24,19),y(25,Mp,7,3,"div",18),y(26,Ep,7,3,"div",18),l(27,"div",18)(28,"a",20),v("click",function(){return p(a),m(e.onActionButtonContentList(e.tableRowSelected))}),_(29,"i",21)(30,"br"),r(),l(31,"p",22),c(32),S(33,"translate"),r()(),D(),P(34,23),l(35,"app-cms-search-list",24),w("optionsChange",function(s){return p(a),T(e.optionsSearch,s)||(e.optionsSearch=s),m(s)}),r(),l(36,"app-cms-statist-list",24),w("optionsChange",function(s){return p(a),T(e.optionsStatist,s)||(e.optionsStatist=s),m(s)}),r(),D(),P(37,25),l(38,"mat-table",26,0),v("matSortChange",function(){p(a);let s=x(39);return m(e.onTableSortData(s))})("cdkDropListDropped",function(s){return p(a),m(e.onTableDropRow(s))}),P(40,27),L(41,vp,2,1,"mat-header-cell",28)(42,Ip,2,1,"mat-cell",29),D(),P(43,30),L(44,bp,2,1,"mat-header-cell",28)(45,Tp,2,3,"mat-cell",29),D(),P(46,31),L(47,wp,2,1,"mat-header-cell",28)(48,Ap,2,1,"mat-cell",29),D(),P(49,32),L(50,Rp,2,1,"mat-header-cell",28)(51,Pp,2,1,"mat-cell",29),D(),P(52,33),L(53,Dp,2,1,"mat-header-cell",28)(54,xp,3,4,"mat-cell",29),D(),P(55,34),L(56,Lp,3,3,"mat-header-cell",35)(57,kp,6,1,"mat-cell",36),D(),P(58,37),L(59,Vp,2,0,"mat-header-cell",28)(60,Bp,3,0,"mat-cell",29),D(),L(61,Fp,1,0,"mat-header-row",38)(62,Gp,1,2,"mat-row",39),r(),D(),P(63,40),l(64,"mat-paginator",41,1),v("page",function(s){return p(a),m(e.onTablePageingData(s))}),r(),D(),r()}i&2&&(f("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",e.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),o(12),ne("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),o(3),f("checked",e.optionsSearch.data.show),o(),h("",E(17,27,"ACTION.SEARCH")," "),o(3),f("checked",e.optionsStatist.data.show),o(),h("",E(21,29,"ACTION.STATIST")," "),o(3),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?23:-1),o(2),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?25:-1),o(),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?26:-1),o(6),h(" ",E(33,31,"ACTION.PRODUCTS")," "),o(3),b("options",e.optionsSearch),o(),b("options",e.optionsStatist),o(2),f("dataSource",e.tableSource)("cdkDropListData",e.tableSource),o(23),f("matHeaderRowDef",e.tabledisplayedColumns),o(),f("matRowDefColumns",e.tabledisplayedColumns),o(2),f("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",X(33,Sp)))},dependencies:[Z,We,ye,qe,Qe,Ze,ze,Ke,Je,Ye,$e,nt,et,Xe,ot,tt,it,at,rt,dt,ct,pt,mt,Co,_o,W,Do],encapsulation:2});var Pn=Rn;var hr=["*","*"];function Op(n,d){if(n&1&&(l(0,"label",4),c(1),r()),n&2){let t=g(2);f("for",ui("app-cms-site-selector-",t.id)),o(),A(t.optionLabel)}}function Np(n,d){if(n&1&&(l(0,"mat-option",7)(1,"span"),c(2),r()()),n&2){let t=d.$implicit,i=g(2);f("value",t)("disabled",i.optionDisabled),o(2),A(i.displayOption(t))}}function Wp(n,d){n&1&&_(0,"i",8)}function Hp(n,d){n&1&&_(0,"i",9)}function Up(n,d){if(n&1){let t=I();l(0,"i",12),v("click",function(){p(t);let e=g(2);return m(e.onActionSelectClear())}),r()}}function jp(n,d){n&1&&(l(0,"em"),c(1),S(2,"translate"),r()),n&2&&(o(),h("(",E(2,1,"TITLE.Necessary"),")"))}function qp(n,d){if(n&1){let t=I();l(0,"div",1),_(1,"app-progress-spinner",3),y(2,Op,2,3,"label",4),_(3,"input",5),l(4,"mat-autocomplete",6,0),v("optionSelected",function(e){p(t);let a=g();return m(a.onActionSelect(e.option.value))}),De(6,Np,3,3,"mat-option",7,Pe),S(8,"async"),r(),y(9,Wp,1,0,"i",8),y(10,Hp,1,0,"i",9),y(11,Up,1,0,"i",10),l(12,"i",11),S(13,"translate"),v("click",function(){p(t);let e=g();return m(e.onActionButtonReload())}),r(),y(14,jp,3,3,"em"),ra(15),r()}if(n&2){let t=x(5),i=g();o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(),M((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(),f("placeholder",R(i.optionPlaceholder))("id",ui("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),oo("disabled",i.optionDisabled?!0:null),o(),f("displayWith",i.displayFn),o(2),xe(E(8,19,i.filteredOptions)),o(3),M(i.formControl.valid?-1:9),o(),M(i.optionRequired&&i.formControl.valid?10:-1),o(),M((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?11:-1),o(),ne("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),f("title",R(E(13,21,"ACTION.RELOAD"))),o(2),M(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)==0)?14:-1)}}function Qp(n,d){if(n&1){let t=I();l(0,"div",13)(1,"a",14),v("click",function(){let e=p(t).$implicit,a=g(2);return m(a.onActionSelect(e))}),c(2),r()()}if(n&2){let t=d.$implicit,i=g(2);o(),f("ngClass",t.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),oo("disabled",i.optionDisabled?!0:null),o(),A(i.displayOption(t))}}function Zp(n,d){if(n&1&&(l(0,"div",2),De(1,Qp,3,3,"div",13,Pe),S(3,"async"),ra(4,1),r()),n&2){let t=g();o(),xe(E(3,0,t.filteredOptions))}}var qi=class qi{constructor(d,t,i,e,a,u){this.coreEnumService=d;this.cmsToastrService=t;this.translate=i;this.cdr=e;this.publicHelper=a;this.categoryService=u;this.id=++qi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Le;this.dataModelSelect=new Lt;this.formControl=new Xt;this.optionTypeView=1;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Ot;this.optionReload=()=>this.onActionButtonReload();this.linkPropertyTypeLanduseId="";this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(d){this.onActionSelectForce(d)}set optionSelectParentForce(d){this.linkPropertyTypeLanduseId=d,this.loadOptions()}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(wi(""),Ti(1500),ua(),Ai(d=>typeof d=="string"||typeof d=="number"?this.DataGetAll(d||""):[]))}displayFn(d){return d?d.title:void 0}displayOption(d){return d?d.title:void 0}DataGetAll(d){return ke(this,null,function*(){let t=new Q;if(t.rowPerPage=20,t.accessLoad=!0,typeof d=="string"&&d.length>0){let a=new q;a.propertyName="Name",a.value=d,a.searchType=qt.Contains,t.filters.push(a)}if(this.linkPropertyTypeLanduseId&&this.linkPropertyTypeLanduseId.length>0){var i=new q;i.propertyName="linkPropertyTypeLanduseId",i.value=this.linkPropertyTypeLanduseId,i.searchType=qt.Equal,t.filters.push(i)}let e=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(a=>{this.publicHelper.processService.processStart(e,a,this.constructorInfoAreaId)}),yield ma(this.categoryService.ServiceGetAll(t)).then(a=>(this.dataModelResult=a,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(e),a.listItems))})}onActionSelect(d){this.optionDisabled||(this.dataModelSelect=d,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(d){return this.filteredOptions.pipe(bi(t=>(t.find(i=>i.id===d.id)||t.push(d),t)))}onActionSelectForce(d){if(typeof d=="string"&&d.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===d)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.id===d)){let t=this.dataModelResult.listItems.find(i=>i.id===d);this.dataModelSelect=t,this.formControl.setValue(t);return}this.categoryService.ServiceGetOneById(d).subscribe({next:t=>{t.isSuccess?(this.filteredOptions=this.push(t.item),this.dataModelSelect=t.item,this.formControl.setValue(t.item),this.optionChange.emit(t.item)):this.cmsToastrService.typeErrorMessage(t.errorMessage)}});return}if(typeof d==typeof Lt){this.filteredOptions=this.push(d),this.dataModelSelect=d,this.formControl.setValue(d);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Lt,this.loadOptions()}};qi.nextId=0,qi.\u0275fac=function(t){return new(t||qi)(C($),C(G),C(F),C(O),C(N),C(kt))},qi.\u0275cmp=V({type:qi,selectors:[["app-estate-property-detail-group-selector"]],inputs:{optionTypeView:"optionTypeView",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionSelectParentForce:"optionSelectParentForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:hr,decls:2,vars:2,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[1,"row","mb-0"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(t,i){t&1&&(fa(hr),y(0,qp,16,23,"div",1),y(1,Zp,5,2,"div",2)),t&2&&(M(i.optionTypeView===1?0:-1),o(),M(i.optionTypeView===2?1:-1))},dependencies:[Z,ee,te,re,Fi,Oi,Gi,Ni,oe,ae,Kt,W],encapsulation:2});var Dn=qi;var Kp=["vform"],Jp=()=>["fa"];function Yp(n,d){n&1&&_(0,"i",19)}function Xp(n,d){n&1&&_(0,"i",20)}function $p(n,d){n&1&&(l(0,"mat-error"),c(1," Title is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function em(n,d){if(n&1){let t=I();l(0,"div",16)(1,"label",34),c(2),r(),l(3,"input",35,5),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.iconFont,e)||(a.dataModel.iconFont=e),m(e)}),v("iconPickerSelect",function(e){p(t);let a=g();return m(a.onIconPickerSelect(e))}),r(),l(5,"span",36),_(6,"i",37),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),b("ngModel",t.dataModel.iconFont),f("iconPicker",t.dataModel.iconFont)("ipIconPack",X(9,Jp))("ipPosition","top")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessAddField)),o(3),f("ngClass",t.dataModel.iconFont)}}function tm(n,d){if(n&1){let t=I();l(0,"div",22)(1,"label",38),c(2),r(),l(3,"div",39)(4,"div",40)(5,"input",41,6),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.iconColor,e)||(a.dataModel.iconColor=e),m(e)}),r()(),l(7,"div",42),_(8,"ngx-mat-color-toggle",43)(9,"ngx-mat-color-picker",44,7),r()()()}if(n&2){let t=x(10),i=g();o(2),A(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ie("background",i.dataModel.iconColor),f("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),f("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),f("for",t),o(),f("touchUi",!0)("color","primary")}}function im(n,d){if(n&1){let t=I();l(0,"div",16)(1,"label",45),c(2),r(),l(3,"input",46,8),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.showInFormOrder,e)||(a.dataModel.showInFormOrder=e),m(e)}),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.fieldTitle)),b("ngModel",t.dataModel.showInFormOrder),f("disabled",!(t.fieldsInfo.showInFormOrder!=null&&t.fieldsInfo.showInFormOrder.accessAddField))}}function nm(n,d){if(n&1){let t=I();l(0,"app-cms-enum-x-selector",47),w("modelChange",function(e){p(t);let a=g();return T(a.dataModel.inputDataType,e)||(a.dataModel.inputDataType=e),m(e)}),r()}if(n&2){let t=g();f("optionDataListResult",t.dataModelInputDataTypeEnumResult),b("model",t.dataModel.inputDataType),f("optionDisabled",!1)("optionLabel",t.fieldsInfo.inputDataType==null?null:t.fieldsInfo.inputDataType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function om(n,d){if(n&1){let t=I();l(0,"div",16)(1,"label",48),c(2),r(),l(3,"input",49,9),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.configValueIntValueMin,e)||(a.dataModel.configValueIntValueMin=e),m(e)}),r(),l(5,"em"),c(6),r()()}if(n&2){let t=g(),i=x(33);o(2),A(t.fieldsInfo.configValueIntValueMin==null?null:t.fieldsInfo.configValueIntValueMin.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.configValueIntValueMin==null?null:t.fieldsInfo.configValueIntValueMin.fieldTitle)),b("ngModel",t.dataModel.configValueIntValueMin),o(3),h("",i.value.length," / 64")}}function am(n,d){if(n&1){let t=I();l(0,"div",16)(1,"label",50),c(2),r(),l(3,"input",51,9),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.configValueIntValueMax,e)||(a.dataModel.configValueIntValueMax=e),m(e)}),r(),l(5,"em"),c(6),r()()}if(n&2){let t=g(),i=x(33);o(2),A(t.fieldsInfo.configValueIntValueMax==null?null:t.fieldsInfo.configValueIntValueMax.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.configValueIntValueMax==null?null:t.fieldsInfo.configValueIntValueMax.fieldTitle)),b("ngModel",t.dataModel.configValueIntValueMax),o(3),h("",i.value.length," / 64")}}function rm(n,d){if(n&1){let t=I();l(0,"app-cms-enum-x-selector",47),w("modelChange",function(e){p(t);let a=g(2);return T(a.dataModel.inputDataType,e)||(a.dataModel.inputDataType=e),m(e)}),r()}if(n&2){let t=g(2);f("optionDataListResult",t.dataModelInputDataTypeEnumResult),b("model",t.dataModel.inputDataType),f("optionDisabled",!1)("optionLabel",t.fieldsInfo.inputDataType==null?null:t.fieldsInfo.inputDataType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function lm(n,d){if(n&1){let t=I();l(0,"div",16)(1,"label",48),c(2),r(),l(3,"input",49,9),w("ngModelChange",function(e){p(t);let a=g(2);return T(a.dataModel.configValueIntValueMin,e)||(a.dataModel.configValueIntValueMin=e),m(e)}),r(),l(5,"em"),c(6),r()()}if(n&2){g();let t=x(9),i=g();o(2),A(i.fieldsInfo.configValueIntValueMin==null?null:i.fieldsInfo.configValueIntValueMin.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.configValueIntValueMin==null?null:i.fieldsInfo.configValueIntValueMin.fieldTitle)),b("ngModel",i.dataModel.configValueIntValueMin),o(3),h("",t.value.length," / 64")}}function sm(n,d){if(n&1){let t=I();l(0,"div",16)(1,"label",50),c(2),r(),l(3,"input",51,9),w("ngModelChange",function(e){p(t);let a=g(2);return T(a.dataModel.configValueIntValueMax,e)||(a.dataModel.configValueIntValueMax=e),m(e)}),r(),l(5,"em"),c(6),r()()}if(n&2){g();let t=x(9),i=g();o(2),A(i.fieldsInfo.configValueIntValueMax==null?null:i.fieldsInfo.configValueIntValueMax.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.configValueIntValueMax==null?null:i.fieldsInfo.configValueIntValueMax.fieldTitle)),b("ngModel",i.dataModel.configValueIntValueMax),o(3),h("",t.value.length," / 64")}}function dm(n,d){if(n&1){let t=I();l(0,"div",26)(1,"div",52)(2,"h5",53),c(3),r()(),l(4,"div",54)(5,"div",55)(6,"input",56),w("ngModelChange",function(e){p(t);let a=g(2);return T(a.dataModel.invisibleForEndUser,e)||(a.dataModel.invisibleForEndUser=e),m(e)}),r(),_(7,"label",57),r()()()}if(n&2){let t=g(2);o(3),h(" ",t.fieldsInfo.invisibleForEndUser==null?null:t.fieldsInfo.invisibleForEndUser.fieldTitle," "),o(3),b("ngModel",t.dataModel.invisibleForEndUser)}}function cm(n,d){if(n&1){let t=I();l(0,"div",26)(1,"div",52)(2,"h5",53),c(3),r()(),y(4,rm,1,6,"app-cms-enum-x-selector",23),l(5,"div",16)(6,"label",24),c(7),r(),l(8,"input",25,2),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.unit,e)||(a.dataModel.unit=e),m(e)}),r(),l(10,"em"),c(11),r()(),y(12,lm,7,5,"div",16),y(13,sm,7,5,"div",16),y(14,dm,8,2,"div",26),r()}if(n&2){let t=x(9),i=g();o(3),h(" ",i.fieldsInfo.invisibleForEndUser==null?null:i.fieldsInfo.invisibleForEndUser.fieldTitle," "),o(),M(i.fieldsInfo.inputDataType!=null&&i.fieldsInfo.inputDataType.accessWatchField?4:-1),o(3),A(i.fieldsInfo.unit==null?null:i.fieldsInfo.unit.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.unit==null?null:i.fieldsInfo.unit.fieldTitle)),b("ngModel",i.dataModel.unit),o(3),h("",t.value.length," / 64"),o(),M(i.dataModel.inputDataType===1||i.dataModel.inputDataType===3?12:-1),o(),M(i.dataModel.inputDataType===1||i.dataModel.inputDataType===3?13:-1),o(),M(i.fieldsInfo.invisibleForEndUser!=null&&i.fieldsInfo.invisibleForEndUser.accessWatchField?14:-1)}}function pm(n,d){if(n&1){let t=I();l(0,"div",26)(1,"div",52)(2,"h5",58),c(3),r()(),l(4,"div",54)(5,"div",55)(6,"input",59),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.invisibleForSubmiter,e)||(a.dataModel.invisibleForSubmiter=e),m(e)}),r(),_(7,"label",60),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.invisibleForSubmiter==null?null:t.fieldsInfo.invisibleForSubmiter.fieldTitle," "),o(3),b("ngModel",t.dataModel.invisibleForSubmiter)}}function mm(n,d){if(n&1){let t=I();l(0,"div",26)(1,"div",52)(2,"h5",61),c(3),r()(),l(4,"div",54)(5,"div",55)(6,"input",62),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.required,e)||(a.dataModel.required=e),m(e)}),r(),_(7,"label",63),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.required==null?null:t.fieldsInfo.required.fieldTitle," "),o(3),b("ngModel",t.dataModel.required)}}function um(n,d){if(n&1){let t=I();l(0,"div",26)(1,"div",52)(2,"h5",64),c(3),r()(),l(4,"div",54)(5,"div",55)(6,"input",65),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.isHistoryable,e)||(a.dataModel.isHistoryable=e),m(e)}),r(),_(7,"label",66),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.isHistoryable==null?null:t.fieldsInfo.isHistoryable.fieldTitle," "),o(3),b("ngModel",t.dataModel.isHistoryable)}}function fm(n,d){if(n&1){let t=I();l(0,"div",26)(1,"div",52)(2,"h5",67),c(3),r()(),l(4,"div",54)(5,"div",55)(6,"input",68),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.showInFastSearch,e)||(a.dataModel.showInFastSearch=e),m(e)}),r(),_(7,"label",69),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.showInFastSearch==null?null:t.fieldsInfo.showInFastSearch.fieldTitle," "),o(3),b("ngModel",t.dataModel.showInFastSearch)}}function gm(n,d){if(n&1){let t=I();l(0,"div",26)(1,"div",52)(2,"h5",70),c(3),r()(),l(4,"div",54)(5,"div",55)(6,"input",71),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.configValueForceUseDefaultValue,e)||(a.dataModel.configValueForceUseDefaultValue=e),m(e)}),r(),_(7,"label",72),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.configValueForceUseDefaultValue==null?null:t.fieldsInfo.configValueForceUseDefaultValue.fieldTitle," "),o(3),b("ngModel",t.dataModel.configValueForceUseDefaultValue)}}function hm(n,d){if(n&1){let t=I();l(0,"div",26)(1,"div",52)(2,"h5",73),c(3),r()(),l(4,"div",54)(5,"div",55)(6,"input",74),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.configValueMultipleChoice,e)||(a.dataModel.configValueMultipleChoice=e),m(e)}),r(),_(7,"label",75),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.configValueMultipleChoice==null?null:t.fieldsInfo.configValueMultipleChoice.fieldTitle," "),o(3),b("ngModel",t.dataModel.configValueMultipleChoice)}}function _m(n,d){if(n&1){let t=I();l(0,"mat-chip",76),v("removed",function(){let e=p(t).$implicit,a=g();return m(a.removeTagDefault(e))}),c(1),l(2,"button",77)(3,"mat-icon"),c(4,"cancel"),r()()()}if(n&2){let t=d.$implicit;o(),h(" ",t," ")}}function Cm(n,d){if(n&1){let t=I();l(0,"mat-chip",76),v("removed",function(){let e=p(t).$implicit,a=g();return m(a.removeTagNull(e))}),c(1),l(2,"button",77)(3,"mat-icon"),c(4,"cancel"),r()()()}if(n&2){let t=d.$implicit;o(),h(" ",t," ")}}function Sm(n,d){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function ym(n,d){if(n&1&&(l(0,"button",80),_(1,"i",81),c(2),S(3,"translate"),r()),n&2){g(2);let t=x(10);f("disabled",!t.form.valid),o(2),h(" ",E(3,2,"ACTION.SAVE")," ")}}function Mm(n,d){if(n&1){let t=I();l(0,"div",33)(1,"button",78),v("click",function(){p(t);let e=g();return m(e.onFormCancel())}),_(2,"i",79),c(3),S(4,"translate"),r(),y(5,ym,4,4,"button",80),r()}if(n&2){let t=g();o(3),h(" ",E(4,2,"ACTION.CANCEL")," "),o(2),M(t.formInfo.submitButtonEnabled?5:-1)}}var xn=class xn extends Tt{constructor(t,i,e,a,u,s,k,H,Ie){super(a,new yi,k,Ie);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estatePropertyDetailService=a;this.cmsToastrService=u;this.estateEnumService=s;this.publicHelper=k;this.cdr=H;this.translate=Ie;this.requestLinkPropertyTypeLanduseId="";this.requestLinkPropertyDetailGroupId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Le;this.dataModel=new yi;this.formInfo=new _e;this.fileManagerOpenForm=!1;this.dataModelInputDataTypeEnumResult=new Le;this.keywordDefaultDataModel=[];this.keywordNullDataModel=[];this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,t&&(this.requestLinkPropertyTypeLanduseId=t.linkPropertyTypeLanduseId,this.requestLinkPropertyDetailGroupId=t.linkPropertyDetailGroupId),this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0&&(this.dataModel.linkPropertyTypeLanduseId=this.requestLinkPropertyTypeLanduseId),this.requestLinkPropertyDetailGroupId&&this.requestLinkPropertyDetailGroupId.length>0&&(this.dataModel.linkPropertyDetailGroupId=this.requestLinkPropertyDetailGroupId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess(),this.getInputDataTypeEnum()}getInputDataTypeEnum(){this.coreEnumService.ServiceInputDataTypeEnum().subscribe({next:t=>{this.dataModelInputDataTypeEnumResult=t}})}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelect(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=t.id}onActionSelectorDetailGroup(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyDetailGroupId=t.id}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.submitButtonEnabled=!1,this.dataModel.configValueDefaultValueJson="",this.keywordDefaultDataModel&&this.keywordDefaultDataModel.length>0){let t=[];this.keywordDefaultDataModel.forEach(i=>{i.display?t.push(i.display):t.push(i)}),t&&t.length>0&&(this.dataModel.configValueDefaultValueJson=t.join(","))}if(this.dataModel.configValueNullValueJson="",this.keywordNullDataModel&&this.keywordNullDataModel.length>0){let t=[];this.keywordNullDataModel.forEach(i=>{i.display?t.push(i.display):t.push(i)}),t&&t.length>0&&(this.dataModel.configValueNullValueJson=t.join(","))}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTagDefault(t){let i=(t.value||"").trim();i&&this.keywordDefaultDataModel.push(i),t.chipInput.clear()}removeTagDefault(t){let i=this.keywordDefaultDataModel.indexOf(t);i>=0&&this.keywordDefaultDataModel.splice(i,1)}addTagNull(t){let i=(t.value||"").trim();i&&this.keywordNullDataModel.push(i),t.chipInput.clear()}removeTagNull(t){let i=this.keywordNullDataModel.indexOf(t);i>=0&&this.keywordNullDataModel.splice(i,1)}};xn.\u0275fac=function(i){return new(i||xn)(C(we),C(Te),C($),C(Vi),C(G),C(fo),C(N),C(O),C(F))},xn.\u0275cmp=V({type:xn,selectors:[["app-estate-property-detail-add"]],viewQuery:function(i,e){if(i&1&&K(Kp,5),i&2){let a;J(a=Y())&&(e.formGroup=a.first)}},standalone:!1,features:[U],decls:74,vars:67,consts:[["vform","ngForm"],["Title",""],["Unit",""],["chipList",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],["ShowInFormOrder",""],["ConfigValueIntValueMax",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.unit",1,"color-highlight"],["matInput","","type","text","name","dataModel.unit","minlength","1","maxlength","64","id","dataModel.unit",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","mb-3"],["appearance","fill",1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4",2,"width","100%"],[1,"color-highlight"],["aria-label","'TITLE.key_word'|translate"],[3,"matChipInputTokenEnd","placeholder","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.showInFormOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.configValueIntValueMin",1,"color-highlight"],["matInput","","type","number","name","dataModel.configValueIntValueMin","id","dataModel.configValueIntValueMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.configValueIntValueMax",1,"color-highlight"],["matInput","","type","number","name","dataModel.configValueIntValueMax","id","dataModel.configValueIntValueMax",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"pt-1"],["data-trigger-switch","dataModel.invisibleForEndUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.invisibleForEndUser","name","dataModel.invisibleForEndUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForEndUser",1,"custom-control-label"],["data-trigger-switch","dataModel.invisibleForSubmiter",1,"font-600","font-14"],["type","checkbox","id","dataModel.invisibleForSubmiter","name","dataModel.invisibleForSubmiter",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForSubmiter",1,"custom-control-label"],["data-trigger-switch","dataModel.required",1,"font-600","font-14"],["type","checkbox","id","dataModel.required","name","dataModel.required",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.required",1,"custom-control-label"],["data-trigger-switch","dataModel.isHistoryable",1,"font-600","font-14"],["type","checkbox","id","dataModel.isHistoryable","name","dataModel.isHistoryable",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isHistoryable",1,"custom-control-label"],["data-trigger-switch","dataModel.showInFastSearch",1,"font-600","font-14"],["type","checkbox","id","dataModel.showInFastSearch","name","dataModel.showInFastSearch",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.showInFastSearch",1,"custom-control-label"],["data-trigger-switch","dataModel.configValueForceUseDefaultValue",1,"font-600","font-14"],["type","checkbox","id","dataModel.configValueForceUseDefaultValue","name","dataModel.configValueForceUseDefaultValue",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.configValueForceUseDefaultValue",1,"custom-control-label"],["data-trigger-switch","dataModel.configValueMultipleChoice",1,"font-600","font-14"],["type","checkbox","id","dataModel.configValueMultipleChoice","name","dataModel.configValueMultipleChoice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.configValueMultipleChoice",1,"custom-control-label"],[3,"removed"],["type","button","matChipRemove",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let a=I();l(0,"div",10),_(1,"app-progress-spinner",11),l(2,"div",12)(3,"p",13),c(4),r(),l(5,"p"),c(6),S(7,"translate"),r(),_(8,"app-cms-form-result-message",14),l(9,"form",15,0),v("ngSubmit",function(){return p(a),m(e.onFormSubmit())}),l(11,"div",16)(12,"label",17),c(13),r(),l(14,"input",18,1),w("ngModelChange",function(s){return p(a),T(e.dataModel.title,s)||(e.dataModel.title=s),m(s)}),r(),y(16,Yp,1,0,"i",19),y(17,Xp,1,0,"i",20),l(18,"em"),c(19),r(),y(20,$p,5,3,"mat-error"),r(),l(21,"app-estate-property-type-landuse-selector",21),S(22,"translate"),v("optionChange",function(s){return p(a),m(e.onActionSelectorSelect(s))}),r(),l(23,"app-estate-property-detail-group-selector",21),S(24,"translate"),v("optionChange",function(s){return p(a),m(e.onActionSelectorDetailGroup(s))}),r(),y(25,em,7,10,"div",16),y(26,tm,11,11,"div",22),y(27,im,5,5,"div",16),y(28,nm,1,6,"app-cms-enum-x-selector",23),l(29,"div",16)(30,"label",24),c(31),r(),l(32,"input",25,2),w("ngModelChange",function(s){return p(a),T(e.dataModel.unit,s)||(e.dataModel.unit=s),m(s)}),r(),l(34,"em"),c(35),r()(),y(36,om,7,5,"div",16),y(37,am,7,5,"div",16),y(38,cm,15,10,"div",26),y(39,pm,8,2,"div",26),y(40,mm,8,2,"div",26),y(41,um,8,2,"div",26),y(42,fm,8,2,"div",26),y(43,gm,8,2,"div",26),y(44,hm,8,2,"div",26),l(45,"div",27)(46,"label",28),c(47),S(48,"translate"),r(),l(49,"mat-chip-grid",29,3),De(51,_m,5,1,"mat-chip",null,Pe),l(53,"input",30),S(54,"translate"),v("matChipInputTokenEnd",function(s){return p(a),m(e.addTagDefault(s))}),r()()(),l(55,"div",27)(56,"label",28),c(57),S(58,"translate"),r(),l(59,"mat-chip-grid",29,3),De(61,Cm,5,1,"mat-chip",null,Pe),l(63,"input",30),S(64,"translate"),v("matChipInputTokenEnd",function(s){return p(a),m(e.addTagNull(s))}),r()()(),l(65,"div",16)(66,"label",31),c(67),r(),l(68,"textarea",32,4),w("ngModelChange",function(s){return p(a),T(e.dataModel.description,s)||(e.dataModel.description=s),m(s)}),r(),l(70,"em"),c(71),r(),y(72,Sm,5,3,"mat-error"),r(),y(73,Mm,6,4,"div",33),r()()()}if(i&2){let a=x(15),u=x(33),s=x(50),k=x(69);o(),f("optionsInfoAreaId",e.constructorInfoAreaId),o(3),h(" ",e.formInfo.formTitle," "),o(2),h(" ",E(7,53,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",e.formInfo),o(5),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModel.title),o(2),M(a.value?-1:16),o(),M(a.value?17:-1),o(2),h("",a.value.length," / 100"),o(),M(a.errors!=null&&a.errors.required?20:-1),o(),f("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",E(22,55,"TITLE.USER")),o(2),f("optionSelectForce",e.dataModel.linkPropertyDetailGroupId)("optionPlaceholder",E(24,57,"TITLE.Category")),o(2),M(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?25:-1),o(),M(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?26:-1),o(),M(e.fieldsInfo.showInFormOrder!=null&&e.fieldsInfo.showInFormOrder.accessWatchField?27:-1),o(),M(e.fieldsInfo.inputDataType!=null&&e.fieldsInfo.inputDataType.accessWatchField?28:-1),o(3),A(e.fieldsInfo.unit==null?null:e.fieldsInfo.unit.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.unit==null?null:e.fieldsInfo.unit.fieldTitle)),b("ngModel",e.dataModel.unit),o(3),h("",u.value.length," / 64"),o(),M(e.dataModel.inputDataType===1||e.dataModel.inputDataType===3?36:-1),o(),M(e.dataModel.inputDataType===1||e.dataModel.inputDataType===3?37:-1),o(),M(e.fieldsInfo.invisibleForEndUser!=null&&e.fieldsInfo.invisibleForEndUser.accessWatchField?38:-1),o(),M(e.fieldsInfo.invisibleForSubmiter!=null&&e.fieldsInfo.invisibleForSubmiter.accessWatchField?39:-1),o(),M(e.fieldsInfo.required!=null&&e.fieldsInfo.required.accessWatchField?40:-1),o(),M(e.fieldsInfo.isHistoryable!=null&&e.fieldsInfo.isHistoryable.accessWatchField?41:-1),o(),M(e.fieldsInfo.showInFastSearch!=null&&e.fieldsInfo.showInFastSearch.accessWatchField?42:-1),o(),M(e.fieldsInfo.configValueForceUseDefaultValue!=null&&e.fieldsInfo.configValueForceUseDefaultValue.accessWatchField?43:-1),o(),M(e.dataModel.configValueForceUseDefaultValue&&(e.fieldsInfo.configValueMultipleChoice!=null&&e.fieldsInfo.configValueMultipleChoice.accessWatchField)?44:-1),o(3),A(E(48,59,"TITLE.Choose_keywords_relative_to_the_content")),o(4),xe(e.keywordDefaultDataModel),o(2),f("placeholder",ui("",E(54,61,"TITLE.key_word"),"+"))("matChipInputFor",s)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes)("matChipInputAddOnBlur",e.addOnBlurTag),o(4),A(E(58,63,"TITLE.Choose_keywords_relative_to_null_content")),o(4),xe(e.keywordNullDataModel),o(2),f("placeholder",ui("",E(64,65,"TITLE.key_word"),"+"))("matChipInputFor",s)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes)("matChipInputAddOnBlur",e.addOnBlurTag),o(4),A(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModel.description),o(3),h("",k.value.length," / 500"),o(),M(k.errors!=null&&k.errors.required?72:-1),o(),M(e.publicHelper.processService.process.inRunAll?-1:73)}},dependencies:[Z,ue,ee,ft,Vt,te,ce,re,fe,ge,me,pe,ei,ti,ii,$t,he,Ne,ye,oe,xo,ae,Ce,Ct,Wi,St,_t,ht,gt,Dn,W],encapsulation:2});var qo=xn;var Em=["vform"],vm=()=>["fa"];function Im(n,d){n&1&&_(0,"i",19)}function bm(n,d){n&1&&_(0,"i",20)}function Tm(n,d){n&1&&(l(0,"mat-error"),c(1," Title is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function wm(n,d){if(n&1){let t=I();l(0,"div",16)(1,"label",35),c(2),r(),l(3,"input",36,5),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.iconFont,e)||(a.dataModel.iconFont=e),m(e)}),v("iconPickerSelect",function(e){p(t);let a=g();return m(a.onIconPickerSelect(e))}),r(),l(5,"span",37),_(6,"i",38),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),b("ngModel",t.dataModel.iconFont),f("iconPicker",t.dataModel.iconFont)("ipIconPack",X(9,vm))("ipPosition","top")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessEditField)),o(3),f("ngClass",t.dataModel.iconFont)}}function Am(n,d){if(n&1){let t=I();l(0,"div",23)(1,"label",39),c(2),r(),l(3,"div",40)(4,"div",41)(5,"input",42,6),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.iconColor,e)||(a.dataModel.iconColor=e),m(e)}),r()(),l(7,"div",43),_(8,"ngx-mat-color-toggle",44)(9,"ngx-mat-color-picker",45,7),r()()()}if(n&2){let t=x(10),i=g();o(2),A(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ie("background",i.dataModel.iconColor),f("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),f("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),f("for",t),o(),f("touchUi",!0)("color","primary")}}function Rm(n,d){if(n&1){let t=I();l(0,"div",16)(1,"label",46),c(2),r(),l(3,"input",47,8),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.showInFormOrder,e)||(a.dataModel.showInFormOrder=e),m(e)}),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.fieldTitle)),b("ngModel",t.dataModel.showInFormOrder),f("disabled",!(t.fieldsInfo.showInFormOrder!=null&&t.fieldsInfo.showInFormOrder.accessEditField))}}function Pm(n,d){if(n&1){let t=I();l(0,"app-cms-enum-x-selector",48),w("modelChange",function(e){p(t);let a=g();return T(a.dataModel.inputDataType,e)||(a.dataModel.inputDataType=e),m(e)}),r()}if(n&2){let t=g();f("optionDataListResult",t.dataModelInputDataTypeEnumResult),b("model",t.dataModel.inputDataType),f("optionDisabled",!1)("optionLabel",t.fieldsInfo.inputDataType==null?null:t.fieldsInfo.inputDataType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Dm(n,d){if(n&1){let t=I();l(0,"div",16)(1,"label",49),c(2),r(),l(3,"input",50,9),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.configValueIntValueMin,e)||(a.dataModel.configValueIntValueMin=e),m(e)}),r(),l(5,"em"),c(6),r()()}if(n&2){let t=g(),i=x(34);o(2),A(t.fieldsInfo.configValueIntValueMin==null?null:t.fieldsInfo.configValueIntValueMin.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.configValueIntValueMin==null?null:t.fieldsInfo.configValueIntValueMin.fieldTitle)),b("ngModel",t.dataModel.configValueIntValueMin),o(3),h("",i.value.length," / 64")}}function xm(n,d){if(n&1){let t=I();l(0,"div",16)(1,"label",51),c(2),r(),l(3,"input",52,9),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.configValueIntValueMax,e)||(a.dataModel.configValueIntValueMax=e),m(e)}),r(),l(5,"em"),c(6),r()()}if(n&2){let t=g(),i=x(34);o(2),A(t.fieldsInfo.configValueIntValueMax==null?null:t.fieldsInfo.configValueIntValueMax.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.configValueIntValueMax==null?null:t.fieldsInfo.configValueIntValueMax.fieldTitle)),b("ngModel",t.dataModel.configValueIntValueMax),o(3),h("",i.value.length," / 64")}}function Lm(n,d){if(n&1){let t=I();l(0,"div",27)(1,"div",53)(2,"h5",54),c(3),r()(),l(4,"div",55)(5,"div",56)(6,"input",57),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.invisibleForEndUser,e)||(a.dataModel.invisibleForEndUser=e),m(e)}),r(),_(7,"label",58),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.invisibleForEndUser==null?null:t.fieldsInfo.invisibleForEndUser.fieldTitle," "),o(3),b("ngModel",t.dataModel.invisibleForEndUser)}}function km(n,d){if(n&1){let t=I();l(0,"div",27)(1,"div",53)(2,"h5",59),c(3),r()(),l(4,"div",55)(5,"div",56)(6,"input",60),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.invisibleForSubmiter,e)||(a.dataModel.invisibleForSubmiter=e),m(e)}),r(),_(7,"label",61),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.invisibleForSubmiter==null?null:t.fieldsInfo.invisibleForSubmiter.fieldTitle," "),o(3),b("ngModel",t.dataModel.invisibleForSubmiter)}}function Vm(n,d){if(n&1){let t=I();l(0,"div",27)(1,"div",53)(2,"h5",62),c(3),r()(),l(4,"div",55)(5,"div",56)(6,"input",63),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.required,e)||(a.dataModel.required=e),m(e)}),r(),_(7,"label",64),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.required==null?null:t.fieldsInfo.required.fieldTitle," "),o(3),b("ngModel",t.dataModel.required)}}function Bm(n,d){if(n&1){let t=I();l(0,"div",27)(1,"div",53)(2,"h5",65),c(3),r()(),l(4,"div",55)(5,"div",56)(6,"input",66),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.isHistoryable,e)||(a.dataModel.isHistoryable=e),m(e)}),r(),_(7,"label",67),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.isHistoryable==null?null:t.fieldsInfo.isHistoryable.fieldTitle," "),o(3),b("ngModel",t.dataModel.isHistoryable)}}function Fm(n,d){if(n&1){let t=I();l(0,"div",27)(1,"div",53)(2,"h5",68),c(3),r()(),l(4,"div",55)(5,"div",56)(6,"input",69),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.showInFastSearch,e)||(a.dataModel.showInFastSearch=e),m(e)}),r(),_(7,"label",70),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.showInFastSearch==null?null:t.fieldsInfo.showInFastSearch.fieldTitle," "),o(3),b("ngModel",t.dataModel.showInFastSearch)}}function Gm(n,d){if(n&1){let t=I();l(0,"div",27)(1,"div",53)(2,"h5",71),c(3),r()(),l(4,"div",55)(5,"div",56)(6,"input",72),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.configValueForceUseDefaultValue,e)||(a.dataModel.configValueForceUseDefaultValue=e),m(e)}),r(),_(7,"label",73),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.configValueForceUseDefaultValue==null?null:t.fieldsInfo.configValueForceUseDefaultValue.fieldTitle," "),o(3),b("ngModel",t.dataModel.configValueForceUseDefaultValue)}}function Om(n,d){if(n&1){let t=I();l(0,"div",27)(1,"div",53)(2,"h5",74),c(3),r()(),l(4,"div",55)(5,"div",56)(6,"input",75),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.configValueMultipleChoice,e)||(a.dataModel.configValueMultipleChoice=e),m(e)}),r(),_(7,"label",76),r()()()}if(n&2){let t=g();o(3),h(" ",t.fieldsInfo.configValueMultipleChoice==null?null:t.fieldsInfo.configValueMultipleChoice.fieldTitle," "),o(3),b("ngModel",t.dataModel.configValueMultipleChoice)}}function Nm(n,d){if(n&1){let t=I();l(0,"mat-chip",77),v("removed",function(){let e=p(t).$implicit,a=g();return m(a.removeTagDefault(e))}),c(1),l(2,"button",78)(3,"mat-icon"),c(4,"cancel"),r()()()}if(n&2){let t=d.$implicit;o(),h(" ",t," ")}}function Wm(n,d){if(n&1){let t=I();l(0,"mat-chip",77),v("removed",function(){let e=p(t).$implicit,a=g();return m(a.removeTagNull(e))}),c(1),l(2,"button",78)(3,"mat-icon"),c(4,"cancel"),r()()()}if(n&2){let t=d.$implicit;o(),h(" ",t," ")}}function Hm(n,d){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function Um(n,d){if(n&1){let t=I();l(0,"div",34)(1,"button",79),v("click",function(){p(t);let e=g();return m(e.onFormCancel())}),_(2,"i",80),c(3),S(4,"translate"),r(),l(5,"button",81),_(6,"i",82),c(7),S(8,"translate"),r()()}if(n&2){g();let t=x(10);o(3),h(" ",E(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!t.form.valid),o(2),h(" ",E(8,5,"ACTION.SAVE")," ")}}var Ln=class Ln extends wt{constructor(t,i,e,a,u,s,k,H){super(a,new yi,s,H);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estatePropertyDetailService=a;this.cmsToastrService=u;this.publicHelper=s;this.cdr=k;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new vt;this.dataModel=new yi;this.formInfo=new _e;this.dataModelInputDataTypeEnumResult=new Le;this.keywordDefaultDataModel=[];this.keywordNullDataModel=[];this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getInputDataTypeEnum()}getInputDataTypeEnum(){this.coreEnumService.ServiceInputDataTypeEnum().subscribe({next:t=>{this.dataModelInputDataTypeEnumResult=t}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailService.setAccessLoad(),this.estatePropertyDetailService.setAccessDataType(It.Editor),this.estatePropertyDetailService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.dataModel.configValueDefaultValueJson=this.dataModel.configValueDefaultValueJson+"",this.dataModel.configValueNullValueJson=this.dataModel.configValueNullValueJson+"",this.keywordDefaultDataModel=this.dataModel.configValueDefaultValueJson.split(","),this.keywordNullDataModel=this.dataModel.configValueNullValueJson.split(","),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelect(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=t.id}onActionSelectorDetailGroup(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyDetailGroupId=t.id}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){if(this.formGroup.valid){if(this.dataModel.configValueDefaultValueJson="",this.keywordDefaultDataModel&&this.keywordDefaultDataModel.length>0){let t=[];this.keywordDefaultDataModel.forEach(i=>{i.display?t.push(i.display):t.push(i)}),t&&t.length>0&&(this.dataModel.configValueDefaultValueJson=t.join(","))}if(this.dataModel.configValueNullValueJson="",this.keywordNullDataModel&&this.keywordNullDataModel.length>0){let t=[];this.keywordNullDataModel.forEach(i=>{i.display?t.push(i.display):t.push(i)}),t&&t.length>0&&(this.dataModel.configValueNullValueJson=t.join(","))}this.formInfo.submitButtonEnabled=!1,this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTagDefault(t){let i=(t.value||"").trim();i&&this.keywordDefaultDataModel.push(i),t.chipInput.clear()}removeTagDefault(t){let i=this.keywordDefaultDataModel.indexOf(t);i>=0&&this.keywordDefaultDataModel.splice(i,1)}addTagNull(t){let i=(t.value||"").trim();i&&this.keywordNullDataModel.push(i),t.chipInput.clear()}removeTagNull(t){let i=this.keywordNullDataModel.indexOf(t);i>=0&&this.keywordNullDataModel.splice(i,1)}};Ln.\u0275fac=function(i){return new(i||Ln)(C(we),C(Te),C($),C(Vi),C(G),C(N),C(O),C(F))},Ln.\u0275cmp=V({type:Ln,selectors:[["app-estate-property-detail-edit"]],viewQuery:function(i,e){if(i&1&&K(Em,5),i&2){let a;J(a=Y())&&(e.formGroup=a.first)}},standalone:!1,features:[U],decls:75,vars:70,consts:[["vform","ngForm"],["Title",""],["Unit",""],["chipList",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],["ShowInFormOrder",""],["ConfigValueIntValueMax",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionSelectParentForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.unit",1,"color-highlight"],["matInput","","type","text","name","dataModel.unit","minlength","1","maxlength","64","id","dataModel.unit",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","mb-3"],["appearance","fill",1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4",2,"width","100%"],[1,"color-highlight"],["aria-label","'TITLE.key_word'|translate"],[3,"matChipInputTokenEnd","placeholder","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.showInFormOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.configValueIntValueMin",1,"color-highlight"],["matInput","","type","number","name","dataModel.configValueIntValueMin","id","dataModel.configValueIntValueMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.configValueIntValueMax",1,"color-highlight"],["matInput","","type","number","name","dataModel.configValueIntValueMax","id","dataModel.configValueIntValueMax",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"pt-1"],["data-trigger-switch","dataModel.invisibleForEndUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.invisibleForEndUser","name","dataModel.invisibleForEndUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForEndUser",1,"custom-control-label"],["data-trigger-switch","dataModel.invisibleForSubmiter",1,"font-600","font-14"],["type","checkbox","id","dataModel.invisibleForSubmiter","name","dataModel.invisibleForSubmiter",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForSubmiter",1,"custom-control-label"],["data-trigger-switch","dataModel.required",1,"font-600","font-14"],["type","checkbox","id","dataModel.required","name","dataModel.required",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.required",1,"custom-control-label"],["data-trigger-switch","dataModel.isHistoryable",1,"font-600","font-14"],["type","checkbox","id","dataModel.isHistoryable","name","dataModel.isHistoryable",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isHistoryable",1,"custom-control-label"],["data-trigger-switch","dataModel.showInFastSearch",1,"font-600","font-14"],["type","checkbox","id","dataModel.showInFastSearch","name","dataModel.showInFastSearch",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.showInFastSearch",1,"custom-control-label"],["data-trigger-switch","dataModel.configValueForceUseDefaultValue",1,"font-600","font-14"],["type","checkbox","id","dataModel.configValueForceUseDefaultValue","name","dataModel.configValueForceUseDefaultValue",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.configValueForceUseDefaultValue",1,"custom-control-label"],["data-trigger-switch","dataModel.configValueMultipleChoice",1,"font-600","font-14"],["type","checkbox","id","dataModel.configValueMultipleChoice","name","dataModel.configValueMultipleChoice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.configValueMultipleChoice",1,"custom-control-label"],[3,"removed"],["type","button","matChipRemove",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let a=I();l(0,"div",10),_(1,"app-progress-spinner",11),l(2,"div",12)(3,"p",13),c(4),r(),l(5,"p"),c(6),S(7,"translate"),r(),_(8,"app-cms-form-result-message",14),l(9,"form",15,0),v("ngSubmit",function(){return p(a),m(e.onFormSubmit())}),l(11,"div",16)(12,"label",17),c(13),r(),l(14,"input",18,1),w("ngModelChange",function(s){return p(a),T(e.dataModel.title,s)||(e.dataModel.title=s),m(s)}),r(),y(16,Im,1,0,"i",19),y(17,bm,1,0,"i",20),l(18,"em"),c(19),r(),y(20,Tm,5,3,"mat-error"),r(),l(21,"app-estate-property-type-landuse-selector",21),S(22,"translate"),v("optionChange",function(s){return p(a),m(e.onActionSelectorSelect(s))}),_(23,"br"),r(),l(24,"app-estate-property-detail-group-selector",22),S(25,"translate"),v("optionChange",function(s){return p(a),m(e.onActionSelectorDetailGroup(s))}),r(),y(26,wm,7,10,"div",16),y(27,Am,11,11,"div",23),y(28,Rm,5,5,"div",16),y(29,Pm,1,6,"app-cms-enum-x-selector",24),l(30,"div",16)(31,"label",25),c(32),r(),l(33,"input",26,2),w("ngModelChange",function(s){return p(a),T(e.dataModel.unit,s)||(e.dataModel.unit=s),m(s)}),r(),l(35,"em"),c(36),r()(),y(37,Dm,7,5,"div",16),y(38,xm,7,5,"div",16),y(39,Lm,8,2,"div",27),y(40,km,8,2,"div",27),y(41,Vm,8,2,"div",27),y(42,Bm,8,2,"div",27),y(43,Fm,8,2,"div",27),y(44,Gm,8,2,"div",27),y(45,Om,8,2,"div",27),l(46,"div",28)(47,"label",29),c(48),S(49,"translate"),r(),l(50,"mat-chip-grid",30,3),De(52,Nm,5,1,"mat-chip",null,Pe),l(54,"input",31),S(55,"translate"),v("matChipInputTokenEnd",function(s){return p(a),m(e.addTagDefault(s))}),r()()(),l(56,"div",28)(57,"label",29),c(58),S(59,"translate"),r(),l(60,"mat-chip-grid",30,3),De(62,Wm,5,1,"mat-chip",null,Pe),l(64,"input",31),S(65,"translate"),v("matChipInputTokenEnd",function(s){return p(a),m(e.addTagNull(s))}),r()()(),l(66,"div",16)(67,"label",32),c(68),r(),l(69,"textarea",33,4),w("ngModelChange",function(s){return p(a),T(e.dataModel.description,s)||(e.dataModel.description=s),m(s)}),r(),l(71,"em"),c(72),r(),y(73,Hm,5,3,"mat-error"),r(),y(74,Um,9,7,"div",34),r()()()}if(i&2){let a=x(15),u=x(34),s=x(51),k=x(70);o(),f("optionsInfoAreaId",e.constructorInfoAreaId),o(3),h(" ",e.formInfo.formTitle," "),o(2),h(" ",E(7,56,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",e.formInfo),o(5),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModel.title),o(2),M(a.value?-1:16),o(),M(a.value?17:-1),o(2),h("",a.value.length," / 100"),o(),M(a.errors!=null&&a.errors.required?20:-1),o(),f("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",E(22,58,"TITLE.USER"))("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseId!=null&&e.fieldsInfo.linkPropertyTypeLanduseId.accessEditField)),o(3),f("optionSelectForce",e.dataModel.linkPropertyDetailGroupId)("optionSelectParentForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",E(25,60,"TITLE.Category"))("optionDisabled",!(e.fieldsInfo.linkPropertyDetailGroupId!=null&&e.fieldsInfo.linkPropertyDetailGroupId.accessEditField)),o(2),M(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?26:-1),o(),M(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?27:-1),o(),M(e.fieldsInfo.showInFormOrder!=null&&e.fieldsInfo.showInFormOrder.accessWatchField?28:-1),o(),M(e.fieldsInfo.inputDataType!=null&&e.fieldsInfo.inputDataType.accessWatchField?29:-1),o(3),A(e.fieldsInfo.unit==null?null:e.fieldsInfo.unit.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.unit==null?null:e.fieldsInfo.unit.fieldTitle)),b("ngModel",e.dataModel.unit),o(3),h("",u.value.length," / 64"),o(),M(e.dataModel.inputDataType===1||e.dataModel.inputDataType===3?37:-1),o(),M(e.dataModel.inputDataType===1||e.dataModel.inputDataType===3?38:-1),o(),M(e.fieldsInfo.invisibleForEndUser!=null&&e.fieldsInfo.invisibleForEndUser.accessWatchField?39:-1),o(),M(e.fieldsInfo.invisibleForSubmiter!=null&&e.fieldsInfo.invisibleForSubmiter.accessWatchField?40:-1),o(),M(e.fieldsInfo.required!=null&&e.fieldsInfo.required.accessWatchField?41:-1),o(),M(e.fieldsInfo.isHistoryable!=null&&e.fieldsInfo.isHistoryable.accessWatchField?42:-1),o(),M(e.fieldsInfo.showInFastSearch!=null&&e.fieldsInfo.showInFastSearch.accessWatchField?43:-1),o(),M(e.fieldsInfo.configValueForceUseDefaultValue!=null&&e.fieldsInfo.configValueForceUseDefaultValue.accessWatchField?44:-1),o(),M(e.dataModel.configValueForceUseDefaultValue&&(e.fieldsInfo.configValueMultipleChoice!=null&&e.fieldsInfo.configValueMultipleChoice.accessWatchField)?45:-1),o(3),A(E(49,62,"TITLE.Choose_keywords_relative_to_the_content")),o(4),xe(e.keywordDefaultDataModel),o(2),f("placeholder",ui("",E(55,64,"TITLE.key_word"),"+"))("matChipInputFor",s)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes)("matChipInputAddOnBlur",e.addOnBlurTag),o(4),A(E(59,66,"TITLE.Choose_keywords_relative_to_null_content")),o(4),xe(e.keywordNullDataModel),o(2),f("placeholder",ui("",E(65,68,"TITLE.key_word"),"+"))("matChipInputFor",s)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes)("matChipInputAddOnBlur",e.addOnBlurTag),o(4),A(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModel.description),o(3),h("",k.value.length," / 500"),o(),M(k.errors!=null&&k.errors.required?73:-1),o(),M(e.formInfo.submitButtonEnabled?74:-1)}},dependencies:[Z,ue,ee,ft,Vt,te,ce,re,fe,ge,me,pe,ei,ti,ii,$t,he,Ne,ye,oe,xo,ae,Ce,Ct,Wi,St,_t,ht,gt,Dn,W],encapsulation:2});var Qo=Ln;function jm(n,d){if(n&1){let t=I();l(0,"button",14),v("click",function(){p(t);let e=g();return m(e.onActionAdd())}),c(1),S(2,"translate"),r()}n&2&&(o(),h(" ",E(2,1,"ACTION.ADD")," "))}function qm(n,d){if(n&1){let t=I();l(0,"button",15),v("click",function(){p(t);let e=g();return m(e.onActionEdit())}),c(1),S(2,"translate"),r()}n&2&&(o(),h(" ",E(2,1,"ACTION.EDIT")," "))}function Qm(n,d){if(n&1){let t=I();l(0,"button",16),v("click",function(){p(t);let e=g();return m(e.onActionDelete())}),c(1),S(2,"translate"),r()}n&2&&(o(),h(" ",E(2,1,"ACTION.DELETE")," "))}function Zm(n,d){if(n&1){let t=I();l(0,"button",17),v("click",function(){p(t);let e=g();return m(e.onActionButtonReload())}),l(1,"mat-icon",18),S(2,"translate"),c(3,"refresh"),r()()}if(n&2){let t=g();o(),ne("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),f("title",R(E(2,4,"ACTION.RELOAD")))}}function zm(n,d){if(n&1){let t=I();l(0,"mat-tree-node",19),_(1,"button",20),l(2,"span",21),v("click",function(){let e=p(t).$implicit,a=g();return m(a.onActionSelect(e))}),_(3,"i",22),c(4),r()()}if(n&2){let t=d.$implicit,i=g();ne("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===t.id),o(3),ie("color",t.IconColor),f("ngClass",t.IconFont),o(),h("\xA0",t.title)}}function Km(n,d){if(n&1){let t=I();l(0,"mat-tree-node",23)(1,"button",24)(2,"mat-icon",25),c(3),r()(),l(4,"span",21),v("click",function(){let e=p(t).$implicit,a=g();return m(a.onActionSelect(e))}),_(5,"i",22),c(6),r()()}if(n&2){let t=d.$implicit,i=g(),e=x(12);ne("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===t.id),f("cdkTreeNodeTypeaheadLabel",t.title)("isExpanded",t.isExpanded??!1),o(),oo("type","button")("aria-label","Toggle "+t.title),o(2),h(" ",e.isExpanded(t)?"expand_more":"chevron_right"," "),o(2),ie("color",t.IconColor),f("ngClass",t.IconFont),o(),h("\xA0",t.title)}}var kn=class kn{constructor(d,t,i,e,a,u,s,k,H,Ie){this.cmsToastrService=d;this.coreEnumService=t;this.categoryService=i;this.cmsConfirmationDialogService=e;this.dialog=a;this.cdr=u;this.publicHelper=s;this.translate=k;this.tokenHelper=H;this.cmsStoreService=Ie;this.requestLinkPropertyTypeLanduseId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Lt;this.dataModelResult=new Le;this.filterModel=new Q;this.dataSource=new ja;this.optionChange=new Ot;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(d,t)=>!1;this.childrenAccessor=d=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(d){this.onActionSelectForce(d)}set optionLinkPropertyTypeLanduseId(d){if(this.requestLinkPropertyTypeLanduseId=d,this.filterModel=new Q,d&&d.length>0){let t=new q;t.propertyName="LinkPropertyTypeLanduseId",t.value=d,this.filterModel.filters.push(t)}}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(d=>d.tokenInfoStore).subscribe(()=>ke(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(d=>d.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(d,t,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:t=>{t.isSuccess?(this.dataModelResult=t,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(d)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(d,!1)}})}onActionSelect(d){d&&this.dataModelSelect&&d.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=d,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Lt,this.DataGetAll()}onActionSelectForce(d){}onActionAdd(){var d="";this.publicHelper.isMobile?d="dialog-fullscreen":d="dialog-min",this.dialog.open(Tn,{height:"90%",panelClass:d,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{linkPropertyTypeLanduseId:this.requestLinkPropertyTypeLanduseId}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let d="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(d=this.dataModelSelect.id),d===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(An,{height:"90%",panelClass:t,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:d}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let d="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(d=this.dataModelSelect.id),d===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}var t="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(e=>{t=e["MESSAGE.Please_Confirm"],i=e["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) "}),this.cmsConfirmationDialogService.confirm(t,i).then(e=>{if(e){let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(u=>{this.publicHelper.processService.processStart(a,u,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:u=>{u.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(a)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(a,!1)}})}}).catch(()=>{})}};kn.\u0275fac=function(t){return new(t||kn)(C(G),C($),C(kt),C(Oe),C(He),C(O),C(N),C(F),C(se),C(le))},kn.\u0275cmp=V({type:kn,selectors:[["app-estate-property-detail-group-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionLinkPropertyTypeLanduseId:"optionLinkPropertyTypeLanduseId",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","true",3,"ngClass"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(t,i){t&1&&(l(0,"app-cms-html-tree",1),P(1,2),c(2),S(3,"translate"),D(),P(4,3),y(5,jm,3,3,"button",4),y(6,qm,3,3,"button",5),y(7,Qm,3,3,"button",6),y(8,Zm,4,6,"button",7),D(),P(9,8),_(10,"app-progress-spinner",9),l(11,"mat-tree",10,0),L(13,zm,5,6,"mat-tree-node",11)(14,Km,7,11,"mat-tree-node",12),r(),D(),Fe(15,13),r()),t&2&&(f("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),h(" ",E(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?5:-1),o(),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?6:-1),o(),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?7:-1),o(),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?8:-1),o(2),f("optionsInfoAreaId",i.constructorInfoAreaId),o(),f("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),f("matTreeNodeDefWhen",i.hasChild))},dependencies:[Z,We,ye,Na,Wa,Ua,Ha,Oa,ae,ir,W],encapsulation:2});var Zo=kn;var Ym=()=>[5,10,20,100];function Xm(n,d){if(n&1){let t=I();l(0,"a",40),v("click",function(){p(t);let e=g();return m(e.onActionBackToParent())}),_(1,"i",41),r()}}function $m(n,d){if(n&1){let t=I();l(0,"div",17)(1,"a",42),v("click",function(){p(t);let e=g();return m(e.onActionButtonNewRow())}),_(2,"i",43)(3,"br"),r(),l(4,"p",44),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.ADD")," "))}function e0(n,d){if(n&1){let t=I();l(0,"div",17)(1,"a",45),v("click",function(){p(t);let e=g();return m(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",46)(3,"br"),r(),l(4,"p",44),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.EDIT")," "))}function t0(n,d){if(n&1){let t=I();l(0,"div",17)(1,"a",47),v("click",function(){p(t);let e=g();return m(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",48)(3,"br"),r(),l(4,"p",44),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.DELETE")," "))}function i0(n,d){if(n&1&&(l(0,"mat-header-cell",49),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function n0(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.id," ")}}function o0(n,d){if(n&1&&(l(0,"mat-header-cell",49),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle," ")}}function a0(n,d){if(n&1&&(l(0,"mat-cell"),_(1,"i",50),r()),n&2){let t=d.$implicit;o(),ie("color",t.iconColor),f("ngClass",t.iconFont)}}function r0(n,d){if(n&1&&(l(0,"mat-header-cell",49),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," ")}}function l0(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.title," ")}}function s0(n,d){if(n&1&&(l(0,"mat-header-cell",49),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.unit==null?null:t.fieldsInfo.unit.fieldTitle," ")}}function d0(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.unit," ")}}function c0(n,d){if(n&1&&(l(0,"mat-header-cell",49),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.fieldTitle," ")}}function p0(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.showInFormOrder," ")}}function m0(n,d){if(n&1&&(l(0,"mat-header-cell",49),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.linkPropertyTypeLanduseId==null?null:t.fieldsInfo.linkPropertyTypeLanduseId.fieldTitle," ")}}function u0(n,d){if(n&1&&(l(0,"mat-cell"),c(1),S(2,"cmstitle"),r()),n&2){let t=d.$implicit,i=g();o(),h(" ",ao(2,1,t.linkPropertyTypeLanduseId,i.dataModelEstatePropertyTypeLanduseResult.listItems)," ")}}function f0(n,d){if(n&1&&(l(0,"mat-header-cell",49),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.linkPropertyDetailGroupId==null?null:t.fieldsInfo.linkPropertyDetailGroupId.fieldTitle," ")}}function g0(n,d){if(n&1&&(l(0,"mat-cell"),c(1),S(2,"cmstitle"),r()),n&2){let t=d.$implicit,i=g();o(),h(" ",ao(2,1,t.linkPropertyDetailGroupId,i.dataModelEstatePropertyDetailGroupResult.listItems)," ")}}function h0(n,d){n&1&&(l(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",E(2,1,"TITLE.OPTION")," "))}function _0(n,d){if(n&1&&(l(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),n&2){let t=x(5);o(),f("matMenuTriggerFor",t)}}function C0(n,d){n&1&&(l(0,"mat-header-cell",49),c(1,". "),r())}function S0(n,d){n&1&&(l(0,"mat-cell")(1,"mat-icon",53),c(2,"reorder"),r()())}function y0(n,d){n&1&&_(0,"mat-header-row")}function M0(n,d){if(n&1){let t=I();l(0,"mat-row",54),v("click",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))})("rtclick",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))}),r()}if(n&2){let t=d.$implicit,i=g();ne("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Vn=class Vn extends st{constructor(t,i,e,a,u,s,k,H,Ie,be,je,Ht,xt,Ki){super(t,new yi,xt,k,je);this.contentService=t;this.estatePropertyDetailGroupService=i;this.estatePropertyTypeLanduseService=e;this.cmsConfirmationDialogService=a;this.activatedRoute=u;this.cmsToastrService=s;this.tokenHelper=k;this.cmsStoreService=H;this.router=Ie;this.cdr=be;this.translate=je;this.pageInfo=Ht;this.publicHelper=xt;this.dialog=Ki;this.requestLinkPropertyTypeLanduseId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Q;this.filterDataModelQueryBuilder=[];this.dataModelEstatePropertyTypeLanduseResult=new Le;this.dataModelEstatePropertyDetailGroupResult=new Le;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["IconFont","title","Unit","ShowInFormOrder","LinkPropertyTypeLanduseId","LinkPropertyDetailGroupId"];this.tabledisplayedColumnsMobileSource=["IconFont","title","Unit","ShowInFormOrder","LinkPropertyTypeLanduseId","LinkPropertyDetailGroupId"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId"),this.optionsSearch.parentMethods={onSubmit:Mr=>this.onSubmitOptionsSearch(Mr)},this.filteModelContent.sortColumn="ShowInFormOrder",this.filteModelContent.sortType=B.Ascending;let aa=new q;this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0&&(aa.propertyName="LinkPropertyTypeLanduseId",aa.value=this.requestLinkPropertyTypeLanduseId,this.filteModelContent.filters.push(aa))}ngOnInit(){this.filteModelContent.sortColumn="ShowInFormOrder",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>ke(this,null,function*(){this.tokenInfo=t,this.DataGetAll()}))),this.getPropertyType(),this.getPropertyDetailGroup()}getPropertyType(){let t=new Q;t.rowPerPage=100,this.estatePropertyTypeLanduseService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelEstatePropertyTypeLanduseResult=i}})}getPropertyDetailGroup(){let t=new Q;t.rowPerPage=100,this.estatePropertyDetailGroupService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelEstatePropertyDetailGroupResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new yi);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let e=new q;e.propertyName="LinkPropertyDetailGroupId",e.value=this.categoryModelSelected.id,i.filters.push(e)}this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onTableDropRow(t){let i=this.tableSource.data.findIndex(a=>a===t.item.data),e=new po;e.id=this.tableSource.data[i].id,e.centerId=this.tableSource.data[t.currentIndex].id,i>t.currentIndex?e.actionGo=Yi.GoUp:e.actionGo=Yi.GoDown,this.contentService.ServiceEditStep(e).subscribe({next:a=>{a.isSuccess?(ho(this.tableSource.data,i,t.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(a.errorMessage)},error:a=>{this.cmsToastrService.typeError(a)}})}onActionSelectorSelect(t){var i=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new Q,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=e,this.categoryModelSelected=t,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(qo,{height:"90%",panelClass:t,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{linkPropertyTypeLanduseId:this.requestLinkPropertyTypeLanduseId,linkPropertyDetailGroupId:this.categoryModelSelected.id}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Qo,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],e=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(a=>{if(a){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(u,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),u=new q;u.propertyName="recordStatus",u.value=Ue.Available,a.filters.push(u),this.contentService.ServiceGetCount(a).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/estate/property-type-landuse/"])}};Vn.\u0275fac=function(i){return new(i||Vn)(C(Vi),C(kt),C(Qt),C(Oe),C(Ri),C(G),C(se),C(le),C(Ge),C(O),C(F),C(lt),C(N),C(He))},Vn.\u0275cmp=V({type:Vn,selectors:[["app-estate-property-detail-list"]],standalone:!1,features:[U],decls:63,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange","optionLinkPropertyTypeLanduseId"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","title"],["matColumnDef","Unit"],["matColumnDef","ShowInFormOrder"],["matColumnDef","LinkPropertyTypeLanduseId"],["matColumnDef","LinkPropertyDetailGroupId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,e){if(i&1){let a=I();l(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(s){return p(a),T(e.viewGuideNotice,s)||(e.viewGuideNotice=s),m(s)}),v("optionOnActionButtonMemoRow",function(){return p(a),m(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(a),m(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(a),m(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(a),m(e.onActionButtonPrintRow())}),P(1,4),l(2,"app-estate-property-detail-group-tree",5),v("optionChange",function(s){return p(a),m(e.onActionSelectorSelect(s))}),r(),D(),Fe(3,6)(4,7),P(5,8),y(6,Xm,2,0,"a",9),l(7,"a",10),v("click",function(){return p(a),m(e.viewGuideNotice=!e.viewGuideNotice)}),_(8,"i",11),r(),l(9,"a",10),v("click",function(){return p(a),m(e.onActionButtonReload())}),_(10,"i",12),r(),D(),P(11,13),l(12,"a",14),v("click",function(){return p(a),m(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(13,"mat-slide-toggle",15),c(14),S(15,"translate"),r(),l(16,"a",14),v("click",function(){return p(a),m(e.onActionButtonStatist())}),_(17,"mat-slide-toggle",15),c(18),S(19,"translate"),r(),D(),P(20,16),y(21,$m,7,3,"div",17),D(),P(22,18),y(23,e0,7,3,"div",17),y(24,t0,7,3,"div",17),D(),P(25,19),l(26,"app-cms-search-list",20),w("optionsChange",function(s){return p(a),T(e.optionsSearch,s)||(e.optionsSearch=s),m(s)}),r(),l(27,"app-cms-statist-list",20),w("optionsChange",function(s){return p(a),T(e.optionsStatist,s)||(e.optionsStatist=s),m(s)}),r(),D(),P(28,21),l(29,"mat-table",22,0),v("matSortChange",function(){p(a);let s=x(30);return m(e.onTableSortData(s))})("cdkDropListDropped",function(s){return p(a),m(e.onTableDropRow(s))}),P(31,23),L(32,i0,2,1,"mat-header-cell",24)(33,n0,2,1,"mat-cell",25),D(),P(34,26),L(35,o0,2,1,"mat-header-cell",24)(36,a0,2,3,"mat-cell",25),D(),P(37,27),L(38,r0,2,1,"mat-header-cell",24)(39,l0,2,1,"mat-cell",25),D(),P(40,28),L(41,s0,2,1,"mat-header-cell",24)(42,d0,2,1,"mat-cell",25),D(),P(43,29),L(44,c0,2,1,"mat-header-cell",24)(45,p0,2,1,"mat-cell",25),D(),P(46,30),L(47,m0,2,1,"mat-header-cell",24)(48,u0,3,4,"mat-cell",25),D(),P(49,31),L(50,f0,2,1,"mat-header-cell",24)(51,g0,3,4,"mat-cell",25),D(),P(52,32),L(53,h0,3,3,"mat-header-cell",33)(54,_0,6,1,"mat-cell",34),D(),P(55,35),L(56,C0,2,0,"mat-header-cell",24)(57,S0,3,0,"mat-cell",25),D(),L(58,y0,1,0,"mat-header-row",36)(59,M0,1,2,"mat-row",37),r(),D(),P(60,38),l(61,"mat-paginator",39,1),v("page",function(s){return p(a),m(e.onTablePageingData(s))}),r(),D(),r()}i&2&&(f("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",e.viewGuideNotice),f("optionTreeDisplay",!0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),o(2),f("optionLinkPropertyTypeLanduseId",e.requestLinkPropertyTypeLanduseId),o(4),M((e.requestLinkPropertyTypeLanduseId==null?null:e.requestLinkPropertyTypeLanduseId.length)>0?6:-1),o(4),ne("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),o(3),f("checked",e.optionsSearch.data.show),o(),h("",E(15,28,"ACTION.SEARCH")," "),o(3),f("checked",e.optionsStatist.data.show),o(),h("",E(19,30,"ACTION.STATIST")," "),o(3),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow&&(e.categoryModelSelected==null?null:e.categoryModelSelected.id.length)>0?21:-1),o(2),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?23:-1),o(),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?24:-1),o(2),b("options",e.optionsSearch),o(),b("options",e.optionsStatist),o(2),f("dataSource",e.tableSource)("cdkDropListData",e.tableSource),o(29),f("matHeaderRowDef",e.tabledisplayedColumns),o(),f("matRowDefColumns",e.tabledisplayedColumns),o(2),f("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",X(32,Ym)))},dependencies:[Z,We,ye,qe,Qe,Ze,ze,Ke,Je,Ye,$e,nt,et,Xe,ot,tt,it,at,rt,dt,ct,pt,mt,Co,_o,Zo,W,Do],encapsulation:2});var Qi=Vn;var E0=()=>[5,10,20,100];function v0(n,d){if(n&1){let t=I();l(0,"div",15)(1,"a",39),v("click",function(){p(t);let e=g();return m(e.onActionButtonNewRow())}),_(2,"i",40)(3,"br"),r(),l(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.ADD")," "))}function I0(n,d){if(n&1){let t=I();l(0,"div",15)(1,"a",41),v("click",function(){p(t);let e=g();return m(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",42)(3,"br"),r(),l(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.EDIT")," "))}function b0(n,d){if(n&1){let t=I();l(0,"div",15)(1,"a",43),v("click",function(){p(t);let e=g();return m(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",44)(3,"br"),r(),l(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.DELETE")," "))}function T0(n,d){n&1&&(l(0,"mat-header-cell",45),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",E(2,1,"TITLE.PICTURE")," "))}function w0(n,d){if(n&1&&(_(0,"img",46),S(1,"cmsthumbnail")),n&2){let t=g().$implicit;f("src",R(E(1,2,t.linkMainImageIdSrc)),z)}}function A0(n,d){if(n&1&&(l(0,"mat-cell"),y(1,w0,2,4,"img",46),r()),n&2){let t=d.$implicit;o(),M((t==null||t.linkMainImageIdSrc==null?null:t.linkMainImageIdSrc.length)>0?1:-1)}}function R0(n,d){if(n&1&&(l(0,"mat-header-cell",45),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle," ")}}function P0(n,d){if(n&1&&(l(0,"mat-cell"),_(1,"i",47),r()),n&2){let t=d.$implicit;o(),ie("color",t.iconColor),f("ngClass",t.iconFont)}}function D0(n,d){if(n&1&&(l(0,"mat-header-cell",45),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function x0(n,d){if(n&1&&(l(0,"mat-cell"),_(1,"i",47),r()),n&2){let t=d.$implicit;o(),ie("color",t.iconColor),f("ngClass",t.iconFont)}}function L0(n,d){if(n&1&&(l(0,"mat-header-cell",45),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," ")}}function k0(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.title," ")}}function V0(n,d){if(n&1&&(l(0,"mat-header-cell",45),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle," ")}}function B0(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.description," ")}}function F0(n,d){n&1&&(l(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",E(2,1,"TITLE.OPTION")," "))}function G0(n,d){if(n&1&&(l(0,"mat-cell",48)(1,"button",49)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),n&2){let t=x(5);o(),f("matMenuTriggerFor",t)}}function O0(n,d){n&1&&_(0,"mat-header-row")}function N0(n,d){if(n&1){let t=I();l(0,"mat-row",50),v("click",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))})("rtclick",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))}),r()}if(n&2){let t=d.$implicit,i=g();ne("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Bn=class Bn extends st{constructor(t,i,e,a,u,s,k,H,Ie,be,je){super(t,new lo,be,u,k);this.contentService=t;this.cmsConfirmationDialogService=i;this.cmsToastrService=e;this.router=a;this.tokenHelper=u;this.cdr=s;this.translate=k;this.cmsStoreService=H;this.pageInfo=Ie;this.publicHelper=be;this.dialog=je;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Q;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","IconFont","title","Description"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IconFont","title","Description"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ht=>this.onSubmitOptionsSearch(Ht)},this.filteModelContent.sortColumn="title",this.filteModelContent.sortType=B.Ascending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>ke(this,null,function*(){this.tokenInfo=t,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new lo);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(rr,{height:"90%",panelClass:t,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(lr,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],e=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(a=>{if(a){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(u,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonContentDetailList(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.router.navigate(["/estate/property-detail/LinkPropertyTypeLanduseId/",this.tableRowSelected.id])}onActionButtonContentList(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.router.navigate(["/estate/property/LinkPropertyTypeLanduseId/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),u=new q;u.propertyName="recordStatus",u.value=Ue.Available,a.filters.push(u),this.contentService.ServiceGetCount(a).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Bn.\u0275fac=function(i){return new(i||Bn)(C(Qt),C(Oe),C(G),C(Ge),C(se),C(O),C(F),C(le),C(lt),C(N),C(He))},Bn.\u0275cmp=V({type:Bn,selectors:[["app-estate-property-type-landuse-list"]],standalone:!1,features:[U],decls:67,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,e){if(i&1){let a=I();l(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(s){return p(a),T(e.viewGuideNotice,s)||(e.viewGuideNotice=s),m(s)}),v("optionOnActionButtonMemoRow",function(){return p(a),m(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(a),m(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(a),m(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(a),m(e.onActionButtonPrintRow())}),P(1,4),c(2," -------------------------------------- "),D(),Fe(3,5)(4,6),P(5,7),l(6,"a",8),v("click",function(){return p(a),m(e.viewGuideNotice=!e.viewGuideNotice)}),_(7,"i",9),r(),l(8,"a",8),v("click",function(){return p(a),m(e.onActionButtonReload())}),_(9,"i",10),r(),D(),P(10,11),l(11,"a",12),v("click",function(){return p(a),m(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(12,"mat-slide-toggle",13),c(13),S(14,"translate"),r(),l(15,"a",12),v("click",function(){return p(a),m(e.onActionButtonStatist())}),_(16,"mat-slide-toggle",13),c(17),S(18,"translate"),r(),D(),P(19,14),y(20,v0,7,3,"div",15),D(),P(21,16),y(22,I0,7,3,"div",15),y(23,b0,7,3,"div",15),l(24,"div",15)(25,"a",17),v("click",function(){return p(a),m(e.onActionButtonContentDetailList(e.tableRowSelected))}),_(26,"i",18)(27,"br"),r(),l(28,"p",19),c(29),S(30,"translate"),r()(),l(31,"div",15)(32,"a",17),v("click",function(){return p(a),m(e.onActionButtonContentList(e.tableRowSelected))}),_(33,"i",20)(34,"br"),r(),l(35,"p",19),c(36),S(37,"translate"),r()(),D(),P(38,21),l(39,"app-cms-search-list",22),w("optionsChange",function(s){return p(a),T(e.optionsSearch,s)||(e.optionsSearch=s),m(s)}),r(),l(40,"app-cms-statist-list",22),w("optionsChange",function(s){return p(a),T(e.optionsStatist,s)||(e.optionsStatist=s),m(s)}),r(),D(),P(41,23),l(42,"mat-table",24,0),v("matSortChange",function(){p(a);let s=x(43);return m(e.onTableSortData(s))}),P(44,25),L(45,T0,3,3,"mat-header-cell",26)(46,A0,2,1,"mat-cell",27),D(),P(47,28),L(48,R0,2,1,"mat-header-cell",26)(49,P0,2,3,"mat-cell",27),D(),P(50,29),L(51,D0,2,1,"mat-header-cell",26)(52,x0,2,3,"mat-cell",27),D(),P(53,30),L(54,L0,2,1,"mat-header-cell",26)(55,k0,2,1,"mat-cell",27),D(),P(56,31),L(57,V0,2,1,"mat-header-cell",26)(58,B0,2,1,"mat-cell",27),D(),P(59,32),L(60,F0,3,3,"mat-header-cell",33)(61,G0,6,1,"mat-cell",34),D(),L(62,O0,1,0,"mat-header-row",35)(63,N0,1,2,"mat-row",36),r(),D(),P(64,37),l(65,"mat-paginator",38,1),v("page",function(s){return p(a),m(e.onTablePageingData(s))}),r(),D(),r()}i&2&&(f("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",e.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),o(9),ne("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),o(3),f("checked",e.optionsSearch.data.show),o(),h("",E(14,27,"ACTION.SEARCH")," "),o(3),f("checked",e.optionsStatist.data.show),o(),h("",E(18,29,"ACTION.STATIST")," "),o(3),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?20:-1),o(2),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?22:-1),o(),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?23:-1),o(6),h(" ",E(30,31,"ACTION.DETAIL")," "),o(7),h(" ",E(37,33,"ACTION.PROPERTYLIST")," "),o(3),b("options",e.optionsSearch),o(),b("options",e.optionsStatist),o(2),f("dataSource",e.tableSource),o(20),f("matHeaderRowDef",e.tabledisplayedColumns),o(),f("matRowDefColumns",e.tabledisplayedColumns),o(2),f("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",X(35,E0)))},dependencies:[Z,We,ye,qe,Qe,Ze,ze,Ke,Je,Ye,$e,nt,et,Xe,ot,tt,it,at,rt,dt,ct,pt,mt,W,Ae],encapsulation:2});var Fn=Bn;var W0=["vform"],H0=n=>({direction:n}),U0=()=>["fa"];function j0(n,d){n&1&&_(0,"i",16)}function q0(n,d){n&1&&_(0,"i",17)}function Q0(n,d){n&1&&(l(0,"mat-error"),c(1," Title is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function Z0(n,d){if(n&1){let t=I();l(0,"div",13)(1,"label",28),c(2),r(),l(3,"input",29,4),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.iconFont,e)||(a.dataModel.iconFont=e),m(e)}),v("iconPickerSelect",function(e){p(t);let a=g();return m(a.onIconPickerSelect(e))}),r(),l(5,"span",30),_(6,"i",31),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),b("ngModel",t.dataModel.iconFont),f("iconPicker",t.dataModel.iconFont)("ipIconPack",X(9,U0))("ipPosition","top")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessAddField)),o(3),f("ngClass",t.dataModel.iconFont)}}function z0(n,d){if(n&1){let t=I();l(0,"div",18)(1,"label",32),c(2),r(),l(3,"div",33)(4,"div",34)(5,"input",35,5),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.iconColor,e)||(a.dataModel.iconColor=e),m(e)}),r()(),l(7,"div",36),_(8,"ngx-mat-color-toggle",37)(9,"ngx-mat-color-picker",38,6),r()()()}if(n&2){let t=x(10),i=g();o(2),A(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ie("background",i.dataModel.iconColor),f("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),f("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),f("for",t),o(),f("touchUi",!0)("color","primary")}}function K0(n,d){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function J0(n,d){if(n&1&&(_(0,"img",23),S(1,"cmsthumbnail")),n&2){let t=g();f("src",R(E(1,2,t.dataModel.linkMainImageIdSrc)),z)}}function Y0(n,d){if(n&1){let t=I();l(0,"div",27)(1,"button",39),v("click",function(){p(t);let e=g();return m(e.onFormCancel())}),_(2,"i",40),c(3),S(4,"translate"),r(),l(5,"button",41),_(6,"i",42),c(7),S(8,"translate"),r()()}if(n&2){g();let t=x(10);o(3),h(" ",E(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!t.form.valid),o(2),h(" ",E(8,5,"ACTION.SAVE")," ")}}var Gn=class Gn extends Tt{constructor(t,i,e,a,u,s,k,H,Ie,be){super(a,new Mi,k,be);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estatePropertyTypeUsageService=a;this.cmsToastrService=u;this.cmsStoreService=s;this.publicHelper=k;this.cdr=H;this.tokenHelper=Ie;this.translate=be;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new Xi;this.dataModelResult=new Le;this.dataModel=new Mi;this.formInfo=new _e;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyTypeUsageService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Gn.\u0275fac=function(i){return new(i||Gn)(C(we),C(Te),C($),C(Yt),C(G),C(le),C(N),C(O),C(se),C(F))},Gn.\u0275cmp=V({type:Gn,selectors:[["app-estate-property-type-usage-add"]],viewQuery:function(i,e){if(i&1&&K(W0,5),i&2){let a;J(a=Y())&&(e.formGroup=a.first)}},standalone:!1,features:[U],decls:45,vars:47,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let a=I();l(0,"div",7),_(1,"app-progress-spinner",8),l(2,"div",9)(3,"p",10),c(4),r(),l(5,"p"),c(6),S(7,"translate"),r(),_(8,"app-cms-form-result-message",11),l(9,"form",12,0),v("ngSubmit",function(){return p(a),m(e.onFormSubmit())}),l(11,"div",13)(12,"label",14),c(13),r(),l(14,"input",15,1),w("ngModelChange",function(s){return p(a),T(e.dataModel.title,s)||(e.dataModel.title=s),m(s)}),r(),y(16,j0,1,0,"i",16),y(17,q0,1,0,"i",17),l(18,"em"),c(19),r(),y(20,Q0,5,3,"mat-error"),r(),y(21,Z0,7,10,"div",13),y(22,z0,11,11,"div",18),l(23,"div",13)(24,"label",19),c(25),r(),l(26,"textarea",20,2),w("ngModelChange",function(s){return p(a),T(e.dataModel.description,s)||(e.dataModel.description=s),m(s)}),c(28,"              "),r(),l(29,"em"),c(30),r(),y(31,K0,5,3,"mat-error"),r(),l(32,"div",21)(33,"a",22),S(34,"cmsthumbnail"),y(35,J0,2,4,"img",23),r()(),l(36,"div",13)(37,"label",24),v("click",function(){return p(a),m(e.fileManagerOpenForm=!0)}),c(38),S(39,"translate"),r(),l(40,"input",25,3),S(42,"translate"),w("ngModelChange",function(s){return p(a),T(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),m(s)}),v("click",function(){return p(a),m(e.fileManagerOpenForm=!0)}),r(),l(43,"cms-file-manager",26),v("itemSelected",function(s){return p(a),m(e.onActionFileSelected(s))}),w("openFormChange",function(s){return p(a),T(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),m(s)}),r()(),y(44,Y0,9,7,"div",27),r()()()}if(i&2){let a=x(15),u=x(27);o(),f("optionsInfoAreaId",e.constructorInfoAreaId),o(3),h(" ",e.formInfo.formTitle," "),o(2),h(" ",E(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",e.formInfo),o(),f("ngStyle",Ft(45,H0,e.tokenInfo.access.direction)),o(4),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModel.title),o(2),M(a.value?-1:16),o(),M(a.value?17:-1),o(2),h("",a.value.length," / 100"),o(),M(a.errors!=null&&a.errors.required?20:-1),o(),M(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?21:-1),o(),M(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?22:-1),o(3),A(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModel.description),o(4),h("",u.value.length," / 500"),o(),M(u.errors!=null&&u.errors.required?31:-1),o(2),f("href",R(E(34,39,e.dataModel.linkMainImageIdSrc)),z),o(2),M((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?35:-1),o(3),A(E(39,41,"TITLE.PICTURE")),o(2),f("placeholder",R(E(42,43,"TITLE.Original_File_ID"))),b("ngModel",e.dataModel.linkMainImageId),o(3),f("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),b("openForm",e.fileManagerOpenForm),f("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),M(e.formInfo.submitButtonEnabled?44:-1)}},dependencies:[Z,Nt,ue,ee,te,ce,re,fe,ge,me,pe,he,Ne,oe,ae,Ce,St,_t,ht,gt,bt,W,Ae],encapsulation:2});var zo=Gn;function X0(n,d){if(n&1){let t=I();l(0,"li")(1,"mat-checkbox",0),v("change",function(){let e=p(t).$implicit,a=g();return m(a.onActionSelect(e))}),c(2),r()()}if(n&2){let t=d.$implicit,i=g();o(),f("checked",i.fieldsStatus.get(t.id))("disabled",i.optionDisabled),o(),h(" ",t.titleML," ")}}var On=class On{constructor(d,t,i,e,a,u,s,k){this.coreEnumService=d;this.categoryService=t;this.cdr=i;this.publicHelper=e;this.tokenHelper=a;this.translate=u;this.cmsStoreService=s;this.cmsToastrService=k;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Le;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new Xt;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new Ot;this.optionSelectAdded=new Ot;this.optionSelectRemoved=new Ot;this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(d){this.onActionSelectForce(d)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(d=>d.tokenInfoStore).subscribe(()=>ke(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(d=>d.unsubscribe())}DataGetAll(){let d=new Q;d.rowPerPage=50,d.accessLoad=!0;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(d).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataModelResult.listItems.forEach(e=>this.fieldsStatus.set(e.id,!1)),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0)),this.dataModelResult.listItems.forEach(e=>{this.fieldsStatus.get(e.id)&&this.dataModelSelect.push(e)})):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelect(d){this.fieldsStatus.get(d.id)?(this.fieldsStatus.set(d.id,!1),this.optionSelectRemoved.emit(d),this.dataModelSelect.splice(this.dataModelSelect.indexOf(d),1)):(this.fieldsStatus.set(d.id,!0),this.optionSelectAdded.emit(d),this.dataModelSelect.push(d)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(d){typeof d==typeof Array(String)?d.forEach(t=>{this.dataIdsSelect.push(t)}):typeof d==typeof Array(lo)&&d.forEach(t=>{this.dataIdsSelect.push(t.id)}),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0))}onActionButtonReload(){this.DataGetAll()}};On.\u0275fac=function(t){return new(t||On)(C($),C(Qt),C(O),C(N),C(se),C(F),C(le),C(G))},On.\u0275cmp=V({type:On,selectors:[["app-estate-property-type-landuse-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:3,vars:0,consts:[[3,"change","checked","disabled"]],template:function(t,i){t&1&&(l(0,"ul"),De(1,X0,3,3,"li",null,Pe),r()),t&2&&(o(),xe(i.dataModelResult.listItems))},dependencies:[Va],encapsulation:2});var Ko=On;var eu=["vform"],tu=n=>({direction:n}),iu=()=>["fa"];function nu(n,d){n&1&&_(0,"i",16)}function ou(n,d){n&1&&_(0,"i",17)}function au(n,d){n&1&&(l(0,"mat-error"),c(1," Title is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function ru(n,d){if(n&1){let t=I();l(0,"div",13)(1,"label",29),c(2),r(),l(3,"input",30,4),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.iconFont,e)||(a.dataModel.iconFont=e),m(e)}),v("iconPickerSelect",function(e){p(t);let a=g();return m(a.onIconPickerSelect(e))}),r(),l(5,"span",31),_(6,"i",32),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),b("ngModel",t.dataModel.iconFont),f("iconPicker",t.dataModel.iconFont)("ipIconPack",X(9,iu))("ipPosition","top")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessEditField)),o(3),f("ngClass",t.dataModel.iconFont)}}function lu(n,d){if(n&1){let t=I();l(0,"div",18)(1,"label",33),c(2),r(),l(3,"div",34)(4,"div",35)(5,"input",36,5),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.iconColor,e)||(a.dataModel.iconColor=e),m(e)}),r()(),l(7,"div",37),_(8,"ngx-mat-color-toggle",38)(9,"ngx-mat-color-picker",39,6),r()()()}if(n&2){let t=x(10),i=g();o(2),A(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ie("background",i.dataModel.iconColor),f("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),f("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),f("for",t),o(),f("touchUi",!0)("color","primary")}}function su(n,d){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function du(n,d){if(n&1&&(_(0,"img",23),S(1,"cmsthumbnail")),n&2){let t=g();f("src",R(E(1,2,t.dataModel.linkMainImageIdSrc)),z)}}function cu(n,d){if(n&1){let t=I();l(0,"div",28)(1,"button",40),v("click",function(){p(t);let e=g();return m(e.onFormCancel())}),_(2,"i",41),c(3),S(4,"translate"),r(),l(5,"button",42),_(6,"i",43),c(7),S(8,"translate"),r()()}if(n&2){g();let t=x(10);o(3),h(" ",E(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!t.form.valid),o(2),h(" ",E(8,5,"ACTION.SAVE")," ")}}var Nn=class Nn extends wt{constructor(t,i,e,a,u,s,k,H,Ie,be,je){super(a,new Mi,H,je);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estatePropertyTypeUsageService=a;this.estatePropertyTypeService=u;this.cmsToastrService=s;this.cmsStoreService=k;this.publicHelper=H;this.cdr=Ie;this.tokenHelper=be;this.translate=je;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new vt;this.dataModel=new Mi;this.formInfo=new _e;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeLandUseIds=[];this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyTypeUsageService.setAccessLoad(),this.estatePropertyTypeUsageService.setAccessDataType(It.Editor),this.estatePropertyTypeUsageService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyTypeUsageService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(a=>{this.formInfo.submitResultMessage=a}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(a=>{this.publicHelper.processService.processStart(t,a,this.constructorInfoAreaId)});let i=new Q,e=new q;e.propertyName="LinkPropertyTypeUsageId",e.value=this.requestId,i.filters.push(e),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:a=>{this.dataEstatePropertyTypeModel=a.listItems;let u=[];this.dataEstatePropertyTypeModel.forEach(s=>{u.push(s.linkPropertyTypeLanduseId)}),this.dataEstatePropertyTypeLandUseIds=u,a.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=a.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(a.errorMessage)),this.publicHelper.processService.processStop(t)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorUserCategorySelect(t){this.dataEstatePropertyTypeLanduseModel=t}onActionSelectorUserCategorySelectAdded(t){let i=new sa;i.linkPropertyTypeUsageId=this.dataModel.id,i.linkPropertyTypeLanduseId=t.id,this.estatePropertyTypeService.ServiceAdd(i).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(a=>{this.formInfo.submitResultMessage=a}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(a=>{this.formInfo.submitResultMessage=a}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e)}})}onActionSelectorUserCategorySelectRemoved(t){let i=new sa;i.linkPropertyTypeUsageId=this.dataModel.id,i.linkPropertyTypeLanduseId=t.id,this.estatePropertyTypeService.ServiceDeleteEntity(i).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(a=>{this.formInfo.submitResultMessage=a}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(a=>{this.formInfo.submitResultMessage=a}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Nn.\u0275fac=function(i){return new(i||Nn)(C(we),C(Te),C($),C(Yt),C(Bi),C(G),C(le),C(N),C(O),C(se),C(F))},Nn.\u0275cmp=V({type:Nn,selectors:[["app-estate-property-type-usage-edit"]],viewQuery:function(i,e){if(i&1&&K(eu,5),i&2){let a;J(a=Y())&&(e.formGroup=a.first)}},standalone:!1,features:[U],decls:46,vars:49,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let a=I();l(0,"div",7),_(1,"app-progress-spinner",8),l(2,"div",9)(3,"p",10),c(4),r(),l(5,"p"),c(6),S(7,"translate"),r(),_(8,"app-cms-form-result-message",11),l(9,"form",12,0),v("ngSubmit",function(){return p(a),m(e.onFormSubmit())}),l(11,"div",13)(12,"label",14),c(13),r(),l(14,"input",15,1),w("ngModelChange",function(s){return p(a),T(e.dataModel.title,s)||(e.dataModel.title=s),m(s)}),r(),y(16,nu,1,0,"i",16),y(17,ou,1,0,"i",17),l(18,"em"),c(19),r(),y(20,au,5,3,"mat-error"),r(),y(21,ru,7,10,"div",13),y(22,lu,11,11,"div",18),l(23,"div",13)(24,"label",19),c(25),r(),l(26,"textarea",20,2),w("ngModelChange",function(s){return p(a),T(e.dataModel.description,s)||(e.dataModel.description=s),m(s)}),c(28,"              "),r(),l(29,"em"),c(30),r(),y(31,su,5,3,"mat-error"),r(),l(32,"div",21)(33,"a",22),S(34,"cmsthumbnail"),y(35,du,2,4,"img",23),r()(),l(36,"div",13)(37,"label",24),v("click",function(){return p(a),m(e.fileManagerOpenForm=!0)}),c(38),S(39,"translate"),r(),l(40,"input",25,3),S(42,"translate"),w("ngModelChange",function(s){return p(a),T(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),m(s)}),v("click",function(){return p(a),m(e.fileManagerOpenForm=!0)}),r(),l(43,"cms-file-manager",26),v("itemSelected",function(s){return p(a),m(e.onActionFileSelected(s))}),w("openFormChange",function(s){return p(a),T(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),m(s)}),r()(),l(44,"app-estate-property-type-landuse-selectionlist",27),v("optionChange",function(s){return p(a),m(e.onActionSelectorUserCategorySelect(s))})("optionSelectAdded",function(s){return p(a),m(e.onActionSelectorUserCategorySelectAdded(s))})("optionSelectRemoved",function(s){return p(a),m(e.onActionSelectorUserCategorySelectRemoved(s))}),r(),y(45,cu,9,7,"div",28),r()()()}if(i&2){let a=x(15),u=x(27);o(),f("optionsInfoAreaId",e.constructorInfoAreaId),o(3),h(" ",e.formInfo.formTitle," "),o(2),h(" ",E(7,39,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",e.formInfo),o(),f("ngStyle",Ft(47,tu,e.tokenInfo.access.direction)),o(4),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModel.title),o(2),M(a.value?-1:16),o(),M(a.value?17:-1),o(2),h("",a.value.length," / 100"),o(),M(a.errors!=null&&a.errors.required?20:-1),o(),M(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?21:-1),o(),M(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?22:-1),o(3),A(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModel.description),o(4),h("",u.value.length," / 500"),o(),M(u.errors!=null&&u.errors.required?31:-1),o(2),f("href",R(E(34,41,e.dataModel.linkMainImageIdSrc)),z),o(2),M((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?35:-1),o(3),A(E(39,43,"TITLE.PICTURE")),o(2),f("placeholder",R(E(42,45,"TITLE.Original_File_ID"))),b("ngModel",e.dataModel.linkMainImageId),o(3),f("language",e.appLanguage)("isPopup",!0),b("openForm",e.fileManagerOpenForm),f("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),f("optionSelectForce",e.dataEstatePropertyTypeLandUseIds)("optionDisabled",!1),o(),M(e.formInfo.submitButtonEnabled?45:-1)}},dependencies:[Z,Nt,ue,ee,te,ce,re,fe,ge,me,pe,he,Ne,oe,ae,Ce,St,_t,ht,gt,bt,Ko,W,Ae],encapsulation:2});var Jo=Nn;var pu=()=>[5,10,20,100];function mu(n,d){if(n&1){let t=I();l(0,"div",15)(1,"a",38),v("click",function(){p(t);let e=g();return m(e.onActionButtonNewRow())}),_(2,"i",39)(3,"br"),r(),l(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.ADD")," "))}function uu(n,d){if(n&1){let t=I();l(0,"div",15)(1,"a",40),v("click",function(){p(t);let e=g();return m(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",41)(3,"br"),r(),l(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.EDIT")," "))}function fu(n,d){if(n&1){let t=I();l(0,"div",15)(1,"a",42),v("click",function(){p(t);let e=g();return m(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",43)(3,"br"),r(),l(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.DELETE")," "))}function gu(n,d){n&1&&(l(0,"mat-header-cell",44),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",E(2,1,"TITLE.PICTURE")," "))}function hu(n,d){if(n&1&&(_(0,"img",45),S(1,"cmsthumbnail")),n&2){let t=g().$implicit;f("src",R(E(1,2,t.linkMainImageIdSrc)),z)}}function _u(n,d){if(n&1&&(l(0,"mat-cell"),y(1,hu,2,4,"img",45),r()),n&2){let t=d.$implicit;o(),M((t==null||t.linkMainImageIdSrc==null?null:t.linkMainImageIdSrc.length)>0?1:-1)}}function Cu(n,d){if(n&1&&(l(0,"mat-header-cell",44),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle," ")}}function Su(n,d){if(n&1&&(l(0,"mat-cell"),_(1,"i",46),r()),n&2){let t=d.$implicit;o(),ie("color",t.iconColor),f("ngClass",t.iconFont)}}function yu(n,d){if(n&1&&(l(0,"mat-header-cell",44),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function Mu(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.id," ")}}function Eu(n,d){if(n&1&&(l(0,"mat-header-cell",44),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," ")}}function vu(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.title," ")}}function Iu(n,d){if(n&1&&(l(0,"mat-header-cell",44),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle," ")}}function bu(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.description," ")}}function Tu(n,d){n&1&&(l(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",E(2,1,"TITLE.OPTION")," "))}function wu(n,d){if(n&1&&(l(0,"mat-cell",47)(1,"button",48)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),n&2){let t=x(5);o(),f("matMenuTriggerFor",t)}}function Au(n,d){n&1&&_(0,"mat-header-row")}function Ru(n,d){if(n&1){let t=I();l(0,"mat-row",49),v("click",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))})("rtclick",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))}),r()}if(n&2){let t=d.$implicit,i=g();ne("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Wn=class Wn extends st{constructor(t,i,e,a,u,s,k,H,Ie,be,je){super(t,new Mi,be,s,H);this.contentService=t;this.cmsConfirmationDialogService=i;this.router=e;this.cmsToastrService=a;this.cmsStoreService=u;this.tokenHelper=s;this.cdr=k;this.translate=H;this.pageInfo=Ie;this.publicHelper=be;this.dialog=je;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Q;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","IconFont","title","Description"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IconFont","title","Description"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ht=>this.onSubmitOptionsSearch(Ht)},this.filteModelContent.sortColumn="title",this.filteModelContent.sortType=B.Ascending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>ke(this,null,function*(){this.tokenInfo=t,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Mi);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(zo,{height:"90%",panelClass:t,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Jo,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],e=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(a=>{if(a){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(u,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),u=new q;u.propertyName="recordStatus",u.value=Ue.Available,a.filters.push(u),this.contentService.ServiceGetCount(a).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonContentDetailList(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.router.navigate(["/estate/property/LinkPropertyTypeUsageId/",this.tableRowSelected.id])}};Wn.\u0275fac=function(i){return new(i||Wn)(C(Yt),C(Oe),C(Ge),C(G),C(le),C(se),C(O),C(F),C(lt),C(N),C(He))},Wn.\u0275cmp=V({type:Wn,selectors:[["app-hstate-propertytypeusage-list"]],standalone:!1,features:[U],decls:60,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,e){if(i&1){let a=I();l(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(s){return p(a),T(e.viewGuideNotice,s)||(e.viewGuideNotice=s),m(s)}),v("optionOnActionButtonMemoRow",function(){return p(a),m(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(a),m(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(a),m(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(a),m(e.onActionButtonPrintRow())}),P(1,4),c(2," -------------------------------------- "),D(),Fe(3,5),P(4,6),l(5,"a",7),v("click",function(){return p(a),m(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(6,"mat-slide-toggle",8),c(7),S(8,"translate"),r(),l(9,"a",7),v("click",function(){return p(a),m(e.onActionButtonStatist())}),_(10,"mat-slide-toggle",8),c(11),S(12,"translate"),r(),D(),P(13,9),l(14,"a",10),v("click",function(){return p(a),m(e.viewGuideNotice=!e.viewGuideNotice)}),_(15,"i",11),r(),l(16,"a",10),v("click",function(){return p(a),m(e.onActionButtonReload())}),_(17,"i",12),r(),D(),Fe(18,13),P(19,14),y(20,mu,7,3,"div",15),D(),P(21,16),y(22,uu,7,3,"div",15),y(23,fu,7,3,"div",15),l(24,"div",15)(25,"a",17),v("click",function(){return p(a),m(e.onActionButtonContentDetailList(e.tableRowSelected))}),_(26,"i",18)(27,"br"),r(),l(28,"p",19),c(29),S(30,"translate"),r()(),D(),P(31,20),l(32,"app-cms-search-list",21),w("optionsChange",function(s){return p(a),T(e.optionsSearch,s)||(e.optionsSearch=s),m(s)}),r(),l(33,"app-cms-statist-list",21),w("optionsChange",function(s){return p(a),T(e.optionsStatist,s)||(e.optionsStatist=s),m(s)}),r(),D(),P(34,22),l(35,"mat-table",23,0),v("matSortChange",function(){p(a);let s=x(36);return m(e.onTableSortData(s))}),P(37,24),L(38,gu,3,3,"mat-header-cell",25)(39,_u,2,1,"mat-cell",26),D(),P(40,27),L(41,Cu,2,1,"mat-header-cell",25)(42,Su,2,3,"mat-cell",26),D(),P(43,28),L(44,yu,2,1,"mat-header-cell",25)(45,Mu,2,1,"mat-cell",26),D(),P(46,29),L(47,Eu,2,1,"mat-header-cell",25)(48,vu,2,1,"mat-cell",26),D(),P(49,30),L(50,Iu,2,1,"mat-header-cell",25)(51,bu,2,1,"mat-cell",26),D(),P(52,31),L(53,Tu,3,3,"mat-header-cell",32)(54,wu,6,1,"mat-cell",33),D(),L(55,Au,1,0,"mat-header-row",34)(56,Ru,1,2,"mat-row",35),r(),D(),P(57,36),l(58,"mat-paginator",37,1),v("page",function(s){return p(a),m(e.onTablePageingData(s))}),r(),D(),r()}i&2&&(f("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",e.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),o(6),f("checked",e.optionsSearch.data.show),o(),h("",E(8,26,"ACTION.SEARCH")," "),o(3),f("checked",e.optionsStatist.data.show),o(),h("",E(12,28,"ACTION.STATIST")," "),o(6),ne("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),o(3),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?20:-1),o(2),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?22:-1),o(),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?23:-1),o(6),h(" ",E(30,30,"ACTION.DETAIL")," "),o(3),b("options",e.optionsSearch),o(),b("options",e.optionsStatist),o(2),f("dataSource",e.tableSource),o(20),f("matHeaderRowDef",e.tabledisplayedColumns),o(),f("matRowDefColumns",e.tabledisplayedColumns),o(2),f("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",X(32,pu)))},dependencies:[Z,We,ye,qe,Qe,Ze,ze,Ke,Je,Ye,$e,nt,et,Xe,ot,tt,it,at,rt,dt,ct,pt,mt,W,Ae],encapsulation:2});var Hn=Wn;var Lu=["vform"];function ku(n,d){n&1&&_(0,"i",16)}function Vu(n,d){n&1&&_(0,"i",17)}function Bu(n,d){n&1&&(l(0,"mat-error"),c(1," Title is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function Fu(n,d){if(n&1){let t=I();l(0,"div",13)(1,"label",28),c(2),r(),l(3,"input",29,4),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.stationLevel,e)||(a.dataModel.stationLevel=e),m(e)}),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle)),b("ngModel",t.dataModel.stationLevel),f("disabled",!(t.fieldsInfo.stationLevel!=null&&t.fieldsInfo.stationLevel.accessEditField))}}function Gu(n,d){if(n&1){let t=I();l(0,"div",13)(1,"label",30),c(2),r(),l(3,"input",31,5),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.viewLevel,e)||(a.dataModel.viewLevel=e),m(e)}),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle)),b("ngModel",t.dataModel.viewLevel),f("disabled",!(t.fieldsInfo.viewLevel!=null&&t.fieldsInfo.viewLevel.accessEditField))}}function Ou(n,d){if(n&1){let t=I();l(0,"div",20)(1,"label",32),c(2),r(),l(3,"input",33),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.expireDate,e)||(a.dataModel.expireDate=e),m(e)}),r(),_(4,"mat-datepicker-toggle",23)(5,"mat-datepicker",24,6),r()}if(n&2){let t=x(6),i=g();o(2),A(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),f("matDatepicker",t),b("ngModel",i.dataModel.expireDate),o(),f("for",t)}}function Nu(n,d){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function Wu(n,d){if(n&1){let t=I();l(0,"div",27)(1,"button",34),v("click",function(){p(t);let e=g();return m(e.onFormCancel())}),_(2,"i",35),c(3),S(4,"translate"),r(),l(5,"button",36),_(6,"i",37),c(7),S(8,"translate"),r()()}if(n&2){g();let t=x(10);o(3),h(" ",E(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!t.form.valid),o(2),h(" ",E(8,5,"ACTION.SAVE")," ")}}var Un=class Un extends Tt{constructor(t,i,e,a,u,s,k,H,Ie,be){super(a,new fi,s,be);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateAccountAgencyAdsService=a;this.cmsToastrService=u;this.publicHelper=s;this.cdr=k;this.cmsStoreService=H;this.tokenHelper=Ie;this.translate=be;this.requestLinkAccountAgencyId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new Xi;this.dataModelResult=new Le;this.dataModel=new fi;this.formInfo=new _e;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,t&&t.linkAccountAgencyId&&(this.requestLinkAccountAgencyId=t.linkAccountAgencyId),this.requestLinkAccountAgencyId.length>0&&(this.dataModel.linkAccountAgencyId=this.requestLinkAccountAgencyId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountAgencyAdsService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelectLinkAccountAgencyId(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.Property_ID_is_unknown").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkAccountAgencyId=t.id}onActionSelectorSelectLinkAdsTypeId(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.Advertisement_ID_is_unknown").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkAdsTypeId=t.id,this.dataModel.title=t.title}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Un.\u0275fac=function(i){return new(i||Un)(C(we),C(Te),C($),C(Pi),C(G),C(N),C(O),C(le),C(se),C(F))},Un.\u0275cmp=V({type:Un,selectors:[["app-estate-account-agency-ads-add"]],viewQuery:function(i,e){if(i&1&&K(Lu,5),i&2){let a;J(a=Y())&&(e.formGroup=a.first)}},standalone:!1,features:[U],decls:45,vars:40,consts:[["vform","ngForm"],["Title",""],["FromDate",""],["Description",""],["StationLevel",""],["ViewLevel",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.stationLevel",1,"color-highlight"],["matInput","","name","dataModel.stationLevel","type","number","id","dataModel.stationLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.viewLevel",1,"color-highlight"],["matInput","","name","dataModel.viewLevel","type","number","id","dataModel.viewLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let a=I();l(0,"div",7),_(1,"app-progress-spinner",8),l(2,"div",9)(3,"p",10),c(4),r(),l(5,"p"),c(6),S(7,"translate"),r(),_(8,"app-cms-form-result-message",11),l(9,"form",12,0),v("ngSubmit",function(){return p(a),m(e.onFormSubmit())}),l(11,"div",13)(12,"label",14),c(13),r(),l(14,"input",15,1),w("ngModelChange",function(s){return p(a),T(e.dataModel.title,s)||(e.dataModel.title=s),m(s)}),r(),y(16,ku,1,0,"i",16),y(17,Vu,1,0,"i",17),l(18,"em"),c(19),r(),y(20,Bu,5,3,"mat-error"),r(),l(21,"app-estate-account-agency-selector",18),S(22,"translate"),v("optionChange",function(s){return p(a),m(e.onActionSelectorSelectLinkAccountAgencyId(s))}),r(),l(23,"app-estate-ads-type-selector",19),S(24,"translate"),v("optionChange",function(s){return p(a),m(e.onActionSelectorSelectLinkAdsTypeId(s))}),r(),y(25,Fu,5,5,"div",13),y(26,Gu,5,5,"div",13),l(27,"div",20)(28,"label",21),c(29),r(),l(30,"input",22),w("ngModelChange",function(s){return p(a),T(e.dataModel.fromDate,s)||(e.dataModel.fromDate=s),m(s)}),r(),_(31,"mat-datepicker-toggle",23)(32,"mat-datepicker",24,2),r(),y(34,Ou,7,4,"div",20),l(35,"div",13)(36,"label",25),c(37),r(),l(38,"textarea",26,3),w("ngModelChange",function(s){return p(a),T(e.dataModel.description,s)||(e.dataModel.description=s),m(s)}),c(40,"                  "),r(),l(41,"em"),c(42),r(),y(43,Nu,5,3,"mat-error"),r(),y(44,Wu,9,7,"div",27),r()()()}if(i&2){let a=x(15),u=x(33),s=x(39);o(),f("optionsInfoAreaId",e.constructorInfoAreaId),o(3),h(" ",e.formInfo.formTitle," "),o(2),h(" ",E(7,34,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",e.formInfo),o(5),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModel.title),f("disabled",!(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessAddField)),o(2),M(a.value?-1:16),o(),M(a.value?17:-1),o(2),h("",a.value.length," / 100"),o(),M(a.errors!=null&&a.errors.required?20:-1),o(),f("optionDisabled",!(e.fieldsInfo.linkPropertyId!=null&&e.fieldsInfo.linkPropertyId.accessAddField))("optionSelectForce",e.dataModel.linkAccountAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",E(22,36,"TITLE.Agency_ID")),o(2),f("optionDisabled",!(e.fieldsInfo.linkAdsTypeId!=null&&e.fieldsInfo.linkAdsTypeId.accessAddField))("optionSelectForce",e.dataModel.linkAdsTypeId)("optionPlaceholder",E(24,38,"TITLE.Ad_type_ID")),o(2),M(e.fieldsInfo.stationLevel!=null&&e.fieldsInfo.stationLevel.accessWatchField?25:-1),o(),M(e.fieldsInfo.viewLevel!=null&&e.fieldsInfo.viewLevel.accessWatchField?26:-1),o(3),A(e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle),o(),f("matDatepicker",u),b("ngModel",e.dataModel.fromDate),o(),f("for",u),o(3),M(e.fieldsInfo.expireDate!=null&&e.fieldsInfo.expireDate.accessWatchField?34:-1),o(3),A(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModel.description),o(4),h("",s.value.length," / 500"),o(),M(s.errors!=null&&s.errors.required?43:-1),o(),M(e.formInfo.submitButtonEnabled?44:-1)}},dependencies:[ue,ee,ft,te,ce,re,fe,ge,me,pe,Io,bo,To,he,Ne,oe,ae,Ce,Ct,ko,Go,W],encapsulation:2});var Yo=Un;var Hu=["vform"];function Uu(n,d){n&1&&_(0,"i",16)}function ju(n,d){n&1&&_(0,"i",17)}function qu(n,d){n&1&&(l(0,"mat-error"),c(1," Title is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function Qu(n,d){if(n&1){let t=I();l(0,"div",13)(1,"label",28),c(2),r(),l(3,"input",29,4),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.stationLevel,e)||(a.dataModel.stationLevel=e),m(e)}),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle)),b("ngModel",t.dataModel.stationLevel),f("disabled",!(t.fieldsInfo.stationLevel!=null&&t.fieldsInfo.stationLevel.accessEditField))}}function Zu(n,d){if(n&1){let t=I();l(0,"div",13)(1,"label",30),c(2),r(),l(3,"input",31,5),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.viewLevel,e)||(a.dataModel.viewLevel=e),m(e)}),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle)),b("ngModel",t.dataModel.viewLevel),f("disabled",!(t.fieldsInfo.viewLevel!=null&&t.fieldsInfo.viewLevel.accessEditField))}}function zu(n,d){if(n&1){let t=I();l(0,"div",20)(1,"label",32),c(2),r(),l(3,"input",33),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.expireDate,e)||(a.dataModel.expireDate=e),m(e)}),r(),_(4,"mat-datepicker-toggle",23)(5,"mat-datepicker",24,6),r()}if(n&2){let t=x(6),i=g();o(2),A(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),f("matDatepicker",t),b("ngModel",i.dataModel.expireDate),o(),f("for",t)}}function Ku(n,d){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function Ju(n,d){if(n&1){let t=I();l(0,"div",27)(1,"button",34),v("click",function(){p(t);let e=g();return m(e.onFormCancel())}),_(2,"i",35),c(3),S(4,"translate"),r(),l(5,"button",36),_(6,"i",37),c(7),S(8,"translate"),r()()}if(n&2){g();let t=x(10);o(3),h(" ",E(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!t.form.valid),o(2),h(" ",E(8,5,"ACTION.SAVE")," ")}}var jn=class jn extends wt{constructor(t,i,e,a,u,s,k,H,Ie,be){super(a,new fi,s,be);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateAccountAgencyAdsService=a;this.cmsToastrService=u;this.publicHelper=s;this.cdr=k;this.tokenHelper=H;this.cmsStoreService=Ie;this.translate=be;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new vt;this.dataModel=new fi;this.formInfo=new _e;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountAgencyAdsService.setAccessLoad(),this.estateAccountAgencyAdsService.setAccessDataType(It.Editor),this.estateAccountAgencyAdsService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountAgencyAdsService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelectLinkAccountAgencyId(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.Property_ID_is_unknown").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkAccountAgencyId=t.id}onActionSelectorSelectLinkAdsTypeId(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.Advertisement_ID_is_unknown").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkAdsTypeId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};jn.\u0275fac=function(i){return new(i||jn)(C(we),C(Te),C($),C(Pi),C(G),C(N),C(O),C(se),C(le),C(F))},jn.\u0275cmp=V({type:jn,selectors:[["app-estate-account-agency-ads-edit"]],viewQuery:function(i,e){if(i&1&&K(Hu,5),i&2){let a;J(a=Y())&&(e.formGroup=a.first)}},standalone:!1,features:[U],decls:45,vars:39,consts:[["vform","ngForm"],["Title",""],["FromDate",""],["Description",""],["StationLevel",""],["ViewLevel",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.stationLevel",1,"color-highlight"],["matInput","","name","dataModel.stationLevel","type","number","id","dataModel.stationLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.viewLevel",1,"color-highlight"],["matInput","","name","dataModel.viewLevel","type","number","id","dataModel.viewLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let a=I();l(0,"div",7),_(1,"app-progress-spinner",8),l(2,"div",9)(3,"p",10),c(4),r(),l(5,"p"),c(6),S(7,"translate"),r(),_(8,"app-cms-form-result-message",11),l(9,"form",12,0),v("ngSubmit",function(){return p(a),m(e.onFormSubmit())}),l(11,"div",13)(12,"label",14),c(13),r(),l(14,"input",15,1),w("ngModelChange",function(s){return p(a),T(e.dataModel.title,s)||(e.dataModel.title=s),m(s)}),r(),y(16,Uu,1,0,"i",16),y(17,ju,1,0,"i",17),l(18,"em"),c(19),r(),y(20,qu,5,3,"mat-error"),r(),l(21,"app-estate-account-agency-selector",18),S(22,"translate"),v("optionChange",function(s){return p(a),m(e.onActionSelectorSelectLinkAccountAgencyId(s))}),r(),l(23,"app-estate-ads-type-selector",19),S(24,"translate"),v("optionChange",function(s){return p(a),m(e.onActionSelectorSelectLinkAdsTypeId(s))}),r(),y(25,Qu,5,5,"div",13),y(26,Zu,5,5,"div",13),l(27,"div",20)(28,"label",21),c(29),r(),l(30,"input",22),w("ngModelChange",function(s){return p(a),T(e.dataModel.fromDate,s)||(e.dataModel.fromDate=s),m(s)}),r(),_(31,"mat-datepicker-toggle",23)(32,"mat-datepicker",24,2),r(),y(34,zu,7,4,"div",20),l(35,"div",13)(36,"label",25),c(37),r(),l(38,"textarea",26,3),w("ngModelChange",function(s){return p(a),T(e.dataModel.description,s)||(e.dataModel.description=s),m(s)}),c(40,"                  "),r(),l(41,"em"),c(42),r(),y(43,Ku,5,3,"mat-error"),r(),y(44,Ju,9,7,"div",27),r()()()}if(i&2){let a=x(15),u=x(33),s=x(39);o(),f("optionsInfoAreaId",e.constructorInfoAreaId),o(3),h(" ",e.formInfo.formTitle," "),o(2),h(" ",E(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",e.formInfo),o(5),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModel.title),o(2),M(a.value?-1:16),o(),M(a.value?17:-1),o(2),h("",a.value.length," / 100"),o(),M(a.errors!=null&&a.errors.required?20:-1),o(),f("optionDisabled",!(e.fieldsInfo.linkPropertyId!=null&&e.fieldsInfo.linkPropertyId.accessAddField))("optionSelectForce",e.dataModel.linkAccountAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",E(22,35,"TITLE.Agency_ID")),o(2),f("optionDisabled",!(e.fieldsInfo.linkAdsTypeId!=null&&e.fieldsInfo.linkAdsTypeId.accessAddField))("optionSelectForce",e.dataModel.linkAdsTypeId)("optionPlaceholder",E(24,37,"TITLE.Ad_type_ID")),o(2),M(e.fieldsInfo.stationLevel!=null&&e.fieldsInfo.stationLevel.accessWatchField?25:-1),o(),M(e.fieldsInfo.viewLevel!=null&&e.fieldsInfo.viewLevel.accessWatchField?26:-1),o(3),A(e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle),o(),f("matDatepicker",u),b("ngModel",e.dataModel.fromDate),o(),f("for",u),o(3),M(e.fieldsInfo.expireDate!=null&&e.fieldsInfo.expireDate.accessWatchField?34:-1),o(3),A(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModel.description),o(4),h("",s.value.length," / 500"),o(),M(s.errors!=null&&s.errors.required?43:-1),o(),M(e.formInfo.submitButtonEnabled?44:-1)}},dependencies:[ue,ee,ft,te,ce,re,fe,ge,me,pe,Io,bo,To,he,Ne,oe,ae,Ce,Ct,ko,Go,W],encapsulation:2});var Xo=jn;var Yu=()=>[5,10,20,100],Xu=n=>({background:n});function $u(n,d){if(n&1){let t=I();l(0,"div",17)(1,"a",43),v("click",function(){p(t);let e=g();return m(e.onActionButtonNewRow())}),_(2,"i",44)(3,"br"),r(),l(4,"p",21),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.ADD")," "))}function ef(n,d){if(n&1){let t=I();l(0,"div",17)(1,"a",10),v("click",function(){p(t);let e=g();return m(e.onActionButtonBuy())}),_(2,"i",45)(3,"br"),r(),l(4,"p",21),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.BUY")," "))}function tf(n,d){if(n&1){let t=I();l(0,"div",17)(1,"a",46),v("click",function(){p(t);let e=g();return m(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",47)(3,"br"),r(),l(4,"p",21),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.EDIT")," "))}function nf(n,d){if(n&1){let t=I();l(0,"div",17)(1,"a",48),v("click",function(){p(t);let e=g();return m(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",49)(3,"br"),r(),l(4,"p",21),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.DELETE")," "))}function of(n,d){if(n&1&&(l(0,"mat-header-cell",50),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function af(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.id," ")}}function rf(n,d){if(n&1&&(l(0,"mat-header-cell",50),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.linkPropertyId==null?null:t.fieldsInfo.linkPropertyId.fieldTitle," ")}}function lf(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.linkPropertyId," ")}}function sf(n,d){if(n&1&&(l(0,"mat-header-cell",50),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," ")}}function df(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.title," ")}}function cf(n,d){if(n&1&&(l(0,"mat-header-cell",50),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle," ")}}function pf(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.stationLevel," ")}}function mf(n,d){if(n&1&&(l(0,"mat-header-cell",50),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle," ")}}function uf(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.viewLevel," ")}}function ff(n,d){if(n&1&&(l(0,"mat-header-cell",50),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle," ")}}function gf(n,d){if(n&1&&(l(0,"mat-cell"),c(1),S(2,"persianDate"),r()),n&2){let t=d.$implicit;o(),h(" ",E(2,1,t.fromDate)," ")}}function hf(n,d){if(n&1&&(l(0,"mat-header-cell",50),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function _f(n,d){if(n&1&&(l(0,"mat-cell",51),c(1),S(2,"persianDate"),r()),n&2){let t=d.$implicit,i=g();f("ngStyle",Ft(4,Xu,i.publicHelper.RowStyleExpireDate(t.expireDate))),o(),h(" ",E(2,2,t.expireDate)," ")}}function Cf(n,d){n&1&&(l(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",E(2,1,"TITLE.OPTION")," "))}function Sf(n,d){if(n&1&&(l(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),n&2){let t=x(5);o(),f("matMenuTriggerFor",t)}}function yf(n,d){n&1&&_(0,"mat-header-row")}function Mf(n,d){if(n&1){let t=I();l(0,"mat-row",54),v("click",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))})("rtclick",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))}),r()}if(n&2){let t=d.$implicit,i=g();ne("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var qn=class qn extends st{constructor(t,i,e,a,u,s,k,H,Ie,be,je,Ht,xt){super(t,new fi,Ht,u,H);this.contentService=t;this.cmsConfirmationDialogService=i;this.activatedRoute=e;this.cmsToastrService=a;this.tokenHelper=u;this.router=s;this.cdr=k;this.translate=H;this.themeService=Ie;this.cmsStoreService=be;this.pageInfo=je;this.publicHelper=Ht;this.dialog=xt;this.requestLinkAccountAgencyId="";this.requestLinkPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Q;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["StationLevel","ViewLevel","LinkAccountAgencyId","FromDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["StationLevel","ViewLevel"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkAccountAgencyId=this.activatedRoute.snapshot.paramMap.get("LinkAccountAgencyId"),this.optionsSearch.parentMethods={onSubmit:Ki=>this.onSubmitOptionsSearch(Ki)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=B.Descending,this.requestLinkAccountAgencyId&&this.requestLinkAccountAgencyId.length>0){let Ki=new q;Ki.propertyName="LinkAccountAgencyId",Ki.value=this.requestLinkAccountAgencyId,this.filteModelContent.filters.push(Ki)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>ke(this,null,function*(){this.tokenInfo=t,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new fi);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess&&(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Yo,{height:"90%",panelClass:t,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{linkAccountAgencyId:this.requestLinkAccountAgencyId}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Xo,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],e=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(a=>{if(a){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(u,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonContentList(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.router.navigate(["/estate/account-agency/LinkAccountAgencyAdsId/",this.tableRowSelected.id])}onActionButtonBuy(){this.router.navigate(["/estate/account-agency-ads/sale/",this.requestLinkAccountAgencyId])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),u=new q;u.propertyName="recordStatus",u.value=Ue.Available,a.filters.push(u),this.contentService.ServiceGetCount(a).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/estate/property/"])}};qn.\u0275fac=function(i){return new(i||qn)(C(Pi),C(Oe),C(Ri),C(G),C(se),C(Ge),C(O),C(F),C(Wt),C(le),C(lt),C(N),C(He))},qn.\u0275cmp=V({type:qn,selectors:[["app-estate-account-agency-ads-list"]],standalone:!1,features:[U],decls:69,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkPropertyId"],["matColumnDef","title"],["matColumnDef","StationLevel"],["matColumnDef","ViewLevel"],["matColumnDef","FromDate"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-cart-shopping","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,e){if(i&1){let a=I();l(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(s){return p(a),T(e.viewGuideNotice,s)||(e.viewGuideNotice=s),m(s)}),v("optionOnActionButtonMemoRow",function(){return p(a),m(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(a),m(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(a),m(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(a),m(e.onActionButtonPrintRow())}),P(1,4),c(2," -------------------------------------- "),D(),Fe(3,5)(4,6),P(5,7),l(6,"a",8),v("click",function(){return p(a),m(e.onActionBackToParent())}),_(7,"i",9),r(),l(8,"a",10),v("click",function(){return p(a),m(e.viewGuideNotice=!e.viewGuideNotice)}),_(9,"i",11),r(),l(10,"a",10),v("click",function(){return p(a),m(e.onActionButtonReload())}),_(11,"i",12),r(),D(),P(12,13),l(13,"a",14),v("click",function(){return p(a),m(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(14,"mat-slide-toggle",15),c(15),S(16,"translate"),r(),l(17,"a",14),v("click",function(){return p(a),m(e.onActionButtonStatist())}),_(18,"mat-slide-toggle",15),c(19),S(20,"translate"),r(),D(),P(21,16),y(22,$u,7,3,"div",17),y(23,ef,7,3,"div",17),D(),P(24,18),y(25,tf,7,3,"div",17),y(26,nf,7,3,"div",17),l(27,"div",17)(28,"a",19),v("click",function(){return p(a),m(e.onActionButtonContentList(e.tableRowSelected))}),_(29,"i",20)(30,"br"),r(),l(31,"p",21),c(32),S(33,"translate"),r()(),D(),P(34,22),l(35,"app-cms-search-list",23),w("optionsChange",function(s){return p(a),T(e.optionsSearch,s)||(e.optionsSearch=s),m(s)}),r(),l(36,"app-cms-statist-list",23),w("optionsChange",function(s){return p(a),T(e.optionsStatist,s)||(e.optionsStatist=s),m(s)}),r(),D(),P(37,24),l(38,"mat-table",25,0),v("matSortChange",function(){p(a);let s=x(39);return m(e.onTableSortData(s))}),P(40,26),L(41,of,2,1,"mat-header-cell",27)(42,af,2,1,"mat-cell",28),D(),P(43,29),L(44,rf,2,1,"mat-header-cell",27)(45,lf,2,1,"mat-cell",28),D(),P(46,30),L(47,sf,2,1,"mat-header-cell",27)(48,df,2,1,"mat-cell",28),D(),P(49,31),L(50,cf,2,1,"mat-header-cell",27)(51,pf,2,1,"mat-cell",28),D(),P(52,32),L(53,mf,2,1,"mat-header-cell",27)(54,uf,2,1,"mat-cell",28),D(),P(55,33),L(56,ff,2,1,"mat-header-cell",27)(57,gf,3,3,"mat-cell",28),D(),P(58,34),L(59,hf,2,1,"mat-header-cell",27)(60,_f,3,6,"mat-cell",35),D(),P(61,36),L(62,Cf,3,3,"mat-header-cell",37)(63,Sf,6,1,"mat-cell",38),D(),L(64,yf,1,0,"mat-header-row",39)(65,Mf,1,2,"mat-row",40),r(),D(),P(66,41),l(67,"mat-paginator",42,1),v("page",function(s){return p(a),m(e.onTablePageingData(s))}),r(),D(),r()}i&2&&(f("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",e.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),o(11),ne("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),o(3),f("checked",e.optionsSearch.data.show),o(),h("",E(16,27,"ACTION.SEARCH")," "),o(3),f("checked",e.optionsStatist.data.show),o(),h("",E(20,29,"ACTION.STATIST")," "),o(3),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?22:-1),o(),M(e.requestLinkPropertyId&&e.requestLinkPropertyId.length>0?23:-1),o(2),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?25:-1),o(),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?26:-1),o(6),h(" ",E(33,31,"ACTION.Property_to_be_traded")," "),o(3),b("options",e.optionsSearch),o(),b("options",e.optionsStatist),o(2),f("dataSource",e.tableSource),o(26),f("matHeaderRowDef",e.tabledisplayedColumns),o(),f("matRowDefColumns",e.tabledisplayedColumns),o(2),f("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",X(33,Yu)))},dependencies:[Nt,We,ye,qe,Qe,Ze,ze,Ke,Je,Ye,$e,nt,et,Xe,ot,tt,it,at,rt,dt,ct,pt,mt,W,er],encapsulation:2});var Qn=qn;var Ef=()=>[5,10,20,100];function vf(n,d){if(n&1){let t=I();l(0,"div",15)(1,"a",39),v("click",function(){p(t);let e=g();return m(e.onActionButtonNewRow())}),_(2,"i",40)(3,"br"),r(),l(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.ADD")," "))}function If(n,d){if(n&1){let t=I();l(0,"div",15)(1,"a",41),v("click",function(){p(t);let e=g();return m(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",42)(3,"br"),r(),l(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.EDIT")," "))}function bf(n,d){if(n&1){let t=I();l(0,"div",15)(1,"a",43),v("click",function(){p(t);let e=g();return m(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",44)(3,"br"),r(),l(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.DELETE")," "))}function Tf(n,d){n&1&&(l(0,"mat-header-cell",45),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",E(2,1,"TITLE.PICTURE")," "))}function wf(n,d){if(n&1&&(_(0,"img",46),S(1,"cmsthumbnail")),n&2){let t=g().$implicit;f("src",R(E(1,2,t.linkMainImageIdSrc)),z)}}function Af(n,d){if(n&1&&(l(0,"mat-cell"),y(1,wf,2,4,"img",46),r()),n&2){let t=d.$implicit;o(),M((t==null||t.linkMainImageIdSrc==null?null:t.linkMainImageIdSrc.length)>0?1:-1)}}function Rf(n,d){if(n&1&&(l(0,"mat-header-cell",45),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle," ")}}function Pf(n,d){if(n&1&&(l(0,"mat-cell"),_(1,"i",47),r()),n&2){let t=d.$implicit;o(),ie("color",t.iconColor),f("ngClass",t.iconFont)}}function Df(n,d){if(n&1&&(l(0,"mat-header-cell",45),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function xf(n,d){if(n&1&&(l(0,"mat-cell"),_(1,"i",47),r()),n&2){let t=d.$implicit;o(),ie("color",t.iconColor),f("ngClass",t.iconFont)}}function Lf(n,d){if(n&1&&(l(0,"mat-header-cell",45),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," ")}}function kf(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.title," ")}}function Vf(n,d){if(n&1&&(l(0,"mat-header-cell",45),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle," ")}}function Bf(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.description," ")}}function Ff(n,d){n&1&&(l(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",E(2,1,"TITLE.OPTION")," "))}function Gf(n,d){if(n&1&&(l(0,"mat-cell",48)(1,"button",49)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),n&2){let t=x(5);o(),f("matMenuTriggerFor",t)}}function Of(n,d){n&1&&_(0,"mat-header-row")}function Nf(n,d){if(n&1){let t=I();l(0,"mat-row",50),v("click",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))})("rtclick",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))}),r()}if(n&2){let t=d.$implicit,i=g();ne("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Zn=class Zn extends st{constructor(t,i,e,a,u,s,k,H,Ie,be,je,Ht){super(t,new la,je,u,k);this.contentService=t;this.cmsConfirmationDialogService=i;this.cmsToastrService=e;this.router=a;this.tokenHelper=u;this.cdr=s;this.translate=k;this.cmsStoreService=H;this.themeService=Ie;this.pageInfo=be;this.publicHelper=je;this.dialog=Ht;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Q;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","IconFont","Description"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IconFont","Description"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:xt=>this.onSubmitOptionsSearch(xt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=B.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>ke(this,null,function*(){this.tokenInfo=t,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new la);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(dr,{height:"90%",panelClass:t,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(cr,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],e=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(a=>{if(a){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(u,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonContentDetailList(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/property-detail/LinkActivityTypeId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-detail/LinkActivityTypeId/",this.tableRowSelected.id])}onActionButtonContentList(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/property/LinkActivityTypeId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkActivityTypeId/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),u=new q;u.propertyName="recordStatus",u.value=Ue.Available,a.filters.push(u),this.contentService.ServiceGetCount(a).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Zn.\u0275fac=function(i){return new(i||Zn)(C(uo),C(Oe),C(G),C(Ge),C(se),C(O),C(F),C(le),C(Wt),C(lt),C(N),C(He))},Zn.\u0275cmp=V({type:Zn,selectors:[["app-estate-activity-type-list"]],standalone:!1,features:[U],decls:67,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,e){if(i&1){let a=I();l(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(s){return p(a),T(e.viewGuideNotice,s)||(e.viewGuideNotice=s),m(s)}),v("optionOnActionButtonMemoRow",function(){return p(a),m(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(a),m(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(a),m(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(a),m(e.onActionButtonPrintRow())}),P(1,4),c(2," -------------------------------------- "),D(),Fe(3,5)(4,6),P(5,7),l(6,"a",8),v("click",function(){return p(a),m(e.viewGuideNotice=!e.viewGuideNotice)}),_(7,"i",9),r(),l(8,"a",8),v("click",function(){return p(a),m(e.onActionButtonReload())}),_(9,"i",10),r(),D(),P(10,11),l(11,"a",12),v("click",function(){return p(a),m(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(12,"mat-slide-toggle",13),c(13),S(14,"translate"),r(),l(15,"a",12),v("click",function(){return p(a),m(e.onActionButtonStatist())}),_(16,"mat-slide-toggle",13),c(17),S(18,"translate"),r(),D(),P(19,14),y(20,vf,7,3,"div",15),D(),P(21,16),y(22,If,7,3,"div",15),y(23,bf,7,3,"div",15),l(24,"div",15)(25,"a",17),v("click",function(s){return p(a),m(e.onActionButtonContentDetailList(e.tableRowSelected,s))}),_(26,"i",18)(27,"br"),r(),l(28,"p",19),c(29),S(30,"translate"),r()(),l(31,"div",15)(32,"a",17),v("click",function(s){return p(a),m(e.onActionButtonContentList(e.tableRowSelected,s))}),_(33,"i",20)(34,"br"),r(),l(35,"p",19),c(36),S(37,"translate"),r()(),D(),P(38,21),l(39,"app-cms-search-list",22),w("optionsChange",function(s){return p(a),T(e.optionsSearch,s)||(e.optionsSearch=s),m(s)}),r(),l(40,"app-cms-statist-list",22),w("optionsChange",function(s){return p(a),T(e.optionsStatist,s)||(e.optionsStatist=s),m(s)}),r(),D(),P(41,23),l(42,"mat-table",24,0),v("matSortChange",function(){p(a);let s=x(43);return m(e.onTableSortData(s))}),P(44,25),L(45,Tf,3,3,"mat-header-cell",26)(46,Af,2,1,"mat-cell",27),D(),P(47,28),L(48,Rf,2,1,"mat-header-cell",26)(49,Pf,2,3,"mat-cell",27),D(),P(50,29),L(51,Df,2,1,"mat-header-cell",26)(52,xf,2,3,"mat-cell",27),D(),P(53,30),L(54,Lf,2,1,"mat-header-cell",26)(55,kf,2,1,"mat-cell",27),D(),P(56,31),L(57,Vf,2,1,"mat-header-cell",26)(58,Bf,2,1,"mat-cell",27),D(),P(59,32),L(60,Ff,3,3,"mat-header-cell",33)(61,Gf,6,1,"mat-cell",34),D(),L(62,Of,1,0,"mat-header-row",35)(63,Nf,1,2,"mat-row",36),r(),D(),P(64,37),l(65,"mat-paginator",38,1),v("page",function(s){return p(a),m(e.onTablePageingData(s))}),r(),D(),r()}i&2&&(f("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",e.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),o(9),ne("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),o(3),f("checked",e.optionsSearch.data.show),o(),h("",E(14,27,"ACTION.SEARCH")," "),o(3),f("checked",e.optionsStatist.data.show),o(),h("",E(18,29,"ACTION.STATIST")," "),o(3),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?20:-1),o(2),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?22:-1),o(),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?23:-1),o(6),h(" ",E(30,31,"ACTION.DETAIL")," "),o(7),h(" ",E(37,33,"ACTION.PROPERTYLIST")," "),o(3),b("options",e.optionsSearch),o(),b("options",e.optionsStatist),o(2),f("dataSource",e.tableSource),o(20),f("matHeaderRowDef",e.tabledisplayedColumns),o(),f("matRowDefColumns",e.tabledisplayedColumns),o(2),f("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",X(35,Ef)))},dependencies:[Z,We,ye,qe,Qe,Ze,ze,Ke,Je,Ye,$e,nt,et,Xe,ot,tt,it,at,rt,dt,ct,pt,mt,W,Ae],encapsulation:2});var zn=Zn;var Hf=["vform"];function Uf(n,d){n&1&&_(0,"i",35)}function jf(n,d){n&1&&_(0,"i",36)}function qf(n,d){n&1&&(l(0,"mat-error"),c(1," Title is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function Qf(n,d){if(n&1){let t=I();l(0,"div",14)(1,"label",33),c(2),r(),l(3,"input",34,3),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.title,e)||(a.dataModel.title=e),m(e)}),r(),y(5,Uf,1,0,"i",35),y(6,jf,1,0,"i",36),l(7,"em"),c(8),r(),y(9,qf,5,3,"mat-error"),r()}if(n&2){let t=x(4),i=g();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",R(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField))),b("ngModel",i.dataModel.title),o(2),M(t.value?-1:5),o(),M(t.value?6:-1),o(2),h("",t.value.length," / 100"),o(),M(t.errors!=null&&t.errors.required?9:-1)}}function Zf(n,d){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function zf(n,d){if(n&1){let t=I();l(0,"div",14)(1,"label",37),c(2),r(),l(3,"input",38,4),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.stationLevel,e)||(a.dataModel.stationLevel=e),m(e)}),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle)),b("ngModel",t.dataModel.stationLevel),f("disabled",!(t.fieldsInfo.stationLevel!=null&&t.fieldsInfo.stationLevel.accessEditField))}}function Kf(n,d){if(n&1&&(l(0,"mat-list-item",18),c(1),r()),n&2){let t=d.$implicit;o(),A(t)}}function Jf(n,d){if(n&1){let t=I();l(0,"div",14)(1,"label",39),c(2),r(),l(3,"input",40,5),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.viewLevel,e)||(a.dataModel.viewLevel=e),m(e)}),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle)),b("ngModel",t.dataModel.viewLevel),f("disabled",!(t.fieldsInfo.viewLevel!=null&&t.fieldsInfo.viewLevel.accessEditField))}}function Yf(n,d){if(n&1&&(l(0,"mat-list-item",18),c(1),r()),n&2){let t=d.$implicit;o(),A(t)}}function Xf(n,d){if(n&1){let t=I();l(0,"div",14)(1,"label",41),c(2),r(),l(3,"input",42,6),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.dayOfActivity,e)||(a.dataModel.dayOfActivity=e),m(e)}),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.dayOfActivity==null?null:t.fieldsInfo.dayOfActivity.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.dayOfActivity==null?null:t.fieldsInfo.dayOfActivity.fieldTitle)),b("ngModel",t.dataModel.dayOfActivity),f("disabled",!(t.fieldsInfo.dayOfActivity!=null&&t.fieldsInfo.dayOfActivity.accessEditField))}}function $f(n,d){if(n&1){let t=I();l(0,"div",14)(1,"label",43),c(2),r(),l(3,"input",44,7),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.salePrice,e)||(a.dataModel.salePrice=e),m(e)}),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.salePrice==null?null:t.fieldsInfo.salePrice.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.salePrice==null?null:t.fieldsInfo.salePrice.fieldTitle)),b("ngModel",t.dataModel.salePrice),f("disabled",!(t.fieldsInfo.salePrice!=null&&t.fieldsInfo.salePrice.accessEditField))}}function eg(n,d){if(n&1&&(_(0,"img",28),S(1,"cmsthumbnail")),n&2){let t=g();f("src",R(E(1,2,t.dataModel.linkMainImageIdSrc)),z)}}function tg(n,d){if(n&1&&(l(0,"button",47),_(1,"i",48),c(2),S(3,"translate"),r()),n&2){g(2);let t=x(10);f("disabled",!t.form.valid),o(2),h(" ",E(3,2,"ACTION.SAVE")," ")}}function ig(n,d){if(n&1){let t=I();l(0,"div",32)(1,"button",45),v("click",function(){p(t);let e=g();return m(e.onFormCancel())}),_(2,"i",46),c(3),S(4,"translate"),r(),y(5,tg,4,4,"button",47),r()}if(n&2){let t=g();o(3),h(" ",E(4,2,"ACTION.CANCEL")," "),o(2),M(t.formInfo.submitButtonEnabled?5:-1)}}var Kn=class Kn extends Tt{constructor(t,i,e,a,u,s,k,H){super(a,new gi,s,H);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateAdsTypeService=a;this.cmsToastrService=u;this.publicHelper=s;this.cdr=k;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Le;this.dataModel=new gi;this.formInfo=new _e;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAdsTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}};Kn.\u0275fac=function(i){return new(i||Kn)(C(we),C(Te),C($),C(Di),C(G),C(N),C(O),C(F))},Kn.\u0275cmp=V({type:Kn,selectors:[["app-estate-ads-type-add"]],viewQuery:function(i,e){if(i&1&&K(Hf,5),i&2){let a;J(a=Y())&&(e.formGroup=a.first)}},standalone:!1,features:[U],decls:51,vars:43,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["StationLevel",""],["ViewLevel",""],["DayOfActivity",""],["SalePrice",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["role","list"],["role","listitem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.paymentForMainSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.paymentForMainSite","name","dataModel.paymentForMainSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.paymentForMainSite",1,"custom-control-label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","selectFileType","isPopup","openForm","openDirectUploadView","tree","openFilemanagerButtonLabelKey","openFilemanagerButtonView"],[1,"form-actions"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.stationLevel",1,"color-highlight"],["matInput","","type","number","name","dataModel.stationLevel","id","dataModel.stationLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.viewLevel",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewLevel","id","dataModel.viewLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.dayOfActivity",1,"color-highlight"],["matInput","","type","number","name","dataModel.dayOfActivity","id","dataModel.dayOfActivity",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.salePrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.salePrice","id","dataModel.salePrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let a=I();l(0,"div",8),_(1,"app-progress-spinner",9),l(2,"div",10)(3,"p",11),c(4),r(),l(5,"p"),c(6),S(7,"translate"),r(),_(8,"app-cms-form-result-message",12),l(9,"form",13,0),v("ngSubmit",function(){return p(a),m(e.onFormSubmit())}),y(11,Qf,10,10,"div",14),l(12,"div",14)(13,"label",15),c(14),r(),l(15,"textarea",16,1),w("ngModelChange",function(s){return p(a),T(e.dataModel.description,s)||(e.dataModel.description=s),m(s)}),r(),l(17,"em"),c(18),r(),y(19,Zf,5,3,"mat-error"),r(),y(20,zf,5,5,"div",14),l(21,"mat-list",17),De(22,Kf,2,1,"mat-list-item",18,Pe),r(),y(24,Jf,5,5,"div",14),l(25,"mat-list",17),De(26,Yf,2,1,"mat-list-item",18,Pe),r(),y(28,Xf,5,5,"div",14),y(29,$f,5,5,"div",14),l(30,"div",19)(31,"div",20)(32,"h5",21),c(33),r()(),l(34,"div",22)(35,"div",23)(36,"input",24),w("ngModelChange",function(s){return p(a),T(e.dataModel.paymentForMainSite,s)||(e.dataModel.paymentForMainSite=s),m(s)}),r(),_(37,"label",25),r()()(),l(38,"div",26)(39,"a",27),S(40,"cmsthumbnail"),y(41,eg,2,4,"img",28),r()(),l(42,"div",14)(43,"label",29),v("click",function(){return p(a),m(e.fileManagerOpenForm=!0)}),c(44),S(45,"translate"),r(),l(46,"input",30,2),S(48,"translate"),w("ngModelChange",function(s){return p(a),T(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),m(s)}),v("click",function(){return p(a),m(e.fileManagerOpenForm=!0)}),r(),l(49,"cms-file-manager",31),v("itemSelected",function(s){return p(a),m(e.onActionFileSelected(s))}),w("openFormChange",function(s){return p(a),T(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),m(s)}),r()(),y(50,ig,6,4,"div",32),r()()()}if(i&2){let a=x(16);o(),f("optionsInfoAreaId",e.constructorInfoAreaId),o(3),h(" ",e.formInfo.formTitle," "),o(2),h(" ",E(7,35,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",e.formInfo),o(3),M(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessWatchField?11:-1),o(3),A(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle))("disabled",R(!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessAddField))),b("ngModel",e.dataModel.description),o(3),h("",a.value.length," / 500"),o(),M(a.errors!=null&&a.errors.required?19:-1),o(),M(e.fieldsInfo.stationLevel!=null&&e.fieldsInfo.stationLevel.accessWatchField?20:-1),o(2),xe(e.dataModel.stationLevelDescription),o(2),M(e.fieldsInfo.viewLevel!=null&&e.fieldsInfo.viewLevel.accessWatchField?24:-1),o(2),xe(e.dataModel.viewLevelDescription),o(2),M(e.fieldsInfo.dayOfActivity!=null&&e.fieldsInfo.dayOfActivity.accessWatchField?28:-1),o(),M(e.fieldsInfo.salePrice!=null&&e.fieldsInfo.salePrice.accessWatchField?29:-1),o(4),h(" ",e.fieldsInfo.paymentForMainSite==null?null:e.fieldsInfo.paymentForMainSite.fieldTitle," "),o(3),b("ngModel",e.dataModel.paymentForMainSite),o(3),f("href",R(E(40,37,e.dataModel.linkMainImageIdSrc)),z),o(2),M((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?41:-1),o(3),A(E(45,39,"TITLE.Original_Photo")),o(2),f("placeholder",R(E(48,41,"TITLE.Original_File_ID"))),b("ngModel",e.dataModel.linkMainImageId),o(3),f("language",e.appLanguage)("selectFileType",e.selectFileTypeMainImage)("isPopup",!0),b("openForm",e.fileManagerOpenForm),f("openDirectUploadView",!0)("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openFilemanagerButtonView",!1),o(),M(e.publicHelper.processService.process.inRunAll?-1:50)}},dependencies:[ue,ee,ft,Vt,te,ce,re,fe,ge,me,pe,he,oe,wo,Ao,ae,Ce,Ct,bt,W,Ae],encapsulation:2});var $o=Kn;var ng=["vform"];function og(n,d){n&1&&_(0,"i",17)}function ag(n,d){n&1&&_(0,"i",18)}function rg(n,d){n&1&&(l(0,"mat-error"),c(1," Title is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function lg(n,d){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function sg(n,d){if(n&1){let t=I();l(0,"div",14)(1,"label",37),c(2),r(),l(3,"input",38,4),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.stationLevel,e)||(a.dataModel.stationLevel=e),m(e)}),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle)),b("ngModel",t.dataModel.stationLevel),f("disabled",!(t.fieldsInfo.stationLevel!=null&&t.fieldsInfo.stationLevel.accessEditField))}}function dg(n,d){if(n&1&&(l(0,"mat-list-item",22),c(1),r()),n&2){let t=d.$implicit;o(),A(t)}}function cg(n,d){if(n&1){let t=I();l(0,"div",14)(1,"label",39),c(2),r(),l(3,"input",40,5),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.viewLevel,e)||(a.dataModel.viewLevel=e),m(e)}),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle)),b("ngModel",t.dataModel.viewLevel),f("disabled",!(t.fieldsInfo.viewLevel!=null&&t.fieldsInfo.viewLevel.accessEditField))}}function pg(n,d){if(n&1&&(l(0,"mat-list-item",22),c(1),r()),n&2){let t=d.$implicit;o(),A(t)}}function mg(n,d){if(n&1){let t=I();l(0,"div",14)(1,"label",41),c(2),r(),l(3,"input",42,6),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.dayOfActivity,e)||(a.dataModel.dayOfActivity=e),m(e)}),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.dayOfActivity==null?null:t.fieldsInfo.dayOfActivity.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.dayOfActivity==null?null:t.fieldsInfo.dayOfActivity.fieldTitle)),b("ngModel",t.dataModel.dayOfActivity),f("disabled",!(t.fieldsInfo.dayOfActivity!=null&&t.fieldsInfo.dayOfActivity.accessEditField))}}function ug(n,d){if(n&1){let t=I();l(0,"div",14)(1,"label",43),c(2),r(),l(3,"input",44,7),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.salePrice,e)||(a.dataModel.salePrice=e),m(e)}),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.salePrice==null?null:t.fieldsInfo.salePrice.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.salePrice==null?null:t.fieldsInfo.salePrice.fieldTitle)),b("ngModel",t.dataModel.salePrice),f("disabled",!(t.fieldsInfo.salePrice!=null&&t.fieldsInfo.salePrice.accessEditField))}}function fg(n,d){if(n&1&&(_(0,"img",32),S(1,"cmsthumbnail")),n&2){let t=g();f("src",R(E(1,2,t.dataModel.linkMainImageIdSrc)),z)}}function gg(n,d){if(n&1&&(l(0,"button",47),_(1,"i",48),c(2),S(3,"translate"),r()),n&2){g(2);let t=x(10);f("disabled",!t.form.valid),o(2),h(" ",E(3,2,"ACTION.SAVE")," ")}}function hg(n,d){if(n&1){let t=I();l(0,"div",36)(1,"button",45),v("click",function(){p(t);let e=g();return m(e.onFormCancel())}),_(2,"i",46),c(3),S(4,"translate"),r(),y(5,gg,4,4,"button",47),r()}if(n&2){let t=g();o(3),h(" ",E(4,2,"ACTION.CANCEL")," "),o(2),M(t.formInfo.submitButtonEnabled?5:-1)}}var Jn=class Jn extends wt{constructor(t,i,e,a,u,s,k,H){super(a,new gi,s,H);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateAdsTypeService=a;this.cmsToastrService=u;this.publicHelper=s;this.cdr=k;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new vt;this.dataModel=new gi;this.formInfo=new _e;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAdsTypeService.setAccessLoad(),this.estateAdsTypeService.setAccessDataType(It.Editor),this.estateAdsTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAdsTypeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}};Jn.\u0275fac=function(i){return new(i||Jn)(C(we),C(Te),C($),C(Di),C(G),C(N),C(O),C(F))},Jn.\u0275cmp=V({type:Jn,selectors:[["app-estate-ads-type-edit"]],viewQuery:function(i,e){if(i&1&&K(ng,5),i&2){let a;J(a=Y())&&(e.formGroup=a.first)}},standalone:!1,features:[U],decls:60,vars:48,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["StationLevel",""],["ViewLevel",""],["DayOfActivity",""],["SalePrice",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["role","list"],["role","listitem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.includeAllSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.paymentForMainSite","name","dataModel.paymentForMainSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.paymentForMainSite",1,"custom-control-label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","selectFileType","isPopup","openForm","openDirectUploadView","tree","openFilemanagerButtonLabelKey","openFilemanagerButtonView"],[1,"form-actions"],["for","dataModel.stationLevel",1,"color-highlight"],["matInput","","type","number","name","dataModel.stationLevel","id","dataModel.stationLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.viewLevel",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewLevel","id","dataModel.viewLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.dayOfActivity",1,"color-highlight"],["matInput","","type","number","name","dataModel.dayOfActivity","id","dataModel.dayOfActivity",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.salePrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.salePrice","id","dataModel.salePrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let a=I();l(0,"div",8),_(1,"app-progress-spinner",9),l(2,"div",10)(3,"p",11),c(4),r(),l(5,"p"),c(6),S(7,"translate"),r(),_(8,"app-cms-form-result-message",12),l(9,"form",13,0),v("ngSubmit",function(){return p(a),m(e.onFormSubmit())}),l(11,"div",14)(12,"label",15),c(13),r(),l(14,"input",16,1),w("ngModelChange",function(s){return p(a),T(e.dataModel.title,s)||(e.dataModel.title=s),m(s)}),r(),y(16,og,1,0,"i",17),y(17,ag,1,0,"i",18),l(18,"em"),c(19),r(),y(20,rg,5,3,"mat-error"),r(),l(21,"div",14)(22,"label",19),c(23),r(),l(24,"textarea",20,2),w("ngModelChange",function(s){return p(a),T(e.dataModel.description,s)||(e.dataModel.description=s),m(s)}),r(),l(26,"em"),c(27),r(),y(28,lg,5,3,"mat-error"),r(),y(29,sg,5,5,"div",14),l(30,"mat-list",21),De(31,dg,2,1,"mat-list-item",22,Pe),r(),y(33,cg,5,5,"div",14),l(34,"mat-list",21),De(35,pg,2,1,"mat-list-item",22,Pe),r(),y(37,mg,5,5,"div",14),y(38,ug,5,5,"div",14),l(39,"div",23)(40,"div",24)(41,"h5",25),c(42),r()(),l(43,"div",26)(44,"div",27)(45,"input",28),w("ngModelChange",function(s){return p(a),T(e.dataModel.paymentForMainSite,s)||(e.dataModel.paymentForMainSite=s),m(s)}),r(),_(46,"label",29),r()()(),l(47,"div",30)(48,"a",31),S(49,"cmsthumbnail"),y(50,fg,2,4,"img",32),r()(),l(51,"div",14)(52,"label",33),v("click",function(){return p(a),m(e.fileManagerOpenForm=!0)}),c(53),S(54,"translate"),r(),l(55,"input",34,3),S(57,"translate"),w("ngModelChange",function(s){return p(a),T(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),m(s)}),v("click",function(){return p(a),m(e.fileManagerOpenForm=!0)}),r(),l(58,"cms-file-manager",35),v("itemSelected",function(s){return p(a),m(e.onActionFileSelected(s))}),w("openFormChange",function(s){return p(a),T(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),m(s)}),r()(),y(59,hg,6,4,"div",36),r()()()}if(i&2){let a=x(15),u=x(25);o(),f("optionsInfoAreaId",e.constructorInfoAreaId),o(3),h(" ",e.formInfo.formTitle," "),o(2),h(" ",E(7,40,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",e.formInfo),o(5),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModel.title),o(2),M(a.value?-1:16),o(),M(a.value?17:-1),o(2),h("",a.value.length," / 100"),o(),M(a.errors!=null&&a.errors.required?20:-1),o(3),A(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModel.description),o(3),h("",u.value.length," / 500"),o(),M(u.errors!=null&&u.errors.required?28:-1),o(),M(e.fieldsInfo.stationLevel!=null&&e.fieldsInfo.stationLevel.accessWatchField?29:-1),o(2),xe(e.dataModel.stationLevelDescription),o(2),M(e.fieldsInfo.viewLevel!=null&&e.fieldsInfo.viewLevel.accessWatchField?33:-1),o(2),xe(e.dataModel.viewLevelDescription),o(2),M(e.fieldsInfo.dayOfActivity!=null&&e.fieldsInfo.dayOfActivity.accessWatchField?37:-1),o(),M(e.fieldsInfo.salePrice!=null&&e.fieldsInfo.salePrice.accessWatchField?38:-1),o(4),h(" ",e.fieldsInfo.paymentForMainSite==null?null:e.fieldsInfo.paymentForMainSite.fieldTitle," "),o(3),b("ngModel",e.dataModel.paymentForMainSite),o(3),f("href",R(E(49,42,e.dataModel.linkMainImageIdSrc)),z),o(2),M((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?50:-1),o(3),A(E(54,44,"TITLE.PHOTO_FILE")),o(2),f("placeholder",R(E(57,46,"TITLE.Icon_File_ID"))),b("ngModel",e.dataModel.linkMainImageId),o(3),f("language",e.appLanguage)("selectFileType",e.selectFileTypeMainImage)("isPopup",!0),b("openForm",e.fileManagerOpenForm),f("openDirectUploadView",!0)("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openFilemanagerButtonView",!1),o(),M(e.publicHelper.processService.process.inRunAll?-1:59)}},dependencies:[ue,ee,ft,Vt,te,ce,re,fe,ge,me,pe,he,oe,wo,Ao,ae,Ce,Ct,bt,W,Ae],encapsulation:2});var ea=Jn;var _g=()=>[5,10,20,100];function Cg(n,d){if(n&1){let t=I();l(0,"div",15)(1,"a",41),v("click",function(){p(t);let e=g();return m(e.onActionButtonNewRow())}),_(2,"i",42)(3,"br"),r(),l(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.ADD")," "))}function Sg(n,d){if(n&1){let t=I();l(0,"div",15)(1,"a",43),v("click",function(){p(t);let e=g();return m(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",44)(3,"br"),r(),l(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.EDIT")," "))}function yg(n,d){if(n&1){let t=I();l(0,"div",15)(1,"a",45),v("click",function(){p(t);let e=g();return m(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",46)(3,"br"),r(),l(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.DELETE")," "))}function Mg(n,d){n&1&&(l(0,"mat-header-cell",47),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",E(2,1,"TITLE.PICTURE")," "))}function Eg(n,d){if(n&1&&(_(0,"img",48),S(1,"cmsthumbnail")),n&2){let t=g().$implicit;f("src",R(E(1,2,t.linkMainImageIdSrc)),z)}}function vg(n,d){if(n&1&&(l(0,"mat-cell"),y(1,Eg,2,4,"img",48),r()),n&2){let t=d.$implicit;o(),M((t==null||t.linkMainImageIdSrc==null?null:t.linkMainImageIdSrc.length)>0?1:-1)}}function Ig(n,d){if(n&1&&(l(0,"mat-header-cell",47),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function bg(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.id," ")}}function Tg(n,d){if(n&1&&(l(0,"mat-header-cell",47),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.linkPropertyId==null?null:t.fieldsInfo.linkPropertyId.fieldTitle," ")}}function wg(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.linkPropertyId," ")}}function Ag(n,d){if(n&1&&(l(0,"mat-header-cell",47),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," ")}}function Rg(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.title," ")}}function Pg(n,d){if(n&1&&(l(0,"mat-header-cell",47),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle," ")}}function Dg(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.stationLevel," ")}}function xg(n,d){if(n&1&&(l(0,"mat-header-cell",47),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle," ")}}function Lg(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.viewLevel," ")}}function kg(n,d){if(n&1&&(l(0,"mat-header-cell",47),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.dayOfActivity==null?null:t.fieldsInfo.dayOfActivity.fieldTitle," ")}}function Vg(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.dayOfActivity," ")}}function Bg(n,d){if(n&1&&(l(0,"mat-header-cell",47),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.salePrice==null?null:t.fieldsInfo.salePrice.fieldTitle," ")}}function Fg(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.salePrice," ")}}function Gg(n,d){n&1&&(l(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",E(2,1,"TITLE.OPTION")," "))}function Og(n,d){if(n&1&&(l(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),n&2){let t=x(5);o(),f("matMenuTriggerFor",t)}}function Ng(n,d){n&1&&_(0,"mat-header-row")}function Wg(n,d){if(n&1){let t=I();l(0,"mat-row",51),v("click",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))})("rtclick",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))}),r()}if(n&2){let t=d.$implicit,i=g();ne("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Yn=class Yn extends st{constructor(t,i,e,a,u,s,k,H,Ie,be,je,Ht){super(t,new gi,je,a,H);this.contentService=t;this.cmsConfirmationDialogService=i;this.cmsToastrService=e;this.tokenHelper=a;this.router=u;this.cdr=s;this.themeService=k;this.translate=H;this.cmsStoreService=Ie;this.pageInfo=be;this.publicHelper=je;this.dialog=Ht;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Q;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","StationLevel","ViewLevel","LinkPropertyId","DayOfActivity","SalePrice"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","StationLevel","SalePrice"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:xt=>this.onSubmitOptionsSearch(xt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=B.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>ke(this,null,function*(){this.tokenInfo=t,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new gi);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess&&(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open($o,{height:"90%",panelClass:t,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ea,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],e=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(a=>{if(a){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(u,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonContentList(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/property/LinkAdsTypeId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkAdsTypeId/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),u=new q;u.propertyName="recordStatus",u.value=Ue.Available,a.filters.push(u),this.contentService.ServiceGetCount(a).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Yn.\u0275fac=function(i){return new(i||Yn)(C(Di),C(Oe),C(G),C(se),C(Ge),C(O),C(Wt),C(F),C(le),C(lt),C(N),C(He))},Yn.\u0275cmp=V({type:Yn,selectors:[["app-estate-ads-type-list"]],standalone:!1,features:[U],decls:69,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","LinkPropertyId"],["matColumnDef","title"],["matColumnDef","StationLevel"],["matColumnDef","ViewLevel"],["matColumnDef","DayOfActivity"],["matColumnDef","SalePrice"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,e){if(i&1){let a=I();l(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(s){return p(a),T(e.viewGuideNotice,s)||(e.viewGuideNotice=s),m(s)}),v("optionOnActionButtonMemoRow",function(){return p(a),m(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(a),m(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(a),m(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(a),m(e.onActionButtonPrintRow())}),P(1,4),c(2," -------------------------------------- "),D(),Fe(3,5)(4,6),P(5,7),l(6,"a",8),v("click",function(){return p(a),m(e.viewGuideNotice=!e.viewGuideNotice)}),_(7,"i",9),r(),l(8,"a",8),v("click",function(){return p(a),m(e.onActionButtonReload())}),_(9,"i",10),r(),D(),P(10,11),l(11,"a",12),v("click",function(){return p(a),m(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(12,"mat-slide-toggle",13),c(13),S(14,"translate"),r(),l(15,"a",12),v("click",function(){return p(a),m(e.onActionButtonStatist())}),_(16,"mat-slide-toggle",13),c(17),S(18,"translate"),r(),D(),P(19,14),y(20,Cg,7,3,"div",15),D(),P(21,16),y(22,Sg,7,3,"div",15),y(23,yg,7,3,"div",15),l(24,"div",15)(25,"a",17),v("click",function(s){return p(a),m(e.onActionButtonContentList(e.tableRowSelected,s))}),_(26,"i",18)(27,"br"),r(),l(28,"p",19),c(29),S(30,"translate"),r()(),D(),P(31,20),l(32,"app-cms-search-list",21),w("optionsChange",function(s){return p(a),T(e.optionsSearch,s)||(e.optionsSearch=s),m(s)}),r(),l(33,"app-cms-statist-list",21),w("optionsChange",function(s){return p(a),T(e.optionsStatist,s)||(e.optionsStatist=s),m(s)}),r(),D(),P(34,22),l(35,"mat-table",23,0),v("matSortChange",function(){p(a);let s=x(36);return m(e.onTableSortData(s))}),P(37,24),L(38,Mg,3,3,"mat-header-cell",25)(39,vg,2,1,"mat-cell",26),D(),P(40,27),L(41,Ig,2,1,"mat-header-cell",25)(42,bg,2,1,"mat-cell",26),D(),P(43,28),L(44,Tg,2,1,"mat-header-cell",25)(45,wg,2,1,"mat-cell",26),D(),P(46,29),L(47,Ag,2,1,"mat-header-cell",25)(48,Rg,2,1,"mat-cell",26),D(),P(49,30),L(50,Pg,2,1,"mat-header-cell",25)(51,Dg,2,1,"mat-cell",26),D(),P(52,31),L(53,xg,2,1,"mat-header-cell",25)(54,Lg,2,1,"mat-cell",26),D(),P(55,32),L(56,kg,2,1,"mat-header-cell",25)(57,Vg,2,1,"mat-cell",26),D(),P(58,33),L(59,Bg,2,1,"mat-header-cell",25)(60,Fg,2,1,"mat-cell",26),D(),P(61,34),L(62,Gg,3,3,"mat-header-cell",35)(63,Og,6,1,"mat-cell",36),D(),L(64,Ng,1,0,"mat-header-row",37)(65,Wg,1,2,"mat-row",38),r(),D(),P(66,39),l(67,"mat-paginator",40,1),v("page",function(s){return p(a),m(e.onTablePageingData(s))}),r(),D(),r()}i&2&&(f("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",e.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),o(9),ne("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),o(3),f("checked",e.optionsSearch.data.show),o(),h("",E(14,26,"ACTION.SEARCH")," "),o(3),f("checked",e.optionsStatist.data.show),o(),h("",E(18,28,"ACTION.STATIST")," "),o(3),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?20:-1),o(2),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?22:-1),o(),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?23:-1),o(6),h(" ",E(30,30,"ACTION.Property_to_be_traded")," "),o(3),b("options",e.optionsSearch),o(),b("options",e.optionsStatist),o(2),f("dataSource",e.tableSource),o(29),f("matHeaderRowDef",e.tabledisplayedColumns),o(),f("matRowDefColumns",e.tabledisplayedColumns),o(2),f("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",X(32,_g)))},dependencies:[We,ye,qe,Qe,Ze,ze,Ke,Je,Ye,$e,nt,et,Xe,ot,tt,it,at,rt,dt,ct,pt,mt,W,Ae],encapsulation:2});var Xn=Yn;var $n=class $n{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};$n.\u0275fac=function(t){return new(t||$n)},$n.\u0275cmp=V({type:$n,selectors:[["app-estate-main"]],standalone:!1,decls:1,vars:0,template:function(t,i){t&1&&_(0,"router-outlet")},dependencies:[_a],encapsulation:2});var eo=$n;var Cr=[{path:"",component:eo,data:{title:"ROUTE.ESTATE.MAIN"},children:[{path:"",pathMatch:"full",component:Lo,data:{title:"ROUTE.ESTATE.MAIN"}},{path:"property-type-usage",component:Hn,data:{title:"ROUTE.ESTATE.TYPEUSAGE"}},{path:"property-type-landuse",component:Fn,data:{title:"ROUTE.ESTATE.LANDUSE"}},{path:"activity-type",component:zn,data:{title:"ROUTE.ESTATE.ACTIVITYTYPE"}},{path:"ads-type",component:Xn,data:{title:"ROUTE.ESTATE.ADSTYPE"}},{path:"account-agency",component:nn,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCY"}},{path:"account-agency/LinkAccountUserId/:LinkAccountUserId",component:nn,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCY"}},{path:"account-user",component:on,data:{title:"ROUTE.ESTATE.ACCOUNTUSER"}},{path:"account-user/LinkAccountAgencyId/:LinkAccountAgencyId",component:on,data:{title:"ROUTE.ESTATE.ACCOUNTUSER"}},{path:"account-agency-ads",component:Qn,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCYADS"}},{path:"contract-type",component:In,data:{title:"ROUTE.ESTATE.CONTRACTTYPE"}},{path:"billboard",component:gn,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"billboard/add",component:Ui,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"billboard/add-copy/:id",component:Ui,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"billboard/edit/:id",component:un,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"category-zone",component:yn,data:{title:"ROUTE.ESTATE.CATEGORY.ZONE"}},{path:"property-detail-group",component:Pn,data:{title:"ROUTE.ESTATE.DETAIL.GROUP"}},{path:"property-detail",component:Qi,data:{title:"ROUTE.ESTATE.PROPERTYDETAIL"}},{path:"property-detail/LinkPropertyTypeLanduseId/:LinkPropertyTypeLanduseId",component:Qi,data:{title:"ROUTE.ESTATE.PROPERTYDETAIL"}}]}];var Hg=["vform"],Ug=()=>["fa"];function jg(n,d){if(n&1&&(_(0,"img",15),S(1,"cmsthumbnail")),n&2){let t=g();f("src",R(E(1,2,t.dataModel.linkMainImageIdSrc)),z)}}function qg(n,d){n&1&&_(0,"i",22)}function Qg(n,d){n&1&&_(0,"i",23)}function Zg(n,d){n&1&&(l(0,"mat-error"),c(1," Title is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function zg(n,d){if(n&1){let t=I();l(0,"div",16)(1,"label",28),c(2),r(),l(3,"input",29,4),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.iconFont,e)||(a.dataModel.iconFont=e),m(e)}),v("iconPickerSelect",function(e){p(t);let a=g();return m(a.onIconPickerSelect(e))}),r(),l(5,"span",30),_(6,"i",31),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),b("ngModel",t.dataModel.iconFont),f("iconPicker",t.dataModel.iconFont)("ipIconPack",X(9,Ug))("ipPosition","top")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessAddField)),o(3),f("ngClass",t.dataModel.iconFont)}}function Kg(n,d){if(n&1){let t=I();l(0,"div",24)(1,"label",32),c(2),r(),l(3,"div",33)(4,"div",34)(5,"input",35,5),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.iconColor,e)||(a.dataModel.iconColor=e),m(e)}),r()(),l(7,"div",36),_(8,"ngx-mat-color-toggle",37)(9,"ngx-mat-color-picker",38,6),r()()()}if(n&2){let t=x(10),i=g();o(2),A(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ie("background",i.dataModel.iconColor),f("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),f("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),f("for",t),o(),f("touchUi",!0)("color","primary")}}function Jg(n,d){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function Yg(n,d){if(n&1){let t=I();l(0,"div",27)(1,"button",39),v("click",function(){p(t);let e=g();return m(e.onFormCancel())}),_(2,"i",40),c(3),S(4,"translate"),r(),l(5,"button",41),_(6,"i",42),c(7),S(8,"translate"),r()()}if(n&2){g();let t=x(10);o(3),h(" ",E(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!t.form.valid),o(2),h(" ",E(8,5,"ACTION.SAVE")," ")}}var to=class to extends Tt{constructor(t,i,e,a,u,s,k,H){super(a,new _i,s,H);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateCategoryRackService=a;this.cmsToastrService=u;this.publicHelper=s;this.cdr=k;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Le;this.dataModel=new _i;this.formInfo=new _e;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCategoryRackService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};to.\u0275fac=function(i){return new(i||to)(C(we),C(Te),C($),C(Li),C(G),C(N),C(O),C(F))},to.\u0275cmp=V({type:to,selectors:[["app-estate-category-rack-add"]],viewQuery:function(i,e){if(i&1&&K(Hg,5),i&2){let a;J(a=Y())&&(e.formGroup=a.first)}},standalone:!1,features:[U],decls:46,vars:47,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let a=I();l(0,"div",7),_(1,"app-progress-spinner",8),l(2,"div",9)(3,"p",10),c(4),r(),l(5,"p"),c(6),S(7,"translate"),r(),_(8,"app-cms-form-result-message",11),l(9,"form",12,0),v("ngSubmit",function(){return p(a),m(e.onFormSubmit())}),l(11,"div",13)(12,"a",14),S(13,"cmsthumbnail"),y(14,jg,2,4,"img",15),r()(),l(15,"div",16)(16,"label",17),v("click",function(){return p(a),m(e.fileManagerOpenForm=!0)}),c(17),S(18,"translate"),r(),l(19,"input",18,1),S(21,"translate"),w("ngModelChange",function(s){return p(a),T(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),m(s)}),v("click",function(){return p(a),m(e.fileManagerOpenForm=!0)}),r(),l(22,"cms-file-manager",19),S(23,"translate"),v("itemSelected",function(s){return p(a),m(e.onActionFileSelected(s))}),w("openFormChange",function(s){return p(a),T(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),m(s)}),r()(),l(24,"div",16)(25,"label",20),c(26),r(),l(27,"input",21,2),w("ngModelChange",function(s){return p(a),T(e.dataModel.title,s)||(e.dataModel.title=s),m(s)}),r(),y(29,qg,1,0,"i",22),y(30,Qg,1,0,"i",23),l(31,"em"),c(32),r(),y(33,Zg,5,3,"mat-error"),r(),y(34,zg,7,10,"div",16),y(35,Kg,11,11,"div",24),l(36,"div",16)(37,"label",25),c(38),r(),l(39,"textarea",26,3),w("ngModelChange",function(s){return p(a),T(e.dataModel.description,s)||(e.dataModel.description=s),m(s)}),c(41,"                  "),r(),l(42,"em"),c(43),r(),y(44,Jg,5,3,"mat-error"),r(),y(45,Yg,9,7,"div",27),r()()()}if(i&2){let a=x(28),u=x(40);o(),f("optionsInfoAreaId",e.constructorInfoAreaId),o(3),h(" ",e.formInfo.formTitle," "),o(2),h(" ",E(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",e.formInfo),o(4),f("href",R(E(13,39,e.dataModel.linkMainImageIdSrc)),z),o(2),M((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?14:-1),o(3),A(E(18,41,"TITLE.PICTURE")),o(2),f("placeholder",R(E(21,43,"TITLE.Original_File_ID"))),b("ngModel",e.dataModel.linkMainImageId),o(3),f("language",e.appLanguage)("isPopup",!0)("openSelectFileDescription",E(23,45,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),b("openForm",e.fileManagerOpenForm),f("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModel.title),o(2),M(a.value?-1:29),o(),M(a.value?30:-1),o(2),h("",a.value.length," / 100"),o(),M(a.errors!=null&&a.errors.required?33:-1),o(),M(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?34:-1),o(),M(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?35:-1),o(3),A(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModel.description),o(4),h("",u.value.length," / 500"),o(),M(u.errors!=null&&u.errors.required?44:-1),o(),M(e.formInfo.submitButtonEnabled?45:-1)}},dependencies:[Z,ue,ee,te,ce,re,fe,ge,me,pe,he,Ne,oe,ae,Ce,St,_t,ht,gt,bt,W,Ae],encapsulation:2});var ta=to;var Xg=["vform"],$g=()=>["fa"];function eh(n,d){if(n&1&&(_(0,"img",15),S(1,"cmsthumbnail")),n&2){let t=g();f("src",R(E(1,2,t.dataModel.linkMainImageIdSrc)),z)}}function th(n,d){n&1&&_(0,"i",22)}function ih(n,d){n&1&&_(0,"i",23)}function nh(n,d){if(n&1&&(l(0,"mat-error"),c(1),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2){let t=g();o(),h(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," is "),o(2),A(E(4,2,"MESSAGE.required"))}}function oh(n,d){if(n&1){let t=I();l(0,"div",16)(1,"label",28),c(2),r(),l(3,"input",29,4),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.iconFont,e)||(a.dataModel.iconFont=e),m(e)}),v("iconPickerSelect",function(e){p(t);let a=g();return m(a.onIconPickerSelect(e))}),r(),l(5,"span",30),_(6,"i",31),r()()}if(n&2){let t=g();o(2),A(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),b("ngModel",t.dataModel.iconFont),f("iconPicker",t.dataModel.iconFont)("ipIconPack",X(9,$g))("ipPosition","top")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessEditField)),o(3),f("ngClass",t.dataModel.iconFont)}}function ah(n,d){if(n&1){let t=I();l(0,"div",24)(1,"label",32),c(2),r(),l(3,"div",33)(4,"div",34)(5,"input",35,5),w("ngModelChange",function(e){p(t);let a=g();return T(a.dataModel.iconColor,e)||(a.dataModel.iconColor=e),m(e)}),r()(),l(7,"div",36),_(8,"ngx-mat-color-toggle",37)(9,"ngx-mat-color-picker",38,6),r()()()}if(n&2){let t=x(10),i=g();o(2),A(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ie("background",i.dataModel.iconColor),f("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),f("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),f("for",t),o(),f("touchUi",!0)("color","primary")}}function rh(n,d){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(E(4,1,"MESSAGE.required")))}function lh(n,d){if(n&1){let t=I();l(0,"div",27)(1,"button",39),v("click",function(){p(t);let e=g();return m(e.onFormCancel())}),_(2,"i",40),c(3),S(4,"translate"),r(),l(5,"button",41),_(6,"i",42),c(7),S(8,"translate"),r()()}if(n&2){g();let t=x(10);o(3),h(" ",E(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!t.form.valid),o(2),h(" ",E(8,5,"ACTION.SAVE")," ")}}var io=class io extends wt{constructor(t,i,e,a,u,s,k,H,Ie){super(a,new _i,k,Ie);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateCategoryRackService=a;this.estatePropertyTypeService=u;this.cmsToastrService=s;this.publicHelper=k;this.cdr=H;this.translate=Ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new vt;this.dataModel=new _i;this.formInfo=new _e;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCategoryRackService.setAccessLoad(),this.estateCategoryRackService.setAccessDataType(It.Editor),this.estateCategoryRackService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(a=>{this.formInfo.submitResultMessage=a}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(a=>{this.publicHelper.processService.processStart(t,a,this.constructorInfoAreaId)});let i=new Q,e=new q;e.propertyName="LinkCategoryRackId",e.value=this.requestId,i.filters.push(e),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:a=>{this.dataEstatePropertyTypeModel=a.listItems;let u=[];this.dataEstatePropertyTypeModel.forEach(s=>{u.push(s.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=u,a.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=a.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(a.errorMessage)),this.publicHelper.processService.processStop(t)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCategoryRackService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorUserCategorySelect(t){this.dataEstatePropertyTypeUsageModel=t}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};io.\u0275fac=function(i){return new(i||io)(C(we),C(Te),C($),C(Li),C(Bi),C(G),C(N),C(O),C(F))},io.\u0275cmp=V({type:io,selectors:[["app-estate-category-rack-edit"]],viewQuery:function(i,e){if(i&1&&K(Xg,5),i&2){let a;J(a=Y())&&(e.formGroup=a.first)}},standalone:!1,features:[U],decls:46,vars:47,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let a=I();l(0,"div",7),_(1,"app-progress-spinner",8),l(2,"div",9)(3,"p",10),c(4),r(),l(5,"p"),c(6),S(7,"translate"),r(),_(8,"app-cms-form-result-message",11),l(9,"form",12,0),v("ngSubmit",function(){return p(a),m(e.onFormSubmit())}),l(11,"div",13)(12,"a",14),S(13,"cmsthumbnail"),y(14,eh,2,4,"img",15),r()(),l(15,"div",16)(16,"label",17),v("click",function(){return p(a),m(e.fileManagerOpenForm=!0)}),c(17),S(18,"translate"),r(),l(19,"input",18,1),S(21,"translate"),w("ngModelChange",function(s){return p(a),T(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),m(s)}),v("click",function(){return p(a),m(e.fileManagerOpenForm=!0)}),r(),l(22,"cms-file-manager",19),S(23,"translate"),v("itemSelected",function(s){return p(a),m(e.onActionFileSelected(s))}),w("openFormChange",function(s){return p(a),T(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),m(s)}),r()(),l(24,"div",16)(25,"label",20),c(26),r(),l(27,"input",21,2),w("ngModelChange",function(s){return p(a),T(e.dataModel.title,s)||(e.dataModel.title=s),m(s)}),r(),y(29,th,1,0,"i",22),y(30,ih,1,0,"i",23),l(31,"em"),c(32),r(),y(33,nh,5,4,"mat-error"),r(),y(34,oh,7,10,"div",16),y(35,ah,11,11,"div",24),l(36,"div",16)(37,"label",25),c(38),r(),l(39,"textarea",26,3),w("ngModelChange",function(s){return p(a),T(e.dataModel.description,s)||(e.dataModel.description=s),m(s)}),c(41,"                  "),r(),l(42,"em"),c(43),r(),y(44,rh,5,3,"mat-error"),r(),y(45,lh,9,7,"div",27),r()()()}if(i&2){let a=x(28),u=x(40);o(),f("optionsInfoAreaId",e.constructorInfoAreaId),o(3),h(" ",e.formInfo.formTitle," "),o(2),h(" ",E(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",e.formInfo),o(4),f("href",R(E(13,39,e.dataModel.linkMainImageIdSrc)),z),o(2),M((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?14:-1),o(3),A(E(18,41,"TITLE.PICTURE")),o(2),f("placeholder",R(E(21,43,"TITLE.Original_File_ID"))),b("ngModel",e.dataModel.linkMainImageId),o(3),f("language",e.appLanguage)("isPopup",!0)("openSelectFileDescription",E(23,45,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),b("openForm",e.fileManagerOpenForm),f("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModel.title),o(2),M(a.value?-1:29),o(),M(a.value?30:-1),o(2),h("",a.value.length," / 100"),o(),M(a.errors!=null&&a.errors.required?33:-1),o(),M(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?34:-1),o(),M(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?35:-1),o(3),A(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModel.description),o(4),h("",u.value.length," / 500"),o(),M(u.errors!=null&&u.errors.required?44:-1),o(),M(e.formInfo.submitButtonEnabled?45:-1)}},dependencies:[Z,ue,ee,te,ce,re,fe,ge,me,pe,he,Ne,oe,ae,Ce,St,_t,ht,gt,bt,W,Ae],encapsulation:2});var ia=io;var sh=()=>[5,10,20,100],dh=n=>({background:n});function ch(n,d){if(n&1){let t=I();l(0,"div",15)(1,"a",39),v("click",function(){p(t);let e=g();return m(e.onActionButtonNewRow())}),_(2,"i",40)(3,"br"),r(),l(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.ADD")," "))}function ph(n,d){if(n&1){let t=I();l(0,"div",15)(1,"a",41),v("click",function(){p(t);let e=g();return m(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",42)(3,"br"),r(),l(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.EDIT")," "))}function mh(n,d){if(n&1){let t=I();l(0,"div",15)(1,"a",43),v("click",function(){p(t);let e=g();return m(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",44)(3,"br"),r(),l(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",E(6,1,"ACTION.DELETE")," "))}function uh(n,d){n&1&&(l(0,"mat-header-cell",45),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",E(2,1,"TITLE.PICTURE")," "))}function fh(n,d){if(n&1&&(_(0,"img",46),S(1,"cmsthumbnail")),n&2){let t=g().$implicit;f("src",R(E(1,2,t.linkMainImageIdSrc)),z)}}function gh(n,d){if(n&1&&(l(0,"mat-cell"),y(1,fh,2,4,"img",46),r()),n&2){let t=d.$implicit;o(),M((t==null||t.linkMainImageIdSrc==null?null:t.linkMainImageIdSrc.length)>0?1:-1)}}function hh(n,d){if(n&1&&(l(0,"mat-header-cell",45),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle," ")}}function _h(n,d){if(n&1&&(l(0,"mat-cell"),_(1,"i",47),r()),n&2){let t=d.$implicit;o(),ie("color",t.iconColor),f("ngClass",t.iconFont)}}function Ch(n,d){if(n&1&&(l(0,"mat-header-cell",45),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function Sh(n,d){if(n&1&&(l(0,"mat-cell"),_(1,"i",47),r()),n&2){let t=d.$implicit;o(),ie("color",t.iconColor),f("ngClass",t.iconFont)}}function yh(n,d){if(n&1&&(l(0,"mat-header-cell",45),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," ")}}function Mh(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.title," ")}}function Eh(n,d){if(n&1&&(l(0,"mat-header-cell",45),c(1),r()),n&2){let t=g();o(),h(" ",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle," ")}}function vh(n,d){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let t=d.$implicit;o(),h(" ",t.description," ")}}function Ih(n,d){n&1&&(l(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",E(2,1,"TITLE.OPTION")," "))}function bh(n,d){if(n&1&&(l(0,"mat-cell",48)(1,"button",49)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),n&2){let t=x(5);o(),f("matMenuTriggerFor",t)}}function Th(n,d){n&1&&_(0,"mat-header-row")}function wh(n,d){if(n&1){let t=I();l(0,"mat-row",50),v("click",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))})("rtclick",function(e){let a=p(t).$implicit,u=g();return m(u.onActionTableRowSelect(a,e))}),r()}if(n&2){let t=d.$implicit,i=g();f("ngStyle",Ft(1,dh,t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"#d3d3da":""))}}var no=class no extends st{constructor(t,i,e,a,u,s,k,H,Ie,be,je,Ht){super(t,new _i,je,u,k);this.contentService=t;this.cmsConfirmationDialogService=i;this.cmsToastrService=e;this.router=a;this.tokenHelper=u;this.cdr=s;this.translate=k;this.themeService=H;this.cmsStoreService=Ie;this.pageInfo=be;this.publicHelper=je;this.dialog=Ht;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Q;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","IconFont","Description"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IconFont","Description"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:xt=>this.onSubmitOptionsSearch(xt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=B.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>ke(this,null,function*(){this.tokenInfo=t,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new _i);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(ta,{height:"90%",panelClass:t,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ia,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],e=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(a=>{if(a){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(u,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonContentDetailList(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/property-detail/LinkCategoryRackId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-detail/LinkCategoryRackId/",this.tableRowSelected.id])}onActionButtonContentList(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/property/LinkCategoryRackId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkCategoryRackId/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),u=new q;u.propertyName="recordStatus",u.value=Ue.Available,a.filters.push(u),this.contentService.ServiceGetCount(a).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};no.\u0275fac=function(i){return new(i||no)(C(Li),C(Oe),C(G),C(Ge),C(se),C(O),C(F),C(Wt),C(le),C(lt),C(N),C(He))},no.\u0275cmp=V({type:no,selectors:[["app-estate-category-rack-list"]],standalone:!1,features:[U],decls:67,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ngStyle","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick","ngStyle"]],template:function(i,e){if(i&1){let a=I();l(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(s){return p(a),T(e.viewGuideNotice,s)||(e.viewGuideNotice=s),m(s)}),v("optionOnActionButtonMemoRow",function(){return p(a),m(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(a),m(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(a),m(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(a),m(e.onActionButtonPrintRow())}),P(1,4),c(2," -------------------------------------- "),D(),Fe(3,5)(4,6),P(5,7),l(6,"a",8),v("click",function(){return p(a),m(e.viewGuideNotice=!e.viewGuideNotice)}),_(7,"i",9),r(),l(8,"a",8),v("click",function(){return p(a),m(e.onActionButtonReload())}),_(9,"i",10),r(),D(),P(10,11),l(11,"a",12),v("click",function(){return p(a),m(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(12,"mat-slide-toggle",13),c(13),S(14,"translate"),r(),l(15,"a",12),v("click",function(){return p(a),m(e.onActionButtonStatist())}),_(16,"mat-slide-toggle",13),c(17),S(18,"translate"),r(),D(),P(19,14),y(20,ch,7,3,"div",15),D(),P(21,16),y(22,ph,7,3,"div",15),y(23,mh,7,3,"div",15),l(24,"div",15)(25,"a",17),v("click",function(s){return p(a),m(e.onActionButtonContentDetailList(e.tableRowSelected,s))}),_(26,"i",18)(27,"br"),r(),l(28,"p",19),c(29),S(30,"translate"),r()(),l(31,"div",15)(32,"a",17),v("click",function(s){return p(a),m(e.onActionButtonContentList(e.tableRowSelected,s))}),_(33,"i",20)(34,"br"),r(),l(35,"p",19),c(36),S(37,"translate"),r()(),D(),P(38,21),l(39,"app-cms-search-list",22),w("optionsChange",function(s){return p(a),T(e.optionsSearch,s)||(e.optionsSearch=s),m(s)}),r(),l(40,"app-cms-statist-list",22),w("optionsChange",function(s){return p(a),T(e.optionsStatist,s)||(e.optionsStatist=s),m(s)}),r(),D(),P(41,23),l(42,"mat-table",24,0),v("matSortChange",function(){p(a);let s=x(43);return m(e.onTableSortData(s))}),P(44,25),L(45,uh,3,3,"mat-header-cell",26)(46,gh,2,1,"mat-cell",27),D(),P(47,28),L(48,hh,2,1,"mat-header-cell",26)(49,_h,2,3,"mat-cell",27),D(),P(50,29),L(51,Ch,2,1,"mat-header-cell",26)(52,Sh,2,3,"mat-cell",27),D(),P(53,30),L(54,yh,2,1,"mat-header-cell",26)(55,Mh,2,1,"mat-cell",27),D(),P(56,31),L(57,Eh,2,1,"mat-header-cell",26)(58,vh,2,1,"mat-cell",27),D(),P(59,32),L(60,Ih,3,3,"mat-header-cell",33)(61,bh,6,1,"mat-cell",34),D(),L(62,Th,1,0,"mat-header-row",35)(63,wh,1,3,"mat-row",36),r(),D(),P(64,37),l(65,"mat-paginator",38,1),v("page",function(s){return p(a),m(e.onTablePageingData(s))}),r(),D(),r()}i&2&&(f("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",e.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),o(9),ne("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),o(3),f("checked",e.optionsSearch.data.show),o(),h("",E(14,27,"ACTION.SEARCH")," "),o(3),f("checked",e.optionsStatist.data.show),o(),h("",E(18,29,"ACTION.STATIST")," "),o(3),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?20:-1),o(2),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?22:-1),o(),M(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?23:-1),o(6),h(" ",E(30,31,"ACTION.DETAIL")," "),o(7),h(" ",E(37,33,"ACTION.PROPERTYLIST")," "),o(3),b("options",e.optionsSearch),o(),b("options",e.optionsStatist),o(2),f("dataSource",e.tableSource),o(20),f("matHeaderRowDef",e.tabledisplayedColumns),o(),f("matRowDefColumns",e.tabledisplayedColumns),o(2),f("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",X(35,sh)))},dependencies:[Z,Nt,We,ye,qe,Qe,Ze,ze,Ke,Je,Ye,$e,nt,et,Xe,ot,tt,it,at,rt,dt,ct,pt,mt,W,Ae],encapsulation:2});var na=no;var Sr=[{path:"",component:eo,data:{title:"ROUTE.ESTATE.MAIN"},children:[{path:"",pathMatch:"full",component:Lo,data:{title:"ROUTE.ESTATE.MAIN"}},{path:"property-type-usage",component:Hn,data:{title:"ROUTE.ESTATE.TYPEUSAGE"}},{path:"property-type-landuse",component:Fn,data:{title:"ROUTE.ESTATE.LANDUSE"}},{path:"activity-type",component:zn,data:{title:"ROUTE.ESTATE.ACTIVITYTYPE"}},{path:"ads-type",component:Xn,data:{title:"ROUTE.ESTATE.ADSTYPE"}},{path:"account-agency",component:nn,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCY"}},{path:"account-agency/LinkAccountUserId/:LinkAccountUserId",component:nn,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCY"}},{path:"account-user",component:on,data:{title:"ROUTE.ESTATE.ACCOUNTUSER"}},{path:"account-user/LinkAccountAgencyId/:LinkAccountAgencyId",component:on,data:{title:"ROUTE.ESTATE.ACCOUNTUSER"}},{path:"account-agency-ads",component:Qn,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCYADS"}},{path:"contract-type",component:In,data:{title:"ROUTE.ESTATE.CONTRACTTYPE"}},{path:"billboard",component:gn,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"billboard/add",component:Ui,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"billboard/add-copy/:id",component:Ui,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"billboard/edit/:id",component:un,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"category-zone",component:yn,data:{title:"ROUTE.ESTATE.CATEGORY.ZONE"}},{path:"category-rack",component:na,data:{title:"ROUTE.ESTATE.CATEGORY.RACK"}},{path:"property-detail-group",component:Pn,data:{title:"ROUTE.ESTATE.DETAIL.GROUP"}},{path:"property-detail",component:Qi,data:{title:"ROUTE.ESTATE.PROPERTYDETAIL"}},{path:"property-detail/LinkPropertyTypeLanduseId/:LinkPropertyTypeLanduseId",component:Qi,data:{title:"ROUTE.ESTATE.PROPERTYDETAIL"}}]}];var Zi=class Zi{};Zi.\u0275fac=function(t){return new(t||Zi)},Zi.\u0275mod=co({type:Zi}),Zi.\u0275inj=so({imports:[ro.forChild(window.innerWidth<1e3?Cr:Sr),ro]});var oa=Zi;var zi=class zi{};zi.\u0275fac=function(t){return new(t||zi)},zi.\u0275mod=co({type:zi}),zi.\u0275inj=so({providers:[Ca,Ma,$,Sa,wa,Ea,Ia,va,Pi,ba,Ta,Jt,fo,xi,Aa,ki,Li,Ra,kt,Vi,Pa,Qt,uo,Yt,Bi,Di,Oe,ya],imports:[ga,ro,oa,La,ka.withConfig({warnOnNgModelWithFormControl:"never"}),Za,tr,pr,Ka,qa,Fa,Ba,Ga,ar,xa,nr,Qa]});var yr=zi;export{yr as EstateMainModule};
