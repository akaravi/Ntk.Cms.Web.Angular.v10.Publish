import{a as Cn}from"./chunk-ZLF7B6QU.js";import{a as Ft}from"./chunk-KQC7PWD3.js";import{a as hn}from"./chunk-3HAFCOM6.js";import{c as Bt,d as mn,e as un,g as fn,h as gn}from"./chunk-PCTW6UMF.js";import{a as Nt}from"./chunk-BVWARRHD.js";import{a as ze}from"./chunk-ZSFFG36R.js";import{a as kt}from"./chunk-KCSZHFUZ.js";import{a as Pt}from"./chunk-IJV6CLSA.js";import{b as pn}from"./chunk-AGJVD6JH.js";import"./chunk-UKFBQOZP.js";import"./chunk-Q44TUSQG.js";import{a as Ue}from"./chunk-XBJ62SYP.js";import{a as we}from"./chunk-KO4OQ6WP.js";import{a as q,d as ue}from"./chunk-P3MMDMVQ.js";import{e as Ot,f as G}from"./chunk-VEG4GBPH.js";import{$ as Ai,$a as te,A as yi,Ab as on,Bb as rn,Cb as an,Db as sn,Fc as qe,Hb as ln,Ib as Tt,Ic as xe,J as bt,Ja as mt,Jb as Et,K as ce,Ka as pe,Kb as xt,Kc as L,L as de,La as me,Lb as wt,Ma as je,Mb as Rt,N as Ti,Nb as At,Nc as dn,O as Ei,Q as vt,Qb as F,Rb as V,V as xi,W as Te,Y as wi,Za as Ee,_ as Ri,aa as Di,ba as We,bc as Dt,ca as Oi,cc as cn,eb as Wi,fa as ki,fb as ji,gb as qi,hb as zi,ia as Pi,ib as Ui,ja as Ni,jb as Qi,ka as Bi,la as Fi,lb as Yi,m as Mt,mb as Ki,n as $,na as Vi,nb as Ji,q as U,qa as Li,r as be,sa as yt,t as ve,u as vi,ub as Xi,v as ee,va as Gi,vb as Zi,w as ye,wa as Hi,wb as $i,xb as en,yb as tn,zb as nn}from"./chunk-TY25RWRX.js";import{$b as di,Ab as ai,Ad as lt,Bb as si,Bq as pt,Ca as ge,Cl as Ii,Db as J,Dl as z,Eb as X,El as le,F as ii,Fa as n,Fb as Z,Fd as Yt,Fl as Ge,Ha as Me,I as ni,Id as hi,Jb as A,Kb as li,Kc as _t,Kl as W,Lb as re,Lc as H,Ld as ct,Ll as ae,Ml as dt,Nl as Mi,Oa as S,Ob as c,Od as Le,Ol as bi,P as oi,Pb as M,Pl as He,Q as ri,Qb as m,Rb as st,Rc as St,Sa as P,Sd as It,Ta as ht,Tb as ci,Td as Q,Ub as E,Uc as mi,Vb as x,Wa as K,Wb as w,Xb as R,Xc as ui,Xd as se,Y as Ct,Ya as I,Yb as Ut,Yd as Y,da as h,db as Ce,dc as f,de as j,ea as _,ec as g,he as _i,ic as pi,kb as d,lb as o,mb as a,nb as v,p as gt,q as ti,qg as Si,rb as D,rd as fi,sb as O,sd as gi,tb as ke,td as Ci,ub as T,wc as B,xb as b,zb as u,zd as Qt}from"./chunk-CG25ZHLF.js";import{i as oe}from"./chunk-SEDBTTTN.js";var Qe=class Qe{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};Qe.\u0275fac=function(e){return new(e||Qe)},Qe.\u0275cmp=P({type:Qe,selectors:[["app-contact"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&v(0,"router-outlet")},dependencies:[gi],encapsulation:2});var Vt=Qe;function En(r,s){if(r&1){let e=T();o(0,"mat-tree-node",10),v(1,"button",11),o(2,"mat-checkbox",12),b("change",function(){let t=h(e).$implicit,l=u();return _(l.todoItemSelectionToggle(t))}),c(3),a()()}if(r&2){let e=s.$implicit,i=u();n(2),d("checked",i.checklistSelection.isSelected(e))("indeterminate",i.descendantsPartiallySelected(e)),n(),M(e.title)}}function xn(r,s){if(r&1){let e=T();o(0,"mat-tree-node",13)(1,"button",14)(2,"mat-icon",15),c(3),a()(),o(4,"mat-checkbox",16),b("change",function(){let t=h(e).$implicit,l=u();return _(l.checklistSelection.toggle(t))}),c(5),a()()}if(r&2){let e=s.$implicit,i=u(),t=A(8);d("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),n(),Ce("type","button")("aria-label","Toggle "+e.title)("type","button"),n(2),m(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),n(),d("checked",i.checklistSelection.isSelected(e)),n(),M(e.title)}}var Ye=class Ye{constructor(s,e,i,t,l,C,p,y,k){this.cmsToastrService=s;this.coreEnumService=e;this.categoryService=i;this.cdr=t;this.publicHelper=l;this.dialog=C;this.translate=p;this.tokenHelper=y;this.cmsStoreService=k;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=[];this.dataModelResult=new Q;this.filterModel=new Y;this.dataSource=new At;this.optionSelectChecked=new Me;this.optionSelectDisChecked=new Me;this.optionModelChange=new Me;this.unsubscribe=[];this.checklistSelection=new ki(!0);this.hasChild=(s,e)=>!!e.children&&e.children.length>0;this.childrenAccessor=s=>s.children??[];this.hasNoContent=(s,e)=>e.children;this.runComplate=!1;this.treeControl=new ln(s=>s.children);this.publicHelper.processService.cdr=this.cdr,this.checklistSelection.changed.subscribe(N=>{if(!this.runComplate)return;let ne=[];this.checklistSelection.selected.forEach(Oe=>{ne.push(Oe.id)}),this.optionModelChange.emit(ne),N.added&&N.added.length>0&&N.added.forEach(Oe=>{this.optionSelectChecked.emit(Oe.id)}),N.removed&&N.removed.length>0&&N.removed.forEach(Oe=>{this.optionSelectDisChecked.emit(Oe.id)})})}set optionModel(s){this.dataModelSelect=s,this.loadCheked()}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>oe(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}loadCheked(){this.runComplate=!1,this.CompileDataByCheked(this.dataModelResult.listItems,this.dataModelSelect),this.runComplate=!0}CompileDataByCheked(s,e){if(!(s?.length>0))return!1;let i=!1;for(let t of s){let l=!1;e?.includes(t.id)?(this.checklistSelection.select(t),i=!0):this.checklistSelection.deselect(t),t.children?.length>0&&(l=this.CompileDataByCheked(t.children,e),l&&(i=!0,t.isExpanded=!0))}return i}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems,this.loadCheked()):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.publicHelper.processService.processStop(s),this.cmsToastrService.typeError(e)}})}descendantsAllSelected(s){return this.treeControl.getDescendants(s).every(i=>this.checklistSelection.isSelected(i))}descendantsPartiallySelected(s){return this.treeControl.getDescendants(s).some(t=>this.checklistSelection.isSelected(t))&&!this.descendantsAllSelected(s)}todoItemSelectionToggle(s){this.checklistSelection.toggle(s);let e=this.treeControl.getDescendants(s);this.checklistSelection.isSelected(s)?this.checklistSelection.select(...e):this.checklistSelection.deselect(...e)}};Ye.\u0275fac=function(e){return new(e||Ye)(S(L),S(j),S(z),S(B),S(G),S(je),S(F),S(xe),S(qe))},Ye.\u0275cmp=P({type:Ye,selectors:[["app-contact-category-treeselector"]],inputs:{optionModel:"optionModel"},outputs:{optionSelectChecked:"optionSelectChecked",optionSelectDisChecked:"optionSelectDisChecked",optionModelChange:"optionModelChange"},standalone:!1,decls:12,vars:10,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"change","checked","indeterminate"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],[1,"checklist-leaf-node",3,"change","checked"]],template:function(e,i){e&1&&(o(0,"app-cms-html-tree",1),D(1,2),c(2),f(3,"translate"),O(),ke(4,3),D(5,4),v(6,"app-progress-spinner",5),o(7,"mat-tree",6,0),I(9,En,4,3,"mat-tree-node",7)(10,xn,6,8,"mat-tree-node",8),a(),O(),ke(11,9),a()),e&2&&(d("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),n(2),m(" ",g(3,8,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),n(4),d("optionsInfoAreaId",i.constructorInfoAreaId),n(),d("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),n(3),d("matTreeNodeDefWhen",i.hasChild))},dependencies:[We,yt,Ee,Et,xt,Rt,wt,Tt,q,Ft,V],encapsulation:2});var Ke=Ye;var wn=["vform"];function Rn(r,s){if(r&1&&(o(0,"mat-error"),c(1),o(2,"strong"),c(3),f(4,"translate"),a()()),r&2){let e=u();n(),m(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),n(2),M(g(4,2,"MESSAGE.required"))}}function An(r,s){if(r&1&&(o(0,"mat-error"),c(1),o(2,"strong"),c(3),f(4,"translate"),a()()),r&2){let e=u();n(),m(" ",e.fieldsInfo.firstName==null?null:e.fieldsInfo.firstName.fieldTitle," is "),n(2),M(g(4,2,"MESSAGE.required"))}}function Dn(r,s){if(r&1&&(o(0,"mat-error"),c(1),o(2,"strong"),c(3),f(4,"translate"),a()()),r&2){let e=u();n(),m(" ",e.fieldsInfo.lastName==null?null:e.fieldsInfo.lastName.fieldTitle," is "),n(2),M(g(4,2,"MESSAGE.required"))}}function On(r,s){r&1&&(o(0,"mat-error"),c(1," Numbers is "),o(2,"strong"),c(3),f(4,"translate"),a()()),r&2&&(n(3),M(g(4,1,"MESSAGE.required")))}function kn(r,s){if(r&1){let e=T();o(0,"div",31)(1,"div",32)(2,"h5",33),c(3),a()(),o(4,"div",34)(5,"div",35)(6,"input",36),w("ngModelChange",function(t){h(e);let l=u();return x(l.dataModel.numberHidden,t)||(l.dataModel.numberHidden=t),_(t)}),a(),v(7,"label",37),a()()()}if(r&2){let e=u();n(3),m(" ",e.fieldsInfo.numberHidden==null?null:e.fieldsInfo.numberHidden.fieldTitle," "),n(3),E("ngModel",e.dataModel.numberHidden)}}function Pn(r,s){if(r&1&&(o(0,"mat-error"),c(1),o(2,"strong"),c(3),f(4,"translate"),a()()),r&2){let e=u();n(),m(" ",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," is "),n(2),M(g(4,2,"MESSAGE.required"))}}function Nn(r,s){if(r&1&&(o(0,"mat-error"),c(1),o(2,"strong"),c(3),f(4,"translate"),a()()),r&2){let e=u();n(),m(" ",e.fieldsInfo.organization==null?null:e.fieldsInfo.organization.fieldTitle," is "),n(2),M(g(4,2,"MESSAGE.required"))}}function Bn(r,s){if(r&1&&(o(0,"mat-error"),c(1),o(2,"strong"),c(3),f(4,"translate"),a()()),r&2){let e=u();n(),m(" ",e.fieldsInfo.jobTitle==null?null:e.fieldsInfo.jobTitle.fieldTitle," is "),n(2),M(g(4,2,"MESSAGE.required"))}}function Fn(r,s){if(r&1){let e=T();o(0,"div",38)(1,"button",39),b("click",function(){h(e);let t=u();return _(t.onFormCancel())}),v(2,"i",40),c(3),f(4,"translate"),a(),o(5,"button",41),v(6,"i",42),c(7),f(8,"translate"),a()()}if(r&2){u();let e=A(10);n(3),m(" ",g(4,3,"ACTION.CANCEL")," "),n(2),d("disabled",!e.form.valid),n(2),m(" ",g(8,5,"ACTION.SAVE")," ")}}var Je=class Je extends kt{constructor(e,i,t,l,C,p,y,k,N){super(l,new ae,y,N);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.ContactContentService=l;this.contentCategoryService=C;this.cmsToastrService=p;this.publicHelper=y;this.cdr=k;this.translate=N;this.linkCategoryId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Q;this.dataModel=new ae;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.dataContentCategoryModel=[];this.publicHelper.processService.cdr=this.cdr,this.dataContentCategoryModel=[],e&&(this.linkCategoryId=e.linkCategoryId,this.dataContentCategoryModel.push(this.linkCategoryId)),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ContactContentService.ServiceAdd(this.dataModel).subscribe({next:i=>{if(this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess){this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd();for(let t=0;t<this.dataContentCategoryModel.length;t++){let l=new dt;l.linkCategoryId=this.dataContentCategoryModel[t],l.linkContentId=i.item.id,this.contentCategoryService.ServiceAdd(l).subscribe({next:C=>{C.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(p=>{this.formInfo.submitResultMessage=p,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(p=>{this.formInfo.submitResultMessage=p}),this.formInfo.submitResultMessage=C.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(C.errorMessage))},error:C=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(C)}})}this.dialogRef.close({dialogChangedDate:!0})}else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage);this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionCategorySelectChecked(e){if(!e||e.length==0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}}onActionCategorySelectDisChecked(e){if(!e||e.length==0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(e){if(!e||e.id?.length==0){this.translate.get("MESSAGE.Category_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}}};Je.\u0275fac=function(i){return new(i||Je)(S(me),S(pe),S(j),S(le),S(Ge),S(L),S(G),S(B),S(F))},Je.\u0275cmp=P({type:Je,selectors:[["app-contact-content-add"]],viewQuery:function(i,t){if(i&1&&J(wn,5),i&2){let l;X(l=Z())&&(t.formGroup=l.first)}},standalone:!1,features:[K],decls:71,vars:51,consts:[["vform","ngForm"],["Title",""],["FirstName",""],["LastName",""],["Numbers",""],["Email",""],["Organization",""],["JobTitle",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"optionModelChange","optionSelectChecked","optionSelectDisChecked","optionModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.firstName",1,"color-highlight"],["matInput","","type","text","name","dataModel.firstName","minlength","3","maxlength","100","id","dataModel.firstName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.lastName",1,"color-highlight"],["matInput","","type","text","name","dataModel.lastName","minlength","3","maxlength","100","id","dataModel.lastName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.numbers",1,"color-highlight"],["matInput","","name","dataModel.numbers","type","text","minlength","1","maxlength","5000","rows","5","id","dataModel.numbers",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.email",1,"color-highlight"],["matInput","","type","text","name","dataModel.email","minlength","3","maxlength","100","id","dataModel.email",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["matInput","","type","text","name","dataModel.organization","minlength","3","maxlength","100","id","dataModel.organization",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["matInput","","type","text","name","dataModel.jobTitle","minlength","3","maxlength","100","id","dataModel.jobTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.numberHidden",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.numberHidden","name","dataModel.numberHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.numberHidden",1,"custom-control-label"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=T();o(0,"div",8),v(1,"app-progress-spinner",9),o(2,"div",10)(3,"p",11),c(4),a(),o(5,"p"),c(6),f(7,"translate"),a(),v(8,"app-cms-form-result-message",12),o(9,"form",13,0),b("ngSubmit",function(){return h(l),_(t.onFormSubmit())}),o(11,"app-contact-category-treeselector",14),w("optionModelChange",function(p){return h(l),x(t.dataContentCategoryModel,p)||(t.dataContentCategoryModel=p),_(p)}),b("optionSelectChecked",function(p){return h(l),_(t.onActionCategorySelectChecked(p))})("optionSelectDisChecked",function(p){return h(l),_(t.onActionCategorySelectDisChecked(p))}),a(),o(12,"div",15)(13,"label",16),c(14),a(),o(15,"input",17,1),w("ngModelChange",function(p){return h(l),x(t.dataModel.title,p)||(t.dataModel.title=p),_(p)}),a(),o(17,"em"),c(18),a(),I(19,Rn,5,4,"mat-error",18),a(),o(20,"div",15)(21,"label",19),c(22),a(),o(23,"input",20,2),w("ngModelChange",function(p){return h(l),x(t.dataModel.firstName,p)||(t.dataModel.firstName=p),_(p)}),a(),o(25,"em"),c(26),a(),I(27,An,5,4,"mat-error",18),a(),o(28,"div",15)(29,"label",21),c(30),a(),o(31,"input",22,3),w("ngModelChange",function(p){return h(l),x(t.dataModel.lastName,p)||(t.dataModel.lastName=p),_(p)}),a(),o(33,"em"),c(34),a(),I(35,Dn,5,4,"mat-error",18),a(),o(36,"div",15)(37,"label",23),c(38),a(),o(39,"textarea",24,4),w("ngModelChange",function(p){return h(l),x(t.dataModel.numbers,p)||(t.dataModel.numbers=p),_(p)}),c(41,"        "),a(),o(42,"em"),c(43),a(),I(44,On,5,3,"mat-error",18),a(),I(45,kn,8,2,"div",25),o(46,"div",15)(47,"label",26),c(48),a(),o(49,"input",27,5),w("ngModelChange",function(p){return h(l),x(t.dataModel.email,p)||(t.dataModel.email=p),_(p)}),a(),o(51,"em"),c(52),a(),I(53,Pn,5,4,"mat-error",18),a(),o(54,"div",15)(55,"label",26),c(56),a(),o(57,"input",28,6),w("ngModelChange",function(p){return h(l),x(t.dataModel.organization,p)||(t.dataModel.organization=p),_(p)}),a(),o(59,"em"),c(60),a(),I(61,Nn,5,4,"mat-error",18),a(),o(62,"div",15)(63,"label",26),c(64),a(),o(65,"input",29,7),w("ngModelChange",function(p){return h(l),x(t.dataModel.jobTitle,p)||(t.dataModel.jobTitle=p),_(p)}),a(),o(67,"em"),c(68),a(),I(69,Bn,5,4,"mat-error",18),a(),I(70,Fn,9,7,"div",30),a()()()}if(i&2){let l=A(16),C=A(24),p=A(32),y=A(40),k=A(50),N=A(58),ne=A(66);n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),m(" ",t.formInfo.formTitle," "),n(2),m(" ",g(7,49,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("formInfo",t.formInfo),n(3),E("optionModel",t.dataContentCategoryModel),n(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),n(3),m("",l.value.length," / 100"),n(),d("ngIf",l.errors==null?null:l.errors.required),n(3),M(t.fieldsInfo.firstName==null?null:t.fieldsInfo.firstName.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.firstName==null?null:t.fieldsInfo.firstName.fieldTitle)),E("ngModel",t.dataModel.firstName),n(3),m("",C.value.length," / 100"),n(),d("ngIf",C.errors==null?null:C.errors.required),n(3),M(t.fieldsInfo.lastName==null?null:t.fieldsInfo.lastName.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.lastName==null?null:t.fieldsInfo.lastName.fieldTitle)),E("ngModel",t.dataModel.lastName),n(3),m("",p.value.length," / 100"),n(),d("ngIf",p.errors==null?null:p.errors.required),n(3),M(t.fieldsInfo.numbers==null?null:t.fieldsInfo.numbers.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.numbers==null?null:t.fieldsInfo.numbers.fieldTitle)),E("ngModel",t.dataModel.numbers),n(4),m("",y.value.length," / 5000"),n(),d("ngIf",y.errors==null?null:y.errors.required),n(),d("ngIf",t.fieldsInfo.numberHidden==null?null:t.fieldsInfo.numberHidden.accessWatchField),n(3),M(t.fieldsInfo.email==null?null:t.fieldsInfo.email.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.email==null?null:t.fieldsInfo.email.fieldTitle)),E("ngModel",t.dataModel.email),n(3),m("",k.value.length," / 100"),n(),d("ngIf",k.errors==null?null:k.errors.required),n(3),M(t.fieldsInfo.organization==null?null:t.fieldsInfo.organization.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.organization==null?null:t.fieldsInfo.organization.fieldTitle)),E("ngModel",t.dataModel.organization),n(3),m("",N.value.length," / 100"),n(),d("ngIf",N.errors==null?null:N.errors.required),n(3),M(t.fieldsInfo.jobTitle==null?null:t.fieldsInfo.jobTitle.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.jobTitle==null?null:t.fieldsInfo.jobTitle.fieldTitle)),E("ngModel",t.dataModel.jobTitle),n(3),m("",ne.value.length," / 100"),n(),d("ngIf",ne.errors==null?null:ne.errors.required),n(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[H,ye,$,Mt,U,be,ce,de,ee,ve,Te,te,q,we,Ke,V],encapsulation:2});var Xe=Je;var Vn=["vform"];function Ln(r,s){if(r&1&&(o(0,"mat-error"),c(1),o(2,"strong"),c(3),f(4,"translate"),a()()),r&2){let e=u();n(),m(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),n(2),M(g(4,2,"MESSAGE.required"))}}function Gn(r,s){if(r&1&&(o(0,"mat-error"),c(1),o(2,"strong"),c(3),f(4,"translate"),a()()),r&2){let e=u();n(),m(" ",e.fieldsInfo.firstName==null?null:e.fieldsInfo.firstName.fieldTitle," is "),n(2),M(g(4,2,"MESSAGE.required"))}}function Hn(r,s){if(r&1&&(o(0,"mat-error"),c(1),o(2,"strong"),c(3),f(4,"translate"),a()()),r&2){let e=u();n(),m(" ",e.fieldsInfo.lastName==null?null:e.fieldsInfo.lastName.fieldTitle," is "),n(2),M(g(4,2,"MESSAGE.required"))}}function Wn(r,s){r&1&&(o(0,"mat-error"),c(1," Numbers is "),o(2,"strong"),c(3),f(4,"translate"),a()()),r&2&&(n(3),M(g(4,1,"MESSAGE.required")))}function jn(r,s){if(r&1){let e=T();o(0,"div",31)(1,"div",32)(2,"h5",33),c(3),a()(),o(4,"div",34)(5,"div",35)(6,"input",36),w("ngModelChange",function(t){h(e);let l=u();return x(l.dataModel.numberHidden,t)||(l.dataModel.numberHidden=t),_(t)}),a(),v(7,"label",37),a()()()}if(r&2){let e=u();n(3),m(" ",e.fieldsInfo.numberHidden==null?null:e.fieldsInfo.numberHidden.fieldTitle," "),n(3),E("ngModel",e.dataModel.numberHidden)}}function qn(r,s){if(r&1&&(o(0,"mat-error"),c(1),o(2,"strong"),c(3),f(4,"translate"),a()()),r&2){let e=u();n(),m(" ",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," is "),n(2),M(g(4,2,"MESSAGE.required"))}}function zn(r,s){if(r&1&&(o(0,"mat-error"),c(1),o(2,"strong"),c(3),f(4,"translate"),a()()),r&2){let e=u();n(),m(" ",e.fieldsInfo.organization==null?null:e.fieldsInfo.organization.fieldTitle," is "),n(2),M(g(4,2,"MESSAGE.required"))}}function Un(r,s){if(r&1&&(o(0,"mat-error"),c(1),o(2,"strong"),c(3),f(4,"translate"),a()()),r&2){let e=u();n(),m(" ",e.fieldsInfo.jobTitle==null?null:e.fieldsInfo.jobTitle.fieldTitle," is "),n(2),M(g(4,2,"MESSAGE.required"))}}function Qn(r,s){if(r&1){let e=T();o(0,"div",38)(1,"button",39),b("click",function(){h(e);let t=u();return _(t.onFormCancel())}),v(2,"i",40),c(3),f(4,"translate"),a(),o(5,"button",41),v(6,"i",42),c(7),f(8,"translate"),a()()}if(r&2){u();let e=A(10);n(3),m(" ",g(4,3,"ACTION.CANCEL")," "),n(2),d("disabled",!e.form.valid),n(2),m(" ",g(8,5,"ACTION.SAVE")," ")}}var $e=class $e extends Nt{constructor(e,i,t,l,C,p,y,k,N){super(l,new ae,y,N);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.ContactContentService=l;this.contentCategoryService=C;this.cmsToastrService=p;this.publicHelper=y;this.cdr=k;this.translate=N;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new It;this.dataModel=new ae;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.dataContentCategoryModel=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){}ngOnInit(){this.DataGetOneContent(),this.DataCategoryGetAll()}DataGetOneContent(){if(this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ContactContentService.setAccessLoad(),this.ContactContentService.setAccessDataType(Le.Editor),this.ContactContentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataCategoryGetAll(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_category_information_from_the_server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_category_information_from_the_server").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)});let i=new Y,t=new se;t.propertyName="LinkContentId",t.value=this.requestId,t.clauseType=lt.And,i.filters.push(t),this.contentCategoryService.ServiceGetAll(i).subscribe({next:l=>{let C=[];l.listItems.forEach(p=>{C.push(p.linkCategoryId)}),this.dataContentCategoryModel=C,this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(e)},error:l=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetAll(l),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ContactContentService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionCategorySelectChecked(e){if(!e||e.length==0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=new dt;i.linkCategoryId=e,i.linkContentId=this.dataModel.id,this.contentCategoryService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionCategorySelectDisChecked(e){if(!e||e.length==0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=new dt;i.linkCategoryId=e,i.linkContentId=this.dataModel.id,this.contentCategoryService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(e){if(!e||e.id?.length==0){this.translate.get("MESSAGE.Category_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}}};$e.\u0275fac=function(i){return new(i||$e)(S(me),S(pe),S(j),S(le),S(Ge),S(L),S(G),S(B),S(F))},$e.\u0275cmp=P({type:$e,selectors:[["app-contact-content-edit"]],viewQuery:function(i,t){if(i&1&&J(Vn,5),i&2){let l;X(l=Z())&&(t.formGroup=l.first)}},standalone:!1,features:[K],decls:71,vars:51,consts:[["vform","ngForm"],["Title",""],["FirstName",""],["LastName",""],["Numbers",""],["Email",""],["Organization",""],["JobTitle",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"optionModelChange","optionSelectChecked","optionSelectDisChecked","optionModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.firstName",1,"color-highlight"],["matInput","","type","text","name","dataModel.firstName","minlength","3","maxlength","100","id","dataModel.firstName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.lastName",1,"color-highlight"],["matInput","","type","text","name","dataModel.lastName","minlength","3","maxlength","100","id","dataModel.lastName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.numbers",1,"color-highlight"],["matInput","","name","dataModel.numbers","type","text","minlength","1","maxlength","5000","rows","5","id","dataModel.numbers",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.email",1,"color-highlight"],["matInput","","type","text","name","dataModel.email","minlength","3","maxlength","100","id","dataModel.email",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["matInput","","type","text","name","dataModel.organization","minlength","3","maxlength","100","id","dataModel.organization",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["matInput","","type","text","name","dataModel.jobTitle","minlength","3","maxlength","100","id","dataModel.jobTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.numberHidden",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.numberHidden","name","dataModel.numberHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.numberHidden",1,"custom-control-label"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=T();o(0,"div",8),v(1,"app-progress-spinner",9),o(2,"div",10)(3,"p",11),c(4),a(),o(5,"p"),c(6),f(7,"translate"),a(),v(8,"app-cms-form-result-message",12),o(9,"form",13,0),b("ngSubmit",function(){return h(l),_(t.onFormSubmit())}),o(11,"app-contact-category-treeselector",14),w("optionModelChange",function(p){return h(l),x(t.dataContentCategoryModel,p)||(t.dataContentCategoryModel=p),_(p)}),b("optionSelectChecked",function(p){return h(l),_(t.onActionCategorySelectChecked(p))})("optionSelectDisChecked",function(p){return h(l),_(t.onActionCategorySelectDisChecked(p))}),a(),o(12,"div",15)(13,"label",16),c(14),a(),o(15,"input",17,1),w("ngModelChange",function(p){return h(l),x(t.dataModel.title,p)||(t.dataModel.title=p),_(p)}),a(),o(17,"em"),c(18),a(),I(19,Ln,5,4,"mat-error",18),a(),o(20,"div",15)(21,"label",19),c(22),a(),o(23,"input",20,2),w("ngModelChange",function(p){return h(l),x(t.dataModel.firstName,p)||(t.dataModel.firstName=p),_(p)}),a(),o(25,"em"),c(26),a(),I(27,Gn,5,4,"mat-error",18),a(),o(28,"div",15)(29,"label",21),c(30),a(),o(31,"input",22,3),w("ngModelChange",function(p){return h(l),x(t.dataModel.lastName,p)||(t.dataModel.lastName=p),_(p)}),a(),o(33,"em"),c(34),a(),I(35,Hn,5,4,"mat-error",18),a(),o(36,"div",15)(37,"label",23),c(38),a(),o(39,"textarea",24,4),w("ngModelChange",function(p){return h(l),x(t.dataModel.numbers,p)||(t.dataModel.numbers=p),_(p)}),c(41,"        "),a(),o(42,"em"),c(43),a(),I(44,Wn,5,3,"mat-error",18),a(),I(45,jn,8,2,"div",25),o(46,"div",15)(47,"label",26),c(48),a(),o(49,"input",27,5),w("ngModelChange",function(p){return h(l),x(t.dataModel.email,p)||(t.dataModel.email=p),_(p)}),a(),o(51,"em"),c(52),a(),I(53,qn,5,4,"mat-error",18),a(),o(54,"div",15)(55,"label",26),c(56),a(),o(57,"input",28,6),w("ngModelChange",function(p){return h(l),x(t.dataModel.organization,p)||(t.dataModel.organization=p),_(p)}),a(),o(59,"em"),c(60),a(),I(61,zn,5,4,"mat-error",18),a(),o(62,"div",15)(63,"label",26),c(64),a(),o(65,"input",29,7),w("ngModelChange",function(p){return h(l),x(t.dataModel.jobTitle,p)||(t.dataModel.jobTitle=p),_(p)}),a(),o(67,"em"),c(68),a(),I(69,Un,5,4,"mat-error",18),a(),I(70,Qn,9,7,"div",30),a()()()}if(i&2){let l=A(16),C=A(24),p=A(32),y=A(40),k=A(50),N=A(58),ne=A(66);n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),m(" ",t.formInfo.formTitle," "),n(2),m(" ",g(7,49,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("formInfo",t.formInfo),n(3),E("optionModel",t.dataContentCategoryModel),n(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),n(3),m("",l.value.length," / 100"),n(),d("ngIf",l.errors==null?null:l.errors.required),n(3),M(t.fieldsInfo.firstName==null?null:t.fieldsInfo.firstName.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.firstName==null?null:t.fieldsInfo.firstName.fieldTitle)),E("ngModel",t.dataModel.firstName),n(3),m("",C.value.length," / 100"),n(),d("ngIf",C.errors==null?null:C.errors.required),n(3),M(t.fieldsInfo.lastName==null?null:t.fieldsInfo.lastName.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.lastName==null?null:t.fieldsInfo.lastName.fieldTitle)),E("ngModel",t.dataModel.lastName),n(3),m("",p.value.length," / 100"),n(),d("ngIf",p.errors==null?null:p.errors.required),n(3),M(t.fieldsInfo.numbers==null?null:t.fieldsInfo.numbers.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.numbers==null?null:t.fieldsInfo.numbers.fieldTitle)),E("ngModel",t.dataModel.numbers),n(4),m("",y.value.length," / 5000"),n(),d("ngIf",y.errors==null?null:y.errors.required),n(),d("ngIf",t.fieldsInfo.numberHidden==null?null:t.fieldsInfo.numberHidden.accessWatchField),n(3),M(t.fieldsInfo.email==null?null:t.fieldsInfo.email.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.email==null?null:t.fieldsInfo.email.fieldTitle)),E("ngModel",t.dataModel.email),n(3),m("",k.value.length," / 100"),n(),d("ngIf",k.errors==null?null:k.errors.required),n(3),M(t.fieldsInfo.organization==null?null:t.fieldsInfo.organization.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.organization==null?null:t.fieldsInfo.organization.fieldTitle)),E("ngModel",t.dataModel.organization),n(3),m("",N.value.length," / 100"),n(),d("ngIf",N.errors==null?null:N.errors.required),n(3),M(t.fieldsInfo.jobTitle==null?null:t.fieldsInfo.jobTitle.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.jobTitle==null?null:t.fieldsInfo.jobTitle.fieldTitle)),E("ngModel",t.dataModel.jobTitle),n(3),m("",ne.value.length," / 100"),n(),d("ngIf",ne.errors==null?null:ne.errors.required),n(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[H,ye,$,Mt,U,be,ce,de,ee,ve,Te,te,q,we,Ke,V],encapsulation:2});var et=$e;var Kn=["*"];function Jn(r,s){if(r&1&&(o(0,"label",14),c(1),a()),r&2){let e=u();d("for",Ut("app-cms-site-selector-",e.id)),n(),M(e.optionLabel)}}function Xn(r,s){if(r&1&&(v(0,"img",15),f(1,"cmsthumbnail")),r&2){let e=u();d("src",R(g(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),ge)}}function Zn(r,s){if(r&1&&(v(0,"img",15),f(1,"cmsthumbnail")),r&2){let e=u().$implicit;d("src",R(g(1,2,e.linkMainImageIdSrc)),ge)}}function $n(r,s){if(r&1&&(o(0,"mat-option",16),I(1,Zn,2,4,"img",5),o(2,"span"),c(3),a()()),r&2){let e=s.$implicit,i=u();d("value",e)("disabled",i.optionDisabled),n(),d("ngIf",e.linkMainImageIdSrc),n(2),M(i.displayOption(e))}}function eo(r,s){r&1&&v(0,"i",17)}function to(r,s){r&1&&v(0,"i",18)}function io(r,s){if(r&1){let e=T();o(0,"i",19),b("click",function(){h(e);let t=u();return _(t.onActionSelectClear())}),a()}}function no(r,s){r&1&&(o(0,"em"),c(1),f(2,"translate"),a()),r&2&&(n(),m("(",g(2,1,"TITLE.Necessary"),")"))}var Ae=class Ae{constructor(s,e,i,t,l,C){this.coreEnumService=s;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=l;this.categoryService=C;this.id=++Ae.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Q;this.dataModelSelect=new W;this.formControl=new vi;this.optionPlaceholder="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionLabel="";this.optionChange=new Me;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(oi(""),ii(1500),ni(),ri(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return oe(this,null,function*(){let e=new Y;e.rowPerPage=20,e.accessLoad=!0;let i=new se;i.propertyName="title",i.value=s,i.searchType=Yt.Contains,i.clauseType=lt.Or,e.filters.push(i),s&&typeof+s=="number"&&+s>0&&(i=new se,i.propertyName="id",i.value=s,i.searchType=Yt.Equal,i.clauseType=lt.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield gt(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length==0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(s){return this.filteredOptions.pipe(ti(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="string"&&s.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===s)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===s)){let e=this.dataModelResult.listItems.find(i=>i.id===s);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(s).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof s==typeof W){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new W,this.loadOptions()}};Ae.nextId=0,Ae.\u0275fac=function(e){return new(e||Ae)(S(j),S(L),S(B),S(G),S(F),S(z))},Ae.\u0275cmp=P({type:Ae,selectors:[["app-contact-category-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Kn,decls:18,vars:25,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=T();ai(),o(0,"div",1),v(1,"app-progress-spinner",2),I(2,Jn,2,3,"label",3),o(3,"span",4),I(4,Xn,2,4,"img",5),c(5," \xA0"),a(),v(6,"input",6),o(7,"mat-autocomplete",7,0),b("optionSelected",function(C){return h(t),_(i.onActionSelect(C.option.value))}),I(9,$n,4,4,"mat-option",8),f(10,"async"),a(),I(11,eo,1,0,"i",9)(12,to,1,0,"i",10)(13,io,1,0,"i",11),o(14,"i",12),f(15,"translate"),b("click",function(){return h(t),_(i.onActionButtonReload())}),a(),I(16,no,3,3,"em",13),si(17),a()}if(e&2){let t=A(8);n(),d("optionsInfoAreaId",i.constructorInfoAreaId),n(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),n(2),d("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),n(2),d("placeholder",R(i.optionPlaceholder))("id",Ut("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Ce("disabled",i.optionDisabled?!0:null),n(),d("displayWith",i.displayFn),n(2),d("ngForOf",g(10,21,i.filteredOptions)),n(2),d("ngIf",!i.formControl.valid),n(),d("ngIf",i.optionRequired&&i.formControl.valid),n(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),n(),re("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),d("title",R(g(15,23,"ACTION.RELOAD"))),n(2),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0))}},dependencies:[_t,H,$,U,bt,yi,Ai,vt,Di,wi,te,q,St,V,ze],encapsulation:2});var De=Ae;var ao=["fileInput"];function so(r,s){if(r&1){let e=T();o(0,"div",15)(1,"div")(2,"p",16),c(3),a(),o(4,"span",17),c(5),f(6,"translate"),a()(),o(7,"button",18),b("click",function(){h(e);let t=u();return _(t.onRemoveFile())}),c(8),f(9,"translate"),a()()}if(r&2){let e=u();n(3),M(e.selectedFile.name),n(2),st(" ",g(6,5,"CONTACT.IMPORT.FILE_SIZE"),": ",e.formatFileSize(e.selectedFile)," "),n(2),d("disabled",e.isPreviewLoading),n(),m(" ",g(9,7,"CONTACT.IMPORT.CLEAR_BUTTON")," ")}}function lo(r,s){r&1&&v(0,"mat-progress-bar",19)}function co(r,s){if(r&1&&(o(0,"p",20),c(1),a()),r&2){let e=u();n(),m(" ",e.lastPreviewError," ")}}function po(r,s){if(r&1&&(o(0,"mat-chip",38),c(1),a()),r&2){let e=s.$implicit;n(),m(" ",e," ")}}function mo(r,s){if(r&1&&(o(0,"div",36)(1,"label"),c(2),f(3,"translate"),a(),o(4,"mat-chip-set"),I(5,po,2,1,"mat-chip",37),a()()),r&2){let e=u(2);n(2),M(g(3,3,"CONTACT.IMPORT.SOURCE_HEADERS_TITLE")),n(3),d("ngForOf",e.sourceHeaders)("ngForTrackBy",e.trackByHeader)}}function uo(r,s){r&1&&(o(0,"span",46),c(1),f(2,"translate"),a()),r&2&&(n(),m(" ",g(2,1,"CONTACT.IMPORT.REQUIRED_BADGE")," "))}function fo(r,s){if(r&1&&(o(0,"mat-option",47),c(1),a()),r&2){let e=s.$implicit;d("value",e),n(),m(" ",e," ")}}function go(r,s){if(r&1){let e=T();o(0,"div",39)(1,"div",40)(2,"div")(3,"p"),c(4),a(),o(5,"small"),c(6),a()(),I(7,uo,3,3,"span",41),a(),o(8,"mat-form-field",42)(9,"mat-label"),c(10),f(11,"translate"),a(),o(12,"mat-select",43),w("ngModelChange",function(t){let l=h(e).$implicit,C=u(2);return x(C.mappingSelections[l.key],t)||(C.mappingSelections[l.key]=t),_(t)}),b("selectionChange",function(){h(e);let t=u(2);return _(t.onMappingChange())}),o(13,"mat-option",44),c(14),f(15,"translate"),a(),I(16,fo,2,2,"mat-option",45),a()()()}if(r&2){let e=s.$implicit,i=u(2);n(4),M(e.title||e.key),n(2),M(e.key),n(),d("ngIf",e.required),n(3),m(" ",g(11,8,"CONTACT.IMPORT.SELECT_SOURCE_HEADER_LABEL")," "),n(2),E("ngModel",i.mappingSelections[e.key]),n(2),m(" ",g(15,10,"CONTACT.IMPORT.OPTION_SKIP")," "),n(2),d("ngForOf",i.sourceHeaders)("ngForTrackBy",i.trackByHeader)}}function Co(r,s){r&1&&(o(0,"p",20),c(1),f(2,"translate"),a()),r&2&&(n(),m(" ",g(2,1,"CONTACT.IMPORT.MISSING_REQUIRED")," "))}function ho(r,s){r&1&&v(0,"mat-progress-spinner",48),r&2&&d("diameter",18)("strokeWidth",3)}function _o(r,s){if(r&1&&(o(0,"p",20),c(1),a()),r&2){let e=u(2);n(),m(" ",e.lastApplyError," ")}}function So(r,s){r&1&&(o(0,"span",61),c(1," * "),a())}function Io(r,s){if(r&1&&(o(0,"mat-option",59),c(1),I(2,So,2,0,"span",60),a()),r&2){let e=s.$implicit,i=u().$implicit,t=u(3);d("value",e.key)("disabled",t.isDestinationUsed(e.key,i)),n(),m(" ",e.title||e.key," "),n(),d("ngIf",e.required)}}function Mo(r,s){if(r&1){let e=T();o(0,"div",53)(1,"div",54)(2,"span",55),c(3),a(),o(4,"mat-form-field",56)(5,"mat-label"),c(6),f(7,"translate"),a(),o(8,"mat-select",57),b("selectionChange",function(t){let l=h(e).$implicit,C=u(3);return _(C.onSourceHeaderMappingChange(l,t.value))}),o(9,"mat-option",44),c(10),f(11,"translate"),a(),I(12,Io,3,4,"mat-option",58),a()()()()}if(r&2){let e=s.$implicit,i=u(3);n(3),M(e),n(3),m(" ",g(7,6,"CONTACT.IMPORT.SELECT_DESTINATION_LABEL")," "),n(2),d("value",i.getDestinationForSource(e)),n(2),m(" ",g(11,8,"CONTACT.IMPORT.OPTION_SKIP")," "),n(2),d("ngForOf",i.destinationHeaders)("ngForTrackBy",i.trackByDestination)}}function bo(r,s){if(r&1&&(o(0,"div",64),c(1),a()),r&2){let e=s.$implicit,i=u().$implicit;n(),m(" ",i[e]||"-"," ")}}function vo(r,s){if(r&1&&(o(0,"div",62),I(1,bo,2,1,"div",63),a()),r&2){let e=u(3);n(),d("ngForOf",e.sourceHeaders)("ngForTrackBy",e.trackByHeader)}}function yo(r,s){if(r&1&&(o(0,"div")(1,"div",49)(2,"div",50),I(3,Mo,13,10,"div",51),a(),I(4,vo,2,2,"div",52),a()()),r&2){let e=u(2);n(),li("--columns-count",e.sourceHeaders.length),n(2),d("ngForOf",e.sourceHeaders)("ngForTrackBy",e.trackByHeader),n(),d("ngForOf",e.sampleRows)}}function To(r,s){r&1&&(o(0,"p",65),c(1),f(2,"translate"),a()),r&2&&(n(),m(" ",g(2,1,"CONTACT.IMPORT.NO_SAMPLE_ROWS")," "))}function Eo(r,s){if(r&1&&(o(0,"mat-card",66)(1,"mat-card-header")(2,"mat-card-title"),c(3),f(4,"translate"),a()(),o(5,"mat-card-content")(6,"div",67)(7,"div")(8,"span"),c(9),f(10,"translate"),a(),o(11,"strong"),c(12),a()(),o(13,"div")(14,"span"),c(15),f(16,"translate"),a(),o(17,"strong"),c(18),a()()(),o(19,"p",65),c(20),f(21,"translate"),a()()()),r&2){let e=u(2);n(3),m(" ",g(4,6,"CONTACT.IMPORT.RESULT_TITLE")," "),n(6),M(g(10,8,"CONTACT.IMPORT.RESULT_IMPORTED")),n(3),M(e.applyResult==null?null:e.applyResult.importedCount),n(3),M(g(16,10,"CONTACT.IMPORT.RESULT_SKIPPED")),n(3),M(e.applyResult==null?null:e.applyResult.skippedCount),n(2),m(" ",g(21,12,"CONTACT.IMPORT.RESULT_NO_ERRORS")," ")}}function xo(r,s){if(r&1){let e=T();D(0),o(1,"mat-card",21)(2,"mat-card-header")(3,"mat-card-title"),c(4),f(5,"translate"),a(),o(6,"mat-card-subtitle"),c(7),f(8,"translate"),a()(),o(9,"mat-card-content")(10,"div",22)(11,"div",23)(12,"span"),c(13),f(14,"translate"),a(),o(15,"strong"),c(16),a()(),o(17,"div",23)(18,"span"),c(19),f(20,"translate"),a(),o(21,"strong"),c(22),f(23,"translate"),a()(),o(24,"div",23)(25,"span"),c(26),f(27,"translate"),a(),o(28,"strong"),c(29),f(30,"number"),a()(),o(31,"div",23)(32,"span"),c(33),f(34,"translate"),a(),o(35,"strong"),c(36),a()()(),I(37,mo,6,5,"div",24),a()(),o(38,"mat-card",25)(39,"mat-card-header")(40,"mat-card-title"),c(41),f(42,"translate"),a(),o(43,"mat-card-subtitle"),c(44),f(45,"translate"),a()(),o(46,"mat-card-content"),v(47,"br"),o(48,"app-contact-category-selector",26),f(49,"translate"),b("optionChange",function(t){h(e);let l=u();return _(l.modelCategory=t)}),a(),v(50,"br"),o(51,"div",27),I(52,go,17,12,"div",28),a(),I(53,Co,3,3,"p",13),o(54,"div",29)(55,"button",30),b("click",function(){h(e);let t=u();return _(t.onResetImport())}),c(56),f(57,"translate"),a(),o(58,"button",31),b("click",function(){h(e);let t=u();return _(t.onApplyImport())}),I(59,ho,1,2,"mat-progress-spinner",32),o(60,"span"),c(61),f(62,"translate"),a()()(),I(63,_o,2,1,"p",13),a()(),o(64,"mat-card",33)(65,"mat-card-header")(66,"mat-card-title"),c(67),f(68,"translate"),a()(),o(69,"mat-card-content"),I(70,yo,5,5,"div",34)(71,To,3,3,"ng-template",null,1,pi),a()(),I(73,Eo,22,14,"mat-card",35),O()}if(r&2){let e=A(72),i=u();n(4),m(" ",g(5,28,"CONTACT.IMPORT.PREVIEW_SUMMARY_TITLE")," "),n(3),m(" ",g(8,30,"CONTACT.IMPORT.PREVIEW_SUMMARY_SUBTITLE")," "),n(6),M(g(14,32,"CONTACT.IMPORT.SESSION_LABEL")),n(3),M(i.previewResponse==null?null:i.previewResponse.sessionId),n(3),M(g(20,34,"CONTACT.IMPORT.FILE_TYPE_LABEL")),n(3),M(g(23,36,i.fileTypeTranslationMap[(i.previewResponse==null?null:i.previewResponse.fileType)||0])),n(4),M(g(27,38,"CONTACT.IMPORT.ROW_COUNT")),n(3),M(g(30,40,i.previewResponse==null?null:i.previewResponse.rowCount)),n(4),M(g(34,42,"CONTACT.IMPORT.HEADERS_FOUND")),n(3),M(i.sourceHeaders.length),n(),d("ngIf",i.sourceHeaders.length),n(4),m(" ",g(42,44,"CONTACT.IMPORT.MAPPING_TITLE")," "),n(3),m(" ",g(45,46,"CONTACT.IMPORT.MAPPING_SUBTITLE")," "),n(4),d("optionSelectFirstItem",!0)("optionRequired",!0)("optionLabel",g(49,48,"TITLE.Category")),n(4),d("ngForOf",i.destinationHeaders),n(),d("ngIf",i.missingRequiredHeaders.length),n(2),d("disabled",i.isPreviewLoading||!i.selectedFile),n(),m(" ",g(57,50,"CONTACT.IMPORT.RESET_BUTTON")," "),n(2),d("disabled",i.isApplyDisabled),n(),d("ngIf",i.isApplyLoading),n(2),M(g(62,52,"CONTACT.IMPORT.APPLY_BUTTON")),n(2),d("ngIf",i.lastApplyError),n(4),m(" ",g(68,54,"CONTACT.IMPORT.SAMPLE_ROWS_TITLE")," "),n(3),d("ngIf",i.sampleRows==null?null:i.sampleRows.length)("ngIfElse",e),n(3),d("ngIf",i.applyResult)}}var tt=class tt extends Bt{constructor(e,i,t,l,C,p,y,k){super(e,new ae,k,l,p);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.tokenHelper=l;this.cdr=C;this.translate=p;this.pageInfo=y;this.publicHelper=k;this.constructorInfoAreaId=this.constructor.name;this.fileAccept=".csv,.xls,.xlsx,.vcf";this.allowedExtensions=[".csv",".xls",".xlsx",".vcf"];this.previewProcessKey=`${this.constructor.name}_preview`;this.applyProcessKey=`${this.constructor.name}_apply`;this.sourceHeaders=[];this.destinationHeaders=[];this.sampleRows=[];this.mappingSelections={};this.sourceToDestinationMapping={};this.isPreviewLoading=!1;this.isApplyLoading=!1;this.lastPreviewError="";this.lastApplyError="";this.fileTypeTranslationMap={[He.Unknown]:"CONTACT.IMPORT.FILE_TYPE.UNKNOWN",[He.GoogleCsv]:"CONTACT.IMPORT.FILE_TYPE.GOOGLE",[He.OutlookCsv]:"CONTACT.IMPORT.FILE_TYPE.OUTLOOK",[He.VCard]:"CONTACT.IMPORT.FILE_TYPE.VCARD",[He.Excel]:"CONTACT.IMPORT.FILE_TYPE.EXCEL"};this.modelCategory=new W;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.translate.get(["CONTACT.IMPORT.PAGE_TITLE","CONTACT.IMPORT.PAGE_DESCRIPTION"]).subscribe(e=>{this.pageInfo.updateTitle(e["CONTACT.IMPORT.PAGE_TITLE"]),this.pageInfo.updateDescription(e["CONTACT.IMPORT.PAGE_DESCRIPTION"])})}ngOnDestroy(){this.publicHelper.processService.processStop(this.previewProcessKey),this.publicHelper.processService.processStop(this.applyProcessKey)}get missingRequiredHeaders(){return this.destinationHeaders?.length?this.destinationHeaders.filter(e=>e.required&&!this.mappingSelections[e.key]):[]}get isApplyDisabled(){return!this.previewResponse||!this.selectedFile||this.isApplyLoading||this.missingRequiredHeaders.length>0}onFileSelected(e){let t=e.target?.files?.[0];if(t){if(!this.isExtensionAllowed(t)){this.translate.get("CONTACT.IMPORT.ERROR_UNSUPPORTED_FILE").subscribe(l=>{this.cmsToastrService.typeErrorMessage(l),this.lastPreviewError=l}),this.clearFileSelection();return}this.selectedFile=t,this.lastPreviewError="",this.lastApplyError="",this.applyResult=void 0,this.requestPreview(t)}}onRemoveFile(){this.clearFileSelection()}onResetImport(){!this.selectedFile||this.isPreviewLoading||(this.applyResult=void 0,this.lastApplyError="",this.requestPreview(this.selectedFile))}onMappingChange(){this.lastApplyError="",this.updateSourceToDestinationMapping(),this.cdr.detectChanges()}onSourceHeaderMappingChange(e,i){let t=this.sourceToDestinationMapping[e];t&&t!==i&&(this.mappingSelections[t]="");let l=Object.keys(this.sourceToDestinationMapping).find(C=>this.sourceToDestinationMapping[C]===i);l&&l!==e&&delete this.sourceToDestinationMapping[l],i&&i.trim()!==""?(this.sourceToDestinationMapping[e]=i,this.mappingSelections[i]=e):(delete this.sourceToDestinationMapping[e],t&&(this.mappingSelections[t]="")),this.onMappingChange()}updateSourceToDestinationMapping(){this.sourceToDestinationMapping={},Object.entries(this.mappingSelections).forEach(([e,i])=>{i&&i.trim()!==""&&(this.sourceToDestinationMapping[i]=e)})}isDestinationUsed(e,i){return!e||e.trim()===""?!1:Object.entries(this.sourceToDestinationMapping).some(([t,l])=>t!==i&&l===e)}getDestinationForSource(e){return this.sourceToDestinationMapping[e]||""}get mappedColumns(){return Object.entries(this.sourceToDestinationMapping).map(([e,i])=>{let t=this.destinationHeaders.find(l=>l.key===i);return t?{sourceHeader:e,destination:t}:null}).filter(e=>e!==null)}onApplyImport(){return oe(this,null,function*(){if(this.isApplyDisabled)return;if(!this.modelCategory?.id){this.translate.get("MESSAGE.Category_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorMessage(t)});return}if(!(yield this.askForConfirmation()))return;this.lastApplyError="",this.applyResult=void 0,this.isApplyLoading=!0;let i=this.buildApplyModel();i.linkCategoryId=this.modelCategory.id,this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(this.applyProcessKey,t,this.constructorInfoAreaId)}),Array.isArray(i.mappings)&&(i.mappings=i.mappings.filter(t=>!!t.sourceHeader&&t.sourceHeader.trim()!=="")),this.contentService.ServiceImportApply(i).subscribe({next:t=>{this.isApplyLoading=!1,this.publicHelper.processService.processStop(this.applyProcessKey),t.isSuccess?(this.applyResult=t.item,this.translate.get("CONTACT.IMPORT.APPLY_SUCCESS").subscribe(l=>{this.cmsToastrService.typeSuccessMessage(l)})):(this.lastApplyError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.cdr.detectChanges()},error:t=>{this.isApplyLoading=!1,this.publicHelper.processService.processStop(this.applyProcessKey,!1),this.lastApplyError=t,this.cmsToastrService.typeError(t)}})})}formatFileSize(e){if(!e)return"";let i=e.size;if(i<1024)return`${i} B`;let t=i/1024;if(t<1024)return`${t.toFixed(1)} KB`;let l=t/1024;return l<1024?`${l.toFixed(1)} MB`:`${(l/1024).toFixed(1)} GB`}trackByHeader(e,i){return i}trackByMappedColumn(e,i){return i.sourceHeader}trackByDestination(e,i){return i.key}requestPreview(e){this.isPreviewLoading=!0,this.previewResponse=void 0,this.sourceHeaders=[],this.destinationHeaders=[],this.sampleRows=[],this.mappingSelections={},this.applyResult=void 0,this.lastPreviewError="",this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(this.previewProcessKey,i,this.constructorInfoAreaId)}),this.contentService.ServiceImportPreview(e).subscribe({next:i=>{this.isPreviewLoading=!1,this.publicHelper.processService.processStop(this.previewProcessKey),i.isSuccess?(this.previewResponse=i.item,this.sourceHeaders=i.item?.sourceHeaders??[],this.destinationHeaders=i.item?.destinationHeaders??[],this.sampleRows=i.item?.sampleRows??[],this.initializeMappings(),this.translate.get("CONTACT.IMPORT.PREVIEW_READY").subscribe(t=>{this.cmsToastrService.typeSuccessMessage(t)})):(this.lastPreviewError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.cdr.detectChanges()},error:i=>{this.isPreviewLoading=!1,this.publicHelper.processService.processStop(this.previewProcessKey,!1),this.lastPreviewError=i,this.cmsToastrService.typeError(i)}})}initializeMappings(){this.mappingSelections={},this.sourceToDestinationMapping={},this.destinationHeaders?.length&&this.destinationHeaders.forEach(e=>{let i=this.findAutoMatch(e);i?(this.mappingSelections[e.key]=i,this.sourceToDestinationMapping[i]=e.key):this.mappingSelections[e.key]=""})}findAutoMatch(e){if(!e||!this.sourceHeaders?.length)return;let i=[e.title,e.key].filter(t=>!!t).map(t=>t.toLowerCase());return this.sourceHeaders.find(t=>i.includes(t.toLowerCase()))}buildApplyModel(){let e=new Mi;return e.sessionId=this.previewResponse?.sessionId??"",e.mappings=this.destinationHeaders.map(i=>{let t=new bi;return t.destinationKey=i.key,t.sourceHeader=this.mappingSelections[i.key]??"",t}),e}clearFileSelection(){this.selectedFile=void 0,this.previewResponse=void 0,this.sourceHeaders=[],this.destinationHeaders=[],this.sampleRows=[],this.mappingSelections={},this.sourceToDestinationMapping={},this.applyResult=void 0,this.lastPreviewError="",this.lastApplyError="",this.fileInput?.nativeElement&&(this.fileInput.nativeElement.value=""),this.cdr.detectChanges()}isExtensionAllowed(e){let i=e.name.substring(e.name.lastIndexOf(".")).toLowerCase();return this.allowedExtensions.includes(i)}askForConfirmation(){return oe(this,null,function*(){let e=yield gt(this.translate.get(["CONTACT.IMPORT.CONFIRM_APPLY_TITLE","CONTACT.IMPORT.CONFIRM_APPLY_MESSAGE"]));return this.cmsConfirmationDialogService.confirm(e["CONTACT.IMPORT.CONFIRM_APPLY_TITLE"],e["CONTACT.IMPORT.CONFIRM_APPLY_MESSAGE"]+`<br><br><b>\u062F\u0631 \u062F\u0633\u062A\u0647 \u0628\u0646\u062F\u06CC  ${this.modelCategory?.title}</b>`)})}};tt.\u0275fac=function(i){return new(i||tt)(S(le),S(L),S(Ue),S(xe),S(B),S(F),S(Ot),S(G))},tt.\u0275cmp=P({type:tt,selectors:[["app-contact-content-import"]],viewQuery:function(i,t){if(i&1&&J(ao,5),i&2){let l;X(l=Z())&&(t.fileInput=l.first)}},standalone:!1,features:[K],decls:45,vars:43,consts:[["fileInput",""],["noSampleRows",""],[1,"contact-import"],[1,"import-card"],["mat-card-avatar","",1,"import-card__icon"],[1,"section-label"],[1,"section-hint"],[1,"upload-area"],["type","file",1,"upload-input",3,"change","accept","disabled"],[1,"upload-copy"],["class","selected-file",4,"ngIf"],[1,"supported-list"],["mode","indeterminate",4,"ngIf"],["class","error-panel",4,"ngIf"],[4,"ngIf"],[1,"selected-file"],[1,"selected-file__name"],[1,"selected-file__meta"],["mat-stroked-button","","color","warn","type","button",3,"click","disabled"],["mode","indeterminate"],[1,"error-panel"],[1,"preview-card"],[1,"preview-grid"],[1,"preview-grid__item"],["class","chip-groups",4,"ngIf"],[1,"mapping-card"],[3,"optionChange","optionSelectFirstItem","optionRequired","optionLabel"],[1,"mapping-grid"],["class","mapping-row",4,"ngFor","ngForOf"],[1,"action-bar"],["mat-stroked-button","","type","button","color","primary",3,"click","disabled"],["mat-flat-button","","type","button","color","accent",1,"apply-button",3,"click","disabled"],["mode","indeterminate",3,"diameter","strokeWidth",4,"ngIf"],[1,"sample-card"],[4,"ngIf","ngIfElse"],["class","result-card",4,"ngIf"],[1,"chip-groups"],["color","primary","selected","",4,"ngFor","ngForOf","ngForTrackBy"],["color","primary","selected",""],[1,"mapping-row"],[1,"mapping-row__header"],["class","required-badge",4,"ngIf"],["appearance","outline"],[3,"ngModelChange","selectionChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"required-badge"],[3,"value"],["mode","indeterminate",3,"diameter","strokeWidth"],[1,"sample-table"],[1,"sample-table__row","sample-table__row--head"],["class","sample-table__header-cell",4,"ngFor","ngForOf","ngForTrackBy"],["class","sample-table__row",4,"ngFor","ngForOf"],[1,"sample-table__header-cell"],[1,"header-cell-content"],[1,"header-name"],["appearance","outline",1,"header-mapping-dropdown"],[3,"selectionChange","value"],[3,"value","disabled",4,"ngFor","ngForOf","ngForTrackBy"],[3,"value","disabled"],["class","required-indicator",4,"ngIf"],[1,"required-indicator"],[1,"sample-table__row"],["class","sample-table__cell",4,"ngFor","ngForOf","ngForTrackBy"],[1,"sample-table__cell"],[1,"muted"],[1,"result-card"],[1,"result-stats"]],template:function(i,t){if(i&1){let l=T();o(0,"div",2)(1,"mat-card",3)(2,"mat-card-header")(3,"div",4)(4,"mat-icon"),c(5,"import_contacts"),a()(),o(6,"mat-card-title"),c(7),f(8,"translate"),a(),o(9,"mat-card-subtitle"),c(10),f(11,"translate"),a()(),o(12,"mat-card-content")(13,"h3",5),c(14),f(15,"translate"),a(),o(16,"p",6),c(17),f(18,"translate"),a(),o(19,"div",7)(20,"input",8,0),b("change",function(p){return h(l),_(t.onFileSelected(p))}),a(),o(22,"div",9)(23,"mat-icon"),c(24,"cloud_upload"),a(),o(25,"p"),c(26),f(27,"translate"),a(),o(28,"small"),c(29),f(30,"translate"),a()()(),I(31,so,10,9,"div",10),o(32,"div",11)(33,"strong"),c(34),f(35,"translate"),a(),o(36,"span"),c(37),f(38,"translate"),f(39,"translate"),f(40,"translate"),f(41,"translate"),a()(),I(42,lo,1,0,"mat-progress-bar",12)(43,co,2,1,"p",13),a()(),I(44,xo,74,56,"ng-container",14),a()}i&2&&(n(7),M(g(8,21,"CONTACT.IMPORT.PAGE_TITLE")),n(3),m(" ",g(11,23,"CONTACT.IMPORT.PAGE_DESCRIPTION")," "),n(4),m(" ",g(15,25,"CONTACT.IMPORT.UPLOAD_TITLE")," "),n(3),m(" ",g(18,27,"CONTACT.IMPORT.UPLOAD_DESCRIPTION")," "),n(2),re("upload-area--active",!!t.selectedFile)("upload-area--loading",t.isPreviewLoading),n(),d("accept",t.fileAccept)("disabled",t.isPreviewLoading),n(6),M(g(27,29,"CONTACT.IMPORT.UPLOAD_PLACEHOLDER")),n(3),M(g(30,31,"CONTACT.IMPORT.SUPPORTED_FORMATS_HINT")),n(2),d("ngIf",t.selectedFile),n(3),m("",g(35,33,"CONTACT.IMPORT.SUPPORTED_FORMATS"),":"),n(3),ci(" ",g(38,35,"CONTACT.IMPORT.FILE_TYPE.GOOGLE")," \xB7 ",g(39,37,"CONTACT.IMPORT.FILE_TYPE.OUTLOOK")," \xB7 ",g(40,39,"CONTACT.IMPORT.FILE_TYPE.VCARD")," \xB7 ",g(41,41,"CONTACT.IMPORT.FILE_TYPE.EXCEL")," "),n(5),d("ngIf",t.isPreviewLoading),n(),d("ngIf",t.lastPreviewError),n(),d("ngIf",t.previewResponse))},dependencies:[_t,H,U,ee,vt,Oi,Pi,Li,Bi,Vi,Fi,Ni,Gi,Hi,Ri,xi,Ee,Ui,Qi,qi,De,mi,V],styles:["[_nghost-%COMP%]{display:block;width:100%}.contact-import[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px;padding:24px 12px 48px}@media (min-width: 992px){.contact-import[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:32px 0 64px}}.import-card__icon[_ngcontent-%COMP%]{background:#e5f2ff;color:#0057c2;display:flex;align-items:center;justify-content:center}.section-label[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:600;color:#1a1a27}.section-hint[_ngcontent-%COMP%]{margin:4px 0 16px;color:#5e6278}.upload-area[_ngcontent-%COMP%]{border:1px dashed #c3c8d4;border-radius:16px;padding:32px 16px;text-align:center;background:#f8f9fb;position:relative;transition:border-color .2s ease,background .2s ease}.upload-area--active[_ngcontent-%COMP%]{border-color:#009ef7;background:#f0f9ff}.upload-area--loading[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.upload-input[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;opacity:0;cursor:pointer}.upload-copy[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;color:#3f4254}.upload-copy[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;height:48px;width:48px;color:#009ef7}.selected-file[_ngcontent-%COMP%]{margin-top:16px;padding:16px 20px;border-radius:12px;background:#f5f8fa;display:flex;justify-content:space-between;gap:16px;flex-wrap:wrap}.selected-file__name[_ngcontent-%COMP%]{margin:0;font-weight:600}.selected-file__meta[_ngcontent-%COMP%]{font-size:.9rem;color:#5e6278}.supported-list[_ngcontent-%COMP%]{margin-top:12px;font-size:.9rem;color:#5e6278;display:flex;flex-direction:column;gap:4px}.preview-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px;margin-bottom:16px}.preview-grid__item[_ngcontent-%COMP%]{border:1px solid #eff2f5;border-radius:14px;padding:16px;background:#fcfcff;display:flex;flex-direction:column;gap:4px}.preview-grid__item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.85rem;color:#5e6278}.preview-grid__item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.1rem;color:#1a1a27}.chip-groups[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.chip-groups[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#3f4254}.mapping-grid[_ngcontent-%COMP%]{display:grid;gap:16px}.mapping-row[_ngcontent-%COMP%]{border:1px solid #eef0f4;border-radius:18px;padding:16px;background:#fff;box-shadow:0 8px 24px #0f172a0f}.mapping-row__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;margin-bottom:12px}.mapping-row__header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:600}.mapping-row__header[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#7e8299}.required-badge[_ngcontent-%COMP%]{align-self:flex-start;border-radius:999px;padding:2px 10px;background:#fff0f1;color:#c62828;font-size:.75rem;font-weight:600}.error-panel[_ngcontent-%COMP%]{margin-top:16px;padding:12px 16px;border-radius:12px;background:#fff4f4;color:#c62828;font-size:.9rem}.action-bar[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:flex-end;gap:12px;flex-wrap:wrap}.apply-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px}.apply-button[_ngcontent-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]{width:18px;height:18px}.sample-table[_ngcontent-%COMP%]{border:1px solid #eef0f4;border-radius:12px;overflow-x:auto;overflow-y:visible;width:100%;display:block;position:relative;-webkit-overflow-scrolling:touch;scrollbar-width:auto;scrollbar-color:#009ef7 #f5f8fa}.sample-table[_ngcontent-%COMP%]::-webkit-scrollbar{height:12px}.sample-table[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f5f8fa;border-radius:6px;border:1px solid #eef0f4}.sample-table[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#009ef7;border-radius:6px;border:2px solid #f5f8fa}.sample-table[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#0085d1}.sample-table__row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(var(--columns-count, 1),250px);width:max-content}.sample-table__row--head[_ngcontent-%COMP%]{background:#f5f8fa;font-weight:600}.sample-table__row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #eef0f4;border-right:1px solid #eef0f4;width:250px;box-sizing:border-box;word-break:break-word;overflow:hidden;text-overflow:ellipsis}.sample-table__row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{border-right:0}.sample-table__header-cell[_ngcontent-%COMP%]{padding:16px!important;background:#f8f9fb;display:flex;flex-direction:column;gap:8px;width:250px;box-sizing:border-box}.header-cell-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.header-name[_ngcontent-%COMP%]{font-weight:600;color:#1a1a27;font-size:.9rem}.header-mapping-dropdown[_ngcontent-%COMP%]{width:100%;margin:0}.header-mapping-dropdown[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.header-mapping-dropdown[_ngcontent-%COMP%]     .mat-mdc-form-field{font-size:.85rem}.sample-table__cell[_ngcontent-%COMP%]{min-width:0;word-break:break-word}.required-indicator[_ngcontent-%COMP%]{color:#c62828;font-weight:600;margin-left:4px}.result-stats[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap;margin-bottom:16px}.result-stats[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1 1 160px;border:1px solid #eef0f4;border-radius:12px;padding:16px;background:#f5f8ff}.result-stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.85rem;color:#5e6278}.result-stats[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:1.3rem;color:#1a1a27;margin-top:4px}.muted[_ngcontent-%COMP%]{color:#7e8299;font-size:.9rem}"]});var Lt=tt;var wo=["vform"];function Ro(r,s){if(r&1){let e=T();D(0),o(1,"div",8)(2,"label",9),c(3),a(),o(4,"input",10,0),w("ngModelChange",function(t){h(e);let l=u();return x(l.dataModelResultCategory.item.title,t)||(l.dataModelResultCategory.item.title=t),_(t)}),a()(),o(6,"div",8)(7,"label",11),c(8),a(),o(9,"textarea",12,1),w("ngModelChange",function(t){h(e);let l=u();return x(l.dataModelResultCategory.item.description,t)||(l.dataModelResultCategory.item.description=t),_(t)}),a()(),O()}if(r&2){let e=u();n(3),M(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),d("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),E("ngModel",e.dataModelResultCategory.item.title),n(4),M(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),d("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),E("ngModel",e.dataModelResultCategory.item.description)}}function Ao(r,s){if(r&1){let e=T();o(0,"div",13)(1,"button",14),b("click",function(){h(e);let t=u();return _(t.onFormMove())}),v(2,"i",15),c(3),f(4,"translate"),a(),o(5,"button",16),b("click",function(){h(e);let t=u();return _(t.onFormDelete())}),v(6,"i",17),c(7),f(8,"translate"),a(),o(9,"button",18),b("click",function(){h(e);let t=u();return _(t.onFormCancel())}),v(10,"i",15),c(11),f(12,"translate"),a()()}if(r&2){let e=u();n(),d("disabled",!e.formInfo.submitButtonEnabled),n(2),m(" ",g(4,5,"TITLE.MOVE_DATA")," "),n(2),d("disabled",!e.formInfo.submitButtonEnabled),n(2),m(" ",g(8,7,"ACTION.DELETE")," "),n(4),m(" ",g(12,9,"ACTION.CANCEL")," ")}}var it=class it{constructor(s,e,i,t,l,C,p){this.data=s;this.dialogRef=e;this.publicHelper=i;this.contactCategoryService=t;this.cdr=l;this.translate=C;this.cmsToastrService=p;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultCategory=new Q;this.dataModelResultCategoryAllData=new Q;this.dataModel={};this.formInfo=new ue;this.publicHelper.processService.cdr=this.cdr,s&&s.id&&s.id.length>0&&(this.requestId=s.id)}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(),this.DataGetAll()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.contactCategoryService.setAccessLoad(),this.contactCategoryService.setAccessDataType(Le.Editor),this.contactCategoryService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultCategory=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}DataGetAll(){this.translate.get("TITLE.Loading_Information").subscribe(i=>{this.formInfo.submitResultMessage=i});let s=new Y;s.rowPerPage=100;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contactCategoryService.ServiceGetAll(s).subscribe({next:i=>{this.dataModelResultCategoryAllData=i,i.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetAll()),this.publicHelper.processService.processStop(e)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormMove(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(!this.formGroup.valid)return;this.formInfo.submitButtonEnabled=!0,this.dataModel.newCatId===this.requestId&&(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitButtonEnabled=!0),this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.contactCategoryService.ServiceMove(this.requestId,this.dataModel.newCatId).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.The_Transfer_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessMove()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMove()),this.formInfo.submitButtonEnabled=!0,this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.contactCategoryService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormChangeNewCatId(s){if(this.formInfo.submitResultMessage="",this.requestId.length===0||!s||s.id.length<=0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.dataModel.newCatId=s.id,this.dataModel.newCatId===this.requestId?(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitButtonEnabled=!1):(this.formInfo.submitButtonEnabled=!0,this.formInfo.submitResultMessage="")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};it.\u0275fac=function(e){return new(e||it)(S(me),S(pe),S(G),S(z),S(B),S(F),S(L))},it.\u0275cmp=P({type:it,selectors:[["app-contact-category-delete"]],viewQuery:function(e,i){if(e&1&&J(wo,5),e&2){let t;X(t=Z())&&(i.formGroup=t.first)}},standalone:!1,decls:10,vars:7,consts:[["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultCategory.item.title",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.title","type","text","minlength","3","maxlength","50","required","","readonly","","id","dataModelResultCategory.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModelResultCategory.item.description",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.description","type","text","minlength","1","maxlength","100","readonly","","required","","rows","5","id","dataModelResultCategory.item.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"]],template:function(e,i){e&1&&(o(0,"div",2),v(1,"app-progress-spinner",3),o(2,"div",4)(3,"p",5),c(4),a(),o(5,"p"),c(6),f(7,"translate"),a(),I(8,Ro,11,8,"ng-container",6)(9,Ao,13,11,"div",7),a()()),e&2&&(n(),d("optionsInfoAreaId",i.constructorInfoAreaId),n(3),m(" ",i.formInfo.formTitle," "),n(2),m(" ",g(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("ngIf",i.dataModelResultCategory==null?null:i.dataModelResultCategory.item),n(),d("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[H,$,U,bt,ce,de,ee,te,q,V],encapsulation:2});var Gt=it;var ko=["vform"];function Po(r,s){if(r&1){let e=T();o(0,"app-cms-enum-record-status-selector",23),w("modelChange",function(t){h(e);let l=u();return x(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),_(t)}),a()}if(r&2){let e=u();E("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function No(r,s){if(r&1&&(o(0,"mat-error"),c(1),o(2,"strong"),c(3),f(4,"translate"),a()()),r&2){let e=u();n(),m(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),n(2),M(g(4,2,"MESSAGE.required"))}}function Bo(r,s){r&1&&(o(0,"mat-error"),c(1," Description is "),o(2,"strong"),c(3),f(4,"translate"),a()()),r&2&&(n(3),M(g(4,1,"MESSAGE.required")))}function Fo(r,s){if(r&1&&(v(0,"img",24),f(1,"cmsthumbnail")),r&2){let e=u();d("src",R(g(1,2,e.dataModel.linkMainImageIdSrc)),ge)}}function Vo(r,s){if(r&1){let e=T();o(0,"div",12)(1,"label",25),b("click",function(){h(e);let t=u();return _(t.fileManagerOpenForm=!0)}),c(2),f(3,"translate"),a(),o(4,"input",26,3),f(6,"translate"),w("ngModelChange",function(t){h(e);let l=u();return x(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),_(t)}),b("click",function(){h(e);let t=u();return _(t.fileManagerOpenForm=!0)}),a(),o(7,"cms-file-manager",27),b("itemSelected",function(t){h(e);let l=u();return _(l.onActionFileSelected(t))}),w("openFormChange",function(t){h(e);let l=u();return x(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),_(t)}),a()()}if(r&2){let e=u();n(2),M(g(3,12,"TITLE.Icon_File")),n(2),d("placeholder",R(g(6,14,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainImageId),n(3),d("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),E("openForm",e.fileManagerOpenForm),d("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Lo(r,s){if(r&1){let e=T();o(0,"div",28)(1,"button",29),b("click",function(){h(e);let t=u();return _(t.onFormCancel())}),v(2,"i",30),c(3),f(4,"translate"),a(),o(5,"button",31),v(6,"i",32),c(7),f(8,"translate"),a()()}if(r&2){u();let e=A(10);n(3),m(" ",g(4,3,"ACTION.CANCEL")," "),n(2),d("disabled",!e.form.valid),n(2),m(" ",g(8,5,"ACTION.SAVE")," ")}}var nt=class nt extends Nt{constructor(e,i,t,l,C,p,y,k){super(l,new W,p,k);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.contactCategoryService=l;this.cmsToastrService=C;this.publicHelper=p;this.cdr=y;this.translate=k;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new It;this.dataModel=new W;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&e.id.length>0&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId.length==0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contactCategoryService.setAccessLoad(),this.contactCategoryService.setAccessDataType(Le.Editor),this.contactCategoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contactCategoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionParentSelect(e){this.dataModel?.id!=e?.id&&(e&&e.id?.length>0?this.dataModel.linkParentId=e.id:this.dataModel.linkParentId=null)}};nt.\u0275fac=function(i){return new(i||nt)(S(me),S(pe),S(j),S(z),S(L),S(G),S(B),S(F))},nt.\u0275cmp=P({type:nt,selectors:[["app-contact-category-edit"]],viewQuery:function(i,t){if(i&1&&J(ko,5),i&2){let l;X(l=Z())&&(t.formGroup=l.first)}},standalone:!1,features:[K],decls:37,vars:31,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=T();o(0,"div",4),v(1,"app-progress-spinner",5),o(2,"div",6)(3,"p",7),c(4),a(),o(5,"p"),c(6),f(7,"translate"),a(),v(8,"app-cms-form-result-message",8),o(9,"form",9,0),b("ngSubmit",function(){return h(l),_(t.onFormSubmit())}),I(11,Po,1,5,"app-cms-enum-record-status-selector",10),o(12,"app-contact-category-selector",11),f(13,"translate"),b("optionChange",function(p){return h(l),_(t.onActionParentSelect(p))}),a(),o(14,"div",12)(15,"label",13),c(16),a(),o(17,"input",14,1),w("ngModelChange",function(p){return h(l),x(t.dataModel.title,p)||(t.dataModel.title=p),_(p)}),a(),o(19,"em"),c(20),a(),I(21,No,5,4,"mat-error",15),a(),o(22,"div",12)(23,"label",16),c(24),a(),o(25,"textarea",17,2),w("ngModelChange",function(p){return h(l),x(t.dataModel.description,p)||(t.dataModel.description=p),_(p)}),c(27,"        "),a(),o(28,"em"),c(29),a(),I(30,Bo,5,3,"mat-error",15),a(),o(31,"div",18)(32,"a",19),f(33,"cmsthumbnail"),I(34,Fo,2,4,"img",20),a()(),I(35,Vo,8,16,"div",21)(36,Lo,9,7,"div",22),a()()()}if(i&2){let l=A(18),C=A(26);n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),m(" ",t.formInfo.formTitle," "),n(2),m(" ",g(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("formInfo",t.formInfo),n(3),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),d("optionDisabled",!1)("optionSelectForce",t.dataModel.linkParentId)("optionPlaceholder",g(13,27,"TITLE.Parent_Area")),n(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),n(3),m("",l.value.length," / 100"),n(),d("ngIf",l.errors==null?null:l.errors.required),n(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),E("ngModel",t.dataModel.description),n(4),m("",C.value.length," / 500"),n(),d("ngIf",C.errors==null?null:C.errors.required),n(2),d("href",R(g(33,29,t.dataModel.linkMainImageIdSrc)),ge),n(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),n(),d("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),n(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[H,ye,$,U,be,ce,de,ee,ve,Te,te,Pt,q,we,Dt,De,V,ze],encapsulation:2});var Ht=nt;var Go=["vform"];function Ho(r,s){if(r&1){let e=T();o(0,"app-cms-enum-record-status-selector",23),w("modelChange",function(t){h(e);let l=u();return x(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),_(t)}),a()}if(r&2){let e=u();E("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Wo(r,s){if(r&1&&(o(0,"mat-error"),c(1),o(2,"strong"),c(3),f(4,"translate"),a()()),r&2){let e=u();n(),m(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),n(2),M(g(4,2,"MESSAGE.required"))}}function jo(r,s){r&1&&(o(0,"mat-error"),c(1," Description is "),o(2,"strong"),c(3),f(4,"translate"),a()()),r&2&&(n(3),M(g(4,1,"MESSAGE.required")))}function qo(r,s){if(r&1&&(v(0,"img",24),f(1,"cmsthumbnail")),r&2){let e=u();d("src",R(g(1,2,e.dataModel.linkMainImageIdSrc)),ge)}}function zo(r,s){if(r&1){let e=T();o(0,"div",11)(1,"label",25),b("click",function(){h(e);let t=u();return _(t.fileManagerOpenForm=!0)}),c(2),f(3,"translate"),a(),o(4,"input",26,3),f(6,"translate"),w("ngModelChange",function(t){h(e);let l=u();return x(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),_(t)}),b("click",function(){h(e);let t=u();return _(t.fileManagerOpenForm=!0)}),a(),o(7,"cms-file-manager",27),b("itemSelected",function(t){h(e);let l=u();return _(l.onActionFileSelected(t))}),w("openFormChange",function(t){h(e);let l=u();return x(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),_(t)}),a()()}if(r&2){let e=u();n(2),M(g(3,12,"TITLE.Icon_File")),n(2),d("placeholder",R(g(6,14,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainImageId),n(3),d("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),E("openForm",e.fileManagerOpenForm),d("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Uo(r,s){if(r&1){let e=T();o(0,"div",28)(1,"button",29),b("click",function(){h(e);let t=u();return _(t.onFormCancel())}),v(2,"i",30),c(3),f(4,"translate"),a(),o(5,"button",31),v(6,"i",32),c(7),f(8,"translate"),a()()}if(r&2){u();let e=A(10);n(3),m(" ",g(4,3,"ACTION.CANCEL")," "),n(2),d("disabled",!e.form.valid),n(2),m(" ",g(8,5,"ACTION.SAVE")," ")}}var ot=class ot extends kt{constructor(e,i,t,l,C,p,y,k){super(l,new W,p,k);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.contactCategoryService=l;this.cmsToastrService=C;this.publicHelper=p;this.cdr=y;this.translate=k;this.requestParentId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Q;this.dataModel=new W;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.parentId&&e.parentId.length>0&&(this.requestParentId=e.parentId),this.requestParentId.length>0&&(this.dataModel.linkParentId=this.requestParentId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contactCategoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionParentSelect(e){this.dataModel?.id!=e?.id&&(e&&e.id?.length>0?this.dataModel.linkParentId=e.id:this.dataModel.linkParentId=null)}};ot.\u0275fac=function(i){return new(i||ot)(S(me),S(pe),S(j),S(z),S(L),S(G),S(B),S(F))},ot.\u0275cmp=P({type:ot,selectors:[["app-contact-category-add"]],viewQuery:function(i,t){if(i&1&&J(Go,5),i&2){let l;X(l=Z())&&(t.formGroup=l.first)}},standalone:!1,features:[K],decls:37,vars:31,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=T();o(0,"div",4),v(1,"app-progress-spinner",5),o(2,"div",6)(3,"p",7),c(4),a(),o(5,"p"),c(6),f(7,"translate"),a(),v(8,"app-cms-form-result-message",8),o(9,"form",9,0),b("ngSubmit",function(){return h(l),_(t.onFormSubmit())}),I(11,Ho,1,5,"app-cms-enum-record-status-selector",10),o(12,"div",11)(13,"label",12),c(14),a(),o(15,"input",13,1),w("ngModelChange",function(p){return h(l),x(t.dataModel.title,p)||(t.dataModel.title=p),_(p)}),a(),o(17,"em"),c(18),a(),I(19,Wo,5,4,"mat-error",14),a(),o(20,"app-contact-category-selector",15),f(21,"translate"),b("optionChange",function(p){return h(l),_(t.onActionParentSelect(p))}),a(),o(22,"div",11)(23,"label",16),c(24),a(),o(25,"textarea",17,2),w("ngModelChange",function(p){return h(l),x(t.dataModel.description,p)||(t.dataModel.description=p),_(p)}),c(27,"        "),a(),o(28,"em"),c(29),a(),I(30,jo,5,3,"mat-error",14),a(),o(31,"div",18)(32,"a",19),f(33,"cmsthumbnail"),I(34,qo,2,4,"img",20),a()(),I(35,zo,8,16,"div",21)(36,Uo,9,7,"div",22),a()()()}if(i&2){let l=A(16),C=A(26);n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),m(" ",t.formInfo.formTitle," "),n(2),m(" ",g(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("formInfo",t.formInfo),n(3),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),n(3),m("",l.value.length," / 100"),n(),d("ngIf",l.errors==null?null:l.errors.required),n(),d("optionDisabled",!1)("optionSelectForce",t.dataModel.linkParentId)("optionPlaceholder",g(21,27,"TITLE.Parent_Area")),n(4),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),E("ngModel",t.dataModel.description),n(4),m("",C.value.length," / 500"),n(),d("ngIf",C.errors==null?null:C.errors.required),n(2),d("href",R(g(33,29,t.dataModel.linkMainImageIdSrc)),ge),n(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),n(),d("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),n(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[H,ye,$,U,be,ce,de,ee,ve,Te,te,Pt,q,we,Dt,De,V,ze],encapsulation:2});var Wt=ot;function Qo(r,s){if(r&1){let e=T();o(0,"button",14),b("click",function(){h(e);let t=u();return _(t.onActionAdd())}),c(1),f(2,"translate"),a()}r&2&&(n(),m(" ",g(2,1,"ACTION.ADD")," "))}function Yo(r,s){if(r&1){let e=T();o(0,"button",15),b("click",function(){h(e);let t=u();return _(t.onActionEdit())}),c(1),f(2,"translate"),a()}r&2&&(n(),m(" ",g(2,1,"ACTION.EDIT")," "))}function Ko(r,s){if(r&1){let e=T();o(0,"button",16),b("click",function(){h(e);let t=u();return _(t.onActionDelete())}),c(1),f(2,"translate"),a()}r&2&&(n(),m(" ",g(2,1,"ACTION.DELETE")," "))}function Jo(r,s){if(r&1){let e=T();o(0,"button",17),b("click",function(){h(e);let t=u();return _(t.onActionButtonReload())}),o(1,"mat-icon",18),f(2,"translate"),c(3,"refresh"),a()()}if(r&2){let e=u();n(),re("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),d("title",R(g(2,4,"ACTION.RELOAD")))}}function Xo(r,s){if(r&1){let e=T();o(0,"mat-tree-node",19),v(1,"button",20),o(2,"span",21),b("click",function(){let t=h(e).$implicit,l=u();return _(l.onActionSelect(t))}),c(3),a()()}if(r&2){let e=s.$implicit,i=u();re("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===e.id),n(3),M(e.title)}}function Zo(r,s){if(r&1){let e=T();o(0,"mat-tree-node",22)(1,"button",23)(2,"mat-icon",24),c(3),a()(),o(4,"span",21),b("click",function(){let t=h(e).$implicit,l=u();return _(l.onActionSelect(t))}),c(5),a()()}if(r&2){let e=s.$implicit,i=u(),t=A(12);re("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===e.id),d("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),n(),Ce("type","button")("aria-label","Toggle "+e.title),n(2),m(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),n(2),M(e.title)}}var rt=class rt{constructor(s,e,i,t,l,C,p,y,k){this.cmsToastrService=s;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=l;this.publicHelper=C;this.tokenHelper=p;this.cmsStoreService=y;this.translate=k;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new W;this.dataModelResult=new Q;this.filterModel=new Y;this.dataSource=new At;this.optionChange=new Me;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(s,e)=>!!e.children&&e.children.length>0;this.childrenAccessor=s=>s.children??[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>oe(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onActionSelect(s){this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new W,this.DataGetAll()}onActionSelectForce(s){}onActionAdd(){let s="";this.dataModelSelect&&this.dataModelSelect.id?.length>0&&(s=this.dataModelSelect.id);let e=new mt;e.disableClose=!0,e.autoFocus=!0,e.data={parentId:s},this.dialog.open(Wt,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let s="";if(this.dataModelSelect&&this.dataModelSelect.id?.length>0&&(s=this.dataModelSelect.id),s.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ht,{height:"90%",panelClass:e,enterAnimationDuration:pt.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:pt.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let s="";if(this.dataModelSelect&&this.dataModelSelect.id?.length>0&&(s=this.dataModelSelect.id),s.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Gt,{height:"90%",panelClass:e,enterAnimationDuration:pt.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:pt.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};rt.\u0275fac=function(e){return new(e||rt)(S(L),S(j),S(z),S(je),S(B),S(G),S(xe),S(qe),S(F))},rt.\u0275cmp=P({type:rt,selectors:[["app-contact-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(o(0,"app-cms-html-tree",1),D(1,2),c(2),f(3,"translate"),O(),D(4,3),I(5,Qo,3,3,"button",4)(6,Yo,3,3,"button",5)(7,Ko,3,3,"button",6)(8,Jo,4,6,"button",7),O(),D(9,8),v(10,"app-progress-spinner",9),o(11,"mat-tree",10,0),I(13,Xo,4,3,"mat-tree-node",11)(14,Zo,6,8,"mat-tree-node",12),a(),O(),ke(15,13),a()),e&2&&(d("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),n(2),m(" ",g(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),n(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),n(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),n(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow)&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),n(),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),n(2),d("optionsInfoAreaId",i.constructorInfoAreaId),n(),d("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),n(3),d("matTreeNodeDefWhen",i.hasChild))},dependencies:[H,We,Ee,Et,xt,Rt,wt,Tt,q,Ft,V],encapsulation:2});var jt=rt;var er=()=>[5,10,20,100];function tr(r,s){if(r&1){let e=T();o(0,"a",10),b("click",function(){h(e);let t=u();return _(t.onActionButtonBulkDelete())}),v(1,"i",42),c(2),f(3,"translate"),a()}if(r&2){let e=u();n(2),st(" ",g(3,2,"ACTION.DELETE_SELECTED")," (",e.getSelectedCount(),") ")}}function ir(r,s){if(r&1){let e=T();o(0,"div",43)(1,"a",44),b("click",function(){h(e);let t=u();return _(t.onActionButtonNewRow())}),v(2,"i",45)(3,"br"),a(),o(4,"p",46),c(5),f(6,"translate"),a()()}r&2&&(n(5),m(" ",g(6,1,"ACTION.ADD")," "))}function nr(r,s){if(r&1){let e=T();o(0,"div",43)(1,"a",47),b("click",function(){h(e);let t=u();return _(t.onActionButtonImport())}),v(2,"i",16)(3,"br"),a(),o(4,"p",46),c(5),f(6,"translate"),a()()}r&2&&(n(5),m(" ",g(6,1,"ACTION.IMPORT")," "))}function or(r,s){if(r&1){let e=T();o(0,"div",43)(1,"a",48),b("click",function(){h(e);let t=u();return _(t.onActionButtonBulkDelete())}),v(2,"i",49)(3,"br"),a(),o(4,"p",46),c(5),f(6,"translate"),a()()}if(r&2){let e=u();n(5),st(" ",g(6,2,"ACTION.DELETE_SELECTED")," (",e.getSelectedCount(),") ")}}function rr(r,s){if(r&1){let e=T();o(0,"div",43)(1,"a",50),b("click",function(){h(e);let t=u();return _(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",51)(3,"br"),a(),o(4,"p",46),c(5),f(6,"translate"),a()()}r&2&&(n(5),m(" ",g(6,1,"ACTION.EDIT")," "))}function ar(r,s){if(r&1){let e=T();o(0,"div",43)(1,"a",48),b("click",function(){h(e);let t=u();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",52)(3,"br"),a(),o(4,"p",46),c(5),f(6,"translate"),a()()}r&2&&(n(5),m(" ",g(6,1,"ACTION.DELETE")," "))}function sr(r,s){if(r&1&&(o(0,"mat-header-cell",53),c(1),a()),r&2){let e=u();n(),m(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function lr(r,s){if(r&1&&(o(0,"mat-cell"),c(1),a()),r&2){let e=s.$implicit;n(),m(" ",e.id," ")}}function cr(r,s){if(r&1&&(o(0,"mat-header-cell",53),c(1),a()),r&2){let e=u();n(),m(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function dr(r,s){if(r&1&&(o(0,"mat-cell"),c(1),f(2,"cmssiteinfo"),f(3,"async"),a()),r&2){let e=s.$implicit;n(),m(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function pr(r,s){if(r&1&&(o(0,"mat-header-cell",53),c(1),a()),r&2){let e=u();n(),m(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function mr(r,s){if(r&1&&(o(0,"mat-cell"),c(1),a()),r&2){let e=s.$implicit;n(),m(" ",e.title," ")}}function ur(r,s){if(r&1&&(o(0,"mat-header-cell",53),c(1),a()),r&2){let e=u();n(),m(" ",e.fieldsInfo.firstName==null?null:e.fieldsInfo.firstName.fieldTitle," ")}}function fr(r,s){if(r&1&&(o(0,"mat-cell"),c(1),a()),r&2){let e=s.$implicit;n(),m(" ",e.firstName," ")}}function gr(r,s){if(r&1&&(o(0,"mat-header-cell",53),c(1),a()),r&2){let e=u();n(),m(" ",e.fieldsInfo.lastName==null?null:e.fieldsInfo.lastName.fieldTitle," ")}}function Cr(r,s){if(r&1&&(o(0,"mat-cell"),c(1),a()),r&2){let e=s.$implicit;n(),m(" ",e.lastName," ")}}function hr(r,s){if(r&1&&(o(0,"mat-header-cell",53),c(1),a()),r&2){let e=u();n(),m(" ",e.fieldsInfo.countNumber==null?null:e.fieldsInfo.countNumber.fieldTitle," ")}}function _r(r,s){if(r&1&&(o(0,"mat-cell"),c(1),a()),r&2){let e=s.$implicit;n(),m(" ",e.countNumber," ")}}function Sr(r,s){if(r&1&&(o(0,"mat-header-cell",53),c(1),a()),r&2){let e=u();n(),m(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Ir(r,s){if(r&1&&(o(0,"mat-cell"),c(1),f(2,"localeDate"),a()),r&2){let e=s.$implicit;n(),m(" ",g(2,1,e.createdDate)," ")}}function Mr(r,s){if(r&1&&(o(0,"mat-header-cell",53),c(1),a()),r&2){let e=u();n(),m(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function br(r,s){if(r&1&&(o(0,"mat-cell"),c(1),f(2,"localeDate"),a()),r&2){let e=s.$implicit;n(),m(" ",g(2,1,e.updatedDate)," ")}}function vr(r,s){r&1&&(o(0,"mat-header-cell"),c(1),f(2,"translate"),a()),r&2&&(n(),m(" ",g(2,1,"TITLE.OPTION")," "))}function yr(r,s){if(r&1&&(o(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),c(3,"more_vert"),a()(),v(4,"mat-menu",null,2),a()),r&2){let e=A(5);n(),d("matMenuTriggerFor",e)}}function Tr(r,s){if(r&1){let e=T();o(0,"mat-header-cell")(1,"mat-checkbox",56),f(2,"translate"),b("change",function(t){h(e);let l=u();return _(l.onSelectAllChange(t))}),a()()}if(r&2){let e=u();n(),d("checked",e.isAllSelected)("indeterminate",e.selectedRowsForBulkDelete.size>0&&e.selectedRowsForBulkDelete.size<e.tableSource.data.length),Ce("aria-label",g(2,3,"ACTION.SELECT"))}}function Er(r,s){if(r&1){let e=T();o(0,"mat-cell")(1,"mat-checkbox",57),f(2,"translate"),b("change",function(t){let l=h(e).$implicit,C=u();return _(C.onCheckboxChange(l,t))})("click",function(t){return h(e),_(t.stopPropagation())}),a()()}if(r&2){let e=s.$implicit,i=u();n(),d("checked",i.isRowSelected(e.id)),Ce("aria-label",g(2,2,"ACTION.SELECT"))}}function xr(r,s){r&1&&v(0,"mat-header-row")}function wr(r,s){if(r&1){let e=T();o(0,"mat-row",58),b("click",function(t){let l=h(e).$implicit,C=u();return _(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,C=u();return _(C.onActionTableRowSelect(l,t))}),a()}if(r&2){let e=s.$implicit,i=u();re("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var at=class at extends Bt{constructor(e,i,t,l,C,p,y,k,N,ne,Oe,Ar){super(e,new ae,Oe,p,N);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.router=l;this.activatedRoute=C;this.tokenHelper=p;this.cdr=y;this.cmsStoreService=k;this.translate=N;this.pageInfo=ne;this.publicHelper=Oe;this.dialog=Ar;this.requestLinkCategoryId="";this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.categoryModelSelected=new W;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","title","firstName","lastName","countNumber"];this.tabledisplayedColumnsMobileSource=["id","title","firstName","lastName"];this.selectedRowsForBulkDelete=new Set;this.isAllSelected=!1;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkCategoryId=this.activatedRoute.snapshot.paramMap.get("LinkCategoryId"),this.optionsSearch.parentMethods={onSubmit:Ve=>this.onSubmitOptionsSearch(Ve)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ct.Descending,this.requestLinkCategoryId&&this.requestLinkCategoryId.length>0){let Ve=new se;Ve.propertyName="ContentCategores",Ve.propertyAnyName="LinkCategoryId",Ve.value=this.requestLinkCategoryId,this.filteModelContent.filters.push(Ve)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>oe(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tabledisplayedColumns.indexOf("select")===-1&&this.tabledisplayedColumns.push("select"),this.tableRowsSelected=[],this.selectedRowsForBulkDelete.clear(),this.isAllSelected=!1,this.onActionTableRowSelect(new ae);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(l=>{this.publicHelper.processService.processStart(i,l,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=this.filterModelCompiler(this.filteModelContent);this.categoryModelSelected&&this.categoryModelSelected.id?.length>0?(this.contentService.setAccessLoad(),this.contentService.ServiceGetAllWithHierarchyCategoryId(this.categoryModelSelected.id,t).subscribe({next:l=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),l.isSuccess?(this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)},1e3)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(i)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(i,!1)}})):(this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(t).subscribe({next:l=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),l.isSuccess?(this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)},1e3)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(i)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(i,!1)}}))}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ct.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ct.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ct.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){let e=new mt;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={linkCategoryId:this.categoryModelSelected?.id},this.dialog.open(Xe,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonImport(){this.router.navigate(["/contact/content/import"])}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new mt;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id},this.dialog.open(et,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(C,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(y=>{i.set(y,0)}),this.translate.get("MESSAGE.All").subscribe(y=>{i.set(y,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(y=>{this.publicHelper.processService.processStart(t,y,this.constructorInfoAreaId)});var l=this.filterModelCompiler(this.filteModelContent);if(this.categoryModelSelected&&this.categoryModelSelected.id?.length>0){let y=new se;y.propertyName="ContentCategores",y.propertyAnyName="LinkCategoryId",y.value=this.categoryModelSelected.id,l.filters.push(y)}this.contentService.ServiceGetCount(l).subscribe({next:y=>{y.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,y.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(y.errorMessage),this.publicHelper.processService.processStop(t)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(t,!1)}});let C=this.filterModelCompiler(this.filteModelContent),p=new se;if(p.propertyName="recordStatus",p.value=hi.Available,C.filters.push(p),this.categoryModelSelected&&this.categoryModelSelected.id?.length>0){let y=new se;y.propertyName="ContentCategores",y.propertyAnyName="LinkCategoryId",y.value=this.categoryModelSelected.id,C.filters.push(y)}this.contentService.ServiceGetCount(C).subscribe({next:y=>{y.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,y.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(y.errorMessage),this.publicHelper.processService.processStop(t)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onCheckboxChange(e,i){i.checked?this.selectedRowsForBulkDelete.add(e.id):this.selectedRowsForBulkDelete.delete(e.id),this.updateSelectAllState()}isRowSelected(e){return this.selectedRowsForBulkDelete.has(e)}onSelectAllChange(e){this.isAllSelected=e.checked,this.isAllSelected?this.tableSource.data.forEach(i=>{i.id&&this.selectedRowsForBulkDelete.add(i.id)}):this.selectedRowsForBulkDelete.clear()}updateSelectAllState(){if(this.tableSource.data.length===0){this.isAllSelected=!1;return}let e=this.tableSource.data.every(i=>this.selectedRowsForBulkDelete.has(i.id));this.isAllSelected=e}getSelectedCount(){return this.selectedRowsForBulkDelete.size}onActionButtonBulkDelete(){if(this.selectedRowsForBulkDelete.size===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var e="",i="";let t=this.selectedRowsForBulkDelete.size;this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{e=l["MESSAGE.Please_Confirm"],i=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+t+" \u0622\u06CC\u062A\u0645 \u0627\u0646\u062A\u062E\u0627\u0628 \u0634\u062F\u0647 ) "}),this.cmsConfirmationDialogService.confirm(e,i).then(l=>{if(l){let C=this.constructor.name+"BulkDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(y=>{this.publicHelper.processService.processStart(C,y,this.constructorInfoAreaId)});let p=Array.from(this.selectedRowsForBulkDelete);this.contentService.ServiceDeleteList(p).subscribe({next:y=>{y.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.selectedRowsForBulkDelete.clear(),this.isAllSelected=!1,this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}};at.\u0275fac=function(i){return new(i||at)(S(le),S(L),S(Ue),S(Ci),S(fi),S(xe),S(B),S(qe),S(F),S(Ot),S(G),S(je))},at.\u0275cmp=P({type:at,selectors:[["app-contact-content-list"]],standalone:!1,features:[K],decls:72,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],[1,"fa-solid","fa-file-import","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","title"],["matColumnDef","firstName"],["matColumnDef","lastName"],["matColumnDef","countNumber"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","select"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"fa-solid","fa-trash-can","font-18",2,"color","#ff0000"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash-can","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"change","checked","indeterminate"],[3,"change","click","checked"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=T();o(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(p){return h(l),x(t.viewGuideNotice,p)||(t.viewGuideNotice=p),_(p)}),b("optionOnActionButtonMemoRow",function(){return h(l),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),_(t.onActionButtonPrintRow())}),D(1,4),o(2,"app-contact-category-tree",5),b("optionChange",function(p){return h(l),_(t.onActionSelectorSelect(p))}),a(),O(),ke(3,6)(4,7),D(5,8),I(6,tr,4,4,"a",9),o(7,"a",10),b("click",function(){return h(l),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",11),a(),o(9,"a",10),b("click",function(){return h(l),_(t.onActionButtonReload())}),v(10,"i",12),a(),O(),D(11,13),o(12,"a",14),b("click",function(){return h(l),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",15),c(14),f(15,"translate"),a(),o(16,"a",14),b("click",function(){return h(l),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",15),c(18),f(19,"translate"),a(),o(20,"a",14),b("click",function(){return h(l),_(t.onActionButtonImport())}),v(21,"i",16),c(22),f(23,"translate"),a(),O(),D(24,17),I(25,ir,7,3,"div",18)(26,nr,7,3,"div",18)(27,or,7,4,"div",18),O(),D(28,19),I(29,rr,7,3,"div",18)(30,ar,7,3,"div",18),O(),D(31,20),o(32,"app-cms-search-list",21),w("optionsChange",function(p){return h(l),x(t.optionsSearch,p)||(t.optionsSearch=p),_(p)}),a(),o(33,"app-cms-statist-list",21),w("optionsChange",function(p){return h(l),x(t.optionsStatist,p)||(t.optionsStatist=p),_(p)}),a(),O(),D(34,22),o(35,"mat-table",23,0),b("matSortChange",function(){h(l);let p=A(36);return _(t.onTableSortData(p))}),D(37,24),I(38,sr,2,1,"mat-header-cell",25)(39,lr,2,1,"mat-cell",26),O(),D(40,27),I(41,cr,2,1,"mat-header-cell",25)(42,dr,4,5,"mat-cell",26),O(),D(43,28),I(44,pr,2,1,"mat-header-cell",25)(45,mr,2,1,"mat-cell",26),O(),D(46,29),I(47,ur,2,1,"mat-header-cell",25)(48,fr,2,1,"mat-cell",26),O(),D(49,30),I(50,gr,2,1,"mat-header-cell",25)(51,Cr,2,1,"mat-cell",26),O(),D(52,31),I(53,hr,2,1,"mat-header-cell",25)(54,_r,2,1,"mat-cell",26),O(),D(55,32),I(56,Sr,2,1,"mat-header-cell",25)(57,Ir,3,3,"mat-cell",26),O(),D(58,33),I(59,Mr,2,1,"mat-header-cell",25)(60,br,3,3,"mat-cell",26),O(),D(61,34),I(62,vr,3,3,"mat-header-cell",35)(63,yr,6,1,"mat-cell",36),O(),D(64,37),I(65,Tr,3,5,"mat-header-cell",35)(66,Er,3,4,"mat-cell",26),O(),I(67,xr,1,0,"mat-header-row",38)(68,wr,1,2,"mat-row",39),a(),O(),D(69,40),o(70,"mat-paginator",41,1),b("page",function(p){return h(l),_(t.onTablePageingData(p))}),a(),O(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","contact.content.list"),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!t.requestLinkCategoryId||t.requestLinkCategoryId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow)&&t.selectedRowsForBulkDelete.size>0),n(4),re("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),d("checked",t.optionsSearch.data.show),n(),m("",g(15,29,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),m("",g(19,31,"ACTION.STATIST")," "),n(4),m(" ",g(23,33,"ACTION.IMPORT")," "),n(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),n(),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow)&&t.selectedRowsForBulkDelete.size>0),n(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(2),E("options",t.optionsSearch),n(),E("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(32),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",di(35,er)))},dependencies:[H,We,yt,Ee,Wi,ji,zi,Yi,Ki,Ji,Xi,$i,on,en,Zi,rn,tn,nn,an,sn,mn,un,fn,gn,jt,St,V,Cn,hn],encapsulation:2});var qt=at;var Rr=[{path:"",component:Vt,data:{title:"ROUTE.CONTACT"},children:[{path:"config",loadChildren:()=>import("./chunk-QXP7T7MS.js").then(r=>r.ContactConfigModule),data:{title:"ROUTE.CONTACT"}},{path:"content",component:qt,data:{title:"ROUTE.CONTACT"}},{path:"content/add/:CategoryId",component:Xe,data:{title:"ROUTE.CONTACT"}},{path:"content/edit/:id",component:et,data:{title:"ROUTE.CONTACT"}},{path:"content/import",component:Lt,data:{title:"ROUTE.CONTACT"}}]}],Be=class Be{};Be.\u0275fac=function(e){return new(e||Be)},Be.\u0275mod=ht({type:Be}),Be.\u0275inj=Ct({imports:[Qt.forChild(Rr),Qt]});var zt=Be;var Fe=class Fe{};Fe.\u0275fac=function(e){return new(e||Fe)},Fe.\u0275mod=ht({type:Fe}),Fe.\u0275inj=Ct({providers:[_i,j,Ii,Si,Ue,z,le,Ge],imports:[ui,zt,Ti,Ei.withConfig({warnOnNgModelWithFormControl:"never"}),dn,pn,cn]});var Mn=Fe;export{Mn as ContactModule};
