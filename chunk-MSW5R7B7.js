import{a as fr}from"./chunk-ZR6IQED7.js";import{a as ur}from"./chunk-NAOMFZHW.js";import{a as Gn,b as pr}from"./chunk-6XUUXNWV.js";import{a as Bn}from"./chunk-4KSZJC23.js";import{a as Fn}from"./chunk-TIYO6KGL.js";import{a as mr}from"./chunk-XSBG6UYX.js";import{a as dr}from"./chunk-AQK3MAJB.js";import{a as sr}from"./chunk-FNI7GNBM.js";import{a as cr}from"./chunk-GG4EFRWF.js";import{a as Ti}from"./chunk-HYCJ4UQO.js";import{d as lr}from"./chunk-QG5JJYZE.js";import{a as ir,b as nr,c as or,d as rr,e as ar}from"./chunk-3RG7MRFI.js";import{j as Dn,k as wn,l as En}from"./chunk-Z57GTXQF.js";import{a as tr}from"./chunk-YZXJP3HH.js";import{a as Zo}from"./chunk-6DVDNYUM.js";import{a as Ln}from"./chunk-JCUWFHRI.js";import"./chunk-R2TCXNXM.js";import{a as Vn}from"./chunk-7EHL4NFM.js";import{a as Lt}from"./chunk-Z7LLDNBU.js";import{a as vt}from"./chunk-QHFGZSX6.js";import{a as Qe}from"./chunk-3OXB4ASU.js";import{c as Ct,d as je,e as Ue,g as ze}from"./chunk-U6EEL46C.js";import{a as kt}from"./chunk-IUZLRYGC.js";import{a as Xo}from"./chunk-H4XJGNTK.js";import{b as Wt,c as $o}from"./chunk-6EU73C56.js";import{a as Rt}from"./chunk-R5M5JHUG.js";import{a as be}from"./chunk-F7YMW3F7.js";import{b as er}from"./chunk-TMPLKDK7.js";import{a as qe}from"./chunk-7FJ52WWS.js";import{a as q}from"./chunk-S2VZRFLG.js";import{$b as Uo,Ab as Re,B as ei,Bb as st,Bc as Ei,Cb as dt,Db as Pn,Dc as G,E as go,Eb as ri,F as _o,Fb as ai,Ga as Co,Gb as Rn,H as So,Ha as he,Hb as Wn,Ia as Me,Ib as Bo,Ja as Be,Jb as ct,K as X,Kb as pt,L as ge,Lb as mt,M as _e,Mb as ut,Nb as ft,O as ho,Ob as gt,P as Mo,Pa as oe,Pb as _t,Q as hn,Qa as vo,Qb as St,R as Se,Rb as ht,Sb as Mt,U as Mn,V as bn,Wa as ii,Wb as Oo,X as In,Xa as ni,Xb as No,Y as Cn,Ya as oi,Yb as Ho,Z as vn,Zb as qo,_ as yn,_b as jo,ab as Ro,ac as zo,bb as Wo,bc as Qo,cb as ko,cc as Ko,db as Lo,eb as Vo,fb as Go,fc as V,gb as Fo,gc as k,ka as Io,ma as F,n as xt,nc as kn,o as Y,oa as xe,oc as Jo,r as Q,s as de,u as ce,ub as at,uc as We,v as Zt,vb as lt,vc as O,w as pe,wc as bt,x as me,xc as Yo,y as $t,yb as He,zc as It}from"./chunk-HFFK4MNG.js";import{m as Pe}from"./chunk-WNRZ34IP.js";import{a as Z}from"./chunk-O4G43DJL.js";import{$d as z,$f as To,Bb as te,Bd as Ne,Ca as ve,Cb as ie,Db as ne,E as jt,Ed as it,Fa as o,Gd as H,H as Ut,Hb as A,Hc as De,Ib as Yt,Ic as Ge,Id as yo,Jb as Ee,Jc as W,Ka as M,Kd as At,Mb as c,Nb as y,Nc as $e,Nd as yi,O as zt,Ob as g,Od as B,P as Qt,Pa as R,Pb as Xt,Pc as et,Qa as Sn,Sb as E,Sd as N,Ta as U,Tb as T,Td as K,Ub as x,Ud as re,Ue as wo,Va as b,Vb as P,Vc as uo,Wb as Ve,X as _n,Xa as wt,Yd as Do,Zb as Ie,_b as Ze,bc as S,ca as u,cb as Et,cc as h,da as f,dc as Tt,de as Tn,ed as fo,eo as Di,go as Ao,ho as wi,ib as d,ie as xn,if as Eo,io as ti,jb as r,jo as nt,kb as l,ko as ot,lb as I,lo as Pt,mg as xo,mo as rt,no as An,p as Ht,pb as D,pd as tt,q as qt,qb as w,qd as bo,rb as ye,rd as Fe,sa as mo,sb as v,so as an,to as Vt,uc as L,uo as Ae,vb as C,vd as oo,vo as Je,wd as Oe,wo as Ye,xb as m,xo as Xe,yb as Kt,yd as ro,yo as ao,zb as Jt,zo as Po}from"./chunk-MDNBQXON.js";import{i as ee}from"./chunk-SEDBTTTN.js";var Cr=["vform"];function vr(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",22),x("modelChange",function(t){u(e);let s=m();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=m();E("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function yr(n,a){n&1&&I(0,"i",29)}function Dr(n,a){n&1&&I(0,"i",30)}function wr(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function Er(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",24),c(2),l(),r(3,"input",25,2),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,yr,1,0,"i",26)(6,Dr,1,0,"i",27),r(7,"em"),c(8),l(),b(9,wr,5,4,"mat-error",28),l()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Tr(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",31),c(2),l(),r(3,"input",32,3),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.linkPageId,t)||(s.dataModel.linkPageId=t),f(t)}),l(),r(5,"em"),c(6),l()()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.linkPageId==null?null:i.fieldsInfo.linkPageId.fieldTitle),o(),E("ngModel",i.dataModel.linkPageId),d("disabled",!(i.fieldsInfo.linkPageId!=null&&i.fieldsInfo.linkPageId.accessAddField)),o(3),g("",e.value.length," / 100")}}function xr(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.priority==null?null:e.fieldsInfo.priority.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function Ar(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",33),c(2),l(),r(3,"input",34,4),S(5,"translate"),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.priority,t)||(s.dataModel.priority=t),f(t)}),l(),b(6,xr,5,4,"mat-error",28),l()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.priority==null?null:i.fieldsInfo.priority.fieldTitle),o(),d("placeholder",P(h(5,6,"TITLE.priority"))),E("ngModel",i.dataModel.priority),d("disabled",!(i.fieldsInfo.priority!=null&&i.fieldsInfo.priority.accessAddField)),o(3),d("ngIf",e.errors==null?null:e.errors.required)}}function Pr(n,a){n&1&&I(0,"i",29)}function Rr(n,a){n&1&&I(0,"i",30)}function Wr(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function kr(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",35),c(2),S(3,"translate"),l(),r(4,"textarea",36,5),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(6,"                    "),l(),r(7,"em"),c(8),l(),b(9,Pr,1,0,"i",26)(10,Rr,1,0,"i",27)(11,Wr,5,4,"mat-error",28),l()}if(n&2){let e=A(5),i=m();o(2),y(h(3,9,"TITLE.General_Description")),o(2),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),d("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessAddField)),o(4),g("",e.value.length," / 100"),o(),d("ngIf",!e.value),o(),d("ngIf",e.value),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Lr(n,a){if(n&1){let e=v();r(0,"div",37)(1,"button",38),C("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),c(2),S(3,"translate"),l(),r(4,"button",39),c(5),S(6,"translate"),l()()}if(n&2){m();let e=A(9);o(2),g(" ",h(3,3,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(),g(" ",h(6,5,"ACTION.NEXT")," ")}}function Vr(n,a){if(n&1&&(I(0,"img",40),S(1,"cmsthumbnail")),n&2){let e=m();d("src",P(h(1,2,e.dataModel.linkMainImageIdSrc)),ve)}}function Gr(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",41),C("click",function(){u(e);let t=m();return f(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),l(),r(4,"input",42,6),S(6,"translate"),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),C("click",function(){u(e);let t=m();return f(t.fileManagerOpenForm=!0)}),l(),r(7,"cms-file-manager",43),C("itemSelected",function(t){u(e);let s=m();return f(s.onActionFileSelectedLinkMainImageId(t))}),x("openFormChange",function(t){u(e);let s=m();return T(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),l()()}if(n&2){let e=m();o(2),y(h(3,12,"TITLE.Icon_File")),o(2),d("placeholder",P(h(6,14,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainImageId),o(3),d("language",e.appLanguage)("isPopup",!0),E("openForm",e.fileManagerOpenForm),d("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Fr(n,a){if(n&1&&(I(0,"img",40),S(1,"cmsthumbnail")),n&2){let e=m();d("src",P(h(1,2,e.dataModel.linkMainVideoIdSrc)),ve)}}function Br(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",44),C("click",function(){u(e);let t=m();return f(t.fileManagerOpenFormVideo=!0)}),c(2),l(),r(3,"input",45,7),S(5,"translate"),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.linkMainVideoId,t)||(s.dataModel.linkMainVideoId=t),f(t)}),C("click",function(){u(e);let t=m();return f(t.fileManagerOpenFormVideo=!0)}),l(),r(6,"cms-file-manager",43),C("itemSelected",function(t){u(e);let s=m();return f(s.onActionFileSelectedLinkMainVideoId(t))}),x("openFormChange",function(t){u(e);let s=m();return T(s.fileManagerOpenFormVideo,t)||(s.fileManagerOpenFormVideo=t),f(t)}),l()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.linkMainVideoId==null?null:e.fieldsInfo.linkMainVideoId.fieldTitle),o(),d("placeholder",P(h(5,13,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainVideoId),d("disabled",!(e.fieldsInfo.linkMainVideoId!=null&&e.fieldsInfo.linkMainVideoId.accessAddField)),o(3),d("language",e.appLanguage)("isPopup",!0),E("openForm",e.fileManagerOpenFormVideo),d("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainVideo)("openFilemanagerButtonView",!1)}}function Or(n,a){if(n&1&&(r(0,"div",37)(1,"button",46),c(2),S(3,"translate"),l(),r(4,"button",47),c(5),S(6,"translate"),l()()),n&2){m();let e=A(9);o(2),g(" ",h(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),g(" ",h(6,5,"ACTION.SAVE")," ")}}var xi=class xi extends Rt{constructor(e,i,t,s,_,p,j,J){super(s,new Vt,i,J);this.activatedRoute=e;this.publicHelper=i;this.coreEnumService=t;this.webDesignerMainIntroService=s;this.cmsToastrService=_;this.router=p;this.cdr=j;this.translate=J;this.requestLinkPageId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.formInfo=new re;this.dataModel=new Vt;this.dataModelResult=new B;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypeMainVideo=["mp4"];this.fileManagerOpenForm=!1;this.fileManagerOpenFormVideo=!1;this.appLanguage="fa";this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkPageId")&&(this.requestLinkPageId=this.activatedRoute.snapshot.paramMap.get("LinkPageId")),this.requestLinkPageId.length>0&&(this.dataModel.linkPageId=this.requestLinkPageId),this.DataGetAccess()}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataAddContent()}DataAddContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainIntroService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/webdesigner/intro/"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}onActionBackToParent(){this.router.navigate(["/webdesigner/intro/"])}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkMainVideoId(e){this.dataModel.linkMainVideoId=e.id,this.dataModel.linkMainVideoIdSrc=e.downloadLinksrc}};xi.\u0275fac=function(i){return new(i||xi)(M(tt),M(G),M(z),M(ti),M(O),M(Fe),M(L),M(V))},xi.\u0275cmp=R({type:xi,selectors:[["app-webdesigner-intro-add"]],viewQuery:function(i,t){if(i&1&&te(Cr,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:34,vars:31,consts:[["vform","ngForm"],["stepper",""],["Title",""],["LinkPageId",""],["Priority",""],["Description",""],["LinkMainImageId",""],["LinkMainVideoId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.linkPageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkPageId","placeholder","Page Id","minlength","3","maxlength","100","id","dataModel.linkPageId",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","3","maxlength","100","rows","10","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkMainVideoId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainVideoId","autocomplete","off","id","dataModel.linkMainVideoId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder","disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=v();r(0,"div",8),I(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),l(),r(5,"p"),c(6),S(7,"translate"),l(),r(8,"form",12,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"mat-horizontal-stepper",13,1),C("selectionChange",function(p){u(s);let j=A(11);return f(t.onStepClick(p,j))}),r(12,"mat-step",14),S(13,"translate"),b(14,vr,1,5,"app-cms-enum-record-status-selector",15)(15,Er,10,9,"div",16)(16,Tr,7,4,"div",16)(17,Ar,7,8,"div",16)(18,kr,12,11,"div",16)(19,Lr,7,7,"div",17),l(),r(20,"mat-step",18),S(21,"translate"),r(22,"p"),c(23),S(24,"translate"),l(),r(25,"div",19)(26,"a",20),S(27,"cmsthumbnail"),b(28,Vr,2,4,"img",21),l()(),b(29,Gr,8,16,"div",16),r(30,"div",19),b(31,Fr,2,4,"img",21),l(),b(32,Br,7,15,"div",16)(33,Or,7,7,"div",17),l()()()()()}i&2&&(o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",h(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",P(h(13,23,"TITLE.REQUIRED_INFORMATION"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.fieldsInfo.linkPageId==null?null:t.fieldsInfo.linkPageId.accessWatchField),o(),d("ngIf",t.fieldsInfo.priority==null?null:t.fieldsInfo.priority.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",P(h(21,25,"TITLE.ATTACH_FILES"))),o(3),y(h(24,27,"TITLE.Photos_And_Application_Files")),o(3),d("href",P(h(27,29,t.dataModel.linkMainImageIdSrc)),ve),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),d("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainVideoIdSrc==null?null:t.dataModel.linkMainVideoIdSrc.length)>0),o(),d("ngIf",t.fieldsInfo.linkMainVideoId==null?null:t.fieldsInfo.linkMainVideoId.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow))},dependencies:[W,me,Y,$t,Q,de,X,ge,_e,pe,ce,Se,F,ri,ai,Rn,Wn,be,q,kn,k,Wt],encapsulation:2});var ln=xi;var Nr=["vform"];function Hr(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",22),x("modelChange",function(t){u(e);let s=m();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=m();E("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function qr(n,a){n&1&&I(0,"i",29)}function jr(n,a){n&1&&I(0,"i",30)}function Ur(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function zr(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",24),c(2),l(),r(3,"input",25,2),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,qr,1,0,"i",26)(6,jr,1,0,"i",27),r(7,"em"),c(8),l(),b(9,Ur,5,4,"mat-error",28),l()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Qr(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",31),c(2),l(),r(3,"input",32,3),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.linkPageId,t)||(s.dataModel.linkPageId=t),f(t)}),l(),r(5,"em"),c(6),l()()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.linkPageId==null?null:i.fieldsInfo.linkPageId.fieldTitle),o(),E("ngModel",i.dataModel.linkPageId),d("disabled",!(i.fieldsInfo.linkPageId!=null&&i.fieldsInfo.linkPageId.accessEditField)),o(3),g("",e.value.length," / 100")}}function Kr(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.priority==null?null:e.fieldsInfo.priority.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function Jr(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",33),c(2),l(),r(3,"input",34,4),S(5,"translate"),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.priority,t)||(s.dataModel.priority=t),f(t)}),l(),b(6,Kr,5,4,"mat-error",28),l()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.priority==null?null:i.fieldsInfo.priority.fieldTitle),o(),d("placeholder",P(h(5,6,"TITLE.priority"))),E("ngModel",i.dataModel.priority),d("disabled",!(i.fieldsInfo.priority!=null&&i.fieldsInfo.priority.accessEditField)),o(3),d("ngIf",e.errors==null?null:e.errors.required)}}function Yr(n,a){n&1&&I(0,"i",29)}function Xr(n,a){n&1&&I(0,"i",30)}function Zr(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function $r(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",35),c(2),S(3,"translate"),l(),r(4,"textarea",36,5),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(6,"                        "),l(),r(7,"em"),c(8),l(),b(9,Yr,1,0,"i",26)(10,Xr,1,0,"i",27)(11,Zr,5,4,"mat-error",28),l()}if(n&2){let e=A(5),i=m();o(2),y(h(3,9,"TITLE.General_Description")),o(2),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),d("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),o(4),g("",e.value.length," / 100"),o(),d("ngIf",!e.value),o(),d("ngIf",e.value),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function ea(n,a){if(n&1){let e=v();r(0,"div",37)(1,"button",38),C("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),c(2),S(3,"translate"),l(),r(4,"button",39),c(5),S(6,"translate"),l()()}if(n&2){m();let e=A(9);o(2),g(" ",h(3,3,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(),g(" ",h(6,5,"ACTION.NEXT")," ")}}function ta(n,a){if(n&1&&(I(0,"img",40),S(1,"cmsthumbnail")),n&2){let e=m();d("src",P(h(1,2,e.dataModel.linkMainImageIdSrc)),ve)}}function ia(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",41),C("click",function(){u(e);let t=m();return f(t.fileManagerOpenForm=!0)}),c(2),l(),r(3,"input",42,6),S(5,"translate"),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),C("click",function(){u(e);let t=m();return f(t.fileManagerOpenForm=!0)}),l(),r(6,"cms-file-manager",43),C("itemSelected",function(t){u(e);let s=m();return f(s.onActionFileSelectedLinkMainImageId(t))}),x("openFormChange",function(t){u(e);let s=m();return T(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),l()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.fieldTitle),o(),d("placeholder",P(h(5,12,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainImageId),o(3),d("language",e.appLanguage)("isPopup",!0),E("openForm",e.fileManagerOpenForm),d("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function na(n,a){if(n&1&&(I(0,"img",40),S(1,"cmsthumbnail")),n&2){let e=m();d("src",P(h(1,2,e.dataModel.linkMainVideoIdSrc)),ve)}}function oa(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",44),C("click",function(){u(e);let t=m();return f(t.fileManagerOpenFormVideo=!0)}),c(2),l(),r(3,"input",45,7),S(5,"translate"),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.linkMainVideoId,t)||(s.dataModel.linkMainVideoId=t),f(t)}),C("click",function(){u(e);let t=m();return f(t.fileManagerOpenFormVideo=!0)}),l(),r(6,"cms-file-manager",43),C("itemSelected",function(t){u(e);let s=m();return f(s.onActionFileSelectedLinkMainVideoId(t))}),x("openFormChange",function(t){u(e);let s=m();return T(s.fileManagerOpenFormVideo,t)||(s.fileManagerOpenFormVideo=t),f(t)}),l()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.linkMainVideoId==null?null:e.fieldsInfo.linkMainVideoId.fieldTitle),o(),d("placeholder",P(h(5,13,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainVideoId),d("disabled",!(e.fieldsInfo.linkMainVideoId!=null&&e.fieldsInfo.linkMainVideoId.accessAddField)),o(3),d("language",e.appLanguage)("isPopup",!0),E("openForm",e.fileManagerOpenFormVideo),d("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainVideo)("openFilemanagerButtonView",!1)}}function ra(n,a){if(n&1&&(r(0,"div",37)(1,"button",46),c(2),S(3,"translate"),l(),r(4,"button",47),c(5),S(6,"translate"),l()()),n&2){m();let e=A(9);o(2),g(" ",h(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),g(" ",h(6,5,"ACTION.SAVE")," ")}}var Ai=class Ai extends kt{constructor(e,i,t,s,_,p,j,J){super(s,new Vt,i,J);this.activatedRoute=e;this.publicHelper=i;this.coreEnumService=t;this.webDesignerMainIntroService=s;this.cmsToastrService=_;this.router=p;this.cdr=j;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.formInfo=new re;this.dataModel=new Vt;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypeMainVideo=["mp4"];this.fileManagerOpenForm=!1;this.fileManagerOpenFormVideo=!1;this.appLanguage="fa";this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.activatedRoute.snapshot.paramMap.get("Id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("Id"))}ngOnInit(){if(this.requestId.length===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.DataGetOne(this.requestId)}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(e){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.webDesignerMainIntroService.setAccessLoad(),this.webDesignerMainIntroService.setAccessDataType(At.Editor),this.webDesignerMainIntroService.ServiceGetOneById(e).subscribe({next:t=>{this.dataAccessModel=t.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.publicHelper.processService.processStop(i),this.dataModelResult=t,this.formInfo.formSubmitAllow=!0,t.isSuccess?this.dataModel=t.item:this.cmsToastrService.typeErrorGetOne(t.errorMessage)},error:t=>{this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(t)}})}DataEditContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainIntroService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/webdesigner/intro/"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}onActionBackToParent(){this.router.navigate(["/webdesigner/intro/"])}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkMainVideoId(e){this.dataModel.linkMainVideoId=e.id,this.dataModel.linkMainVideoIdSrc=e.downloadLinksrc}};Ai.\u0275fac=function(i){return new(i||Ai)(M(tt),M(G),M(z),M(ti),M(O),M(Fe),M(L),M(V))},Ai.\u0275cmp=R({type:Ai,selectors:[["app-webdesigner-intro-edit"]],viewQuery:function(i,t){if(i&1&&te(Nr,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:34,vars:31,consts:[["vform","ngForm"],["stepper",""],["Title",""],["LinkPageId",""],["Priority",""],["Description",""],["LinkMainImageId",""],["LinkMainVideoId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.linkPageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkPageId","placeholder","Page Id","minlength","3","maxlength","100","id","dataModel.linkPageId",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","3","maxlength","100","rows","10","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkMainVideoId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainVideoId","autocomplete","off","id","dataModel.linkMainVideoId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder","disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=v();r(0,"div",8),I(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),l(),r(5,"p"),c(6),S(7,"translate"),l(),r(8,"form",12,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"mat-horizontal-stepper",13,1),C("selectionChange",function(p){u(s);let j=A(11);return f(t.onStepClick(p,j))}),r(12,"mat-step",14),S(13,"translate"),b(14,Hr,1,5,"app-cms-enum-record-status-selector",15)(15,zr,10,9,"div",16)(16,Qr,7,4,"div",16)(17,Jr,7,8,"div",16)(18,$r,12,11,"div",16)(19,ea,7,7,"div",17),l(),r(20,"mat-step",18),S(21,"translate"),r(22,"p"),c(23),S(24,"translate"),l(),r(25,"div",19)(26,"a",20),S(27,"cmsthumbnail"),b(28,ta,2,4,"img",21),l()(),b(29,ia,7,14,"div",16),r(30,"div",19),b(31,na,2,4,"img",21),l(),b(32,oa,7,15,"div",16)(33,ra,7,7,"div",17),l()()()()()}i&2&&(o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",h(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",P(h(13,23,"TITLE.REQUIRED_INFORMATION"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.fieldsInfo.linkPageId==null?null:t.fieldsInfo.linkPageId.accessWatchField),o(),d("ngIf",t.fieldsInfo.priority==null?null:t.fieldsInfo.priority.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",P(h(21,25,"TITLE.ATTACH_FILES"))),o(3),y(h(24,27,"TITLE.Photos_And_Application_Files")),o(3),d("href",P(h(27,29,t.dataModel.linkMainImageIdSrc)),ve),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),d("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainVideoIdSrc==null?null:t.dataModel.linkMainVideoIdSrc.length)>0),o(),d("ngIf",t.fieldsInfo.linkMainVideoId==null?null:t.fieldsInfo.linkMainVideoId.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow))},dependencies:[W,me,Y,$t,Q,de,X,ge,_e,pe,ce,Se,F,ri,ai,Rn,Wn,be,q,kn,k,Wt],encapsulation:2});var Nn=Ai;var sa=()=>[5,10,20,100],da=n=>({display:n});function ca(n,a){if(n&1){let e=v();r(0,"a",41),C("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),I(1,"i",42),l()}}function pa(n,a){if(n&1){let e=v();r(0,"div",43)(1,"a",44),C("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),I(2,"i",45)(3,"br"),l(),r(4,"p",46),c(5),S(6,"translate"),l()()}n&2&&(o(5),y(h(6,1,"ACTION.ADD")))}function ma(n,a){if(n&1){let e=v();r(0,"div",43)(1,"a",47),C("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),I(2,"i",48)(3,"br"),l(),r(4,"p",46),c(5),S(6,"translate"),l()()}n&2&&(o(5),y(h(6,1,"ACTION.EDIT")))}function ua(n,a){if(n&1){let e=v();r(0,"div",43)(1,"a",49),C("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),I(2,"i",50)(3,"br"),l(),r(4,"p",46),c(5),S(6,"translate"),l()()}n&2&&(o(5),y(h(6,1,"ACTION.DELETE")))}function fa(n,a){n&1&&(r(0,"mat-header-cell",51),c(1),S(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.PICTURE")," "))}function ga(n,a){if(n&1&&(I(0,"img",53),S(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",P(h(1,2,e.linkMainImageIdSrc)),ve)}}function _a(n,a){if(n&1&&(r(0,"mat-cell"),b(1,ga,2,4,"img",52),l()),n&2){let e=a.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Sa(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ha(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.id," ")}}function Ma(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ba(n,a){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),l()),n&2){let e=a.$implicit;o(),g(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function Ia(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.linkPageId==null?null:e.fieldsInfo.linkPageId.fieldTitle," ")}}function Ca(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.linkPageId," ")}}function va(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ya(n,a){if(n&1&&I(0,"select",57),n&2){let e=m().$implicit,i=m();d("contentService",i.contentService)("row",e)("ngStyle",Ze(3,da,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Da(n,a){if(n&1&&(r(0,"mat-cell",55),S(1,"statusCellClass"),I(2,"i",55),S(3,"statusIconClass"),b(4,ya,1,5,"select",56),l()),n&2){let e=a.$implicit,i=m();d("ngClass",h(1,3,e.recordStatus)),o(2),d("ngClass",h(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function wa(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Ea(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.title," ")}}function Ta(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function xa(n,a){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"localeDate"),l()),n&2){let e=a.$implicit;o(),g(" ",h(2,1,e.createdDate)," ")}}function Aa(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Pa(n,a){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"localeDate"),l()),n&2){let e=a.$implicit;o(),g(" ",h(2,1,e.updatedDate)," ")}}function Ra(n,a){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.OPTION")," "))}function Wa(n,a){if(n&1&&(r(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),c(3,"more_vert"),l()(),I(4,"mat-menu",null,2),l()),n&2){let e=A(5);o(),d("matMenuTriggerFor",e)}}function ka(n,a){n&1&&I(0,"mat-header-row")}function La(n,a){if(n&1){let e=v();r(0,"mat-row",60),C("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))}),l()}if(n&2){let e=a.$implicit,i=a.dataIndex,t=m();Ee("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Pi=class Pi extends Ct{constructor(e,i,t,s,_,p,j,J,Dt,ui,Ot,fi){super(e,new Vt,Ot,_,J);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.router=s;this.tokenHelper=_;this.cmsConfirmationDialogService=p;this.cdr=j;this.translate=J;this.cmsStoreService=Dt;this.pageInfo=ui;this.publicHelper=Ot;this.dialog=fi;this.requestLinkPageId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","LinkPageId","CreatedDate","UpdatedDate"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","LinkPageId","CreatedDate","UpdatedDate"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Nt=>this.onSubmitOptionsSearch(Nt)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.requestLinkPageId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkPageId"));let e=new N;this.requestLinkPageId>0&&(e.propertyName="LinkPageId",e.value=this.requestLinkPageId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>ee(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.requestLinkPageId===0&&(this.tabledisplayedColumns=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumns,"LinkPageId")),this.tableRowsSelected=[],this.onActionTableRowSelect(new Vt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess&&(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.requestLinkPageId>0?this.router.navigate(["/webdesigner/intro/add/",this.requestLinkPageId]):this.router.navigate(["/webdesigner/intro/add/"])}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/webdesigner/intro/edit/",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.No_row_selected_for_editing").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(_,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess&&(i.set("All",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new N;_.propertyName="RecordStatus",_.value=it.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess&&(i.set("Active",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Pi.\u0275fac=function(i){return new(i||Pi)(M(ti),M(tt),M(O),M(Fe),M(We),M(qe),M(L),M(V),M(Pe),M(It),M(G),M(Be))},Pi.\u0275cmp=R({type:Pi,selectors:[["app-webdesigner-intro-list"]],standalone:!1,features:[U],decls:63,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-hea","","der","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkPageId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-hea","","der",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),D(1,4),c(2," -------------------------------------- "),w(),ye(3,5)(4,6),D(5,7),b(6,ca,2,0,"a",8),r(7,"a",9),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),I(8,"i",10),l(),r(9,"a",9),C("click",function(){return u(s),f(t.onActionButtonReload())}),I(10,"i",11),l(),w(),D(11,12),r(12,"a",13),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),I(13,"mat-slide-toggle",14),c(14),S(15,"translate"),l(),r(16,"a",13),C("click",function(){return u(s),f(t.onActionButtonStatist())}),I(17,"mat-slide-toggle",14),c(18),S(19,"translate"),l(),w(),D(20,15),b(21,pa,7,3,"div",16),w(),D(22,17),b(23,ma,7,3,"div",16)(24,ua,7,3,"div",16),w(),D(25,18),r(26,"app-cms-search-list",19),x("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),l(),r(27,"app-cms-statist-list",19),x("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),l(),w(),D(28,20),r(29,"mat-table",21,0),C("matSortChange",function(){u(s);let p=A(30);return f(t.onTableSortData(p))}),D(31,22),b(32,fa,3,3,"mat-header-cell",23)(33,_a,2,1,"mat-cell",24),w(),D(34,25),b(35,Sa,2,1,"mat-header-cell",26)(36,ha,2,1,"mat-cell",24),w(),D(37,27),b(38,Ma,2,1,"mat-header-cell",26)(39,ba,4,5,"mat-cell",24),w(),D(40,28),b(41,Ia,2,1,"mat-header-cell",26)(42,Ca,2,1,"mat-cell",24),w(),D(43,29),b(44,va,2,1,"mat-header-cell",26)(45,Da,5,7,"mat-cell",30),w(),D(46,31),b(47,wa,2,1,"mat-header-cell",26)(48,Ea,2,1,"mat-cell",24),w(),D(49,32),b(50,Ta,2,1,"mat-header-cell",26)(51,xa,3,3,"mat-cell",24),w(),D(52,33),b(53,Aa,2,1,"mat-header-cell",26)(54,Pa,3,3,"mat-cell",24),w(),D(55,34),b(56,Ra,3,3,"mat-header-cell",35)(57,Wa,6,1,"mat-cell",36),w(),b(58,ka,1,0,"mat-header-row",37)(59,La,1,6,"mat-row",38),l(),w(),D(60,39),r(61,"mat-paginator",40,1),C("page",function(p){return u(s),f(t.onTablePageingData(p))}),l(),w(),l()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),d("ngIf",t.requestLinkPageId>0),o(7),d("checked",t.optionsSearch.data.show),o(),g("",h(15,24,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),g("",h(19,26,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(29),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(28,sa)))},dependencies:[De,W,$e,xe,oe,F,at,lt,He,Re,st,dt,ct,mt,_t,ut,pt,St,ft,gt,ht,Mt,je,Ue,ze,vt,et,k,Ln,Wt,Vn,Qe,Lt],encapsulation:2});var sn=Pi;var Va=["vform"];function Ga(n,a){if(n&1){let e=v();r(0,"div",7)(1,"button",12),C("click",function(){u(e);let t=m();return f(t.onFormCancel())}),I(2,"i",13),c(3),S(4,"translate"),l()()}n&2&&(o(3),g(" ",h(4,1,"ACTION.CANCEL")," "))}var Gi=class Gi{constructor(a,e,i,t,s,_,p,j,J,Dt){this.data=a;this.dialogRef=e;this.coreEnumService=i;this.webDesignerLogMemberInfoService=t;this.cdr=s;this.cmsToastrService=_;this.tokenHelper=p;this.cmsStoreService=j;this.publicHelper=J;this.translate=Dt;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new To;this.dataModelResult=new B;this.dataModel=new an;this.formInfo=new re;this.dataModelEnumSendSmsStatusTypeResult=new B;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>ee(this,null,function*(){this.tokenInfo=a})),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.webDesignerLogMemberInfoService.setAccessLoad(),this.webDesignerLogMemberInfoService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onActionSelectorLocation(a){if(!a||!a.id||a.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(e=>{this.cmsToastrService.typeWarningSelected(e)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=a.id}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Gi.\u0275fac=function(e){return new(e||Gi)(M(Me),M(he),M(z),M(wi),M(L),M(O),M(We),M(Pe),M(G),M(V))},Gi.\u0275cmp=R({type:Gi,selectors:[["app-webdesigner-logmemberinfo-view"]],viewQuery:function(e,i){if(e&1&&te(Va,5),e&2){let t;ie(t=ne())&&(i.formGroup=t.first)}},standalone:!1,decls:19,vars:22,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[3,"dataModel","optionMethod"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",0),c(1),l(),r(2,"div",1),I(3,"app-progress-spinner",2)(4,"app-cms-site-selector",3),S(5,"translate"),I(6,"app-cms-user-selector",3),S(7,"translate"),I(8,"app-cms-json-list",4),r(9,"app-cms-location-selector",5),S(10,"translate"),C("optionChange",function(s){return i.onActionSelectorLocation(s)}),l()(),r(11,"div",6)(12,"div",7)(13,"small",8),c(14),l(),r(15,"small",9),c(16),l()()(),r(17,"div",10),b(18,Ga,5,3,"div",11),l()),e&2&&(o(),g(" ",i.formInfo.formTitle," "),o(2),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("optionDisabled",!0)("optionSelectForce",i.dataModel.linkSiteId)("optionPlaceholder",h(5,16,"TITLE.SITE")),o(2),d("optionDisabled",!0)("optionSelectForce",i.dataModel.linkUserId)("optionPlaceholder",h(7,18,"TITLE.USER")),o(2),d("dataModel",i.dataModel)("optionMethod",1),o(),d("optionDisabled",!(i.fieldsInfo.linkLocationId!=null&&i.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",i.dataModel.linkLocationId)("optionPlaceholder",h(10,20,"TITLE.Region")),o(5),g("",i.formInfo.formAlert," "),o(2),g("",i.formInfo.formError," "),o(2),d("ngIf",i.formInfo.formSubmitAllow))},dependencies:[W,Xo,ur,Zo,q,tr,k],encapsulation:2});var qn=Gi;var Fa=()=>[5,10,20,100],Ba=n=>({display:n});function Oa(n,a){if(n&1){let e=v();r(0,"div",46)(1,"a",47),C("click",function(){u(e);let t=m();return f(t.onActionButtonViewRow(t.tableRowSelected))}),I(2,"i",48)(3,"br"),l(),r(4,"p",49),c(5),S(6,"translate"),l()()}n&2&&(o(5),y(h(6,1,"ACTION.VIEW")))}function Na(n,a){if(n&1){let e=v();r(0,"div",46)(1,"a",50),C("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),I(2,"i",51)(3,"br"),l(),r(4,"p",49),c(5),S(6,"translate"),l()()}n&2&&(o(5),y(h(6,1,"ACTION.DELETE")))}function Ha(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function qa(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.id," ")}}function ja(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ua(n,a){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),l()),n&2){let e=a.$implicit;o(),g(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function za(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Qa(n,a){if(n&1&&I(0,"select",55),n&2){let e=m().$implicit,i=m();d("contentService",i.contentService)("row",e)("ngStyle",Ze(3,Ba,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Ka(n,a){if(n&1&&(r(0,"mat-cell",53),S(1,"statusCellClass"),I(2,"i",53),S(3,"statusIconClass"),b(4,Qa,1,5,"select",54),l()),n&2){let e=a.$implicit,i=m();d("ngClass",h(1,3,e.recordStatus)),o(2),d("ngClass",h(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Ja(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Ya(n,a){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmsuserinfo"),S(3,"async"),l()),n&2){let e=a.$implicit;o(),g(" ",h(3,3,h(2,1,e.linkUserId))," ")}}function Xa(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function Za(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.linkMemberId," ")}}function $a(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.linkLocationIdTitle==null?null:e.fieldsInfo.linkLocationIdTitle.fieldTitle," ")}}function el(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.linkLocationIdTitle," ")}}function tl(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.linkLocationIdParentTitle==null?null:e.fieldsInfo.linkLocationIdParentTitle.fieldTitle," ")}}function il(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.linkLocationIdParentTitle," ")}}function nl(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.deviceStatus==null?null:e.fieldsInfo.deviceStatus.fieldTitle," ")}}function ol(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.deviceStatus," ")}}function rl(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.deviceId==null?null:e.fieldsInfo.deviceId.fieldTitle," ")}}function al(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.deviceId," ")}}function ll(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.deviceBrand==null?null:e.fieldsInfo.deviceBrand.fieldTitle," ")}}function sl(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.deviceBrand," ")}}function dl(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.simCard==null?null:e.fieldsInfo.simCard.fieldTitle," ")}}function cl(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.simCard," ")}}function pl(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.appBuildVer==null?null:e.fieldsInfo.appBuildVer.fieldTitle," ")}}function ml(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.appBuildVer," ")}}function ul(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.appSourceVer==null?null:e.fieldsInfo.appSourceVer.fieldTitle," ")}}function fl(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.appSourceVer," ")}}function gl(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.scorePercent==null?null:e.fieldsInfo.scorePercent.fieldTitle," ")}}function _l(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.scorePercent," %")}}function Sl(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function hl(n,a){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"localeDate"),l()),n&2){let e=a.$implicit;o(),g(" ",h(2,1,e.createdDate)," ")}}function Ml(n,a){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.OPTION")," "))}function bl(n,a){if(n&1&&(r(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),c(3,"more_vert"),l()(),I(4,"mat-menu",null,2),l()),n&2){let e=A(5);o(),d("matMenuTriggerFor",e)}}function Il(n,a){n&1&&I(0,"mat-header-row")}function Cl(n,a){if(n&1){let e=v();r(0,"mat-row",58),C("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))}),l()}if(n&2){let e=a.$implicit,i=a.dataIndex,t=m();Ee("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Fi=class Fi extends Ct{constructor(e,i,t,s,_,p,j,J,Dt,ui,Ot,fi,Nt){super(e,new an,fi,ui,_);this.contentService=e;this.cmsConfirmationDialogService=i;this.activatedRoute=t;this.cdr=s;this.translate=_;this.themeService=p;this.cmsToastrService=j;this.cmsStoreService=J;this.router=Dt;this.tokenHelper=ui;this.pageInfo=Ot;this.publicHelper=fi;this.dialog=Nt;this.requestLinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","LinkUserId","LinkMemberId","DeviceStatus","DeviceId","DeviceBrand","SimCard","AppBuildVer","AppSourceVer","ScorePercent","CreatedDate"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","LinkUserId","LinkMemberId","DeviceStatus","DeviceId","DeviceBrand","SimCard","AppBuildVer","AppSourceVer","ScorePercent","CreatedDate"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:rn=>this.onSubmitOptionsSearch(rn)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.requestLinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId"));let e=new N;this.requestLinkMemberId>0&&(e.propertyName="LinkMemberId",e.value=this.requestLinkMemberId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>ee(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new an);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(qn,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(_,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(j=>{i.set(j,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new N;_.propertyName="RecordStatus",_.value=it.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(j=>{i.set(j,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/application/app/"])}};Fi.\u0275fac=function(i){return new(i||Fi)(M(wi),M(qe),M(tt),M(L),M(V),M(bt),M(O),M(Pe),M(Fe),M(We),M(It),M(G),M(Be))},Fi.\u0275cmp=R({type:Fi,selectors:[["app-webdesigner-logmemberinfo-list"]],standalone:!1,features:[U],decls:81,vars:27,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","LinkLocationIdTitle"],["matColumnDef","LinkLocationIdParentTitle"],["matColumnDef","DeviceStatus"],["matColumnDef","DeviceId"],["matColumnDef","DeviceBrand"],["matColumnDef","SimCard"],["matColumnDef","AppBuildVer"],["matColumnDef","AppSourceVer"],["matColumnDef","ScorePercent"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),ye(1,4)(2,5)(3,6),D(4,7),r(5,"a",8),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),I(6,"i",9),l(),r(7,"a",8),C("click",function(){return u(s),f(t.onActionButtonReload())}),I(8,"i",10),l(),w(),D(9,11),r(10,"a",12),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),I(11,"mat-slide-toggle",13),c(12),S(13,"translate"),l(),r(14,"a",12),C("click",function(){return u(s),f(t.onActionButtonStatist())}),I(15,"mat-slide-toggle",13),c(16),S(17,"translate"),l(),w(),ye(18,14),D(19,15),b(20,Oa,7,3,"div",16)(21,Na,7,3,"div",16),w(),D(22,17),r(23,"app-cms-search-list",18),x("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),l(),r(24,"app-cms-statist-list",18),x("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),l(),w(),D(25,19),r(26,"mat-table",20,0),C("matSortChange",function(){u(s);let p=A(27);return f(t.onTableSortData(p))}),D(28,21),b(29,Ha,2,1,"mat-header-cell",22)(30,qa,2,1,"mat-cell",23),w(),D(31,24),b(32,ja,2,1,"mat-header-cell",22)(33,Ua,4,5,"mat-cell",23),w(),D(34,25),b(35,za,2,1,"mat-header-cell",22)(36,Ka,5,7,"mat-cell",26),w(),D(37,27),b(38,Ja,2,1,"mat-header-cell",22)(39,Ya,4,5,"mat-cell",23),w(),D(40,28),b(41,Xa,2,1,"mat-header-cell",22)(42,Za,2,1,"mat-cell",23),w(),D(43,29),b(44,$a,2,1,"mat-header-cell",22)(45,el,2,1,"mat-cell",23),w(),D(46,30),b(47,tl,2,1,"mat-header-cell",22)(48,il,2,1,"mat-cell",23),w(),D(49,31),b(50,nl,2,1,"mat-header-cell",22)(51,ol,2,1,"mat-cell",23),w(),D(52,32),b(53,rl,2,1,"mat-header-cell",22)(54,al,2,1,"mat-cell",23),w(),D(55,33),b(56,ll,2,1,"mat-header-cell",22)(57,sl,2,1,"mat-cell",23),w(),D(58,34),b(59,dl,2,1,"mat-header-cell",22)(60,cl,2,1,"mat-cell",23),w(),D(61,35),b(62,pl,2,1,"mat-header-cell",22)(63,ml,2,1,"mat-cell",23),w(),D(64,36),b(65,ul,2,1,"mat-header-cell",22)(66,fl,2,1,"mat-cell",23),w(),D(67,37),b(68,gl,2,1,"mat-header-cell",22)(69,_l,2,1,"mat-cell",23),w(),D(70,38),b(71,Sl,2,1,"mat-header-cell",22)(72,hl,3,3,"mat-cell",23),w(),D(73,39),b(74,Ml,3,3,"mat-header-cell",40)(75,bl,6,1,"mat-cell",41),w(),b(76,Il,1,0,"mat-header-row",42)(77,Cl,1,6,"mat-row",43),l(),w(),D(78,44),r(79,"mat-paginator",45,1),C("page",function(p){return u(s),f(t.onTablePageingData(p))}),l(),w(),l()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(11),d("checked",t.optionsSearch.data.show),o(),g("",h(13,22,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),g("",h(17,24,"ACTION.STATIST")," "),o(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),o(),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(50),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(26,Fa)))},dependencies:[De,W,$e,xe,oe,F,at,lt,He,Re,st,dt,ct,mt,_t,ut,pt,St,ft,gt,ht,Mt,je,Ue,ze,vt,et,k,$o,Ln,Vn,Qe,Lt],encapsulation:2});var jn=Fi;var vl=["*"];function yl(n,a){if(n&1&&(r(0,"label",11),c(1),l()),n&2){let e=m();d("for",Ve("app-cms-site-selector-",e.id)),o(),y(e.optionLabel)}}function Dl(n,a){if(n&1&&(r(0,"mat-option",12)(1,"span"),c(2),l()()),n&2){let e=a.$implicit,i=m();d("value",e)("disabled",i.optionDisabled),o(2),y(i.displayOption(e))}}function wl(n,a){n&1&&I(0,"i",13)}function El(n,a){n&1&&I(0,"i",14)}function Tl(n,a){if(n&1){let e=v();r(0,"i",15),C("click",function(){u(e);let t=m();return f(t.onActionSelectClear())}),l()}}function xl(n,a){n&1&&(r(0,"em"),c(1),S(2,"translate"),l()),n&2&&(o(),g("(",h(2,1,"TITLE.Necessary"),")"))}var li=class li{constructor(a,e,i,t,s){this.coreEnumService=a;this.cdr=e;this.publicHelper=i;this.translate=t;this.categoryService=s;this.id=++li.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new B;this.dataModelSelect=new Ae;this.formControl=new Zt;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new wt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(zt(""),jt(1500),Ut(),Qt(a=>typeof a=="string"||typeof a=="number"?this.DataGetAll(a||""):[]))}displayFn(a){return a?a.title:void 0}displayOption(a){return a?a.title:void 0}DataGetAll(a){return ee(this,null,function*(){let e=new K;e.rowPerPage=20,e.accessLoad=!0;let i=new N;i.propertyName="Title",i.value=a,i.searchType=Ne.Contains,i.clauseType=Oe.Or,e.filters.push(i),a&&typeof+a=="number"&&+a>0&&(i=new N,i.propertyName="Id",i.value=a,i.searchType=Ne.Equal,i.clauseType=Oe.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield Ht(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect?.id?.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(a){this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(a){return this.filteredOptions.pipe(qt(e=>(e.find(i=>i.id===a.id)||e.push(a),e)))}onActionSelectForce(a){if(typeof a=="string"&&a.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===a)){let e=this.dataModelResult.listItems.find(i=>i.id===a);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(a).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof a==typeof Ae){this.filteredOptions=this.push(a),this.dataModelSelect=a,this.formControl.setValue(a);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ae,this.loadOptions()}};li.nextId=0,li.\u0275fac=function(e){return new(e||li)(M(z),M(L),M(G),M(V),M(nt))},li.\u0275cmp=R({type:li,selectors:[["app-webdesigner-menu-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:vl,decls:13,vars:18,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=v();Kt(),r(0,"div",1),I(1,"app-progress-spinner",2),b(2,yl,2,3,"label",3),I(3,"input",4),r(4,"mat-autocomplete",5,0),C("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),b(6,Dl,3,3,"mat-option",6),S(7,"async"),l(),b(8,wl,1,0,"i",7)(9,El,1,0,"i",8)(10,Tl,1,0,"i",9)(11,xl,3,3,"em",10),Jt(12),l()}if(e&2){let t=A(5);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),d("placeholder",P(i.optionPlaceholder))("id",Ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Et("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",h(7,16,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Ge,W,Y,Q,X,ei,ni,ii,oi,F,q,et,k],encapsulation:2});var Bi=li;var Rl=["vform"],Wl=()=>["fa"];function kl(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",29),x("modelChange",function(t){u(e);let s=m();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=m();E("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ll(n,a){n&1&&I(0,"i",35)}function Vl(n,a){n&1&&I(0,"i",36)}function Gl(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function Fl(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",30),c(2),l(),r(3,"input",31,2),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,Ll,1,0,"i",32)(6,Vl,1,0,"i",33),r(7,"em"),c(8),l(),b(9,Gl,5,4,"mat-error",34),l()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Bl(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function Ol(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",37),c(2),l(),r(3,"input",38,3),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),b(5,Bl,5,4,"mat-error",34),l()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),E("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),d("ngIf",e.errors==null?null:e.errors.required)}}function Nl(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",39),c(2),l(),r(3,"input",40,4),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.routeAddressLink,t)||(s.dataModel.routeAddressLink=t),f(t)}),l(),r(5,"em"),c(6),l()()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle)),E("ngModel",i.dataModel.routeAddressLink),d("disabled",!(i.fieldsInfo.routeAddressLink!=null&&i.fieldsInfo.routeAddressLink.accessEditField)),o(3),g("",e.value.length," / 500")}}function Hl(n,a){if(n&1){let e=v();r(0,"div",41)(1,"div",42)(2,"h5",43),c(3),l()(),r(4,"div",44)(5,"div",45)(6,"input",46),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.routeAddressBlankPage,t)||(s.dataModel.routeAddressBlankPage=t),f(t)}),l(),I(7,"label",47),l()()()}if(n&2){let e=m();o(3),g(" ",e.fieldsInfo.routeAddressBlankPage==null?null:e.fieldsInfo.routeAddressBlankPage.fieldTitle),o(3),E("ngModel",e.dataModel.routeAddressBlankPage)}}function ql(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",48),c(2),l(),r(3,"input",49,5),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.color,t)||(s.dataModel.color=t),f(t)}),l(),I(5,"ngx-mat-color-toggle",50)(6,"ngx-mat-color-picker",51,6),l()}if(n&2){let e=A(7),i=m();o(2),y(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle),o(),Yt("background",i.dataModel.color),d("placeholder",P(i.fieldsInfo.color==null?null:i.fieldsInfo.color.fieldTitle))("ngxMatColorPicker",e),E("ngModel",i.dataModel.color),d("disabled",!(i.fieldsInfo.color!=null&&i.fieldsInfo.color.accessAddField)),o(2),d("for",e),o(),d("touchUi",!0)("color","primary")}}function jl(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",52),c(2),l(),r(3,"input",53,7),C("iconPickerSelect",function(t){u(e);let s=m();return f(s.onIconPickerSelect(t))}),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.icon,t)||(s.dataModel.icon=t),f(t)}),l()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle),o(),d("placeholder",P(e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle))("iconPicker",e.dataModel.icon)("ipIconPack",Ie(8,Wl))("ipPosition","top"),E("ngModel",e.dataModel.icon),d("disabled",!(e.fieldsInfo.icon!=null&&e.fieldsInfo.icon.accessEditField))}}function Ul(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",54),c(2),l(),r(3,"input",55,8),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.showInMenuOrder,t)||(s.dataModel.showInMenuOrder=t),f(t)}),l()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle),o(),d("placeholder",P(e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle)),E("ngModel",e.dataModel.showInMenuOrder),d("disabled",!(e.fieldsInfo.showInMenuOrder!=null&&e.fieldsInfo.showInMenuOrder.accessEditField))}}function zl(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function Ql(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",56),c(2),l(),r(3,"textarea",57,9),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(5,"              "),l(),r(6,"em"),c(7),l(),b(8,zl,5,4,"mat-error",34),l()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Kl(n,a){if(n&1){let e=v();r(0,"div",58)(1,"button",59),C("click",function(){u(e);let t=m();return f(t.onFormCancel())}),c(2),S(3,"translate"),l(),r(4,"button",60),c(5),S(6,"translate"),l()()}if(n&2){m();let e=A(9);o(2),g(" ",h(3,3,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(),g(" ",h(6,5,"ACTION.SAVE")," ")}}function Jl(n,a){n&1&&(r(0,"mat-icon"),c(1,"call_end"),l())}function Yl(n,a){n&1&&(r(0,"mat-icon"),c(1,"call_end"),l())}function Xl(n,a){n&1&&(r(0,"mat-icon"),c(1,"forum"),l())}function Zl(n,a){n&1&&(r(0,"mat-icon"),c(1,"forum"),l())}var Oi=class Oi extends Rt{constructor(e,i,t,s,_,p,j,J){super(s,new Ae,p,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainMenuService=s;this.cmsToastrService=_;this.publicHelper=p;this.cdr=j;this.translate=J;this.requestParentId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResult=new B;this.dataModel=new Ae;this.formInfo=new re;this.dataModelEnumMenuPlaceTypeResult=new B;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestParentId=e.parentId+""),this.requestParentId.length>0&&(this.dataModel.linkParentId=this.requestParentId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.getEnumMenuPlaceType(),this.DataGetAccess()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:e=>{this.dataModelEnumMenuPlaceTypeResult=e}})}DataAddContent(){this.dataModel.color=this.dataModel.color?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainMenuService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){this.dataModel.linkParentId=null,e&&e.id?.length>0&&(this.dataModel.linkParentId=e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onIconPickerSelect(e){this.dataModel.icon=e}};Oi.\u0275fac=function(i){return new(i||Oi)(M(Me),M(he),M(z),M(nt),M(O),M(G),M(L),M(V))},Oi.\u0275cmp=R({type:Oi,selectors:[["app-webdesigner-menu-add"]],viewQuery:function(i,t){if(i&1&&te(Rl,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:35,vars:29,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["RouteAddressLink",""],["color",""],["colorPicker",""],["icon",""],["ShowInMenuOrder",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.routeAddressLink",1,"color-highlight"],["matInput","","type","text","name","dataModel.routeAddressLink","minlength","0","maxlength","500","id","dataModel.routeAddressLink",1,"form-control","validate-name",2,"direction","ltr","text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.routeAddressBlankPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.routeAddressBlankPage","name","dataModel.routeAddressBlankPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.routeAddressBlankPage",1,"custom-control-label"],["for","dataModel.color",1,"color-highlight"],["matInput","","type","text","name","dataModel.color","id","dataModel.color",1,"form-control","validate-name",3,"ngModelChange","ngxMatColorPicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.icon",1,"color-highlight"],["matInput","","type","text","name","dataModel.icon","id","dataModel.icon",1,"form-control","validate-name",3,"iconPickerSelect","ngModelChange","iconPicker","ipIconPack","ipPosition","ngModel","placeholder","disabled"],["for","dataModel.showInMenuOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInMenuOrder","id","dataModel.showInMenuOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","1","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=v();r(0,"div",10),I(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),c(4),l(),r(5,"p"),c(6),S(7,"translate"),l(),r(8,"form",14,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"mat-horizontal-stepper",15,1),C("selectionChange",function(p){u(s);let j=A(11);return f(t.onStepClick(p,j))}),r(12,"mat-step",16),S(13,"translate"),b(14,kl,1,5,"app-cms-enum-record-status-selector",17),r(15,"app-webdesigner-menu-selector",18),S(16,"translate"),C("optionChange",function(p){return u(s),f(t.onActionSelectorSelect(p))}),l(),b(17,Fl,10,9,"div",19),r(18,"div",20)(19,"label",21),c(20),S(21,"translate"),l(),r(22,"input",22),x("ngModelChange",function(p){return u(s),T(t.dataModel.titleML,p)||(t.dataModel.titleML=p),f(p)}),l()(),b(23,Ol,6,6,"div",19)(24,Nl,7,6,"div",19)(25,Hl,8,2,"div",23)(26,ql,8,11,"div",19)(27,jl,5,9,"div",19)(28,Ul,5,5,"div",19)(29,Ql,9,6,"div",19)(30,Kl,7,7,"div",24),l(),b(31,Jl,2,0,"ng-template",25)(32,Yl,2,0,"ng-template",26)(33,Xl,2,0,"ng-template",27)(34,Zl,2,0,"ng-template",28),l()()()()}i&2&&(o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",h(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",P(h(13,23,"TITLE.Menu_Profile"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("optionDisabled",!1)("optionSelectForce",t.dataModel.linkParentId)("optionPlaceholder",h(16,25,"TITLE.Parent_Menu")),o(2),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),g(" ",h(21,27,"TITLE.TitleML")),o(2),E("ngModel",t.dataModel.titleML),d("disabled",!0),o(),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),d("ngIf",t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.accessWatchField),o(),d("ngIf",t.fieldsInfo.routeAddressBlankPage==null?null:t.fieldsInfo.routeAddressBlankPage.accessWatchField),o(),d("ngIf",t.fieldsInfo.color==null?null:t.fieldsInfo.color.accessWatchField),o(),d("ngIf",t.fieldsInfo.icon==null?null:t.fieldsInfo.icon.accessWatchField),o(),d("ngIf",t.fieldsInfo.showInMenuOrder==null?null:t.fieldsInfo.showInMenuOrder.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow))},dependencies:[W,me,Y,$t,xt,Q,de,X,ge,_e,pe,ce,Se,Mn,oe,F,ri,ai,Pn,be,q,En,wn,Dn,Gn,Bi,k],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Ni=Oi;var $l=["vform"],es=()=>["fa"];function ts(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",29),x("modelChange",function(t){u(e);let s=m();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=m();E("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function is(n,a){n&1&&I(0,"i",35)}function ns(n,a){n&1&&I(0,"i",36)}function os(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function rs(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",30),c(2),l(),r(3,"input",31,2),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,is,1,0,"i",32)(6,ns,1,0,"i",33),r(7,"em"),c(8),l(),b(9,os,5,4,"mat-error",34),l()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function as(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function ls(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",37),c(2),l(),r(3,"input",38,3),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),b(5,as,5,4,"mat-error",34),l()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),E("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),d("ngIf",e.errors==null?null:e.errors.required)}}function ss(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",39),c(2),l(),r(3,"input",40,4),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.routeAddressLink,t)||(s.dataModel.routeAddressLink=t),f(t)}),l(),r(5,"em"),c(6),l()()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle)),E("ngModel",i.dataModel.routeAddressLink),d("disabled",!(i.fieldsInfo.routeAddressLink!=null&&i.fieldsInfo.routeAddressLink.accessEditField)),o(3),g("",e.value.length," / 500")}}function ds(n,a){if(n&1){let e=v();r(0,"div",41)(1,"div",42)(2,"h5",43),c(3),l()(),r(4,"div",44)(5,"div",45)(6,"input",46),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.routeAddressBlankPage,t)||(s.dataModel.routeAddressBlankPage=t),f(t)}),l(),I(7,"label",47),l()()()}if(n&2){let e=m();o(3),g(" ",e.fieldsInfo.routeAddressBlankPage==null?null:e.fieldsInfo.routeAddressBlankPage.fieldTitle),o(3),E("ngModel",e.dataModel.routeAddressBlankPage)}}function cs(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",48),c(2),l(),r(3,"input",49,5),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.color,t)||(s.dataModel.color=t),f(t)}),l(),I(5,"ngx-mat-color-toggle",50)(6,"ngx-mat-color-picker",51,6),l()}if(n&2){let e=A(7),i=m();o(2),y(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle),o(),Yt("background",i.dataModel.color),d("placeholder",P(i.fieldsInfo.color==null?null:i.fieldsInfo.color.fieldTitle))("ngxMatColorPicker",e),E("ngModel",i.dataModel.color),d("disabled",!(i.fieldsInfo.color!=null&&i.fieldsInfo.color.accessAddField)),o(2),d("for",e),o(),d("touchUi",!0)("color","primary")}}function ps(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",52),c(2),l(),r(3,"input",53,7),C("iconPickerSelect",function(t){u(e);let s=m();return f(s.onIconPickerSelect(t))}),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.icon,t)||(s.dataModel.icon=t),f(t)}),l()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle),o(),d("placeholder",P(e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle))("iconPicker",e.dataModel.icon)("ipIconPack",Ie(8,es))("ipPosition","top"),E("ngModel",e.dataModel.icon),d("disabled",!(e.fieldsInfo.icon!=null&&e.fieldsInfo.icon.accessEditField))}}function ms(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",54),c(2),l(),r(3,"input",55,8),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.showInMenuOrder,t)||(s.dataModel.showInMenuOrder=t),f(t)}),l()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle),o(),d("placeholder",P(e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle)),E("ngModel",e.dataModel.showInMenuOrder),d("disabled",!(e.fieldsInfo.showInMenuOrder!=null&&e.fieldsInfo.showInMenuOrder.accessEditField))}}function us(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function fs(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",56),c(2),l(),r(3,"textarea",57,9),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(5,"              "),l(),r(6,"em"),c(7),l(),b(8,us,5,4,"mat-error",34),l()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function gs(n,a){if(n&1){let e=v();r(0,"div",58)(1,"button",59),C("click",function(){u(e);let t=m();return f(t.onFormCancel())}),c(2),S(3,"translate"),l(),r(4,"button",60),c(5),S(6,"translate"),l()()}if(n&2){m();let e=A(9);o(2),g(" ",h(3,3,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(),g(" ",h(6,5,"ACTION.SAVE")," ")}}function _s(n,a){n&1&&(r(0,"mat-icon"),c(1,"call_end"),l())}function Ss(n,a){n&1&&(r(0,"mat-icon"),c(1,"call_end"),l())}function hs(n,a){n&1&&(r(0,"mat-icon"),c(1,"forum"),l())}function Ms(n,a){n&1&&(r(0,"mat-icon"),c(1,"forum"),l())}var Hi=class Hi extends kt{constructor(e,i,t,s,_,p,j,J){super(s,new Ae,_,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainMenuService=s;this.publicHelper=_;this.cmsToastrService=p;this.cdr=j;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.appLanguage="fa";this.dataModelResult=new yi;this.dataModel=new Ae;this.formInfo=new re;this.dataModelEnumMenuPlaceTypeResult=new B;this.fileManagerOpenForm=!1;this.dataWebDesignerMainMenuIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+"")}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumMenuPlaceType()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:e=>{this.dataModelEnumMenuPlaceTypeResult=e}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainMenuService.setAccessLoad(),this.webDesignerMainMenuService.setAccessDataType(At.Editor),this.webDesignerMainMenuService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.color=this.dataModel.color?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainMenuService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionSelectorSelect(e){this.dataModel.linkParentId=null,e&&e.id?.length>0&&(this.dataModel.linkParentId=e.id)}onActionSelectorUserCategorySelect(e){this.dataWebDesignerMainMenuModel=e}onIconPickerSelect(e){this.dataModel.icon=e}};Hi.\u0275fac=function(i){return new(i||Hi)(M(Me),M(he),M(z),M(nt),M(G),M(O),M(L),M(V))},Hi.\u0275cmp=R({type:Hi,selectors:[["app-webdesigner-menu-edit"]],viewQuery:function(i,t){if(i&1&&te($l,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:35,vars:29,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["RouteAddressLink",""],["color",""],["colorPicker",""],["icon",""],["ShowInMenuOrder",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.routeAddressLink",1,"color-highlight"],["matInput","","type","text","name","dataModel.routeAddressLink","minlength","0","maxlength","500","id","dataModel.routeAddressLink",1,"form-control","validate-name",2,"direction","ltr","text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.routeAddressBlankPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.routeAddressBlankPage","name","dataModel.routeAddressBlankPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.routeAddressBlankPage",1,"custom-control-label"],["for","dataModel.color",1,"color-highlight"],["matInput","","type","text","name","dataModel.color","id","dataModel.color",1,"form-control","validate-name",3,"ngModelChange","ngxMatColorPicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.icon",1,"color-highlight"],["matInput","","type","text","name","dataModel.icon","id","dataModel.icon",1,"form-control","validate-name",3,"iconPickerSelect","ngModelChange","iconPicker","ipIconPack","ipPosition","ngModel","placeholder","disabled"],["for","dataModel.showInMenuOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInMenuOrder","id","dataModel.showInMenuOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","1","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=v();r(0,"div",10),I(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),c(4),l(),r(5,"p"),c(6),S(7,"translate"),l(),r(8,"form",14,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"mat-horizontal-stepper",15,1),C("selectionChange",function(p){u(s);let j=A(11);return f(t.onStepClick(p,j))}),r(12,"mat-step",16),S(13,"translate"),b(14,ts,1,5,"app-cms-enum-record-status-selector",17),r(15,"app-webdesigner-menu-selector",18),S(16,"translate"),C("optionChange",function(p){return u(s),f(t.onActionSelectorSelect(p))}),l(),b(17,rs,10,9,"div",19),r(18,"div",20)(19,"label",21),c(20),S(21,"translate"),l(),r(22,"input",22),x("ngModelChange",function(p){return u(s),T(t.dataModel.titleML,p)||(t.dataModel.titleML=p),f(p)}),l()(),b(23,ls,6,6,"div",19)(24,ss,7,6,"div",19)(25,ds,8,2,"div",23)(26,cs,8,11,"div",19)(27,ps,5,9,"div",19)(28,ms,5,5,"div",19)(29,fs,9,6,"div",19)(30,gs,7,7,"div",24),l(),b(31,_s,2,0,"ng-template",25)(32,Ss,2,0,"ng-template",26)(33,hs,2,0,"ng-template",27)(34,Ms,2,0,"ng-template",28),l()()()()}i&2&&(o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",h(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",P(h(13,23,"TITLE.Menu_Profile"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("optionDisabled",!1)("optionSelectForce",t.dataModel.linkParentId)("optionPlaceholder",h(16,25,"TITLE.Parent_Menu")),o(2),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),g(" ",h(21,27,"TITLE.TitleML")),o(2),E("ngModel",t.dataModel.titleML),d("disabled",!0),o(),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),d("ngIf",t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.accessWatchField),o(),d("ngIf",t.fieldsInfo.routeAddressBlankPage==null?null:t.fieldsInfo.routeAddressBlankPage.accessWatchField),o(),d("ngIf",t.fieldsInfo.color==null?null:t.fieldsInfo.color.accessWatchField),o(),d("ngIf",t.fieldsInfo.icon==null?null:t.fieldsInfo.icon.accessWatchField),o(),d("ngIf",t.fieldsInfo.showInMenuOrder==null?null:t.fieldsInfo.showInMenuOrder.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow))},dependencies:[W,me,Y,$t,xt,Q,de,X,ge,_e,pe,ce,Se,Mn,oe,F,ri,ai,Pn,be,q,En,wn,Dn,Gn,Bi,k],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var qi=Hi;function bs(n,a){if(n&1){let e=v();r(0,"button",12),C("click",function(){u(e);let t=m();return f(t.onActionAdd())}),c(1),S(2,"translate"),l()}n&2&&(o(),y(h(2,1,"ACTION.ADD")))}function Is(n,a){if(n&1){let e=v();r(0,"button",13),C("click",function(){u(e);let t=m();return f(t.onActionEdit())}),c(1),S(2,"translate"),l()}n&2&&(o(),y(h(2,1,"ACTION.EDIT")))}function Cs(n,a){if(n&1){let e=v();r(0,"button",14),C("click",function(){u(e);let t=m();return f(t.onActionButtonReload())}),r(1,"mat-icon",15),S(2,"translate"),c(3,"refresh"),l()()}n&2&&(o(),d("title",P(h(2,2,"ACTION.RELOAD"))))}function vs(n,a){if(n&1){let e=v();r(0,"mat-tree-node",16),C("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionSelect(t))}),I(1,"button",17)(2,"i",18),c(3),l()}if(n&2){let e=a.$implicit,i=a.dataIndex,t=m();Ee("ntk-tree-odd",i%2)("ntk-tree-even",!(i%2))("ntk-tree-selected",(t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0&&t.dataModelSelect.id===e.id),o(2),d("ngClass",e.Icon),o(),g(" \xA0\xA0\xA0\xA0 ",e.title," ")}}function ys(n,a){if(n&1){let e=v();r(0,"mat-nested-tree-node")(1,"li")(2,"div",19),C("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionSelect(t))}),r(3,"button",20),C("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionSelect(t))}),r(4,"mat-icon",21),c(5),l()(),I(6,"i",18),c(7),l(),r(8,"ul"),ye(9,22),l()()()}if(n&2){let e=a.$implicit,i=m();o(2),Ee("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===e.id),o(),Et("aria-label","Toggle "+e.title),o(2),g(" ",i.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),o(),Yt("color",e.color),d("ngClass",e.Icon),o(),g(" \xA0\xA0\xA0\xA0 ",e.title," "),o(),Ee("category-tree-invisible",!i.treeControl.isExpanded(e))}}var ji=class ji{constructor(a,e,i,t,s,_,p,j,J,Dt){this.cmsToastrService=a;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=s;this.publicHelper=_;this.tokenHelper=p;this.themeService=j;this.cmsStoreService=J;this.translate=Dt;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Ae;this.dataModelResult=new B;this.filterModel=new K;this.treeControl=new Oo(a=>a.children);this.dataSource=new Ko;this.optionChange=new wt;this.optionReload=()=>this.onActionButtonReload();this.hasChild=(a,e)=>!!e.children&&e.children.length>0;this.publicHelper.processService.cdr=this.cdr,this.filterModel.sortColumn="ShowInMenuOrder",this.filterModel.sortType=H.Ascending}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){setTimeout(()=>{this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>ee(this,null,function*(){this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAllTree(this.filterModel).subscribe({next:e=>{e.isSuccess&&(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a)}})}onActionSelect(a){this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Ae,this.DataGetAll()}onActionSelectForce(a){}onActionAdd(){let a="";this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(a=this.dataModelSelect.id);let e=new Co;e.disableClose=!0,e.autoFocus=!0,e.data={parentId:a},this.dialog.open(Ni,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let a="";if(this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(a=this.dataModelSelect.id),a.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(qi,{height:"90%",panelClass:e,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:a}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let a="";if(this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(a=this.dataModelSelect.id),a.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}}};ji.\u0275fac=function(e){return new(e||ji)(M(O),M(z),M(nt),M(Be),M(L),M(G),M(We),M(bt),M(Pe),M(V))},ji.\u0275cmp=R({type:ji,selectors:[["app-webdesigner-menu-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:14,vars:13,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled",""],["aria-hidden","true",3,"ngClass"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",0),D(1,1),c(2),S(3,"translate"),w(),D(4,2),b(5,bs,3,3,"button",3)(6,Is,3,3,"button",4)(7,Cs,4,4,"button",5),w(),D(8,6),I(9,"app-progress-spinner",7),r(10,"mat-tree",8),b(11,vs,4,8,"mat-tree-node",9)(12,ys,10,10,"mat-nested-tree-node",10),l(),w(),ye(13,11),l()),e&2&&(d("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),g(" ",h(3,11,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),o(2),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("dataSource",i.dataSource)("treeControl",i.treeControl),o(2),d("matTreeNodeDefWhen",i.hasChild))},dependencies:[De,W,xe,oe,qo,Ho,jo,Qo,zo,No,Uo,q,sr,k],encapsulation:2});var Un=ji;var ws=()=>["expandedTitle"],Es=()=>[5,10,20,100],Ts=n=>({display:n});function xs(n,a){if(n&1){let e=v();r(0,"div",41)(1,"a",42),C("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),I(2,"i",43)(3,"br"),l(),r(4,"p",44),c(5),S(6,"translate"),l()()}n&2&&(o(5),y(h(6,1,"ACTION.ADD")))}function As(n,a){if(n&1){let e=v();r(0,"div",41)(1,"a",45),C("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),I(2,"i",46)(3,"br"),l(),r(4,"p",44),c(5),S(6,"translate"),l()()}n&2&&(o(5),y(h(6,1,"ACTION.EDIT")))}function Ps(n,a){if(n&1){let e=v();r(0,"div",41)(1,"a",47),C("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),I(2,"i",48)(3,"br"),l(),r(4,"p",44),c(5),S(6,"translate"),l()()}n&2&&(o(5),y(h(6,1,"ACTION.DELETE")))}function Rs(n,a){if(n&1){let e=v();r(0,"mat-row",49),C("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=a.$implicit,i=a.dataIndex,t=m();Ee("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function Ws(n,a){if(n&1&&(r(0,"mat-header-cell",50),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle," ")}}function ks(n,a){if(n&1&&(r(0,"mat-cell"),I(1,"i",51),l()),n&2){let e=a.$implicit;o(),Yt("color",e.color),d("ngClass",e.icon)}}function Ls(n,a){if(n&1&&(r(0,"mat-header-cell",50),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Vs(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.id," ")}}function Gs(n,a){if(n&1&&(r(0,"mat-header-cell",50),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Fs(n,a){if(n&1&&I(0,"select",54),n&2){let e=m().$implicit,i=m();d("contentService",i.contentService)("row",e)("ngStyle",Ze(3,Ts,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Bs(n,a){if(n&1&&(r(0,"mat-cell"),I(1,"i",52),S(2,"statusIconClass"),b(3,Fs,1,5,"select",53),l()),n&2){let e=a.$implicit,i=m();o(),d("ngClass",h(2,2,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Os(n,a){if(n&1&&(r(0,"mat-header-cell",50),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)}}function Ns(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.title," ")}}function Hs(n,a){n&1&&(r(0,"mat-header-cell",50),c(1),S(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.Show_In_Access_Admin_Allow_To_Professional_Data")))}function qs(n,a){if(n&1&&(r(0,"mat-cell"),I(1,"i",52),S(2,"boolclass"),l()),n&2){let e=a.$implicit;o(),d("ngClass",h(2,1,e.showInAccessAdminAllowToProfessionalData))}}function js(n,a){n&1&&(r(0,"mat-header-cell",50),c(1),S(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.Menu_Place_Type")," "))}function Us(n,a){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"enums"),l()),n&2){let e=a.$implicit,i=m();o(),g(" ",Tt(2,1,e.menuPlaceType,i.dataModelEnumMenuPlaceTypeResult.listItems)," ")}}function zs(n,a){if(n&1&&(r(0,"mat-header-cell",50),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle," ")}}function Qs(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.showInMenuOrder," ")}}function Ks(n,a){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.OPTION")," "))}function Js(n,a){if(n&1&&(r(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),c(3,"more_vert"),l()(),I(4,"mat-menu",null,2),l()),n&2){let e=A(5);o(),d("matMenuTriggerFor",e)}}function Ys(n,a){n&1&&(r(0,"mat-header-cell",50),c(1),S(2,"translate"),l()),n&2&&(o(),g("",h(2,1,"ACTION.ORDERING")," "))}function Xs(n,a){n&1&&(r(0,"mat-cell")(1,"mat-icon",57),c(2,"reorder"),l()())}function Zs(n,a){n&1&&I(0,"mat-header-row")}function $s(n,a){if(n&1){let e=v();r(0,"mat-row",58),C("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))}),l()}if(n&2){let e=a.$implicit,i=a.dataIndex,t=m();Ee("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),d("cdkDragData",e)}}function ed(n,a){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"translate"),I(3,"br"),c(4),S(5,"translate"),I(6,"br"),c(7),S(8,"translate"),l()),n&2){let e=a.$implicit;o(),Xt(" ",h(2,6,"TITLE.Id")," : ",e.id," "),o(3),Xt(" ",h(5,8,"TITLE.title")," : ",e.title," "),o(3),Xt(" ",h(8,10,"TITLE.DisplayInThePriorityMenu")," : ",e.ShowInMenuOrder," ")}}var Ui=class Ui extends Ct{constructor(e,i,t,s,_,p,j,J,Dt,ui,Ot,fi){super(e,new Ae,Ot,s,j);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.tokenHelper=s;this.coreEnumService=_;this.cdr=p;this.translate=j;this.themeService=J;this.cmsStoreService=Dt;this.pageInfo=ui;this.publicHelper=Ot;this.dialog=fi;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Icon","RecordStatus","ShowInAccessAdminAllowToProfessionalData","MenuPlaceType","position"];this.tabledisplayedColumnsMobileSource=["Icon","RecordStatus","ShowInAccessAdminAllowToProfessionalData","MenuPlaceType","position"];this.dataModelEnumMenuPlaceTypeResult=new B;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Nt=>this.onSubmitOptionsSearch(Nt)},this.filteModelContent.sortColumn="ShowInMenuOrder",this.filteModelContent.sortType=H.Ascending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})),this.getEnumMenuPlaceType()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:e=>{this.dataModelEnumMenuPlaceTypeResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ae);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new N;t.propertyName="LinkParentId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(s=>s===e.item.data),t=new Do;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=ro.GoUp:t.actionGo=ro.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:s=>{s.isSuccess&&(ir(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice())},error:s=>{this.cmsToastrService.typeError(s)}})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new K,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ni,{height:"90%",panelClass:e,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{parentId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(qi,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(_,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess&&(i.set("All",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new N;_.propertyName="RecordStatus",_.value=it.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess&&(i.set("Active",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}};Ui.\u0275fac=function(i){return new(i||Ui)(M(nt),M(qe),M(O),M(We),M(z),M(L),M(V),M(bt),M(Pe),M(It),M(G),M(Be))},Ui.\u0275cmp=R({type:Ui,selectors:[["app-webdesigner-menu-list"]],standalone:!1,features:[U],decls:65,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","Icon"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],["matColumnDef","Title"],["matColumnDef","ShowInAccessAdminAllowToProfessionalData"],["matColumnDef","MenuPlaceType"],["matColumnDef","ShowInMenuOrder"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["cdkDrag","",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","cdkDragData","click",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[3,"click","mouseenter","mouseleave"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],["cdkDrag","",3,"click","cdkDragData"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),D(1,4),r(2,"app-webdesigner-menu-tree",5),C("optionChange",function(p){return u(s),f(t.onActionSelectorSelect(p))}),l(),w(),ye(3,6)(4,7),D(5,8),r(6,"a",9),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),I(7,"i",10),l(),r(8,"a",9),C("click",function(){return u(s),f(t.onActionButtonReload())}),I(9,"i",11),l(),w(),D(10,12),r(11,"a",13),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),I(12,"mat-slide-toggle",14),c(13),S(14,"translate"),l(),r(15,"a",13),C("click",function(){return u(s),f(t.onActionButtonStatist())}),I(16,"mat-slide-toggle",14),c(17),S(18,"translate"),l(),w(),D(19,15),b(20,xs,7,3,"div",16),w(),D(21,17),b(22,As,7,3,"div",16)(23,Ps,7,3,"div",16),w(),D(24,18),r(25,"app-cms-search-list",19),x("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),l(),r(26,"app-cms-statist-list",19),x("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),l(),w(),D(27,20),r(28,"mat-table",21,0),C("matSortChange",function(){u(s);let p=A(29);return f(t.onTableSortData(p))})("cdkDropListDropped",function(p){return u(s),f(t.onTableDropRow(p))}),b(30,Rs,1,6,"mat-row",22),D(31,23),b(32,Ws,2,1,"mat-header-cell",24)(33,ks,2,3,"mat-cell",25),w(),D(34,26),b(35,Ls,2,1,"mat-header-cell",24)(36,Vs,2,1,"mat-cell",25),w(),D(37,27),b(38,Gs,2,1,"mat-header-cell",24)(39,Bs,4,4,"mat-cell",25),w(),D(40,28),b(41,Os,2,1,"mat-header-cell",24)(42,Ns,2,1,"mat-cell",25),w(),D(43,29),b(44,Hs,3,3,"mat-header-cell",24)(45,qs,3,3,"mat-cell",25),w(),D(46,30),b(47,js,3,3,"mat-header-cell",24)(48,Us,3,4,"mat-cell",25),w(),D(49,31),b(50,zs,2,1,"mat-header-cell",24)(51,Qs,2,1,"mat-cell",25),w(),D(52,32),b(53,Ks,3,3,"mat-header-cell",33)(54,Js,6,1,"mat-cell",34),w(),D(55,35),b(56,Ys,3,3,"mat-header-cell",24)(57,Xs,3,0,"mat-cell",25),w(),b(58,Zs,1,0,"mat-header-row",36)(59,$s,1,7,"mat-row",37),D(60,38),b(61,ed,9,12,"mat-cell",25),w(),l(),w(),D(62,39),r(63,"mat-paginator",40,1),C("page",function(p){return u(s),f(t.onTablePageingData(p))}),l(),w(),l()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","configuresite.webdesigner.menu"),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(12),d("checked",t.optionsSearch.data.show),o(),g("",h(14,25,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),g("",h(18,27,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),d("dataSource",t.tableSource)("cdkDropListData",t.tableSource),o(2),d("matRowDefColumns",Ie(29,ws)),o(28),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(4),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(30,Es)))},dependencies:[De,W,$e,xe,oe,F,at,lt,He,Re,st,dt,ct,mt,_t,ut,pt,St,ft,gt,ht,Mt,je,Ue,ze,vt,rr,or,nr,Un,k,mr,Qe,Ei],encapsulation:2});var zn=Ui;var id=["vform"];function nd(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",22),x("modelChange",function(t){u(e);let s=m();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=m();E("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function od(n,a){n&1&&I(0,"i",25)}function rd(n,a){n&1&&I(0,"i",26)}function ad(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function ld(n,a){if(n&1){let e=v();r(0,"div",13)(1,"label",23),c(2),l(),r(3,"input",24,3),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,od,1,0,"i",16)(6,rd,1,0,"i",17),r(7,"em"),c(8),l(),b(9,ad,5,4,"mat-error",18),l()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function sd(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function dd(n,a){if(n&1){let e=v();r(0,"div",13)(1,"label",27),c(2),l(),r(3,"input",28,4),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),r(5,"em"),c(6),l(),b(7,sd,5,4,"mat-error",18),l()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),E("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessAddField)),o(3),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function cd(n,a){n&1&&I(0,"i",25)}function pd(n,a){n&1&&I(0,"i",26)}function md(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m();o(),g(" ",e.fieldsInfo.cmsModuleClassName==null?null:e.fieldsInfo.cmsModuleClassName.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function ud(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m();o(),g(" ",e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function fd(n,a){if(n&1){let e=v();r(0,"div",29)(1,"button",30),C("click",function(){u(e);let t=m();return f(t.onFormCancel())}),I(2,"i",31),c(3),S(4,"translate"),l(),r(5,"button",32),I(6,"i",33),c(7),S(8,"translate"),l()()}if(n&2){m();let e=A(9);o(3),g(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),g(" ",h(8,5,"ACTION.SAVE")," ")}}var zi=class zi extends Rt{constructor(e,i,t,s,_,p,j,J){super(s,new Ye,p,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainPageDependencyService=s;this.cmsToastrService=_;this.publicHelper=p;this.cdr=j;this.translate=J;this.requestLinkModuleId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new B;this.dataModel=new Ye;this.formInfo=new re;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(this.requestLinkModuleId=+e.linkModuleId),this.requestLinkModuleId>0&&(this.dataModel.linkModuleId=this.requestLinkModuleId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageDependencyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectModule(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_module","MESSAGE.Information_module_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_module"],i["MESSAGE.Information_module_is_not_clear"])});return}this.dataModel.linkModuleId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};zi.\u0275fac=function(i){return new(i||zi)(M(Me),M(he),M(z),M(Pt),M(O),M(G),M(L),M(V))},zi.\u0275cmp=R({type:zi,selectors:[["app-webdesigner-pagedependency-add"]],viewQuery:function(i,t){if(i&1&&te(id,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:32,vars:29,consts:[["vform","ngForm"],["CmsModuleClassName",""],["ClassActionName",""],["Title",""],["TitleResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.cmsModuleClassName",1,"color-highlight"],["matInput","","type","text","name","dataModel.cmsModuleClassName","type","text","minlength","3","maxlength","100","required","","id","dataModel.cmsModuleClassName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.classActionName",1,"color-highlight"],["matInput","","type","text","name","dataModel.classActionName","type","text","id","dataModel.classActionName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",5),I(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),c(4),l(),r(5,"p"),c(6),S(7,"translate"),l(),r(8,"form",9,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,nd,1,5,"app-cms-enum-record-status-selector",10)(11,ld,10,9,"div",11)(12,dd,8,7,"div",11),r(13,"app-cms-module-selector",12),S(14,"translate"),C("optionChange",function(p){return u(s),f(t.onActionSelectModule(p))}),l(),r(15,"div",13)(16,"label",14),c(17),l(),r(18,"input",15,1),x("ngModelChange",function(p){return u(s),T(t.dataModel.cmsModuleClassName,p)||(t.dataModel.cmsModuleClassName=p),f(p)}),l(),b(20,cd,1,0,"i",16)(21,pd,1,0,"i",17),r(22,"em"),c(23),l(),b(24,md,5,4,"mat-error",18),l(),r(25,"div",13)(26,"label",19),c(27),l(),r(28,"input",20,2),x("ngModelChange",function(p){return u(s),T(t.dataModel.classActionName,p)||(t.dataModel.classActionName=p),f(p)}),l(),b(30,ud,5,4,"mat-error",18),l(),b(31,fd,9,7,"div",21),l()()()}if(i&2){let s=A(19),_=A(29);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",h(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),d("optionSelectForce",t.dataModel.linkModuleId)("optionPlaceholder",h(14,27,"TITLE.MODULE"))("optionDisabled",!(t.fieldsInfo.linkModuleId!=null&&t.fieldsInfo.linkModuleId.accessAddField)),o(4),y(t.fieldsInfo.cmsModuleClassName==null?null:t.fieldsInfo.cmsModuleClassName.fieldTitle),o(),d("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.cmsModuleClassName),d("disabled",!(t.fieldsInfo.cmsModuleClassName!=null&&t.fieldsInfo.cmsModuleClassName.accessAddField)),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),g("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),y(t.fieldsInfo.classActionName==null?null:t.fieldsInfo.classActionName.fieldTitle),o(),d("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.classActionName),d("disabled",!(t.fieldsInfo.classActionName!=null&&t.fieldsInfo.classActionName.accessAddField)),o(2),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[W,me,Y,Q,de,X,ge,_e,pe,ce,Se,F,be,Fn,q,k],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Qn=zi;var gd=["*"];function _d(n,a){if(n&1&&(r(0,"label",11),c(1),l()),n&2){let e=m();d("for",Ve("app-cms-site-selector-",e.id)),o(),y(e.optionLabel)}}function Sd(n,a){if(n&1&&(r(0,"mat-option",12)(1,"span"),c(2),l()()),n&2){let e=a.$implicit,i=m();d("value",e)("disabled",i.optionDisabled),o(2),y(i.displayOption(e))}}function hd(n,a){n&1&&I(0,"i",13)}function Md(n,a){n&1&&I(0,"i",14)}function bd(n,a){if(n&1){let e=v();r(0,"i",15),C("click",function(){u(e);let t=m();return f(t.onActionSelectClear())}),l()}}function Id(n,a){n&1&&(r(0,"em"),c(1),S(2,"translate"),l()),n&2&&(o(),g("(",h(2,1,"TITLE.Necessary"),")"))}var si=class si{constructor(a,e,i,t,s){this.coreEnumService=a;this.cdr=e;this.publicHelper=i;this.translate=t;this.categoryService=s;this.id=++si.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new B;this.dataModelSelect=new Xe;this.formControl=new Zt;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new wt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(zt(""),jt(1500),Ut(),Qt(a=>typeof a=="string"||typeof a=="number"?this.DataGetAll(a||""):[]))}displayFn(a){return a?a.title:void 0}displayOption(a){return a?a.title:void 0}DataGetAll(a){return ee(this,null,function*(){let e=new K;e.rowPerPage=20,e.accessLoad=!0;let i=new N;i.propertyName="Title",i.value=a,i.searchType=Ne.Contains,i.clauseType=Oe.Or,e.filters.push(i),a&&typeof+a=="number"&&+a>0&&(i=new N,i.propertyName="Id",i.value=a,i.searchType=Ne.Equal,i.clauseType=Oe.Or,e.filters.push(i));let t=this.constructor.name+"categoryService.ServiceGetAll";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield Ht(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(a){this.optionDisabled||(this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(a){return this.filteredOptions.pipe(qt(e=>(e.find(i=>i.id===a.id)||e.push(a),e)))}onActionSelectForce(a){if(typeof a=="string"&&a.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===a)){let e=this.dataModelResult.listItems.find(i=>i.id===a);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(a).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof a==typeof Xe){this.filteredOptions=this.push(a),this.dataModelSelect=a,this.formControl.setValue(a);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Xe,this.loadOptions()}};si.nextId=0,si.\u0275fac=function(e){return new(e||si)(M(z),M(L),M(G),M(V),M(rt))},si.\u0275cmp=R({type:si,selectors:[["app-webdesigner-pagetemplate-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:gd,decls:13,vars:18,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=v();Kt(),r(0,"div",1),I(1,"app-progress-spinner",2),b(2,_d,2,3,"label",3),I(3,"input",4),r(4,"mat-autocomplete",5,0),C("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),b(6,Sd,3,3,"mat-option",6),S(7,"async"),l(),b(8,hd,1,0,"i",7)(9,Md,1,0,"i",8)(10,bd,1,0,"i",9)(11,Id,3,3,"em",10),Jt(12),l()}if(e&2){let t=A(5);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),d("placeholder",P(i.optionPlaceholder))("id",Ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Et("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",h(7,16,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Ge,W,Y,Q,X,ei,ni,ii,oi,F,q,et,k],encapsulation:2});var di=si;var Cd=["*"];function vd(n,a){if(n&1&&(r(0,"label",11),c(1),l()),n&2){let e=m();d("for",Ve("app-cms-site-selector-",e.id)),o(),y(e.optionLabel)}}function yd(n,a){if(n&1&&(r(0,"mat-option",12)(1,"span"),c(2),l()()),n&2){let e=a.$implicit,i=m();d("value",e)("disabled",i.optionDisabled),o(2),y(i.displayOption(e))}}function Dd(n,a){n&1&&I(0,"i",13)}function wd(n,a){n&1&&I(0,"i",14)}function Ed(n,a){if(n&1){let e=v();r(0,"i",15),C("click",function(){u(e);let t=m();return f(t.onActionSelectClear())}),l()}}function Td(n,a){n&1&&(r(0,"em"),c(1),S(2,"translate"),l()),n&2&&(o(),g("(",h(2,1,"TITLE.Necessary"),")"))}var ci=class ci{constructor(a,e,i,t,s){this.coreEnumService=a;this.translate=e;this.cdr=i;this.publicHelper=t;this.categoryService=s;this.id=++ci.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new B;this.dataModelSelect=new Je;this.formControl=new Zt;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionMasterPage=!1;this.optionLabel="";this.optionPlaceholder="";this.optionChange=new wt;this.masterTemplateId="";this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionMasterTemplateId(a){this.masterTemplateId=a,this.loadOptions()}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(zt(""),jt(1500),Ut(),Qt(a=>typeof a=="string"||typeof a=="number"?this.DataGetAll(a||""):[]))}displayFn(a){return a?a.title:void 0}displayOption(a){return a?a.title:void 0}DataGetAll(a){return ee(this,null,function*(){let e=new K;e.rowPerPage=20,e.accessLoad=!0;let i=new N,t=new N;a&&a.length>0&&(i.propertyName="Title",i.value=a,i.searchType=Ne.Contains,i.clauseType=Oe.Or,t.filters.push(i)),a&&typeof+a=="number"&&+a>0&&(i=new N,i.propertyName="Id",i.value=a,i.searchType=Ne.Equal,i.clauseType=Oe.Or,t.filters.push(i)),e.filters.push(t),this.optionMasterPage&&(i=new N,i.propertyName="PageAbilityType",i.value=yo.Master,i.searchType=Ne.Equal,i.clauseType=Oe.And,e.filters.push(i)),this.masterTemplateId&&this.masterTemplateId.length>0&&(i=new N,i.propertyName="LinkPageTemplateGuId",i.value=this.masterTemplateId,i.searchType=Ne.Equal,i.clauseType=Oe.And,e.filters.push(i));let s=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(_=>{this.publicHelper.processService.processStart(s,_,this.constructorInfoAreaId)}),yield Ht(this.categoryService.ServiceGetAll(e)).then(_=>(this.dataModelResult=_,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(s),_.listItems))})}onActionSelect(a){this.optionDisabled||(this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(a){return this.filteredOptions.pipe(qt(e=>(e.find(i=>i.id===a.id)||e.push(a),e)))}onActionSelectForce(a){if(typeof a=="string"&&a.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===a)){let e=this.dataModelResult.listItems.find(i=>i.id===a);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(a).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof a==typeof Je){this.filteredOptions=this.push(a),this.dataModelSelect=a,this.formControl.setValue(a);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Je,this.loadOptions()}};ci.nextId=0,ci.\u0275fac=function(e){return new(e||ci)(M(z),M(V),M(L),M(G),M(ot))},ci.\u0275cmp=R({type:ci,selectors:[["app-webdesigner-page-selector"]],inputs:{optionMasterTemplateId:"optionMasterTemplateId",optionSelectForce:"optionSelectForce",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionMasterPage:"optionMasterPage",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Cd,decls:13,vars:18,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=v();Kt(),r(0,"div",1),I(1,"app-progress-spinner",2),b(2,vd,2,3,"label",3),I(3,"input",4),r(4,"mat-autocomplete",5,0),C("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),b(6,yd,3,3,"mat-option",6),S(7,"async"),l(),b(8,Dd,1,0,"i",7)(9,wd,1,0,"i",8)(10,Ed,1,0,"i",9)(11,Td,3,3,"em",10),Jt(12),l()}if(e&2){let t=A(5);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),d("placeholder",P(i.optionPlaceholder))("id",Ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Et("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",h(7,16,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Ge,W,Y,Q,X,ei,ni,ii,oi,F,q,et,k],encapsulation:2});var pi=ci;var xd=["vform"];function Ad(n,a){if(n&1){let e=v();r(0,"app-webdesigner-page-selector",17),S(1,"translate"),C("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectParent(t))}),l()}if(n&2){let e=m();d("optionMasterPage",!0)("optionMasterTemplateId",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",h(1,4,"TITLE.parent_page"))("optionDisabled",!1)}}function Pd(n,a){if(n&1){let e=v();r(0,"div",12)(1,"button",18),C("click",function(){u(e);let t=m();return f(t.onFormCancel())}),I(2,"i",19),c(3),S(4,"translate"),l(),r(5,"button",20),I(6,"i",21),c(7),S(8,"translate"),l()()}if(n&2){m();let e=A(9);o(3),g(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),g(" ",h(8,5,"ACTION.SAVE")," ")}}var Qi=class Qi{constructor(a,e,i,t,s,_,p,j){this.data=a;this.dialogRef=e;this.coreEnumService=i;this.webDesignerMainPageService=t;this.cmsToastrService=s;this.publicHelper=_;this.cdr=p;this.translate=j;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new yi;this.dataModel=new Po;this.formInfo=new re;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Automatically_add_all_pages").subscribe(a=>{this.formInfo.formTitle=a})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.webDesignerMainPageService.ServiceAutoAdd(this.dataModel).subscribe({next:e=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=e,e.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(i=>{this.formInfo.formAlert=i}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a)}})}onActionSelectModule(a){if(!a||a.id.length<=0){this.translate.get(["MESSAGE.Specify_the_template","MESSAGE.Information_of_template_is_not_clear"]).subscribe(e=>{this.cmsToastrService.typeErrorMessage(e["MESSAGE.Specify_the_template"],e["MESSAGE.Information_of_template_is_not_clear"])});return}this.dataModel.linkPageTemplateGuId=a.id}onActionSelectParent(a){this.dataModel.linkPageParentGuId="",a&&a.id&&a.id.length>0&&(this.dataModel.linkPageParentGuId=a.id)}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,!this.dataModel.linkPageTemplateGuId||this.dataModel.linkPageTemplateGuId.length<=0){this.translate.get(["MESSAGE.Specify_the_template","MESSAGE.Information_of_template_is_not_clear"]).subscribe(a=>{this.cmsToastrService.typeErrorMessage(a["MESSAGE.Specify_the_template"],a["MESSAGE.Information_of_template_is_not_clear"])});return}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Qi.\u0275fac=function(e){return new(e||Qi)(M(Me),M(he),M(z),M(ot),M(O),M(G),M(L),M(V))},Qi.\u0275cmp=R({type:Qi,selectors:[["app-webdesigner-pagedependency-autoaddpage"]],viewQuery:function(e,i){if(e&1&&te(xd,5),e&2){let t;ie(t=ne())&&(i.formGroup=t.first)}},standalone:!1,decls:25,vars:16,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],[1,"ntk-full-width"],["name","dataModel.pageDependencyIsDefaultPage",3,"ngModelChange","ngModel"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"optionChange","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionDisabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){if(e&1){let t=v();r(0,"div",1),I(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),c(4),l(),r(5,"p"),c(6),S(7,"translate"),l(),r(8,"form",5,0),C("ngSubmit",function(){return u(t),f(i.onFormSubmit())}),r(10,"div",6)(11,"app-webdesigner-pagetemplate-selector",7),S(12,"translate"),C("optionChange",function(_){return u(t),f(i.onActionSelectModule(_))}),l(),b(13,Ad,2,6,"app-webdesigner-page-selector",8),r(14,"div",9)(15,"mat-slide-toggle",10),x("ngModelChange",function(_){return u(t),T(i.dataModel.pageDependencyIsDefaultPage,_)||(i.dataModel.pageDependencyIsDefaultPage=_),f(_)}),c(16),l()()(),r(17,"div",11)(18,"div",12)(19,"small",13),c(20),l(),r(21,"small",14),c(22),l()()(),r(23,"div",15),b(24,Pd,9,7,"div",16),l()()()()}e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),g(" ",i.formInfo.formTitle," "),o(2),g(" ",h(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),o(5),d("optionSelectForce",i.dataModel.linkPageTemplateGuId)("optionPlaceholder",h(12,14,"TITLE.Select_the_template"))("optionDisabled",!1),o(2),d("ngIf",i.dataModel.linkPageTemplateGuId&&i.dataModel.linkPageTemplateGuId.length>0),o(2),E("ngModel",i.dataModel.pageDependencyIsDefaultPage),o(),g(" ",i.fieldsInfo.pageDependencyIsDefaultPage==null?null:i.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," "),o(4),g("",i.formInfo.formAlert," "),o(2),g("",i.formInfo.formError," "),o(2),d("ngIf",i.formInfo.formSubmitAllow))},dependencies:[W,me,Q,de,pe,ce,Re,q,di,pi,k],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Kn=Qi;var Rd=["vform"];function Wd(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",24),x("modelChange",function(t){u(e);let s=m();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=m();E("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function kd(n,a){n&1&&I(0,"i",27)}function Ld(n,a){n&1&&I(0,"i",28)}function Vd(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function Gd(n,a){if(n&1){let e=v();r(0,"div",12)(1,"label",25),c(2),l(),r(3,"input",26,3),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,kd,1,0,"i",18)(6,Ld,1,0,"i",19),r(7,"em"),c(8),l(),b(9,Vd,5,4,"mat-error",20),l()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Fd(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function Bd(n,a){if(n&1){let e=v();r(0,"div",12)(1,"label",29),c(2),l(),r(3,"input",30,4),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),r(5,"em"),c(6),l(),b(7,Fd,5,4,"mat-error",20),l()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),E("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(3),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Od(n,a){n&1&&I(0,"i",27)}function Nd(n,a){n&1&&I(0,"i",28)}function Hd(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m();o(),g(" ",e.fieldsInfo.cmsModuleClassName==null?null:e.fieldsInfo.cmsModuleClassName.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function qd(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m();o(),g(" ",e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function jd(n,a){if(n&1){let e=v();r(0,"div",31)(1,"button",32),C("click",function(){u(e);let t=m();return f(t.onFormCancel())}),I(2,"i",33),c(3),S(4,"translate"),l(),r(5,"button",34),I(6,"i",35),c(7),S(8,"translate"),l()()}if(n&2){m();let e=A(9);o(3),g(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),g(" ",h(8,5,"ACTION.SAVE")," ")}}var Ki=class Ki extends kt{constructor(e,i,t,s,_,p,j,J){super(s,new Ye,p,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainPageDependencyService=s;this.cmsToastrService=_;this.publicHelper=p;this.cdr=j;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new yi;this.dataModel=new Ye;this.formInfo=new re;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageDependencyService.setAccessLoad(),this.webDesignerMainPageDependencyService.setAccessDataType(At.Editor),this.webDesignerMainPageDependencyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageDependencyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectModule(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_module","MESSAGE.Information_module_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_module"],i["MESSAGE.Information_module_is_not_clear"])});return}this.dataModel.linkModuleId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ki.\u0275fac=function(i){return new(i||Ki)(M(Me),M(he),M(z),M(Pt),M(O),M(G),M(L),M(V))},Ki.\u0275cmp=R({type:Ki,selectors:[["app-webdesigner-pagedependency-edit"]],viewQuery:function(i,t){if(i&1&&te(Rd,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:37,vars:34,consts:[["vform","ngForm"],["CmsModuleClassName",""],["ClassActionName",""],["Title",""],["TitleResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.cmsModuleClassName",1,"color-highlight"],["matInput","","type","text","name","dataModel.cmsModuleClassName","type","text","minlength","3","maxlength","100","required","","id","dataModel.cmsModuleClassName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.classActionName",1,"color-highlight"],["matInput","","type","text","name","dataModel.classActionName","type","text","id","dataModel.classActionName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",5),I(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),c(4),l(),r(5,"p"),c(6),S(7,"translate"),l(),r(8,"form",9,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,Wd,1,5,"app-cms-enum-record-status-selector",10)(11,Gd,10,9,"div",11),r(12,"div",12)(13,"label",13),c(14),S(15,"translate"),l(),r(16,"input",14),x("ngModelChange",function(p){return u(s),T(t.dataModel.titleML,p)||(t.dataModel.titleML=p),f(p)}),l()(),b(17,Bd,8,7,"div",11),r(18,"app-cms-module-selector",15),S(19,"translate"),C("optionChange",function(p){return u(s),f(t.onActionSelectModule(p))}),l(),r(20,"div",12)(21,"label",16),c(22),l(),r(23,"input",17,1),x("ngModelChange",function(p){return u(s),T(t.dataModel.cmsModuleClassName,p)||(t.dataModel.cmsModuleClassName=p),f(p)}),l(),b(25,Od,1,0,"i",18)(26,Nd,1,0,"i",19),r(27,"em"),c(28),l(),b(29,Hd,5,4,"mat-error",20),l(),r(30,"div",12)(31,"label",21),c(32),l(),r(33,"input",22,2),x("ngModelChange",function(p){return u(s),T(t.dataModel.classActionName,p)||(t.dataModel.classActionName=p),f(p)}),l(),b(35,qd,5,4,"mat-error",20),l(),b(36,jd,9,7,"div",23),l()()()}if(i&2){let s=A(24),_=A(34);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",h(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),g(" ",h(15,30,"TITLE.TitleML")),o(2),E("ngModel",t.dataModel.titleML),d("disabled",!0),o(),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),d("optionSelectForce",t.dataModel.linkModuleId)("optionPlaceholder",h(19,32,"TITLE.MODULE"))("optionDisabled",!(t.fieldsInfo.linkModuleId!=null&&t.fieldsInfo.linkModuleId.accessEditField)),o(4),y(t.fieldsInfo.cmsModuleClassName==null?null:t.fieldsInfo.cmsModuleClassName.fieldTitle),o(),d("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.cmsModuleClassName),d("disabled",!(t.fieldsInfo.cmsModuleClassName!=null&&t.fieldsInfo.cmsModuleClassName.accessEditField)),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),g("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),y(t.fieldsInfo.classActionName==null?null:t.fieldsInfo.classActionName.fieldTitle),o(),d("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.classActionName),d("disabled",!(t.fieldsInfo.classActionName!=null&&t.fieldsInfo.classActionName.accessEditField)),o(2),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[W,me,Y,Q,de,X,ge,_e,pe,ce,Se,F,be,Fn,q,k],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Jn=Ki;var Ud=()=>[5,10,20,100],zd=n=>({display:n});function Qd(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",45),C("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),I(2,"i",46)(3,"br"),l(),r(4,"p",21),c(5),S(6,"translate"),l()()}n&2&&(o(5),y(h(6,1,"ACTION.ADD")))}function Kd(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",47),C("click",function(){u(e);let t=m();return f(t.onActionButtonNewRowAutoDependency())}),r(2,"i",46),c(3,"Dependency"),l(),I(4,"br"),l(),r(5,"p",21),c(6),S(7,"translate"),l()()}n&2&&(o(6),g("",h(7,1,"ACTION.AUTOADD"),"Dependency"))}function Jd(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",47),C("click",function(){u(e);let t=m();return f(t.onActionButtonNewRowAutoPage())}),r(2,"i",46),c(3,"Page"),l(),I(4,"br"),l(),r(5,"p",21),c(6),S(7,"translate"),l()()}n&2&&(o(6),g("",h(7,1,"ACTION.AUTOADD"),"Page"))}function Yd(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",48),C("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),I(2,"i",49)(3,"br"),l(),r(4,"p",21),c(5),S(6,"translate"),l()()}n&2&&(o(5),y(h(6,1,"ACTION.EDIT")))}function Xd(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",50),C("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),I(2,"i",51)(3,"br"),l(),r(4,"p",21),c(5),S(6,"translate"),l()()}n&2&&(o(5),y(h(6,1,"ACTION.DELETE")))}function Zd(n,a){n&1&&(r(0,"mat-header-cell",52),c(1),S(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.PICTURE")," "))}function $d(n,a){if(n&1&&(I(0,"img",54),S(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",P(h(1,2,e.linkModuleFileLogoIdSrc)),ve)}}function ec(n,a){if(n&1&&(r(0,"mat-cell"),b(1,$d,2,4,"img",53),l()),n&2){let e=a.$implicit;o(),d("ngIf",(e==null||e.linkModuleFileLogoIdSrc==null?null:e.linkModuleFileLogoIdSrc.length)>0)}}function tc(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ic(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.id," ")}}function nc(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function oc(n,a){if(n&1&&I(0,"select",57),n&2){let e=m().$implicit,i=m();d("contentService",i.contentService)("row",e)("ngStyle",Ze(3,zd,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function rc(n,a){if(n&1&&(r(0,"mat-cell",55),S(1,"statusCellClass"),I(2,"i",55),S(3,"statusIconClass"),b(4,oc,1,5,"select",56),l()),n&2){let e=a.$implicit,i=m();d("ngClass",h(1,3,e.recordStatus)),o(2),d("ngClass",h(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function ac(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function lc(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.title," ")}}function sc(n,a){n&1&&(r(0,"mat-header-cell",52),c(1),S(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.TitleML")," "))}function dc(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.titleML," ")}}function cc(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.linkModuleId==null?null:e.fieldsInfo.linkModuleId.fieldTitle," ")}}function pc(n,a){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmstitle"),l()),n&2){let e=a.$implicit,i=m();o(),g(" ",Tt(2,1,e.linkModuleId,i.dataModelCoreModuleResult.listItems)," ")}}function mc(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.cmsModuleClassName==null?null:e.fieldsInfo.cmsModuleClassName.fieldTitle," ")}}function uc(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.cmsModuleClassName," ")}}function fc(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle," ")}}function gc(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.classActionName," ")}}function _c(n,a){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.OPTION")," "))}function Sc(n,a){if(n&1&&(r(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),c(3,"more_vert"),l()(),I(4,"mat-menu",null,2),l()),n&2){let e=A(5);o(),d("matMenuTriggerFor",e)}}function hc(n,a){n&1&&I(0,"mat-header-row")}function Mc(n,a){if(n&1){let e=v();r(0,"mat-row",60),C("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))}),l()}if(n&2){let e=a.$implicit,i=a.dataIndex,t=m();Ee("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Ji=class Ji extends Ct{constructor(e,i,t,s,_,p,j,J,Dt,ui,Ot,fi,Nt,rn,br){super(e,new Ye,rn,j,ui);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.coreModuleService=s;this.activatedRoute=_;this.router=p;this.tokenHelper=j;this.http=J;this.cdr=Dt;this.translate=ui;this.pageInfo=Ot;this.themeService=fi;this.cmsStoreService=Nt;this.publicHelper=rn;this.dialog=br;this.requestLinkModuleId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.dataModelCoreModuleResult=new B;this.categoryModelSelected=new Eo;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","TitleML","LinkModuleId","CmsModuleClassName","ClassActionName"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","TitleML","LinkModuleId","CmsModuleClassName","ClassActionName"];this.publicHelper.processService.cdr=this.cdr,this.requestLinkModuleId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkModuleId")),this.optionsSearch.parentMethods={onSubmit:Le=>this.onSubmitOptionsSearch(Le)},this.filteModelContent.sortColumn="LinkModuleId",this.filteModelContent.sortType=H.Ascending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})),this.getModuleList()}getModuleList(){let e=new K;e.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(e).subscribe({next:i=>{this.dataModelCoreModuleResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,["Id","RecordStatus","Title","CmsModuleClassName","ClassActionName"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ye);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=new N,t=JSON.parse(JSON.stringify(this.filteModelContent));this.categoryModelSelected&&this.categoryModelSelected.id>0&&(i.propertyName="LinkModuleId",i.value=this.categoryModelSelected.id,t.filters.push(i)),this.contentService.ServiceGetAllEditor(t).subscribe({next:s=>{s.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(s.access),this.dataModelResult=s,this.tableSource.data=s.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(s.access)},1e3)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):(H,e.start="desc"):(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),H,this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Qn,{height:"90%",panelClass:e,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{linkModuleId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonNewRowAutoPage(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Kn,{height:"90%",panelClass:e,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{linkModuleId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonNewRowAutoDependency(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=new N;this.contentService.ServiceAutoAdd().subscribe({next:t=>{t.isSuccess&&this.cmsToastrService.typeSuccessAdd(),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Jn,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(_,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonPageList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.tokenInfo.access.userAccessAdminAllowToAllData?this.router.navigate(["/webdesigner/page/list-grid/LinkPageDependencyGuId",this.tableRowSelected.id]):this.router.navigate(["/webdesigner/page/LinkPageDependencyGuId",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess&&(i.set("All",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new N;_.propertyName="RecordStatus",_.value=it.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess&&(i.set("Active",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}})}onActionButtonSiteRouteView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}let i=this.tokenInfo.site.currentSiteDomainUrl+"/"+e.cmsModuleClassName+"/"+e.classActionName;window.open(i,"_blank")}onActionSelectorSelect(e){let i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new K,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}};Ji.\u0275fac=function(i){return new(i||Ji)(M(Pt),M(O),M(qe),M(Tn),M(tt),M(Fe),M(We),M(fo),M(L),M(V),M(It),M(bt),M(Pe),M(G),M(Be))},Ji.\u0275cmp=R({type:Ji,selectors:[["app-webdesigner-pagedependency-list"]],standalone:!1,features:[U],decls:78,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkModuleFileLogoIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","TitleML"],["matColumnDef","LinkModuleId"],["matColumnDef","CmsModuleClassName"],["matColumnDef","ClassActionName"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),D(1,4),r(2,"app-core-module-tree",5),C("optionChange",function(p){return u(s),f(t.onActionSelectorSelect(p))}),l(),w(),ye(3,6)(4,7),D(5,8),r(6,"a",9),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),I(7,"i",10),l(),r(8,"a",9),C("click",function(){return u(s),f(t.onActionButtonReload())}),I(9,"i",11),l(),w(),D(10,12),r(11,"a",13),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),I(12,"mat-slide-toggle",14),c(13),S(14,"translate"),l(),r(15,"a",13),C("click",function(){return u(s),f(t.onActionButtonStatist())}),I(16,"mat-slide-toggle",14),c(17),S(18,"translate"),l(),w(),D(19,15),b(20,Qd,7,3,"div",16)(21,Kd,8,3,"div",16)(22,Jd,8,3,"div",16),w(),D(23,17),b(24,Yd,7,3,"div",16)(25,Xd,7,3,"div",16),r(26,"div",18)(27,"a",19),C("click",function(){return u(s),f(t.onActionButtonPageList(t.tableRowSelected))}),I(28,"i",20)(29,"br"),l(),r(30,"p",21),c(31),S(32,"translate"),l()(),r(33,"div",18)(34,"a",19),C("click",function(){return u(s),f(t.onActionButtonSiteRouteView(t.tableRowSelected))}),I(35,"i",22)(36,"br"),l(),r(37,"p",21),c(38),S(39,"translate"),l()(),w(),D(40,23),r(41,"app-cms-search-list",24),x("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),l(),r(42,"app-cms-statist-list",24),x("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),l(),w(),D(43,25),r(44,"mat-table",26,0),C("matSortChange",function(){u(s);let p=A(45);return f(t.onTableSortData(p))}),D(46,27),b(47,Zd,3,3,"mat-header-cell",28)(48,ec,2,1,"mat-cell",29),w(),D(49,30),b(50,tc,2,1,"mat-header-cell",28)(51,ic,2,1,"mat-cell",29),w(),D(52,31),b(53,nc,2,1,"mat-header-cell",28)(54,rc,5,7,"mat-cell",32),w(),D(55,33),b(56,ac,2,1,"mat-header-cell",28)(57,lc,2,1,"mat-cell",29),w(),D(58,34),b(59,sc,3,3,"mat-header-cell",28)(60,dc,2,1,"mat-cell",29),w(),D(61,35),b(62,cc,2,1,"mat-header-cell",28)(63,pc,3,4,"mat-cell",29),w(),D(64,36),b(65,mc,2,1,"mat-header-cell",28)(66,uc,2,1,"mat-cell",29),w(),D(67,37),b(68,fc,2,1,"mat-header-cell",28)(69,gc,2,1,"mat-cell",29),w(),D(70,38),b(71,_c,3,3,"mat-header-cell",39)(72,Sc,6,1,"mat-cell",40),w(),b(73,hc,1,0,"mat-header-row",41)(74,Mc,1,6,"mat-row",42),l(),w(),D(75,43),r(76,"mat-paginator",44,1),C("page",function(p){return u(s),f(t.onTablePageingData(p))}),l(),w(),l()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","configuresite.webdesigner.pagedependency"),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",t.requestLinkModuleId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(12),d("checked",t.optionsSearch.data.show),o(),g("",h(14,27,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),g("",h(18,29,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),y(h(32,31,"ACTION.PAGES")),o(7),y(h(39,33,"ACTION.SHOW_WEB")),o(3),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(29),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(35,Ud)))},dependencies:[De,W,$e,xe,oe,F,at,lt,He,Re,st,dt,ct,mt,_t,ut,pt,St,ft,gt,ht,Mt,je,Ue,ze,vt,dr,k,Ti,Wt,Qe,Lt],encapsulation:2});var Yn=Ji;var bc=["vform"];function Ic(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",21),x("modelChange",function(t){u(e);let s=m();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=m();E("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Cc(n,a){n&1&&I(0,"i",24)}function vc(n,a){n&1&&I(0,"i",25)}function yc(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function Dc(n,a){if(n&1){let e=v();r(0,"div",12)(1,"label",22),c(2),l(),r(3,"input",23,3),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,Cc,1,0,"i",15)(6,vc,1,0,"i",16),r(7,"em"),c(8),l(),b(9,yc,5,4,"mat-error",17),l()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function wc(n,a){n&1&&I(0,"i",24)}function Ec(n,a){n&1&&I(0,"i",25)}function Tc(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m();o(),g(" ",e.fieldsInfo.folder==null?null:e.fieldsInfo.folder.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function xc(n,a){n&1&&I(0,"i",24)}function Ac(n,a){n&1&&I(0,"i",25)}function Pc(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m();o(),g(" ",e.fieldsInfo.indexFile==null?null:e.fieldsInfo.indexFile.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function Rc(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function Wc(n,a){if(n&1){let e=v();r(0,"div",12)(1,"label",26),c(2),l(),r(3,"textarea",27,4),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(5,"                "),l(),r(6,"em"),c(7),l(),b(8,Rc,5,4,"mat-error",17),l()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function kc(n,a){if(n&1){let e=v();r(0,"div",28)(1,"button",29),C("click",function(){u(e);let t=m();return f(t.onFormCancel())}),I(2,"i",30),c(3),S(4,"translate"),l(),r(5,"button",31),I(6,"i",32),c(7),S(8,"translate"),l()()}if(n&2){m();let e=A(9);o(3),g(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),g(" ",h(8,5,"ACTION.SAVE")," ")}}var Yi=class Yi extends Rt{constructor(e,i,t,s,_,p,j,J){super(s,new Xe,p,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainPageTemplateService=s;this.cmsToastrService=_;this.publicHelper=p;this.cdr=j;this.translate=J;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new B;this.dataModel=new Xe;this.formInfo=new re;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Yi.\u0275fac=function(i){return new(i||Yi)(M(Me),M(he),M(z),M(rt),M(O),M(G),M(L),M(V))},Yi.\u0275cmp=R({type:Yi,selectors:[["app-webdesigner-pagetemplate-add"]],viewQuery:function(i,t){if(i&1&&te(bc,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:35,vars:27,consts:[["vform","ngForm"],["Folder",""],["IndexFile",""],["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.folder",1,"color-highlight"],["matInput","","type","text","name","dataModel.folder","minlength","3","maxlength","100","required","","id","dataModel.folder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.indexFile",1,"color-highlight"],["matInput","","type","text","name","dataModel.indexFile","placeholder","index.html","minlength","3","maxlength","100","required","","id","dataModel.indexFile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",5),I(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),c(4),l(),r(5,"p"),c(6),S(7,"translate"),l(),r(8,"form",9,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,Ic,1,5,"app-cms-enum-record-status-selector",10)(11,Dc,10,9,"div",11),r(12,"div",12)(13,"label",13),c(14),l(),r(15,"input",14,1),S(17,"translate"),x("ngModelChange",function(p){return u(s),T(t.dataModel.folder,p)||(t.dataModel.folder=p),f(p)}),l(),b(18,wc,1,0,"i",15)(19,Ec,1,0,"i",16),r(20,"em"),c(21),l(),b(22,Tc,5,4,"mat-error",17),l(),r(23,"div",12)(24,"label",18),c(25),l(),r(26,"input",19,2),x("ngModelChange",function(p){return u(s),T(t.dataModel.indexFile,p)||(t.dataModel.indexFile=p),f(p)}),l(),b(28,xc,1,0,"i",15)(29,Ac,1,0,"i",16),r(30,"em"),c(31),l(),b(32,Pc,5,4,"mat-error",17),l(),b(33,Wc,9,6,"div",11)(34,kc,9,7,"div",20),l()()()}if(i&2){let s=A(16),_=A(27);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",h(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),y(t.fieldsInfo.folder==null?null:t.fieldsInfo.folder.fieldTitle),o(),d("placeholder",P(h(17,25,"TITLE.branch_path"))),E("ngModel",t.dataModel.folder),d("disabled",!(t.fieldsInfo.folder!=null&&t.fieldsInfo.folder.accessAddField)),o(3),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),g("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),y(t.fieldsInfo.indexFile==null?null:t.fieldsInfo.indexFile.fieldTitle),o(),E("ngModel",t.dataModel.indexFile),d("disabled",!(t.fieldsInfo.indexFile!=null&&t.fieldsInfo.indexFile.accessAddField)),o(2),d("ngIf",!_.value),o(),d("ngIf",_.value),o(2),g("",s.value.length," / 100"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[W,me,Y,Q,de,X,ge,_e,pe,ce,Se,F,be,q,k],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Xn=Yi;var Lc=["vform"];function Vc(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",24),x("modelChange",function(t){u(e);let s=m();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=m();E("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Gc(n,a){n&1&&I(0,"i",27)}function Fc(n,a){n&1&&I(0,"i",28)}function Bc(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function Oc(n,a){if(n&1){let e=v();r(0,"div",13)(1,"label",25),c(2),l(),r(3,"input",26,3),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,Gc,1,0,"i",16)(6,Fc,1,0,"i",17),r(7,"em"),c(8),l(),b(9,Bc,5,4,"mat-error",18),l()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Nc(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function Hc(n,a){if(n&1){let e=v();r(0,"div",13)(1,"label",29),c(2),l(),r(3,"input",30,4),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),r(5,"em"),c(6),l(),b(7,Nc,5,4,"mat-error",18),l()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),E("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(3),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function qc(n,a){n&1&&I(0,"i",27)}function jc(n,a){n&1&&I(0,"i",28)}function Uc(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m();o(),g(" ",e.fieldsInfo.folder==null?null:e.fieldsInfo.folder.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function zc(n,a){n&1&&I(0,"i",27)}function Qc(n,a){n&1&&I(0,"i",28)}function Kc(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m();o(),g(" ",e.fieldsInfo.indexFile==null?null:e.fieldsInfo.indexFile.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function Jc(n,a){if(n&1){let e=v();r(0,"div",31)(1,"div",32)(2,"h5",33),c(3),l()(),r(4,"div",34)(5,"div",35)(6,"input",36),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.isPublish,t)||(s.dataModel.isPublish=t),f(t)}),l(),I(7,"label",37),l()()()}if(n&2){let e=m();o(3),g(" ",e.fieldsInfo.isPublish==null?null:e.fieldsInfo.isPublish.fieldTitle),o(3),E("ngModel",e.dataModel.isPublish)}}function Yc(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function Xc(n,a){if(n&1){let e=v();r(0,"div",13)(1,"label",38),c(2),l(),r(3,"textarea",39,5),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(5,"                "),l(),r(6,"em"),c(7),l(),b(8,Yc,5,4,"mat-error",18),l()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Zc(n,a){if(n&1){let e=v();r(0,"div",40)(1,"button",41),C("click",function(){u(e);let t=m();return f(t.onFormCancel())}),I(2,"i",42),c(3),S(4,"translate"),l(),r(5,"button",43),I(6,"i",44),c(7),S(8,"translate"),l()()}if(n&2){m();let e=A(9);o(3),g(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),g(" ",h(8,5,"ACTION.SAVE")," ")}}var Xi=class Xi extends kt{constructor(e,i,t,s,_,p,j,J,Dt){super(s,new Xe,j,Dt);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainPageTemplateService=s;this.webDesignerMainPageTemplateSiteCategoryService=_;this.cmsToastrService=p;this.publicHelper=j;this.cdr=J;this.translate=Dt;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModel=new Xe;this.formInfo=new re;this.fileManagerOpenForm=!1;this.dataCoreSiteCategoryIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetAllSourceSiteCategory()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateService.setAccessLoad(),this.webDesignerMainPageTemplateService.setAccessDataType(At.Editor),this.webDesignerMainPageTemplateService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataGetAllSourceSiteCategory(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError="";let e=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new K,t=new N;t.propertyName="LinkPageTemplateId",t.value=this.requestId,i.filters.push(t),this.webDesignerMainPageTemplateSiteCategoryService.ServiceGetAll(i).subscribe({next:s=>{this.dataWebDesignerMainPageTemplateSiteCategoryModel=s.listItems;let _=[];this.dataWebDesignerMainPageTemplateSiteCategoryModel.forEach(p=>{_.push(p.linkSiteCagegoryId)}),this.dataCoreSiteCategoryIds=_,s.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(p=>{this.formInfo.formAlert=p}),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e)}})}onActionSelectorUserCategorySelect(e){this.dataCoreSiteCategoryModel=e}onActionSelectorUserCategorySelectAdded(e){let i=new ao;i.linkSiteCagegoryId=e.id,i.linkPageTemplateId=this.dataModel.id;let t=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService.ServiceAdd";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateSiteCategoryService.ServiceAdd(i).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(_=>{this.formInfo.formAlert=_}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(_=>{this.formInfo.formAlert=_}),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(t)},error:s=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t)}})}onActionSelectorUserCategorySelectRemoved(e){let i=new ao;i.linkSiteCagegoryId=e.id,i.linkPageTemplateId=this.dataModel.id;let t=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService.ServiceDeleteEntity";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateSiteCategoryService.ServiceDeleteEntity(i).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(_=>{this.formInfo.formAlert=_}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(_=>{this.formInfo.formAlert=_}),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(t)},error:s=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Xi.\u0275fac=function(i){return new(i||Xi)(M(Me),M(he),M(z),M(rt),M(An),M(O),M(G),M(L),M(V))},Xi.\u0275cmp=R({type:Xi,selectors:[["app-webdesigner-pagetemplate-edit"]],viewQuery:function(i,t){if(i&1&&te(Lc,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:41,vars:34,consts:[["vform","ngForm"],["Folder",""],["IndexFile",""],["Title",""],["TitleResourceLanguage",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.folder",1,"color-highlight"],["matInput","","type","text","name","dataModel.folder","minlength","3","maxlength","100","required","","id","dataModel.folder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.indexFile",1,"color-highlight"],["matInput","","type","text","name","dataModel.indexFile","placeholder","index.html","minlength","3","maxlength","100","required","","id","dataModel.indexFile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","d-flex mb-3",4,"ngIf"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isPublish",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isPublish","name","dataModel.isPublish",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublish",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",6),I(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),c(4),l(),r(5,"p"),c(6),S(7,"translate"),l(),r(8,"form",10,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,Vc,1,5,"app-cms-enum-record-status-selector",11)(11,Oc,10,9,"div",12)(12,Hc,8,7,"div",12),r(13,"div",13)(14,"label",14),c(15),l(),r(16,"input",15,1),S(18,"translate"),x("ngModelChange",function(p){return u(s),T(t.dataModel.folder,p)||(t.dataModel.folder=p),f(p)}),l(),b(19,qc,1,0,"i",16)(20,jc,1,0,"i",17),r(21,"em"),c(22),l(),b(23,Uc,5,4,"mat-error",18),l(),r(24,"div",13)(25,"label",19),c(26),l(),r(27,"input",20,2),x("ngModelChange",function(p){return u(s),T(t.dataModel.indexFile,p)||(t.dataModel.indexFile=p),f(p)}),l(),b(29,zc,1,0,"i",16)(30,Qc,1,0,"i",17),r(31,"em"),c(32),l(),b(33,Kc,5,4,"mat-error",18),l(),b(34,Jc,8,2,"div",21)(35,Xc,9,6,"div",12),c(36),S(37,"translate"),I(38,"br"),r(39,"app-cms-sitecategory-selectionlist",22),C("optionChange",function(p){return u(s),f(t.onActionSelectorUserCategorySelect(p))})("optionSelectAdded",function(p){return u(s),f(t.onActionSelectorUserCategorySelectAdded(p))})("optionSelectRemoved",function(p){return u(s),f(t.onActionSelectorUserCategorySelectRemoved(p))}),l(),b(40,Zc,9,7,"div",23),l()()()}if(i&2){let s=A(17),_=A(28);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",h(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(3),y(t.fieldsInfo.folder==null?null:t.fieldsInfo.folder.fieldTitle),o(),d("placeholder",P(h(18,30,"TITLE.branch_path"))),E("ngModel",t.dataModel.folder),d("disabled",!(t.fieldsInfo.folder!=null&&t.fieldsInfo.folder.accessEditField)),o(3),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),g("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),y(t.fieldsInfo.indexFile==null?null:t.fieldsInfo.indexFile.fieldTitle),o(),E("ngModel",t.dataModel.indexFile),d("disabled",!(t.fieldsInfo.indexFile!=null&&t.fieldsInfo.indexFile.accessEditField)),o(2),d("ngIf",!_.value),o(),d("ngIf",_.value),o(2),g("",s.value.length," / 100"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.fieldsInfo.isPublish==null?null:t.fieldsInfo.isPublish.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),g(" ",h(37,32,"TITLE.It_should_be_used_on_sites_with_the_following_categories")," "),o(3),d("optionSelectForce",t.dataCoreSiteCategoryIds)("optionDisabled",!1),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[W,me,Y,xt,Q,de,X,ge,_e,pe,ce,Se,F,be,fr,q,k],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Zn=Xi;var $c=()=>[5,10,20,100],ep=n=>({display:n});function tp(n,a){if(n&1){let e=v();r(0,"div",17)(1,"a",41),C("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),I(2,"i",42)(3,"br"),l(),r(4,"p",20),c(5),S(6,"translate"),l()()}n&2&&(o(5),y(h(6,1,"ACTION.ADD")))}function ip(n,a){if(n&1){let e=v();r(0,"div",17)(1,"a",43),C("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),I(2,"i",44)(3,"br"),l(),r(4,"p",20),c(5),S(6,"translate"),l()()}n&2&&(o(5),y(h(6,1,"ACTION.EDIT")))}function np(n,a){if(n&1){let e=v();r(0,"div",17)(1,"a",45),C("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),I(2,"i",46)(3,"br"),l(),r(4,"p",20),c(5),S(6,"translate"),l()()}n&2&&(o(5),y(h(6,1,"ACTION.DELETE")))}function op(n,a){n&1&&(r(0,"mat-header-cell",47),c(1),S(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.PICTURE")," "))}function rp(n,a){if(n&1&&(I(0,"img",49),S(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",P(h(1,2,e.linkModuleFileLogoIdSrc)),ve)}}function ap(n,a){if(n&1&&(r(0,"mat-cell"),b(1,rp,2,4,"img",48),l()),n&2){let e=a.$implicit;o(),d("ngIf",(e==null||e.linkModuleFileLogoIdSrc==null?null:e.linkModuleFileLogoIdSrc.length)>0)}}function lp(n,a){if(n&1&&(r(0,"mat-header-cell",47),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function sp(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.id," ")}}function dp(n,a){if(n&1&&(r(0,"mat-header-cell",47),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function cp(n,a){if(n&1&&I(0,"select",52),n&2){let e=m().$implicit,i=m();d("contentService",i.contentService)("row",e)("ngStyle",Ze(3,ep,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function pp(n,a){if(n&1&&(r(0,"mat-cell",50),S(1,"statusCellClass"),I(2,"i",50),S(3,"statusIconClass"),b(4,cp,1,5,"select",51),l()),n&2){let e=a.$implicit,i=m();d("ngClass",h(1,3,e.recordStatus)),o(2),d("ngClass",h(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function mp(n,a){if(n&1&&(r(0,"mat-header-cell",47),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function up(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.title," ")}}function fp(n,a){if(n&1&&(r(0,"mat-header-cell",47),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.folder==null?null:e.fieldsInfo.folder.fieldTitle," ")}}function gp(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.folder," ")}}function _p(n,a){if(n&1&&(r(0,"mat-header-cell",47),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.indexFile==null?null:e.fieldsInfo.indexFile.fieldTitle," ")}}function Sp(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.indexFile," ")}}function hp(n,a){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.OPTION")," "))}function Mp(n,a){if(n&1&&(r(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),c(3,"more_vert"),l()(),I(4,"mat-menu",null,2),l()),n&2){let e=A(5);o(),d("matMenuTriggerFor",e)}}function bp(n,a){n&1&&I(0,"mat-header-row")}function Ip(n,a){if(n&1){let e=v();r(0,"mat-row",55),C("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))}),l()}if(n&2){let e=a.$implicit,i=a.dataIndex,t=m();Ee("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Zi=class Zi extends Ct{constructor(e,i,t,s,_,p,j,J,Dt,ui,Ot,fi){super(e,new Xe,Ot,s,J);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.tokenHelper=s;this.cmsStoreService=_;this.router=p;this.cdr=j;this.translate=J;this.pageInfo=Dt;this.themeService=ui;this.publicHelper=Ot;this.dialog=fi;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.dataModelCoreModuleResult=new B;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","Folder","IndexFile"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","Folder","IndexFile"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Nt=>this.onSubmitOptionsSearch(Nt)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Xe);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Xn,{height:"90%",panelClass:e,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Zn,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(_,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess&&(i.set("All",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new N;_.propertyName="RecordStatus",_.value=it.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess&&(i.set("Active",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}})}onActionButtonPageList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/webdesigner/page/LinkPageTemplateGuId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}};Zi.\u0275fac=function(i){return new(i||Zi)(M(rt),M(O),M(qe),M(We),M(Pe),M(Fe),M(L),M(V),M(It),M(bt),M(G),M(Be))},Zi.\u0275cmp=R({type:Zi,selectors:[["app-webdesigner-pagetemplate-list"]],standalone:!1,features:[U],decls:63,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkModuleFileLogoIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Folder"],["matColumnDef","IndexFile"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),D(1,4),c(2," -------------------------------------- "),w(),ye(3,5)(4,6),D(5,7),r(6,"a",8),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),I(7,"i",9),l(),r(8,"a",8),C("click",function(){return u(s),f(t.onActionButtonReload())}),I(9,"i",10),l(),w(),D(10,11),r(11,"a",12),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),I(12,"mat-slide-toggle",13),c(13),S(14,"translate"),l(),r(15,"a",12),C("click",function(){return u(s),f(t.onActionButtonStatist())}),I(16,"mat-slide-toggle",13),c(17),S(18,"translate"),l(),w(),D(19,14),b(20,tp,7,3,"div",15),w(),D(21,16),b(22,ip,7,3,"div",15)(23,np,7,3,"div",15),r(24,"div",17)(25,"a",18),C("click",function(){return u(s),f(t.onActionButtonPageList(t.tableRowSelected))}),I(26,"i",19)(27,"br"),l(),r(28,"p",20),c(29),S(30,"translate"),l()(),w(),D(31,21),r(32,"app-cms-search-list",22),x("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),l(),r(33,"app-cms-statist-list",22),x("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),l(),w(),D(34,23),r(35,"mat-table",24,0),C("matSortChange",function(){u(s);let p=A(36);return f(t.onTableSortData(p))}),D(37,25),b(38,op,3,3,"mat-header-cell",26)(39,ap,2,1,"mat-cell",27),w(),D(40,28),b(41,lp,2,1,"mat-header-cell",26)(42,sp,2,1,"mat-cell",27),w(),D(43,29),b(44,dp,2,1,"mat-header-cell",26)(45,pp,5,7,"mat-cell",30),w(),D(46,31),b(47,mp,2,1,"mat-header-cell",26)(48,up,2,1,"mat-cell",27),w(),D(49,32),b(50,fp,2,1,"mat-header-cell",26)(51,gp,2,1,"mat-cell",27),w(),D(52,33),b(53,_p,2,1,"mat-header-cell",26)(54,Sp,2,1,"mat-cell",27),w(),D(55,34),b(56,hp,3,3,"mat-header-cell",35)(57,Mp,6,1,"mat-cell",36),w(),b(58,bp,1,0,"mat-header-row",37)(59,Ip,1,6,"mat-row",38),l(),w(),D(60,39),r(61,"mat-paginator",40,1),C("page",function(p){return u(s),f(t.onTablePageingData(p))}),l(),w(),l()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(12),d("checked",t.optionsSearch.data.show),o(),g("",h(14,24,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),g("",h(18,26,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),y(h(30,28,"ACTION.PAGES")),o(3),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(23),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(30,$c)))},dependencies:[De,W,$e,xe,oe,F,at,lt,He,Re,st,dt,ct,mt,_t,ut,pt,St,ft,gt,ht,Mt,je,Ue,ze,vt,k,Wt,Qe,Lt],encapsulation:2});var $n=Zi;var Cp=["*"];function vp(n,a){if(n&1&&(r(0,"label",11),c(1),l()),n&2){let e=m();d("for",Ve("app-cms-site-selector-",e.id)),o(),y(e.optionLabel)}}function yp(n,a){if(n&1&&(r(0,"mat-option",12)(1,"span"),c(2),l()()),n&2){let e=a.$implicit,i=m();d("value",e)("disabled",i.optionDisabled),o(2),y(i.displayOption(e))}}function Dp(n,a){n&1&&I(0,"i",13)}function wp(n,a){n&1&&I(0,"i",14)}function Ep(n,a){if(n&1){let e=v();r(0,"i",15),C("click",function(){u(e);let t=m();return f(t.onActionSelectClear())}),l()}}function Tp(n,a){n&1&&(r(0,"em"),c(1),S(2,"translate"),l()),n&2&&(o(),g("(",h(2,1,"TITLE.Necessary"),")"))}var mi=class mi{constructor(a,e,i,t,s){this.coreEnumService=a;this.translate=e;this.cdr=i;this.publicHelper=t;this.categoryService=s;this.id=++mi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new B;this.dataModelSelect=new Ye;this.formControl=new Zt;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new wt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(zt(""),jt(1500),Ut(),Qt(a=>typeof a=="string"||typeof a=="number"?this.DataGetAll(a||""):[]))}displayFn(a){return a?a.titleML:void 0}displayOption(a){return a?a.titleML:void 0}DataGetAll(a){return ee(this,null,function*(){let e=new K;e.rowPerPage=20,e.accessLoad=!0;let i=new N;i.propertyName="Title",i.value=a,i.searchType=Ne.Contains,i.clauseType=Oe.Or,e.filters.push(i),a&&typeof+a=="number"&&+a>0&&(i=new N,i.propertyName="Id",i.value=a,i.searchType=Ne.Equal,i.clauseType=Oe.Or,e.filters.push(i));let t=this.constructor.name+"categoryService.ServiceGetAll";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield Ht(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(a){this.optionDisabled||(this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(a){return this.filteredOptions.pipe(qt(e=>(e.find(i=>i.id===a.id)||e.push(a),e)))}onActionSelectForce(a){if(typeof a=="string"&&a.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===a)){let e=this.dataModelResult.listItems.find(i=>i.id===a);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(a).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof a==typeof Ye){this.filteredOptions=this.push(a),this.dataModelSelect=a,this.formControl.setValue(a);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ye,this.loadOptions()}};mi.nextId=0,mi.\u0275fac=function(e){return new(e||mi)(M(z),M(V),M(L),M(G),M(Pt))},mi.\u0275cmp=R({type:mi,selectors:[["app-webdesigner-pagedependency-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Cp,decls:13,vars:18,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=v();Kt(),r(0,"div",1),I(1,"app-progress-spinner",2),b(2,vp,2,3,"label",3),I(3,"input",4),r(4,"mat-autocomplete",5,0),C("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),b(6,yp,3,3,"mat-option",6),S(7,"async"),l(),b(8,Dp,1,0,"i",7)(9,wp,1,0,"i",8)(10,Ep,1,0,"i",9)(11,Tp,3,3,"em",10),Jt(12),l()}if(e&2){let t=A(5);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),d("placeholder",P(i.optionPlaceholder))("id",Ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Et("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",h(7,16,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Ge,W,Y,Q,X,ei,ni,ii,oi,F,q,et,k],encapsulation:2});var $i=mi;var Rp=["vform"];function Wp(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",29),x("modelChange",function(t){u(e);let s=m();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=m();E("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function kp(n,a){n&1&&I(0,"i",35)}function Lp(n,a){n&1&&I(0,"i",36)}function Vp(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function Gp(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",30),c(2),l(),r(3,"input",31,5),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,kp,1,0,"i",32)(6,Lp,1,0,"i",33),r(7,"em"),c(8),l(),b(9,Vp,5,4,"mat-error",34),l()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Fp(n,a){if(n&1){let e=v();r(0,"app-webdesigner-page-selector",37),S(1,"translate"),C("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectParent(t))}),l()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkPageParentGuId!=null&&e.fieldsInfo.linkPageParentGuId.accessAddField))("optionSelectForce",e.dataModel.linkPageParentGuId)("optionMasterPage",!0)("optionMasterTemplateId",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",h(1,5,"TITLE.parent_page"))}}function Bp(n,a){if(n&1){let e=v();r(0,"div",38)(1,"div",39)(2,"h5",40),c(3),l()(),r(4,"div",41)(5,"div",42)(6,"input",43),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.pageDependencyIsDefaultPage,t)||(s.dataModel.pageDependencyIsDefaultPage=t),f(t)}),l(),I(7,"label",44),l()()()}if(n&2){let e=m();o(3),g(" ",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle),o(3),E("ngModel",e.dataModel.pageDependencyIsDefaultPage)}}function Op(n,a){if(n&1){let e=v();r(0,"app-cms-sitecategory-selector",45),S(1,"translate"),C("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectCategory(t))}),l()}if(n&2){let e=m();d("optionSelectForce",e.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId)("optionPlaceholder",h(1,3,"TITLE.Website_Type"))("optionDisabled",!(e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId!=null&&e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessAddField))}}function Np(n,a){if(n&1){let e=v();r(0,"mat-chip",46),C("removed",function(){let t=u(e).$implicit,s=m();return f(s.removeTag(t))}),c(1),r(2,"button",47)(3,"mat-icon"),c(4,"cancel"),l()()()}if(n&2){let e=a.$implicit;o(),g(" ",e," ")}}function Hp(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function qp(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",48),c(2),l(),r(3,"textarea",49,6),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(5,"                    "),l(),r(6,"em"),c(7),l(),b(8,Hp,5,4,"mat-error",34),l()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function jp(n,a){if(n&1){let e=v();r(0,"div",50)(1,"button",51),C("click",function(){u(e);let t=m();return f(t.onFormCancel())}),I(2,"i",52),c(3),S(4,"translate"),l(),r(5,"button",53),I(6,"i",54),c(7),S(8,"translate"),l()()}if(n&2){m();let e=A(9);o(3),g(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),g(" ",h(8,5,"ACTION.SAVE")," ")}}var en=class en extends Rt{constructor(e,i,t,s,_,p,j,J){super(s,new Je,p,J);this.data=e;this.dialogRef=i;this.webDesignerEnumService=t;this.webDesignerMainPageService=s;this.cmsToastrService=_;this.publicHelper=p;this.cdr=j;this.translate=J;this.requestLinkPageDependencyGuId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.keywordDataModel=[];this.appLanguage="fa";this.dataModelResult=new B;this.dataModel=new Je;this.formInfo=new re;this.dataModelEnumPageAbilityTypeResult=new B;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkPageDependencyGuId=e.linkPageDependencyGuId+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestLinkPageDependencyGuId.length>0&&(this.dataModel.linkPageDependencyGuId=this.requestLinkPageDependencyGuId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEnumPageAbilityType()}getEnumPageAbilityType(){this.webDesignerEnumService.ServicePageAbilityTypeEnum().subscribe({next:e=>{this.dataModelEnumPageAbilityTypeResult=e}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"webDesignerMainPageService.ServiceAdd";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectDependency(e){if(!e||e.id?.length<=0){this.translate.get(["MESSAGE.Specify_the_display_location","MESSAGE.information_screen_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_display_location"],i["MESSAGE.information_screen_is_not_clear"])});return}this.dataModel.linkPageDependencyGuId=e.id}onActionSelectTemplate(e){if(!e||e.id?.length<=0){this.translate.get(["MESSAGE.Specify_the_template","MESSAGE.Screen_template_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_template"],i["MESSAGE.Screen_template_is_not_clear"])});return}this.dataModel.linkPageTemplateGuId=e.id}onActionSelectParent(e){this.dataModel.linkPageParentGuId="",e&&e.id&&e.id.length>0&&(this.dataModel.linkPageParentGuId=e.id)}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(e){if(!e||e.id<=0){this.translate.get("MESSAGE.category_of_site_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId=e.id}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};en.\u0275fac=function(i){return new(i||en)(M(Me),M(he),M(Di),M(ot),M(O),M(G),M(L),M(V))},en.\u0275cmp=R({type:en,selectors:[["app-webdesigner-page-add"]],viewQuery:function(i,t){if(i&1&&te(Rp,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:45,vars:41,consts:[["vform","ngForm"],["chipList",""],["tagInput",""],["SpecialIdendity",""],["SpecialUrlParameter",""],["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionChange",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.specialIdendity",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialIdendity","type","text","placeholder","32323","minlength","0","maxlength","500","id","dataModel.specialIdendity",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.specialUrlParameter",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialUrlParameter","type","text","placeholder","esfahan","minlength","0","maxlength","500","id","dataModel.specialUrlParameter",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.pageDependencyIsDefaultPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.pageDependencyIsDefaultPage","name","dataModel.pageDependencyIsDefaultPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.pageDependencyIsDefaultPage",1,"custom-control-label"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",7),I(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),l(),r(5,"p"),c(6),S(7,"translate"),l(),r(8,"form",11,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,Wp,1,5,"app-cms-enum-record-status-selector",12)(11,Gp,10,9,"div",13),r(12,"app-webdesigner-pagedependency-selector",14),S(13,"translate"),C("optionChange",function(p){return u(s),f(t.onActionSelectDependency(p))}),l(),r(14,"app-webdesigner-pagetemplate-selector",15),S(15,"translate"),C("optionChange",function(p){return u(s),f(t.onActionSelectTemplate(p))}),l(),b(16,Fp,2,7,"app-webdesigner-page-selector",16)(17,Bp,8,2,"div",17)(18,Op,2,5,"app-cms-sitecategory-selector",18),r(19,"mat-form-field",19)(20,"mat-label"),c(21),S(22,"translate"),l(),r(23,"mat-chip-grid",20,1),b(25,Np,5,1,"mat-chip",21),r(26,"input",22,2),S(28,"translate"),C("matChipInputTokenEnd",function(p){return u(s),f(t.addTag(p))}),l()()(),r(29,"div",23)(30,"label",24),c(31),l(),r(32,"input",25,3),x("ngModelChange",function(p){return u(s),T(t.dataModel.specialIdendity,p)||(t.dataModel.specialIdendity=p),f(p)}),l(),r(34,"em"),c(35),l()(),r(36,"div",23)(37,"label",26),c(38),l(),r(39,"input",27,4),x("ngModelChange",function(p){return u(s),T(t.dataModel.specialUrlParameter,p)||(t.dataModel.specialUrlParameter=p),f(p)}),l(),r(41,"em"),c(42),l()(),b(43,qp,9,6,"div",13)(44,jp,9,7,"div",28),l()()()}if(i&2){let s=A(24),_=A(33),p=A(40);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",h(7,31,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("optionDisabled",!(t.fieldsInfo.linkPageDependencyGuId!=null&&t.fieldsInfo.linkPageDependencyGuId.accessAddField))("optionSelectForce",t.dataModel.linkPageDependencyGuId)("optionPlaceholder",h(13,33,"TITLE.Show_place")),o(2),d("optionDisabled",!(t.fieldsInfo.linkPageTemplateGuId!=null&&t.fieldsInfo.linkPageTemplateGuId.accessAddField))("optionSelectForce",t.dataModel.linkPageTemplateGuId)("optionPlaceholder",h(15,35,"TITLE.Page_template"))("optionSelectFirstItem",!0),o(2),d("ngIf",t.dataModel.linkPageTemplateGuId&&t.dataModel.linkPageTemplateGuId.length>0),o(),d("ngIf",t.fieldsInfo.pageDependencyIsDefaultPage==null?null:t.fieldsInfo.pageDependencyIsDefaultPage.accessWatchField),o(),d("ngIf",t.dataModel.pageDependencyIsDefaultPage&&(t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessWatchField)),o(3),y(h(22,37,"TITLE.Choose_keywords_relative_to_the_content")),o(4),d("ngForOf",t.keywordDataModel),o(),d("placeholder",h(28,39,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",s)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(5),y(t.fieldsInfo.specialIdendity==null?null:t.fieldsInfo.specialIdendity.fieldTitle),o(),E("ngModel",t.dataModel.specialIdendity),d("disabled",!(t.fieldsInfo.specialIdendity!=null&&t.fieldsInfo.specialIdendity.accessAddField)),o(3),g("",_.value.length," / 500"),o(3),y(t.fieldsInfo.specialUrlParameter==null?null:t.fieldsInfo.specialUrlParameter.fieldTitle),o(),E("ngModel",t.dataModel.specialUrlParameter),d("disabled",!(t.fieldsInfo.specialUrlParameter!=null&&t.fieldsInfo.specialUrlParameter.accessAddField)),o(3),g("",p.value.length," / 500"),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[Ge,W,me,Y,xt,Q,de,X,ge,_e,pe,ce,Cn,vn,yn,In,bn,hn,Se,oe,F,be,Bn,q,di,$i,pi,k],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var eo=en;var Up=["vform"];function zp(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",33),x("modelChange",function(t){u(e);let s=m();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=m();E("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Qp(n,a){if(n&1&&(r(0,"option",34),c(1),l()),n&2){let e=a.$implicit;d("ngValue",e.value),o(),g(" ",e.description," ")}}function Kp(n,a){n&1&&(r(0,"mat-error"),c(1," PageAbilityType is "),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function Jp(n,a){n&1&&I(0,"i",39)}function Yp(n,a){n&1&&I(0,"i",40)}function Xp(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function Zp(n,a){if(n&1){let e=v();r(0,"div",14)(1,"label",35),c(2),l(),r(3,"input",36,6),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,Jp,1,0,"i",37)(6,Yp,1,0,"i",38),r(7,"em"),c(8),l(),b(9,Xp,5,4,"mat-error",18),l()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function $p(n,a){if(n&1){let e=v();r(0,"app-webdesigner-page-selector",41),S(1,"translate"),C("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectParent(t))}),l()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkPageParentGuId!=null&&e.fieldsInfo.linkPageParentGuId.accessEditField))("optionSelectForce",e.dataModel.linkPageParentGuId)("optionMasterPage",!0)("optionMasterTemplateId",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",h(1,5,"TITLE.parent_page"))}}function em(n,a){if(n&1){let e=v();r(0,"div",42)(1,"div",43)(2,"h5",44),c(3),l()(),r(4,"div",45)(5,"div",46)(6,"input",47),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.pageDependencyIsDefaultPage,t)||(s.dataModel.pageDependencyIsDefaultPage=t),f(t)}),l(),I(7,"label",48),l()()()}if(n&2){let e=m();o(3),g(" ",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle),o(3),E("ngModel",e.dataModel.pageDependencyIsDefaultPage)}}function tm(n,a){if(n&1){let e=v();r(0,"app-cms-sitecategory-selector",49),S(1,"translate"),C("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectCategory(t))}),l()}if(n&2){let e=m();d("optionSelectForce",e.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId)("optionPlaceholder",h(1,3,"TITLE.Website_Type"))("optionDisabled",!(e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId!=null&&e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessEditField))}}function im(n,a){if(n&1){let e=v();r(0,"mat-chip",50),C("removed",function(){let t=u(e).$implicit,s=m();return f(s.removeTag(t))}),c(1),r(2,"button",51)(3,"mat-icon"),c(4,"cancel"),l()()()}if(n&2){let e=a.$implicit;o(),g(" ",e," ")}}function nm(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let e=m(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function om(n,a){if(n&1){let e=v();r(0,"div",14)(1,"label",52),c(2),l(),r(3,"textarea",53,7),x("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(5,"                "),l(),r(6,"em"),c(7),l(),b(8,nm,5,4,"mat-error",18),l()}if(n&2){let e=A(4),i=m();o(2),y(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function rm(n,a){if(n&1){let e=v();r(0,"div",54)(1,"button",55),C("click",function(){u(e);let t=m();return f(t.onFormCancel())}),I(2,"i",56),c(3),S(4,"translate"),l(),r(5,"button",57),I(6,"i",58),c(7),S(8,"translate"),l()()}if(n&2){m();let e=A(9);o(3),g(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),g(" ",h(8,5,"ACTION.SAVE")," ")}}var tn=class tn extends kt{constructor(e,i,t,s,_,p,j,J){super(s,new Je,J,p);this.data=e;this.dialogRef=i;this.webDesignerEnumService=t;this.webDesignerMainPageService=s;this.cmsToastrService=_;this.translate=p;this.cdr=j;this.publicHelper=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.keywordDataModel=[];this.appLanguage="fa";this.dataModel=new Je;this.formInfo=new re;this.dataModelEnumPageAbilityTypeResult=new B;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumPageAbilityType()}getEnumPageAbilityType(){this.webDesignerEnumService.ServicePageAbilityTypeEnum().subscribe({next:e=>{this.dataModelEnumPageAbilityTypeResult=e}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"webDesignerMainPageService.ServiceGetOneById";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.setAccessLoad(),this.webDesignerMainPageService.setAccessDataType(At.Editor),this.webDesignerMainPageService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.keywordDataModel=[],this.dataModel.keyword&&this.dataModel.keyword.length>0&&(this.keywordDataModel=this.dataModel.keyword.split(",")),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectParent(e){this.dataModel.linkPageParentGuId=e.id}onActionSelectDependency(e){if(!e||e.id?.length<=0){this.translate.get(["MESSAGE.Specify_the_display_location","MESSAGE.information_screen_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_display_location"],i["MESSAGE.information_screen_is_not_clear"])});return}this.dataModel.linkPageDependencyGuId=e.id}onActionSelectTemplate(e){if(!e||e.id?.length<=0){this.translate.get(["MESSAGE.Specify_the_template","MESSAGE.Screen_template_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_template"],i["MESSAGE.Screen_template_is_not_clear"])});return}this.dataModel.linkPageTemplateGuId=e.id}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(e){if(!e||e.id<=0){this.translate.get("MESSAGE.category_of_site_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId=e.id}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};tn.\u0275fac=function(i){return new(i||tn)(M(Me),M(he),M(Di),M(ot),M(O),M(V),M(L),M(G))},tn.\u0275cmp=R({type:tn,selectors:[["app-webdesigner-page-edit"]],viewQuery:function(i,t){if(i&1&&te(Up,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:53,vars:49,consts:[["vform","ngForm"],["PageAbilityType","ngModel"],["chipList",""],["tagInput",""],["SpecialIdendity",""],["SpecialUrlParameter",""],["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.pageAbilityType","name","dataModel.pageAbilityType",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","ngClass"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"mt-n3"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionChange",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["for","dataModel.specialIdendity",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialIdendity","type","text","placeholder","32323","minlength","0","maxlength","500","id","dataModel.specialIdendity",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.specialUrlParameter",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialUrlParameter","type","text","placeholder","esfahan","minlength","0","maxlength","500","id","dataModel.specialUrlParameter",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"ngValue"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.pageDependencyIsDefaultPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.pageDependencyIsDefaultPage","name","dataModel.pageDependencyIsDefaultPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.pageDependencyIsDefaultPage",1,"custom-control-label"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",8),I(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),l(),r(5,"p"),c(6),S(7,"translate"),l(),r(8,"form",12,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,zp,1,5,"app-cms-enum-record-status-selector",13),r(11,"div",14)(12,"select",15,1),x("ngModelChange",function(p){return u(s),T(t.dataModel.pageAbilityType,p)||(t.dataModel.pageAbilityType=p),f(p)}),b(14,Qp,2,2,"option",16),l(),r(15,"em",17),c(16),S(17,"translate"),l(),b(18,Kp,5,3,"mat-error",18),l(),b(19,Zp,10,9,"div",19),r(20,"app-webdesigner-pagedependency-selector",20),S(21,"translate"),C("optionChange",function(p){return u(s),f(t.onActionSelectDependency(p))}),l(),r(22,"app-webdesigner-pagetemplate-selector",20),S(23,"translate"),C("optionChange",function(p){return u(s),f(t.onActionSelectTemplate(p))}),l(),b(24,$p,2,7,"app-webdesigner-page-selector",21)(25,em,8,2,"div",22)(26,tm,2,5,"app-cms-sitecategory-selector",23),r(27,"mat-form-field",24)(28,"mat-label"),c(29),S(30,"translate"),l(),r(31,"mat-chip-grid",25,2),b(33,im,5,1,"mat-chip",26),r(34,"input",27,3),S(36,"translate"),C("matChipInputTokenEnd",function(p){return u(s),f(t.addTag(p))}),l()()(),r(37,"div",14)(38,"label",28),c(39),l(),r(40,"input",29,4),x("ngModelChange",function(p){return u(s),T(t.dataModel.specialIdendity,p)||(t.dataModel.specialIdendity=p),f(p)}),l(),r(42,"em"),c(43),l()(),r(44,"div",14)(45,"label",30),c(46),l(),r(47,"input",31,5),x("ngModelChange",function(p){return u(s),T(t.dataModel.specialUrlParameter,p)||(t.dataModel.specialUrlParameter=p),f(p)}),l(),r(49,"em"),c(50),l()(),b(51,om,9,6,"div",19)(52,rm,9,7,"div",32),l()()()}if(i&2){let s=A(13),_=A(32),p=A(41),j=A(48);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",h(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(2),d("ngClass",Ve("cms-RecordStatusEnum-selector-",t.dataModel.recordStatus)),E("ngModel",t.dataModel.pageAbilityType),d("disabled",!0),o(2),d("ngForOf",t.dataModelEnumPageAbilityTypeResult.listItems),o(2),g("",h(17,39,"TITLE.Select_the_functionality_of_this_content")," "),o(2),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("optionDisabled",!(t.fieldsInfo.linkPageDependencyGuId!=null&&t.fieldsInfo.linkPageDependencyGuId.accessEditField))("optionSelectForce",t.dataModel.linkPageDependencyGuId)("optionPlaceholder",h(21,41,"TITLE.Show_place")),o(2),d("optionDisabled",!(t.fieldsInfo.linkPageTemplateGuId!=null&&t.fieldsInfo.linkPageTemplateGuId.accessEditField))("optionSelectForce",t.dataModel.linkPageTemplateGuId)("optionPlaceholder",h(23,43,"TITLE.Page_template")),o(2),d("ngIf",t.dataModel.linkPageTemplateGuId&&t.dataModel.linkPageTemplateGuId.length>0),o(),d("ngIf",t.fieldsInfo.pageDependencyIsDefaultPage==null?null:t.fieldsInfo.pageDependencyIsDefaultPage.accessWatchField),o(),d("ngIf",t.dataModel.pageDependencyIsDefaultPage&&(t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessWatchField)),o(3),y(h(30,45,"TITLE.Choose_keywords_relative_to_the_content")),o(4),d("ngForOf",t.keywordDataModel),o(),d("placeholder",h(36,47,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",_)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(5),y(t.fieldsInfo.specialIdendity==null?null:t.fieldsInfo.specialIdendity.fieldTitle),o(),E("ngModel",t.dataModel.specialIdendity),d("disabled",!(t.fieldsInfo.specialIdendity!=null&&t.fieldsInfo.specialIdendity.accessEditField)),o(3),g("",p.value.length," / 500"),o(3),y(t.fieldsInfo.specialUrlParameter==null?null:t.fieldsInfo.specialUrlParameter.fieldTitle),o(),E("ngModel",t.dataModel.specialUrlParameter),d("disabled",!(t.fieldsInfo.specialUrlParameter!=null&&t.fieldsInfo.specialUrlParameter.accessEditField)),o(3),g("",j.value.length," / 500"),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[De,Ge,W,me,_o,So,Y,xt,go,Q,de,X,ge,_e,pe,ce,Cn,vn,yn,In,bn,hn,Se,oe,F,be,Bn,q,di,$i,pi,k],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var to=tn;var am=()=>[5,10,20,100],lm=n=>({display:n});function sm(n,a){if(n&1){let e=v();r(0,"a",47),C("click",function(){u(e);let t=m();return f(t.onActionBackToParentTemplate())}),I(1,"i",48),l()}}function dm(n,a){if(n&1){let e=v();r(0,"a",47),C("click",function(){u(e);let t=m();return f(t.onActionBackToParentDependency())}),I(1,"i",48),l()}}function cm(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",49),C("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),I(2,"i",50)(3,"br"),l(),r(4,"p",21),c(5),S(6,"translate"),l()()}n&2&&(o(5),y(h(6,1,"ACTION.ADD")))}function pm(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",51),C("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),I(2,"i",52)(3,"br"),l(),r(4,"p",21),c(5),S(6,"translate"),l()()}n&2&&(o(5),y(h(6,1,"ACTION.EDIT")))}function mm(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",53),C("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),I(2,"i",54)(3,"br"),l(),r(4,"p",21),c(5),S(6,"translate"),l()()}n&2&&(o(5),y(h(6,1,"ACTION.DELETE")))}function um(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",19),C("click",function(){u(e);let t=m();return f(t.onActionButtonHtmlViewWithOutParent(t.tableRowSelected))}),I(2,"i",20)(3,"br"),l(),r(4,"p",21),c(5),S(6,"translate"),l()()}n&2&&(o(5),y(h(6,1,"ACTION.DISPLAY_PAGE_WITHOUT_PARENT")))}function fm(n,a){n&1&&(r(0,"mat-header-cell",55),c(1),S(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.PICTURE")," "))}function gm(n,a){if(n&1&&I(0,"img",57),n&2){let e=m().$implicit;d("src",P(e.thumbnailImageSrc),ve)}}function _m(n,a){if(n&1&&(r(0,"mat-cell"),b(1,gm,1,2,"img",56),l()),n&2){let e=a.$implicit;o(),d("ngIf",(e==null||e.ThumbnailImageSrc==null?null:e.ThumbnailImageSrc.length)>0)}}function Sm(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function hm(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.id," ")}}function Mm(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function bm(n,a){if(n&1&&I(0,"select",60),n&2){let e=m().$implicit,i=m();d("contentService",i.contentService)("row",e)("ngStyle",Ze(3,lm,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Im(n,a){if(n&1&&(r(0,"mat-cell",58),S(1,"statusCellClass"),I(2,"i",58),S(3,"statusIconClass"),b(4,bm,1,5,"select",59),l()),n&2){let e=a.$implicit,i=m();d("ngClass",h(1,3,e.recordStatus)),o(2),d("ngClass",h(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Cm(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function vm(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.title," ")}}function ym(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.linkPageParentGuId==null?null:e.fieldsInfo.linkPageParentGuId.fieldTitle," ")}}function Dm(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.linkPageParentGuId," ")}}function wm(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.linkPageDependencyGuId==null?null:e.fieldsInfo.linkPageDependencyGuId.fieldTitle," ")}}function Em(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.linkPageDependencyGuId," ")}}function Tm(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.linkPageTemplateGuId==null?null:e.fieldsInfo.linkPageTemplateGuId.fieldTitle," ")}}function xm(n,a){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmstitle"),l()),n&2){let e=a.$implicit,i=m();o(),g(" ",Tt(2,1,e.linkPageTemplateGuId,i.dataModelWebDesignerMainPageTemplateResult.listItems)," ")}}function Am(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.fieldTitle," ")}}function Pm(n,a){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmstitle"),l()),n&2){let e=a.$implicit,i=m();o(),g(" ",Tt(2,1,e.pageDependencyIsDefaultPageLinkSiteCategoryId,i.dataModelCoreSiteCategoryResult.listItems)," ")}}function Rm(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," ")}}function Wm(n,a){if(n&1&&(r(0,"mat-cell"),I(1,"i",58),S(2,"boolclass"),l()),n&2){let e=a.$implicit;o(),d("ngClass",h(2,1,e.pageDependencyIsDefaultPage))}}function km(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=m();o(),g(" ",e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle," ")}}function Lm(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.classActionName," ")}}function Vm(n,a){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.OPTION")," "))}function Gm(n,a){if(n&1&&(r(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),c(3,"more_vert"),l()(),I(4,"mat-menu",null,2),l()),n&2){let e=A(5);o(),d("matMenuTriggerFor",e)}}function Fm(n,a){n&1&&I(0,"mat-header-row")}function Bm(n,a){if(n&1){let e=v();r(0,"mat-row",63),C("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))}),l()}if(n&2){let e=a.$implicit,i=a.dataIndex,t=m();Ee("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var nn=class nn extends Ct{constructor(e,i,t,s,_,p,j,J,Dt,ui,Ot,fi,Nt,rn,br){super(e,new Je,rn,fi,Dt);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.webDesignerMainPageTemplateService=s;this.coreSiteCategoryService=_;this.activatedRoute=p;this.router=j;this.cdr=J;this.translate=Dt;this.cmsStoreService=ui;this.themeService=Ot;this.tokenHelper=fi;this.pageInfo=Nt;this.publicHelper=rn;this.dialog=br;this.requestLinkPageParentGuId="";this.requestLinkPageTemplateGuId="";this.requestLinkPageDependencyGuId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.dataModelWebDesignerMainPageTemplateResult=new B;this.dataModelCoreSiteCategoryResult=new B;this.tabledisplayedColumns=["ThumbnailImageSrc","Id","RecordStatus","Title","LinkPageTemplateGuId","PageDependencyIsDefaultPage","PageDependencyIsDefaultPageLinkSiteCategoryId"];if(this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("LinkPageTemplateGuId")&&(this.requestLinkPageTemplateGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageTemplateGuId")),this.activatedRoute.snapshot.paramMap.get("LinkPageDependencyGuId")&&(this.requestLinkPageDependencyGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageDependencyGuId")),this.activatedRoute.snapshot.paramMap.get("LinkPageParentGuId")&&(this.requestLinkPageParentGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageParentGuId")),this.optionsSearch.parentMethods={onSubmit:Le=>this.onSubmitOptionsSearch(Le)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.requestLinkPageTemplateGuId.length>0){let Le=new N;Le.propertyName="LinkPageTemplateGuId",Le.value=this.requestLinkPageTemplateGuId,this.filteModelContent.filters.push(Le)}if(this.requestLinkPageDependencyGuId.length>0){let Le=new N;Le.propertyName="LinkPageDependencyGuId",Le.value=this.requestLinkPageDependencyGuId,this.filteModelContent.filters.push(Le)}if(this.requestLinkPageParentGuId.length>0){let Le=new N;Le.propertyName="LinkPageParentGuId",Le.value=this.requestLinkPageParentGuId,this.filteModelContent.filters.push(Le)}}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})),this.getModuleList(),this.getSiteCategory()}getModuleList(){let e=new K;e.rowPerPage=100,this.webDesignerMainPageTemplateService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelWebDesignerMainPageTemplateResult=i}})}getSiteCategory(){let e=new K;e.rowPerPage=100,this.coreSiteCategoryService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreSiteCategoryResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tableRowsSelected=[],this.onActionTableRowSelect(new Je);let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):(H,e.start="desc"):(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),H,this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(eo,{height:"90%",panelClass:e,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{linkPageDependencyGuId:this.requestLinkPageDependencyGuId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(to,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(_,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonGoToSiteCategoryList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/siteSiteCategory/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess&&(i.set("All",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new N;_.propertyName="RecordStatus",_.value=it.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess&&(i.set("Active",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}})}onActionButtonHtmlEditor(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(e.htmlBuilderUrl,"_blank")}onActionButtonHtmlView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(this.dataModelResult.item.htmlPreviewByMasterUrl,"_blank")}onActionButtonSiteRouteView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.contentService.ServiceWebRoute(e.id).subscribe({next:i=>{i.isSuccess?window.open(i.item,"_blank"):this.cmsToastrService.typeError(i.errorMessage)},error:i=>{this.cmsToastrService.typeError(i)}})}onActionButtonHtmlViewWithOutParent(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(this.dataModelResult.item.htmlPreviewUrl,"_blank")}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParentTemplate(){this.router.navigate(["/webdesigner/pagetemplate"])}onActionBackToParentDependency(){this.router.navigate(["/webdesigner/pagedependency"])}};nn.\u0275fac=function(i){return new(i||nn)(M(ot),M(O),M(qe),M(rt),M(xn),M(tt),M(Fe),M(L),M(V),M(Pe),M(bt),M(We),M(It),M(G),M(Be))},nn.\u0275cmp=R({type:nn,selectors:[["app-webdesigner-page-list-grid"]],standalone:!1,features:[U],decls:92,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","ThumbnailImageSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","LinkPageParentGuId"],["matColumnDef","LinkPageDependencyGuId"],["matColumnDef","LinkPageTemplateGuId"],["matColumnDef","PageDependencyIsDefaultPageLinkSiteCategoryId"],["matColumnDef","PageDependencyIsDefaultPage"],["matColumnDef","ClassActionName"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),D(1,4),c(2," -------------------------------------- "),w(),ye(3,5)(4,6),D(5,7),b(6,sm,2,0,"a",8)(7,dm,2,0,"a",8),r(8,"a",9),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),I(9,"i",10),l(),r(10,"a",9),C("click",function(){return u(s),f(t.onActionButtonReload())}),I(11,"i",11),l(),w(),D(12,12),r(13,"a",13),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),I(14,"mat-slide-toggle",14),c(15),S(16,"translate"),l(),r(17,"a",13),C("click",function(){return u(s),f(t.onActionButtonStatist())}),I(18,"mat-slide-toggle",14),c(19),S(20,"translate"),l(),w(),D(21,15),b(22,cm,7,3,"div",16),w(),D(23,17),b(24,pm,7,3,"div",16)(25,mm,7,3,"div",16),r(26,"div",18)(27,"a",19),C("click",function(){return u(s),f(t.onActionButtonHtmlEditor(t.tableRowSelected))}),I(28,"i",20)(29,"br"),l(),r(30,"p",21),c(31),S(32,"translate"),l()(),r(33,"div",18)(34,"a",19),C("click",function(){return u(s),f(t.onActionButtonHtmlView(t.tableRowSelected))}),I(35,"i",20)(36,"br"),l(),r(37,"p",21),c(38),S(39,"translate"),l()(),b(40,um,7,3,"div",16),r(41,"div",18)(42,"a",19),C("click",function(){return u(s),f(t.onActionButtonSiteRouteView(t.tableRowSelected))}),I(43,"i",22)(44,"br"),l(),r(45,"p",21),c(46),S(47,"translate"),l()(),w(),D(48,23),r(49,"app-cms-search-list",24),x("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),l(),r(50,"app-cms-statist-list",24),x("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),l(),w(),D(51,25),r(52,"mat-table",26,0),C("matSortChange",function(){u(s);let p=A(53);return f(t.onTableSortData(p))}),D(54,27),b(55,fm,3,3,"mat-header-cell",28)(56,_m,2,1,"mat-cell",29),w(),D(57,30),b(58,Sm,2,1,"mat-header-cell",28)(59,hm,2,1,"mat-cell",29),w(),D(60,31),b(61,Mm,2,1,"mat-header-cell",28)(62,Im,5,7,"mat-cell",32),w(),D(63,33),b(64,Cm,2,1,"mat-header-cell",28)(65,vm,2,1,"mat-cell",29),w(),D(66,34),b(67,ym,2,1,"mat-header-cell",28)(68,Dm,2,1,"mat-cell",29),w(),D(69,35),b(70,wm,2,1,"mat-header-cell",28)(71,Em,2,1,"mat-cell",29),w(),D(72,36),b(73,Tm,2,1,"mat-header-cell",28)(74,xm,3,4,"mat-cell",29),w(),D(75,37),b(76,Am,2,1,"mat-header-cell",28)(77,Pm,3,4,"mat-cell",29),w(),D(78,38),b(79,Rm,2,1,"mat-header-cell",28)(80,Wm,3,3,"mat-cell",29),w(),D(81,39),b(82,km,2,1,"mat-header-cell",28)(83,Lm,2,1,"mat-cell",29),w(),D(84,40),b(85,Vm,3,3,"mat-header-cell",41)(86,Gm,6,1,"mat-cell",42),w(),b(87,Fm,1,0,"mat-header-row",43)(88,Bm,1,6,"mat-row",44),l(),w(),D(89,45),r(90,"mat-paginator",46,1),C("page",function(p){return u(s),f(t.onTablePageingData(p))}),l(),w(),l()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),d("ngIf",(t.requestLinkPageTemplateGuId==null?null:t.requestLinkPageTemplateGuId.length)>0),o(),d("ngIf",(t.requestLinkPageDependencyGuId==null?null:t.requestLinkPageDependencyGuId.length)>0),o(7),d("checked",t.optionsSearch.data.show),o(),g("",h(16,29,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),g("",h(20,31,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),y(h(32,33,"ACTION.PAGE_DESIGN")),o(7),y(h(39,35,"ACTION.SHOW_PAGE")),o(2),d("ngIf",(t.tableRowSelected==null||t.tableRowSelected.linkPageParentGuId==null?null:t.tableRowSelected.linkPageParentGuId.length)>0),o(6),y(h(47,37,"ACTION.SHOW_WEB")),o(3),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(35),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(39,am)))},dependencies:[De,W,$e,xe,oe,F,at,lt,He,Re,st,dt,ct,mt,_t,ut,pt,St,ft,gt,ht,Mt,je,Ue,ze,vt,k,Ti,Qe,Lt,Ei],encapsulation:2});var Bt=nn;var Om=()=>[5,10,20,100];function Nm(n,a){if(n&1){let e=v();r(0,"a",30),C("click",function(){u(e);let t=m();return f(t.onActionBackToParentTemplate())}),I(1,"i",31),l()}}function Hm(n,a){if(n&1){let e=v();r(0,"a",30),C("click",function(){u(e);let t=m();return f(t.onActionBackToParentDependency())}),I(1,"i",31),l()}}function qm(n,a){if(n&1){let e=v();r(0,"div",16)(1,"a",32),C("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),I(2,"i",33)(3,"br"),l(),r(4,"p",19),c(5),S(6,"translate"),l()()}n&2&&(o(5),y(h(6,1,"ACTION.ADD")))}function jm(n,a){if(n&1){let e=v();r(0,"div",16)(1,"a",34),C("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),I(2,"i",35)(3,"br"),l(),r(4,"p",19),c(5),S(6,"translate"),l()()}n&2&&(o(5),y(h(6,1,"ACTION.EDIT")))}function Um(n,a){if(n&1){let e=v();r(0,"div",16)(1,"a",36),C("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),I(2,"i",37)(3,"br"),l(),r(4,"p",19),c(5),S(6,"translate"),l()()}n&2&&(o(5),y(h(6,1,"ACTION.DELETE")))}function zm(n,a){if(n&1){let e=v();r(0,"div",16)(1,"a",17),C("click",function(){u(e);let t=m();return f(t.onActionButtonHtmlViewWithOutParent(t.tableRowSelected))}),I(2,"i",18)(3,"br"),l(),r(4,"p",19),c(5),S(6,"translate"),l()()}n&2&&(o(5),y(h(6,1,"ACTION.DISPLAY_PAGE_WITHOUT_PARENT")))}function Qm(n,a){if(n&1){let e=v();r(0,"div",38)(1,"mat-card",39)(2,"mat-card-header")(3,"mat-card-title"),c(4),I(5,"i",40),S(6,"statusIconClass"),l(),r(7,"mat-card-subtitle"),c(8),S(9,"translate"),l()(),I(10,"img",41),r(11,"mat-card-content"),c(12),S(13,"translate"),S(14,"cmstitle"),I(15,"br"),c(16),S(17,"translate"),S(18,"cmstitle"),I(19,"br"),c(20),S(21,"translate"),I(22,"i",40),S(23,"boolclass"),r(24,"p"),c(25),l()(),r(26,"mat-card-actions")(27,"button",42),C("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))}),r(28,"mat-icon"),c(29,"more_vert"),l()()()()()}if(n&2){let e=a.$implicit,i=m();o(4),g(" ",e.title," "),o(),d("ngClass",h(6,13,e.recordStatus)),o(3),Xt(" ",h(9,15,"TITLE.Id"),": ",e.id),o(2),d("src",P(e.thumbnailImageSrc),ve),o(2),Xt(" ",h(13,17,"TITLE.Template")," : ",Tt(14,19,e.linkPageTemplateGuId,i.dataModelWebDesignerMainPageTemplateResult.listItems)," "),o(4),Xt(" ",h(17,22,"TITLE.Default_template_classification_system")," : ",Tt(18,24,e.pageDependencyIsDefaultPageLinkSiteCategoryId,i.dataModelCoreSiteCategoryResult.listItems)," "),o(4),g(" ",h(21,27,"TITLE.System_default")," : "),o(2),d("ngClass",h(23,29,e.pageDependencyIsDefaultPage)),o(3),g(" ",e.description," ")}}var bi=class bi extends Bt{};bi.\u0275fac=(()=>{let a;return function(i){return(a||(a=mo(bi)))(i||bi)}})(),bi.\u0275cmp=R({type:bi,selectors:[["app-webdesigner-page-list"]],standalone:!1,features:[U],decls:60,vars:40,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionClassBody","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"row"],["Class","col-xl-12"],[3,"optionsInfoAreaId"],["class","col-sm-12 col-md-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"col-sm-12","col-md-6","col-lg-4","col-xl-3"],[1,"example-card",2,"border","groove"],[3,"ngClass"],["mat-card-image","",2,"max-height","300px",3,"src"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"]],template:function(e,i){if(e&1){let t=v();r(0,"app-cms-html-list",1),x("optionActionGuideNoticeDisplayChange",function(_){return u(t),T(i.viewGuideNotice,_)||(i.viewGuideNotice=_),f(_)}),C("optionOnActionButtonMemoRow",function(){return u(t),f(i.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(t),f(i.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(t),f(i.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(t),f(i.onActionButtonPrintRow())}),D(1,2),c(2," -------------------------------------- "),w(),ye(3,3)(4,4),D(5,5),b(6,Nm,2,0,"a",6)(7,Hm,2,0,"a",6),r(8,"a",7),C("click",function(){return u(t),f(i.viewGuideNotice=!i.viewGuideNotice)}),I(9,"i",8),l(),r(10,"a",7),C("click",function(){return u(t),f(i.onActionButtonReload())}),I(11,"i",9),l(),w(),D(12,10),r(13,"a",11),C("click",function(){return u(t),f(i.optionsSearch.data.show=!i.optionsSearch.data.show)}),I(14,"mat-slide-toggle",12),c(15),S(16,"translate"),l(),r(17,"a",11),C("click",function(){return u(t),f(i.onActionButtonStatist())}),I(18,"mat-slide-toggle",12),c(19),S(20,"translate"),l(),w(),D(21,13),b(22,qm,7,3,"div",14),w(),D(23,15),b(24,jm,7,3,"div",14)(25,Um,7,3,"div",14),r(26,"div",16)(27,"a",17),C("click",function(){return u(t),f(i.onActionButtonHtmlEditor(i.tableRowSelected))}),I(28,"i",18)(29,"br"),l(),r(30,"p",19),c(31),S(32,"translate"),l()(),r(33,"div",16)(34,"a",17),C("click",function(){return u(t),f(i.onActionButtonHtmlView(i.tableRowSelected))}),I(35,"i",18)(36,"br"),l(),r(37,"p",19),c(38),S(39,"translate"),l()(),b(40,zm,7,3,"div",14),r(41,"div",16)(42,"a",17),C("click",function(){return u(t),f(i.onActionButtonSiteRouteView(i.tableRowSelected))}),I(43,"i",20)(44,"br"),l(),r(45,"p",19),c(46),S(47,"translate"),l()(),w(),D(48,21),r(49,"app-cms-search-list",22),x("optionsChange",function(_){return u(t),T(i.optionsSearch,_)||(i.optionsSearch=_),f(_)}),l(),r(50,"app-cms-statist-list",22),x("optionsChange",function(_){return u(t),T(i.optionsStatist,_)||(i.optionsStatist=_),f(_)}),l(),w(),D(51,23),r(52,"div",24)(53,"div",25),I(54,"app-progress-spinner",26),r(55,"div",24),b(56,Qm,30,31,"div",27),l()()(),w(),D(57,28),r(58,"mat-paginator",29,0),C("page",function(_){return u(t),f(i.onTablePageingData(_))}),l(),w(),l()}e&2&&(d("optionsListInfoAreaId",i.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",i.viewGuideNotice),d("optionTreeDisplay",!1)("optionClassBody","")("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplayMenu",i.tableRowSelectDoubleClick)("optionSelectRowItemTitle",i.tableRowSelected==null?null:i.tableRowSelected.title),o(6),d("ngIf",(i.requestLinkPageTemplateGuId==null?null:i.requestLinkPageTemplateGuId.length)>0),o(),d("ngIf",(i.requestLinkPageDependencyGuId==null?null:i.requestLinkPageDependencyGuId.length)>0),o(7),d("checked",i.optionsSearch.data.show),o(),g("",h(16,29,"ACTION.SEARCH")," "),o(3),d("checked",i.optionsStatist.data.show),o(),g("",h(20,31,"ACTION.STATIST")," "),o(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow),o(),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow),o(6),y(h(32,33,"ACTION.PAGE_DESIGN")),o(7),y(h(39,35,"ACTION.SHOW_PAGE")),o(2),d("ngIf",(i.tableRowSelected==null||i.tableRowSelected.linkPageParentGuId==null?null:i.tableRowSelected.linkPageParentGuId.length)>0),o(6),y(h(47,37,"ACTION.SHOW_WEB")),o(3),E("options",i.optionsSearch),o(),E("options",i.optionsStatist),o(4),d("optionsInfoAreaId",i.constructorInfoAreaId),o(2),d("ngForOf",i.dataModelResult.listItems),o(2),d("length",i.dataModelResult.totalRowCount)("pageIndex",i.dataModelResult.currentPageNumber-1)("pageSize",i.dataModelResult.rowPerPage)("pageSizeOptions",Ie(39,Om)))},dependencies:[De,Ge,W,xe,Ro,Vo,ko,Go,Fo,Lo,Wo,oe,He,Re,je,Ue,q,ze,k,Ti,Qe,Ei],encapsulation:2});var Ii=bi;var on=class on{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};on.\u0275fac=function(e){return new(e||on)},on.\u0275cmp=R({type:on,selectors:[["app-web-designer"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&I(0,"router-outlet")},dependencies:[bo],encapsulation:2});var io=on;var Km=[{path:"",component:io,data:{title:"ROUTE.WEBDESIGNER"},children:[{path:"config",loadChildren:()=>import("./chunk-TVJLZCYV.js").then(n=>n.WebDesignerConfigModule),data:{title:"ROUTE.WEBDESIGNER"}},{path:"intro",component:sn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/LinkPageId/:LinkPageId",component:sn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/add",component:ln,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/add/:LinkPageId",component:ln,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/edit/:Id",component:Nn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"menu",component:zn,data:{title:"ROUTE.WEBDESIGNER.MENU"}},{path:"logmemberinfo",component:jn,data:{title:"ROUTE.WEBDESIGNER.LOGMEMBERINFO"}},{path:"pagetemplate",component:$n,data:{title:"ROUTE.WEBDESIGNER.PAGETEMPLATE"}},{path:"pagedependency",component:Yn,data:{title:"ROUTE.WEBDESIGNER.PAGEDEPENDENCY"}},{path:"page",component:Ii,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageTemplateGuId/:LinkPageTemplateGuId",component:Ii,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageParentGuId/:LinkPageParentGuId",component:Ii,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageDependencyGuId/:LinkPageDependencyGuId",component:Ii,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid",component:Bt,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageTemplateGuId/:LinkPageTemplateGuId",component:Bt,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageParentGuId/:LinkPageParentGuId",component:Bt,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageDependencyGuId/:LinkPageDependencyGuId",component:Bt,data:{title:"ROUTE.WEBDESIGNER.PAGE"}}]}],Ci=class Ci{};Ci.\u0275fac=function(e){return new(e||Ci)},Ci.\u0275mod=Sn({type:Ci}),Ci.\u0275inj=_n({imports:[oo.forChild(Km),oo]});var no=Ci;var vi=class vi{};vi.\u0275fac=function(e){return new(e||vi)},vi.\u0275mod=Sn({type:vi}),vi.\u0275inj=_n({providers:[Tn,z,wo,qe,xo,xn,Ao,wi,ti,nt,ot,Pt,rt,An,Di],imports:[uo,no,ho,Mo.withConfig({warnOnNgModelWithFormControl:"never"}),Yo,er,vo,Io,Bo,cr,pr,ar,lr,Jo]});var Mr=vi;export{Mr as WebDesignerModule};
