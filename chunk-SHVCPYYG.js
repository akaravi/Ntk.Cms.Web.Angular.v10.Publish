import{a as Io}from"./chunk-BJMIR5ES.js";import{a as Mo}from"./chunk-IK2DSN5D.js";import{a as Ao}from"./chunk-3FSPTOHV.js";import{a as Le}from"./chunk-CQ4LRZY6.js";import{a as ke}from"./chunk-5LMVJ7T2.js";import{a as Oe}from"./chunk-KHCYPYQ3.js";import{a as et}from"./chunk-ECYR5XCK.js";import{a as Ve}from"./chunk-QGQZO7XF.js";import{c as ye,d as Re,e as xe,g as De,h as Be}from"./chunk-FCVOEZR2.js";import{a as vo}from"./chunk-54S5FV75.js";import"./chunk-4YRZRDFJ.js";import"./chunk-R7TPZM3A.js";import"./chunk-PVCY3OZB.js";import{a as bo}from"./chunk-K3XG45MP.js";import{a as gi}from"./chunk-LI37UUJ7.js";import{b as To}from"./chunk-4BSRS4L3.js";import"./chunk-4U6I2Z6G.js";import"./chunk-HFRDQGUA.js";import{a as fi}from"./chunk-NHABYHOC.js";import{a as He}from"./chunk-GZBNP6Y7.js";import{a as Tt}from"./chunk-KBQX27H2.js";import{a as Ze,d as bt}from"./chunk-TX227Y4U.js";import{b as we,e as Ee,f as H}from"./chunk-2DIZYDRP.js";import{$ as uo,$a as K,A as so,Ab as ge,Bb as Se,Cb as he,Db as _e,Eb as Ce,Fb as be,Gb as Te,Hb as ve,Ib as Ae,J as ui,K as St,Ka as Ct,L as ht,La as Xe,Lc as Me,Ma as Y,N as co,O as mo,Oc as Ie,Q as po,Qc as F,Sc as _o,Tc as Co,W as _t,Wb as N,Xb as P,Ya as go,Za as le,_a as So,aa as fo,ba as ae,eb as se,fb as ce,ib as me,m as di,n as $e,nb as pe,pb as de,q as Ye,qb as ue,r as dt,t as ut,u as lo,v as ft,w as gt,yb as ho,zb as fe}from"./chunk-PZIDJ2FQ.js";import{$d as to,$e as oo,$h as Ri,Ab as g,Bb as $i,Cb as Yi,Cd as wi,Dd as X,Eb as ct,F as Hi,Fa as n,Fb as mt,Gb as pt,Gd as ai,Ha as qi,Hd as Q,I as Wi,Kb as B,Lc as ne,Ld as j,Mb as O,Md as $,Oa as b,P as Ui,Pb as c,Pd as Ei,Q as ji,Qb as L,Rb as d,Rc as ze,Sa as V,Sb as ni,Ta as oi,Tc as J,Ud as yi,Vb as R,Vh as no,Wa as q,Wb as x,Xb as D,Y as ii,Ya as w,Yb as U,Yd as k,Zb as Ii,_c as Xi,_h as Z,ac as oe,ai as xi,bc as Ke,bi as Di,ci as Bi,da as u,db as Qi,di as Li,ea as f,ei as ro,fb as M,fc as S,fi as ee,gb as I,gc as h,gi as ao,hi as li,ib as Ki,ii as si,jb as zi,jd as Zi,ji as ci,kb as Ji,ki as mi,lb as C,li as pi,mb as a,mr as Je,nb as r,ob as _,p as Pi,q as Fi,re as Fe,sb as v,tb as A,ub as ie,ud as ri,vb as E,vd as eo,ve as io,wd as re,yb as T,yc as G}from"./chunk-44NLGLKY.js";import{i as z}from"./chunk-SEDBTTTN.js";var vt=class vt{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};vt.\u0275fac=function(e){return new(e||vt)},vt.\u0275cmp=V({type:vt,selectors:[["app-apitelegram"]],standalone:!1,decls:1,vars:0,template:function(e,o){e&1&&_(0,"router-outlet")},dependencies:[eo],encapsulation:2});var Si=vt;function Do(i,l){if(i&1&&(a(0,"div"),_(1,"app-cms-json-list",4),r()),i&2){let e=g();n(),C("dataModel",e.optionItem)("optionMethod",1)}}var tt=class tt{constructor(l,e,o){this.cmsToastrService=l;this.data=e;this.http=o;this.id=++tt.nextId;this.optionMethod=1;e&&(this.optionMethod=e.optionMethod,this.optionListItems=e.optionListItems,this.optionItem=e.optionItem,this.optionLabel=e.optionLabel)}ngOnInit(){}ngOnDestroy(){}};tt.nextId=0,tt.\u0275fac=function(e){return new(e||tt)(b(F),b(Xe),b(Zi))},tt.\u0275cmp=V({type:tt,selectors:[["app-cms-view"]],inputs:{optionMethod:"optionMethod",optionListItems:"optionListItems",optionItem:"optionItem",optionLabel:"optionLabel"},standalone:!1,decls:6,vars:2,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],[3,"dataModel","optionMethod"]],template:function(e,o){e&1&&(a(0,"div",0),c(1),r(),a(2,"div",1),M(3,Do,2,2,"div"),r(),_(4,"div",2)(5,"div",3)),e&2&&(n(),d(" ",o.optionLabel," "),n(2),I(o.optionItem?3:-1))},dependencies:[Ao],encapsulation:2});var Mt=tt;var Bo=["*"];function Lo(i,l){if(i&1&&(a(0,"label",3),c(1),r()),i&2){let e=g();C("for",Ii("app-cms-site-selector-",e.id)),n(),L(e.optionLabel)}}function ko(i,l){if(i&1&&(a(0,"mat-option",6)(1,"span"),c(2),r()()),i&2){let e=l.$implicit,o=g();C("value",e)("disabled",o.optionDisabled),n(2),L(o.displayOption(e))}}function Vo(i,l){i&1&&_(0,"i",7)}function Oo(i,l){i&1&&_(0,"i",8)}function Go(i,l){if(i&1){let e=E();a(0,"i",11),T("click",function(){u(e);let t=g();return f(t.onActionSelectClear())}),r()}}function No(i,l){i&1&&(a(0,"em"),c(1),S(2,"translate"),r()),i&2&&(n(),d("(",h(2,1,"TITLE.Necessary"),")"))}var it=class it{constructor(l,e,o,t,m){this.coreEnumService=l;this.cdr=e;this.publicHelper=o;this.translate=t;this.categoryService=m;this.id=++it.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Q;this.dataModelSelect=new Z;this.formControl=new lo;this.optionPlaceholder="";this.optionLabel="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionChange=new qi;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Ui(""),Hi(1500),Wi(),ji(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return z(this,null,function*(){let e=new $;e.rowPerPage=20,e.accessLoad=!0;let o=new j;o.propertyName="title",o.value=l,o.searchType=yi.Contains,o.clauseType=Ei.Or,e.filters.push(o),l&&typeof+l=="number"&&+l>0&&(o=new j,o.propertyName="id",o.value=l,o.searchType=yi.Equal,o.clauseType=Ei.Or,e.filters.push(o));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),yield Pi(this.categoryService.ServiceGetAll(e)).then(m=>(this.dataModelResult=m,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),m.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(Fi(e=>(e.find(o=>o.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="number"&&l>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(o=>o.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof l==typeof Z){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Z,this.loadOptions()}};it.nextId=0,it.\u0275fac=function(e){return new(e||it)(b(Fe),b(G),b(H),b(N),b(ee))},it.\u0275cmp=V({type:it,selectors:[["app-api-telegram-bot-config-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Bo,decls:16,vars:23,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,o){if(e&1){let t=E();$i(),a(0,"div",1),_(1,"app-progress-spinner",2),M(2,Lo,2,3,"label",3),_(3,"input",4),a(4,"mat-autocomplete",5,0),T("optionSelected",function(p){return u(t),f(o.onActionSelect(p.option.value))}),zi(6,ko,3,3,"mat-option",6,Ki),S(8,"async"),r(),M(9,Vo,1,0,"i",7),M(10,Oo,1,0,"i",8),M(11,Go,1,0,"i",9),a(12,"i",10),S(13,"translate"),T("click",function(){return u(t),f(o.onActionButtonReload())}),r(),M(14,No,3,3,"em"),Yi(15),r()}if(e&2){let t=B(5);n(),C("optionsInfoAreaId",o.constructorInfoAreaId),n(),I((o.optionLabel==null?null:o.optionLabel.length)>0?2:-1),n(),C("placeholder",U(o.optionPlaceholder))("id",Ii("app-cms-site-selector-",o.id))("formControl",o.formControl)("matAutocomplete",t)("required",o.optionRequired),Qi("disabled",o.optionDisabled?!0:null),n(),C("displayWith",o.displayFn),n(2),Ji(h(8,19,o.filteredOptions)),n(3),I(o.formControl.valid?-1:9),n(),I(o.optionRequired&&o.formControl.valid?10:-1),n(),I((o.dataModelSelect==null?null:o.dataModelSelect.id)>0?11:-1),n(),O("rotation360",o.publicHelper.processService.process.inRunArea[o.constructorInfoAreaId]),C("title",U(h(13,21,"ACTION.RELOAD"))),n(2),I(o.optionRequired&&(!o.dataModelSelect||!o.dataModelSelect.id||o.dataModelSelect.id<=0)?14:-1)}},dependencies:[$e,Ye,ui,so,uo,po,fo,K,Ze,J,P],encapsulation:2});var hi=it;var Fo=["vform"];function Ho(i,l){i&1&&_(0,"i",13)}function Wo(i,l){i&1&&_(0,"i",14)}function Uo(i,l){i&1&&(a(0,"mat-error"),c(1),S(2,"translate"),a(3,"strong"),c(4),S(5,"translate"),r()()),i&2&&(n(),d(" ",h(2,2,"TITLE.Message_Title")," "),n(3),L(h(5,4,"MESSAGE.required")))}function jo(i,l){i&1&&(a(0,"mat-error"),c(1),S(2,"translate"),a(3,"strong"),c(4),S(5,"translate"),r()()),i&2&&(n(),d(" ",h(2,2,"MESSAGE.Chat_ID")," "),n(3),L(h(5,4,"MESSAGE.required")))}function qo(i,l){if(i&1){let e=E();a(0,"div",20)(1,"button",21),T("click",function(){u(e);let t=g();return f(t.onFormCancel())}),_(2,"i",22),c(3),S(4,"translate"),r(),a(5,"button",23),_(6,"i",24),c(7),S(8,"translate"),r()()}if(i&2){g();let e=B(9);n(3),d(" ",h(4,3,"ACTION.CANCEL")," "),n(2),C("disabled",!e.form.valid),n(2),d(" ",h(8,5,"ACTION.Send_Message")," ")}}var Oi=class{},wt=class wt{constructor(l,e,o,t,m,p,s,y){this.data=l;this.dialogRef=e;this.coreEnumService=o;this.apiTelegramBotConfigService=t;this.cmsToastrService=m;this.publicHelper=p;this.cdr=s;this.translate=y;this.requestLinkBotConfigId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.compModel=new Oi;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ai;this.dataModel=new no;this.formInfo=new bt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.data&&(this.requestLinkBotConfigId=+this.data.linkBotConfigId||0,this.compModel.ChatIds=this.data.ChatId+""),this.requestLinkBotConfigId>0&&(this.dataModel.botId=this.requestLinkBotConfigId),this.translate.get("TITLE.Send_Message").subscribe(l=>{this.formInfo.formTitle=l})}ActionSendMessage(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.apiTelegramBotConfigService.ServiceSendMessage(this.dataModel).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=e,e.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.submitResultMessage=o,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormSubmit(){if(this.formGroup.valid){if(this.dataModel.chatId=[],this.compModel.ChatIds&&this.compModel.ChatIds.length>0&&this.publicHelper.SplitAllChar(this.compModel.ChatIds).forEach(e=>{let o=+e||0;o>0&&this.dataModel.chatId.push(o)}),this.dataModel.chatId.length==0){this.translate.get("MESSAGE.Recipient_list_is_not_valid").subscribe(l=>{this.cmsToastrService.typeWarning(l)});return}this.formInfo.submitButtonEnabled=!1,this.ActionSendMessage()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorSelect(l){if(!l||l.id<=0){this.translate.get("MESSAGE.Select_the_Telegram_bot").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.dataModel.botId=l.id}};wt.\u0275fac=function(e){return new(e||wt)(b(Xe),b(Ct),b(Fe),b(ee),b(F),b(H),b(G),b(N))},wt.\u0275cmp=V({type:wt,selectors:[["app-apitelegram-action-send-message"]],viewQuery:function(e,o){if(e&1&&ct(Fo,5),e&2){let t;mt(t=pt())&&(o.formGroup=t.first)}},standalone:!1,decls:40,vars:33,consts:[["vform","ngForm"],["title",""],["chatId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.chatId",1,"color-highlight"],["matInput","","name","dataModel.chatId","type","text","minlength","1","maxlength","1000","rows","5","id","dataModel.chatId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,o){if(e&1){let t=E();a(0,"div",3),_(1,"app-progress-spinner",4),a(2,"div",5)(3,"p",6),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),a(8,"form",7,0),T("ngSubmit",function(){return u(t),f(o.onFormSubmit())}),a(10,"div",8)(11,"app-api-telegram-bot-config-selector",9),S(12,"translate"),T("optionChange",function(p){return u(t),f(o.onActionSelectorSelect(p))}),r(),a(13,"div",10)(14,"label",11),c(15),S(16,"translate"),r(),a(17,"input",12,1),S(19,"translate"),D("ngModelChange",function(p){return u(t),x(o.dataModel.title,p)||(o.dataModel.title=p),f(p)}),r(),M(20,Ho,1,0,"i",13),M(21,Wo,1,0,"i",14),a(22,"em"),c(23),r(),M(24,Uo,6,6,"mat-error"),r(),a(25,"div",10)(26,"label",15),c(27),S(28,"translate"),r(),a(29,"textarea",16,2),S(31,"translate"),D("ngModelChange",function(p){return u(t),x(o.dataModel.chatId,p)||(o.dataModel.chatId=p),f(p)}),c(32,"            "),r(),a(33,"em"),c(34),r(),M(35,jo,6,6,"mat-error"),r()(),a(36,"div",17),_(37,"app-cms-form-result-message",18),r(),a(38,"div",19),M(39,qo,9,7,"div",20),r()()()()}if(e&2){let t=B(18),m=B(30);n(),C("optionsInfoAreaId",o.constructorInfoAreaId),n(3),d(" ",o.formInfo.formTitle," "),n(2),d(" ",h(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),n(5),C("optionSelectForce",o.dataModel.botId)("optionPlaceholder",h(12,23,"TITLE.Telegram_Bot")),n(4),L(h(16,25,"TITLE.title")),n(2),C("placeholder",U(h(19,27,"TITLE.Message_Title"))),R("ngModel",o.dataModel.title),n(3),I(t.value?-1:20),n(),I(t.value?21:-1),n(2),d("",t.value.length," / 100"),n(),I(t.errors!=null&&t.errors.required?24:-1),n(3),L(h(28,29,"MESSAGE.Chat_ID")),n(2),C("placeholder",U(h(31,31,"MESSAGE.Chat_ID"))),R("ngModel",o.dataModel.chatId),n(5),d("",m.value.length," / 1000"),n(),I(m.errors!=null&&m.errors.required?35:-1),n(2),C("formInfo",o.formInfo),n(2),I(o.formInfo.submitButtonEnabled?39:-1)}},dependencies:[gt,$e,Ye,dt,ui,St,ht,ft,ut,_t,K,Ze,Tt,hi,P],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var ot=wt;var zo=["vform"];function Jo(i,l){i&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),i&2&&(n(3),L(h(4,1,"MESSAGE.required")))}function $o(i,l){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),S(4,"translate"),r()()),i&2){let e=g();n(),d(" ",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," "),n(2),L(h(4,2,"MESSAGE.required"))}}function Yo(i,l){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),S(4,"translate"),r()()),i&2){let e=g();n(),d(" ",e.fieldsInfo.botToken==null?null:e.fieldsInfo.botToken.fieldTitle," "),n(2),L(h(4,2,"MESSAGE.required"))}}function Xo(i,l){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),S(4,"translate"),r()()),i&2){let e=g();n(),d(" ",e.fieldsInfo.securityKey==null?null:e.fieldsInfo.securityKey.fieldTitle," "),n(2),L(h(4,2,"MESSAGE.required"))}}function Zo(i,l){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),S(4,"translate"),r()()),i&2){let e=g();n(),d(" ",e.fieldsInfo.urlWebhook==null?null:e.fieldsInfo.urlWebhook.fieldTitle," "),n(2),L(h(4,2,"MESSAGE.required"))}}function en(i,l){if(i&1){let e=E();a(0,"div",24)(1,"div",26)(2,"h5",27),c(3),r()(),a(4,"div",28)(5,"div",29)(6,"input",30),D("ngModelChange",function(t){u(e);let m=g();return x(m.dataModel.statusWebhook,t)||(m.dataModel.statusWebhook=t),f(t)}),r(),_(7,"label",31),r()()()}if(i&2){let e=g();n(3),d(" ",e.fieldsInfo.statusWebhook==null?null:e.fieldsInfo.statusWebhook.fieldTitle," "),n(3),R("ngModel",e.dataModel.statusWebhook)}}function tn(i,l){if(i&1){let e=E();a(0,"div",25)(1,"button",32),T("click",function(){u(e);let t=g();return f(t.onFormCancel())}),_(2,"i",33),c(3),S(4,"translate"),r(),a(5,"button",34),_(6,"i",35),c(7),S(8,"translate"),r()()}if(i&2){g();let e=B(10);n(3),d(" ",h(4,3,"ACTION.CANCEL")," "),n(2),C("disabled",!e.form.valid),n(2),d(" ",h(8,5,"ACTION.SAVE")," ")}}var Et=class Et extends bo{constructor(e,o,t,m,p,s,y,W){super(m,new Z,W,y);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.apiTelegramBotConfigService=m;this.cmsToastrService=p;this.cdr=s;this.translate=y;this.publicHelper=W;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Q;this.dataModel=new Z;this.formInfo=new bt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.apiTelegramBotConfigService.ServiceAdd(this.dataModel).subscribe({next:o=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Et.\u0275fac=function(o){return new(o||Et)(b(Xe),b(Ct),b(Fe),b(ee),b(F),b(G),b(N),b(H))},Et.\u0275cmp=V({type:Et,selectors:[["app-core-module-add"]],viewQuery:function(o,t){if(o&1&&ct(zo,5),o&2){let m;mt(m=pt())&&(t.formGroup=m.first)}},standalone:!1,features:[q],decls:54,vars:43,consts:[["vform","ngForm"],["Title",""],["Username",""],["BotToken",""],["SecurityKey",""],["UrlWebhook",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.username",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.username","minlength","3","maxlength","100","id","dataModel.username",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.botToken",1,"color-highlight"],["matInput","","type","text","name","dataModel.botToken","minlength","3","maxlength","100","id","dataModel.botToken",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.securityKey",1,"color-highlight"],["matInput","","type","text","name","dataModel.securityKey","minlength","3","maxlength","100","id","dataModel.securityKey",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.urlWebhook",1,"color-highlight"],["matInput","","type","text","name","dataModel.urlWebhook","minlength","3","maxlength","100","id","dataModel.urlWebhook",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","mb-3"],[1,"form-actions"],[1,"pt-1"],["data-trigger-switch","dataModel.statusWebhook",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.statusWebhook","name","dataModel.statusWebhook",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.statusWebhook",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(o,t){if(o&1){let m=E();a(0,"div",6),_(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),_(8,"app-cms-form-result-message",10),a(9,"form",11,0),T("ngSubmit",function(){return u(m),f(t.onFormSubmit())}),a(11,"app-cms-enum-record-status-selector",12),D("modelChange",function(s){return u(m),x(t.dataModel.recordStatus,s)||(t.dataModel.recordStatus=s),f(s)}),r(),a(12,"div",13)(13,"label",14),c(14),r(),a(15,"input",15,1),D("ngModelChange",function(s){return u(m),x(t.dataModel.title,s)||(t.dataModel.title=s),f(s)}),r(),a(17,"em"),c(18),r(),M(19,Jo,5,3,"mat-error"),r(),a(20,"div",13)(21,"label",16),c(22),r(),a(23,"input",17,2),D("ngModelChange",function(s){return u(m),x(t.dataModel.username,s)||(t.dataModel.username=s),f(s)}),r(),a(25,"em"),c(26),r(),M(27,$o,5,4,"mat-error"),r(),a(28,"div",13)(29,"label",18),c(30),r(),a(31,"input",19,3),D("ngModelChange",function(s){return u(m),x(t.dataModel.botToken,s)||(t.dataModel.botToken=s),f(s)}),r(),a(33,"em"),c(34),r(),M(35,Yo,5,4,"mat-error"),r(),a(36,"div",13)(37,"label",20),c(38),r(),a(39,"input",21,4),D("ngModelChange",function(s){return u(m),x(t.dataModel.securityKey,s)||(t.dataModel.securityKey=s),f(s)}),r(),a(41,"em"),c(42),r(),M(43,Xo,5,4,"mat-error"),r(),a(44,"div",13)(45,"label",22),c(46),r(),a(47,"input",23,5),D("ngModelChange",function(s){return u(m),x(t.dataModel.urlWebhook,s)||(t.dataModel.urlWebhook=s),f(s)}),r(),a(49,"em"),c(50),r(),M(51,Zo,5,4,"mat-error"),r(),M(52,en,8,2,"div",24),M(53,tn,9,7,"div",25),r()()()}if(o&2){let m=B(16),p=B(24),s=B(32),y=B(40),W=B(48);n(),C("optionsInfoAreaId",t.constructorInfoAreaId),n(3),d(" ",t.formInfo.formTitle," "),n(2),d(" ",h(7,41,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),C("formInfo",t.formInfo),n(3),R("model",t.dataModel.recordStatus),C("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0),n(3),L(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),n(),C("placeholder",U(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),R("ngModel",t.dataModel.title),n(3),d("",m.value.length," / 100"),n(),I(m.errors!=null&&m.errors.required?19:-1),n(3),L(t.fieldsInfo.username==null?null:t.fieldsInfo.username.fieldTitle),n(),C("placeholder",U(t.fieldsInfo.username==null?null:t.fieldsInfo.username.fieldTitle)),R("ngModel",t.dataModel.username),n(3),d("",p.value.length," / 100"),n(),I(p.errors!=null&&p.errors.required?27:-1),n(3),L(t.fieldsInfo.botToken==null?null:t.fieldsInfo.botToken.fieldTitle),n(),C("placeholder",U(t.fieldsInfo.botToken==null?null:t.fieldsInfo.botToken.fieldTitle)),R("ngModel",t.dataModel.botToken),n(3),d("",s.value.length," / 100"),n(),I(s.errors!=null&&s.errors.required?35:-1),n(3),L(t.fieldsInfo.securityKey==null?null:t.fieldsInfo.securityKey.fieldTitle),n(),C("placeholder",U(t.fieldsInfo.securityKey==null?null:t.fieldsInfo.securityKey.fieldTitle)),R("ngModel",t.dataModel.securityKey),n(3),d("",y.value.length," / 100"),n(),I(y.errors!=null&&y.errors.required?43:-1),n(3),L(t.fieldsInfo.urlWebhook==null?null:t.fieldsInfo.urlWebhook.fieldTitle),n(),C("placeholder",U(t.fieldsInfo.urlWebhook==null?null:t.fieldsInfo.urlWebhook.fieldTitle)),R("ngModel",t.dataModel.urlWebhook),n(3),d("",W.value.length," / 100"),n(),I(W.errors!=null&&W.errors.required?51:-1),n(),I(t.fieldsInfo.statusWebhook!=null&&t.fieldsInfo.statusWebhook.accessWatchField?52:-1),n(),I(t.formInfo.submitButtonEnabled?53:-1)}},dependencies:[gt,$e,di,Ye,dt,St,ht,ft,ut,_t,K,gi,Ze,Tt,fi,P],encapsulation:2});var _i=Et;var on=["vform"];function nn(i,l){i&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),i&2&&(n(3),L(h(4,1,"MESSAGE.required")))}function rn(i,l){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),S(4,"translate"),r()()),i&2){let e=g();n(),d(" ",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," "),n(2),L(h(4,2,"MESSAGE.required"))}}function an(i,l){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),S(4,"translate"),r()()),i&2){let e=g();n(),d(" ",e.fieldsInfo.botToken==null?null:e.fieldsInfo.botToken.fieldTitle," "),n(2),L(h(4,2,"MESSAGE.required"))}}function ln(i,l){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),S(4,"translate"),r()()),i&2){let e=g();n(),d(" ",e.fieldsInfo.securityKey==null?null:e.fieldsInfo.securityKey.fieldTitle," "),n(2),L(h(4,2,"MESSAGE.required"))}}function sn(i,l){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),S(4,"translate"),r()()),i&2){let e=g();n(),d(" ",e.fieldsInfo.urlWebhook==null?null:e.fieldsInfo.urlWebhook.fieldTitle," "),n(2),L(h(4,2,"MESSAGE.required"))}}function cn(i,l){if(i&1){let e=E();a(0,"div",24)(1,"div",26)(2,"h5",27),c(3),r()(),a(4,"div",28)(5,"div",29)(6,"input",30),D("ngModelChange",function(t){u(e);let m=g();return x(m.dataModel.statusWebhook,t)||(m.dataModel.statusWebhook=t),f(t)}),r(),_(7,"label",31),r()()()}if(i&2){let e=g();n(3),d(" ",e.fieldsInfo.statusWebhook==null?null:e.fieldsInfo.statusWebhook.fieldTitle," "),n(3),R("ngModel",e.dataModel.statusWebhook)}}function mn(i,l){if(i&1){let e=E();a(0,"div",25)(1,"button",32),T("click",function(){u(e);let t=g();return f(t.onFormCancel())}),_(2,"i",33),c(3),S(4,"translate"),r(),a(5,"button",34),T("click",function(){u(e);let t=g();return f(t.onActionButtonGetMeAsync())}),c(6),S(7,"translate"),r(),a(8,"button",34),T("click",function(){u(e);let t=g();return f(t.onActionButtonSetWebhookAsync())}),c(9),S(10,"translate"),r(),a(11,"button",34),T("click",function(){u(e);let t=g();return f(t.onActionButtonSetWebhookAsyncEmpty())}),c(12),S(13,"translate"),r(),a(14,"button",35),_(15,"i",36),c(16),S(17,"translate"),r()()}if(i&2){g();let e=B(10);n(3),d(" ",h(4,6,"ACTION.CANCEL")," "),n(3),d(" ",h(7,8,"ACTION.GetMeAsync")," "),n(3),d(" ",h(10,10,"ACTION.SetWebhookAsync")," "),n(3),d(" ",h(13,12,"ACTION.SetWebhookAsyncEmpty")," "),n(2),C("disabled",!e.form.valid),n(2),d(" ",h(17,14,"ACTION.SAVE")," ")}}var yt=class yt extends vo{constructor(e,o,t,m,p,s,y,W,Qe,Ne){super(m,new Z,y,Qe);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.contentService=m;this.apiTelegramBotConfigService=p;this.cmsToastrService=s;this.publicHelper=y;this.cdr=W;this.translate=Qe;this.dialog=Ne;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ai;this.dataModel=new Z;this.formInfo=new bt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.apiTelegramBotConfigService.setAccessLoad(),this.apiTelegramBotConfigService.setAccessDataType(to.Editor),this.apiTelegramBotConfigService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.dataModel=o.item,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.apiTelegramBotConfigService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorEdit(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonGetMeAsync(){let e=this.constructor.name+"ServiceGetMeAsync";this.apiTelegramBotConfigService.ServiceGetMeAsync(this.requestId).subscribe({next:o=>{o.isSuccess?this.dialog.open(Mt,{data:{optionItem:o.item}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate}):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonSetWebhookAsync(){let e=this.constructor.name+"ServiceSetWebhookAsync";this.apiTelegramBotConfigService.ServiceSetWebhookAsync(this.requestId).subscribe({next:o=>{o.isSuccess?this.cmsToastrService.typeSuccessAdd():this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonSetWebhookAsyncEmpty(){let e=this.constructor.name+"ServiceSetWebhookAsyncEmpty";this.apiTelegramBotConfigService.ServiceSetWebhookAsyncEmpty(this.requestId).subscribe({next:o=>{o.isSuccess?this.cmsToastrService.typeSuccessAdd():this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};yt.\u0275fac=function(o){return new(o||yt)(b(Xe),b(Ct),b(Fe),b(ee),b(ee),b(F),b(H),b(G),b(N),b(Y))},yt.\u0275cmp=V({type:yt,selectors:[["app-core-module-edit"]],viewQuery:function(o,t){if(o&1&&ct(on,5),o&2){let m;mt(m=pt())&&(t.formGroup=m.first)}},standalone:!1,features:[q],decls:54,vars:43,consts:[["vform","ngForm"],["Title",""],["Username",""],["BotToken",""],["SecurityKey",""],["UrlWebhook",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.username",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.username","minlength","3","maxlength","100","id","dataModel.username",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.botToken",1,"color-highlight"],["matInput","","type","text","name","dataModel.botToken","minlength","3","maxlength","100","id","dataModel.botToken",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.securityKey",1,"color-highlight"],["matInput","","type","text","name","dataModel.securityKey","minlength","3","maxlength","100","id","dataModel.securityKey",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.urlWebhook",1,"color-highlight"],["matInput","","type","text","name","dataModel.urlWebhook","minlength","3","maxlength","100","id","dataModel.urlWebhook",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","mb-3"],[1,"form-actions"],[1,"pt-1"],["data-trigger-switch","dataModel.statusWebhook",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.statusWebhook","name","dataModel.statusWebhook",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.statusWebhook",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(o,t){if(o&1){let m=E();a(0,"div",6),_(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),_(8,"app-cms-form-result-message",10),a(9,"form",11,0),T("ngSubmit",function(){return u(m),f(t.onFormSubmit())}),a(11,"app-cms-enum-record-status-selector",12),D("modelChange",function(s){return u(m),x(t.dataModel.recordStatus,s)||(t.dataModel.recordStatus=s),f(s)}),r(),a(12,"div",13)(13,"label",14),c(14),r(),a(15,"input",15,1),D("ngModelChange",function(s){return u(m),x(t.dataModel.title,s)||(t.dataModel.title=s),f(s)}),r(),a(17,"em"),c(18),r(),M(19,nn,5,3,"mat-error"),r(),a(20,"div",13)(21,"label",16),c(22),r(),a(23,"input",17,2),D("ngModelChange",function(s){return u(m),x(t.dataModel.username,s)||(t.dataModel.username=s),f(s)}),r(),a(25,"em"),c(26),r(),M(27,rn,5,4,"mat-error"),r(),a(28,"div",13)(29,"label",18),c(30),r(),a(31,"input",19,3),D("ngModelChange",function(s){return u(m),x(t.dataModel.botToken,s)||(t.dataModel.botToken=s),f(s)}),r(),a(33,"em"),c(34),r(),M(35,an,5,4,"mat-error"),r(),a(36,"div",13)(37,"label",20),c(38),r(),a(39,"input",21,4),D("ngModelChange",function(s){return u(m),x(t.dataModel.securityKey,s)||(t.dataModel.securityKey=s),f(s)}),r(),a(41,"em"),c(42),r(),M(43,ln,5,4,"mat-error"),r(),a(44,"div",13)(45,"label",22),c(46),r(),a(47,"input",23,5),D("ngModelChange",function(s){return u(m),x(t.dataModel.urlWebhook,s)||(t.dataModel.urlWebhook=s),f(s)}),r(),a(49,"em"),c(50),r(),M(51,sn,5,4,"mat-error"),r(),M(52,cn,8,2,"div",24),M(53,mn,18,16,"div",25),r()()()}if(o&2){let m=B(16),p=B(24),s=B(32),y=B(40),W=B(48);n(),C("optionsInfoAreaId",t.constructorInfoAreaId),n(3),d(" ",t.formInfo.formTitle," "),n(2),d(" ",h(7,41,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),C("formInfo",t.formInfo),n(3),R("model",t.dataModel.recordStatus),C("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0),n(3),L(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),n(),C("placeholder",U(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),R("ngModel",t.dataModel.title),n(3),d("",m.value.length," / 100"),n(),I(m.errors!=null&&m.errors.required?19:-1),n(3),L(t.fieldsInfo.username==null?null:t.fieldsInfo.username.fieldTitle),n(),C("placeholder",U(t.fieldsInfo.username==null?null:t.fieldsInfo.username.fieldTitle)),R("ngModel",t.dataModel.username),n(3),d("",p.value.length," / 100"),n(),I(p.errors!=null&&p.errors.required?27:-1),n(3),L(t.fieldsInfo.botToken==null?null:t.fieldsInfo.botToken.fieldTitle),n(),C("placeholder",U(t.fieldsInfo.botToken==null?null:t.fieldsInfo.botToken.fieldTitle)),R("ngModel",t.dataModel.botToken),n(3),d("",s.value.length," / 100"),n(),I(s.errors!=null&&s.errors.required?35:-1),n(3),L(t.fieldsInfo.securityKey==null?null:t.fieldsInfo.securityKey.fieldTitle),n(),C("placeholder",U(t.fieldsInfo.securityKey==null?null:t.fieldsInfo.securityKey.fieldTitle)),R("ngModel",t.dataModel.securityKey),n(3),d("",y.value.length," / 100"),n(),I(y.errors!=null&&y.errors.required?43:-1),n(3),L(t.fieldsInfo.urlWebhook==null?null:t.fieldsInfo.urlWebhook.fieldTitle),n(),C("placeholder",U(t.fieldsInfo.urlWebhook==null?null:t.fieldsInfo.urlWebhook.fieldTitle)),R("ngModel",t.dataModel.urlWebhook),n(3),d("",W.value.length," / 100"),n(),I(W.errors!=null&&W.errors.required?51:-1),n(),I(t.fieldsInfo.statusWebhook!=null&&t.fieldsInfo.statusWebhook.accessWatchField?52:-1),n(),I(t.formInfo.submitButtonEnabled?53:-1)}},dependencies:[gt,$e,di,Ye,dt,St,ht,ft,ut,_t,K,gi,Ze,Tt,fi,P],encapsulation:2});var Ci=yt;var pn=()=>[5,10,20,100],dn=i=>({display:i});function un(i,l){if(i&1){let e=E();a(0,"div",15)(1,"a",49),T("click",function(){u(e);let t=g();return f(t.onActionButtonNewRow())}),_(2,"i",50)(3,"br"),r(),a(4,"p",17),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.ADD")," "))}function fn(i,l){if(i&1){let e=E();a(0,"div",15)(1,"a",8),T("click",function(){u(e);let t=g();return f(t.onActionButtonSendMessage())}),_(2,"i",23)(3,"br"),r(),a(4,"p",17),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.Send_Message")," "))}function gn(i,l){if(i&1){let e=E();a(0,"div",15)(1,"a",8),T("click",function(){u(e);let t=g();return f(t.onActionButtonGetMeAsync())}),_(2,"i",51)(3,"br"),r(),a(4,"p",17),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.GetMeAsync")," "))}function Sn(i,l){if(i&1){let e=E();a(0,"div",15)(1,"a",52),T("click",function(){u(e);let t=g();return f(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",53)(3,"br"),r(),a(4,"p",17),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.EDIT")," "))}function hn(i,l){if(i&1){let e=E();a(0,"div",15)(1,"a",54),T("click",function(){u(e);let t=g();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",55)(3,"br"),r(),a(4,"p",17),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.DELETE")," "))}function _n(i,l){if(i&1&&(a(0,"mat-header-cell",56),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Cn(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),d(" ",e.id," ")}}function bn(i,l){if(i&1&&(a(0,"mat-header-cell",56),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Tn(i,l){if(i&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),i&2){let e=l.$implicit;n(),d(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function vn(i,l){if(i&1&&(a(0,"mat-header-cell",56),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function An(i,l){if(i&1&&_(0,"select",58),i&2){let e=g().$implicit,o=g();C("contentService",o.contentService)("row",e)("ngStyle",Ke(3,dn,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Mn(i,l){if(i&1&&(a(0,"mat-cell",57),S(1,"statusCellClass"),_(2,"i",57),S(3,"statusIconClass"),M(4,An,1,5,"select",58),r()),i&2){let e=l.$implicit,o=g();C("ngClass",h(1,3,e.recordStatus)),n(2),C("ngClass",h(3,5,e.recordStatus)),n(2),I(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessEditRow?4:-1)}}function In(i,l){if(i&1&&(a(0,"mat-header-cell",56),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function wn(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),d(" ",e.title," ")}}function En(i,l){if(i&1&&(a(0,"mat-header-cell",56),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," ")}}function yn(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),d(" ",e.username," ")}}function Rn(i,l){if(i&1&&(a(0,"mat-header-cell",56),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.statusWebhook==null?null:e.fieldsInfo.statusWebhook.fieldTitle," ")}}function xn(i,l){if(i&1&&(a(0,"mat-cell"),_(1,"i",57),S(2,"boolclass"),r()),i&2){let e=l.$implicit;n(),C("ngClass",h(2,1,e.statusWebhook))}}function Dn(i,l){if(i&1&&(a(0,"mat-header-cell",56),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Bn(i,l){if(i&1&&(a(0,"mat-cell"),c(1),S(2,"localeDate"),r()),i&2){let e=l.$implicit;n(),d(" ",h(2,1,e.createdDate)," ")}}function Ln(i,l){if(i&1&&(a(0,"mat-header-cell",56),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function kn(i,l){if(i&1&&(a(0,"mat-cell"),c(1),S(2,"localeDate"),r()),i&2){let e=l.$implicit;n(),d(" ",h(2,1,e.updatedDate)," ")}}function Vn(i,l){i&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),i&2&&(n(),d(" ",h(2,1,"TITLE.OPTION")," "))}function On(i,l){if(i&1&&(a(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),i&2){let e=B(5);n(),C("matMenuTriggerFor",e)}}function Gn(i,l){i&1&&(a(0,"mat-header-cell",56),c(1),S(2,"translate"),r()),i&2&&(n(),d(" ",h(2,1,"TITLE.LINKTO")," "))}function Nn(i,l){if(i&1){let e=E();a(0,"mat-cell")(1,"button",61),T("click",function(){let t=u(e).$implicit,m=g();return f(m.onActionButtonLinkTo(t))}),a(2,"mat-icon",62),c(3,"\u2197"),r()()()}}function Pn(i,l){i&1&&_(0,"mat-header-row")}function Fn(i,l){if(i&1){let e=E();a(0,"mat-row",63),T("click",function(t){let m=u(e).$implicit,p=g();return f(p.onActionTableRowSelect(m,t))})("rtclick",function(t){let m=u(e).$implicit,p=g();return f(p.onActionTableRowSelect(m,t))}),r()}if(i&2){let e=l.$implicit,o=g();O("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Rt=class Rt extends ye{constructor(e,o,t,m,p,s,y,W,Qe,Ne,st,Pe){super(e,new Z,st,m,W);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.tokenHelper=m;this.cmsStoreService=p;this.router=s;this.cdr=y;this.translate=W;this.themeService=Qe;this.pageInfo=Ne;this.publicHelper=st;this.dialog=Pe;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new $;this.filterDataModelQueryBuilder=[];this.dataModelResult=new Q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","Username","StatusWebhook","createdDate","updatedDate","LinkTo"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","Username","StatusWebhook","createdDate","updatedDate","LinkTo"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:xo=>this.onSubmitOptionsSearch(xo)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=k.Ascending}ngOnInit(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>z(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Z);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=k.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=k.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=k.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(_i,{height:"90%",panelClass:e,enterAnimationDuration:Je.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Je.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Ci,{height:"90%",panelClass:o,enterAnimationDuration:Je.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Je.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{o=m["MESSAGE.Please_Confirm"],t=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(m=>{if(m){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(p,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{Je.consoleLog&&console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")})}onActionButtonGoToModuleList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.onActionTableRowSelect(this.tableRowSelected),this.router.navigate(["/core/siteModule/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{o.set(s,0)}),o.set("All",0);let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(y=>{o.set(y,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),p=new j;p.propertyName="recordStatus",p.value=X.Available,m.filters.push(p),this.contentService.ServiceGetCount(m).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(y=>{o.set(y,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonInboxList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.onActionTableRowSelect(e),this.router.navigate(["api-telegram/log-input/LinkBotConfigId/",e.id])}onActionButtonOutboxList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.onActionTableRowSelect(e),this.router.navigate(["api-telegram/log-output/LinkBotConfigId/",e.id])}onActionButtonSendMessage(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),this.dialog.open(ot,{data:{linkBotConfigId:e.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonReceiveMessageAll(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e);let o=this.constructor.name+"ServiceGetUpdatesAsync";this.contentService.ServiceGetUpdatesAsync(e.id).subscribe({next:t=>{t.isSuccess?this.cmsToastrService.typeSuccessAdd():this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(o)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonGetMeAsync(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e);let o=this.constructor.name+"ServiceGetMeAsync";this.contentService.ServiceGetMeAsync(e.id).subscribe({next:t=>{t.isSuccess?this.dialog.open(Mt,{data:{optionItem:t.item}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate}):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(o)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonReceiveMessageLast(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e);let o=this.constructor.name+"ServiceGetUpdatesAsyncLast";this.contentService.ServiceGetUpdatesAsyncLast(e.id).subscribe({next:t=>{t.isSuccess?this.cmsToastrService.typeSuccessAdd():this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(o)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonSetAllWebhookUpdate(){let e=this.constructor.name+"ServiceSetAllWebhookUpdate";this.contentService.ServiceSetAllWebhookUpdate().subscribe({next:o=>{o.isSuccess?this.cmsToastrService.typeSuccessAdd():this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=X.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.tableRowSelected=e;let o=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(t=>{this.publicHelper.processService.processStart(o,t,this.constructorInfoAreaId)}),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{t.isSuccess?this.dialog.open(Mo,{data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(o)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(o,!1)}})}};Rt.\u0275fac=function(o){return new(o||Rt)(b(ee),b(F),b(He),b(Ie),b(Me),b(re),b(G),b(N),b(_o),b(Ee),b(H),b(Y))},Rt.\u0275cmp=V({type:Rt,selectors:[["app-apitelegram-bot-config-list"]],standalone:!1,features:[q],decls:123,vars:56,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],[1,"fa-solid","fa-webhook","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-check","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-receipt","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-message","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-inbox-in","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","Username"],["matColumnDef","StatusWebhook"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-cloud-arrow-down","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let m=E();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(s){return u(m),x(t.viewGuideNotice,s)||(t.viewGuideNotice=s),f(s)}),T("optionOnActionButtonMemoRow",function(){return u(m),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(m),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(m),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(m),f(t.onActionButtonPrintRow())}),v(1,4),c(2," -------------------------------------- "),A(),ie(3,5)(4,6),v(5,7),a(6,"a",8),T("click",function(){return u(m),f(t.viewGuideNotice=!t.viewGuideNotice)}),_(7,"i",9),r(),a(8,"a",8),T("click",function(){return u(m),f(t.onActionButtonReload())}),_(9,"i",10),r(),A(),v(10,11),a(11,"a",12),T("click",function(){return u(m),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(12,"mat-slide-toggle",13),c(13),S(14,"translate"),r(),a(15,"a",12),T("click",function(){return u(m),f(t.onActionButtonStatist())}),_(16,"mat-slide-toggle",13),c(17),S(18,"translate"),r(),A(),v(19,14),M(20,un,7,3,"div",15),M(21,fn,7,3,"div",15),M(22,gn,7,3,"div",15),a(23,"div",15)(24,"a",8),T("click",function(){return u(m),f(t.onActionButtonSetAllWebhookUpdate())}),_(25,"i",16)(26,"br"),r(),a(27,"p",17),c(28),S(29,"translate"),r()(),A(),v(30,18),M(31,Sn,7,3,"div",15),M(32,hn,7,3,"div",15),a(33,"div",15)(34,"a",19),T("click",function(){return u(m),f(t.onActionButtonGetMeAsync(t.tableRowSelected))}),_(35,"i",20)(36,"br"),r(),a(37,"p",17),c(38),S(39,"translate"),r()(),a(40,"div",15)(41,"a",19),T("click",function(){return u(m),f(t.onActionButtonInboxList(t.tableRowSelected))}),_(42,"i",21)(43,"br"),r(),a(44,"p",17),c(45),S(46,"translate"),r()(),a(47,"div",15)(48,"a",19),T("click",function(){return u(m),f(t.onActionButtonOutboxList(t.tableRowSelected))}),_(49,"i",22)(50,"br"),r(),a(51,"p",17),c(52),S(53,"translate"),r()(),a(54,"div",15)(55,"a",19),T("click",function(){return u(m),f(t.onActionButtonSendMessage(t.tableRowSelected))}),_(56,"i",23)(57,"br"),r(),a(58,"p",17),c(59),S(60,"translate"),r()(),a(61,"div",15)(62,"a",19),T("click",function(){return u(m),f(t.onActionButtonReceiveMessageAll(t.tableRowSelected))}),_(63,"i",24)(64,"br"),r(),a(65,"p",17),c(66),S(67,"translate"),r()(),a(68,"div",15)(69,"a",19),T("click",function(){return u(m),f(t.onActionButtonReceiveMessageLast(t.tableRowSelected))}),_(70,"i",23)(71,"br"),r(),a(72,"p",17),c(73),S(74,"translate"),r()(),a(75,"div",15)(76,"a",8),T("click",function(){return u(m),f(t.onActionButtonLinkTo(t.tableRowSelected))}),_(77,"i",25)(78,"br"),r(),a(79,"p",17),c(80),S(81,"translate"),r()(),A(),v(82,26),a(83,"app-cms-search-list",27),D("optionsChange",function(s){return u(m),x(t.optionsSearch,s)||(t.optionsSearch=s),f(s)}),r(),a(84,"app-cms-statist-list",27),D("optionsChange",function(s){return u(m),x(t.optionsStatist,s)||(t.optionsStatist=s),f(s)}),r(),A(),v(85,28),a(86,"mat-table",29,0),T("matSortChange",function(){u(m);let s=B(87);return f(t.onTableSortData(s))}),v(88,30),w(89,_n,2,1,"mat-header-cell",31)(90,Cn,2,1,"mat-cell",32),A(),v(91,33),w(92,bn,2,1,"mat-header-cell",31)(93,Tn,4,5,"mat-cell",32),A(),v(94,34),w(95,vn,2,1,"mat-header-cell",31)(96,Mn,5,7,"mat-cell",35),A(),v(97,36),w(98,In,2,1,"mat-header-cell",31)(99,wn,2,1,"mat-cell",32),A(),v(100,37),w(101,En,2,1,"mat-header-cell",31)(102,yn,2,1,"mat-cell",32),A(),v(103,38),w(104,Rn,2,1,"mat-header-cell",31)(105,xn,3,3,"mat-cell",32),A(),v(106,39),w(107,Dn,2,1,"mat-header-cell",31)(108,Bn,3,3,"mat-cell",32),A(),v(109,40),w(110,Ln,2,1,"mat-header-cell",31)(111,kn,3,3,"mat-cell",32),A(),v(112,41),w(113,Vn,3,3,"mat-header-cell",42)(114,On,6,1,"mat-cell",43),A(),v(115,44),w(116,Gn,3,3,"mat-header-cell",31)(117,Nn,4,0,"mat-cell",32),A(),w(118,Pn,1,0,"mat-header-row",45)(119,Fn,1,2,"mat-row",46),r(),A(),v(120,47),a(121,"mat-paginator",48,1),T("page",function(s){return u(m),f(t.onTablePageingData(s))}),r(),A(),r()}o&2&&(C("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),C("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),n(9),O("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),C("checked",t.optionsSearch.data.show),n(),d("",h(14,35,"ACTION.SEARCH")," "),n(3),C("checked",t.optionsStatist.data.show),n(),d("",h(18,37,"ACTION.STATIST")," "),n(3),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),n(),I((t.tableRowSelected==null?null:t.tableRowSelected.id)>0?21:-1),n(),I((t.tableRowSelected==null?null:t.tableRowSelected.id)>0?22:-1),n(6),d(" ",h(29,39,"ACTION.SetAllWebhookUpdate")," "),n(3),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?31:-1),n(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?32:-1),n(6),d(" ",h(39,41,"ACTION.CHECK_SITUATION")," "),n(7),d(" ",h(46,43,"ACTION.LIST_OF_RECEIPTS")," "),n(7),d(" ",h(53,45,"ACTION.LIST_OF_SUBMISSIONS")," "),n(7),d(" ",h(60,47,"ACTION.Send_Message")," "),n(7),d(" ",h(67,49,"ACTION.RECEIVE_MESSAGES")," "),n(7),d(" ",h(74,51,"ACTION.GET_LATEST_MESSAGE")," "),n(7),d(" ",h(81,53,"TITLE.LINKTO")," "),n(3),R("options",t.optionsSearch),n(),R("options",t.optionsStatist),n(2),C("dataSource",t.tableSource),n(32),C("matHeaderRowDef",t.tabledisplayedColumns),n(),C("matRowDefColumns",t.tabledisplayedColumns),n(2),C("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",oe(55,pn)))},dependencies:[ne,ze,ae,le,K,se,ce,me,pe,de,ue,fe,Se,be,he,ge,Te,_e,Ce,ve,Ae,Re,xe,De,Be,et,J,P,Le,ke,Ve,Oe,we],encapsulation:2});var bi=Rt;var Hn=()=>[5,10,20,100];function Wn(i,l){if(i&1){let e=E();a(0,"a",9),T("click",function(){u(e);let t=g();return f(t.onActionBackToParent())}),_(1,"i",45),r()}}function Un(i,l){if(i&1){let e=E();a(0,"div",16)(1,"a",46),T("click",function(){u(e);let t=g();return f(t.onActionButtonNewRow())}),_(2,"i",47)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.ADD")," "))}function jn(i,l){if(i&1){let e=E();a(0,"div",16)(1,"a",9),T("click",function(){u(e);let t=g();return f(t.onActionButtonSendMessage())}),_(2,"i",19)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.Send_Message")," "))}function qn(i,l){if(i&1){let e=E();a(0,"div",16)(1,"a",48),T("click",function(){u(e);let t=g();return f(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",49)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.EDIT")," "))}function Qn(i,l){if(i&1){let e=E();a(0,"div",16)(1,"a",50),T("click",function(){u(e);let t=g();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",51)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.DELETE")," "))}function Kn(i,l){if(i&1&&(a(0,"mat-header-cell",52),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function zn(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),d(" ",e.id," ")}}function Jn(i,l){if(i&1&&(a(0,"mat-header-cell",52),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function $n(i,l){if(i&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),i&2){let e=l.$implicit;n(),d(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function Yn(i,l){if(i&1&&(a(0,"mat-header-cell",52),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Xn(i,l){if(i&1&&(a(0,"mat-cell",53),S(1,"statusCellClass"),_(2,"i",53),S(3,"statusIconClass"),r()),i&2){let e=l.$implicit;C("ngClass",h(1,2,e.recordStatus)),n(2),C("ngClass",h(3,4,e.recordStatus))}}function Zn(i,l){if(i&1&&(a(0,"mat-header-cell",52),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.linkBotConfigId==null?null:e.fieldsInfo.linkBotConfigId.fieldTitle," ")}}function er(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),d(" ",e.linkBotConfigId," ")}}function tr(i,l){if(i&1&&(a(0,"mat-header-cell",52),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," ")}}function ir(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),d(" ",e.username," ")}}function or(i,l){if(i&1&&(a(0,"mat-header-cell",52),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.chatId==null?null:e.fieldsInfo.chatId.fieldTitle," ")}}function nr(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),d(" ",e.chatId," ")}}function rr(i,l){if(i&1&&(a(0,"mat-header-cell",52),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.statusWebhook==null?null:e.fieldsInfo.statusWebhook.fieldTitle," ")}}function ar(i,l){if(i&1&&(a(0,"mat-cell"),_(1,"i",53),S(2,"boolclass"),r()),i&2){let e=l.$implicit;n(),C("ngClass",h(2,1,e.statusWebhook))}}function lr(i,l){if(i&1&&(a(0,"mat-header-cell",52),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function sr(i,l){if(i&1&&(a(0,"mat-cell",54),c(1),S(2,"localeDate"),r()),i&2){let e=l.$implicit,o=g();n(),ni(" ",h(2,2,e.createdDate)," ",o.publicHelper.getTime(e.createdDate)," ")}}function cr(i,l){if(i&1&&(a(0,"mat-header-cell",52),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function mr(i,l){if(i&1&&(a(0,"mat-cell"),c(1),S(2,"localeDate"),r()),i&2){let e=l.$implicit;n(),d(" ",h(2,1,e.updatedDate)," ")}}function pr(i,l){i&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),i&2&&(n(),d(" ",h(2,1,"TITLE.OPTION")," "))}function dr(i,l){if(i&1&&(a(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),i&2){let e=B(5);n(),C("matMenuTriggerFor",e)}}function ur(i,l){i&1&&_(0,"mat-header-row")}function fr(i,l){if(i&1){let e=E();a(0,"mat-row",57),T("click",function(t){let m=u(e).$implicit,p=g();return f(p.onActionTableRowSelect(m,t))})("rtclick",function(t){let m=u(e).$implicit,p=g();return f(p.onActionTableRowSelect(m,t))}),r()}if(i&2){let e=l.$implicit,o=g();O("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var xt=class xt extends ye{constructor(e,o,t,m,p,s,y,W,Qe,Ne,st){super(e,new Ri,Qe,m,y);this.contentService=e;this.cmsToastrService=o;this.activatedRoute=t;this.tokenHelper=m;this.router=p;this.cdr=s;this.translate=y;this.pageInfo=W;this.publicHelper=Qe;this.cmsStoreService=Ne;this.dialog=st;this.requestLinkBotConfigId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new $;this.filterDataModelQueryBuilder=[];this.dataModelResult=new Q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","LinkBotConfigId","Username","ChatId","StatusWebhook","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","LinkBotConfigId","Username","ChatId","StatusWebhook","createdDate","updatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Pe=>this.onSubmitOptionsSearch(Pe)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=k.Ascending}ngOnInit(){this.requestLinkBotConfigId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBotConfigId"));let e=new j;this.requestLinkBotConfigId>0&&(e.propertyName="LinkBotConfigId",e.value=this.requestLinkBotConfigId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(o=>o.tokenInfoStore).subscribe(o=>z(this,null,function*(){this.tokenInfo=o,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ri);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=k.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=k.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=k.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}}onActionButtonEditRow(e=this.tableRowSelected){}onActionButtonDeleteRow(e=this.tableRowSelected){}onActionButtonGoToModuleList(e=this.tableRowSelected){}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{o.set(s,0)}),o.set("All",0);let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(y=>{o.set(y,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),p=new j;p.propertyName="recordStatus",p.value=X.Available,m.filters.push(p),this.contentService.ServiceGetCount(m).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(y=>{o.set(y,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSendMessage(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),this.dialog.open(ot,{data:{linkBotConfigId:e.linkBotConfigId,chatId:e.chatId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["api-telegram/bot-config"])}};xt.\u0275fac=function(o){return new(o||xt)(b(ci),b(F),b(ri),b(Ie),b(re),b(G),b(N),b(Ee),b(H),b(Me),b(Y))},xt.\u0275cmp=V({type:xt,selectors:[["app-apitelegram-log-input-list"]],standalone:!1,features:[q],decls:70,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-star",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-message","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkBotConfigId"],["matColumnDef","Username"],["matColumnDef","ChatId"],["matColumnDef","StatusWebhook"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let m=E();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(s){return u(m),x(t.viewGuideNotice,s)||(t.viewGuideNotice=s),f(s)}),T("optionOnActionButtonMemoRow",function(){return u(m),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(m),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(m),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(m),f(t.onActionButtonPrintRow())}),v(1,4),c(2," -------------------------------------- "),A(),ie(3,5)(4,6),v(5,7),M(6,Wn,2,0,"a",8),a(7,"a",9),T("click",function(){return u(m),f(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",10),r(),a(9,"a",9),T("click",function(){return u(m),f(t.onActionButtonReload())}),_(10,"i",11),r(),A(),v(11,12),a(12,"a",13),T("click",function(){return u(m),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(13,"mat-slide-toggle",14),c(14),S(15,"translate"),r(),A(),v(16,15),M(17,Un,7,3,"div",16),M(18,jn,7,3,"div",16),A(),v(19,17),M(20,qn,7,3,"div",16),M(21,Qn,7,3,"div",16),a(22,"div",16)(23,"a",18),T("click",function(){return u(m),f(t.onActionButtonSendMessage(t.tableRowSelected))}),_(24,"i",19)(25,"br"),r(),a(26,"p",20),c(27),S(28,"translate"),r()(),A(),v(29,21),a(30,"app-cms-search-list",22),D("optionsChange",function(s){return u(m),x(t.optionsSearch,s)||(t.optionsSearch=s),f(s)}),r(),a(31,"app-cms-statist-list",22),D("optionsChange",function(s){return u(m),x(t.optionsStatist,s)||(t.optionsStatist=s),f(s)}),r(),A(),v(32,23),a(33,"mat-table",24,0),T("matSortChange",function(){u(m);let s=B(34);return f(t.onTableSortData(s))}),v(35,25),w(36,Kn,2,1,"mat-header-cell",26)(37,zn,2,1,"mat-cell",27),A(),v(38,28),w(39,Jn,2,1,"mat-header-cell",26)(40,$n,4,5,"mat-cell",27),A(),v(41,29),w(42,Yn,2,1,"mat-header-cell",26)(43,Xn,4,6,"mat-cell",30),A(),v(44,31),w(45,Zn,2,1,"mat-header-cell",26)(46,er,2,1,"mat-cell",27),A(),v(47,32),w(48,tr,2,1,"mat-header-cell",26)(49,ir,2,1,"mat-cell",27),A(),v(50,33),w(51,or,2,1,"mat-header-cell",26)(52,nr,2,1,"mat-cell",27),A(),v(53,34),w(54,rr,2,1,"mat-header-cell",26)(55,ar,3,3,"mat-cell",27),A(),v(56,35),w(57,lr,2,1,"mat-header-cell",26)(58,sr,3,4,"mat-cell",36),A(),v(59,37),w(60,cr,2,1,"mat-header-cell",26)(61,mr,3,3,"mat-cell",27),A(),v(62,38),w(63,pr,3,3,"mat-header-cell",39)(64,dr,6,1,"mat-cell",40),A(),w(65,ur,1,0,"mat-header-row",41)(66,fr,1,2,"mat-row",42),r(),A(),v(67,43),a(68,"mat-paginator",44,1),T("page",function(s){return u(m),f(t.onTablePageingData(s))}),r(),A(),r()}o&2&&(C("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),C("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),I(t.requestLinkBotConfigId>0?6:-1),n(4),O("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),C("checked",t.optionsSearch.data.show),n(),d("",h(15,26,"ACTION.SEARCH")," "),n(3),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?17:-1),n(),I((t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?18:-1),n(2),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?20:-1),n(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?21:-1),n(6),d(" ",h(28,28,"ACTION.Send_Message")," "),n(3),R("options",t.optionsSearch),n(),R("options",t.optionsStatist),n(2),C("dataSource",t.tableSource),n(32),C("matHeaderRowDef",t.tabledisplayedColumns),n(),C("matRowDefColumns",t.tabledisplayedColumns),n(2),C("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",oe(30,Hn)))},dependencies:[ne,ae,le,se,ce,me,pe,de,ue,fe,Se,be,he,ge,Te,_e,Ce,ve,Ae,Re,xe,De,Be,J,P,Le,ke,Ve,Oe,we],encapsulation:2});var ei=xt;var gr=()=>[5,10,20,100];function Sr(i,l){if(i&1){let e=E();a(0,"a",8),T("click",function(){u(e);let t=g();return f(t.onActionBackToParent())}),_(1,"i",45),r()}}function hr(i,l){if(i&1){let e=E();a(0,"div",16)(1,"a",46),T("click",function(){u(e);let t=g();return f(t.onActionButtonNewRow())}),_(2,"i",47)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.ADD")," "))}function _r(i,l){if(i&1){let e=E();a(0,"div",16)(1,"a",8),T("click",function(){u(e);let t=g();return f(t.onActionButtonSendMessage())}),_(2,"i",19)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.Send_Message")," "))}function Cr(i,l){if(i&1){let e=E();a(0,"div",16)(1,"a",48),T("click",function(){u(e);let t=g();return f(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",49)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.EDIT")," "))}function br(i,l){if(i&1){let e=E();a(0,"div",16)(1,"a",50),T("click",function(){u(e);let t=g();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",51)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.DELETE")," "))}function Tr(i,l){if(i&1&&(a(0,"mat-header-cell",52),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function vr(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),d(" ",e.id," ")}}function Ar(i,l){if(i&1&&(a(0,"mat-header-cell",52),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Mr(i,l){if(i&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),i&2){let e=l.$implicit;n(),d(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function Ir(i,l){if(i&1&&(a(0,"mat-header-cell",52),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function wr(i,l){if(i&1&&(a(0,"mat-cell",53),S(1,"statusCellClass"),_(2,"i",53),S(3,"statusIconClass"),r()),i&2){let e=l.$implicit;C("ngClass",h(1,2,e.recordStatus)),n(2),C("ngClass",h(3,4,e.recordStatus))}}function Er(i,l){if(i&1&&(a(0,"mat-header-cell",52),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.linkBotConfigId==null?null:e.fieldsInfo.linkBotConfigId.fieldTitle," ")}}function yr(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),d(" ",e.linkBotConfigId," ")}}function Rr(i,l){if(i&1&&(a(0,"mat-header-cell",52),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," ")}}function xr(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),d(" ",e.username," ")}}function Dr(i,l){if(i&1&&(a(0,"mat-header-cell",52),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.chatId==null?null:e.fieldsInfo.chatId.fieldTitle," ")}}function Br(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),d(" ",e.chatId," ")}}function Lr(i,l){if(i&1&&(a(0,"mat-header-cell",52),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.statusWebhook==null?null:e.fieldsInfo.statusWebhook.fieldTitle," ")}}function kr(i,l){if(i&1&&(a(0,"mat-cell"),_(1,"i",53),S(2,"boolclass"),r()),i&2){let e=l.$implicit;n(),C("ngClass",h(2,1,e.statusWebhook))}}function Vr(i,l){if(i&1&&(a(0,"mat-header-cell",52),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Or(i,l){if(i&1&&(a(0,"mat-cell",54),c(1),S(2,"localeDate"),r()),i&2){let e=l.$implicit,o=g();n(),ni(" ",h(2,2,e.createdDate)," ",o.publicHelper.getTime(e.createdDate)," ")}}function Gr(i,l){if(i&1&&(a(0,"mat-header-cell",52),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Nr(i,l){if(i&1&&(a(0,"mat-cell"),c(1),S(2,"localeDate"),r()),i&2){let e=l.$implicit;n(),d(" ",h(2,1,e.updatedDate)," ")}}function Pr(i,l){i&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),i&2&&(n(),d(" ",h(2,1,"TITLE.OPTION")," "))}function Fr(i,l){if(i&1&&(a(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),i&2){let e=B(5);n(),C("matMenuTriggerFor",e)}}function Hr(i,l){i&1&&_(0,"mat-header-row")}function Wr(i,l){if(i&1){let e=E();a(0,"mat-row",57),T("click",function(t){let m=u(e).$implicit,p=g();return f(p.onActionTableRowSelect(m,t))})("rtclick",function(t){let m=u(e).$implicit,p=g();return f(p.onActionTableRowSelect(m,t))}),r()}if(i&2){let e=l.$implicit,o=g();O("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Dt=class Dt extends ye{constructor(e,o,t,m,p,s,y,W,Qe,Ne,st){super(e,new xi,Ne,m,W);this.contentService=e;this.cmsToastrService=o;this.activatedRoute=t;this.tokenHelper=m;this.router=p;this.cdr=s;this.cmsStoreService=y;this.translate=W;this.pageInfo=Qe;this.publicHelper=Ne;this.dialog=st;this.requestLinkBotConfigId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new $;this.filterDataModelQueryBuilder=[];this.dataModelResult=new Q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","LinkBotConfigId","Username","ChatId","StatusWebhook","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","LinkBotConfigId","Username","ChatId","StatusWebhook","createdDate","updatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Pe=>this.onSubmitOptionsSearch(Pe)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=k.Ascending}ngOnInit(){this.requestLinkBotConfigId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBotConfigId"));let e=new j;this.requestLinkBotConfigId>0&&(e.propertyName="LinkBotConfigId",e.value=this.requestLinkBotConfigId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(o=>o.tokenInfoStore).subscribe(o=>z(this,null,function*(){this.tokenInfo=o,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new xi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=k.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=k.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=k.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){}onActionButtonEditRow(e=this.tableRowSelected){}onActionButtonDeleteRow(e=this.tableRowSelected){}onActionButtonGoToModuleList(e=this.tableRowSelected){}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{o.set(s,0)}),o.set("All",0);let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(y=>{o.set(y,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),p=new j;p.propertyName="recordStatus",p.value=X.Available,m.filters.push(p),this.contentService.ServiceGetCount(m).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(y=>{o.set(y,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSendMessage(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),this.dialog.open(ot,{data:{linkBotConfigId:e.linkBotConfigId,ChatId:e.chatId}}).afterClosed().subscribe(t=>{this.DataGetAll()})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonLinkTo(e=this.tableRowSelected){}onActionBackToParent(){this.router.navigate(["api-telegram/bot-config"])}};Dt.\u0275fac=function(o){return new(o||Dt)(b(mi),b(F),b(ri),b(Ie),b(re),b(G),b(Me),b(N),b(Ee),b(H),b(Y))},Dt.\u0275cmp=V({type:Dt,selectors:[["app-apitelegram-bot-config-list"]],standalone:!1,features:[q],decls:76,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-message","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkBotConfigId"],["matColumnDef","Username"],["matColumnDef","ChatId"],["matColumnDef","StatusWebhook"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let m=E();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(s){return u(m),x(t.viewGuideNotice,s)||(t.viewGuideNotice=s),f(s)}),T("optionOnActionButtonMemoRow",function(){return u(m),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(m),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(m),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(m),f(t.onActionButtonPrintRow())}),v(1,4),c(2," -------------------------------------- "),A(),ie(3,5)(4,6),v(5,7),a(6,"a",8),T("click",function(){return u(m),f(t.viewGuideNotice=!t.viewGuideNotice)}),_(7,"i",9),r(),M(8,Sr,2,0,"a",10),a(9,"a",8),T("click",function(){return u(m),f(t.viewGuideNotice=!t.viewGuideNotice)}),_(10,"i",9),r(),a(11,"a",8),T("click",function(){return u(m),f(t.onActionButtonReload())}),_(12,"i",11),r(),A(),v(13,12),a(14,"a",13),T("click",function(){return u(m),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(15,"mat-slide-toggle",14),c(16),S(17,"translate"),r(),a(18,"a",13),T("click",function(){return u(m),f(t.onActionButtonStatist())}),_(19,"mat-slide-toggle",14),c(20),S(21,"translate"),r(),A(),v(22,15),M(23,hr,7,3,"div",16),M(24,_r,7,3,"div",16),A(),v(25,17),M(26,Cr,7,3,"div",16),M(27,br,7,3,"div",16),a(28,"div",16)(29,"a",18),T("click",function(){return u(m),f(t.onActionButtonSendMessage(t.tableRowSelected))}),_(30,"i",19)(31,"br"),r(),a(32,"p",20),c(33),S(34,"translate"),r()(),A(),v(35,21),a(36,"app-cms-search-list",22),D("optionsChange",function(s){return u(m),x(t.optionsSearch,s)||(t.optionsSearch=s),f(s)}),r(),a(37,"app-cms-statist-list",22),D("optionsChange",function(s){return u(m),x(t.optionsStatist,s)||(t.optionsStatist=s),f(s)}),r(),A(),v(38,23),a(39,"mat-table",24,0),T("matSortChange",function(){u(m);let s=B(40);return f(t.onTableSortData(s))}),v(41,25),w(42,Tr,2,1,"mat-header-cell",26)(43,vr,2,1,"mat-cell",27),A(),v(44,28),w(45,Ar,2,1,"mat-header-cell",26)(46,Mr,4,5,"mat-cell",27),A(),v(47,29),w(48,Ir,2,1,"mat-header-cell",26)(49,wr,4,6,"mat-cell",30),A(),v(50,31),w(51,Er,2,1,"mat-header-cell",26)(52,yr,2,1,"mat-cell",27),A(),v(53,32),w(54,Rr,2,1,"mat-header-cell",26)(55,xr,2,1,"mat-cell",27),A(),v(56,33),w(57,Dr,2,1,"mat-header-cell",26)(58,Br,2,1,"mat-cell",27),A(),v(59,34),w(60,Lr,2,1,"mat-header-cell",26)(61,kr,3,3,"mat-cell",27),A(),v(62,35),w(63,Vr,2,1,"mat-header-cell",26)(64,Or,3,4,"mat-cell",36),A(),v(65,37),w(66,Gr,2,1,"mat-header-cell",26)(67,Nr,3,3,"mat-cell",27),A(),v(68,38),w(69,Pr,3,3,"mat-header-cell",39)(70,Fr,6,1,"mat-cell",40),A(),w(71,Hr,1,0,"mat-header-row",41)(72,Wr,1,2,"mat-row",42),r(),A(),v(73,43),a(74,"mat-paginator",44,1),T("page",function(s){return u(m),f(t.onTablePageingData(s))}),r(),A(),r()}o&2&&(C("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),C("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(8),I(t.requestLinkBotConfigId>0?8:-1),n(4),O("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),C("checked",t.optionsSearch.data.show),n(),d("",h(17,28,"ACTION.SEARCH")," "),n(3),C("checked",t.optionsStatist.data.show),n(),d("",h(21,30,"ACTION.STATIST")," "),n(3),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?23:-1),n(),I((t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?24:-1),n(2),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?26:-1),n(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?27:-1),n(6),d(" ",h(34,32,"ACTION.Send_Message")," "),n(3),R("options",t.optionsSearch),n(),R("options",t.optionsStatist),n(2),C("dataSource",t.tableSource),n(32),C("matHeaderRowDef",t.tabledisplayedColumns),n(),C("matRowDefColumns",t.tabledisplayedColumns),n(2),C("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",oe(34,gr)))},dependencies:[ne,ae,le,se,ce,me,pe,de,ue,fe,Se,be,he,ge,Te,_e,Ce,ve,Ae,Re,xe,De,Be,J,P,Le,ke,Ve,Oe,we],encapsulation:2});var ti=Dt;var Ur=()=>[5,10,20,100],jr=i=>({display:i});function qr(i,l){if(i&1){let e=E();a(0,"div",15)(1,"a",39),T("click",function(){u(e);let t=g();return f(t.onActionButtonNewRow())}),_(2,"i",40)(3,"br"),r(),a(4,"p",41),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.ADD")," "))}function Qr(i,l){if(i&1){let e=E();a(0,"div",15)(1,"a",42),T("click",function(){u(e);let t=g();return f(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",43)(3,"br"),r(),a(4,"p",41),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.EDIT")," "))}function Kr(i,l){if(i&1){let e=E();a(0,"div",15)(1,"a",44),T("click",function(){u(e);let t=g();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",45)(3,"br"),r(),a(4,"p",41),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.DELETE")," "))}function zr(i,l){if(i&1){let e=E();a(0,"div",15)(1,"a",46),T("click",function(){u(e);let t=g();return f(t.onActionButtonSiteList(t.tableRowSelected))}),_(2,"i",47)(3,"br"),r(),a(4,"p",41),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.LIST_SITES")," "))}function Jr(i,l){if(i&1){let e=E();a(0,"div",15)(1,"a",46),T("click",function(){u(e);let t=g();return f(t.onActionButtonSiteCategoryList(t.tableRowSelected))}),_(2,"i",48)(3,"br"),r(),a(4,"p",41),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.CATEGORY_LIST_SITES")," "))}function $r(i,l){if(i&1&&(a(0,"mat-header-cell",49),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Yr(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),d(" ",e.id," ")}}function Xr(i,l){if(i&1&&(a(0,"mat-header-cell",49),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Zr(i,l){if(i&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),i&2){let e=l.$implicit;n(),d(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function ea(i,l){if(i&1&&(a(0,"mat-header-cell",49),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ta(i,l){if(i&1&&_(0,"select",51),i&2){let e=g().$implicit,o=g();C("contentService",o.contentService)("row",e)("ngStyle",Ke(3,jr,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function ia(i,l){if(i&1&&(a(0,"mat-cell",50),S(1,"statusCellClass"),_(2,"i",50),S(3,"statusIconClass"),M(4,ta,1,5,"select",51),r()),i&2){let e=l.$implicit,o=g();C("ngClass",h(1,3,e.recordStatus)),n(2),C("ngClass",h(3,5,e.recordStatus)),n(2),I(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessEditRow?4:-1)}}function oa(i,l){if(i&1&&(a(0,"mat-header-cell",49),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function na(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),d(" ",e.title," ")}}function ra(i,l){if(i&1&&(a(0,"mat-header-cell",49),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," ")}}function aa(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),d(" ",e.username," ")}}function la(i,l){if(i&1&&(a(0,"mat-header-cell",49),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.statusWebhook==null?null:e.fieldsInfo.statusWebhook.fieldTitle," ")}}function sa(i,l){if(i&1&&(a(0,"mat-cell"),_(1,"i",50),S(2,"boolclass"),r()),i&2){let e=l.$implicit;n(),C("ngClass",h(2,1,e.statusWebhook))}}function ca(i,l){if(i&1&&(a(0,"mat-header-cell",49),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ma(i,l){if(i&1&&(a(0,"mat-cell"),c(1),S(2,"localeDate"),r()),i&2){let e=l.$implicit;n(),d(" ",h(2,1,e.createdDate)," ")}}function pa(i,l){if(i&1&&(a(0,"mat-header-cell",49),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function da(i,l){if(i&1&&(a(0,"mat-cell"),c(1),S(2,"localeDate"),r()),i&2){let e=l.$implicit;n(),d(" ",h(2,1,e.updatedDate)," ")}}function ua(i,l){i&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),i&2&&(n(),d(" ",h(2,1,"TITLE.OPTION")," "))}function fa(i,l){if(i&1&&(a(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),i&2){let e=B(5);n(),C("matMenuTriggerFor",e)}}function ga(i,l){i&1&&_(0,"mat-header-row")}function Sa(i,l){if(i&1){let e=E();a(0,"mat-row",54),T("click",function(t){let m=u(e).$implicit,p=g();return f(p.onActionTableRowSelect(m,t))})("rtclick",function(t){let m=u(e).$implicit,p=g();return f(p.onActionTableRowSelect(m,t))}),r()}if(i&2){let e=l.$implicit,o=g();O("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Bt=class Bt extends ye{constructor(e,o,t,m,p,s,y,W,Qe,Ne,st){super(e,new Di,Ne,m,y);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.tokenHelper=m;this.router=p;this.cdr=s;this.translate=y;this.pageInfo=W;this.cmsStoreService=Qe;this.publicHelper=Ne;this.dialog=st;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new $;this.filterDataModelQueryBuilder=[];this.dataModelResult=new Q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","Username","StatusWebhook","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","Username","StatusWebhook","createdDate","updatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Pe=>this.onSubmitOptionsSearch(Pe)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=k.Ascending}ngOnInit(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>z(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Di);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=k.Descending):this.tableSource.sort.start==="desc"?(this.filteModelContent.sortColumn="",this.filteModelContent.sortType=k.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=k.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){}onActionButtonEditRow(e=this.tableRowSelected){}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{o=m["MESSAGE.Please_Confirm"],t=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(m=>{if(m){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(p,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{Je.consoleLog&&console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")})}onActionButtonGoToModuleList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/siteModule/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{o.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{o.set(s,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(y=>{o.set(y,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),p=new j;p.propertyName="recordStatus",p.value=X.Available,m.filters.push(p),this.contentService.ServiceGetCount(m).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(y=>{o.set(y,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSiteList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.onActionTableRowSelect(e),this.router.navigate(["core/site/modulelist/LinkModuleId/",e.id])}onActionButtonSiteCategoryList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.onActionTableRowSelect(e),this.router.navigate(["core/sitecategorymodule/LinkCmsModuleId/",e.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Bt.\u0275fac=function(o){return new(o||Bt)(b(pi),b(F),b(He),b(Ie),b(re),b(G),b(N),b(Ee),b(Me),b(H),b(Y))},Bt.\u0275cmp=V({type:Bt,selectors:[["app-apitelegram-bot-config-list"]],standalone:!1,features:[q],decls:60,vars:28,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","Username"],["matColumnDef","StatusWebhook"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-layer-group","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let m=E();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(s){return u(m),x(t.viewGuideNotice,s)||(t.viewGuideNotice=s),f(s)}),T("optionOnActionButtonMemoRow",function(){return u(m),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(m),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(m),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(m),f(t.onActionButtonPrintRow())}),v(1,4),c(2," -------------------------------------- "),A(),ie(3,5)(4,6),v(5,7),a(6,"a",8),T("click",function(){return u(m),f(t.viewGuideNotice=!t.viewGuideNotice)}),_(7,"i",9),r(),a(8,"a",8),T("click",function(){return u(m),f(t.onActionButtonReload())}),_(9,"i",10),r(),A(),v(10,11),a(11,"a",12),T("click",function(){return u(m),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(12,"mat-slide-toggle",13),c(13),S(14,"translate"),r(),A(),v(15,14),M(16,qr,7,3,"div",15),A(),v(17,16),M(18,Qr,7,3,"div",15),M(19,Kr,7,3,"div",15),M(20,zr,7,3,"div",15),M(21,Jr,7,3,"div",15),A(),v(22,17),a(23,"app-cms-search-list",18),D("optionsChange",function(s){return u(m),x(t.optionsSearch,s)||(t.optionsSearch=s),f(s)}),r(),a(24,"app-cms-statist-list",18),D("optionsChange",function(s){return u(m),x(t.optionsStatist,s)||(t.optionsStatist=s),f(s)}),r(),A(),v(25,19),a(26,"mat-table",20,0),T("matSortChange",function(){u(m);let s=B(27);return f(t.onTableSortData(s))}),v(28,21),w(29,$r,2,1,"mat-header-cell",22)(30,Yr,2,1,"mat-cell",23),A(),v(31,24),w(32,Xr,2,1,"mat-header-cell",22)(33,Zr,4,5,"mat-cell",23),A(),v(34,25),w(35,ea,2,1,"mat-header-cell",22)(36,ia,5,7,"mat-cell",26),A(),v(37,27),w(38,oa,2,1,"mat-header-cell",22)(39,na,2,1,"mat-cell",23),A(),v(40,28),w(41,ra,2,1,"mat-header-cell",22)(42,aa,2,1,"mat-cell",23),A(),v(43,29),w(44,la,2,1,"mat-header-cell",22)(45,sa,3,3,"mat-cell",23),A(),v(46,30),w(47,ca,2,1,"mat-header-cell",22)(48,ma,3,3,"mat-cell",23),A(),v(49,31),w(50,pa,2,1,"mat-header-cell",22)(51,da,3,3,"mat-cell",23),A(),v(52,32),w(53,ua,3,3,"mat-header-cell",33)(54,fa,6,1,"mat-cell",34),A(),w(55,ga,1,0,"mat-header-row",35)(56,Sa,1,2,"mat-row",36),r(),A(),v(57,37),a(58,"mat-paginator",38,1),T("page",function(s){return u(m),f(t.onTablePageingData(s))}),r(),A(),r()}o&2&&(C("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),C("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(9),O("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),C("checked",t.optionsSearch.data.show),n(),d("",h(14,25,"ACTION.SEARCH")," "),n(3),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?16:-1),n(2),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?18:-1),n(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?19:-1),n(),I(t.tokenInfo.access.userAccessAdminAllowToProfessionalData?20:-1),n(),I(t.tokenInfo.access.userAccessAdminAllowToProfessionalData?21:-1),n(2),R("options",t.optionsSearch),n(),R("options",t.optionsStatist),n(2),C("dataSource",t.tableSource),n(29),C("matHeaderRowDef",t.tabledisplayedColumns),n(),C("matRowDefColumns",t.tabledisplayedColumns),n(2),C("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",oe(27,Ur)))},dependencies:[ne,ze,ae,le,K,se,ce,me,pe,de,ue,fe,Se,be,he,ge,Te,_e,Ce,ve,Ae,Re,xe,De,Be,et,J,P,Le,ke,Ve,Oe,we],encapsulation:2});var Ti=Bt;var ha=()=>[5,10,20,100],_a=i=>({display:i});function Ca(i,l){if(i&1){let e=E();a(0,"div",15)(1,"a",39),T("click",function(){u(e);let t=g();return f(t.onActionButtonNewRow())}),_(2,"i",40)(3,"br"),r(),a(4,"p",41),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.ADD")," "))}function ba(i,l){if(i&1){let e=E();a(0,"div",15)(1,"a",42),T("click",function(){u(e);let t=g();return f(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",43)(3,"br"),r(),a(4,"p",41),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.EDIT")," "))}function Ta(i,l){if(i&1){let e=E();a(0,"div",15)(1,"a",44),T("click",function(){u(e);let t=g();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",45)(3,"br"),r(),a(4,"p",41),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.DELETE")," "))}function va(i,l){if(i&1){let e=E();a(0,"div",15)(1,"a",46),T("click",function(){u(e);let t=g();return f(t.onActionButtonSiteList(t.tableRowSelected))}),_(2,"i",47)(3,"br"),r(),a(4,"p",41),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.LIST_SITES")," "))}function Aa(i,l){if(i&1){let e=E();a(0,"div",15)(1,"a",46),T("click",function(){u(e);let t=g();return f(t.onActionButtonSiteCategoryList(t.tableRowSelected))}),_(2,"i",48)(3,"br"),r(),a(4,"p",41),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.CATEGORY_LIST_SITES")," "))}function Ma(i,l){if(i&1&&(a(0,"mat-header-cell",49),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ia(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),d(" ",e.id," ")}}function wa(i,l){if(i&1&&(a(0,"mat-header-cell",49),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ea(i,l){if(i&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),i&2){let e=l.$implicit;n(),d(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function ya(i,l){if(i&1&&(a(0,"mat-header-cell",49),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ra(i,l){if(i&1&&_(0,"select",51),i&2){let e=g().$implicit,o=g();C("contentService",o.contentService)("row",e)("ngStyle",Ke(3,_a,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function xa(i,l){if(i&1&&(a(0,"mat-cell",50),S(1,"statusCellClass"),_(2,"i",50),S(3,"statusIconClass"),M(4,Ra,1,5,"select",51),r()),i&2){let e=l.$implicit,o=g();C("ngClass",h(1,3,e.recordStatus)),n(2),C("ngClass",h(3,5,e.recordStatus)),n(2),I(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessEditRow?4:-1)}}function Da(i,l){if(i&1&&(a(0,"mat-header-cell",49),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Ba(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),d(" ",e.title," ")}}function La(i,l){if(i&1&&(a(0,"mat-header-cell",49),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," ")}}function ka(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),d(" ",e.username," ")}}function Va(i,l){if(i&1&&(a(0,"mat-header-cell",49),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.statusWebhook==null?null:e.fieldsInfo.statusWebhook.fieldTitle," ")}}function Oa(i,l){if(i&1&&(a(0,"mat-cell"),_(1,"i",50),S(2,"boolclass"),r()),i&2){let e=l.$implicit;n(),C("ngClass",h(2,1,e.statusWebhook))}}function Ga(i,l){if(i&1&&(a(0,"mat-header-cell",49),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Na(i,l){if(i&1&&(a(0,"mat-cell"),c(1),S(2,"localeDate"),r()),i&2){let e=l.$implicit;n(),d(" ",h(2,1,e.createdDate)," ")}}function Pa(i,l){if(i&1&&(a(0,"mat-header-cell",49),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Fa(i,l){if(i&1&&(a(0,"mat-cell"),c(1),S(2,"localeDate"),r()),i&2){let e=l.$implicit;n(),d(" ",h(2,1,e.updatedDate)," ")}}function Ha(i,l){i&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),i&2&&(n(),d(" ",h(2,1,"TITLE.OPTION")," "))}function Wa(i,l){if(i&1&&(a(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),i&2){let e=B(5);n(),C("matMenuTriggerFor",e)}}function Ua(i,l){i&1&&_(0,"mat-header-row")}function ja(i,l){if(i&1){let e=E();a(0,"mat-row",54),T("click",function(t){let m=u(e).$implicit,p=g();return f(p.onActionTableRowSelect(m,t))})("rtclick",function(t){let m=u(e).$implicit,p=g();return f(p.onActionTableRowSelect(m,t))}),r()}if(i&2){let e=l.$implicit,o=g();O("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Lt=class Lt extends ye{constructor(e,o,t,m,p,s,y,W,Qe,Ne,st){super(e,new Bi,Ne,m,y);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.tokenHelper=m;this.router=p;this.cdr=s;this.translate=y;this.cmsStoreService=W;this.pageInfo=Qe;this.publicHelper=Ne;this.dialog=st;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new $;this.filterDataModelQueryBuilder=[];this.dataModelResult=new Q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","Username","StatusWebhook","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","Username","StatusWebhook","createdDate","updatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Pe=>this.onSubmitOptionsSearch(Pe)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=k.Ascending}ngOnInit(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>z(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Bi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=k.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=k.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=k.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){}onActionButtonEditRow(e=this.tableRowSelected){}onActionButtonDeleteRow(e=this.tableRowSelected){}onActionButtonGoToModuleList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/siteModule/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{o.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{o.set(s,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(y=>{o.set(y,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),p=new j;p.propertyName="recordStatus",p.value=X.Available,m.filters.push(p),this.contentService.ServiceGetCount(m).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(y=>{o.set(y,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSiteList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.onActionTableRowSelect(e),this.router.navigate(["core/site/modulelist/LinkModuleId/",e.id])}onActionButtonSiteCategoryList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.onActionTableRowSelect(e),this.router.navigate(["core/sitecategorymodule/LinkCmsModuleId/",e.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Lt.\u0275fac=function(o){return new(o||Lt)(b(si),b(F),b(He),b(Ie),b(re),b(G),b(N),b(Me),b(Ee),b(H),b(Y))},Lt.\u0275cmp=V({type:Lt,selectors:[["app-apitelegram-bot-config-list"]],standalone:!1,features:[q],decls:64,vars:32,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","Username"],["matColumnDef","StatusWebhook"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-layer-group","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let m=E();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(s){return u(m),x(t.viewGuideNotice,s)||(t.viewGuideNotice=s),f(s)}),T("optionOnActionButtonMemoRow",function(){return u(m),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(m),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(m),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(m),f(t.onActionButtonPrintRow())}),v(1,4),c(2," -------------------------------------- "),A(),ie(3,5)(4,6),v(5,7),a(6,"a",8),T("click",function(){return u(m),f(t.viewGuideNotice=!t.viewGuideNotice)}),_(7,"i",9),r(),a(8,"a",8),T("click",function(){return u(m),f(t.onActionButtonReload())}),_(9,"i",10),r(),A(),v(10,11),a(11,"a",12),T("click",function(){return u(m),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(12,"mat-slide-toggle",13),c(13),S(14,"translate"),r(),a(15,"a",12),T("click",function(){return u(m),f(t.onActionButtonStatist())}),_(16,"mat-slide-toggle",13),c(17),S(18,"translate"),r(),A(),v(19,14),M(20,Ca,7,3,"div",15),A(),v(21,16),M(22,ba,7,3,"div",15),M(23,Ta,7,3,"div",15),M(24,va,7,3,"div",15),M(25,Aa,7,3,"div",15),A(),v(26,17),a(27,"app-cms-search-list",18),D("optionsChange",function(s){return u(m),x(t.optionsSearch,s)||(t.optionsSearch=s),f(s)}),r(),a(28,"app-cms-statist-list",18),D("optionsChange",function(s){return u(m),x(t.optionsStatist,s)||(t.optionsStatist=s),f(s)}),r(),A(),v(29,19),a(30,"mat-table",20,0),T("matSortChange",function(){u(m);let s=B(31);return f(t.onTableSortData(s))}),v(32,21),w(33,Ma,2,1,"mat-header-cell",22)(34,Ia,2,1,"mat-cell",23),A(),v(35,24),w(36,wa,2,1,"mat-header-cell",22)(37,Ea,4,5,"mat-cell",23),A(),v(38,25),w(39,ya,2,1,"mat-header-cell",22)(40,xa,5,7,"mat-cell",26),A(),v(41,27),w(42,Da,2,1,"mat-header-cell",22)(43,Ba,2,1,"mat-cell",23),A(),v(44,28),w(45,La,2,1,"mat-header-cell",22)(46,ka,2,1,"mat-cell",23),A(),v(47,29),w(48,Va,2,1,"mat-header-cell",22)(49,Oa,3,3,"mat-cell",23),A(),v(50,30),w(51,Ga,2,1,"mat-header-cell",22)(52,Na,3,3,"mat-cell",23),A(),v(53,31),w(54,Pa,2,1,"mat-header-cell",22)(55,Fa,3,3,"mat-cell",23),A(),v(56,32),w(57,Ha,3,3,"mat-header-cell",33)(58,Wa,6,1,"mat-cell",34),A(),w(59,Ua,1,0,"mat-header-row",35)(60,ja,1,2,"mat-row",36),r(),A(),v(61,37),a(62,"mat-paginator",38,1),T("page",function(s){return u(m),f(t.onTablePageingData(s))}),r(),A(),r()}o&2&&(C("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),C("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(9),O("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),C("checked",t.optionsSearch.data.show),n(),d("",h(14,27,"ACTION.SEARCH")," "),n(3),C("checked",t.optionsStatist.data.show),n(),d("",h(18,29,"ACTION.STATIST")," "),n(3),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),n(2),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),n(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),n(),I(t.tokenInfo.access.userAccessAdminAllowToProfessionalData?24:-1),n(),I(t.tokenInfo.access.userAccessAdminAllowToProfessionalData?25:-1),n(2),R("options",t.optionsSearch),n(),R("options",t.optionsStatist),n(2),C("dataSource",t.tableSource),n(29),C("matHeaderRowDef",t.tabledisplayedColumns),n(),C("matRowDefColumns",t.tabledisplayedColumns),n(2),C("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",oe(31,ha)))},dependencies:[ne,ze,ae,le,K,se,ce,me,pe,de,ue,fe,Se,be,he,ge,Te,_e,Ce,ve,Ae,Re,xe,De,Be,et,J,P,Le,ke,Ve,Oe,we],encapsulation:2});var vi=Lt;var qa=()=>[5,10,20,100],Qa=i=>({display:i});function Ka(i,l){if(i&1){let e=E();a(0,"div",15)(1,"a",38),T("click",function(){u(e);let t=g();return f(t.onActionButtonNewRow())}),_(2,"i",39)(3,"br"),r(),a(4,"p",40),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.ADD")," "))}function za(i,l){if(i&1){let e=E();a(0,"div",15)(1,"a",41),T("click",function(){u(e);let t=g();return f(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",42)(3,"br"),r(),a(4,"p",40),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.EDIT")," "))}function Ja(i,l){if(i&1){let e=E();a(0,"div",15)(1,"a",43),T("click",function(){u(e);let t=g();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",44)(3,"br"),r(),a(4,"p",40),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.DELETE")," "))}function $a(i,l){if(i&1){let e=E();a(0,"div",15)(1,"a",45),T("click",function(){u(e);let t=g();return f(t.onActionButtonSiteList(t.tableRowSelected))}),_(2,"i",46)(3,"br"),r(),a(4,"p",40),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.LIST_SITES")," "))}function Ya(i,l){if(i&1){let e=E();a(0,"div",15)(1,"a",45),T("click",function(){u(e);let t=g();return f(t.onActionButtonSiteCategoryList(t.tableRowSelected))}),_(2,"i",47)(3,"br"),r(),a(4,"p",40),c(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",h(6,1,"ACTION.CATEGORY_LIST_SITES")," "))}function Xa(i,l){if(i&1&&(a(0,"mat-header-cell",48),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Za(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),d(" ",e.id," ")}}function el(i,l){if(i&1&&(a(0,"mat-header-cell",48),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function tl(i,l){if(i&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),i&2){let e=l.$implicit;n(),d(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function il(i,l){if(i&1&&(a(0,"mat-header-cell",48),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ol(i,l){if(i&1&&_(0,"select",50),i&2){let e=g().$implicit,o=g();C("contentService",o.contentService)("row",e)("ngStyle",Ke(3,Qa,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function nl(i,l){if(i&1&&(a(0,"mat-cell",49),S(1,"statusCellClass"),_(2,"i",49),S(3,"statusIconClass"),M(4,ol,1,5,"select",50),r()),i&2){let e=l.$implicit,o=g();C("ngClass",h(1,3,e.recordStatus)),n(2),C("ngClass",h(3,5,e.recordStatus)),n(2),I(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessEditRow?4:-1)}}function rl(i,l){if(i&1&&(a(0,"mat-header-cell",48),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," ")}}function al(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),d(" ",e.username," ")}}function ll(i,l){if(i&1&&(a(0,"mat-header-cell",48),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.statusWebhook==null?null:e.fieldsInfo.statusWebhook.fieldTitle," ")}}function sl(i,l){if(i&1&&(a(0,"mat-cell"),_(1,"i",49),S(2,"boolclass"),r()),i&2){let e=l.$implicit;n(),C("ngClass",h(2,1,e.statusWebhook))}}function cl(i,l){if(i&1&&(a(0,"mat-header-cell",48),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ml(i,l){if(i&1&&(a(0,"mat-cell"),c(1),S(2,"localeDate"),r()),i&2){let e=l.$implicit;n(),d(" ",h(2,1,e.createdDate)," ")}}function pl(i,l){if(i&1&&(a(0,"mat-header-cell",48),c(1),r()),i&2){let e=g();n(),d(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function dl(i,l){if(i&1&&(a(0,"mat-cell"),c(1),S(2,"localeDate"),r()),i&2){let e=l.$implicit;n(),d(" ",h(2,1,e.updatedDate)," ")}}function ul(i,l){i&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),i&2&&(n(),d(" ",h(2,1,"TITLE.OPTION")," "))}function fl(i,l){if(i&1&&(a(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),i&2){let e=B(5);n(),C("matMenuTriggerFor",e)}}function gl(i,l){i&1&&_(0,"mat-header-row")}function Sl(i,l){if(i&1){let e=E();a(0,"mat-row",53),T("click",function(t){let m=u(e).$implicit,p=g();return f(p.onActionTableRowSelect(m,t))})("rtclick",function(t){let m=u(e).$implicit,p=g();return f(p.onActionTableRowSelect(m,t))}),r()}if(i&2){let e=l.$implicit,o=g();O("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var kt=class kt extends ye{constructor(e,o,t,m,p,s,y,W,Qe,Ne,st){super(e,new Li,o,Ne,W);this.contentService=e;this.publicHelper=o;this.cmsToastrService=t;this.cmsConfirmationDialogService=m;this.router=p;this.cdr=s;this.cmsStoreService=y;this.translate=W;this.pageInfo=Qe;this.tokenHelper=Ne;this.dialog=st;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new $;this.filterDataModelQueryBuilder=[];this.dataModelResult=new Q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","Username","StatusWebhook","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","Username","StatusWebhook","createdDate","updatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Pe=>this.onSubmitOptionsSearch(Pe)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=k.Ascending}ngOnInit(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>z(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Li);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=k.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=k.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=k.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){}onActionButtonEditRow(e=this.tableRowSelected){}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{o=m["MESSAGE.Please_Confirm"],t=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(m=>{if(m){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(p,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonGoToModuleList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/siteModule/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{o.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{o.set(s,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(y=>{o.set(y,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),p=new j;p.propertyName="recordStatus",p.value=X.Available,m.filters.push(p),this.contentService.ServiceGetCount(m).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(y=>{o.set(y,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSiteList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.onActionTableRowSelect(e),this.router.navigate(["core/site/modulelist/LinkModuleId/",e.id])}onActionButtonSiteCategoryList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.onActionTableRowSelect(e),this.router.navigate(["core/sitecategorymodule/LinkCmsModuleId/",e.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};kt.\u0275fac=function(o){return new(o||kt)(b(li),b(H),b(F),b(He),b(re),b(G),b(Me),b(N),b(Ee),b(Ie),b(Y))},kt.\u0275cmp=V({type:kt,selectors:[["app-apitelegram-bot-config-list"]],standalone:!1,features:[q],decls:61,vars:32,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Username"],["matColumnDef","StatusWebhook"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-layer-group","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let m=E();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(s){return u(m),x(t.viewGuideNotice,s)||(t.viewGuideNotice=s),f(s)}),T("optionOnActionButtonMemoRow",function(){return u(m),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(m),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(m),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(m),f(t.onActionButtonPrintRow())}),v(1,4),c(2," -------------------------------------- "),A(),ie(3,5)(4,6),v(5,7),a(6,"a",8),T("click",function(){return u(m),f(t.viewGuideNotice=!t.viewGuideNotice)}),_(7,"i",9),r(),a(8,"a",8),T("click",function(){return u(m),f(t.onActionButtonReload())}),_(9,"i",10),r(),A(),v(10,11),a(11,"a",12),T("click",function(){return u(m),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(12,"mat-slide-toggle",13),c(13),S(14,"translate"),r(),a(15,"a",12),T("click",function(){return u(m),f(t.onActionButtonStatist())}),_(16,"mat-slide-toggle",13),c(17),S(18,"translate"),r(),A(),v(19,14),M(20,Ka,7,3,"div",15),A(),v(21,16),M(22,za,7,3,"div",15),M(23,Ja,7,3,"div",15),M(24,$a,7,3,"div",15),M(25,Ya,7,3,"div",15),A(),v(26,17),a(27,"app-cms-search-list",18),D("optionsChange",function(s){return u(m),x(t.optionsSearch,s)||(t.optionsSearch=s),f(s)}),r(),a(28,"app-cms-statist-list",18),D("optionsChange",function(s){return u(m),x(t.optionsStatist,s)||(t.optionsStatist=s),f(s)}),r(),A(),v(29,19),a(30,"mat-table",20,0),T("matSortChange",function(){u(m);let s=B(31);return f(t.onTableSortData(s))}),v(32,21),w(33,Xa,2,1,"mat-header-cell",22)(34,Za,2,1,"mat-cell",23),A(),v(35,24),w(36,el,2,1,"mat-header-cell",22)(37,tl,4,5,"mat-cell",23),A(),v(38,25),w(39,il,2,1,"mat-header-cell",22)(40,nl,5,7,"mat-cell",26),A(),v(41,27),w(42,rl,2,1,"mat-header-cell",22)(43,al,2,1,"mat-cell",23),A(),v(44,28),w(45,ll,2,1,"mat-header-cell",22)(46,sl,3,3,"mat-cell",23),A(),v(47,29),w(48,cl,2,1,"mat-header-cell",22)(49,ml,3,3,"mat-cell",23),A(),v(50,30),w(51,pl,2,1,"mat-header-cell",22)(52,dl,3,3,"mat-cell",23),A(),v(53,31),w(54,ul,3,3,"mat-header-cell",32)(55,fl,6,1,"mat-cell",33),A(),w(56,gl,1,0,"mat-header-row",34)(57,Sl,1,2,"mat-row",35),r(),A(),v(58,36),a(59,"mat-paginator",37,1),T("page",function(s){return u(m),f(t.onTablePageingData(s))}),r(),A(),r()}o&2&&(C("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),C("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(9),O("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),C("checked",t.optionsSearch.data.show),n(),d("",h(14,27,"ACTION.SEARCH")," "),n(3),C("checked",t.optionsStatist.data.show),n(),d("",h(18,29,"ACTION.STATIST")," "),n(3),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),n(2),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),n(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),n(),I(t.tokenInfo.access.userAccessAdminAllowToProfessionalData?24:-1),n(),I(t.tokenInfo.access.userAccessAdminAllowToProfessionalData?25:-1),n(2),R("options",t.optionsSearch),n(),R("options",t.optionsStatist),n(2),C("dataSource",t.tableSource),n(26),C("matHeaderRowDef",t.tabledisplayedColumns),n(),C("matRowDefColumns",t.tabledisplayedColumns),n(2),C("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",oe(31,qa)))},dependencies:[ne,ze,ae,le,K,se,ce,me,pe,de,ue,fe,Se,be,he,ge,Te,_e,Ce,ve,Ae,Re,xe,De,Be,et,J,P,Le,ke,Ve,Oe,we],encapsulation:2});var Ai=kt;var hl=[{path:"",component:Si,data:{title:"ROUTE.APITELEGRAM"},children:[{path:"config",loadChildren:()=>import("./chunk-ESNNTSHR.js").then(i=>i.ApiTelegramConfigModule),data:{title:"ROUTE.APITELEGRAM"}},{path:"bot-config",component:bi,data:{title:"ROUTE.APITELEGRAM.BOTCONFIG"}},{path:"log-input",component:ei,data:{title:"ROUTE.APITELEGRAM.LOGINPUT"}},{path:"log-input/LinkBotConfigId/:LinkBotConfigId",component:ei,data:{title:"ROUTE.APITELEGRAM.LOGINPUT"}},{path:"log-output",component:ti,data:{title:"ROUTE.APITELEGRAM.LOGOUTPUT"}},{path:"log-output/LinkBotConfigId/:LinkBotConfigId",component:ti,data:{title:"ROUTE.APITELEGRAM.LOGOUTPUT"}},{path:"member-info",component:Ti,data:{title:"ROUTE.APITELEGRAM.MEMBERINFO"}},{path:"received-file",component:vi,data:{title:"ROUTE.APITELEGRAM.RECEIVEDFILE"}},{path:"uploaded-file",component:Ai,data:{title:"ROUTE.APITELEGRAM.UPLOADEDFILE"}}]}],at=class at{};at.\u0275fac=function(e){return new(e||at)},at.\u0275mod=oi({type:at}),at.\u0275inj=ii({imports:[wi.forChild(hl),wi]});var Mi=at;var lt=class lt{};lt.\u0275fac=function(e){return new(e||lt)},lt.\u0275mod=oi({type:lt}),lt.\u0275inj=ii({providers:[io,Fe,oo,He,ro,ee,ao,ci,mi,pi,si,li],imports:[Xi,Mi,co,mo.withConfig({warnOnNgModelWithFormControl:"never"}),Co,To,So,go,ho,Io]});var Ro=lt;export{Ro as ApiTelegramModule};
