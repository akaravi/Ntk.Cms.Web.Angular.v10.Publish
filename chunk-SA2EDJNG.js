import{a as vi}from"./chunk-I4NWFY5S.js";import{a as et}from"./chunk-NP6VKNN5.js";import{a as Tt}from"./chunk-CTDHLCGI.js";import{a as ct}from"./chunk-G3C52ZTO.js";import{a as st}from"./chunk-H54R7NVU.js";import{a as Ze}from"./chunk-B2J2WMP7.js";import{a as ht}from"./chunk-MQUDBBGA.js";import{a as St}from"./chunk-AZ7ZYANU.js";import{a as ft}from"./chunk-6RN3VJAM.js";import{a as ut}from"./chunk-V5O3WHK5.js";import{c as Ke,d as $e,e as Xe,g as Ye}from"./chunk-2BRRFAJZ.js";import{a as lt}from"./chunk-ZGA4VUXC.js";import{a as at}from"./chunk-MAYVUTPL.js";import{c as ze,d as Je}from"./chunk-WPZLHJFX.js";import{a as pt}from"./chunk-NFTCW3BR.js";import{a as ge}from"./chunk-FFKUY2VV.js";import{a as te}from"./chunk-QJ4SB3EG.js";import{Aa as ao,Ab as Le,Bb as Ue,Bc as rt,Cb as Be,Dc as j,E as Ci,F as hi,H as _i,Ha as Y,Ia as Z,Ja as Ee,Jb as Ve,Kb as Oe,Lb as Pe,Mb as Ge,Nb as Ne,O as Vo,Ob as He,P as Oo,Pa as Ae,Pb as Fe,Qb as je,R as gi,Rb as We,Sb as qe,U as oo,fc as G,gc as N,ma as _e,n as io,o as fi,oa as Me,r as ui,s as Lo,u as Uo,ub as Re,uc as H,vb as De,vc as F,w as Si,x as Bo,xc as Ho,ya as no,yb as xe,za as ro,zc as Qe}from"./chunk-MZT2GAV3.js";import{m as P}from"./chunk-5FBTF4ET.js";import{a as q}from"./chunk-6PQVSDTN.js";import{$d as z,$f as nt,Ba as gt,Bb as K,Cb as $,Db as X,Ed as ke,Fa as n,Gd as L,Hb as Q,Hc as it,Ic as pi,Jb as ve,Jc as O,Ka as p,Kd as ot,Mb as m,Nb as D,Nc as dt,Nd as Mt,Ne as Et,Ob as f,Od as R,Oe as At,Pa as U,Pb as di,Pc as be,Pe as kt,Qa as to,Sb as A,Sd as W,Ta as J,Tb as k,Td as ye,Tf as Lt,Ub as y,Ud as ee,Uf as Ut,Va as T,Vc as xo,Ve as yt,Vf as Bt,We as Rt,Wf as Vt,X as eo,Xe as Dt,Xf as _t,Ye as xt,Yf as Ot,Zb as Te,Zf as Pt,_b as he,_e as vt,_f as Gt,bc as S,ca as h,cc as g,da as _,dc as ae,de as Go,ib as d,jb as s,kb as r,lb as v,ne as No,pb as b,pd as Ie,qb as I,qd as Po,rb as ne,rd as we,sb as M,uc as V,vb as w,vd as Do,xb as u}from"./chunk-Y22UWZ2R.js";import{i as B}from"./chunk-SEDBTTTN.js";var Qo=["vform"];function zo(i,a){if(i&1){let e=M();s(0,"app-cms-enum-record-status-selector",7),y("modelChange",function(t){h(e);let c=u();return k(c.dataModel.recordStatus,t)||(c.dataModel.recordStatus=t),_(t)}),r()}if(i&2){let e=u();A("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Jo(i,a){if(i&1){let e=M();s(0,"div",8)(1,"button",9),w("click",function(){h(e);let t=u();return _(t.onFormCancel())}),v(2,"i",10),m(3),S(4,"translate"),r()()}i&2&&(n(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var Ti=class Ti extends lt{constructor(e,o,t,c,C,l,x,oe,ie,le){super(c,new Pt,le,ie);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenActivationService=c;this.cmsToastrService=C;this.tokenHelper=l;this.cmsStoreService=x;this.cdr=oe;this.translate=ie;this.publicHelper=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new R;this.dataModel=new Pt;this.formInfo=new ee;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e})),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.setAccessDataType(ot.Editor),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ti.\u0275fac=function(o){return new(o||Ti)(p(Z),p(Y),p(z),p(yt),p(F),p(H),p(P),p(V),p(G),p(j))},Ti.\u0275cmp=U({type:Ti,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&K(Qo,5),o&2){let c;$(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(s(0,"div",0),v(1,"app-progress-spinner",1),s(2,"div",2)(3,"p",3),m(4),r(),s(5,"p"),m(6),S(7,"translate"),r(),T(8,zo,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),S(10,"translate"),v(11,"app-cms-user-selector",5),S(12,"translate"),T(13,Jo,5,3,"div",6),r()()),o&2&&(n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),f(" ",t.formInfo.formTitle," "),n(2),f(" ",g(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",g(10,13,"TITLE.WEBSITE")),n(2),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",g(12,15,"TITLE.USER")),n(2),d("ngIf",t.formInfo.formSubmitAllow))},dependencies:[O,at,pt,st,te,N],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var so=Ti;var Ko=["vform"];function $o(i,a){if(i&1){let e=M();s(0,"div",5)(1,"button",10),w("click",function(){h(e);let t=u();return _(t.onFormCancel())}),v(2,"i",11),m(3),S(4,"translate"),r()()}i&2&&(n(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var Ii=class Ii{constructor(a,e,o,t,c,C,l,x,oe,ie){this.data=a;this.dialogRef=e;this.coreEnumService=o;this.coreTokenActivationService=t;this.cmsToastrService=c;this.tokenHelper=C;this.cmsStoreService=l;this.cdr=x;this.publicHelper=oe;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new nt;this.dataModelResult=new R;this.dataModel=new Pt;this.formInfo=new ee;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("aaaaaaaaaTITLE.VIEWaaaaa").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>B(this,null,function*(){this.tokenInfo=a})),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ii.\u0275fac=function(e){return new(e||Ii)(p(Z),p(Y),p(z),p(yt),p(F),p(H),p(P),p(V),p(j),p(G))},Ii.\u0275cmp=U({type:Ii,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&K(Ko,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(s(0,"div",0),m(1),r(),s(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),s(5,"div",4)(6,"div",5)(7,"small",6),m(8),r(),s(9,"small",7),m(10),r()()(),s(11,"div",8),T(12,$o,5,3,"div",9),r()),e&2&&(n(),f(" ",o.formInfo.formTitle," "),n(2),d("optionsInfoAreaId",o.constructorInfoAreaId),n(),d("dataModel",o.dataModel)("optionMethod",1),n(4),f("",o.formInfo.formAlert," "),n(2),f("",o.formInfo.formError," "),n(2),d("ngIf",o.formInfo.formSubmitAllow))},dependencies:[O,te,ct,N],encapsulation:2});var lo=Ii;var Xo=()=>[5,10,20,100],Yo=i=>({display:i}),Zo=i=>({background:i});function en(i,a){if(i&1){let e=M();s(0,"a",51),w("click",function(){h(e);let t=u();return _(t.onActionBackToParent())}),v(1,"i",52),r()}}function tn(i,a){if(i&1){let e=M();s(0,"div",18)(1,"a",53),w("click",function(){h(e);let t=u();return _(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",54)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.EDIT")))}function on(i,a){if(i&1){let e=M();s(0,"div",18)(1,"a",55),w("click",function(){h(e);let t=u();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",56)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.DELETE")))}function nn(i,a){if(i&1){let e=M();s(0,"div",18)(1,"a",57),w("click",function(){h(e);let t=u();return _(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",58)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.VIEW")))}function rn(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function an(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),f(" ",e.id," ")}}function sn(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ln(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),f(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function cn(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function mn(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),f(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function dn(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function pn(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),f(" ",e.linkMemberUserId," ")}}function fn(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function un(i,a){if(i&1&&v(0,"select",62),i&2){let e=u().$implicit,o=u();d("contentService",o.contentService)("row",e)("ngStyle",he(3,Yo,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Sn(i,a){if(i&1&&(s(0,"mat-cell",60),S(1,"statusCellClass"),v(2,"i",60),S(3,"statusIconClass"),T(4,un,1,5,"select",61),r()),i&2){let e=a.$implicit,o=u();d("ngClass",g(1,3,e.recordStatus)),n(2),d("ngClass",g(3,5,e.recordStatus)),n(2),d("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function Cn(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function hn(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=u();n(),f(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function _n(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function gn(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=u();n(),f(" ",ae(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function vn(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Tn(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),d("ngClass",g(2,1,e.userAccessAdminAllowToAllData))}}function bn(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function In(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),d("ngClass",g(2,1,e.userAccessAdminAllowToProfessionalData))}}function wn(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Mn(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),d("ngClass",g(2,1,e.rememberOnDevice))}}function En(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function An(i,a){if(i&1&&(s(0,"mat-cell",63),m(1),S(2,"localeDateTime"),r()),i&2){let e=a.$implicit;n(),f(" ",g(2,1,e.createdDate)," ")}}function kn(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function yn(i,a){if(i&1&&(s(0,"mat-cell",64),m(1),S(2,"persianDate"),r()),i&2){let e=a.$implicit,o=u();d("ngStyle",he(4,Zo,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),f(" ",g(2,2,e.expireDate)," ")}}function Rn(i,a){i&1&&(s(0,"mat-header-cell"),m(1),S(2,"translate"),r()),i&2&&(n(),f(" ",g(2,1,"TITLE.OPTION")," "))}function Dn(i,a){if(i&1&&(s(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),r()(),v(4,"mat-menu",null,2),r()),i&2){let e=Q(5);n(),d("matMenuTriggerFor",e)}}function xn(i,a){i&1&&v(0,"mat-header-row")}function Ln(i,a){if(i&1){let e=M();s(0,"mat-row",67),w("click",function(){let t=h(e).$implicit,c=u();return _(c.onActionTableRowSelect(t))}),r()}if(i&2){let e=a.$implicit,o=a.dataIndex,t=u();ve("ntk-row-odd",o%2)("ntk-row-even",!(o%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var wi=class wi extends Ke{constructor(e,o,t,c,C,l,x,oe,ie,le,tt,bt){super(e,new Pt,tt,C,x);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=c;this.tokenHelper=C;this.cdr=l;this.translate=x;this.cmsStoreService=oe;this.router=ie;this.pageInfo=le;this.publicHelper=tt;this.dialog=bt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ye;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new W;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new W;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new W;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Pt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(lo,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(so,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(C,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{o.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{o.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{o.set(x,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),C=new W;C.propertyName="RecordStatus",C.value=ke.Available,c.filters.push(C),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{o.set(x,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};wi.\u0275fac=function(o){return new(o||wi)(p(yt),p(F),p(ge),p(Ie),p(H),p(V),p(G),p(P),p(we),p(Qe),p(j),p(Ee))},wi.\u0275cmp=U({type:wi,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[J],decls:88,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(o,t){if(o&1){let c=M();s(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(l){return h(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),_(l)}),w("optionOnActionButtonMemoRow",function(){return h(c),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),_(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),ne(3,5)(4,6),b(5,7),T(6,en,2,0,"a",8),s(7,"a",9),w("click",function(){return h(c),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),r(),s(9,"a",9),w("click",function(){return h(c),_(t.onActionButtonReload())}),v(10,"i",11),r(),I(),b(11,12),s(12,"a",13),w("click",function(){return h(c),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),r(),s(16,"a",13),w("click",function(){return h(c),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",14),m(18),S(19,"translate"),r(),I(),ne(20,15),b(21,16),T(22,tn,7,3,"div",17)(23,on,7,3,"div",17),s(24,"div",18)(25,"a",19),w("click",function(){return h(c),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(26,"i",20),r(),s(27,"p",21),m(28),S(29,"translate"),r()(),s(30,"div",18)(31,"a",19),w("click",function(){return h(c),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(32,"i",22)(33,"br"),r(),s(34,"p",21),m(35),S(36,"translate"),r()(),T(37,nn,7,3,"div",17),I(),b(38,23),s(39,"app-cms-search-list",24),y("optionsChange",function(l){return h(c),k(t.optionsSearch,l)||(t.optionsSearch=l),_(l)}),r(),s(40,"app-cms-statist-list",24),y("optionsChange",function(l){return h(c),k(t.optionsStatist,l)||(t.optionsStatist=l),_(l)}),r(),I(),b(41,25),s(42,"mat-table",26,0),w("matSortChange",function(){h(c);let l=Q(43);return _(t.onTableSortData(l))}),b(44,27),T(45,rn,2,1,"mat-header-cell",28)(46,an,2,1,"mat-cell",29),I(),b(47,30),T(48,sn,2,1,"mat-header-cell",28)(49,ln,4,5,"mat-cell",29),I(),b(50,31),T(51,cn,2,1,"mat-header-cell",28)(52,mn,4,5,"mat-cell",29),I(),b(53,32),T(54,dn,2,1,"mat-header-cell",28)(55,pn,2,1,"mat-cell",29),I(),b(56,33),T(57,fn,2,1,"mat-header-cell",28)(58,Sn,5,7,"mat-cell",34),I(),b(59,35),T(60,Cn,2,1,"mat-header-cell",28)(61,hn,3,4,"mat-cell",29),I(),b(62,36),T(63,_n,2,1,"mat-header-cell",28)(64,gn,3,4,"mat-cell",29),I(),b(65,37),T(66,vn,2,1,"mat-header-cell",28)(67,Tn,3,3,"mat-cell",29),I(),b(68,38),T(69,bn,2,1,"mat-header-cell",28)(70,In,3,3,"mat-cell",29),I(),b(71,39),T(72,wn,2,1,"mat-header-cell",28)(73,Mn,3,3,"mat-cell",29),I(),b(74,40),T(75,En,2,1,"mat-header-cell",28)(76,An,3,3,"mat-cell",41),I(),b(77,42),T(78,kn,2,1,"mat-header-cell",28)(79,yn,3,6,"mat-cell",43),I(),b(80,44),T(81,Rn,3,3,"mat-header-cell",45)(82,Dn,6,1,"mat-cell",46),I(),T(83,xn,1,0,"mat-header-row",47)(84,Ln,1,6,"mat-row",48),r(),I(),b(85,49),s(86,"mat-paginator",50,1),w("page",function(l){return h(c),_(t.onTablePageingData(l))}),r(),I(),r()}o&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),d("ngIf",t.requestLinkSiteId>0),n(7),d("checked",t.optionsSearch.data.show),n(),f("",g(15,26,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),f("",g(19,28,"ACTION.STATIST")," "),n(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(5),D(g(29,30,"ACTION.SITE")),n(7),D(g(36,32,"ACTION.USER")),n(2),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(41),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Te(34,Xo)))},dependencies:[it,O,dt,Me,Ae,_e,Re,De,xe,Le,Ue,Be,Ve,Pe,Fe,Ge,Oe,je,Ne,He,We,qe,$e,Xe,Ye,ft,be,N,ht,et,ze,Ze,Je,ut,St,rt],encapsulation:2});var co=wi;var ki=class ki{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};ki.\u0275fac=function(e){return new(e||ki)},ki.\u0275cmp=U({type:ki,selectors:[["app-core-token"]],standalone:!1,decls:1,vars:0,template:function(e,o){e&1&&v(0,"router-outlet")},dependencies:[Po],encapsulation:2});var mo=ki;var Un=["vform"];function Bn(i,a){if(i&1){let e=M();s(0,"app-cms-enum-record-status-selector",7),y("modelChange",function(t){h(e);let c=u();return k(c.dataModel.recordStatus,t)||(c.dataModel.recordStatus=t),_(t)}),r()}if(i&2){let e=u();A("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Vn(i,a){if(i&1){let e=M();s(0,"div",8)(1,"button",9),w("click",function(){h(e);let t=u();return _(t.onFormCancel())}),v(2,"i",10),m(3),S(4,"translate"),r()()}i&2&&(n(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var yi=class yi extends lt{constructor(e,o,t,c,C,l,x,oe,ie,le){super(c,new Vt,l,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreLogTokenMicroServiceService=c;this.cmsToastrService=C;this.publicHelper=l;this.cdr=x;this.tokenHelper=oe;this.cmsStoreService=ie;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new R;this.dataModel=new Vt;this.formInfo=new ee;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e})),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreLogTokenMicroServiceService.setAccessLoad(),this.coreLogTokenMicroServiceService.setAccessDataType(ot.Editor),this.coreLogTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};yi.\u0275fac=function(o){return new(o||yi)(p(Z),p(Y),p(z),p(At),p(F),p(j),p(V),p(H),p(P),p(G))},yi.\u0275cmp=U({type:yi,selectors:[["app-coretoken-microservicelog-edit"]],viewQuery:function(o,t){if(o&1&&K(Un,5),o&2){let c;$(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(s(0,"div",0),v(1,"app-progress-spinner",1),s(2,"div",2)(3,"p",3),m(4),r(),s(5,"p"),m(6),S(7,"translate"),r(),T(8,Bn,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),S(10,"translate"),v(11,"app-cms-user-selector",5),S(12,"translate"),T(13,Vn,5,3,"div",6),r()()),o&2&&(n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),f(" ",t.formInfo.formTitle," "),n(2),f(" ",g(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",g(10,13,"TITLE.WEBSITE")),n(2),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",g(12,15,"TITLE.USER")),n(2),d("ngIf",t.formInfo.formSubmitAllow))},dependencies:[O,at,pt,st,te,N],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var po=yi;var On=["vform"];function Pn(i,a){if(i&1){let e=M();s(0,"div",5)(1,"button",10),w("click",function(){h(e);let t=u();return _(t.onFormCancel())}),v(2,"i",11),m(3),S(4,"translate"),r()()}i&2&&(n(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var Ri=class Ri{constructor(a,e,o,t,c,C,l,x,oe,ie){this.data=a;this.dialogRef=e;this.coreEnumService=o;this.coreLogTokenMicroServiceService=t;this.cmsToastrService=c;this.tokenHelper=C;this.cmsStoreService=l;this.cdr=x;this.publicHelper=oe;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new nt;this.dataModelResult=new R;this.dataModel=new Vt;this.formInfo=new ee;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>B(this,null,function*(){this.tokenInfo=a})),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.coreLogTokenMicroServiceService.setAccessLoad(),this.coreLogTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ri.\u0275fac=function(e){return new(e||Ri)(p(Z),p(Y),p(z),p(At),p(F),p(H),p(P),p(V),p(j),p(G))},Ri.\u0275cmp=U({type:Ri,selectors:[["app-core-token-microservicelog-view"]],viewQuery:function(e,o){if(e&1&&K(On,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(s(0,"div",0),m(1),r(),s(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),s(5,"div",4)(6,"div",5)(7,"small",6),m(8),r(),s(9,"small",7),m(10),r()()(),s(11,"div",8),T(12,Pn,5,3,"div",9),r()),e&2&&(n(),f(" ",o.formInfo.formTitle," "),n(2),d("optionsInfoAreaId",o.constructorInfoAreaId),n(),d("dataModel",o.dataModel)("optionMethod",1),n(4),f("",o.formInfo.formAlert," "),n(2),f("",o.formInfo.formError," "),n(2),d("ngIf",o.formInfo.formSubmitAllow))},dependencies:[O,te,ct,N],encapsulation:2});var fo=Ri;var Gn=()=>[5,10,20,100],Nn=i=>({display:i}),Hn=i=>({background:i});function Fn(i,a){if(i&1){let e=M();s(0,"a",51),w("click",function(){h(e);let t=u();return _(t.onActionBackToParent())}),v(1,"i",52),r()}}function jn(i,a){if(i&1){let e=M();s(0,"div",18)(1,"a",53),w("click",function(){h(e);let t=u();return _(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",54)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.EDIT")))}function Wn(i,a){if(i&1){let e=M();s(0,"div",18)(1,"a",55),w("click",function(){h(e);let t=u();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",56)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.DELETE")))}function qn(i,a){if(i&1){let e=M();s(0,"div",18)(1,"a",57),w("click",function(){h(e);let t=u();return _(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",58)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.VIEW")))}function Qn(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function zn(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),f(" ",e.id," ")}}function Jn(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Kn(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),f(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function $n(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Xn(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),f(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function Yn(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Zn(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),f(" ",e.linkMemberUserId," ")}}function er(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function tr(i,a){if(i&1&&v(0,"select",62),i&2){let e=u().$implicit,o=u();d("contentService",o.contentService)("row",e)("ngStyle",he(3,Nn,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function ir(i,a){if(i&1&&(s(0,"mat-cell",60),S(1,"statusCellClass"),v(2,"i",60),S(3,"statusIconClass"),T(4,tr,1,5,"select",61),r()),i&2){let e=a.$implicit,o=u();d("ngClass",g(1,3,e.recordStatus)),n(2),d("ngClass",g(3,5,e.recordStatus)),n(2),d("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function or(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function nr(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=u();n(),f(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function rr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function ar(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=u();n(),f(" ",ae(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function sr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function lr(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),d("ngClass",g(2,1,e.userAccessAdminAllowToAllData))}}function cr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function mr(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),d("ngClass",g(2,1,e.userAccessAdminAllowToProfessionalData))}}function dr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function pr(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),d("ngClass",g(2,1,e.rememberOnDevice))}}function fr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ur(i,a){if(i&1&&(s(0,"mat-cell",63),m(1),S(2,"localeDateTime"),r()),i&2){let e=a.$implicit;n(),f(" ",g(2,1,e.createdDate)," ")}}function Sr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Cr(i,a){if(i&1&&(s(0,"mat-cell",64),m(1),S(2,"persianDate"),r()),i&2){let e=a.$implicit,o=u();d("ngStyle",he(4,Hn,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),f(" ",g(2,2,e.expireDate)," ")}}function hr(i,a){i&1&&(s(0,"mat-header-cell"),m(1),S(2,"translate"),r()),i&2&&(n(),f(" ",g(2,1,"TITLE.OPTION")," "))}function _r(i,a){if(i&1&&(s(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),r()(),v(4,"mat-menu",null,2),r()),i&2){let e=Q(5);n(),d("matMenuTriggerFor",e)}}function gr(i,a){i&1&&v(0,"mat-header-row")}function vr(i,a){if(i&1){let e=M();s(0,"mat-row",67),w("click",function(){let t=h(e).$implicit,c=u();return _(c.onActionTableRowSelect(t))}),r()}if(i&2){let e=a.$implicit,o=a.dataIndex,t=u();ve("ntk-row-odd",o%2)("ntk-row-even",!(o%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Di=class Di extends Ke{constructor(e,o,t,c,C,l,x,oe,ie,le,tt,bt){super(e,new Vt,tt,C,x);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=c;this.tokenHelper=C;this.cdr=l;this.translate=x;this.cmsStoreService=oe;this.router=ie;this.pageInfo=le;this.publicHelper=tt;this.dialog=bt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ye;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new W;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new W;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new W;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Vt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(fo,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(po,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(C,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{o.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{o.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{o.set(x,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),C=new W;C.propertyName="RecordStatus",C.value=ke.Available,c.filters.push(C),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{o.set(x,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Di.\u0275fac=function(o){return new(o||Di)(p(At),p(F),p(ge),p(Ie),p(H),p(V),p(G),p(P),p(we),p(Qe),p(j),p(Ee))},Di.\u0275cmp=U({type:Di,selectors:[["app-coretoken-microservicelog-list"]],standalone:!1,features:[J],decls:85,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(o,t){if(o&1){let c=M();s(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(l){return h(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),_(l)}),w("optionOnActionButtonMemoRow",function(){return h(c),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),_(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),ne(3,5)(4,6),b(5,7),T(6,Fn,2,0,"a",8),s(7,"a",9),w("click",function(){return h(c),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),r(),s(9,"a",9),w("click",function(){return h(c),_(t.onActionButtonReload())}),v(10,"i",11),r(),I(),b(11,12),s(12,"a",13),w("click",function(){return h(c),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),r(),I(),ne(16,15),b(17,16),T(18,jn,7,3,"div",17)(19,Wn,7,3,"div",17),s(20,"div",18)(21,"a",19),w("click",function(){return h(c),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(22,"i",20)(23,"br"),r(),s(24,"p",21),m(25),S(26,"translate"),r()(),s(27,"div",18)(28,"a",19),w("click",function(){return h(c),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(29,"i",22)(30,"br"),r(),s(31,"p",21),m(32),S(33,"translate"),r()(),T(34,qn,7,3,"div",17),I(),b(35,23),s(36,"app-cms-search-list",24),y("optionsChange",function(l){return h(c),k(t.optionsSearch,l)||(t.optionsSearch=l),_(l)}),r(),s(37,"app-cms-statist-list",24),y("optionsChange",function(l){return h(c),k(t.optionsStatist,l)||(t.optionsStatist=l),_(l)}),r(),I(),b(38,25),s(39,"mat-table",26,0),w("matSortChange",function(){h(c);let l=Q(40);return _(t.onTableSortData(l))}),b(41,27),T(42,Qn,2,1,"mat-header-cell",28)(43,zn,2,1,"mat-cell",29),I(),b(44,30),T(45,Jn,2,1,"mat-header-cell",28)(46,Kn,4,5,"mat-cell",29),I(),b(47,31),T(48,$n,2,1,"mat-header-cell",28)(49,Xn,4,5,"mat-cell",29),I(),b(50,32),T(51,Yn,2,1,"mat-header-cell",28)(52,Zn,2,1,"mat-cell",29),I(),b(53,33),T(54,er,2,1,"mat-header-cell",28)(55,ir,5,7,"mat-cell",34),I(),b(56,35),T(57,or,2,1,"mat-header-cell",28)(58,nr,3,4,"mat-cell",29),I(),b(59,36),T(60,rr,2,1,"mat-header-cell",28)(61,ar,3,4,"mat-cell",29),I(),b(62,37),T(63,sr,2,1,"mat-header-cell",28)(64,lr,3,3,"mat-cell",29),I(),b(65,38),T(66,cr,2,1,"mat-header-cell",28)(67,mr,3,3,"mat-cell",29),I(),b(68,39),T(69,dr,2,1,"mat-header-cell",28)(70,pr,3,3,"mat-cell",29),I(),b(71,40),T(72,fr,2,1,"mat-header-cell",28)(73,ur,3,3,"mat-cell",41),I(),b(74,42),T(75,Sr,2,1,"mat-header-cell",28)(76,Cr,3,6,"mat-cell",43),I(),b(77,44),T(78,hr,3,3,"mat-header-cell",45)(79,_r,6,1,"mat-cell",46),I(),T(80,gr,1,0,"mat-header-row",47)(81,vr,1,6,"mat-row",48),r(),I(),b(82,49),s(83,"mat-paginator",50,1),w("page",function(l){return h(c),_(t.onTablePageingData(l))}),r(),I(),r()}o&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),d("ngIf",t.requestLinkSiteId>0),n(7),d("checked",t.optionsSearch.data.show),n(),f("",g(15,24,"ACTION.SEARCH")," "),n(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),D(g(26,26,"ACTION.SITE")),n(7),D(g(33,28,"ACTION.USER")),n(2),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(41),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Te(30,Gn)))},dependencies:[it,O,dt,Me,Ae,_e,Re,De,xe,Le,Ue,Be,Ve,Pe,Fe,Ge,Oe,je,Ne,He,We,qe,$e,Xe,Ye,ft,be,N,ht,et,ze,Ze,Je,ut,St,rt],encapsulation:2});var uo=Di;var Tr=["vform"];function br(i,a){if(i&1){let e=M();s(0,"app-cms-enum-record-status-selector",8),y("modelChange",function(t){h(e);let c=u();return k(c.dataModel.recordStatus,t)||(c.dataModel.recordStatus=t),_(t)}),r()}if(i&2){let e=u();A("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ir(i,a){if(i&1&&(s(0,"div"),v(1,"div",9),S(2,"prettyjson"),r()),i&2){let e=u();n(),d("innerHTML",g(2,1,e.dataModel),gt)}}function wr(i,a){if(i&1){let e=M();s(0,"div",10)(1,"button",11),w("click",function(){h(e);let t=u();return _(t.onFormCancel())}),v(2,"i",12),m(3),S(4,"translate"),r()()}i&2&&(n(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var xi=class xi extends lt{constructor(e,o,t,c,C,l,x,oe,ie,le){super(c,new Bt,ie,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenMicroServiceService=c;this.cmsToastrService=C;this.tokenHelper=l;this.cmsStoreService=x;this.cdr=oe;this.publicHelper=ie;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Mt;this.dataModel=new Bt;this.formInfo=new ee;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e})),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.setAccessDataType(ot.Editor),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};xi.\u0275fac=function(o){return new(o||xi)(p(Z),p(Y),p(z),p(xt),p(F),p(H),p(P),p(V),p(j),p(G))},xi.\u0275cmp=U({type:xi,selectors:[["app-coretoken-microservice-edit"]],viewQuery:function(o,t){if(o&1&&K(Tr,5),o&2){let c;$(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:15,vars:18,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(s(0,"div",0),v(1,"app-progress-spinner",1),s(2,"div",2)(3,"p",3),m(4),r(),s(5,"p"),m(6),S(7,"translate"),r(),T(8,br,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),S(10,"translate"),v(11,"app-cms-user-selector",5),S(12,"translate"),T(13,Ir,3,3,"div",6)(14,wr,5,3,"div",7),r()()),o&2&&(n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),f(" ",t.formInfo.formTitle," "),n(2),f(" ",g(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",g(10,14,"TITLE.WEBSITE")),n(2),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",g(12,16,"TITLE.USER")),n(2),d("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(),d("ngIf",t.formInfo.formSubmitAllow))},dependencies:[O,at,pt,st,te,N,Tt],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var So=xi;var Mr=["vform"];function Er(i,a){if(i&1){let e=M();s(0,"div",5)(1,"button",10),w("click",function(){h(e);let t=u();return _(t.onFormCancel())}),v(2,"i",11),m(3),S(4,"translate"),r()()}i&2&&(n(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var Li=class Li{constructor(a,e,o,t,c,C,l,x,oe,ie){this.data=a;this.dialogRef=e;this.coreEnumService=o;this.coreTokenMicroServiceService=t;this.cmsToastrService=c;this.tokenHelper=C;this.cmsStoreService=l;this.cdr=x;this.publicHelper=oe;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new nt;this.dataModelResult=new R;this.dataModel=new Bt;this.formInfo=new ee;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>B(this,null,function*(){this.tokenInfo=a})),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Li.\u0275fac=function(e){return new(e||Li)(p(Z),p(Y),p(z),p(xt),p(F),p(H),p(P),p(V),p(j),p(G))},Li.\u0275cmp=U({type:Li,selectors:[["app-coretoken-microservice-view"]],viewQuery:function(e,o){if(e&1&&K(Mr,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(s(0,"div",0),m(1),r(),s(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),s(5,"div",4)(6,"div",5)(7,"small",6),m(8),r(),s(9,"small",7),m(10),r()()(),s(11,"div",8),T(12,Er,5,3,"div",9),r()),e&2&&(n(),f(" ",o.formInfo.formTitle," "),n(2),d("optionsInfoAreaId",o.constructorInfoAreaId),n(),d("dataModel",o.dataModel)("optionMethod",1),n(4),f("",o.formInfo.formAlert," "),n(2),f("",o.formInfo.formError," "),n(2),d("ngIf",o.formInfo.formSubmitAllow))},dependencies:[O,te,ct,N],encapsulation:2});var ho=Li;var Ar=()=>[5,10,20,100],kr=i=>({display:i}),yr=i=>({background:i});function Rr(i,a){if(i&1){let e=M();s(0,"a",51),w("click",function(){h(e);let t=u();return _(t.onActionBackToParent())}),v(1,"i",52),r()}}function Dr(i,a){if(i&1){let e=M();s(0,"div",18)(1,"a",53),w("click",function(){h(e);let t=u();return _(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",54)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.EDIT")))}function xr(i,a){if(i&1){let e=M();s(0,"div",18)(1,"a",55),w("click",function(){h(e);let t=u();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",56)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.DELETE")))}function Lr(i,a){if(i&1){let e=M();s(0,"div",18)(1,"a",57),w("click",function(){h(e);let t=u();return _(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",58)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.VIEW")))}function Ur(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Br(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),f(" ",e.id," ")}}function Vr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Or(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),f(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function Pr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Gr(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),f(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function Nr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Hr(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),f(" ",e.linkMemberUserId," ")}}function Fr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function jr(i,a){if(i&1&&v(0,"select",62),i&2){let e=u().$implicit,o=u();d("contentService",o.contentService)("row",e)("ngStyle",he(3,kr,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Wr(i,a){if(i&1&&(s(0,"mat-cell",60),S(1,"statusCellClass"),v(2,"i",60),S(3,"statusIconClass"),T(4,jr,1,5,"select",61),r()),i&2){let e=a.$implicit,o=u();d("ngClass",g(1,3,e.recordStatus)),n(2),d("ngClass",g(3,5,e.recordStatus)),n(2),d("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function qr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Qr(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=u();n(),f(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function zr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function Jr(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=u();n(),f(" ",ae(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Kr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function $r(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),d("ngClass",g(2,1,e.userAccessAdminAllowToAllData))}}function Xr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Yr(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),d("ngClass",g(2,1,e.userAccessAdminAllowToProfessionalData))}}function Zr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function ea(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),d("ngClass",g(2,1,e.rememberOnDevice))}}function ta(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ia(i,a){if(i&1&&(s(0,"mat-cell",63),m(1),S(2,"localeDateTime"),r()),i&2){let e=a.$implicit;n(),f(" ",g(2,1,e.createdDate)," ")}}function oa(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function na(i,a){if(i&1&&(s(0,"mat-cell",64),m(1),S(2,"persianDate"),r()),i&2){let e=a.$implicit,o=u();d("ngStyle",he(4,yr,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),f(" ",g(2,2,e.expireDate)," ")}}function ra(i,a){i&1&&(s(0,"mat-header-cell"),m(1),S(2,"translate"),r()),i&2&&(n(),f(" ",g(2,1,"TITLE.OPTION")," "))}function aa(i,a){if(i&1&&(s(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),r()(),v(4,"mat-menu",null,2),r()),i&2){let e=Q(5);n(),d("matMenuTriggerFor",e)}}function sa(i,a){i&1&&v(0,"mat-header-row")}function la(i,a){if(i&1){let e=M();s(0,"mat-row",67),w("click",function(){let t=h(e).$implicit,c=u();return _(c.onActionTableRowSelect(t))}),r()}if(i&2){let e=a.$implicit,o=a.dataIndex,t=u();ve("ntk-row-odd",o%2)("ntk-row-even",!(o%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Ui=class Ui extends Ke{constructor(e,o,t,c,C,l,x,oe,ie,le,tt,bt){super(e,new Bt,tt,C,x);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=c;this.tokenHelper=C;this.cdr=l;this.translate=x;this.cmsStoreService=oe;this.router=ie;this.pageInfo=le;this.publicHelper=tt;this.dialog=bt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ye;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new W;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new W;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new W;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Bt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(ho,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(So,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(C,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{o.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{o.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{o.set(x,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),C=new W;C.propertyName="RecordStatus",C.value=ke.Available,c.filters.push(C),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{o.set(x,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ui.\u0275fac=function(o){return new(o||Ui)(p(xt),p(F),p(ge),p(Ie),p(H),p(V),p(G),p(P),p(we),p(Qe),p(j),p(Ee))},Ui.\u0275cmp=U({type:Ui,selectors:[["app-coretoken-microservice-list"]],standalone:!1,features:[J],decls:89,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(o,t){if(o&1){let c=M();s(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(l){return h(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),_(l)}),w("optionOnActionButtonMemoRow",function(){return h(c),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),_(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),ne(3,5)(4,6),b(5,7),T(6,Rr,2,0,"a",8),s(7,"a",9),w("click",function(){return h(c),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),r(),s(9,"a",9),w("click",function(){return h(c),_(t.onActionButtonReload())}),v(10,"i",11),r(),I(),b(11,12),s(12,"a",13),w("click",function(){return h(c),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),r(),s(16,"a",13),w("click",function(){return h(c),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",14),m(18),S(19,"translate"),r(),I(),ne(20,15),b(21,16),T(22,Dr,7,3,"div",17)(23,xr,7,3,"div",17),s(24,"div",18)(25,"a",19),w("click",function(){return h(c),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(26,"i",20)(27,"br"),r(),s(28,"p",21),m(29),S(30,"translate"),r()(),s(31,"div",18)(32,"a",19),w("click",function(){return h(c),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(33,"i",22)(34,"br"),r(),s(35,"p",21),m(36),S(37,"translate"),r()(),T(38,Lr,7,3,"div",17),I(),b(39,23),s(40,"app-cms-search-list",24),y("optionsChange",function(l){return h(c),k(t.optionsSearch,l)||(t.optionsSearch=l),_(l)}),r(),s(41,"app-cms-statist-list",24),y("optionsChange",function(l){return h(c),k(t.optionsStatist,l)||(t.optionsStatist=l),_(l)}),r(),I(),b(42,25),s(43,"mat-table",26,0),w("matSortChange",function(){h(c);let l=Q(44);return _(t.onTableSortData(l))}),b(45,27),T(46,Ur,2,1,"mat-header-cell",28)(47,Br,2,1,"mat-cell",29),I(),b(48,30),T(49,Vr,2,1,"mat-header-cell",28)(50,Or,4,5,"mat-cell",29),I(),b(51,31),T(52,Pr,2,1,"mat-header-cell",28)(53,Gr,4,5,"mat-cell",29),I(),b(54,32),T(55,Nr,2,1,"mat-header-cell",28)(56,Hr,2,1,"mat-cell",29),I(),b(57,33),T(58,Fr,2,1,"mat-header-cell",28)(59,Wr,5,7,"mat-cell",34),I(),b(60,35),T(61,qr,2,1,"mat-header-cell",28)(62,Qr,3,4,"mat-cell",29),I(),b(63,36),T(64,zr,2,1,"mat-header-cell",28)(65,Jr,3,4,"mat-cell",29),I(),b(66,37),T(67,Kr,2,1,"mat-header-cell",28)(68,$r,3,3,"mat-cell",29),I(),b(69,38),T(70,Xr,2,1,"mat-header-cell",28)(71,Yr,3,3,"mat-cell",29),I(),b(72,39),T(73,Zr,2,1,"mat-header-cell",28)(74,ea,3,3,"mat-cell",29),I(),b(75,40),T(76,ta,2,1,"mat-header-cell",28)(77,ia,3,3,"mat-cell",41),I(),b(78,42),T(79,oa,2,1,"mat-header-cell",28)(80,na,3,6,"mat-cell",43),I(),b(81,44),T(82,ra,3,3,"mat-header-cell",45)(83,aa,6,1,"mat-cell",46),I(),T(84,sa,1,0,"mat-header-row",47)(85,la,1,6,"mat-row",48),r(),I(),b(86,49),s(87,"mat-paginator",50,1),w("page",function(l){return h(c),_(t.onTablePageingData(l))}),r(),I(),r()}o&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),d("ngIf",t.requestLinkSiteId>0),n(7),d("checked",t.optionsSearch.data.show),n(),f("",g(15,26,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),f("",g(19,28,"ACTION.STATIST")," "),n(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),D(g(30,30,"ACTION.SITE")),n(7),D(g(37,32,"ACTION.USER")),n(2),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(41),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Te(34,Ar)))},dependencies:[it,O,dt,Me,Ae,_e,Re,De,xe,Le,Ue,Be,Ve,Pe,Fe,Ge,Oe,je,Ne,He,We,qe,$e,Xe,Ye,ft,be,N,ht,et,ze,Ze,Je,ut,St,rt],encapsulation:2});var _o=Ui;var ca=["vform"];function ma(i,a){if(i&1){let e=M();s(0,"app-cms-enum-record-status-selector",7),y("modelChange",function(t){h(e);let c=u();return k(c.dataModel.recordStatus,t)||(c.dataModel.recordStatus=t),_(t)}),r()}if(i&2){let e=u();A("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function da(i,a){if(i&1){let e=M();s(0,"div",8)(1,"button",9),w("click",function(){h(e);let t=u();return _(t.onFormCancel())}),v(2,"i",10),m(3),S(4,"translate"),r()()}i&2&&(n(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var Bi=class Bi extends lt{constructor(e,o,t,c,C,l,x,oe,ie,le){super(c,new Ot,l,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreLogTokenConnectionService=c;this.cmsToastrService=C;this.publicHelper=l;this.cdr=x;this.tokenHelper=oe;this.cmsStoreService=ie;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new R;this.dataModel=new Ot;this.formInfo=new ee;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e})),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreLogTokenConnectionService.setAccessLoad(),this.coreLogTokenConnectionService.setAccessDataType(ot.Editor),this.coreLogTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Bi.\u0275fac=function(o){return new(o||Bi)(p(Z),p(Y),p(z),p(kt),p(F),p(j),p(V),p(H),p(P),p(G))},Bi.\u0275cmp=U({type:Bi,selectors:[["app-coretoken-notificationlog-edit"]],viewQuery:function(o,t){if(o&1&&K(ca,5),o&2){let c;$(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(s(0,"div",0),v(1,"app-progress-spinner",1),s(2,"div",2)(3,"p",3),m(4),r(),s(5,"p"),m(6),S(7,"translate"),r(),T(8,ma,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),S(10,"translate"),v(11,"app-cms-user-selector",5),S(12,"translate"),T(13,da,5,3,"div",6),r()()),o&2&&(n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),f(" ",t.formInfo.formTitle," "),n(2),f(" ",g(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",g(10,13,"TITLE.WEBSITE")),n(2),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",g(12,15,"TITLE.USER")),n(2),d("ngIf",t.formInfo.formSubmitAllow))},dependencies:[O,at,pt,st,te,N],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var go=Bi;var pa=["vform"];function fa(i,a){if(i&1){let e=M();s(0,"div",5)(1,"button",10),w("click",function(){h(e);let t=u();return _(t.onFormCancel())}),v(2,"i",11),m(3),S(4,"translate"),r()()}i&2&&(n(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var Vi=class Vi{constructor(a,e,o,t,c,C,l,x,oe,ie){this.data=a;this.dialogRef=e;this.coreEnumService=o;this.coreLogTokenConnectionService=t;this.cmsToastrService=c;this.tokenHelper=C;this.cmsStoreService=l;this.cdr=x;this.publicHelper=oe;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new nt;this.dataModelResult=new R;this.dataModel=new Ot;this.formInfo=new ee;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>B(this,null,function*(){this.tokenInfo=a})),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.coreLogTokenConnectionService.setAccessLoad(),this.coreLogTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vi.\u0275fac=function(e){return new(e||Vi)(p(Z),p(Y),p(z),p(kt),p(F),p(H),p(P),p(V),p(j),p(G))},Vi.\u0275cmp=U({type:Vi,selectors:[["app-core-token-notificationlog-view"]],viewQuery:function(e,o){if(e&1&&K(pa,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(s(0,"div",0),m(1),r(),s(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),s(5,"div",4)(6,"div",5)(7,"small",6),m(8),r(),s(9,"small",7),m(10),r()()(),s(11,"div",8),T(12,fa,5,3,"div",9),r()),e&2&&(n(),f(" ",o.formInfo.formTitle," "),n(2),d("optionsInfoAreaId",o.constructorInfoAreaId),n(),d("dataModel",o.dataModel)("optionMethod",1),n(4),f("",o.formInfo.formAlert," "),n(2),f("",o.formInfo.formError," "),n(2),d("ngIf",o.formInfo.formSubmitAllow))},dependencies:[O,te,ct,N],encapsulation:2});var vo=Vi;var ua=()=>[5,10,20,100],Sa=i=>({display:i}),Ca=i=>({background:i});function ha(i,a){if(i&1){let e=M();s(0,"a",51),w("click",function(){h(e);let t=u();return _(t.onActionBackToParent())}),v(1,"i",52),r()}}function _a(i,a){if(i&1){let e=M();s(0,"div",18)(1,"a",53),w("click",function(){h(e);let t=u();return _(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",54)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.EDIT")))}function ga(i,a){if(i&1){let e=M();s(0,"div",18)(1,"a",55),w("click",function(){h(e);let t=u();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",56)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.DELETE")))}function va(i,a){if(i&1){let e=M();s(0,"div",18)(1,"a",57),w("click",function(){h(e);let t=u();return _(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",58)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.VIEW")))}function Ta(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ba(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),f(" ",e.id," ")}}function Ia(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function wa(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),f(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function Ma(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Ea(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),f(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function Aa(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function ka(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),f(" ",e.linkMemberUserId," ")}}function ya(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ra(i,a){if(i&1&&v(0,"select",62),i&2){let e=u().$implicit,o=u();d("contentService",o.contentService)("row",e)("ngStyle",he(3,Sa,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Da(i,a){if(i&1&&(s(0,"mat-cell",60),S(1,"statusCellClass"),v(2,"i",60),S(3,"statusIconClass"),T(4,Ra,1,5,"select",61),r()),i&2){let e=a.$implicit,o=u();d("ngClass",g(1,3,e.recordStatus)),n(2),d("ngClass",g(3,5,e.recordStatus)),n(2),d("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function xa(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function La(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=u();n(),f(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Ua(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function Ba(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=u();n(),f(" ",ae(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Va(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Oa(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),d("ngClass",g(2,1,e.userAccessAdminAllowToAllData))}}function Pa(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Ga(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),d("ngClass",g(2,1,e.userAccessAdminAllowToProfessionalData))}}function Na(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Ha(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),d("ngClass",g(2,1,e.rememberOnDevice))}}function Fa(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ja(i,a){if(i&1&&(s(0,"mat-cell",63),m(1),S(2,"localeDateTime"),r()),i&2){let e=a.$implicit;n(),f(" ",g(2,1,e.createdDate)," ")}}function Wa(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function qa(i,a){if(i&1&&(s(0,"mat-cell",64),m(1),S(2,"persianDate"),r()),i&2){let e=a.$implicit,o=u();d("ngStyle",he(4,Ca,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),f(" ",g(2,2,e.expireDate)," ")}}function Qa(i,a){i&1&&(s(0,"mat-header-cell"),m(1),S(2,"translate"),r()),i&2&&(n(),f(" ",g(2,1,"TITLE.OPTION")," "))}function za(i,a){if(i&1&&(s(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),r()(),v(4,"mat-menu",null,2),r()),i&2){let e=Q(5);n(),d("matMenuTriggerFor",e)}}function Ja(i,a){i&1&&v(0,"mat-header-row")}function Ka(i,a){if(i&1){let e=M();s(0,"mat-row",67),w("click",function(){let t=h(e).$implicit,c=u();return _(c.onActionTableRowSelect(t))}),r()}if(i&2){let e=a.$implicit,o=a.dataIndex,t=u();ve("ntk-row-odd",o%2)("ntk-row-even",!(o%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Oi=class Oi extends Ke{constructor(e,o,t,c,C,l,x,oe,ie,le,tt,bt){super(e,new Ot,tt,C,x);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=c;this.tokenHelper=C;this.cdr=l;this.translate=x;this.cmsStoreService=oe;this.router=ie;this.pageInfo=le;this.publicHelper=tt;this.dialog=bt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ye;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new W;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new W;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new W;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ot);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(vo,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(go,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(C,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{o.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{o.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{o.set(x,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),C=new W;C.propertyName="RecordStatus",C.value=ke.Available,c.filters.push(C),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{o.set(x,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Oi.\u0275fac=function(o){return new(o||Oi)(p(kt),p(F),p(ge),p(Ie),p(H),p(V),p(G),p(P),p(we),p(Qe),p(j),p(Ee))},Oi.\u0275cmp=U({type:Oi,selectors:[["app-coretoken-notificationlog-list"]],standalone:!1,features:[J],decls:89,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(o,t){if(o&1){let c=M();s(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(l){return h(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),_(l)}),w("optionOnActionButtonMemoRow",function(){return h(c),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),_(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),ne(3,5)(4,6),b(5,7),T(6,ha,2,0,"a",8),s(7,"a",9),w("click",function(){return h(c),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),r(),s(9,"a",9),w("click",function(){return h(c),_(t.onActionButtonReload())}),v(10,"i",11),r(),I(),b(11,12),s(12,"a",13),w("click",function(){return h(c),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),r(),s(16,"a",13),w("click",function(){return h(c),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",14),m(18),S(19,"translate"),r(),I(),ne(20,15),b(21,16),T(22,_a,7,3,"div",17)(23,ga,7,3,"div",17),s(24,"div",18)(25,"a",19),w("click",function(){return h(c),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(26,"i",20)(27,"br"),r(),s(28,"p",21),m(29),S(30,"translate"),r()(),s(31,"div",18)(32,"a",19),w("click",function(){return h(c),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(33,"i",22)(34,"br"),r(),s(35,"p",21),m(36),S(37,"translate"),r()(),T(38,va,7,3,"div",17),I(),b(39,23),s(40,"app-cms-search-list",24),y("optionsChange",function(l){return h(c),k(t.optionsSearch,l)||(t.optionsSearch=l),_(l)}),r(),s(41,"app-cms-statist-list",24),y("optionsChange",function(l){return h(c),k(t.optionsStatist,l)||(t.optionsStatist=l),_(l)}),r(),I(),b(42,25),s(43,"mat-table",26,0),w("matSortChange",function(){h(c);let l=Q(44);return _(t.onTableSortData(l))}),b(45,27),T(46,Ta,2,1,"mat-header-cell",28)(47,ba,2,1,"mat-cell",29),I(),b(48,30),T(49,Ia,2,1,"mat-header-cell",28)(50,wa,4,5,"mat-cell",29),I(),b(51,31),T(52,Ma,2,1,"mat-header-cell",28)(53,Ea,4,5,"mat-cell",29),I(),b(54,32),T(55,Aa,2,1,"mat-header-cell",28)(56,ka,2,1,"mat-cell",29),I(),b(57,33),T(58,ya,2,1,"mat-header-cell",28)(59,Da,5,7,"mat-cell",34),I(),b(60,35),T(61,xa,2,1,"mat-header-cell",28)(62,La,3,4,"mat-cell",29),I(),b(63,36),T(64,Ua,2,1,"mat-header-cell",28)(65,Ba,3,4,"mat-cell",29),I(),b(66,37),T(67,Va,2,1,"mat-header-cell",28)(68,Oa,3,3,"mat-cell",29),I(),b(69,38),T(70,Pa,2,1,"mat-header-cell",28)(71,Ga,3,3,"mat-cell",29),I(),b(72,39),T(73,Na,2,1,"mat-header-cell",28)(74,Ha,3,3,"mat-cell",29),I(),b(75,40),T(76,Fa,2,1,"mat-header-cell",28)(77,ja,3,3,"mat-cell",41),I(),b(78,42),T(79,Wa,2,1,"mat-header-cell",28)(80,qa,3,6,"mat-cell",43),I(),b(81,44),T(82,Qa,3,3,"mat-header-cell",45)(83,za,6,1,"mat-cell",46),I(),T(84,Ja,1,0,"mat-header-row",47)(85,Ka,1,6,"mat-row",48),r(),I(),b(86,49),s(87,"mat-paginator",50,1),w("page",function(l){return h(c),_(t.onTablePageingData(l))}),r(),I(),r()}o&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),d("ngIf",t.requestLinkSiteId>0),n(7),d("checked",t.optionsSearch.data.show),n(),f("",g(15,26,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),f("",g(19,28,"ACTION.STATIST")," "),n(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),D(g(30,30,"ACTION.SITE")),n(7),D(g(37,32,"ACTION.USER")),n(2),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(41),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Te(34,ua)))},dependencies:[it,O,dt,Me,Ae,_e,Re,De,xe,Le,Ue,Be,Ve,Pe,Fe,Ge,Oe,je,Ne,He,We,qe,$e,Xe,Ye,ft,be,N,ht,et,ze,Ze,Je,ut,St,rt],encapsulation:2});var To=Oi;var $a=["vform"];function Xa(i,a){if(i&1){let e=M();s(0,"app-cms-enum-record-status-selector",8),y("modelChange",function(t){h(e);let c=u();return k(c.dataModel.recordStatus,t)||(c.dataModel.recordStatus=t),_(t)}),r()}if(i&2){let e=u();A("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ya(i,a){if(i&1&&(s(0,"div"),v(1,"div",9),S(2,"prettyjson"),r()),i&2){let e=u();n(),d("innerHTML",g(2,1,e.dataModel),gt)}}function Za(i,a){if(i&1){let e=M();s(0,"div",10)(1,"button",11),w("click",function(){h(e);let t=u();return _(t.onFormCancel())}),v(2,"i",12),m(3),S(4,"translate"),r()()}i&2&&(n(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var Pi=class Pi extends lt{constructor(e,o,t,c,C,l,x,oe,ie,le){super(c,new _t,ie,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenConnectionService=c;this.cmsToastrService=C;this.tokenHelper=l;this.cmsStoreService=x;this.cdr=oe;this.publicHelper=ie;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Mt;this.dataModel=new _t;this.formInfo=new ee;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e})),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenConnectionService.setAccessLoad(),this.coreTokenConnectionService.setAccessDataType(ot.Editor),this.coreTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Pi.\u0275fac=function(o){return new(o||Pi)(p(Z),p(Y),p(z),p(vt),p(F),p(H),p(P),p(V),p(j),p(G))},Pi.\u0275cmp=U({type:Pi,selectors:[["app-coretoken-notification-edit"]],viewQuery:function(o,t){if(o&1&&K($a,5),o&2){let c;$(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:15,vars:18,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(s(0,"div",0),v(1,"app-progress-spinner",1),s(2,"div",2)(3,"p",3),m(4),r(),s(5,"p"),m(6),S(7,"translate"),r(),T(8,Xa,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),S(10,"translate"),v(11,"app-cms-user-selector",5),S(12,"translate"),T(13,Ya,3,3,"div",6)(14,Za,5,3,"div",7),r()()),o&2&&(n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),f(" ",t.formInfo.formTitle," "),n(2),f(" ",g(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",g(10,14,"TITLE.WEBSITE")),n(2),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",g(12,16,"TITLE.USER")),n(2),d("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(),d("ngIf",t.formInfo.formSubmitAllow))},dependencies:[O,at,pt,st,te,N,Tt],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Gi=Pi;var es=["vform"];function ts(i,a){if(i&1){let e=M();s(0,"div",5)(1,"button",10),w("click",function(){h(e);let t=u();return _(t.onFormCancel())}),v(2,"i",11),m(3),S(4,"translate"),r()()}i&2&&(n(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var Ni=class Ni{constructor(a,e,o,t,c,C,l,x,oe,ie){this.data=a;this.dialogRef=e;this.coreEnumService=o;this.coreTokenConnectionService=t;this.cmsToastrService=c;this.tokenHelper=C;this.cmsStoreService=l;this.cdr=x;this.publicHelper=oe;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new nt;this.dataModelResult=new R;this.dataModel=new _t;this.formInfo=new ee;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>B(this,null,function*(){this.tokenInfo=a})),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.coreTokenConnectionService.setAccessLoad(),this.coreTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ni.\u0275fac=function(e){return new(e||Ni)(p(Z),p(Y),p(z),p(vt),p(F),p(H),p(P),p(V),p(j),p(G))},Ni.\u0275cmp=U({type:Ni,selectors:[["app-coretoken-notification-view"]],viewQuery:function(e,o){if(e&1&&K(es,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(s(0,"div",0),m(1),r(),s(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),s(5,"div",4)(6,"div",5)(7,"small",6),m(8),r(),s(9,"small",7),m(10),r()()(),s(11,"div",8),T(12,ts,5,3,"div",9),r()),e&2&&(n(),f(" ",o.formInfo.formTitle," "),n(2),d("optionsInfoAreaId",o.constructorInfoAreaId),n(),d("dataModel",o.dataModel)("optionMethod",1),n(4),f("",o.formInfo.formAlert," "),n(2),f("",o.formInfo.formError," "),n(2),d("ngIf",o.formInfo.formSubmitAllow))},dependencies:[O,te,ct,N],encapsulation:2});var Hi=Ni;var is=()=>[5,10,20,100],os=i=>({display:i}),ns=i=>({background:i});function rs(i,a){if(i&1){let e=M();s(0,"a",51),w("click",function(){h(e);let t=u();return _(t.onActionBackToParent())}),v(1,"i",52),r()}}function as(i,a){if(i&1){let e=M();s(0,"div",18)(1,"a",53),w("click",function(){h(e);let t=u();return _(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",54)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.EDIT")))}function ss(i,a){if(i&1){let e=M();s(0,"div",18)(1,"a",55),w("click",function(){h(e);let t=u();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",56)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.DELETE")))}function ls(i,a){if(i&1){let e=M();s(0,"div",18)(1,"a",57),w("click",function(){h(e);let t=u();return _(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",58)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.VIEW")))}function cs(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ms(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),f(" ",e.id," ")}}function ds(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ps(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),f(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function fs(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function us(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),f(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function Ss(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Cs(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),f(" ",e.linkMemberUserId," ")}}function hs(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function _s(i,a){if(i&1&&v(0,"select",62),i&2){let e=u().$implicit,o=u();d("contentService",o.contentService)("row",e)("ngStyle",he(3,os,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function gs(i,a){if(i&1&&(s(0,"mat-cell",60),S(1,"statusCellClass"),v(2,"i",60),S(3,"statusIconClass"),T(4,_s,1,5,"select",61),r()),i&2){let e=a.$implicit,o=u();d("ngClass",g(1,3,e.recordStatus)),n(2),d("ngClass",g(3,5,e.recordStatus)),n(2),d("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function vs(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ts(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=u();n(),f(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function bs(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function Is(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=u();n(),f(" ",ae(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function ws(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Ms(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),d("ngClass",g(2,1,e.userAccessAdminAllowToAllData))}}function Es(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function As(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),d("ngClass",g(2,1,e.userAccessAdminAllowToProfessionalData))}}function ks(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function ys(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),d("ngClass",g(2,1,e.rememberOnDevice))}}function Rs(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Ds(i,a){if(i&1&&(s(0,"mat-cell",63),m(1),S(2,"localeDateTime"),r()),i&2){let e=a.$implicit;n(),f(" ",g(2,1,e.createdDate)," ")}}function xs(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Ls(i,a){if(i&1&&(s(0,"mat-cell",64),m(1),S(2,"persianDate"),r()),i&2){let e=a.$implicit,o=u();d("ngStyle",he(4,ns,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),f(" ",g(2,2,e.expireDate)," ")}}function Us(i,a){i&1&&(s(0,"mat-header-cell"),m(1),S(2,"translate"),r()),i&2&&(n(),f(" ",g(2,1,"TITLE.OPTION")," "))}function Bs(i,a){if(i&1&&(s(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),r()(),v(4,"mat-menu",null,2),r()),i&2){let e=Q(5);n(),d("matMenuTriggerFor",e)}}function Vs(i,a){i&1&&v(0,"mat-header-row")}function Os(i,a){if(i&1){let e=M();s(0,"mat-row",67),w("click",function(){let t=h(e).$implicit,c=u();return _(c.onActionTableRowSelect(t))}),r()}if(i&2){let e=a.$implicit,o=a.dataIndex,t=u();ve("ntk-row-odd",o%2)("ntk-row-even",!(o%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Fi=class Fi extends Ke{constructor(e,o,t,c,C,l,x,oe,ie,le,tt,bt){super(e,new _t,tt,C,x);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=c;this.tokenHelper=C;this.cdr=l;this.translate=x;this.cmsStoreService=oe;this.router=ie;this.pageInfo=le;this.publicHelper=tt;this.dialog=bt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ye;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new W;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new W;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new W;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new _t);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Hi,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Gi,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(C,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{o.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{o.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{o.set(x,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),C=new W;C.propertyName="RecordStatus",C.value=ke.Available,c.filters.push(C),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{o.set(x,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Fi.\u0275fac=function(o){return new(o||Fi)(p(vt),p(F),p(ge),p(Ie),p(H),p(V),p(G),p(P),p(we),p(Qe),p(j),p(Ee))},Fi.\u0275cmp=U({type:Fi,selectors:[["app-coretoken-notification-list"]],standalone:!1,features:[J],decls:89,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(o,t){if(o&1){let c=M();s(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(l){return h(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),_(l)}),w("optionOnActionButtonMemoRow",function(){return h(c),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),_(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),ne(3,5)(4,6),b(5,7),T(6,rs,2,0,"a",8),s(7,"a",9),w("click",function(){return h(c),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),r(),s(9,"a",9),w("click",function(){return h(c),_(t.onActionButtonReload())}),v(10,"i",11),r(),I(),b(11,12),s(12,"a",13),w("click",function(){return h(c),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),r(),s(16,"a",13),w("click",function(){return h(c),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",14),m(18),S(19,"translate"),r(),I(),ne(20,15),b(21,16),T(22,as,7,3,"div",17)(23,ss,7,3,"div",17),s(24,"div",18)(25,"a",19),w("click",function(){return h(c),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(26,"i",20)(27,"br"),r(),s(28,"p",21),m(29),S(30,"translate"),r()(),s(31,"div",18)(32,"a",19),w("click",function(){return h(c),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(33,"i",22)(34,"br"),r(),s(35,"p",21),m(36),S(37,"translate"),r()(),T(38,ls,7,3,"div",17),I(),b(39,23),s(40,"app-cms-search-list",24),y("optionsChange",function(l){return h(c),k(t.optionsSearch,l)||(t.optionsSearch=l),_(l)}),r(),s(41,"app-cms-statist-list",24),y("optionsChange",function(l){return h(c),k(t.optionsStatist,l)||(t.optionsStatist=l),_(l)}),r(),I(),b(42,25),s(43,"mat-table",26,0),w("matSortChange",function(){h(c);let l=Q(44);return _(t.onTableSortData(l))}),b(45,27),T(46,cs,2,1,"mat-header-cell",28)(47,ms,2,1,"mat-cell",29),I(),b(48,30),T(49,ds,2,1,"mat-header-cell",28)(50,ps,4,5,"mat-cell",29),I(),b(51,31),T(52,fs,2,1,"mat-header-cell",28)(53,us,4,5,"mat-cell",29),I(),b(54,32),T(55,Ss,2,1,"mat-header-cell",28)(56,Cs,2,1,"mat-cell",29),I(),b(57,33),T(58,hs,2,1,"mat-header-cell",28)(59,gs,5,7,"mat-cell",34),I(),b(60,35),T(61,vs,2,1,"mat-header-cell",28)(62,Ts,3,4,"mat-cell",29),I(),b(63,36),T(64,bs,2,1,"mat-header-cell",28)(65,Is,3,4,"mat-cell",29),I(),b(66,37),T(67,ws,2,1,"mat-header-cell",28)(68,Ms,3,3,"mat-cell",29),I(),b(69,38),T(70,Es,2,1,"mat-header-cell",28)(71,As,3,3,"mat-cell",29),I(),b(72,39),T(73,ks,2,1,"mat-header-cell",28)(74,ys,3,3,"mat-cell",29),I(),b(75,40),T(76,Rs,2,1,"mat-header-cell",28)(77,Ds,3,3,"mat-cell",41),I(),b(78,42),T(79,xs,2,1,"mat-header-cell",28)(80,Ls,3,6,"mat-cell",43),I(),b(81,44),T(82,Us,3,3,"mat-header-cell",45)(83,Bs,6,1,"mat-cell",46),I(),T(84,Vs,1,0,"mat-header-row",47)(85,Os,1,6,"mat-row",48),r(),I(),b(86,49),s(87,"mat-paginator",50,1),w("page",function(l){return h(c),_(t.onTablePageingData(l))}),r(),I(),r()}o&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),d("ngIf",t.requestLinkSiteId>0),n(7),d("checked",t.optionsSearch.data.show),n(),f("",g(15,26,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),f("",g(19,28,"ACTION.STATIST")," "),n(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),D(g(30,30,"ACTION.SITE")),n(7),D(g(37,32,"ACTION.USER")),n(2),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(41),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Te(34,is)))},dependencies:[it,O,dt,Me,Ae,_e,Re,De,xe,Le,Ue,Be,Ve,Pe,Fe,Ge,Oe,je,Ne,He,We,qe,$e,Xe,Ye,ft,be,N,ht,et,ze,Ze,Je,ut,St,rt],encapsulation:2});var bo=Fi;var Gs=["vform"];function Ns(i,a){if(i&1){let e=M();s(0,"app-cms-enum-record-status-selector",38),y("modelChange",function(t){h(e);let c=u();return k(c.dataModel.recordStatus,t)||(c.dataModel.recordStatus=t),_(t)}),r()}if(i&2){let e=u();A("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Hs(i,a){if(i&1&&(s(0,"option",39),m(1),r()),i&2){let e=a.$implicit;d("value",e.value),n(),f(" ",e.description," ")}}function Fs(i,a){i&1&&(s(0,"mat-error"),m(1," LinkMemberId is "),s(2,"strong"),m(3),S(4,"translate"),r()()),i&2&&(n(3),D(g(4,1,"MESSAGE.required")))}function js(i,a){if(i&1&&(s(0,"option",39),m(1),r()),i&2){let e=a.$implicit;d("value",e.value),n(),f(" ",e.description," ")}}function Ws(i,a){i&1&&(s(0,"mat-error"),m(1," UserAccessAreaType is "),s(2,"strong"),m(3),S(4,"translate"),r()()),i&2&&(n(3),D(g(4,1,"MESSAGE.required")))}function qs(i,a){if(i&1){let e=M();s(0,"div",40)(1,"div",41)(2,"h5",42),m(3),r()(),s(4,"div",43)(5,"div",44)(6,"input",45),y("ngModelChange",function(t){h(e);let c=u();return k(c.dataModel.userAccessAdminAllowToAllData,t)||(c.dataModel.userAccessAdminAllowToAllData=t),_(t)}),r(),v(7,"label",46),r()()()}if(i&2){let e=u();n(3),f(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," "),n(3),A("ngModel",e.dataModel.userAccessAdminAllowToAllData)}}function Qs(i,a){if(i&1){let e=M();s(0,"div",40)(1,"div",41)(2,"h5",47),m(3),r()(),s(4,"div",43)(5,"div",44)(6,"input",48),y("ngModelChange",function(t){h(e);let c=u();return k(c.dataModel.userAccessAdminAllowToProfessionalData,t)||(c.dataModel.userAccessAdminAllowToProfessionalData=t),_(t)}),r(),v(7,"label",49),r()()()}if(i&2){let e=u();n(3),f(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," "),n(3),A("ngModel",e.dataModel.userAccessAdminAllowToProfessionalData)}}function zs(i,a){if(i&1){let e=M();s(0,"div",40)(1,"div",41)(2,"h5",50),m(3),r()(),s(4,"div",43)(5,"div",44)(6,"input",51),y("ngModelChange",function(t){h(e);let c=u();return k(c.dataModel.rememberOnDevice,t)||(c.dataModel.rememberOnDevice=t),_(t)}),r(),v(7,"label",52),r()()()}if(i&2){let e=u();n(3),f(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," "),n(3),A("ngModel",e.dataModel.rememberOnDevice)}}function Js(i,a){if(i&1){let e=M();s(0,"div",53)(1,"label",54),m(2),r(),s(3,"input",55),y("ngModelChange",function(t){h(e);let c=u();return k(c.dataModel.tokenExpireDate,t)||(c.dataModel.tokenExpireDate=t),_(t)}),r(),v(4,"mat-datepicker-toggle",56)(5,"mat-datepicker",57,9),r()}if(i&2){let e=Q(6),o=u();n(2),D(o.fieldsInfo.tokenExpireDate==null?null:o.fieldsInfo.tokenExpireDate.fieldTitle),n(),d("matDatepicker",e),A("ngModel",o.dataModel.tokenExpireDate),n(),d("for",e)}}function Ks(i,a){if(i&1&&(s(0,"div"),v(1,"div",58),S(2,"prettyjson"),r()),i&2){let e=u();n(),d("innerHTML",g(2,1,e.dataModel),gt)}}function $s(i,a){if(i&1){let e=M();s(0,"div",59)(1,"button",60),w("click",function(){h(e);let t=u();return _(t.onFormCancel())}),v(2,"i",61),m(3),S(4,"translate"),r(),s(5,"button",62),v(6,"i",63),m(7),S(8,"translate"),r()()}if(i&2){u();let e=Q(9);n(3),f(" ",g(4,3,"ACTION.CANCEL")," "),n(2),d("disabled",!e.form.valid),n(2),f(" ",g(8,5,"ACTION.SAVE")," ")}}var ji=class ji extends lt{constructor(e,o,t,c,C,l,x,oe,ie,le){super(c,new Lt,oe,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenUserService=c;this.cmsToastrService=C;this.tokenHelper=l;this.cmsStoreService=x;this.publicHelper=oe;this.cdr=ie;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Mt;this.dataModel=new Lt;this.formInfo=new ee;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e})),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.setAccessDataType(ot.Editor),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenUserService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorEdit(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onActionSiteSelect(e){e&&e.id>0&&(this.dataModel.linkSiteId=e.id)}onActionUserSelect(e){e&&e.id>0&&(this.dataModel.linkUserId=e.id)}onActionMemberSelect(e){e&&e.id?.length>0&&(this.dataModel.linkMemberId=e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ji.\u0275fac=function(o){return new(o||ji)(p(Z),p(Y),p(z),p(Rt),p(F),p(H),p(P),p(j),p(V),p(G))},ji.\u0275cmp=U({type:ji,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&K(Gs,5),o&2){let c;$(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:69,vars:45,consts:[["vform","ngForm"],["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["DeviceClientMAC",""],["Token",""],["LinkDeviceId",""],["LinkApplicationId",""],["tokenExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(o,t){if(o&1){let c=M();s(0,"div",10),v(1,"app-progress-spinner",11),s(2,"div",12)(3,"p",13),m(4),r(),s(5,"p"),m(6),S(7,"translate"),r(),s(8,"form",14,0),w("ngSubmit",function(){return h(c),_(t.onFormSubmit())}),T(10,Ns,1,5,"app-cms-enum-record-status-selector",15),s(11,"div",16)(12,"select",17,1),y("ngModelChange",function(l){return h(c),k(t.dataModel.linkMemberId,l)||(t.dataModel.linkMemberId=l),_(l)}),T(14,Hs,2,2,"option",18),r(),s(15,"em"),m(16),S(17,"translate"),r(),T(18,Fs,5,3,"mat-error",19),r(),s(19,"div",16)(20,"select",20,2),y("ngModelChange",function(l){return h(c),k(t.dataModel.userAccessAreaType,l)||(t.dataModel.userAccessAreaType=l),_(l)}),T(22,js,2,2,"option",18),r(),s(23,"em"),m(24),S(25,"translate"),r(),T(26,Ws,5,3,"mat-error",19),r(),s(27,"app-cms-site-selector",21),S(28,"translate"),w("optionChange",function(l){return h(c),_(t.onActionSiteSelect(l))}),r(),s(29,"app-cms-user-selector",21),S(30,"translate"),w("optionChange",function(l){return h(c),_(t.onActionUserSelect(l))}),r(),s(31,"app-cms-member-selector",21),S(32,"translate"),w("optionChange",function(l){return h(c),_(t.onActionMemberSelect(l))}),r(),T(33,qs,8,2,"div",22)(34,Qs,8,2,"div",22)(35,zs,8,2,"div",22),s(36,"div",23)(37,"label",24),m(38,"BrowserLanguage"),r(),s(39,"input",25,3),y("ngModelChange",function(l){return h(c),k(t.dataModel.browserLanguage,l)||(t.dataModel.browserLanguage=l),_(l)}),r()(),s(41,"div",23)(42,"label",26),m(43,"UserLanguage"),r(),s(44,"input",27,4),y("ngModelChange",function(l){return h(c),k(t.dataModel.userLanguage,l)||(t.dataModel.userLanguage=l),_(l)}),r()(),s(46,"div",23)(47,"label",28),m(48,"DeviceClientMAC"),r(),s(49,"input",29,5),y("ngModelChange",function(l){return h(c),k(t.dataModel.deviceClientMAC,l)||(t.dataModel.deviceClientMAC=l),_(l)}),r()(),s(51,"div",23)(52,"label",30),m(53,"Token"),r(),s(54,"input",31,6),y("ngModelChange",function(l){return h(c),k(t.dataModel.token,l)||(t.dataModel.token=l),_(l)}),r()(),s(56,"div",23)(57,"label",32),m(58,"LinkDeviceId"),r(),s(59,"input",33,7),y("ngModelChange",function(l){return h(c),k(t.dataModel.linkDeviceId,l)||(t.dataModel.linkDeviceId=l),_(l)}),r()(),s(61,"div",23)(62,"label",34),m(63,"LinkApplicationId"),r(),s(64,"input",35,8),y("ngModelChange",function(l){return h(c),k(t.dataModel.linkApplicationId,l)||(t.dataModel.linkApplicationId=l),_(l)}),r()(),T(66,Js,7,4,"div",36)(67,Ks,3,3,"div",19)(68,$s,9,7,"div",37),r()()()}if(o&2){let c=Q(13),C=Q(21);n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),f(" ",t.formInfo.formTitle," "),n(2),f(" ",g(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(2),A("ngModel",t.dataModel.linkMemberId),n(2),d("ngForOf",t.dataModelEnumManageUserAccessUserTypesResult.listItems),n(2),D(g(17,35,"TITLE.SELECT_STATUS")),n(2),d("ngIf",c.errors==null?null:c.errors.required),n(2),A("ngModel",t.dataModel.userAccessAreaType),n(2),d("ngForOf",t.dataModelEnumManageUserAccessAreaTypesResult.listItems),n(2),D(g(25,37,"TITLE.SELECT_STATUS")),n(2),d("ngIf",C.errors==null?null:C.errors.required),n(),d("optionDisabled",!1)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",g(28,39,"TITLE.WEBSITE")),n(2),d("optionDisabled",!1)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",g(30,41,"TITLE.USER")),n(2),d("optionDisabled",!1)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",g(32,43,"TITLE.Member")),n(2),d("ngIf",t.fieldsInfo.userAccessAdminAllowToAllData==null?null:t.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),n(),d("ngIf",t.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),n(),d("ngIf",t.fieldsInfo.rememberOnDevice==null?null:t.fieldsInfo.rememberOnDevice.accessWatchField),n(4),A("ngModel",t.dataModel.browserLanguage),n(5),A("ngModel",t.dataModel.userLanguage),n(5),A("ngModel",t.dataModel.deviceClientMAC),n(5),A("ngModel",t.dataModel.token),n(5),A("ngModel",t.dataModel.linkDeviceId),n(5),A("ngModel",t.dataModel.linkApplicationId),n(2),d("ngIf",t.fieldsInfo.tokenExpireDate==null?null:t.fieldsInfo.tokenExpireDate.accessWatchField),n(),d("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[pi,O,Bo,hi,_i,fi,io,Ci,ui,Lo,Si,Uo,no,ro,ao,gi,oo,_e,at,pt,st,vi,te,N,Tt],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Io=ji;var Xs=["vform"];function Ys(i,a){if(i&1){let e=M();s(0,"div",5)(1,"button",10),w("click",function(){h(e);let t=u();return _(t.onFormCancel())}),v(2,"i",11),m(3),S(4,"translate"),r()()}i&2&&(n(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var Wi=class Wi{constructor(a,e,o,t,c,C,l,x,oe,ie){this.data=a;this.dialogRef=e;this.coreEnumService=o;this.coreTokenUserService=t;this.cmsToastrService=c;this.tokenHelper=C;this.cmsStoreService=l;this.cdr=x;this.publicHelper=oe;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new nt;this.dataModelResult=new R;this.dataModel=new Lt;this.formInfo=new ee;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>B(this,null,function*(){this.tokenInfo=a})),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Wi.\u0275fac=function(e){return new(e||Wi)(p(Z),p(Y),p(z),p(Rt),p(F),p(H),p(P),p(V),p(j),p(G))},Wi.\u0275cmp=U({type:Wi,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&K(Xs,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(s(0,"div",0),m(1),r(),s(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),s(5,"div",4)(6,"div",5)(7,"small",6),m(8),r(),s(9,"small",7),m(10),r()()(),s(11,"div",8),T(12,Ys,5,3,"div",9),r()),e&2&&(n(),f(" ",o.formInfo.formTitle," "),n(2),d("optionsInfoAreaId",o.constructorInfoAreaId),n(),d("dataModel",o.dataModel)("optionMethod",1),n(4),f("",o.formInfo.formAlert," "),n(2),f("",o.formInfo.formError," "),n(2),d("ngIf",o.formInfo.formSubmitAllow))},dependencies:[O,te,ct,N],encapsulation:2});var wo=Wi;var Zs=()=>[5,10,20,100],el=i=>({display:i});function tl(i,a){if(i&1){let e=M();s(0,"a",52),w("click",function(){h(e);let t=u();return _(t.onActionBackToParent())}),v(1,"i",53),r()}}function il(i,a){if(i&1){let e=M();s(0,"div",18)(1,"a",54),w("click",function(){h(e);let t=u();return _(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",55)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.EDIT")))}function ol(i,a){if(i&1){let e=M();s(0,"div",18)(1,"a",56),w("click",function(){h(e);let t=u();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",57)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.DELETE")))}function nl(i,a){if(i&1){let e=M();s(0,"div",18)(1,"a",58),w("click",function(){h(e);let t=u();return _(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",59)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.VIEW")))}function rl(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function al(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),f(" ",e.id," ")}}function sl(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ll(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),f(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function cl(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function ml(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),f(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function dl(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function pl(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),f(" ",e.linkMemberId," ")}}function fl(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ul(i,a){if(i&1&&v(0,"select",63),i&2){let e=u().$implicit,o=u();d("contentService",o.contentService)("row",e)("ngStyle",he(3,el,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Sl(i,a){if(i&1&&(s(0,"mat-cell",61),S(1,"statusCellClass"),v(2,"i",61),S(3,"statusIconClass"),T(4,ul,1,5,"select",62),r()),i&2){let e=a.$implicit,o=u();d("ngClass",g(1,3,e.recordStatus)),n(2),d("ngClass",g(3,5,e.recordStatus)),n(2),d("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function Cl(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function hl(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=u();n(),f(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function _l(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function gl(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=u();n(),f(" ",ae(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function vl(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Tl(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",61),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),d("ngClass",g(2,1,e.userAccessAdminAllowToAllData))}}function bl(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Il(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",61),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),d("ngClass",g(2,1,e.userAccessAdminAllowToProfessionalData))}}function wl(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Ml(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",61),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),d("ngClass",g(2,1,e.rememberOnDevice))}}function El(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Al(i,a){if(i&1&&(s(0,"mat-cell",64),m(1),S(2,"localeDateTime"),r()),i&2){let e=a.$implicit;n(),f(" ",g(2,1,e.createdDate)," ")}}function kl(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.tokenExpireDate==null?null:e.fieldsInfo.tokenExpireDate.fieldTitle," ")}}function yl(i,a){if(i&1&&(s(0,"mat-cell",64),m(1),S(2,"localeDateTime"),r()),i&2){let e=a.$implicit;n(),f(" ",g(2,1,e.tokenExpireDate)," ")}}function Rl(i,a){i&1&&(s(0,"mat-header-cell"),m(1),S(2,"translate"),r()),i&2&&(n(),f(" ",g(2,1,"TITLE.OPTION")," "))}function Dl(i,a){if(i&1&&(s(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),r()(),v(4,"mat-menu",null,2),r()),i&2){let e=Q(5);n(),d("matMenuTriggerFor",e)}}function xl(i,a){i&1&&v(0,"mat-header-row")}function Ll(i,a){if(i&1){let e=M();s(0,"mat-row",67),w("click",function(){let t=h(e).$implicit,c=u();return _(c.onActionTableRowSelect(t))}),r()}if(i&2){let e=a.$implicit,o=a.dataIndex,t=u();ve("ntk-row-odd",o%2)("ntk-row-even",!(o%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var qi=class qi extends Ke{constructor(e,o,t,c,C,l,x,oe,ie,le,tt,bt){super(e,new Lt,tt,C,x);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=c;this.tokenHelper=C;this.cdr=l;this.translate=x;this.cmsStoreService=oe;this.router=ie;this.pageInfo=le;this.publicHelper=tt;this.dialog=bt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ye;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new W;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new W;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new W;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Lt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(wo,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Io,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(C,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{o.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{o.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{o.set(x,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),C=new W;C.propertyName="RecordStatus",C.value=ke.Available,c.filters.push(C),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{o.set(x,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};qi.\u0275fac=function(o){return new(o||qi)(p(Rt),p(F),p(ge),p(Ie),p(H),p(V),p(G),p(P),p(we),p(Qe),p(j),p(Ee))},qi.\u0275cmp=U({type:qi,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[J],decls:103,vars:41,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","tokenExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(o,t){if(o&1){let c=M();s(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(l){return h(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),_(l)}),w("optionOnActionButtonMemoRow",function(){return h(c),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),_(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),ne(3,5)(4,6),b(5,7),T(6,tl,2,0,"a",8),s(7,"a",9),w("click",function(){return h(c),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),r(),s(9,"a",9),w("click",function(){return h(c),_(t.onActionButtonReload())}),v(10,"i",11),r(),I(),b(11,12),s(12,"a",13),w("click",function(){return h(c),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),r(),s(16,"a",13),w("click",function(){return h(c),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",14),m(18),S(19,"translate"),r(),I(),ne(20,15),b(21,16),T(22,il,7,3,"div",17)(23,ol,7,3,"div",17),s(24,"div",18)(25,"a",19),w("click",function(){return h(c),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(26,"i",20)(27,"br"),r(),s(28,"p",21),m(29),S(30,"translate"),r()(),s(31,"div",18)(32,"a",19),w("click",function(){return h(c),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(33,"i",22)(34,"br"),r(),s(35,"p",21),m(36),S(37,"translate"),r()(),s(38,"div",18)(39,"a",19),w("click",function(){return h(c),_(t.onActionButtonViewMemberRow(t.tableRowSelected))}),v(40,"i",23)(41,"br"),r(),s(42,"p",21),m(43),S(44,"translate"),r()(),s(45,"div",18)(46,"a",19),w("click",function(){return h(c),_(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),v(47,"i",24)(48,"br"),r(),s(49,"p",21),m(50),S(51,"translate"),r()(),T(52,nl,7,3,"div",17),I(),b(53,25),s(54,"app-cms-search-list",26),y("optionsChange",function(l){return h(c),k(t.optionsSearch,l)||(t.optionsSearch=l),_(l)}),r(),s(55,"app-cms-statist-list",26),y("optionsChange",function(l){return h(c),k(t.optionsStatist,l)||(t.optionsStatist=l),_(l)}),r(),I(),b(56,27),s(57,"mat-table",28,0),w("matSortChange",function(){h(c);let l=Q(58);return _(t.onTableSortData(l))}),b(59,29),T(60,rl,2,1,"mat-header-cell",30)(61,al,2,1,"mat-cell",31),I(),b(62,32),T(63,sl,2,1,"mat-header-cell",30)(64,ll,4,5,"mat-cell",31),I(),b(65,33),T(66,cl,2,1,"mat-header-cell",30)(67,ml,4,5,"mat-cell",31),I(),b(68,34),T(69,dl,2,1,"mat-header-cell",30)(70,pl,2,1,"mat-cell",31),I(),b(71,35),T(72,fl,2,1,"mat-header-cell",30)(73,Sl,5,7,"mat-cell",36),I(),b(74,37),T(75,Cl,2,1,"mat-header-cell",30)(76,hl,3,4,"mat-cell",31),I(),b(77,38),T(78,_l,2,1,"mat-header-cell",30)(79,gl,3,4,"mat-cell",31),I(),b(80,39),T(81,vl,2,1,"mat-header-cell",30)(82,Tl,3,3,"mat-cell",31),I(),b(83,40),T(84,bl,2,1,"mat-header-cell",30)(85,Il,3,3,"mat-cell",31),I(),b(86,41),T(87,wl,2,1,"mat-header-cell",30)(88,Ml,3,3,"mat-cell",31),I(),b(89,42),T(90,El,2,1,"mat-header-cell",30)(91,Al,3,3,"mat-cell",43),I(),b(92,44),T(93,kl,2,1,"mat-header-cell",30)(94,yl,3,3,"mat-cell",43),I(),b(95,45),T(96,Rl,3,3,"mat-header-cell",46)(97,Dl,6,1,"mat-cell",47),I(),T(98,xl,1,0,"mat-header-row",48)(99,Ll,1,6,"mat-row",49),r(),I(),b(100,50),s(101,"mat-paginator",51,1),w("page",function(l){return h(c),_(t.onTablePageingData(l))}),r(),I(),r()}o&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","report.user.list"),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),d("ngIf",t.requestLinkSiteId>0),n(7),d("checked",t.optionsSearch.data.show),n(),f("",g(15,28,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),f("",g(19,30,"ACTION.STATIST")," "),n(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),D(g(30,32,"ACTION.SITE")),n(7),D(g(37,34,"ACTION.USER")),n(7),D(g(44,36,"ACTION.MEMBER")),n(7),D(g(51,38,"ACTION.DEVICE")),n(2),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(41),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Te(40,Zs)))},dependencies:[it,O,dt,Me,Ae,_e,Re,De,xe,Le,Ue,Be,Ve,Pe,Fe,Ge,Oe,je,Ne,He,We,qe,$e,Xe,Ye,ft,be,N,et,ze,Ze,Je,ut,St,rt],encapsulation:2});var ai=qi;var Ul=["vform"];function Bl(i,a){if(i&1&&(s(0,"option",27),m(1),r()),i&2){let e=a.$implicit;d("value",e.value),n(),f(" ",e.description," ")}}function Vl(i,a){i&1&&(s(0,"mat-error"),m(1," UserAccessAreaType is "),s(2,"strong"),m(3),S(4,"translate"),r()()),i&2&&(n(3),D(g(4,1,"MESSAGE.required")))}function Ol(i,a){if(i&1&&(s(0,"div"),v(1,"div",28),S(2,"prettyjson"),r()),i&2){let e=u();n(),d("innerHTML",g(2,1,e.dataModel),gt)}}function Pl(i,a){if(i&1){let e=M();s(0,"div",29)(1,"button",30),w("click",function(){h(e);let t=u();return _(t.onFormCancel())}),v(2,"i",31),m(3),S(4,"translate"),r()()}i&2&&(n(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var Qi=class Qi extends lt{constructor(e,o,t,c,C,l,x,oe,ie,le){super(c,new Gt,ie,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenUserBadLoginService=c;this.cmsToastrService=C;this.tokenHelper=l;this.cmsStoreService=x;this.cdr=oe;this.publicHelper=ie;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new R;this.dataModel=new Gt;this.formInfo=new ee;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e})),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.setAccessDataType(ot.Editor),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Qi.\u0275fac=function(o){return new(o||Qi)(p(Z),p(Y),p(z),p(Dt),p(F),p(H),p(P),p(V),p(j),p(G))},Qi.\u0275cmp=U({type:Qi,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&K(Ul,5),o&2){let c;$(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:49,vars:33,consts:[["UsedUsername",""],["UsedPwd",""],["UserAccessAreaType","ngModel"],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.usedUsername",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedUsername","placeholder","UsedUsername","id","dataModel.usedUsername",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.usedPwd",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedPwd","placeholder","UsedPwd","id","dataModel.usedPwd",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[3,"value"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){if(o&1){let c=M();s(0,"div",6),v(1,"app-progress-spinner",7),s(2,"div",8)(3,"p",9),m(4),r(),s(5,"p"),m(6),S(7,"translate"),r(),s(8,"div",10)(9,"label",11),m(10,"UsedUsername"),r(),s(11,"input",12,0),y("ngModelChange",function(l){return h(c),k(t.dataModel.usedUsername,l)||(t.dataModel.usedUsername=l),_(l)}),r()(),s(13,"div",10)(14,"label",13),m(15,"UsedPwd"),r(),s(16,"input",14,1),y("ngModelChange",function(l){return h(c),k(t.dataModel.usedPwd,l)||(t.dataModel.usedPwd=l),_(l)}),r()(),s(18,"div",15)(19,"select",16,2),y("ngModelChange",function(l){return h(c),k(t.dataModel.userAccessAreaType,l)||(t.dataModel.userAccessAreaType=l),_(l)}),T(21,Bl,2,2,"option",17),r(),s(22,"em"),m(23),S(24,"translate"),r(),T(25,Vl,5,3,"mat-error",18),r(),v(26,"app-cms-site-selector",19),S(27,"translate"),v(28,"app-cms-user-selector",19),S(29,"translate"),v(30,"app-cms-member-selector",19),S(31,"translate"),s(32,"div",10)(33,"label",20),m(34,"LinkDeviceId"),r(),s(35,"input",21,3),y("ngModelChange",function(l){return h(c),k(t.dataModel.linkDeviceId,l)||(t.dataModel.linkDeviceId=l),_(l)}),r()(),s(37,"div",10)(38,"label",22),m(39,"LinkApplicationId"),r(),s(40,"input",23,4),y("ngModelChange",function(l){return h(c),k(t.dataModel.linkApplicationId,l)||(t.dataModel.linkApplicationId=l),_(l)}),r()(),s(42,"div",10)(43,"label",24),m(44,"DeviceClientMAC"),r(),s(45,"input",25,5),y("ngModelChange",function(l){return h(c),k(t.dataModel.deviceClientMAC,l)||(t.dataModel.deviceClientMAC=l),_(l)}),r()(),T(47,Ol,3,3,"div",18)(48,Pl,5,3,"div",26),r()()}if(o&2){let c=Q(20);n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),f(" ",t.formInfo.formTitle," "),n(2),f(" ",g(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),n(5),A("ngModel",t.dataModel.usedUsername),n(5),A("ngModel",t.dataModel.usedPwd),n(3),A("ngModel",t.dataModel.userAccessAreaType),n(2),d("ngForOf",t.dataModelEnumManageUserAccessAreaTypesResult.listItems),n(2),D(g(24,25,"TITLE.SELECT_STATUS")),n(2),d("ngIf",c.errors==null?null:c.errors.required),n(),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",g(27,27,"TITLE.WEBSITE")),n(2),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",g(29,29,"TITLE.USER")),n(2),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",g(31,31,"TITLE.Member")),n(5),A("ngModel",t.dataModel.linkDeviceId),n(5),A("ngModel",t.dataModel.linkApplicationId),n(5),A("ngModel",t.dataModel.deviceClientMAC),n(2),d("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[pi,O,hi,_i,fi,Ci,ui,Si,gi,_e,at,st,vi,te,N,Tt],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Mo=Qi;var Gl=["vform"];function Nl(i,a){if(i&1){let e=M();s(0,"div",5)(1,"button",10),w("click",function(){h(e);let t=u();return _(t.onFormCancel())}),v(2,"i",11),m(3),S(4,"translate"),r()()}i&2&&(n(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var zi=class zi{constructor(a,e,o,t,c,C,l,x,oe,ie){this.data=a;this.dialogRef=e;this.coreEnumService=o;this.coreTokenUserBadLoginService=t;this.cmsToastrService=c;this.tokenHelper=C;this.cmsStoreService=l;this.cdr=x;this.publicHelper=oe;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new nt;this.dataModelResult=new R;this.dataModel=new Gt;this.formInfo=new ee;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>B(this,null,function*(){this.tokenInfo=a})),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};zi.\u0275fac=function(e){return new(e||zi)(p(Z),p(Y),p(z),p(Dt),p(F),p(H),p(P),p(V),p(j),p(G))},zi.\u0275cmp=U({type:zi,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&K(Gl,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(s(0,"div",0),m(1),r(),s(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),s(5,"div",4)(6,"div",5)(7,"small",6),m(8),r(),s(9,"small",7),m(10),r()()(),s(11,"div",8),T(12,Nl,5,3,"div",9),r()),e&2&&(n(),f(" ",o.formInfo.formTitle," "),n(2),d("optionsInfoAreaId",o.constructorInfoAreaId),n(),d("dataModel",o.dataModel)("optionMethod",1),n(4),f("",o.formInfo.formAlert," "),n(2),f("",o.formInfo.formError," "),n(2),d("ngIf",o.formInfo.formSubmitAllow))},dependencies:[O,te,ct,N],encapsulation:2});var Eo=zi;var Hl=()=>[5,10,20,100];function Fl(i,a){if(i&1){let e=M();s(0,"a",46),w("click",function(){h(e);let t=u();return _(t.onActionBackToParent())}),v(1,"i",47),r()}}function jl(i,a){if(i&1){let e=M();s(0,"div",18)(1,"a",48),w("click",function(){h(e);let t=u();return _(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",49)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.EDIT")))}function Wl(i,a){if(i&1){let e=M();s(0,"div",18)(1,"a",50),w("click",function(){h(e);let t=u();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",51)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.DELETE")))}function ql(i,a){if(i&1){let e=M();s(0,"div",18)(1,"a",52),w("click",function(){h(e);let t=u();return _(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",53)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.VIEW")))}function Ql(i,a){if(i&1&&(s(0,"mat-header-cell",54),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function zl(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),f(" ",e.id," ")}}function Jl(i,a){if(i&1&&(s(0,"mat-header-cell",54),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Kl(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),f(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function $l(i,a){if(i&1&&(s(0,"mat-header-cell",54),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Xl(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),f(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function Yl(i,a){if(i&1&&(s(0,"mat-header-cell",54),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function Zl(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),f(" ",e.linkMemberId," ")}}function ec(i,a){if(i&1&&(s(0,"mat-header-cell",54),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function tc(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=u();n(),f(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function ic(i,a){if(i&1&&(s(0,"mat-header-cell",54),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.usedUsername==null?null:e.fieldsInfo.usedUsername.fieldTitle," ")}}function oc(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),f(" ",e.usedUsername," ")}}function nc(i,a){if(i&1&&(s(0,"mat-header-cell",54),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function rc(i,a){if(i&1&&(s(0,"mat-cell",55),m(1),S(2,"localeDateTime"),r()),i&2){let e=a.$implicit;n(),f(" ",g(2,1,e.createdDate)," ")}}function ac(i,a){i&1&&(s(0,"mat-header-cell"),m(1),S(2,"translate"),r()),i&2&&(n(),f(" ",g(2,1,"TITLE.OPTION")," "))}function sc(i,a){if(i&1&&(s(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),m(3,"more_vert"),r()(),v(4,"mat-menu",null,2),r()),i&2){let e=Q(5);n(),d("matMenuTriggerFor",e)}}function lc(i,a){i&1&&v(0,"mat-header-row")}function cc(i,a){if(i&1){let e=M();s(0,"mat-row",58),w("click",function(){let t=h(e).$implicit,c=u();return _(c.onActionTableRowSelect(t))}),r()}if(i&2){let e=a.$implicit,o=a.dataIndex,t=u();ve("ntk-row-odd",o%2)("ntk-row-even",!(o%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Ji=class Ji extends Ke{constructor(e,o,t,c,C,l,x,oe,ie,le,tt,bt,E){super(o,new Gt,bt,l,oe);this.coreEnumService=e;this.contentService=o;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=C;this.tokenHelper=l;this.cdr=x;this.translate=oe;this.cmsStoreService=ie;this.router=le;this.pageInfo=tt;this.publicHelper=bt;this.dialog=E;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ye;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let Ct=new W;Ct.propertyName="LinkCmsSiteId",Ct.value=this.requestLinkSiteId,this.filteModelContent.filters.push(Ct)}if(this.requestLinkUserId>0){let Ct=new W;Ct.propertyName="LinkUserId",Ct.value=this.requestLinkUserId,this.filteModelContent.filters.push(Ct)}if(this.requestLinkDeviceId>0){let Ct=new W;Ct.propertyName="LinkDeviceId",Ct.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(Ct)}this.optionsSearch.parentMethods={onSubmit:Ct=>this.onSubmitOptionsSearch(Ct)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Gt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Eo,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Mo,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(C,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{o.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{o.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{o.set(x,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),C=new W;C.propertyName="RecordStatus",C.value=ke.Available,c.filters.push(C),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{o.set(x,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ji.\u0275fac=function(o){return new(o||Ji)(p(z),p(Dt),p(F),p(ge),p(Ie),p(H),p(V),p(G),p(P),p(we),p(Qe),p(j),p(Ee))},Ji.\u0275cmp=U({type:Ji,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[J],decls:88,vars:41,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UsedUsername"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(o,t){if(o&1){let c=M();s(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(l){return h(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),_(l)}),w("optionOnActionButtonMemoRow",function(){return h(c),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),_(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),ne(3,5)(4,6),b(5,7),T(6,Fl,2,0,"a",8),s(7,"a",9),w("click",function(){return h(c),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),r(),s(9,"a",9),w("click",function(){return h(c),_(t.onActionButtonReload())}),v(10,"i",11),r(),I(),b(11,12),s(12,"a",13),w("click",function(){return h(c),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),r(),s(16,"a",13),w("click",function(){return h(c),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",14),m(18),S(19,"translate"),r(),I(),ne(20,15),b(21,16),T(22,jl,7,3,"div",17)(23,Wl,7,3,"div",17),s(24,"div",18)(25,"a",19),w("click",function(){return h(c),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(26,"i",20)(27,"br"),r(),s(28,"p",21),m(29),S(30,"translate"),r()(),s(31,"div",18)(32,"a",19),w("click",function(){return h(c),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(33,"i",22)(34,"br"),r(),s(35,"p",21),m(36),S(37,"translate"),r()(),s(38,"div",18)(39,"a",19),w("click",function(){return h(c),_(t.onActionButtonViewMemberRow(t.tableRowSelected))}),v(40,"i",23)(41,"br"),r(),s(42,"p",21),m(43),S(44,"translate"),r()(),s(45,"div",18)(46,"a",19),w("click",function(){return h(c),_(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),v(47,"i",24)(48,"br"),r(),s(49,"p",21),m(50),S(51,"translate"),r()(),T(52,ql,7,3,"div",17),I(),b(53,25),s(54,"app-cms-search-list",26),y("optionsChange",function(l){return h(c),k(t.optionsSearch,l)||(t.optionsSearch=l),_(l)}),r(),s(55,"app-cms-statist-list",26),y("optionsChange",function(l){return h(c),k(t.optionsStatist,l)||(t.optionsStatist=l),_(l)}),r(),I(),b(56,27),s(57,"mat-table",28,0),w("matSortChange",function(){h(c);let l=Q(58);return _(t.onTableSortData(l))}),b(59,29),T(60,Ql,2,1,"mat-header-cell",30)(61,zl,2,1,"mat-cell",31),I(),b(62,32),T(63,Jl,2,1,"mat-header-cell",30)(64,Kl,4,5,"mat-cell",31),I(),b(65,33),T(66,$l,2,1,"mat-header-cell",30)(67,Xl,4,5,"mat-cell",31),I(),b(68,34),T(69,Yl,2,1,"mat-header-cell",30)(70,Zl,2,1,"mat-cell",31),I(),b(71,35),T(72,ec,2,1,"mat-header-cell",30)(73,tc,3,4,"mat-cell",31),I(),b(74,36),T(75,ic,2,1,"mat-header-cell",30)(76,oc,2,1,"mat-cell",31),I(),b(77,37),T(78,nc,2,1,"mat-header-cell",30)(79,rc,3,3,"mat-cell",38),I(),b(80,39),T(81,ac,3,3,"mat-header-cell",40)(82,sc,6,1,"mat-cell",41),I(),T(83,lc,1,0,"mat-header-row",42)(84,cc,1,6,"mat-row",43),r(),I(),b(85,44),s(86,"mat-paginator",45,1),w("page",function(l){return h(c),_(t.onTablePageingData(l))}),r(),I(),r()}o&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),d("ngIf",t.requestLinkSiteId>0),n(7),d("checked",t.optionsSearch.data.show),n(),f("",g(15,28,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),f("",g(19,30,"ACTION.STATIST")," "),n(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),D(g(30,32,"ACTION.SITE")),n(7),D(g(37,34,"ACTION.USER")),n(7),D(g(44,36,"ACTION.MEMBER")),n(7),D(g(51,38,"ACTION.DEVICE")),n(2),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(26),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Te(40,Hl)))},dependencies:[O,Me,Ae,Re,De,xe,Le,Ue,Be,Ve,Pe,Fe,Ge,Oe,je,Ne,He,We,qe,$e,Xe,Ye,be,N,et,ze,Ze,Je],encapsulation:2});var si=Ji;var mc=["vform"];function dc(i,a){if(i&1){let e=M();s(0,"app-cms-enum-record-status-selector",36),y("modelChange",function(t){h(e);let c=u();return k(c.dataModel.recordStatus,t)||(c.dataModel.recordStatus=t),_(t)}),r()}if(i&2){let e=u();A("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function pc(i,a){if(i&1&&(s(0,"option",37),m(1),r()),i&2){let e=a.$implicit;d("value",e.value),n(),f(" ",e.description," ")}}function fc(i,a){i&1&&(s(0,"mat-error"),m(1," LinkMemberId is "),s(2,"strong"),m(3),S(4,"translate"),r()()),i&2&&(n(3),D(g(4,1,"MESSAGE.required")))}function uc(i,a){if(i&1&&(s(0,"option",37),m(1),r()),i&2){let e=a.$implicit;d("value",e.value),n(),f(" ",e.description," ")}}function Sc(i,a){i&1&&(s(0,"mat-error"),m(1," UserAccessAreaType is "),s(2,"strong"),m(3),S(4,"translate"),r()()),i&2&&(n(3),D(g(4,1,"MESSAGE.required")))}function Cc(i,a){if(i&1){let e=M();s(0,"div",38)(1,"div",39)(2,"h5",40),m(3),r()(),s(4,"div",41)(5,"div",42)(6,"input",43),y("ngModelChange",function(t){h(e);let c=u();return k(c.dataModel.userAccessAdminAllowToAllData,t)||(c.dataModel.userAccessAdminAllowToAllData=t),_(t)}),r(),v(7,"label",44),r()()()}if(i&2){let e=u();n(3),f(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," "),n(3),A("ngModel",e.dataModel.userAccessAdminAllowToAllData)}}function hc(i,a){if(i&1){let e=M();s(0,"div",38)(1,"div",39)(2,"h5",45),m(3),r()(),s(4,"div",41)(5,"div",42)(6,"input",46),y("ngModelChange",function(t){h(e);let c=u();return k(c.dataModel.userAccessAdminAllowToProfessionalData,t)||(c.dataModel.userAccessAdminAllowToProfessionalData=t),_(t)}),r(),v(7,"label",47),r()()()}if(i&2){let e=u();n(3),f(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," "),n(3),A("ngModel",e.dataModel.userAccessAdminAllowToProfessionalData)}}function _c(i,a){if(i&1){let e=M();s(0,"div",38)(1,"div",39)(2,"h5",48),m(3),r()(),s(4,"div",41)(5,"div",42)(6,"input",49),y("ngModelChange",function(t){h(e);let c=u();return k(c.dataModel.rememberOnDevice,t)||(c.dataModel.rememberOnDevice=t),_(t)}),r(),v(7,"label",50),r()()()}if(i&2){let e=u();n(3),f(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," "),n(3),A("ngModel",e.dataModel.rememberOnDevice)}}function gc(i,a){if(i&1){let e=M();s(0,"div",51)(1,"label",52),m(2),r(),s(3,"input",53),y("ngModelChange",function(t){h(e);let c=u();return k(c.dataModel.tokenExpireDate,t)||(c.dataModel.tokenExpireDate=t),_(t)}),r(),v(4,"mat-datepicker-toggle",54)(5,"mat-datepicker",55,8),r()}if(i&2){let e=Q(6),o=u();n(2),D(o.fieldsInfo.tokenExpireDate==null?null:o.fieldsInfo.tokenExpireDate.fieldTitle),n(),d("matDatepicker",e),A("ngModel",o.dataModel.tokenExpireDate),n(),d("for",e)}}function vc(i,a){if(i&1&&(s(0,"div"),v(1,"div",56),S(2,"prettyjson"),r()),i&2){let e=u();n(),d("innerHTML",g(2,1,e.dataModel),gt)}}function Tc(i,a){if(i&1){let e=M();s(0,"div",57)(1,"button",58),w("click",function(){h(e);let t=u();return _(t.onFormCancel())}),v(2,"i",59),m(3),S(4,"translate"),r()()}i&2&&(n(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var Ki=class Ki extends lt{constructor(e,o,t,c,C,l,x,oe,ie,le){super(c,new Ut,ie,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreLogTokenUserService=c;this.cmsToastrService=C;this.tokenHelper=l;this.cmsStoreService=x;this.cdr=oe;this.publicHelper=ie;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Mt;this.dataModel=new Ut;this.formInfo=new ee;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e})),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreLogTokenUserService.setAccessLoad(),this.coreLogTokenUserService.setAccessDataType(ot.Editor),this.coreLogTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ki.\u0275fac=function(o){return new(o||Ki)(p(Z),p(Y),p(z),p(Et),p(F),p(H),p(P),p(V),p(j),p(G))},Ki.\u0275cmp=U({type:Ki,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&K(mc,5),o&2){let c;$(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:67,vars:45,consts:[["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],["Token",""],["tokenExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){if(o&1){let c=M();s(0,"div",9),v(1,"app-progress-spinner",10),s(2,"div",11)(3,"p",12),m(4),r(),s(5,"p"),m(6),S(7,"translate"),r(),T(8,dc,1,5,"app-cms-enum-record-status-selector",13),s(9,"div",14)(10,"select",15,0),y("ngModelChange",function(l){return h(c),k(t.dataModel.linkMemberId,l)||(t.dataModel.linkMemberId=l),_(l)}),T(12,pc,2,2,"option",16),r(),s(13,"em"),m(14),S(15,"translate"),r(),T(16,fc,5,3,"mat-error",17),r(),s(17,"div",14)(18,"select",18,1),y("ngModelChange",function(l){return h(c),k(t.dataModel.userAccessAreaType,l)||(t.dataModel.userAccessAreaType=l),_(l)}),T(20,uc,2,2,"option",16),r(),s(21,"em"),m(22),S(23,"translate"),r(),T(24,Sc,5,3,"mat-error",17),r(),v(25,"app-cms-site-selector",19),S(26,"translate"),v(27,"app-cms-user-selector",19),S(28,"translate"),v(29,"app-cms-member-selector",19),S(30,"translate"),T(31,Cc,8,2,"div",20)(32,hc,8,2,"div",20)(33,_c,8,2,"div",20),s(34,"div",21)(35,"label",22),m(36,"BrowserLanguage"),r(),s(37,"input",23,2),y("ngModelChange",function(l){return h(c),k(t.dataModel.browserLanguage,l)||(t.dataModel.browserLanguage=l),_(l)}),r()(),s(39,"div",21)(40,"label",24),m(41,"UserLanguage"),r(),s(42,"input",25,3),y("ngModelChange",function(l){return h(c),k(t.dataModel.userLanguage,l)||(t.dataModel.userLanguage=l),_(l)}),r()(),s(44,"div",21)(45,"label",26),m(46,"LinkDeviceId"),r(),s(47,"input",27,4),y("ngModelChange",function(l){return h(c),k(t.dataModel.linkDeviceId,l)||(t.dataModel.linkDeviceId=l),_(l)}),r()(),s(49,"div",21)(50,"label",28),m(51,"LinkApplicationId"),r(),s(52,"input",29,5),y("ngModelChange",function(l){return h(c),k(t.dataModel.linkApplicationId,l)||(t.dataModel.linkApplicationId=l),_(l)}),r()(),s(54,"div",21)(55,"label",30),m(56,"DeviceClientMAC"),r(),s(57,"input",31,6),y("ngModelChange",function(l){return h(c),k(t.dataModel.deviceClientMAC,l)||(t.dataModel.deviceClientMAC=l),_(l)}),r()(),s(59,"div",21)(60,"label",32),m(61,"Token"),r(),s(62,"input",33,7),y("ngModelChange",function(l){return h(c),k(t.dataModel.token,l)||(t.dataModel.token=l),_(l)}),r()(),T(64,gc,7,4,"div",34)(65,vc,3,3,"div",17)(66,Tc,5,3,"div",35),r()()}if(o&2){let c=Q(11),C=Q(19);n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),f(" ",t.formInfo.formTitle," "),n(2),f(" ",g(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(2),A("ngModel",t.dataModel.linkMemberId),n(2),d("ngForOf",t.dataModelEnumManageUserAccessUserTypesResult.listItems),n(2),D(g(15,35,"TITLE.SELECT_STATUS")),n(2),d("ngIf",c.errors==null?null:c.errors.required),n(2),A("ngModel",t.dataModel.userAccessAreaType),n(2),d("ngForOf",t.dataModelEnumManageUserAccessAreaTypesResult.listItems),n(2),D(g(23,37,"TITLE.SELECT_STATUS")),n(2),d("ngIf",C.errors==null?null:C.errors.required),n(),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",g(26,39,"TITLE.WEBSITE")),n(2),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",g(28,41,"TITLE.USER")),n(2),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",g(30,43,"TITLE.Member")),n(2),d("ngIf",t.fieldsInfo.userAccessAdminAllowToAllData==null?null:t.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),n(),d("ngIf",t.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),n(),d("ngIf",t.fieldsInfo.rememberOnDevice==null?null:t.fieldsInfo.rememberOnDevice.accessWatchField),n(4),A("ngModel",t.dataModel.browserLanguage),n(5),A("ngModel",t.dataModel.userLanguage),n(5),A("ngModel",t.dataModel.linkDeviceId),n(5),A("ngModel",t.dataModel.linkApplicationId),n(5),A("ngModel",t.dataModel.deviceClientMAC),n(5),A("ngModel",t.dataModel.token),n(2),d("ngIf",t.fieldsInfo.tokenExpireDate==null?null:t.fieldsInfo.tokenExpireDate.accessWatchField),n(),d("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[pi,O,hi,_i,fi,io,Ci,ui,Si,no,ro,ao,gi,oo,_e,at,pt,st,vi,te,N,Tt],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Ao=Ki;var bc=["vform"];function Ic(i,a){if(i&1){let e=M();s(0,"div",5)(1,"button",10),w("click",function(){h(e);let t=u();return _(t.onFormCancel())}),v(2,"i",11),m(3),S(4,"translate"),r()()}i&2&&(n(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var $i=class $i{constructor(a,e,o,t,c,C,l,x,oe,ie){this.data=a;this.dialogRef=e;this.coreEnumService=o;this.coreLogTokenUserService=t;this.cmsToastrService=c;this.tokenHelper=C;this.cmsStoreService=l;this.cdr=x;this.publicHelper=oe;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new nt;this.dataModelResult=new R;this.dataModel=new Ut;this.formInfo=new ee;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>B(this,null,function*(){this.tokenInfo=a})),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.coreLogTokenUserService.setAccessLoad(),this.coreLogTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$i.\u0275fac=function(e){return new(e||$i)(p(Z),p(Y),p(z),p(Et),p(F),p(H),p(P),p(V),p(j),p(G))},$i.\u0275cmp=U({type:$i,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&K(bc,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(s(0,"div",0),m(1),r(),s(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),s(5,"div",4)(6,"div",5)(7,"small",6),m(8),r(),s(9,"small",7),m(10),r()()(),s(11,"div",8),T(12,Ic,5,3,"div",9),r()),e&2&&(n(),f(" ",o.formInfo.formTitle," "),n(2),d("optionsInfoAreaId",o.constructorInfoAreaId),n(),d("dataModel",o.dataModel)("optionMethod",1),n(4),f("",o.formInfo.formAlert," "),n(2),f("",o.formInfo.formError," "),n(2),d("ngIf",o.formInfo.formSubmitAllow))},dependencies:[O,te,ct,N],encapsulation:2});var ko=$i;var wc=()=>["expandedTitle"],Mc=()=>[5,10,20,100];function Ec(i,a){if(i&1){let e=M();s(0,"a",45),w("click",function(){h(e);let t=u();return _(t.onActionBackToParent())}),v(1,"i",46),r()}}function Ac(i,a){if(i&1){let e=M();s(0,"div",47)(1,"a",48),w("click",function(){h(e);let t=u();return _(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",49)(3,"br"),r(),s(4,"p",50),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.EDIT")))}function kc(i,a){if(i&1){let e=M();s(0,"div",47)(1,"a",51),w("click",function(){h(e);let t=u();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",52)(3,"br"),r(),s(4,"p",50),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.DELETE")))}function yc(i,a){if(i&1){let e=M();s(0,"div",47)(1,"a",53),w("click",function(){h(e);let t=u();return _(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(2,"i",54)(3,"br"),r(),s(4,"p",50),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.SITE")))}function Rc(i,a){if(i&1){let e=M();s(0,"div",47)(1,"a",53),w("click",function(){h(e);let t=u();return _(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(2,"i",55)(3,"br"),r(),s(4,"p",50),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.USER")))}function Dc(i,a){if(i&1){let e=M();s(0,"div",47)(1,"a",53),w("click",function(){h(e);let t=u();return _(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),v(2,"i",56)(3,"br"),r(),s(4,"p",50),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.DEVICE")))}function xc(i,a){if(i&1){let e=M();s(0,"div",47)(1,"a",57),w("click",function(){h(e);let t=u();return _(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",58)(3,"br"),r(),s(4,"p",50),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.VIEW")))}function Lc(i,a){if(i&1){let e=M();s(0,"mat-row",59),w("click",function(){let t=h(e).$implicit,c=u();return _(c.onActionTableRowSelect(t))})("mouseenter",function(){let t=h(e).$implicit,c=u();return _(c.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=h(e).$implicit,c=u();return _(c.onActionTableRowMouseLeave(t))}),r()}if(i&2){let e=a.$implicit,o=a.dataIndex,t=u();ve("ntk-row-odd",o%2)("ntk-row-even",!(o%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function Uc(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Bc(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),f(" ",e.id," ")}}function Vc(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function Oc(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),f(" ",e.description," ")}}function Pc(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Gc(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),f(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function Nc(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Hc(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),f(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function Fc(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function jc(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),f(" ",e.linkMemberUserId," ")}}function Wc(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function qc(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=u();n(),f(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Qc(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function zc(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=u();n(),f(" ",ae(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Jc(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Kc(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",61),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),d("ngClass",g(2,1,e.userAccessAdminAllowToAllData))}}function $c(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Xc(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",61),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),d("ngClass",g(2,1,e.userAccessAdminAllowToProfessionalData))}}function Yc(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Zc(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",61),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),d("ngClass",g(2,1,e.rememberOnDevice))}}function em(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function tm(i,a){if(i&1&&(s(0,"mat-cell",62),m(1),S(2,"localeDateTime"),r()),i&2){let e=a.$implicit;n(),f(" ",g(2,1,e.createdDate)," ")}}function im(i,a){i&1&&(s(0,"mat-header-cell"),m(1),S(2,"translate"),r()),i&2&&(n(),f(" ",g(2,1,"TITLE.OPTION")," "))}function om(i,a){if(i&1&&(s(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),m(3,"more_vert"),r()(),v(4,"mat-menu",null,2),r()),i&2){let e=Q(5);n(),d("matMenuTriggerFor",e)}}function nm(i,a){i&1&&v(0,"mat-header-row")}function rm(i,a){if(i&1){let e=M();s(0,"mat-row",65),w("click",function(){let t=h(e).$implicit,c=u();return _(c.onActionTableRowSelect(t))}),r()}if(i&2){let e=a.$implicit,o=a.dataIndex,t=u();ve("ntk-row-odd",o%2)("ntk-row-even",!(o%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function am(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"translate"),v(3,"br"),m(4),S(5,"translate"),v(6,"br"),m(7),S(8,"translate"),S(9,"cmssiteinfo"),S(10,"async"),v(11,"br"),m(12),S(13,"translate"),S(14,"cmsuserinfo"),S(15,"async"),v(16,"br"),m(17),S(18,"translate"),S(19,"localeDateTime"),r()),i&2){let e=a.$implicit;n(),di(" ",g(2,10,"TITLE.Id")," : ",e.id," "),n(3),di(" ",g(5,12,"TITLE.Description")," : ",e.description," "),n(3),di(" ",g(8,14,"TITLE.Site_Id")," : ",g(10,18,g(9,16,e.linkSiteId))," "),n(5),di(" ",g(13,20,"TITLE.User_Id")," : ",g(15,24,g(14,22,e.linkUserId))," "),n(5),di(" ",g(18,26,"TITLE.CreationDate")," : ",g(19,28,e.createdDate)," ")}}var Xi=class Xi extends Ke{constructor(e,o,t,c,C,l,x,oe,ie,le,tt,bt){super(e,new Ut,tt,C,oe);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=c;this.tokenHelper=C;this.cdr=l;this.cmsStoreService=x;this.translate=oe;this.router=ie;this.pageInfo=le;this.publicHelper=tt;this.dialog=bt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ye;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"];this.tabledisplayedColumnsMobileSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new W;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new W;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new W;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ut);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(ko,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Ao,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let C=this.constructor.name+"ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(C,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{o.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{o.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{o.set(x,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),C=new W;C.propertyName="RecordStatus",C.value=ke.Available,c.filters.push(C),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{o.set(x,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Xi.\u0275fac=function(o){return new(o||Xi)(p(Et),p(F),p(ge),p(Ie),p(H),p(V),p(P),p(G),p(we),p(Qe),p(j),p(Ee))},Xi.\u0275cmp=U({type:Xi,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[J],decls:78,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[3,"click","mouseenter","mouseleave"],["mat-sort-header",""],[3,"ngClass"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(o,t){if(o&1){let c=M();s(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(l){return h(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),_(l)}),w("optionOnActionButtonMemoRow",function(){return h(c),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),_(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),ne(3,5)(4,6),b(5,7),T(6,Ec,2,0,"a",8),s(7,"a",9),w("click",function(){return h(c),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),r(),s(9,"a",9),w("click",function(){return h(c),_(t.onActionButtonReload())}),v(10,"i",11),r(),I(),b(11,12),s(12,"a",13),w("click",function(){return h(c),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),r(),s(16,"a",13),w("click",function(){return h(c),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",14),m(18),S(19,"translate"),r(),I(),ne(20,15),b(21,16),T(22,Ac,7,3,"div",17)(23,kc,7,3,"div",17)(24,yc,7,3,"div",17)(25,Rc,7,3,"div",17)(26,Dc,7,3,"div",17)(27,xc,7,3,"div",17),I(),b(28,18),s(29,"app-cms-search-list",19),y("optionsChange",function(l){return h(c),k(t.optionsSearch,l)||(t.optionsSearch=l),_(l)}),r(),s(30,"app-cms-statist-list",19),y("optionsChange",function(l){return h(c),k(t.optionsStatist,l)||(t.optionsStatist=l),_(l)}),r(),I(),b(31,20),s(32,"mat-table",21,0),w("matSortChange",function(){h(c);let l=Q(33);return _(t.onTableSortData(l))}),T(34,Lc,1,6,"mat-row",22),b(35,23),T(36,Uc,2,1,"mat-header-cell",24)(37,Bc,2,1,"mat-cell",25),I(),b(38,26),T(39,Vc,2,1,"mat-header-cell",24)(40,Oc,2,1,"mat-cell",25),I(),b(41,27),T(42,Pc,2,1,"mat-header-cell",24)(43,Gc,4,5,"mat-cell",25),I(),b(44,28),T(45,Nc,2,1,"mat-header-cell",24)(46,Hc,4,5,"mat-cell",25),I(),b(47,29),T(48,Fc,2,1,"mat-header-cell",24)(49,jc,2,1,"mat-cell",25),I(),b(50,30),T(51,Wc,2,1,"mat-header-cell",24)(52,qc,3,4,"mat-cell",25),I(),b(53,31),T(54,Qc,2,1,"mat-header-cell",24)(55,zc,3,4,"mat-cell",25),I(),b(56,32),T(57,Jc,2,1,"mat-header-cell",24)(58,Kc,3,3,"mat-cell",25),I(),b(59,33),T(60,$c,2,1,"mat-header-cell",24)(61,Xc,3,3,"mat-cell",25),I(),b(62,34),T(63,Yc,2,1,"mat-header-cell",24)(64,Zc,3,3,"mat-cell",25),I(),b(65,35),T(66,em,2,1,"mat-header-cell",24)(67,tm,3,3,"mat-cell",36),I(),b(68,37),T(69,im,3,3,"mat-header-cell",38)(70,om,6,1,"mat-cell",39),I(),T(71,nm,1,0,"mat-header-row",40)(72,rm,1,6,"mat-row",41),b(73,42),T(74,am,20,30,"mat-cell",25),I(),r(),I(),b(75,43),s(76,"mat-paginator",44,1),w("page",function(l){return h(c),_(t.onTablePageingData(l))}),r(),I(),r()}o&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),d("ngIf",t.requestLinkSiteId>0),n(7),d("checked",t.optionsSearch.data.show),n(),f("",g(15,28,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),f("",g(19,30,"ACTION.STATIST")," "),n(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(),d("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0),n(),d("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),n(),d("ngIf",(t.tableRowSelected==null||t.tableRowSelected.deviceClientMAC==null?null:t.tableRowSelected.deviceClientMAC.length)>0),n(),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(2),d("matRowDefColumns",Te(32,wc)),n(37),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(4),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Te(33,Mc)))},dependencies:[it,O,Me,Ae,Re,De,xe,Le,Ue,Be,Ve,Pe,Fe,Ge,Oe,je,Ne,He,We,qe,$e,Xe,Ye,be,N,et,ze,Ze,Je,rt],encapsulation:2});var li=Xi;var sm=()=>[5,10,20,100],lm=i=>({display:i}),cm=i=>({background:i});function mm(i,a){if(i&1){let e=M();s(0,"a",51),w("click",function(){h(e);let t=u();return _(t.onActionBackToParent())}),v(1,"i",52),r()}}function dm(i,a){if(i&1){let e=M();s(0,"div",18)(1,"a",53),w("click",function(){h(e);let t=u();return _(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",54)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.EDIT")))}function pm(i,a){if(i&1){let e=M();s(0,"div",18)(1,"a",55),w("click",function(){h(e);let t=u();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",56)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.DELETE")))}function fm(i,a){if(i&1){let e=M();s(0,"div",18)(1,"a",57),w("click",function(){h(e);let t=u();return _(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",58)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),D(g(6,1,"ACTION.VIEW")))}function um(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Sm(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),f(" ",e.id," ")}}function Cm(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function hm(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),f(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function _m(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function gm(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),f(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function vm(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Tm(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),f(" ",e.linkMemberUserId," ")}}function bm(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Im(i,a){if(i&1&&v(0,"select",62),i&2){let e=u().$implicit,o=u();d("contentService",o.contentService)("row",e)("ngStyle",he(3,lm,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function wm(i,a){if(i&1&&(s(0,"mat-cell",60),S(1,"statusCellClass"),v(2,"i",60),S(3,"statusIconClass"),T(4,Im,1,5,"select",61),r()),i&2){let e=a.$implicit,o=u();d("ngClass",g(1,3,e.recordStatus)),n(2),d("ngClass",g(3,5,e.recordStatus)),n(2),d("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function Mm(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Em(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=u();n(),f(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Am(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function km(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=u();n(),f(" ",ae(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function ym(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Rm(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),d("ngClass",g(2,1,e.userAccessAdminAllowToAllData))}}function Dm(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function xm(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),d("ngClass",g(2,1,e.userAccessAdminAllowToProfessionalData))}}function Lm(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Um(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),d("ngClass",g(2,1,e.rememberOnDevice))}}function Bm(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Vm(i,a){if(i&1&&(s(0,"mat-cell",63),m(1),S(2,"localeDateTime"),r()),i&2){let e=a.$implicit;n(),f(" ",g(2,1,e.createdDate)," ")}}function Om(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=u();n(),f(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Pm(i,a){if(i&1&&(s(0,"mat-cell",64),m(1),S(2,"persianDate"),r()),i&2){let e=a.$implicit,o=u();d("ngStyle",he(4,cm,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),f(" ",g(2,2,e.expireDate)," ")}}function Gm(i,a){i&1&&(s(0,"mat-header-cell"),m(1),S(2,"translate"),r()),i&2&&(n(),f(" ",g(2,1,"TITLE.OPTION")," "))}function Nm(i,a){if(i&1&&(s(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),r()(),v(4,"mat-menu",null,2),r()),i&2){let e=Q(5);n(),d("matMenuTriggerFor",e)}}function Hm(i,a){i&1&&v(0,"mat-header-row")}function Fm(i,a){if(i&1){let e=M();s(0,"mat-row",67),w("click",function(){let t=h(e).$implicit,c=u();return _(c.onActionTableRowSelect(t))}),r()}if(i&2){let e=a.$implicit,o=a.dataIndex,t=u();ve("ntk-row-odd",o%2)("ntk-row-even",!(o%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Yi=class Yi extends Ke{constructor(e,o,t,c,C,l,x,oe,ie,le,tt,bt){super(e,new _t,tt,C,x);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=c;this.tokenHelper=C;this.cdr=l;this.translate=x;this.cmsStoreService=oe;this.router=ie;this.pageInfo=le;this.publicHelper=tt;this.dialog=bt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ye;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new W;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new W;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new W;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.processOrderStore).subscribe(e=>B(this,null,function*(){var o=e.find(t=>t.contentAction=="core_token_online_update_list"&&!t.isRun);o&&o?.id?.length>0&&(o.isRun=!0,this.publicHelper.setProcessOrder(o),this.DataGetAll(t=>{o.isComplate=!0,o.isSuccess=t,this.publicHelper.setProcessOrder(o)}))}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(e=()=>{}){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new _t);let o=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(c=>{this.publicHelper.processService.processStart(o,c,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllLiveConnection(t).subscribe({next:c=>{c.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(c.access),this.dataModelResult=c,this.tableSource.data=c.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(c.access)},1e3)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(o),e&&e(!0)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(o,!1),e&&e(!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Hi,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Gi,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(C,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{o.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{o.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{o.set(x,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),C=new W;C.propertyName="RecordStatus",C.value=ke.Available,c.filters.push(C),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{o.set(x,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Yi.\u0275fac=function(o){return new(o||Yi)(p(vt),p(F),p(ge),p(Ie),p(H),p(V),p(G),p(P),p(we),p(Qe),p(j),p(Ee))},Yi.\u0275cmp=U({type:Yi,selectors:[["app-coretoken-notification-list-online"]],standalone:!1,features:[J],decls:89,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(o,t){if(o&1){let c=M();s(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(l){return h(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),_(l)}),w("optionOnActionButtonMemoRow",function(){return h(c),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),_(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),ne(3,5)(4,6),b(5,7),T(6,mm,2,0,"a",8),s(7,"a",9),w("click",function(){return h(c),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),r(),s(9,"a",9),w("click",function(){return h(c),_(t.onActionButtonReload())}),v(10,"i",11),r(),I(),b(11,12),s(12,"a",13),w("click",function(){return h(c),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),r(),s(16,"a",13),w("click",function(){return h(c),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",14),m(18),S(19,"translate"),r(),I(),ne(20,15),b(21,16),T(22,dm,7,3,"div",17)(23,pm,7,3,"div",17),s(24,"div",18)(25,"a",19),w("click",function(){return h(c),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(26,"i",20)(27,"br"),r(),s(28,"p",21),m(29),S(30,"translate"),r()(),s(31,"div",18)(32,"a",19),w("click",function(){return h(c),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(33,"i",22)(34,"br"),r(),s(35,"p",21),m(36),S(37,"translate"),r()(),T(38,fm,7,3,"div",17),I(),b(39,23),s(40,"app-cms-search-list",24),y("optionsChange",function(l){return h(c),k(t.optionsSearch,l)||(t.optionsSearch=l),_(l)}),r(),s(41,"app-cms-statist-list",24),y("optionsChange",function(l){return h(c),k(t.optionsStatist,l)||(t.optionsStatist=l),_(l)}),r(),I(),b(42,25),s(43,"mat-table",26,0),w("matSortChange",function(){h(c);let l=Q(44);return _(t.onTableSortData(l))}),b(45,27),T(46,um,2,1,"mat-header-cell",28)(47,Sm,2,1,"mat-cell",29),I(),b(48,30),T(49,Cm,2,1,"mat-header-cell",28)(50,hm,4,5,"mat-cell",29),I(),b(51,31),T(52,_m,2,1,"mat-header-cell",28)(53,gm,4,5,"mat-cell",29),I(),b(54,32),T(55,vm,2,1,"mat-header-cell",28)(56,Tm,2,1,"mat-cell",29),I(),b(57,33),T(58,bm,2,1,"mat-header-cell",28)(59,wm,5,7,"mat-cell",34),I(),b(60,35),T(61,Mm,2,1,"mat-header-cell",28)(62,Em,3,4,"mat-cell",29),I(),b(63,36),T(64,Am,2,1,"mat-header-cell",28)(65,km,3,4,"mat-cell",29),I(),b(66,37),T(67,ym,2,1,"mat-header-cell",28)(68,Rm,3,3,"mat-cell",29),I(),b(69,38),T(70,Dm,2,1,"mat-header-cell",28)(71,xm,3,3,"mat-cell",29),I(),b(72,39),T(73,Lm,2,1,"mat-header-cell",28)(74,Um,3,3,"mat-cell",29),I(),b(75,40),T(76,Bm,2,1,"mat-header-cell",28)(77,Vm,3,3,"mat-cell",41),I(),b(78,42),T(79,Om,2,1,"mat-header-cell",28)(80,Pm,3,6,"mat-cell",43),I(),b(81,44),T(82,Gm,3,3,"mat-header-cell",45)(83,Nm,6,1,"mat-cell",46),I(),T(84,Hm,1,0,"mat-header-row",47)(85,Fm,1,6,"mat-row",48),r(),I(),b(86,49),s(87,"mat-paginator",50,1),w("page",function(l){return h(c),_(t.onTablePageingData(l))}),r(),I(),r()}o&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),d("ngIf",t.requestLinkSiteId>0),n(7),d("checked",t.optionsSearch.data.show),n(),f("",g(15,26,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),f("",g(19,28,"ACTION.STATIST")," "),n(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),D(g(30,30,"ACTION.SITE")),n(7),D(g(37,32,"ACTION.USER")),n(2),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(41),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Te(34,sm)))},dependencies:[it,O,dt,Me,Ae,_e,Re,De,xe,Le,Ue,Be,Ve,Pe,Fe,Ge,Oe,je,Ne,He,We,qe,$e,Xe,Ye,ft,be,N,ht,et,ze,Ze,Je,ut,St,rt],encapsulation:2});var yo=Yi;var jm=[{path:"",component:mo,data:{title:"ROUTE.CORETOKEN"},children:[{path:"user",component:ai,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkSiteId/:LinkSiteId",component:ai,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkUserId/:LinkUserId",component:ai,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkDeviceId/:LinkDeviceId",component:ai,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"userlog",component:li,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkSiteId/:LinkSiteId",component:li,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkUserId/:LinkUserId",component:li,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkDeviceId/:LinkDeviceId",component:li,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userbadlogin",component:si,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkSiteId/:LinkSiteId",component:si,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkUserId/:LinkUserId",component:si,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkDeviceId/:LinkDeviceId",component:si,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"activation",component:co,data:{title:"ROUTE.CORETOKEN.ACTIVATION"}},{path:"microservice",component:_o,data:{title:"ROUTE.CORETOKEN.MICROSERVICE"}},{path:"microservicelog",component:uo,data:{title:"ROUTE.CORETOKEN.MICROSERVICELOG"}},{path:"notification",component:bo,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"online",component:yo,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"notificationlog",component:To,data:{title:"ROUTE.CORETOKEN.NOTIFICATIONLOG"}}]}],ci=class ci{};ci.\u0275fac=function(e){return new(e||ci)},ci.\u0275mod=to({type:ci}),ci.\u0275inj=eo({imports:[Do.forChild(jm),Do]});var Ro=ci;var mi=class mi{};mi.\u0275fac=function(e){return new(e||mi)},mi.\u0275mod=to({type:mi}),mi.\u0275inj=eo({providers:[Go,z,Rt,Et,Dt,yt,xt,At,vt,kt,No,ge],imports:[Ro,xo,Vo,Oo.withConfig({warnOnNgModelWithFormControl:"never"}),Ho]});var qo=mi;export{qo as CoreTokenModule};
