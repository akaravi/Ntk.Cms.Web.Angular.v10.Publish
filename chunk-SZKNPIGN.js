import{Dc as L,ab as H,bb as T,cb as D,eb as G,fb as N,fc as O,gc as F}from"./chunk-HFFK4MNG.js";import{Ca as f,Fa as n,Ic as _,Ij as w,Ka as r,Mb as l,Nb as d,Ob as m,Od as B,Pa as v,Tj as A,Va as S,Vb as y,Xa as M,bc as k,ca as g,cc as x,da as h,ib as c,jb as s,kb as o,lb as I,pj as E,sb as b,uc as R,vb as C,xb as P}from"./chunk-MDNBQXON.js";function $(p,t){if(p&1){let e=b();s(0,"div",2)(1,"mat-card",3)(2,"mat-card-header")(3,"mat-card-title"),l(4),o()(),I(5,"img",4),s(6,"mat-card-content")(7,"p",5),l(8),o()(),s(9,"mat-card-actions")(10,"button",6),C("click",function(){let u=g(e).$implicit,V=P();return h(V.onActionSelectBank(u))}),l(11),k(12,"translate"),o()()()()}if(p&2){let e=t.$implicit;n(4),d(e.title),n(),c("src",y(e.linkModuleFileLogoIdSrc),f),n(3),m(" ",e.title," "),n(3),d(x(12,5,"ACTION.SELECT"))}}var a=class a{constructor(t,e,i,u){this.bankPaymentPrivateSiteConfigService=t;this.translate=e;this.cdr=i;this.publicHelper=u;this.id=++a.nextId;this.constructorInfoAreaId=this.constructor.name;this.optionMasterItem=!1;this.errorMessage="";this.optionChange=new M;this.dataModelSelect=new A;this.dataModelResult=new B;this.dataModel=new E;this.publicHelper.processService.cdr=this.cdr}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}ngOnInit(){this.DataGetAll()}DataGetAll(){if(this.optionMasterItem){let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.bankPaymentPrivateSiteConfigService.ServicePaymentGatewayCoreList().subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,!this.dataModelResult.listItems||this.dataModelResult.listItems.length==0?this.translate.get("TITLE.Payment_portal_is_not_active").subscribe(i=>{this.errorMessage=i}):this.dataModelResult.listItems&&this.dataModelResult.listItems.length==1&&this.onActionSelectBank(this.dataModelResult.listItems[0])):this.errorMessage=e.errorMessage,this.publicHelper.processService.processStop(t)},error:e=>{this.errorMessage=e,this.publicHelper.processService.processStop(t,!1)}})}else{let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.bankPaymentPrivateSiteConfigService.ServicePaymentGatewayList().subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,!this.dataModelResult.listItems||this.dataModelResult.listItems.length==0?this.translate.get("Payment_portal_is_not_active").subscribe(i=>{this.errorMessage=i}):this.dataModelResult.listItems&&this.dataModelResult.listItems.length==1&&this.onActionSelectBank(this.dataModelResult.listItems[0])):this.errorMessage=e.errorMessage,this.publicHelper.processService.processStop(t)},error:e=>{this.errorMessage=e,this.publicHelper.processService.processStop(t,!1)}})}}onActionSelectBank(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}};a.nextId=0,a.\u0275fac=function(e){return new(e||a)(r(w),r(O),r(R),r(L))},a.\u0275cmp=v({type:a,selectors:[["app-cms-bankpayment-grid"]],inputs:{optionMasterItem:"optionMasterItem"},outputs:{optionChange:"optionChange"},standalone:!1,decls:3,vars:2,consts:[[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[2,"max-width","200px"],[1,"rounded","mx-auto","d-block","mat-card-image",2,"width","95%","height","95%",3,"src"],[1,"d-flex","justify-content-center"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(e,i){e&1&&(s(0,"div",0),l(1),S(2,$,13,7,"div",1),o()),e&2&&(n(),m(" ",i.errorMessage," "),n(),c("ngForOf",i.dataModelResult.listItems))},dependencies:[_,H,G,D,N,T,F],encapsulation:2});var j=a;export{j as a};
