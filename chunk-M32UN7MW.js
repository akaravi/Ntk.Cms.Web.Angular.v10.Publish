import{a as Go}from"./chunk-TSY3DOCG.js";import{a as Ze}from"./chunk-UODSLX53.js";import{a as st}from"./chunk-5PFYVBIH.js";import{a as Ye}from"./chunk-VM4POZH4.js";import{a as Xe}from"./chunk-MBSNTPOV.js";import{a as Po}from"./chunk-EMZ34XDJ.js";import{a as vt}from"./chunk-73CE67XI.js";import{a as _t}from"./chunk-MWLWKGII.js";import{a as ht}from"./chunk-DR5UB5TL.js";import{a as Ct}from"./chunk-YRXSJ6UK.js";import{a as Ke}from"./chunk-KFWFS2LJ.js";import{c as Qe,d as $e,e as ze,g as Je}from"./chunk-YW3LYMBO.js";import{a as ft}from"./chunk-U7WWKCFT.js";import{a as St}from"./chunk-7RGJYV6G.js";import{a as ut}from"./chunk-3ZQ3MB4X.js";import{b as qe,d as We}from"./chunk-6VSEI4WE.js";import{a as bt}from"./chunk-TOCKXBTX.js";import"./chunk-2IS2NA4G.js";import{a as pi}from"./chunk-VULS4KUC.js";import"./chunk-THLNZO6Y.js";import"./chunk-AP2XLKC5.js";import{a as Ce}from"./chunk-CTAVYSLR.js";import{a as rt}from"./chunk-UJNFPQII.js";import{a as te,d as nt}from"./chunk-XBTY2ZN3.js";import{b as ot,e as je,f as q}from"./chunk-RHXCYVYW.js";import{$c as Oo,D as Do,E as Lo,G as xo,Hb as xe,Ib as Ue,Jb as Be,Kb as Ve,Lb as Oe,Mb as Pe,Nb as Ge,O as Uo,Ob as Ne,P as Bo,Pb as He,Qb as Fe,Ra as Z,Sa as ee,Ta as Me,Tc as H,Wc as F,X as Vo,Yc as j,cc as G,da as we,dc as N,eb as Ae,gb as at,lb as Ee,mb as ke,n as ko,pb as Re,q as Ro,v as yo,vb as ye,xb as De,yb as Le}from"./chunk-DWQRRRHF.js";import{$e as mi,Ab as u,Ba as ci,Bd as go,Cd as be,De as Eo,Eb as K,Fa as r,Fb as X,Fd as Ki,Gb as Y,Gd as y,Kb as z,Kc as tt,Kd as R,Kr as W,Ld as Ie,Mb as J,Oa as f,Pb as m,Qb as vo,Qc as dt,Rb as d,Sa as V,Sb as mt,Sc as ve,Ta as Ji,Vb as x,Wa as $,Wb as U,Xb as B,Xd as L,Y as zi,Ya as w,Zc as wo,_d as pt,_e as Et,ac as he,bc as _e,bf as Tt,cf as kt,da as h,df as Rt,ea as C,ef as di,fb as E,fc as S,fg as xt,gb as k,gc as _,gg as Ni,hc as ne,hg as Ut,ib as To,ig as it,jb as bo,je as Mt,jg as Hi,kb as Io,ke as At,lb as g,mb as a,nb as s,ob as v,pe as Q,sb as T,tb as b,td as ge,te as Ao,tf as yt,ub as ie,ud as Mo,uf as Dt,vb as A,vd as Te,vf as gt,wf as Lt,xc as P,yb as I}from"./chunk-QMGNS56P.js";import{i as O}from"./chunk-SEDBTTTN.js";var Fo=["vform"];function jo(i,n){if(i&1){let e=A();a(0,"app-cms-enum-record-status-selector",7),B("modelChange",function(t){h(e);let l=u();return U(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),C(t)}),s()}if(i&2){let e=u();x("model",e.dataModel.recordStatus),g("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function qo(i,n){if(i&1){let e=A();a(0,"div",6)(1,"button",8),I("click",function(){h(e);let t=u();return C(t.onFormCancel())}),v(2,"i",9),m(3),S(4,"translate"),s()()}i&2&&(r(3),d(" ",_(4,1,"ACTION.CANCEL")," "))}var ui=class ui extends ft{constructor(e,o,t,l,p,c,D,re,oe,Se){super(l,new xt,Se,oe);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenActivationService=l;this.cmsToastrService=p;this.tokenHelper=c;this.cmsStoreService=D;this.cdr=re;this.translate=oe;this.publicHelper=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new y;this.dataModel=new xt;this.dataModelEnumManageUserAccessAreaTypesResult=new y;this.dataModelEnumManageUserAccessUserTypesResult=new y;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.setAccessDataType(pt.Editor),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ui.\u0275fac=function(o){return new(o||ui)(f(ee),f(Z),f(Q),f(Et),f(j),f(F),f(H),f(P),f(G),f(q))},ui.\u0275cmp=V({type:ui,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&K(Fo,5),o&2){let l;X(l=Y())&&(t.formGroup=l.first)}},standalone:!1,features:[$],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),v(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),S(7,"translate"),s(),E(8,jo,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),S(10,"translate"),v(11,"app-cms-user-selector",5),S(12,"translate"),E(13,qo,5,3,"div",6),s()()),o&2&&(r(),g("optionsInfoAreaId",t.constructorInfoAreaId),r(3),d(" ",t.formInfo.formTitle," "),r(2),d(" ",_(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),k(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?8:-1),r(),g("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",_(10,13,"TITLE.WEBSITE")),r(2),g("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",_(12,15,"TITLE.USER")),r(2),k(t.formInfo.submitButtonEnabled?13:-1))},dependencies:[ut,bt,St,te,N],encapsulation:2});var Xi=ui;var Wo=["vform"];function Qo(i,n){if(i&1){let e=A();a(0,"div",7)(1,"button",8),I("click",function(){h(e);let t=u();return C(t.onFormCancel())}),v(2,"i",9),m(3),S(4,"translate"),s()()}i&2&&(r(3),d(" ",_(4,1,"ACTION.CANCEL")," "))}var fi=class fi{constructor(n,e,o,t,l,p,c,D,re,oe){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.coreTokenActivationService=t;this.cmsToastrService=l;this.tokenHelper=p;this.cmsStoreService=c;this.cdr=D;this.publicHelper=re;this.translate=oe;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new it;this.dataModelResult=new y;this.dataModel=new xt;this.formInfo=new nt;this.dataModelEnumSendSmsStatusTypeResult=new y;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("aaaaaaaaaTITLE.VIEWaaaaa").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>O(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};fi.\u0275fac=function(e){return new(e||fi)(f(ee),f(Z),f(Q),f(Et),f(j),f(F),f(H),f(P),f(q),f(G))},fi.\u0275cmp=V({type:fi,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&K(Wo,5),e&2){let t;X(t=Y())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),v(6,"app-cms-form-result-message",5),s(),a(7,"div",6),E(8,Qo,5,3,"div",7),s()),e&2&&(r(),d(" ",o.formInfo.formTitle," "),r(2),g("optionsInfoAreaId",o.constructorInfoAreaId),r(),g("dataModel",o.dataModel)("optionMethod",1),r(2),g("formInfo",o.formInfo),r(2),k(o.formInfo.submitButtonEnabled?8:-1))},dependencies:[te,st,rt,N],encapsulation:2});var Zi=fi;var $o=()=>[5,10,20,100],zo=i=>({display:i}),Jo=i=>({background:i});function Ko(i,n){if(i&1&&v(0,"app-core-user-header",3),i&2){let e=u();g("optionId",e.requestLinkUserId)}}function Xo(i,n){if(i&1){let e=A();a(0,"a",51),I("click",function(){h(e);let t=u();return C(t.onActionBackToParent())}),v(1,"i",52),s()}}function Yo(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",53),I("click",function(){h(e);let t=u();return C(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",54)(3,"br"),s(),a(4,"p",21),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.EDIT")," "))}function Zo(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",55),I("click",function(){h(e);let t=u();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",56)(3,"br"),s(),a(4,"p",21),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.DELETE")," "))}function en(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",57),I("click",function(){h(e);let t=u();return C(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",58)(3,"br"),s(),a(4,"p",21),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.VIEW")," "))}function tn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function on(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),d(" ",e.id," ")}}function nn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function rn(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),s()),i&2){let e=n.$implicit;r(),d(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function sn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function an(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),s()),i&2){let e=n.$implicit;r(),d(" ",_(3,3,_(2,1,e.linkUserId))," ")}}function ln(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function cn(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),d(" ",e.linkMemberUserId," ")}}function mn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function dn(i,n){if(i&1&&v(0,"select",61),i&2){let e=u().$implicit,o=u();g("contentService",o.contentService)("row",e)("ngStyle",_e(3,zo,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function pn(i,n){if(i&1&&(a(0,"mat-cell",60),S(1,"statusCellClass"),v(2,"i",60),S(3,"statusIconClass"),E(4,dn,1,5,"select",61),s()),i&2){let e=n.$implicit,o=u();g("ngClass",_(1,3,e.recordStatus)),r(2),g("ngClass",_(3,5,e.recordStatus)),r(2),k(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessEditRow?4:-1)}}function un(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function fn(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),d(" ",ne(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Sn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function hn(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),d(" ",ne(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Cn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function _n(i,n){if(i&1&&(a(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),g("ngClass",_(2,1,e.userAccessAdminAllowToAllData))}}function vn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function gn(i,n){if(i&1&&(a(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),g("ngClass",_(2,1,e.userAccessAdminAllowToProfessionalData))}}function Tn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function bn(i,n){if(i&1&&(a(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),g("ngClass",_(2,1,e.rememberOnDevice))}}function In(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function wn(i,n){if(i&1&&(a(0,"mat-cell",62),m(1),S(2,"localeDateTime"),s()),i&2){let e=n.$implicit;r(),d(" ",_(2,1,e.createdDate)," ")}}function Mn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function An(i,n){if(i&1&&(a(0,"mat-cell",63),m(1),S(2,"persianDate"),s()),i&2){let e=n.$implicit,o=u();g("ngStyle",_e(4,Jo,o.publicHelper.RowStyleExpireDate(e.expireDate))),r(),d(" ",_(2,2,e.expireDate)," ")}}function En(i,n){i&1&&(a(0,"mat-header-cell"),m(1),S(2,"translate"),s()),i&2&&(r(),d(" ",_(2,1,"TITLE.OPTION")," "))}function kn(i,n){if(i&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),i&2){let e=z(5);r(),g("matMenuTriggerFor",e)}}function Rn(i,n){i&1&&v(0,"mat-header-row")}function yn(i,n){if(i&1){let e=A();a(0,"mat-row",66),I("click",function(t){let l=h(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=n.$implicit,o=u();J("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Si=class Si extends Qe{constructor(e,o,t,l,p,c,D,re,oe,Se,et,It){super(e,new xt,et,p,D);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=p;this.cdr=c;this.translate=D;this.cmsStoreService=re;this.router=oe;this.pageInfo=Se;this.publicHelper=et;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new y;this.dataModelEnumManageUserAccessUserTypesResult=new y;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let M=new R;M.propertyName="LinkCmsSiteId",M.value=this.requestLinkSiteId,this.filteModelContent.filters.push(M)}if(this.requestLinkUserId>0){let M=new R;M.propertyName="linkUserId",M.value=this.requestLinkUserId,this.filteModelContent.filters.push(M)}if(this.requestLinkDeviceId>0){let M=new R;M.propertyName="LinkDeviceId",M.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(M)}this.optionsSearch.parentMethods={onSubmit:M=>this.onSubmitOptionsSearch(M)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=L.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new xt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new R;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new R;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new R;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Zi,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Xi,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),p=new R;p.propertyName="recordStatus",p.value=be.Available,l.filters.push(p),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Si.\u0275fac=function(o){return new(o||Si)(f(Et),f(j),f(Ce),f(ge),f(F),f(P),f(G),f(H),f(Te),f(je),f(q),f(Me))},Si.\u0275cmp=V({type:Si,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[$],decls:89,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=A();E(0,Ko,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),B("optionActionGuideNoticeDisplayChange",function(c){return h(l),U(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),I("optionOnActionButtonMemoRow",function(){return h(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),C(t.onActionButtonPrintRow())}),T(2,5),m(3," -------------------------------------- "),b(),ie(4,6)(5,7),T(6,8),E(7,Xo,2,0,"a",9),a(8,"a",10),I("click",function(){return h(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),v(9,"i",11),s(),a(10,"a",10),I("click",function(){return h(l),C(t.onActionButtonReload())}),v(11,"i",12),s(),b(),T(12,13),a(13,"a",14),I("click",function(){return h(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(14,"mat-slide-toggle",15),m(15),S(16,"translate"),s(),a(17,"a",14),I("click",function(){return h(l),C(t.onActionButtonStatist())}),v(18,"mat-slide-toggle",15),m(19),S(20,"translate"),s(),b(),ie(21,16),T(22,17),E(23,Yo,7,3,"div",18),E(24,Zo,7,3,"div",18),a(25,"div",18)(26,"a",19),I("click",function(){return h(l),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(27,"i",20),s(),a(28,"p",21),m(29),S(30,"translate"),s()(),a(31,"div",18)(32,"a",19),I("click",function(){return h(l),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(33,"i",22)(34,"br"),s(),a(35,"p",21),m(36),S(37,"translate"),s()(),E(38,en,7,3,"div",18),b(),T(39,23),a(40,"app-cms-search-list",24),B("optionsChange",function(c){return h(l),U(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(41,"app-cms-statist-list",24),B("optionsChange",function(c){return h(l),U(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),T(42,25),a(43,"mat-table",26,0),I("matSortChange",function(){h(l);let c=z(44);return C(t.onTableSortData(c))}),T(45,27),w(46,tn,2,1,"mat-header-cell",28)(47,on,2,1,"mat-cell",29),b(),T(48,30),w(49,nn,2,1,"mat-header-cell",28)(50,rn,4,5,"mat-cell",29),b(),T(51,31),w(52,sn,2,1,"mat-header-cell",28)(53,an,4,5,"mat-cell",29),b(),T(54,32),w(55,ln,2,1,"mat-header-cell",28)(56,cn,2,1,"mat-cell",29),b(),T(57,33),w(58,mn,2,1,"mat-header-cell",28)(59,pn,5,7,"mat-cell",34),b(),T(60,35),w(61,un,2,1,"mat-header-cell",28)(62,fn,3,4,"mat-cell",29),b(),T(63,36),w(64,Sn,2,1,"mat-header-cell",28)(65,hn,3,4,"mat-cell",29),b(),T(66,37),w(67,Cn,2,1,"mat-header-cell",28)(68,_n,3,3,"mat-cell",29),b(),T(69,38),w(70,vn,2,1,"mat-header-cell",28)(71,gn,3,3,"mat-cell",29),b(),T(72,39),w(73,Tn,2,1,"mat-header-cell",28)(74,bn,3,3,"mat-cell",29),b(),T(75,40),w(76,In,2,1,"mat-header-cell",28)(77,wn,3,3,"mat-cell",41),b(),T(78,42),w(79,Mn,2,1,"mat-header-cell",28)(80,An,3,6,"mat-cell",43),b(),T(81,44),w(82,En,3,3,"mat-header-cell",45)(83,kn,6,1,"mat-cell",46),b(),w(84,Rn,1,0,"mat-header-row",47)(85,yn,1,2,"mat-row",48),s(),b(),T(86,49),a(87,"mat-paginator",50,1),I("page",function(c){return h(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(k(t.requestLinkUserId>0?0:-1),r(),g("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),x("optionActionGuideNoticeDisplay",t.viewGuideNotice),g("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),r(6),k(t.requestLinkSiteId>0?7:-1),r(4),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),g("checked",t.optionsSearch.data.show),r(),d("",_(16,29,"ACTION.SEARCH")," "),r(3),g("checked",t.optionsStatist.data.show),r(),d("",_(20,31,"ACTION.STATIST")," "),r(4),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),r(),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),r(5),d(" ",_(30,33,"ACTION.SITE")," "),r(7),d(" ",_(37,35,"ACTION.USER")," "),r(2),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?38:-1),r(2),x("options",t.optionsSearch),r(),x("options",t.optionsStatist),r(2),g("dataSource",t.tableSource),r(41),g("matHeaderRowDef",t.tabledisplayedColumns),r(),g("matRowDefColumns",t.tabledisplayedColumns),r(2),g("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",he(37,$o)))},dependencies:[tt,dt,we,Ae,at,Ee,ke,Re,ye,De,Le,xe,Be,Ge,Ve,Ue,Ne,Oe,Pe,He,Fe,$e,ze,Je,Ke,ht,Ye,ve,N,vt,Ze,qe,Xe,We,Ct,_t,ot],encapsulation:2});var eo=Si;var Ci=class Ci{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};Ci.\u0275fac=function(e){return new(e||Ci)},Ci.\u0275cmp=V({type:Ci,selectors:[["app-core-token"]],standalone:!1,decls:1,vars:0,template:function(e,o){e&1&&v(0,"router-outlet")},dependencies:[Mo],encapsulation:2});var to=Ci;var Dn=["vform"];function Ln(i,n){if(i&1){let e=A();a(0,"app-cms-enum-record-status-selector",7),B("modelChange",function(t){h(e);let l=u();return U(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),C(t)}),s()}if(i&2){let e=u();x("model",e.dataModel.recordStatus),g("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function xn(i,n){if(i&1){let e=A();a(0,"div",6)(1,"button",8),I("click",function(){h(e);let t=u();return C(t.onFormCancel())}),v(2,"i",9),m(3),S(4,"translate"),s()()}i&2&&(r(3),d(" ",_(4,1,"ACTION.CANCEL")," "))}var _i=class _i extends ft{constructor(e,o,t,l,p,c,D,re,oe,Se){super(l,new Dt,c,Se);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreLogTokenMicroServiceService=l;this.cmsToastrService=p;this.publicHelper=c;this.cdr=D;this.tokenHelper=re;this.cmsStoreService=oe;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new y;this.dataModel=new Dt;this.dataModelEnumManageUserAccessAreaTypesResult=new y;this.dataModelEnumManageUserAccessUserTypesResult=new y;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreLogTokenMicroServiceService.setAccessLoad(),this.coreLogTokenMicroServiceService.setAccessDataType(pt.Editor),this.coreLogTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};_i.\u0275fac=function(o){return new(o||_i)(f(ee),f(Z),f(Q),f(At),f(j),f(q),f(P),f(F),f(H),f(G))},_i.\u0275cmp=V({type:_i,selectors:[["app-coretoken-microservicelog-edit"]],viewQuery:function(o,t){if(o&1&&K(Dn,5),o&2){let l;X(l=Y())&&(t.formGroup=l.first)}},standalone:!1,features:[$],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),v(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),S(7,"translate"),s(),E(8,Ln,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),S(10,"translate"),v(11,"app-cms-user-selector",5),S(12,"translate"),E(13,xn,5,3,"div",6),s()()),o&2&&(r(),g("optionsInfoAreaId",t.constructorInfoAreaId),r(3),d(" ",t.formInfo.formTitle," "),r(2),d(" ",_(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),k(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?8:-1),r(),g("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",_(10,13,"TITLE.WEBSITE")),r(2),g("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",_(12,15,"TITLE.USER")),r(2),k(t.formInfo.submitButtonEnabled?13:-1))},dependencies:[ut,bt,St,te,N],encapsulation:2});var io=_i;var Un=["vform"];function Bn(i,n){if(i&1){let e=A();a(0,"div",7)(1,"button",8),I("click",function(){h(e);let t=u();return C(t.onFormCancel())}),v(2,"i",9),m(3),S(4,"translate"),s()()}i&2&&(r(3),d(" ",_(4,1,"ACTION.CANCEL")," "))}var vi=class vi{constructor(n,e,o,t,l,p,c,D,re,oe){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.coreLogTokenMicroServiceService=t;this.cmsToastrService=l;this.tokenHelper=p;this.cmsStoreService=c;this.cdr=D;this.publicHelper=re;this.translate=oe;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new it;this.dataModelResult=new y;this.dataModel=new Dt;this.formInfo=new nt;this.dataModelEnumSendSmsStatusTypeResult=new y;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>O(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.coreLogTokenMicroServiceService.setAccessLoad(),this.coreLogTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};vi.\u0275fac=function(e){return new(e||vi)(f(ee),f(Z),f(Q),f(At),f(j),f(F),f(H),f(P),f(q),f(G))},vi.\u0275cmp=V({type:vi,selectors:[["app-core-token-microservicelog-view"]],viewQuery:function(e,o){if(e&1&&K(Un,5),e&2){let t;X(t=Y())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),v(6,"app-cms-form-result-message",5),s(),a(7,"div",6),E(8,Bn,5,3,"div",7),s()),e&2&&(r(),d(" ",o.formInfo.formTitle," "),r(2),g("optionsInfoAreaId",o.constructorInfoAreaId),r(),g("dataModel",o.dataModel)("optionMethod",1),r(2),g("formInfo",o.formInfo),r(2),k(o.formInfo.submitButtonEnabled?8:-1))},dependencies:[te,st,rt,N],encapsulation:2});var oo=vi;var Vn=()=>[5,10,20,100],On=i=>({display:i}),Pn=i=>({background:i});function Gn(i,n){if(i&1&&v(0,"app-core-user-header",3),i&2){let e=u();g("optionId",e.requestLinkUserId)}}function Nn(i,n){if(i&1){let e=A();a(0,"a",51),I("click",function(){h(e);let t=u();return C(t.onActionBackToParent())}),v(1,"i",52),s()}}function Hn(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",53),I("click",function(){h(e);let t=u();return C(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",54)(3,"br"),s(),a(4,"p",21),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.EDIT")," "))}function Fn(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",55),I("click",function(){h(e);let t=u();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",56)(3,"br"),s(),a(4,"p",21),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.DELETE")," "))}function jn(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",57),I("click",function(){h(e);let t=u();return C(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",58)(3,"br"),s(),a(4,"p",21),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.VIEW")," "))}function qn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Wn(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),d(" ",e.id," ")}}function Qn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function $n(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),s()),i&2){let e=n.$implicit;r(),d(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function zn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Jn(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),s()),i&2){let e=n.$implicit;r(),d(" ",_(3,3,_(2,1,e.linkUserId))," ")}}function Kn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Xn(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),d(" ",e.linkMemberUserId," ")}}function Yn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Zn(i,n){if(i&1&&v(0,"select",61),i&2){let e=u().$implicit,o=u();g("contentService",o.contentService)("row",e)("ngStyle",_e(3,On,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function er(i,n){if(i&1&&(a(0,"mat-cell",60),S(1,"statusCellClass"),v(2,"i",60),S(3,"statusIconClass"),E(4,Zn,1,5,"select",61),s()),i&2){let e=n.$implicit,o=u();g("ngClass",_(1,3,e.recordStatus)),r(2),g("ngClass",_(3,5,e.recordStatus)),r(2),k(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessEditRow?4:-1)}}function tr(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function ir(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),d(" ",ne(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function or(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function nr(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),d(" ",ne(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function rr(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function sr(i,n){if(i&1&&(a(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),g("ngClass",_(2,1,e.userAccessAdminAllowToAllData))}}function ar(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function lr(i,n){if(i&1&&(a(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),g("ngClass",_(2,1,e.userAccessAdminAllowToProfessionalData))}}function cr(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function mr(i,n){if(i&1&&(a(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),g("ngClass",_(2,1,e.rememberOnDevice))}}function dr(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function pr(i,n){if(i&1&&(a(0,"mat-cell",62),m(1),S(2,"localeDateTime"),s()),i&2){let e=n.$implicit;r(),d(" ",_(2,1,e.createdDate)," ")}}function ur(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function fr(i,n){if(i&1&&(a(0,"mat-cell",63),m(1),S(2,"persianDate"),s()),i&2){let e=n.$implicit,o=u();g("ngStyle",_e(4,Pn,o.publicHelper.RowStyleExpireDate(e.expireDate))),r(),d(" ",_(2,2,e.expireDate)," ")}}function Sr(i,n){i&1&&(a(0,"mat-header-cell"),m(1),S(2,"translate"),s()),i&2&&(r(),d(" ",_(2,1,"TITLE.OPTION")," "))}function hr(i,n){if(i&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),i&2){let e=z(5);r(),g("matMenuTriggerFor",e)}}function Cr(i,n){i&1&&v(0,"mat-header-row")}function _r(i,n){if(i&1){let e=A();a(0,"mat-row",66),I("click",function(t){let l=h(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=n.$implicit,o=u();J("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var gi=class gi extends Qe{constructor(e,o,t,l,p,c,D,re,oe,Se,et,It){super(e,new Dt,et,p,D);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=p;this.cdr=c;this.translate=D;this.cmsStoreService=re;this.router=oe;this.pageInfo=Se;this.publicHelper=et;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new y;this.dataModelEnumManageUserAccessUserTypesResult=new y;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let M=new R;M.propertyName="LinkCmsSiteId",M.value=this.requestLinkSiteId,this.filteModelContent.filters.push(M)}if(this.requestLinkUserId>0){let M=new R;M.propertyName="linkUserId",M.value=this.requestLinkUserId,this.filteModelContent.filters.push(M)}if(this.requestLinkDeviceId>0){let M=new R;M.propertyName="LinkDeviceId",M.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(M)}this.optionsSearch.parentMethods={onSubmit:M=>this.onSubmitOptionsSearch(M)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=L.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Dt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new R;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new R;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new R;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(oo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(io,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),p=new R;p.propertyName="recordStatus",p.value=be.Available,l.filters.push(p),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};gi.\u0275fac=function(o){return new(o||gi)(f(At),f(j),f(Ce),f(ge),f(F),f(P),f(G),f(H),f(Te),f(je),f(q),f(Me))},gi.\u0275cmp=V({type:gi,selectors:[["app-coretoken-microservicelog-list"]],standalone:!1,features:[$],decls:86,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=A();E(0,Gn,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),B("optionActionGuideNoticeDisplayChange",function(c){return h(l),U(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),I("optionOnActionButtonMemoRow",function(){return h(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),C(t.onActionButtonPrintRow())}),T(2,5),m(3," -------------------------------------- "),b(),ie(4,6)(5,7),T(6,8),E(7,Nn,2,0,"a",9),a(8,"a",10),I("click",function(){return h(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),v(9,"i",11),s(),a(10,"a",10),I("click",function(){return h(l),C(t.onActionButtonReload())}),v(11,"i",12),s(),b(),T(12,13),a(13,"a",14),I("click",function(){return h(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(14,"mat-slide-toggle",15),m(15),S(16,"translate"),s(),b(),ie(17,16),T(18,17),E(19,Hn,7,3,"div",18),E(20,Fn,7,3,"div",18),a(21,"div",18)(22,"a",19),I("click",function(){return h(l),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(23,"i",20)(24,"br"),s(),a(25,"p",21),m(26),S(27,"translate"),s()(),a(28,"div",18)(29,"a",19),I("click",function(){return h(l),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(30,"i",22)(31,"br"),s(),a(32,"p",21),m(33),S(34,"translate"),s()(),E(35,jn,7,3,"div",18),b(),T(36,23),a(37,"app-cms-search-list",24),B("optionsChange",function(c){return h(l),U(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(38,"app-cms-statist-list",24),B("optionsChange",function(c){return h(l),U(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),T(39,25),a(40,"mat-table",26,0),I("matSortChange",function(){h(l);let c=z(41);return C(t.onTableSortData(c))}),T(42,27),w(43,qn,2,1,"mat-header-cell",28)(44,Wn,2,1,"mat-cell",29),b(),T(45,30),w(46,Qn,2,1,"mat-header-cell",28)(47,$n,4,5,"mat-cell",29),b(),T(48,31),w(49,zn,2,1,"mat-header-cell",28)(50,Jn,4,5,"mat-cell",29),b(),T(51,32),w(52,Kn,2,1,"mat-header-cell",28)(53,Xn,2,1,"mat-cell",29),b(),T(54,33),w(55,Yn,2,1,"mat-header-cell",28)(56,er,5,7,"mat-cell",34),b(),T(57,35),w(58,tr,2,1,"mat-header-cell",28)(59,ir,3,4,"mat-cell",29),b(),T(60,36),w(61,or,2,1,"mat-header-cell",28)(62,nr,3,4,"mat-cell",29),b(),T(63,37),w(64,rr,2,1,"mat-header-cell",28)(65,sr,3,3,"mat-cell",29),b(),T(66,38),w(67,ar,2,1,"mat-header-cell",28)(68,lr,3,3,"mat-cell",29),b(),T(69,39),w(70,cr,2,1,"mat-header-cell",28)(71,mr,3,3,"mat-cell",29),b(),T(72,40),w(73,dr,2,1,"mat-header-cell",28)(74,pr,3,3,"mat-cell",41),b(),T(75,42),w(76,ur,2,1,"mat-header-cell",28)(77,fr,3,6,"mat-cell",43),b(),T(78,44),w(79,Sr,3,3,"mat-header-cell",45)(80,hr,6,1,"mat-cell",46),b(),w(81,Cr,1,0,"mat-header-row",47)(82,_r,1,2,"mat-row",48),s(),b(),T(83,49),a(84,"mat-paginator",50,1),I("page",function(c){return h(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(k(t.requestLinkUserId>0?0:-1),r(),g("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),x("optionActionGuideNoticeDisplay",t.viewGuideNotice),g("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),r(6),k(t.requestLinkSiteId>0?7:-1),r(4),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),g("checked",t.optionsSearch.data.show),r(),d("",_(16,27,"ACTION.SEARCH")," "),r(4),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?19:-1),r(),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?20:-1),r(6),d(" ",_(27,29,"ACTION.SITE")," "),r(7),d(" ",_(34,31,"ACTION.USER")," "),r(2),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?35:-1),r(2),x("options",t.optionsSearch),r(),x("options",t.optionsStatist),r(2),g("dataSource",t.tableSource),r(41),g("matHeaderRowDef",t.tabledisplayedColumns),r(),g("matRowDefColumns",t.tabledisplayedColumns),r(2),g("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",he(33,Vn)))},dependencies:[tt,dt,we,Ae,at,Ee,ke,Re,ye,De,Le,xe,Be,Ge,Ve,Ue,Ne,Oe,Pe,He,Fe,$e,ze,Je,Ke,ht,Ye,ve,N,vt,Ze,qe,Xe,We,Ct,_t,ot],encapsulation:2});var no=gi;var vr=["vform"];function gr(i,n){if(i&1){let e=A();a(0,"app-cms-enum-record-status-selector",7),B("modelChange",function(t){h(e);let l=u();return U(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),C(t)}),s()}if(i&2){let e=u();x("model",e.dataModel.recordStatus),g("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Tr(i,n){if(i&1&&(a(0,"div"),v(1,"div",8),S(2,"prettyjson"),s()),i&2){let e=u();r(),g("innerHTML",_(2,1,e.dataModel),ci)}}function br(i,n){if(i&1){let e=A();a(0,"div",6)(1,"button",9),I("click",function(){h(e);let t=u();return C(t.onFormCancel())}),v(2,"i",10),m(3),S(4,"translate"),s()()}i&2&&(r(3),d(" ",_(4,1,"ACTION.CANCEL")," "))}var Ti=class Ti extends ft{constructor(e,o,t,l,p,c,D,re,oe,Se){super(l,new yt,oe,Se);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenMicroServiceService=l;this.cmsToastrService=p;this.tokenHelper=c;this.cmsStoreService=D;this.cdr=re;this.publicHelper=oe;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Ki;this.dataModel=new yt;this.dataModelEnumManageUserAccessAreaTypesResult=new y;this.dataModelEnumManageUserAccessUserTypesResult=new y;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.setAccessDataType(pt.Editor),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ti.\u0275fac=function(o){return new(o||Ti)(f(ee),f(Z),f(Q),f(kt),f(j),f(F),f(H),f(P),f(q),f(G))},Ti.\u0275cmp=V({type:Ti,selectors:[["app-coretoken-microservice-edit"]],viewQuery:function(o,t){if(o&1&&K(vr,5),o&2){let l;X(l=Y())&&(t.formGroup=l.first)}},standalone:!1,features:[$],decls:15,vars:18,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),v(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),S(7,"translate"),s(),E(8,gr,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),S(10,"translate"),v(11,"app-cms-user-selector",5),S(12,"translate"),E(13,Tr,3,3,"div"),E(14,br,5,3,"div",6),s()()),o&2&&(r(),g("optionsInfoAreaId",t.constructorInfoAreaId),r(3),d(" ",t.formInfo.formTitle," "),r(2),d(" ",_(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),k(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?8:-1),r(),g("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",_(10,14,"TITLE.WEBSITE")),r(2),g("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",_(12,16,"TITLE.USER")),r(2),k(t.tokenInfo.access.userAccessAdminAllowToProfessionalData?13:-1),r(),k(t.formInfo.submitButtonEnabled?14:-1))},dependencies:[ut,bt,St,te,N,pi],encapsulation:2});var ro=Ti;var Ir=["vform"];function wr(i,n){if(i&1){let e=A();a(0,"div",7)(1,"button",8),I("click",function(){h(e);let t=u();return C(t.onFormCancel())}),v(2,"i",9),m(3),S(4,"translate"),s()()}i&2&&(r(3),d(" ",_(4,1,"ACTION.CANCEL")," "))}var bi=class bi{constructor(n,e,o,t,l,p,c,D,re,oe){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.coreTokenMicroServiceService=t;this.cmsToastrService=l;this.tokenHelper=p;this.cmsStoreService=c;this.cdr=D;this.publicHelper=re;this.translate=oe;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new it;this.dataModelResult=new y;this.dataModel=new yt;this.formInfo=new nt;this.dataModelEnumSendSmsStatusTypeResult=new y;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>O(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};bi.\u0275fac=function(e){return new(e||bi)(f(ee),f(Z),f(Q),f(kt),f(j),f(F),f(H),f(P),f(q),f(G))},bi.\u0275cmp=V({type:bi,selectors:[["app-coretoken-microservice-view"]],viewQuery:function(e,o){if(e&1&&K(Ir,5),e&2){let t;X(t=Y())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),v(6,"app-cms-form-result-message",5),s(),a(7,"div",6),E(8,wr,5,3,"div",7),s()),e&2&&(r(),d(" ",o.formInfo.formTitle," "),r(2),g("optionsInfoAreaId",o.constructorInfoAreaId),r(),g("dataModel",o.dataModel)("optionMethod",1),r(2),g("formInfo",o.formInfo),r(2),k(o.formInfo.submitButtonEnabled?8:-1))},dependencies:[te,st,rt,N],encapsulation:2});var so=bi;var Mr=()=>[5,10,20,100],Ar=i=>({display:i}),Er=i=>({background:i});function kr(i,n){if(i&1&&v(0,"app-core-user-header",3),i&2){let e=u();g("optionId",e.requestLinkUserId)}}function Rr(i,n){if(i&1){let e=A();a(0,"a",51),I("click",function(){h(e);let t=u();return C(t.onActionBackToParent())}),v(1,"i",52),s()}}function yr(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",53),I("click",function(){h(e);let t=u();return C(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",54)(3,"br"),s(),a(4,"p",21),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.EDIT")," "))}function Dr(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",55),I("click",function(){h(e);let t=u();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",56)(3,"br"),s(),a(4,"p",21),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.DELETE")," "))}function Lr(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",57),I("click",function(){h(e);let t=u();return C(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",58)(3,"br"),s(),a(4,"p",21),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.VIEW")," "))}function xr(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ur(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),d(" ",e.id," ")}}function Br(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Vr(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),s()),i&2){let e=n.$implicit;r(),d(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function Or(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Pr(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),s()),i&2){let e=n.$implicit;r(),d(" ",_(3,3,_(2,1,e.linkUserId))," ")}}function Gr(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Nr(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),d(" ",e.linkMemberUserId," ")}}function Hr(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Fr(i,n){if(i&1&&v(0,"select",61),i&2){let e=u().$implicit,o=u();g("contentService",o.contentService)("row",e)("ngStyle",_e(3,Ar,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function jr(i,n){if(i&1&&(a(0,"mat-cell",60),S(1,"statusCellClass"),v(2,"i",60),S(3,"statusIconClass"),E(4,Fr,1,5,"select",61),s()),i&2){let e=n.$implicit,o=u();g("ngClass",_(1,3,e.recordStatus)),r(2),g("ngClass",_(3,5,e.recordStatus)),r(2),k(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessEditRow?4:-1)}}function qr(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Wr(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),d(" ",ne(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Qr(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function $r(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),d(" ",ne(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function zr(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Jr(i,n){if(i&1&&(a(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),g("ngClass",_(2,1,e.userAccessAdminAllowToAllData))}}function Kr(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Xr(i,n){if(i&1&&(a(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),g("ngClass",_(2,1,e.userAccessAdminAllowToProfessionalData))}}function Yr(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Zr(i,n){if(i&1&&(a(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),g("ngClass",_(2,1,e.rememberOnDevice))}}function es(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ts(i,n){if(i&1&&(a(0,"mat-cell",62),m(1),S(2,"localeDateTime"),s()),i&2){let e=n.$implicit;r(),d(" ",_(2,1,e.createdDate)," ")}}function is(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function os(i,n){if(i&1&&(a(0,"mat-cell",63),m(1),S(2,"persianDate"),s()),i&2){let e=n.$implicit,o=u();g("ngStyle",_e(4,Er,o.publicHelper.RowStyleExpireDate(e.expireDate))),r(),d(" ",_(2,2,e.expireDate)," ")}}function ns(i,n){i&1&&(a(0,"mat-header-cell"),m(1),S(2,"translate"),s()),i&2&&(r(),d(" ",_(2,1,"TITLE.OPTION")," "))}function rs(i,n){if(i&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),i&2){let e=z(5);r(),g("matMenuTriggerFor",e)}}function ss(i,n){i&1&&v(0,"mat-header-row")}function as(i,n){if(i&1){let e=A();a(0,"mat-row",66),I("click",function(t){let l=h(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=n.$implicit,o=u();J("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Ii=class Ii extends Qe{constructor(e,o,t,l,p,c,D,re,oe,Se,et,It){super(e,new yt,et,p,D);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=p;this.cdr=c;this.translate=D;this.cmsStoreService=re;this.router=oe;this.pageInfo=Se;this.publicHelper=et;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new y;this.dataModelEnumManageUserAccessUserTypesResult=new y;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let M=new R;M.propertyName="LinkCmsSiteId",M.value=this.requestLinkSiteId,this.filteModelContent.filters.push(M)}if(this.requestLinkUserId>0){let M=new R;M.propertyName="linkUserId",M.value=this.requestLinkUserId,this.filteModelContent.filters.push(M)}if(this.requestLinkDeviceId>0){let M=new R;M.propertyName="LinkDeviceId",M.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(M)}this.optionsSearch.parentMethods={onSubmit:M=>this.onSubmitOptionsSearch(M)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=L.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new yt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new R;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new R;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new R;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(so,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(ro,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),p=new R;p.propertyName="recordStatus",p.value=be.Available,l.filters.push(p),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ii.\u0275fac=function(o){return new(o||Ii)(f(kt),f(j),f(Ce),f(ge),f(F),f(P),f(G),f(H),f(Te),f(je),f(q),f(Me))},Ii.\u0275cmp=V({type:Ii,selectors:[["app-coretoken-microservice-list"]],standalone:!1,features:[$],decls:90,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=A();E(0,kr,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),B("optionActionGuideNoticeDisplayChange",function(c){return h(l),U(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),I("optionOnActionButtonMemoRow",function(){return h(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),C(t.onActionButtonPrintRow())}),T(2,5),m(3," -------------------------------------- "),b(),ie(4,6)(5,7),T(6,8),E(7,Rr,2,0,"a",9),a(8,"a",10),I("click",function(){return h(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),v(9,"i",11),s(),a(10,"a",10),I("click",function(){return h(l),C(t.onActionButtonReload())}),v(11,"i",12),s(),b(),T(12,13),a(13,"a",14),I("click",function(){return h(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(14,"mat-slide-toggle",15),m(15),S(16,"translate"),s(),a(17,"a",14),I("click",function(){return h(l),C(t.onActionButtonStatist())}),v(18,"mat-slide-toggle",15),m(19),S(20,"translate"),s(),b(),ie(21,16),T(22,17),E(23,yr,7,3,"div",18),E(24,Dr,7,3,"div",18),a(25,"div",18)(26,"a",19),I("click",function(){return h(l),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(27,"i",20)(28,"br"),s(),a(29,"p",21),m(30),S(31,"translate"),s()(),a(32,"div",18)(33,"a",19),I("click",function(){return h(l),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(34,"i",22)(35,"br"),s(),a(36,"p",21),m(37),S(38,"translate"),s()(),E(39,Lr,7,3,"div",18),b(),T(40,23),a(41,"app-cms-search-list",24),B("optionsChange",function(c){return h(l),U(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(42,"app-cms-statist-list",24),B("optionsChange",function(c){return h(l),U(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),T(43,25),a(44,"mat-table",26,0),I("matSortChange",function(){h(l);let c=z(45);return C(t.onTableSortData(c))}),T(46,27),w(47,xr,2,1,"mat-header-cell",28)(48,Ur,2,1,"mat-cell",29),b(),T(49,30),w(50,Br,2,1,"mat-header-cell",28)(51,Vr,4,5,"mat-cell",29),b(),T(52,31),w(53,Or,2,1,"mat-header-cell",28)(54,Pr,4,5,"mat-cell",29),b(),T(55,32),w(56,Gr,2,1,"mat-header-cell",28)(57,Nr,2,1,"mat-cell",29),b(),T(58,33),w(59,Hr,2,1,"mat-header-cell",28)(60,jr,5,7,"mat-cell",34),b(),T(61,35),w(62,qr,2,1,"mat-header-cell",28)(63,Wr,3,4,"mat-cell",29),b(),T(64,36),w(65,Qr,2,1,"mat-header-cell",28)(66,$r,3,4,"mat-cell",29),b(),T(67,37),w(68,zr,2,1,"mat-header-cell",28)(69,Jr,3,3,"mat-cell",29),b(),T(70,38),w(71,Kr,2,1,"mat-header-cell",28)(72,Xr,3,3,"mat-cell",29),b(),T(73,39),w(74,Yr,2,1,"mat-header-cell",28)(75,Zr,3,3,"mat-cell",29),b(),T(76,40),w(77,es,2,1,"mat-header-cell",28)(78,ts,3,3,"mat-cell",41),b(),T(79,42),w(80,is,2,1,"mat-header-cell",28)(81,os,3,6,"mat-cell",43),b(),T(82,44),w(83,ns,3,3,"mat-header-cell",45)(84,rs,6,1,"mat-cell",46),b(),w(85,ss,1,0,"mat-header-row",47)(86,as,1,2,"mat-row",48),s(),b(),T(87,49),a(88,"mat-paginator",50,1),I("page",function(c){return h(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(k(t.requestLinkUserId>0?0:-1),r(),g("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),x("optionActionGuideNoticeDisplay",t.viewGuideNotice),g("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),r(6),k(t.requestLinkSiteId>0?7:-1),r(4),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),g("checked",t.optionsSearch.data.show),r(),d("",_(16,29,"ACTION.SEARCH")," "),r(3),g("checked",t.optionsStatist.data.show),r(),d("",_(20,31,"ACTION.STATIST")," "),r(4),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),r(),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),r(6),d(" ",_(31,33,"ACTION.SITE")," "),r(7),d(" ",_(38,35,"ACTION.USER")," "),r(2),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?39:-1),r(2),x("options",t.optionsSearch),r(),x("options",t.optionsStatist),r(2),g("dataSource",t.tableSource),r(41),g("matHeaderRowDef",t.tabledisplayedColumns),r(),g("matRowDefColumns",t.tabledisplayedColumns),r(2),g("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",he(37,Mr)))},dependencies:[tt,dt,we,Ae,at,Ee,ke,Re,ye,De,Le,xe,Be,Ge,Ve,Ue,Ne,Oe,Pe,He,Fe,$e,ze,Je,Ke,ht,Ye,ve,N,vt,Ze,qe,Xe,We,Ct,_t,ot],encapsulation:2});var ao=Ii;var ls=["vform"];function cs(i,n){if(i&1){let e=A();a(0,"app-cms-enum-record-status-selector",7),B("modelChange",function(t){h(e);let l=u();return U(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),C(t)}),s()}if(i&2){let e=u();x("model",e.dataModel.recordStatus),g("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ms(i,n){if(i&1){let e=A();a(0,"div",6)(1,"button",8),I("click",function(){h(e);let t=u();return C(t.onFormCancel())}),v(2,"i",9),m(3),S(4,"translate"),s()()}i&2&&(r(3),d(" ",_(4,1,"ACTION.CANCEL")," "))}var wi=class wi extends ft{constructor(e,o,t,l,p,c,D,re,oe,Se){super(l,new Lt,c,Se);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreLogTokenConnectionService=l;this.cmsToastrService=p;this.publicHelper=c;this.cdr=D;this.tokenHelper=re;this.cmsStoreService=oe;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new y;this.dataModel=new Lt;this.dataModelEnumManageUserAccessAreaTypesResult=new y;this.dataModelEnumManageUserAccessUserTypesResult=new y;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreLogTokenConnectionService.setAccessLoad(),this.coreLogTokenConnectionService.setAccessDataType(pt.Editor),this.coreLogTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};wi.\u0275fac=function(o){return new(o||wi)(f(ee),f(Z),f(Q),f(Mt),f(j),f(q),f(P),f(F),f(H),f(G))},wi.\u0275cmp=V({type:wi,selectors:[["app-coretoken-notificationlog-edit"]],viewQuery:function(o,t){if(o&1&&K(ls,5),o&2){let l;X(l=Y())&&(t.formGroup=l.first)}},standalone:!1,features:[$],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),v(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),S(7,"translate"),s(),E(8,cs,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),S(10,"translate"),v(11,"app-cms-user-selector",5),S(12,"translate"),E(13,ms,5,3,"div",6),s()()),o&2&&(r(),g("optionsInfoAreaId",t.constructorInfoAreaId),r(3),d(" ",t.formInfo.formTitle," "),r(2),d(" ",_(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),k(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?8:-1),r(),g("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",_(10,13,"TITLE.WEBSITE")),r(2),g("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",_(12,15,"TITLE.USER")),r(2),k(t.formInfo.submitButtonEnabled?13:-1))},dependencies:[ut,bt,St,te,N],encapsulation:2});var lo=wi;var ds=["vform"];function ps(i,n){if(i&1){let e=A();a(0,"div",7)(1,"button",8),I("click",function(){h(e);let t=u();return C(t.onFormCancel())}),v(2,"i",9),m(3),S(4,"translate"),s()()}i&2&&(r(3),d(" ",_(4,1,"ACTION.CANCEL")," "))}var Mi=class Mi{constructor(n,e,o,t,l,p,c,D,re,oe){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.coreLogTokenConnectionService=t;this.cmsToastrService=l;this.tokenHelper=p;this.cmsStoreService=c;this.cdr=D;this.publicHelper=re;this.translate=oe;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new it;this.dataModelResult=new y;this.dataModel=new Lt;this.formInfo=new nt;this.dataModelEnumSendSmsStatusTypeResult=new y;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>O(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.coreLogTokenConnectionService.setAccessLoad(),this.coreLogTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Mi.\u0275fac=function(e){return new(e||Mi)(f(ee),f(Z),f(Q),f(Mt),f(j),f(F),f(H),f(P),f(q),f(G))},Mi.\u0275cmp=V({type:Mi,selectors:[["app-core-token-notificationlog-view"]],viewQuery:function(e,o){if(e&1&&K(ds,5),e&2){let t;X(t=Y())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),v(6,"app-cms-form-result-message",5),s(),a(7,"div",6),E(8,ps,5,3,"div",7),s()),e&2&&(r(),d(" ",o.formInfo.formTitle," "),r(2),g("optionsInfoAreaId",o.constructorInfoAreaId),r(),g("dataModel",o.dataModel)("optionMethod",1),r(2),g("formInfo",o.formInfo),r(2),k(o.formInfo.submitButtonEnabled?8:-1))},dependencies:[te,st,rt,N],encapsulation:2});var co=Mi;var us=()=>[5,10,20,100],fs=i=>({display:i}),Ss=i=>({background:i});function hs(i,n){if(i&1&&v(0,"app-core-user-header",3),i&2){let e=u();g("optionId",e.requestLinkUserId)}}function Cs(i,n){if(i&1){let e=A();a(0,"a",51),I("click",function(){h(e);let t=u();return C(t.onActionBackToParent())}),v(1,"i",52),s()}}function _s(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",53),I("click",function(){h(e);let t=u();return C(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",54)(3,"br"),s(),a(4,"p",21),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.EDIT")," "))}function vs(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",55),I("click",function(){h(e);let t=u();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",56)(3,"br"),s(),a(4,"p",21),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.DELETE")," "))}function gs(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",57),I("click",function(){h(e);let t=u();return C(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",58)(3,"br"),s(),a(4,"p",21),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.VIEW")," "))}function Ts(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function bs(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),d(" ",e.id," ")}}function Is(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ws(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),s()),i&2){let e=n.$implicit;r(),d(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function Ms(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function As(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),s()),i&2){let e=n.$implicit;r(),d(" ",_(3,3,_(2,1,e.linkUserId))," ")}}function Es(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function ks(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),d(" ",e.linkMemberUserId," ")}}function Rs(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ys(i,n){if(i&1&&v(0,"select",61),i&2){let e=u().$implicit,o=u();g("contentService",o.contentService)("row",e)("ngStyle",_e(3,fs,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Ds(i,n){if(i&1&&(a(0,"mat-cell",60),S(1,"statusCellClass"),v(2,"i",60),S(3,"statusIconClass"),E(4,ys,1,5,"select",61),s()),i&2){let e=n.$implicit,o=u();g("ngClass",_(1,3,e.recordStatus)),r(2),g("ngClass",_(3,5,e.recordStatus)),r(2),k(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessEditRow?4:-1)}}function Ls(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function xs(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),d(" ",ne(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Us(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function Bs(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),d(" ",ne(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Vs(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Os(i,n){if(i&1&&(a(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),g("ngClass",_(2,1,e.userAccessAdminAllowToAllData))}}function Ps(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Gs(i,n){if(i&1&&(a(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),g("ngClass",_(2,1,e.userAccessAdminAllowToProfessionalData))}}function Ns(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Hs(i,n){if(i&1&&(a(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),g("ngClass",_(2,1,e.rememberOnDevice))}}function Fs(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function js(i,n){if(i&1&&(a(0,"mat-cell",62),m(1),S(2,"localeDateTime"),s()),i&2){let e=n.$implicit;r(),d(" ",_(2,1,e.createdDate)," ")}}function qs(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Ws(i,n){if(i&1&&(a(0,"mat-cell",63),m(1),S(2,"persianDate"),s()),i&2){let e=n.$implicit,o=u();g("ngStyle",_e(4,Ss,o.publicHelper.RowStyleExpireDate(e.expireDate))),r(),d(" ",_(2,2,e.expireDate)," ")}}function Qs(i,n){i&1&&(a(0,"mat-header-cell"),m(1),S(2,"translate"),s()),i&2&&(r(),d(" ",_(2,1,"TITLE.OPTION")," "))}function $s(i,n){if(i&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),i&2){let e=z(5);r(),g("matMenuTriggerFor",e)}}function zs(i,n){i&1&&v(0,"mat-header-row")}function Js(i,n){if(i&1){let e=A();a(0,"mat-row",66),I("click",function(t){let l=h(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=n.$implicit,o=u();J("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Ai=class Ai extends Qe{constructor(e,o,t,l,p,c,D,re,oe,Se,et,It){super(e,new Lt,et,p,D);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=p;this.cdr=c;this.translate=D;this.cmsStoreService=re;this.router=oe;this.pageInfo=Se;this.publicHelper=et;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new y;this.dataModelEnumManageUserAccessUserTypesResult=new y;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let M=new R;M.propertyName="LinkCmsSiteId",M.value=this.requestLinkSiteId,this.filteModelContent.filters.push(M)}if(this.requestLinkUserId>0){let M=new R;M.propertyName="linkUserId",M.value=this.requestLinkUserId,this.filteModelContent.filters.push(M)}if(this.requestLinkDeviceId>0){let M=new R;M.propertyName="LinkDeviceId",M.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(M)}this.optionsSearch.parentMethods={onSubmit:M=>this.onSubmitOptionsSearch(M)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=L.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Lt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new R;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new R;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new R;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(co,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(lo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),p=new R;p.propertyName="recordStatus",p.value=be.Available,l.filters.push(p),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ai.\u0275fac=function(o){return new(o||Ai)(f(Mt),f(j),f(Ce),f(ge),f(F),f(P),f(G),f(H),f(Te),f(je),f(q),f(Me))},Ai.\u0275cmp=V({type:Ai,selectors:[["app-coretoken-notificationlog-list"]],standalone:!1,features:[$],decls:90,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=A();E(0,hs,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),B("optionActionGuideNoticeDisplayChange",function(c){return h(l),U(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),I("optionOnActionButtonMemoRow",function(){return h(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),C(t.onActionButtonPrintRow())}),T(2,5),m(3," -------------------------------------- "),b(),ie(4,6)(5,7),T(6,8),E(7,Cs,2,0,"a",9),a(8,"a",10),I("click",function(){return h(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),v(9,"i",11),s(),a(10,"a",10),I("click",function(){return h(l),C(t.onActionButtonReload())}),v(11,"i",12),s(),b(),T(12,13),a(13,"a",14),I("click",function(){return h(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(14,"mat-slide-toggle",15),m(15),S(16,"translate"),s(),a(17,"a",14),I("click",function(){return h(l),C(t.onActionButtonStatist())}),v(18,"mat-slide-toggle",15),m(19),S(20,"translate"),s(),b(),ie(21,16),T(22,17),E(23,_s,7,3,"div",18),E(24,vs,7,3,"div",18),a(25,"div",18)(26,"a",19),I("click",function(){return h(l),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(27,"i",20)(28,"br"),s(),a(29,"p",21),m(30),S(31,"translate"),s()(),a(32,"div",18)(33,"a",19),I("click",function(){return h(l),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(34,"i",22)(35,"br"),s(),a(36,"p",21),m(37),S(38,"translate"),s()(),E(39,gs,7,3,"div",18),b(),T(40,23),a(41,"app-cms-search-list",24),B("optionsChange",function(c){return h(l),U(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(42,"app-cms-statist-list",24),B("optionsChange",function(c){return h(l),U(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),T(43,25),a(44,"mat-table",26,0),I("matSortChange",function(){h(l);let c=z(45);return C(t.onTableSortData(c))}),T(46,27),w(47,Ts,2,1,"mat-header-cell",28)(48,bs,2,1,"mat-cell",29),b(),T(49,30),w(50,Is,2,1,"mat-header-cell",28)(51,ws,4,5,"mat-cell",29),b(),T(52,31),w(53,Ms,2,1,"mat-header-cell",28)(54,As,4,5,"mat-cell",29),b(),T(55,32),w(56,Es,2,1,"mat-header-cell",28)(57,ks,2,1,"mat-cell",29),b(),T(58,33),w(59,Rs,2,1,"mat-header-cell",28)(60,Ds,5,7,"mat-cell",34),b(),T(61,35),w(62,Ls,2,1,"mat-header-cell",28)(63,xs,3,4,"mat-cell",29),b(),T(64,36),w(65,Us,2,1,"mat-header-cell",28)(66,Bs,3,4,"mat-cell",29),b(),T(67,37),w(68,Vs,2,1,"mat-header-cell",28)(69,Os,3,3,"mat-cell",29),b(),T(70,38),w(71,Ps,2,1,"mat-header-cell",28)(72,Gs,3,3,"mat-cell",29),b(),T(73,39),w(74,Ns,2,1,"mat-header-cell",28)(75,Hs,3,3,"mat-cell",29),b(),T(76,40),w(77,Fs,2,1,"mat-header-cell",28)(78,js,3,3,"mat-cell",41),b(),T(79,42),w(80,qs,2,1,"mat-header-cell",28)(81,Ws,3,6,"mat-cell",43),b(),T(82,44),w(83,Qs,3,3,"mat-header-cell",45)(84,$s,6,1,"mat-cell",46),b(),w(85,zs,1,0,"mat-header-row",47)(86,Js,1,2,"mat-row",48),s(),b(),T(87,49),a(88,"mat-paginator",50,1),I("page",function(c){return h(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(k(t.requestLinkUserId>0?0:-1),r(),g("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),x("optionActionGuideNoticeDisplay",t.viewGuideNotice),g("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),r(6),k(t.requestLinkSiteId>0?7:-1),r(4),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),g("checked",t.optionsSearch.data.show),r(),d("",_(16,29,"ACTION.SEARCH")," "),r(3),g("checked",t.optionsStatist.data.show),r(),d("",_(20,31,"ACTION.STATIST")," "),r(4),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),r(),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),r(6),d(" ",_(31,33,"ACTION.SITE")," "),r(7),d(" ",_(38,35,"ACTION.USER")," "),r(2),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?39:-1),r(2),x("options",t.optionsSearch),r(),x("options",t.optionsStatist),r(2),g("dataSource",t.tableSource),r(41),g("matHeaderRowDef",t.tabledisplayedColumns),r(),g("matRowDefColumns",t.tabledisplayedColumns),r(2),g("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",he(37,us)))},dependencies:[tt,dt,we,Ae,at,Ee,ke,Re,ye,De,Le,xe,Be,Ge,Ve,Ue,Ne,Oe,Pe,He,Fe,$e,ze,Je,Ke,ht,Ye,ve,N,vt,Ze,qe,Xe,We,Ct,_t,ot],encapsulation:2});var mo=Ai;var Ks=["vform"];function Xs(i,n){if(i&1){let e=A();a(0,"app-cms-enum-record-status-selector",7),B("modelChange",function(t){h(e);let l=u();return U(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),C(t)}),s()}if(i&2){let e=u();x("model",e.dataModel.recordStatus),g("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ys(i,n){if(i&1&&(a(0,"div"),v(1,"div",8),S(2,"prettyjson"),s()),i&2){let e=u();r(),g("innerHTML",_(2,1,e.dataModel),ci)}}function Zs(i,n){if(i&1){let e=A();a(0,"div",6)(1,"button",9),I("click",function(){h(e);let t=u();return C(t.onFormCancel())}),v(2,"i",10),m(3),S(4,"translate"),s()()}i&2&&(r(3),d(" ",_(4,1,"ACTION.CANCEL")," "))}var Ei=class Ei extends ft{constructor(e,o,t,l,p,c,D,re,oe,Se){super(l,new gt,oe,Se);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenConnectionService=l;this.cmsToastrService=p;this.tokenHelper=c;this.cmsStoreService=D;this.cdr=re;this.publicHelper=oe;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Ki;this.dataModel=new gt;this.dataModelEnumManageUserAccessAreaTypesResult=new y;this.dataModelEnumManageUserAccessUserTypesResult=new y;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenConnectionService.setAccessLoad(),this.coreTokenConnectionService.setAccessDataType(pt.Editor),this.coreTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ei.\u0275fac=function(o){return new(o||Ei)(f(ee),f(Z),f(Q),f(Tt),f(j),f(F),f(H),f(P),f(q),f(G))},Ei.\u0275cmp=V({type:Ei,selectors:[["app-coretoken-notification-edit"]],viewQuery:function(o,t){if(o&1&&K(Ks,5),o&2){let l;X(l=Y())&&(t.formGroup=l.first)}},standalone:!1,features:[$],decls:15,vars:18,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),v(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),S(7,"translate"),s(),E(8,Xs,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),S(10,"translate"),v(11,"app-cms-user-selector",5),S(12,"translate"),E(13,Ys,3,3,"div"),E(14,Zs,5,3,"div",6),s()()),o&2&&(r(),g("optionsInfoAreaId",t.constructorInfoAreaId),r(3),d(" ",t.formInfo.formTitle," "),r(2),d(" ",_(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),k(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?8:-1),r(),g("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",_(10,14,"TITLE.WEBSITE")),r(2),g("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",_(12,16,"TITLE.USER")),r(2),k(t.tokenInfo.access.userAccessAdminAllowToProfessionalData?13:-1),r(),k(t.formInfo.submitButtonEnabled?14:-1))},dependencies:[ut,bt,St,te,N,pi],encapsulation:2});var ki=Ei;var ea=["vform"];function ta(i,n){if(i&1){let e=A();a(0,"div",7)(1,"button",8),I("click",function(){h(e);let t=u();return C(t.onFormCancel())}),v(2,"i",9),m(3),S(4,"translate"),s()()}i&2&&(r(3),d(" ",_(4,1,"ACTION.CANCEL")," "))}var Ri=class Ri{constructor(n,e,o,t,l,p,c,D,re,oe){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.coreTokenConnectionService=t;this.cmsToastrService=l;this.tokenHelper=p;this.cmsStoreService=c;this.cdr=D;this.publicHelper=re;this.translate=oe;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new it;this.dataModelResult=new y;this.dataModel=new gt;this.formInfo=new nt;this.dataModelEnumSendSmsStatusTypeResult=new y;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>O(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.coreTokenConnectionService.setAccessLoad(),this.coreTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ri.\u0275fac=function(e){return new(e||Ri)(f(ee),f(Z),f(Q),f(Tt),f(j),f(F),f(H),f(P),f(q),f(G))},Ri.\u0275cmp=V({type:Ri,selectors:[["app-coretoken-notification-view"]],viewQuery:function(e,o){if(e&1&&K(ea,5),e&2){let t;X(t=Y())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),v(6,"app-cms-form-result-message",5),s(),a(7,"div",6),E(8,ta,5,3,"div",7),s()),e&2&&(r(),d(" ",o.formInfo.formTitle," "),r(2),g("optionsInfoAreaId",o.constructorInfoAreaId),r(),g("dataModel",o.dataModel)("optionMethod",1),r(2),g("formInfo",o.formInfo),r(2),k(o.formInfo.submitButtonEnabled?8:-1))},dependencies:[te,st,rt,N],encapsulation:2});var yi=Ri;var ia=()=>[5,10,20,100],oa=i=>({display:i}),na=i=>({background:i});function ra(i,n){if(i&1&&v(0,"app-core-user-header",3),i&2){let e=u();g("optionId",e.requestLinkUserId)}}function sa(i,n){if(i&1){let e=A();a(0,"a",51),I("click",function(){h(e);let t=u();return C(t.onActionBackToParent())}),v(1,"i",52),s()}}function aa(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",53),I("click",function(){h(e);let t=u();return C(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",54)(3,"br"),s(),a(4,"p",21),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.EDIT")," "))}function la(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",55),I("click",function(){h(e);let t=u();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",56)(3,"br"),s(),a(4,"p",21),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.DELETE")," "))}function ca(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",57),I("click",function(){h(e);let t=u();return C(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",58)(3,"br"),s(),a(4,"p",21),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.VIEW")," "))}function ma(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function da(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),d(" ",e.id," ")}}function pa(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ua(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),s()),i&2){let e=n.$implicit;r(),d(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function fa(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Sa(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),s()),i&2){let e=n.$implicit;r(),d(" ",_(3,3,_(2,1,e.linkUserId))," ")}}function ha(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Ca(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),d(" ",e.linkMemberUserId," ")}}function _a(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function va(i,n){if(i&1&&v(0,"select",61),i&2){let e=u().$implicit,o=u();g("contentService",o.contentService)("row",e)("ngStyle",_e(3,oa,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function ga(i,n){if(i&1&&(a(0,"mat-cell",60),S(1,"statusCellClass"),v(2,"i",60),S(3,"statusIconClass"),E(4,va,1,5,"select",61),s()),i&2){let e=n.$implicit,o=u();g("ngClass",_(1,3,e.recordStatus)),r(2),g("ngClass",_(3,5,e.recordStatus)),r(2),k(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessEditRow?4:-1)}}function Ta(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function ba(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),d(" ",ne(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Ia(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function wa(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),d(" ",ne(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Ma(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Aa(i,n){if(i&1&&(a(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),g("ngClass",_(2,1,e.userAccessAdminAllowToAllData))}}function Ea(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function ka(i,n){if(i&1&&(a(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),g("ngClass",_(2,1,e.userAccessAdminAllowToProfessionalData))}}function Ra(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function ya(i,n){if(i&1&&(a(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),g("ngClass",_(2,1,e.rememberOnDevice))}}function Da(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function La(i,n){if(i&1&&(a(0,"mat-cell",62),m(1),S(2,"localeDateTime"),s()),i&2){let e=n.$implicit;r(),d(" ",_(2,1,e.createdDate)," ")}}function xa(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Ua(i,n){if(i&1&&(a(0,"mat-cell",63),m(1),S(2,"persianDate"),s()),i&2){let e=n.$implicit,o=u();g("ngStyle",_e(4,na,o.publicHelper.RowStyleExpireDate(e.expireDate))),r(),d(" ",_(2,2,e.expireDate)," ")}}function Ba(i,n){i&1&&(a(0,"mat-header-cell"),m(1),S(2,"translate"),s()),i&2&&(r(),d(" ",_(2,1,"TITLE.OPTION")," "))}function Va(i,n){if(i&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),i&2){let e=z(5);r(),g("matMenuTriggerFor",e)}}function Oa(i,n){i&1&&v(0,"mat-header-row")}function Pa(i,n){if(i&1){let e=A();a(0,"mat-row",66),I("click",function(t){let l=h(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=n.$implicit,o=u();J("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Di=class Di extends Qe{constructor(e,o,t,l,p,c,D,re,oe,Se,et,It){super(e,new gt,et,p,D);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=p;this.cdr=c;this.translate=D;this.cmsStoreService=re;this.router=oe;this.pageInfo=Se;this.publicHelper=et;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new y;this.dataModelEnumManageUserAccessUserTypesResult=new y;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let M=new R;M.propertyName="LinkCmsSiteId",M.value=this.requestLinkSiteId,this.filteModelContent.filters.push(M)}if(this.requestLinkUserId>0){let M=new R;M.propertyName="linkUserId",M.value=this.requestLinkUserId,this.filteModelContent.filters.push(M)}if(this.requestLinkDeviceId>0){let M=new R;M.propertyName="LinkDeviceId",M.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(M)}this.optionsSearch.parentMethods={onSubmit:M=>this.onSubmitOptionsSearch(M)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=L.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.processOrderStore).subscribe(e=>O(this,null,function*(){var o=e.find(t=>t.contentAction=="core_token_online_update_list"&&!t.isRun);o&&o?.id?.length>0&&(o.isRun=!0,this.publicHelper.setProcessOrder(o),this.DataGetAll(t=>{o.isComplate=!0,o.isSuccess=t,this.publicHelper.setProcessOrder(o)}))})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(e=()=>{}){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new gt);let o=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(l=>{this.publicHelper.processService.processStart(o,l,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let l=new R;l.propertyName="recordStatus",l.value=this.filteModelContent.filterActionSearchRecordStatus,t.filters.push(l)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let l=new R;l.propertyName="linkSiteId",l.value=this.filteModelContent.filterActionSearchLinkSiteId,t.filters.push(l)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let l=new R;l.propertyName="linkUserId",l.value=this.filteModelContent.filterActionSearchLinkUserId,t.filters.push(l)}this.contentService.ServiceGetAllLiveConnection(t).subscribe({next:l=>{l.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)},1e3)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(o),e&&e(!0)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(o,!1),e&&e(!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(yi,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(ki,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),p=new R;p.propertyName="recordStatus",p.value=be.Available,l.filters.push(p),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Di.\u0275fac=function(o){return new(o||Di)(f(Tt),f(j),f(Ce),f(ge),f(F),f(P),f(G),f(H),f(Te),f(je),f(q),f(Me))},Di.\u0275cmp=V({type:Di,selectors:[["app-coretoken-notification-list-online"]],standalone:!1,features:[$],decls:90,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=A();E(0,ra,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),B("optionActionGuideNoticeDisplayChange",function(c){return h(l),U(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),I("optionOnActionButtonMemoRow",function(){return h(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),C(t.onActionButtonPrintRow())}),T(2,5),m(3," -------------------------------------- "),b(),ie(4,6)(5,7),T(6,8),E(7,sa,2,0,"a",9),a(8,"a",10),I("click",function(){return h(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),v(9,"i",11),s(),a(10,"a",10),I("click",function(){return h(l),C(t.onActionButtonReload())}),v(11,"i",12),s(),b(),T(12,13),a(13,"a",14),I("click",function(){return h(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(14,"mat-slide-toggle",15),m(15),S(16,"translate"),s(),a(17,"a",14),I("click",function(){return h(l),C(t.onActionButtonStatist())}),v(18,"mat-slide-toggle",15),m(19),S(20,"translate"),s(),b(),ie(21,16),T(22,17),E(23,aa,7,3,"div",18),E(24,la,7,3,"div",18),a(25,"div",18)(26,"a",19),I("click",function(){return h(l),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(27,"i",20)(28,"br"),s(),a(29,"p",21),m(30),S(31,"translate"),s()(),a(32,"div",18)(33,"a",19),I("click",function(){return h(l),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(34,"i",22)(35,"br"),s(),a(36,"p",21),m(37),S(38,"translate"),s()(),E(39,ca,7,3,"div",18),b(),T(40,23),a(41,"app-cms-search-list",24),B("optionsChange",function(c){return h(l),U(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(42,"app-cms-statist-list",24),B("optionsChange",function(c){return h(l),U(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),T(43,25),a(44,"mat-table",26,0),I("matSortChange",function(){h(l);let c=z(45);return C(t.onTableSortData(c))}),T(46,27),w(47,ma,2,1,"mat-header-cell",28)(48,da,2,1,"mat-cell",29),b(),T(49,30),w(50,pa,2,1,"mat-header-cell",28)(51,ua,4,5,"mat-cell",29),b(),T(52,31),w(53,fa,2,1,"mat-header-cell",28)(54,Sa,4,5,"mat-cell",29),b(),T(55,32),w(56,ha,2,1,"mat-header-cell",28)(57,Ca,2,1,"mat-cell",29),b(),T(58,33),w(59,_a,2,1,"mat-header-cell",28)(60,ga,5,7,"mat-cell",34),b(),T(61,35),w(62,Ta,2,1,"mat-header-cell",28)(63,ba,3,4,"mat-cell",29),b(),T(64,36),w(65,Ia,2,1,"mat-header-cell",28)(66,wa,3,4,"mat-cell",29),b(),T(67,37),w(68,Ma,2,1,"mat-header-cell",28)(69,Aa,3,3,"mat-cell",29),b(),T(70,38),w(71,Ea,2,1,"mat-header-cell",28)(72,ka,3,3,"mat-cell",29),b(),T(73,39),w(74,Ra,2,1,"mat-header-cell",28)(75,ya,3,3,"mat-cell",29),b(),T(76,40),w(77,Da,2,1,"mat-header-cell",28)(78,La,3,3,"mat-cell",41),b(),T(79,42),w(80,xa,2,1,"mat-header-cell",28)(81,Ua,3,6,"mat-cell",43),b(),T(82,44),w(83,Ba,3,3,"mat-header-cell",45)(84,Va,6,1,"mat-cell",46),b(),w(85,Oa,1,0,"mat-header-row",47)(86,Pa,1,2,"mat-row",48),s(),b(),T(87,49),a(88,"mat-paginator",50,1),I("page",function(c){return h(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(k(t.requestLinkUserId>0?0:-1),r(),g("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),x("optionActionGuideNoticeDisplay",t.viewGuideNotice),g("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),r(6),k(t.requestLinkSiteId>0?7:-1),r(4),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),g("checked",t.optionsSearch.data.show),r(),d("",_(16,29,"ACTION.SEARCH")," "),r(3),g("checked",t.optionsStatist.data.show),r(),d("",_(20,31,"ACTION.STATIST")," "),r(4),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),r(),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),r(6),d(" ",_(31,33,"ACTION.SITE")," "),r(7),d(" ",_(38,35,"ACTION.USER")," "),r(2),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?39:-1),r(2),x("options",t.optionsSearch),r(),x("options",t.optionsStatist),r(2),g("dataSource",t.tableSource),r(41),g("matHeaderRowDef",t.tabledisplayedColumns),r(),g("matRowDefColumns",t.tabledisplayedColumns),r(2),g("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",he(37,ia)))},dependencies:[tt,dt,we,Ae,at,Ee,ke,Re,ye,De,Le,xe,Be,Ge,Ve,Ue,Ne,Oe,Pe,He,Fe,$e,ze,Je,Ke,ht,Ye,ve,N,vt,Ze,qe,Xe,We,Ct,_t,ot],encapsulation:2});var po=Di;var Ga=()=>[5,10,20,100],Na=i=>({display:i}),Ha=i=>({background:i});function Fa(i,n){if(i&1&&v(0,"app-core-user-header",3),i&2){let e=u();g("optionId",e.requestLinkUserId)}}function ja(i,n){if(i&1){let e=A();a(0,"a",51),I("click",function(){h(e);let t=u();return C(t.onActionBackToParent())}),v(1,"i",52),s()}}function qa(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",53),I("click",function(){h(e);let t=u();return C(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",54)(3,"br"),s(),a(4,"p",21),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.EDIT")," "))}function Wa(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",55),I("click",function(){h(e);let t=u();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",56)(3,"br"),s(),a(4,"p",21),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.DELETE")," "))}function Qa(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",57),I("click",function(){h(e);let t=u();return C(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",58)(3,"br"),s(),a(4,"p",21),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.VIEW")," "))}function $a(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function za(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),d(" ",e.id," ")}}function Ja(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ka(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),s()),i&2){let e=n.$implicit;r(),d(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function Xa(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Ya(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),s()),i&2){let e=n.$implicit;r(),d(" ",_(3,3,_(2,1,e.linkUserId))," ")}}function Za(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function el(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),d(" ",e.linkMemberUserId," ")}}function tl(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function il(i,n){if(i&1&&v(0,"select",61),i&2){let e=u().$implicit,o=u();g("contentService",o.contentService)("row",e)("ngStyle",_e(3,Na,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function ol(i,n){if(i&1&&(a(0,"mat-cell",60),S(1,"statusCellClass"),v(2,"i",60),S(3,"statusIconClass"),E(4,il,1,5,"select",61),s()),i&2){let e=n.$implicit,o=u();g("ngClass",_(1,3,e.recordStatus)),r(2),g("ngClass",_(3,5,e.recordStatus)),r(2),k(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessEditRow?4:-1)}}function nl(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function rl(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),d(" ",ne(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function sl(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function al(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),d(" ",ne(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function ll(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function cl(i,n){if(i&1&&(a(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),g("ngClass",_(2,1,e.userAccessAdminAllowToAllData))}}function ml(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function dl(i,n){if(i&1&&(a(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),g("ngClass",_(2,1,e.userAccessAdminAllowToProfessionalData))}}function pl(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function ul(i,n){if(i&1&&(a(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),g("ngClass",_(2,1,e.rememberOnDevice))}}function fl(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Sl(i,n){if(i&1&&(a(0,"mat-cell",62),m(1),S(2,"localeDateTime"),s()),i&2){let e=n.$implicit;r(),d(" ",_(2,1,e.createdDate)," ")}}function hl(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Cl(i,n){if(i&1&&(a(0,"mat-cell",63),m(1),S(2,"persianDate"),s()),i&2){let e=n.$implicit,o=u();g("ngStyle",_e(4,Ha,o.publicHelper.RowStyleExpireDate(e.expireDate))),r(),d(" ",_(2,2,e.expireDate)," ")}}function _l(i,n){i&1&&(a(0,"mat-header-cell"),m(1),S(2,"translate"),s()),i&2&&(r(),d(" ",_(2,1,"TITLE.OPTION")," "))}function vl(i,n){if(i&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),i&2){let e=z(5);r(),g("matMenuTriggerFor",e)}}function gl(i,n){i&1&&v(0,"mat-header-row")}function Tl(i,n){if(i&1){let e=A();a(0,"mat-row",66),I("click",function(t){let l=h(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=n.$implicit,o=u();J("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Li=class Li extends Qe{constructor(e,o,t,l,p,c,D,re,oe,Se,et,It){super(e,new gt,et,p,D);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=p;this.cdr=c;this.translate=D;this.cmsStoreService=re;this.router=oe;this.pageInfo=Se;this.publicHelper=et;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new y;this.dataModelEnumManageUserAccessUserTypesResult=new y;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let M=new R;M.propertyName="LinkCmsSiteId",M.value=this.requestLinkSiteId,this.filteModelContent.filters.push(M)}if(this.requestLinkUserId>0){let M=new R;M.propertyName="linkUserId",M.value=this.requestLinkUserId,this.filteModelContent.filters.push(M)}if(this.requestLinkDeviceId>0){let M=new R;M.propertyName="LinkDeviceId",M.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(M)}this.optionsSearch.parentMethods={onSubmit:M=>this.onSubmitOptionsSearch(M)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=L.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new gt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new R;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new R;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new R;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(yi,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(ki,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),p=new R;p.propertyName="recordStatus",p.value=be.Available,l.filters.push(p),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Li.\u0275fac=function(o){return new(o||Li)(f(Tt),f(j),f(Ce),f(ge),f(F),f(P),f(G),f(H),f(Te),f(je),f(q),f(Me))},Li.\u0275cmp=V({type:Li,selectors:[["app-coretoken-notification-list"]],standalone:!1,features:[$],decls:90,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=A();E(0,Fa,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),B("optionActionGuideNoticeDisplayChange",function(c){return h(l),U(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),I("optionOnActionButtonMemoRow",function(){return h(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),C(t.onActionButtonPrintRow())}),T(2,5),m(3," -------------------------------------- "),b(),ie(4,6)(5,7),T(6,8),E(7,ja,2,0,"a",9),a(8,"a",10),I("click",function(){return h(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),v(9,"i",11),s(),a(10,"a",10),I("click",function(){return h(l),C(t.onActionButtonReload())}),v(11,"i",12),s(),b(),T(12,13),a(13,"a",14),I("click",function(){return h(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(14,"mat-slide-toggle",15),m(15),S(16,"translate"),s(),a(17,"a",14),I("click",function(){return h(l),C(t.onActionButtonStatist())}),v(18,"mat-slide-toggle",15),m(19),S(20,"translate"),s(),b(),ie(21,16),T(22,17),E(23,qa,7,3,"div",18),E(24,Wa,7,3,"div",18),a(25,"div",18)(26,"a",19),I("click",function(){return h(l),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(27,"i",20)(28,"br"),s(),a(29,"p",21),m(30),S(31,"translate"),s()(),a(32,"div",18)(33,"a",19),I("click",function(){return h(l),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(34,"i",22)(35,"br"),s(),a(36,"p",21),m(37),S(38,"translate"),s()(),E(39,Qa,7,3,"div",18),b(),T(40,23),a(41,"app-cms-search-list",24),B("optionsChange",function(c){return h(l),U(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(42,"app-cms-statist-list",24),B("optionsChange",function(c){return h(l),U(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),T(43,25),a(44,"mat-table",26,0),I("matSortChange",function(){h(l);let c=z(45);return C(t.onTableSortData(c))}),T(46,27),w(47,$a,2,1,"mat-header-cell",28)(48,za,2,1,"mat-cell",29),b(),T(49,30),w(50,Ja,2,1,"mat-header-cell",28)(51,Ka,4,5,"mat-cell",29),b(),T(52,31),w(53,Xa,2,1,"mat-header-cell",28)(54,Ya,4,5,"mat-cell",29),b(),T(55,32),w(56,Za,2,1,"mat-header-cell",28)(57,el,2,1,"mat-cell",29),b(),T(58,33),w(59,tl,2,1,"mat-header-cell",28)(60,ol,5,7,"mat-cell",34),b(),T(61,35),w(62,nl,2,1,"mat-header-cell",28)(63,rl,3,4,"mat-cell",29),b(),T(64,36),w(65,sl,2,1,"mat-header-cell",28)(66,al,3,4,"mat-cell",29),b(),T(67,37),w(68,ll,2,1,"mat-header-cell",28)(69,cl,3,3,"mat-cell",29),b(),T(70,38),w(71,ml,2,1,"mat-header-cell",28)(72,dl,3,3,"mat-cell",29),b(),T(73,39),w(74,pl,2,1,"mat-header-cell",28)(75,ul,3,3,"mat-cell",29),b(),T(76,40),w(77,fl,2,1,"mat-header-cell",28)(78,Sl,3,3,"mat-cell",41),b(),T(79,42),w(80,hl,2,1,"mat-header-cell",28)(81,Cl,3,6,"mat-cell",43),b(),T(82,44),w(83,_l,3,3,"mat-header-cell",45)(84,vl,6,1,"mat-cell",46),b(),w(85,gl,1,0,"mat-header-row",47)(86,Tl,1,2,"mat-row",48),s(),b(),T(87,49),a(88,"mat-paginator",50,1),I("page",function(c){return h(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(k(t.requestLinkUserId>0?0:-1),r(),g("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),x("optionActionGuideNoticeDisplay",t.viewGuideNotice),g("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),r(6),k(t.requestLinkSiteId>0?7:-1),r(4),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),g("checked",t.optionsSearch.data.show),r(),d("",_(16,29,"ACTION.SEARCH")," "),r(3),g("checked",t.optionsStatist.data.show),r(),d("",_(20,31,"ACTION.STATIST")," "),r(4),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),r(),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),r(6),d(" ",_(31,33,"ACTION.SITE")," "),r(7),d(" ",_(38,35,"ACTION.USER")," "),r(2),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?39:-1),r(2),x("options",t.optionsSearch),r(),x("options",t.optionsStatist),r(2),g("dataSource",t.tableSource),r(41),g("matHeaderRowDef",t.tabledisplayedColumns),r(),g("matRowDefColumns",t.tabledisplayedColumns),r(2),g("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",he(37,Ga)))},dependencies:[tt,dt,we,Ae,at,Ee,ke,Re,ye,De,Le,xe,Be,Ge,Ve,Ue,Ne,Oe,Pe,He,Fe,$e,ze,Je,Ke,ht,Ye,ve,N,vt,Ze,qe,Xe,We,Ct,_t,ot],encapsulation:2});var uo=Li;var bl=["vform"];function Il(i,n){if(i&1&&(a(0,"option",17),m(1),s()),i&2){let e=n.$implicit;g("value",e.value),r(),d(" ",e.description," ")}}function wl(i,n){i&1&&(a(0,"mat-error"),m(1," UserAccessAreaType is "),a(2,"strong"),m(3),S(4,"translate"),s()()),i&2&&(r(3),vo(_(4,1,"MESSAGE.required")))}function Ml(i,n){if(i&1&&(a(0,"div"),v(1,"div",26),S(2,"prettyjson"),s()),i&2){let e=u();r(),g("innerHTML",_(2,1,e.dataModel),ci)}}function Al(i,n){if(i&1){let e=A();a(0,"div",25)(1,"button",27),I("click",function(){h(e);let t=u();return C(t.onFormCancel())}),v(2,"i",28),m(3),S(4,"translate"),s()()}i&2&&(r(3),d(" ",_(4,1,"ACTION.CANCEL")," "))}var xi=class xi extends ft{constructor(e,o,t,l,p,c,D,re,oe,Se){super(l,new Ut,oe,Se);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenUserBadLoginService=l;this.cmsToastrService=p;this.tokenHelper=c;this.cmsStoreService=D;this.cdr=re;this.publicHelper=oe;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new y;this.dataModel=new Ut;this.dataModelEnumManageUserAccessAreaTypesResult=new y;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.setAccessDataType(pt.Editor),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};xi.\u0275fac=function(o){return new(o||xi)(f(ee),f(Z),f(Q),f(Rt),f(j),f(F),f(H),f(P),f(q),f(G))},xi.\u0275cmp=V({type:xi,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&K(bl,5),o&2){let l;X(l=Y())&&(t.formGroup=l.first)}},standalone:!1,features:[$],decls:50,vars:32,consts:[["UsedUsername",""],["UsedPwd",""],["UserAccessAreaType","ngModel"],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.usedUsername",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedUsername","placeholder","UsedUsername","id","dataModel.usedUsername",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.usedPwd",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedPwd","placeholder","UsedPwd","id","dataModel.usedPwd",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){if(o&1){let l=A();a(0,"div",6),v(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),m(4),s(),a(5,"p"),m(6),S(7,"translate"),s(),a(8,"div",10)(9,"label",11),m(10,"UsedUsername"),s(),a(11,"input",12,0),B("ngModelChange",function(c){return h(l),U(t.dataModel.usedUsername,c)||(t.dataModel.usedUsername=c),C(c)}),s()(),a(13,"div",10)(14,"label",13),m(15,"UsedPwd"),s(),a(16,"input",14,1),B("ngModelChange",function(c){return h(l),U(t.dataModel.usedPwd,c)||(t.dataModel.usedPwd=c),C(c)}),s()(),a(18,"div",15)(19,"select",16,2),B("ngModelChange",function(c){return h(l),U(t.dataModel.userAccessAreaType,c)||(t.dataModel.userAccessAreaType=c),C(c)}),bo(21,Il,2,2,"option",17,To),s(),a(23,"em"),m(24),S(25,"translate"),s(),E(26,wl,5,3,"mat-error"),s(),v(27,"app-cms-site-selector",18),S(28,"translate"),v(29,"app-cms-user-selector",18),S(30,"translate"),v(31,"app-cms-member-selector",18),S(32,"translate"),a(33,"div",10)(34,"label",19),m(35,"LinkDeviceId"),s(),a(36,"input",20,3),B("ngModelChange",function(c){return h(l),U(t.dataModel.linkDeviceId,c)||(t.dataModel.linkDeviceId=c),C(c)}),s()(),a(38,"div",10)(39,"label",21),m(40,"LinkApplicationId"),s(),a(41,"input",22,4),B("ngModelChange",function(c){return h(l),U(t.dataModel.linkApplicationId,c)||(t.dataModel.linkApplicationId=c),C(c)}),s()(),a(43,"div",10)(44,"label",23),m(45,"DeviceClientMAC"),s(),a(46,"input",24,5),B("ngModelChange",function(c){return h(l),U(t.dataModel.deviceClientMAC,c)||(t.dataModel.deviceClientMAC=c),C(c)}),s()(),E(48,Ml,3,3,"div"),E(49,Al,5,3,"div",25),s()()}if(o&2){let l=z(20);r(),g("optionsInfoAreaId",t.constructorInfoAreaId),r(3),d(" ",t.formInfo.formTitle," "),r(2),d(" ",_(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),r(5),x("ngModel",t.dataModel.usedUsername),r(5),x("ngModel",t.dataModel.usedPwd),r(3),x("ngModel",t.dataModel.userAccessAreaType),r(2),Io(t.dataModelEnumManageUserAccessAreaTypesResult.listItems),r(3),vo(_(25,24,"TITLE.SELECT_STATUS")),r(2),k(l.errors!=null&&l.errors.required?26:-1),r(),g("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",_(28,26,"TITLE.WEBSITE")),r(2),g("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",_(30,28,"TITLE.USER")),r(2),g("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",_(32,30,"TITLE.Member")),r(5),x("ngModel",t.dataModel.linkDeviceId),r(5),x("ngModel",t.dataModel.linkApplicationId),r(5),x("ngModel",t.dataModel.deviceClientMAC),r(2),k(t.tokenInfo.access.userAccessAdminAllowToProfessionalData?48:-1),r(),k(t.formInfo.submitButtonEnabled?49:-1)}},dependencies:[Lo,xo,ko,Do,Ro,yo,Vo,at,ut,St,Go,te,N,pi],encapsulation:2});var fo=xi;var El=["vform"];function kl(i,n){if(i&1){let e=A();a(0,"div",7)(1,"button",8),I("click",function(){h(e);let t=u();return C(t.onFormCancel())}),v(2,"i",9),m(3),S(4,"translate"),s()()}i&2&&(r(3),d(" ",_(4,1,"ACTION.CANCEL")," "))}var Ui=class Ui{constructor(n,e,o,t,l,p,c,D,re,oe){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.coreTokenUserBadLoginService=t;this.cmsToastrService=l;this.tokenHelper=p;this.cmsStoreService=c;this.cdr=D;this.publicHelper=re;this.translate=oe;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new it;this.dataModelResult=new y;this.dataModel=new Ut;this.formInfo=new nt;this.dataModelEnumSendSmsStatusTypeResult=new y;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>O(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ui.\u0275fac=function(e){return new(e||Ui)(f(ee),f(Z),f(Q),f(Rt),f(j),f(F),f(H),f(P),f(q),f(G))},Ui.\u0275cmp=V({type:Ui,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&K(El,5),e&2){let t;X(t=Y())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),v(6,"app-cms-form-result-message",5),s(),a(7,"div",6),E(8,kl,5,3,"div",7),s()),e&2&&(r(),d(" ",o.formInfo.formTitle," "),r(2),g("optionsInfoAreaId",o.constructorInfoAreaId),r(),g("dataModel",o.dataModel)("optionMethod",1),r(2),g("formInfo",o.formInfo),r(2),k(o.formInfo.submitButtonEnabled?8:-1))},dependencies:[te,st,rt,N],encapsulation:2});var So=Ui;var Rl=()=>[5,10,20,100];function yl(i,n){if(i&1&&v(0,"app-core-user-header",3),i&2){let e=u();g("optionId",e.requestLinkUserId)}}function Dl(i,n){if(i&1){let e=A();a(0,"a",46),I("click",function(){h(e);let t=u();return C(t.onActionBackToParent())}),v(1,"i",47),s()}}function Ll(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",48),I("click",function(){h(e);let t=u();return C(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",49)(3,"br"),s(),a(4,"p",21),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.EDIT")," "))}function xl(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",50),I("click",function(){h(e);let t=u();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",51)(3,"br"),s(),a(4,"p",21),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.DELETE")," "))}function Ul(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",52),I("click",function(){h(e);let t=u();return C(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",53)(3,"br"),s(),a(4,"p",21),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.VIEW")," "))}function Bl(i,n){if(i&1&&(a(0,"mat-header-cell",54),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Vl(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),d(" ",e.id," ")}}function Ol(i,n){if(i&1&&(a(0,"mat-header-cell",54),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Pl(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),s()),i&2){let e=n.$implicit;r(),d(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function Gl(i,n){if(i&1&&(a(0,"mat-header-cell",54),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Nl(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),s()),i&2){let e=n.$implicit;r(),d(" ",_(3,3,_(2,1,e.linkUserId))," ")}}function Hl(i,n){if(i&1&&(a(0,"mat-header-cell",54),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function Fl(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),d(" ",e.linkMemberId," ")}}function jl(i,n){if(i&1&&(a(0,"mat-header-cell",54),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function ql(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),d(" ",ne(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Wl(i,n){if(i&1&&(a(0,"mat-header-cell",54),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.usedUsername==null?null:e.fieldsInfo.usedUsername.fieldTitle," ")}}function Ql(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),d(" ",e.usedUsername," ")}}function $l(i,n){if(i&1&&(a(0,"mat-header-cell",54),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function zl(i,n){if(i&1&&(a(0,"mat-cell",55),m(1),S(2,"localeDateTime"),s()),i&2){let e=n.$implicit;r(),d(" ",_(2,1,e.createdDate)," ")}}function Jl(i,n){i&1&&(a(0,"mat-header-cell"),m(1),S(2,"translate"),s()),i&2&&(r(),d(" ",_(2,1,"TITLE.OPTION")," "))}function Kl(i,n){if(i&1&&(a(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),i&2){let e=z(5);r(),g("matMenuTriggerFor",e)}}function Xl(i,n){i&1&&v(0,"mat-header-row")}function Yl(i,n){if(i&1){let e=A();a(0,"mat-row",58),I("click",function(t){let l=h(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=n.$implicit,o=u();J("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Bi=class Bi extends Qe{constructor(e,o,t,l,p,c,D,re,oe,Se,et,It,M){super(o,new Ut,It,c,re);this.coreEnumService=e;this.contentService=o;this.cmsToastrService=t;this.cmsConfirmationDialogService=l;this.activatedRoute=p;this.tokenHelper=c;this.cdr=D;this.translate=re;this.cmsStoreService=oe;this.router=Se;this.pageInfo=et;this.publicHelper=It;this.dialog=M;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","linkMemberId","UserAccessAreaType","UsedUsername","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","linkMemberId","UserAccessAreaType","UsedUsername","createdDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new y;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let lt=new R;lt.propertyName="LinkCmsSiteId",lt.value=this.requestLinkSiteId,this.filteModelContent.filters.push(lt)}if(this.requestLinkUserId>0){let lt=new R;lt.propertyName="linkUserId",lt.value=this.requestLinkUserId,this.filteModelContent.filters.push(lt)}if(this.requestLinkDeviceId>0){let lt=new R;lt.propertyName="LinkDeviceId",lt.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(lt)}this.optionsSearch.parentMethods={onSubmit:lt=>this.onSubmitOptionsSearch(lt)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=L.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ut);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new R;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new R;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new R;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(So,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(fo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),p=new R;p.propertyName="recordStatus",p.value=be.Available,l.filters.push(p),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Bi.\u0275fac=function(o){return new(o||Bi)(f(Q),f(Rt),f(j),f(Ce),f(ge),f(F),f(P),f(G),f(H),f(Te),f(je),f(q),f(Me))},Bi.\u0275cmp=V({type:Bi,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[$],decls:89,vars:44,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UsedUsername"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=A();E(0,yl,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),B("optionActionGuideNoticeDisplayChange",function(c){return h(l),U(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),I("optionOnActionButtonMemoRow",function(){return h(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),C(t.onActionButtonPrintRow())}),T(2,5),m(3," -------------------------------------- "),b(),ie(4,6)(5,7),T(6,8),E(7,Dl,2,0,"a",9),a(8,"a",10),I("click",function(){return h(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),v(9,"i",11),s(),a(10,"a",10),I("click",function(){return h(l),C(t.onActionButtonReload())}),v(11,"i",12),s(),b(),T(12,13),a(13,"a",14),I("click",function(){return h(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(14,"mat-slide-toggle",15),m(15),S(16,"translate"),s(),a(17,"a",14),I("click",function(){return h(l),C(t.onActionButtonStatist())}),v(18,"mat-slide-toggle",15),m(19),S(20,"translate"),s(),b(),ie(21,16),T(22,17),E(23,Ll,7,3,"div",18),E(24,xl,7,3,"div",18),a(25,"div",18)(26,"a",19),I("click",function(){return h(l),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(27,"i",20)(28,"br"),s(),a(29,"p",21),m(30),S(31,"translate"),s()(),a(32,"div",18)(33,"a",19),I("click",function(){return h(l),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(34,"i",22)(35,"br"),s(),a(36,"p",21),m(37),S(38,"translate"),s()(),a(39,"div",18)(40,"a",19),I("click",function(){return h(l),C(t.onActionButtonViewMemberRow(t.tableRowSelected))}),v(41,"i",23)(42,"br"),s(),a(43,"p",21),m(44),S(45,"translate"),s()(),a(46,"div",18)(47,"a",19),I("click",function(){return h(l),C(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),v(48,"i",24)(49,"br"),s(),a(50,"p",21),m(51),S(52,"translate"),s()(),E(53,Ul,7,3,"div",18),b(),T(54,25),a(55,"app-cms-search-list",26),B("optionsChange",function(c){return h(l),U(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(56,"app-cms-statist-list",26),B("optionsChange",function(c){return h(l),U(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),T(57,27),a(58,"mat-table",28,0),I("matSortChange",function(){h(l);let c=z(59);return C(t.onTableSortData(c))}),T(60,29),w(61,Bl,2,1,"mat-header-cell",30)(62,Vl,2,1,"mat-cell",31),b(),T(63,32),w(64,Ol,2,1,"mat-header-cell",30)(65,Pl,4,5,"mat-cell",31),b(),T(66,33),w(67,Gl,2,1,"mat-header-cell",30)(68,Nl,4,5,"mat-cell",31),b(),T(69,34),w(70,Hl,2,1,"mat-header-cell",30)(71,Fl,2,1,"mat-cell",31),b(),T(72,35),w(73,jl,2,1,"mat-header-cell",30)(74,ql,3,4,"mat-cell",31),b(),T(75,36),w(76,Wl,2,1,"mat-header-cell",30)(77,Ql,2,1,"mat-cell",31),b(),T(78,37),w(79,$l,2,1,"mat-header-cell",30)(80,zl,3,3,"mat-cell",38),b(),T(81,39),w(82,Jl,3,3,"mat-header-cell",40)(83,Kl,6,1,"mat-cell",41),b(),w(84,Xl,1,0,"mat-header-row",42)(85,Yl,1,2,"mat-row",43),s(),b(),T(86,44),a(87,"mat-paginator",45,1),I("page",function(c){return h(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(k(t.requestLinkUserId>0?0:-1),r(),g("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),x("optionActionGuideNoticeDisplay",t.viewGuideNotice),g("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),r(6),k(t.requestLinkSiteId>0?7:-1),r(4),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),g("checked",t.optionsSearch.data.show),r(),d("",_(16,31,"ACTION.SEARCH")," "),r(3),g("checked",t.optionsStatist.data.show),r(),d("",_(20,33,"ACTION.STATIST")," "),r(4),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),r(),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),r(6),d(" ",_(31,35,"ACTION.SITE")," "),r(7),d(" ",_(38,37,"ACTION.USER")," "),r(7),d(" ",_(45,39,"ACTION.MEMBER")," "),r(7),d(" ",_(52,41,"ACTION.DEVICE")," "),r(2),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?53:-1),r(2),x("options",t.optionsSearch),r(),x("options",t.optionsStatist),r(2),g("dataSource",t.tableSource),r(26),g("matHeaderRowDef",t.tabledisplayedColumns),r(),g("matRowDefColumns",t.tabledisplayedColumns),r(2),g("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",he(43,Rl)))},dependencies:[we,Ae,Ee,ke,Re,ye,De,Le,xe,Be,Ge,Ve,Ue,Ne,Oe,Pe,He,Fe,$e,ze,Je,Ke,Ye,ve,N,Ze,qe,Xe,We],encapsulation:2});var ni=Bi;var Zl=["vform"];function ec(i,n){if(i&1){let e=A();a(0,"div",7)(1,"button",8),I("click",function(){h(e);let t=u();return C(t.onFormCancel())}),v(2,"i",9),m(3),S(4,"translate"),s()()}i&2&&(r(3),d(" ",_(4,1,"ACTION.CANCEL")," "))}var Vi=class Vi{constructor(n,e,o,t,l,p,c,D,re,oe){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.coreTokenAuthUserService=t;this.cmsToastrService=l;this.tokenHelper=p;this.cmsStoreService=c;this.cdr=D;this.publicHelper=re;this.translate=oe;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new it;this.dataModelResult=new y;this.dataModel=new Ni;this.formInfo=new nt;this.dataModelEnumSendSmsStatusTypeResult=new y;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>O(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.coreTokenAuthUserService.setAccessLoad(),this.coreTokenAuthUserService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vi.\u0275fac=function(e){return new(e||Vi)(f(ee),f(Z),f(Q),f(mi),f(j),f(F),f(H),f(P),f(q),f(G))},Vi.\u0275cmp=V({type:Vi,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&K(Zl,5),e&2){let t;X(t=Y())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),v(6,"app-cms-form-result-message",5),s(),a(7,"div",6),E(8,ec,5,3,"div",7),s()),e&2&&(r(),d(" ",o.formInfo.formTitle," "),r(2),g("optionsInfoAreaId",o.constructorInfoAreaId),r(),g("dataModel",o.dataModel)("optionMethod",1),r(2),g("formInfo",o.formInfo),r(2),k(o.formInfo.submitButtonEnabled?8:-1))},dependencies:[te,st,rt,N],encapsulation:2});var ho=Vi;var tc=()=>["expandedTitle"],ic=()=>[5,10,20,100];function oc(i,n){if(i&1&&v(0,"app-core-user-header",3),i&2){let e=u();g("optionId",e.requestLinkUserId)}}function nc(i,n){if(i&1){let e=A();a(0,"a",46),I("click",function(){h(e);let t=u();return C(t.onActionBackToParent())}),v(1,"i",47),s()}}function rc(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",48),I("click",function(){h(e);let t=u();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",49)(3,"br"),s(),a(4,"p",50),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.DELETE")," "))}function sc(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",51),I("click",function(){h(e);let t=u();return C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(2,"i",52)(3,"br"),s(),a(4,"p",50),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.SITE")," "))}function ac(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",51),I("click",function(){h(e);let t=u();return C(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(2,"i",53)(3,"br"),s(),a(4,"p",50),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.USER")," "))}function lc(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",51),I("click",function(){h(e);let t=u();return C(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),v(2,"i",54)(3,"br"),s(),a(4,"p",50),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.DEVICE")," "))}function cc(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",55),I("click",function(){h(e);let t=u();return C(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",56)(3,"br"),s(),a(4,"p",50),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.VIEW")," "))}function mc(i,n){if(i&1){let e=A();a(0,"mat-row",57),I("click",function(t){let l=h(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=h(e).$implicit,l=u();return C(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=h(e).$implicit,l=u();return C(l.onActionTableRowMouseLeave(t))}),s()}if(i&2){let e=n.$implicit,o=u();J("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}function dc(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function pc(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),d(" ",e.id," ")}}function uc(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function fc(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),d(" ",e.description," ")}}function Sc(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function hc(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),s()),i&2){let e=n.$implicit;r(),d(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function Cc(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function _c(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),s()),i&2){let e=n.$implicit;r(),d(" ",_(3,3,_(2,1,e.linkUserId))," ")}}function vc(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function gc(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),d(" ",e.linkMemberUserId," ")}}function Tc(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function bc(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),d(" ",ne(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Ic(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function wc(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),d(" ",ne(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Mc(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Ac(i,n){if(i&1&&(a(0,"mat-cell"),v(1,"i",59),S(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),g("ngClass",_(2,1,e.userAccessAdminAllowToAllData))}}function Ec(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function kc(i,n){if(i&1&&(a(0,"mat-cell"),v(1,"i",59),S(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),g("ngClass",_(2,1,e.userAccessAdminAllowToProfessionalData))}}function Rc(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function yc(i,n){if(i&1&&(a(0,"mat-cell"),v(1,"i",59),S(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),g("ngClass",_(2,1,e.rememberOnDevice))}}function Dc(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Lc(i,n){if(i&1&&(a(0,"mat-cell",60),m(1),S(2,"localeDateTime"),s()),i&2){let e=n.$implicit;r(),d(" ",_(2,1,e.createdDate)," ")}}function xc(i,n){i&1&&(a(0,"mat-header-cell"),m(1),S(2,"translate"),s()),i&2&&(r(),d(" ",_(2,1,"TITLE.OPTION")," "))}function Uc(i,n){if(i&1&&(a(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),i&2){let e=z(5);r(),g("matMenuTriggerFor",e)}}function Bc(i,n){i&1&&v(0,"mat-header-row")}function Vc(i,n){if(i&1){let e=A();a(0,"mat-row",63),I("click",function(t){let l=h(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=n.$implicit,o=u();J("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}function Oc(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"translate"),v(3,"br"),m(4),S(5,"translate"),v(6,"br"),m(7),S(8,"translate"),S(9,"cmssiteinfo"),S(10,"async"),v(11,"br"),m(12),S(13,"translate"),S(14,"cmsuserinfo"),S(15,"async"),v(16,"br"),m(17),S(18,"translate"),S(19,"localeDateTime"),s()),i&2){let e=n.$implicit;r(),mt(" ",_(2,10,"TITLE.Id")," : ",e.id," "),r(3),mt(" ",_(5,12,"TITLE.Description")," : ",e.description," "),r(3),mt(" ",_(8,14,"TITLE.Site_Id")," : ",_(10,18,_(9,16,e.linkSiteId))," "),r(5),mt(" ",_(13,20,"TITLE.User_Id")," : ",_(15,24,_(14,22,e.linkUserId))," "),r(5),mt(" ",_(18,26,"TITLE.CreationDate")," : ",_(19,28,e.createdDate)," ")}}var Oi=class Oi extends Qe{constructor(e,o,t,l,p,c,D,re,oe,Se,et,It){super(e,new Ni,et,p,re);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=p;this.cdr=c;this.cmsStoreService=D;this.translate=re;this.router=oe;this.pageInfo=Se;this.publicHelper=et;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"];this.tabledisplayedColumnsMobileSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"];this.dataModelEnumManageUserAccessAreaTypesResult=new y;this.dataModelEnumManageUserAccessUserTypesResult=new y;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let M=new R;M.propertyName="LinkCmsSiteId",M.value=this.requestLinkSiteId,this.filteModelContent.filters.push(M)}if(this.requestLinkUserId>0){let M=new R;M.propertyName="linkUserId",M.value=this.requestLinkUserId,this.filteModelContent.filters.push(M)}if(this.requestLinkDeviceId>0){let M=new R;M.propertyName="LinkDeviceId",M.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(M)}this.optionsSearch.parentMethods={onSubmit:M=>this.onSubmitOptionsSearch(M)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=L.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ni);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new R;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new R;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new R;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(ho,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let p=this.constructor.name+"ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),p=new R;p.propertyName="recordStatus",p.value=be.Available,l.filters.push(p),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Oi.\u0275fac=function(o){return new(o||Oi)(f(mi),f(j),f(Ce),f(ge),f(F),f(P),f(H),f(G),f(Te),f(je),f(q),f(Me))},Oi.\u0275cmp=V({type:Oi,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[$],decls:78,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],["mat-sort-header",""],[3,"ngClass"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=A();E(0,oc,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),B("optionActionGuideNoticeDisplayChange",function(c){return h(l),U(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),I("optionOnActionButtonMemoRow",function(){return h(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),C(t.onActionButtonPrintRow())}),T(2,5),m(3," -------------------------------------- "),b(),ie(4,6)(5,7),T(6,8),E(7,nc,2,0,"a",9),a(8,"a",10),I("click",function(){return h(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),v(9,"i",11),s(),a(10,"a",10),I("click",function(){return h(l),C(t.onActionButtonReload())}),v(11,"i",12),s(),b(),T(12,13),a(13,"a",14),I("click",function(){return h(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(14,"mat-slide-toggle",15),m(15),S(16,"translate"),s(),a(17,"a",14),I("click",function(){return h(l),C(t.onActionButtonStatist())}),v(18,"mat-slide-toggle",15),m(19),S(20,"translate"),s(),b(),ie(21,16),T(22,17),E(23,rc,7,3,"div",18),E(24,sc,7,3,"div",18),E(25,ac,7,3,"div",18),E(26,lc,7,3,"div",18),E(27,cc,7,3,"div",18),b(),T(28,19),a(29,"app-cms-search-list",20),B("optionsChange",function(c){return h(l),U(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(30,"app-cms-statist-list",20),B("optionsChange",function(c){return h(l),U(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),T(31,21),a(32,"mat-table",22,0),I("matSortChange",function(){h(l);let c=z(33);return C(t.onTableSortData(c))}),w(34,mc,1,2,"mat-row",23),T(35,24),w(36,dc,2,1,"mat-header-cell",25)(37,pc,2,1,"mat-cell",26),b(),T(38,27),w(39,uc,2,1,"mat-header-cell",25)(40,fc,2,1,"mat-cell",26),b(),T(41,28),w(42,Sc,2,1,"mat-header-cell",25)(43,hc,4,5,"mat-cell",26),b(),T(44,29),w(45,Cc,2,1,"mat-header-cell",25)(46,_c,4,5,"mat-cell",26),b(),T(47,30),w(48,vc,2,1,"mat-header-cell",25)(49,gc,2,1,"mat-cell",26),b(),T(50,31),w(51,Tc,2,1,"mat-header-cell",25)(52,bc,3,4,"mat-cell",26),b(),T(53,32),w(54,Ic,2,1,"mat-header-cell",25)(55,wc,3,4,"mat-cell",26),b(),T(56,33),w(57,Mc,2,1,"mat-header-cell",25)(58,Ac,3,3,"mat-cell",26),b(),T(59,34),w(60,Ec,2,1,"mat-header-cell",25)(61,kc,3,3,"mat-cell",26),b(),T(62,35),w(63,Rc,2,1,"mat-header-cell",25)(64,yc,3,3,"mat-cell",26),b(),T(65,36),w(66,Dc,2,1,"mat-header-cell",25)(67,Lc,3,3,"mat-cell",37),b(),T(68,38),w(69,xc,3,3,"mat-header-cell",39)(70,Uc,6,1,"mat-cell",40),b(),w(71,Bc,1,0,"mat-header-row",41)(72,Vc,1,2,"mat-row",42),T(73,43),w(74,Oc,20,30,"mat-cell",26),b(),s(),b(),T(75,44),a(76,"mat-paginator",45,1),I("page",function(c){return h(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(k(t.requestLinkUserId>0?0:-1),r(),g("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),x("optionActionGuideNoticeDisplay",t.viewGuideNotice),g("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),r(6),k(t.requestLinkSiteId>0?7:-1),r(4),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),g("checked",t.optionsSearch.data.show),r(),d("",_(16,30,"ACTION.SEARCH")," "),r(3),g("checked",t.optionsStatist.data.show),r(),d("",_(20,32,"ACTION.STATIST")," "),r(4),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),r(),k((t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0?24:-1),r(),k((t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0?25:-1),r(),k((t.tableRowSelected==null||t.tableRowSelected.deviceClientMAC==null?null:t.tableRowSelected.deviceClientMAC.length)>0?26:-1),r(),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?27:-1),r(2),x("options",t.optionsSearch),r(),x("options",t.optionsStatist),r(2),g("dataSource",t.tableSource),r(2),g("matRowDefColumns",he(34,tc)),r(37),g("matHeaderRowDef",t.tabledisplayedColumns),r(),g("matRowDefColumns",t.tabledisplayedColumns),r(4),g("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",he(35,ic)))},dependencies:[tt,we,Ae,Ee,ke,Re,ye,De,Le,xe,Be,Ge,Ve,Ue,Ne,Oe,Pe,He,Fe,$e,ze,Je,Ke,Ye,ve,N,Ze,qe,Xe,We,ot],encapsulation:2});var ri=Oi;var Pc=["vform"];function Gc(i,n){if(i&1){let e=A();a(0,"div",7)(1,"button",8),I("click",function(){h(e);let t=u();return C(t.onFormCancel())}),v(2,"i",9),m(3),S(4,"translate"),s()()}i&2&&(r(3),d(" ",_(4,1,"ACTION.CANCEL")," "))}var Pi=class Pi{constructor(n,e,o,t,l,p,c,D,re,oe){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.CoreTokenAuthUserLogService=t;this.cmsToastrService=l;this.tokenHelper=p;this.cmsStoreService=c;this.cdr=D;this.publicHelper=re;this.translate=oe;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new it;this.dataModelResult=new y;this.dataModel=new Hi;this.formInfo=new nt;this.dataModelEnumSendSmsStatusTypeResult=new y;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>O(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.CoreTokenAuthUserLogService.setAccessLoad(),this.CoreTokenAuthUserLogService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Pi.\u0275fac=function(e){return new(e||Pi)(f(ee),f(Z),f(Q),f(di),f(j),f(F),f(H),f(P),f(q),f(G))},Pi.\u0275cmp=V({type:Pi,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&K(Pc,5),e&2){let t;X(t=Y())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),v(6,"app-cms-form-result-message",5),s(),a(7,"div",6),E(8,Gc,5,3,"div",7),s()),e&2&&(r(),d(" ",o.formInfo.formTitle," "),r(2),g("optionsInfoAreaId",o.constructorInfoAreaId),r(),g("dataModel",o.dataModel)("optionMethod",1),r(2),g("formInfo",o.formInfo),r(2),k(o.formInfo.submitButtonEnabled?8:-1))},dependencies:[te,st,rt,N],encapsulation:2});var Co=Pi;var Nc=()=>["expandedTitle"],Hc=()=>[5,10,20,100];function Fc(i,n){if(i&1&&v(0,"app-core-user-header",3),i&2){let e=u();g("optionId",e.requestLinkUserId)}}function jc(i,n){if(i&1){let e=A();a(0,"a",46),I("click",function(){h(e);let t=u();return C(t.onActionBackToParent())}),v(1,"i",47),s()}}function qc(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",48),I("click",function(){h(e);let t=u();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",49)(3,"br"),s(),a(4,"p",50),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.DELETE")," "))}function Wc(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",51),I("click",function(){h(e);let t=u();return C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(2,"i",52)(3,"br"),s(),a(4,"p",50),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.SITE")," "))}function Qc(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",51),I("click",function(){h(e);let t=u();return C(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(2,"i",53)(3,"br"),s(),a(4,"p",50),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.USER")," "))}function $c(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",51),I("click",function(){h(e);let t=u();return C(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),v(2,"i",54)(3,"br"),s(),a(4,"p",50),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.DEVICE")," "))}function zc(i,n){if(i&1){let e=A();a(0,"div",18)(1,"a",55),I("click",function(){h(e);let t=u();return C(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",56)(3,"br"),s(),a(4,"p",50),m(5),S(6,"translate"),s()()}i&2&&(r(5),d(" ",_(6,1,"ACTION.VIEW")," "))}function Jc(i,n){if(i&1){let e=A();a(0,"mat-row",57),I("click",function(t){let l=h(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=h(e).$implicit,l=u();return C(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=h(e).$implicit,l=u();return C(l.onActionTableRowMouseLeave(t))}),s()}if(i&2){let e=n.$implicit,o=u();J("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}function Kc(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Xc(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),d(" ",e.id," ")}}function Yc(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function Zc(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),d(" ",e.description," ")}}function em(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function tm(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),s()),i&2){let e=n.$implicit;r(),d(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function im(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function om(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),s()),i&2){let e=n.$implicit;r(),d(" ",_(3,3,_(2,1,e.linkUserId))," ")}}function nm(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function rm(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),d(" ",e.linkMemberUserId," ")}}function sm(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function am(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),d(" ",ne(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function lm(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function cm(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),d(" ",ne(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function mm(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function dm(i,n){if(i&1&&(a(0,"mat-cell"),v(1,"i",59),S(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),g("ngClass",_(2,1,e.userAccessAdminAllowToAllData))}}function pm(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function um(i,n){if(i&1&&(a(0,"mat-cell"),v(1,"i",59),S(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),g("ngClass",_(2,1,e.userAccessAdminAllowToProfessionalData))}}function fm(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Sm(i,n){if(i&1&&(a(0,"mat-cell"),v(1,"i",59),S(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),g("ngClass",_(2,1,e.rememberOnDevice))}}function hm(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Cm(i,n){if(i&1&&(a(0,"mat-cell",60),m(1),S(2,"localeDateTime"),s()),i&2){let e=n.$implicit;r(),d(" ",_(2,1,e.createdDate)," ")}}function _m(i,n){i&1&&(a(0,"mat-header-cell"),m(1),S(2,"translate"),s()),i&2&&(r(),d(" ",_(2,1,"TITLE.OPTION")," "))}function vm(i,n){if(i&1&&(a(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),i&2){let e=z(5);r(),g("matMenuTriggerFor",e)}}function gm(i,n){i&1&&v(0,"mat-header-row")}function Tm(i,n){if(i&1){let e=A();a(0,"mat-row",63),I("click",function(t){let l=h(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=n.$implicit,o=u();J("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}function bm(i,n){if(i&1&&(a(0,"mat-cell"),m(1),S(2,"translate"),v(3,"br"),m(4),S(5,"translate"),v(6,"br"),m(7),S(8,"translate"),S(9,"cmssiteinfo"),S(10,"async"),v(11,"br"),m(12),S(13,"translate"),S(14,"cmsuserinfo"),S(15,"async"),v(16,"br"),m(17),S(18,"translate"),S(19,"localeDateTime"),s()),i&2){let e=n.$implicit;r(),mt(" ",_(2,10,"TITLE.Id")," : ",e.id," "),r(3),mt(" ",_(5,12,"TITLE.Description")," : ",e.description," "),r(3),mt(" ",_(8,14,"TITLE.Site_Id")," : ",_(10,18,_(9,16,e.linkSiteId))," "),r(5),mt(" ",_(13,20,"TITLE.User_Id")," : ",_(15,24,_(14,22,e.linkUserId))," "),r(5),mt(" ",_(18,26,"TITLE.CreationDate")," : ",_(19,28,e.createdDate)," ")}}var Gi=class Gi extends Qe{constructor(e,o,t,l,p,c,D,re,oe,Se,et,It){super(e,new Hi,et,p,re);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=p;this.cdr=c;this.cmsStoreService=D;this.translate=re;this.router=oe;this.pageInfo=Se;this.publicHelper=et;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"];this.tabledisplayedColumnsMobileSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"];this.dataModelEnumManageUserAccessAreaTypesResult=new y;this.dataModelEnumManageUserAccessUserTypesResult=new y;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let M=new R;M.propertyName="LinkCmsSiteId",M.value=this.requestLinkSiteId,this.filteModelContent.filters.push(M)}if(this.requestLinkUserId>0){let M=new R;M.propertyName="linkUserId",M.value=this.requestLinkUserId,this.filteModelContent.filters.push(M)}if(this.requestLinkDeviceId>0){let M=new R;M.propertyName="LinkDeviceId",M.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(M)}this.optionsSearch.parentMethods={onSubmit:M=>this.onSubmitOptionsSearch(M)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=L.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Hi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new R;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new R;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new R;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Co,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let p=this.constructor.name+"ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),p=new R;p.propertyName="recordStatus",p.value=be.Available,l.filters.push(p),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Gi.\u0275fac=function(o){return new(o||Gi)(f(di),f(j),f(Ce),f(ge),f(F),f(P),f(H),f(G),f(Te),f(je),f(q),f(Me))},Gi.\u0275cmp=V({type:Gi,selectors:[["app-coretoken-auth-user-log-list"]],standalone:!1,features:[$],decls:78,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],["mat-sort-header",""],[3,"ngClass"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=A();E(0,Fc,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),B("optionActionGuideNoticeDisplayChange",function(c){return h(l),U(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),I("optionOnActionButtonMemoRow",function(){return h(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),C(t.onActionButtonPrintRow())}),T(2,5),m(3," -------------------------------------- "),b(),ie(4,6)(5,7),T(6,8),E(7,jc,2,0,"a",9),a(8,"a",10),I("click",function(){return h(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),v(9,"i",11),s(),a(10,"a",10),I("click",function(){return h(l),C(t.onActionButtonReload())}),v(11,"i",12),s(),b(),T(12,13),a(13,"a",14),I("click",function(){return h(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(14,"mat-slide-toggle",15),m(15),S(16,"translate"),s(),a(17,"a",14),I("click",function(){return h(l),C(t.onActionButtonStatist())}),v(18,"mat-slide-toggle",15),m(19),S(20,"translate"),s(),b(),ie(21,16),T(22,17),E(23,qc,7,3,"div",18),E(24,Wc,7,3,"div",18),E(25,Qc,7,3,"div",18),E(26,$c,7,3,"div",18),E(27,zc,7,3,"div",18),b(),T(28,19),a(29,"app-cms-search-list",20),B("optionsChange",function(c){return h(l),U(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(30,"app-cms-statist-list",20),B("optionsChange",function(c){return h(l),U(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),T(31,21),a(32,"mat-table",22,0),I("matSortChange",function(){h(l);let c=z(33);return C(t.onTableSortData(c))}),w(34,Jc,1,2,"mat-row",23),T(35,24),w(36,Kc,2,1,"mat-header-cell",25)(37,Xc,2,1,"mat-cell",26),b(),T(38,27),w(39,Yc,2,1,"mat-header-cell",25)(40,Zc,2,1,"mat-cell",26),b(),T(41,28),w(42,em,2,1,"mat-header-cell",25)(43,tm,4,5,"mat-cell",26),b(),T(44,29),w(45,im,2,1,"mat-header-cell",25)(46,om,4,5,"mat-cell",26),b(),T(47,30),w(48,nm,2,1,"mat-header-cell",25)(49,rm,2,1,"mat-cell",26),b(),T(50,31),w(51,sm,2,1,"mat-header-cell",25)(52,am,3,4,"mat-cell",26),b(),T(53,32),w(54,lm,2,1,"mat-header-cell",25)(55,cm,3,4,"mat-cell",26),b(),T(56,33),w(57,mm,2,1,"mat-header-cell",25)(58,dm,3,3,"mat-cell",26),b(),T(59,34),w(60,pm,2,1,"mat-header-cell",25)(61,um,3,3,"mat-cell",26),b(),T(62,35),w(63,fm,2,1,"mat-header-cell",25)(64,Sm,3,3,"mat-cell",26),b(),T(65,36),w(66,hm,2,1,"mat-header-cell",25)(67,Cm,3,3,"mat-cell",37),b(),T(68,38),w(69,_m,3,3,"mat-header-cell",39)(70,vm,6,1,"mat-cell",40),b(),w(71,gm,1,0,"mat-header-row",41)(72,Tm,1,2,"mat-row",42),T(73,43),w(74,bm,20,30,"mat-cell",26),b(),s(),b(),T(75,44),a(76,"mat-paginator",45,1),I("page",function(c){return h(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(k(t.requestLinkUserId>0?0:-1),r(),g("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),x("optionActionGuideNoticeDisplay",t.viewGuideNotice),g("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),r(6),k(t.requestLinkSiteId>0?7:-1),r(4),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),g("checked",t.optionsSearch.data.show),r(),d("",_(16,30,"ACTION.SEARCH")," "),r(3),g("checked",t.optionsStatist.data.show),r(),d("",_(20,32,"ACTION.STATIST")," "),r(4),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),r(),k((t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0?24:-1),r(),k((t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0?25:-1),r(),k((t.tableRowSelected==null||t.tableRowSelected.deviceClientMAC==null?null:t.tableRowSelected.deviceClientMAC.length)>0?26:-1),r(),k(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?27:-1),r(2),x("options",t.optionsSearch),r(),x("options",t.optionsStatist),r(2),g("dataSource",t.tableSource),r(2),g("matRowDefColumns",he(34,Nc)),r(37),g("matHeaderRowDef",t.tabledisplayedColumns),r(),g("matRowDefColumns",t.tabledisplayedColumns),r(4),g("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",he(35,Hc)))},dependencies:[tt,we,Ae,Ee,ke,Re,ye,De,Le,xe,Be,Ge,Ve,Ue,Ne,Oe,Pe,He,Fe,$e,ze,Je,Ke,Ye,ve,N,Ze,qe,Xe,We,ot],encapsulation:2});var si=Gi;var Im=[{path:"",component:to,data:{title:"ROUTE.CORETOKEN"},children:[{path:"auth-user",component:ri,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"auth-user/LinkSiteId/:LinkSiteId",component:ri,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"auth-user/LinkUserId/:LinkUserId",component:ri,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"auth-user/LinkDeviceId/:LinkDeviceId",component:ri,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"auth-user-log",component:si,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"auth-user-log/LinkSiteId/:LinkSiteId",component:si,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"auth-user-log/LinkUserId/:LinkUserId",component:si,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"auth-user-log/LinkDeviceId/:LinkDeviceId",component:si,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userbadlogin",component:ni,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkSiteId/:LinkSiteId",component:ni,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkUserId/:LinkUserId",component:ni,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkDeviceId/:LinkDeviceId",component:ni,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"activation",component:eo,data:{title:"ROUTE.CORETOKEN.ACTIVATION"}},{path:"microservice",component:ao,data:{title:"ROUTE.CORETOKEN.MICROSERVICE"}},{path:"microservicelog",component:no,data:{title:"ROUTE.CORETOKEN.MICROSERVICELOG"}},{path:"notification",component:uo,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"online",component:po,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"notificationlog",component:mo,data:{title:"ROUTE.CORETOKEN.NOTIFICATIONLOG"}}]}],ai=class ai{};ai.\u0275fac=function(e){return new(e||ai)},ai.\u0275mod=Ji({type:ai}),ai.\u0275inj=zi({imports:[go.forChild(Im),go]});var _o=ai;var li=class li{};li.\u0275fac=function(e){return new(e||li)},li.\u0275mod=Ji({type:li}),li.\u0275inj=zi({providers:[Ao,Q,mi,di,Rt,Et,kt,At,Tt,Mt,Eo,Ce],imports:[_o,wo,Uo,Bo.withConfig({warnOnNgModelWithFormControl:"never"}),Oo,Po]});var Ho=li;export{Ho as CoreTokenModule};
