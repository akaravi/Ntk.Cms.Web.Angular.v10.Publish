import{f as L}from"./chunk-G6643B3Q.js";import{mb as H,nb as T,ob as D,pc as O,qb as G,qc as F,rb as N}from"./chunk-RUFZ56QV.js";import{Ba as h,Ea as n,Hc as _,Ja as r,Jj as w,Lb as l,Mb as P,Nb as c,Oa as f,Pd as B,Ua as v,Ub as y,Uj as A,Wa as S,ac as k,bc as x,ca as u,da as g,hb as d,ib as s,jb as o,kb as M,qj as E,rb as I,tc as R,ub as b,wb as C}from"./chunk-D5KH3ZDN.js";function $(m,t){if(m&1){let e=I();s(0,"div",2)(1,"mat-card",3)(2,"mat-card-header")(3,"mat-card-title"),l(4),o()(),M(5,"img",4),s(6,"mat-card-content")(7,"p",5),l(8),o()(),s(9,"mat-card-actions")(10,"button",6),b("click",function(){let p=u(e).$implicit,V=C();return g(V.onActionSelectBank(p))}),l(11),k(12,"translate"),o()()()()}if(m&2){let e=t.$implicit;n(4),P(e.title),n(),d("src",y(e.linkModuleFileLogoIdSrc),h),n(3),c(" ",e.title," "),n(3),c(" ",x(12,5,"ACTION.SELECT")," ")}}var a=class a{constructor(t,e,i,p){this.bankPaymentPrivateSiteConfigService=t;this.translate=e;this.cdr=i;this.publicHelper=p;this.id=++a.nextId;this.constructorInfoAreaId=this.constructor.name;this.optionMasterItem=!1;this.errorMessage="";this.optionChange=new S;this.dataModelSelect=new A;this.dataModelResult=new B;this.dataModel=new E;this.publicHelper.processService.cdr=this.cdr}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}ngOnInit(){this.DataGetAll()}DataGetAll(){if(this.optionMasterItem){let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.bankPaymentPrivateSiteConfigService.ServicePaymentGatewayCoreList().subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,!this.dataModelResult.listItems||this.dataModelResult.listItems.length==0?this.translate.get("TITLE.Payment_portal_is_not_active").subscribe(i=>{this.errorMessage=i}):this.dataModelResult.listItems&&this.dataModelResult.listItems.length==1&&this.onActionSelectBank(this.dataModelResult.listItems[0])):this.errorMessage=e.errorMessage,this.publicHelper.processService.processStop(t)},error:e=>{this.errorMessage=e,this.publicHelper.processService.processStop(t,!1)}})}else{let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.bankPaymentPrivateSiteConfigService.ServicePaymentGatewayList().subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,!this.dataModelResult.listItems||this.dataModelResult.listItems.length==0?this.translate.get("Payment_portal_is_not_active").subscribe(i=>{this.errorMessage=i}):this.dataModelResult.listItems&&this.dataModelResult.listItems.length==1&&this.onActionSelectBank(this.dataModelResult.listItems[0])):this.errorMessage=e.errorMessage,this.publicHelper.processService.processStop(t)},error:e=>{this.errorMessage=e,this.publicHelper.processService.processStop(t,!1)}})}}onActionSelectBank(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}};a.nextId=0,a.\u0275fac=function(e){return new(e||a)(r(w),r(O),r(R),r(L))},a.\u0275cmp=f({type:a,selectors:[["app-cms-bankpayment-grid"]],inputs:{optionMasterItem:"optionMasterItem"},outputs:{optionChange:"optionChange"},standalone:!1,decls:3,vars:2,consts:[[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[2,"max-width","200px"],[1,"rounded","mx-auto","d-block","mat-card-image",2,"width","95%","height","95%",3,"src"],[1,"d-flex","justify-content-center"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(e,i){e&1&&(s(0,"div",0),l(1),v(2,$,13,7,"div",1),o()),e&2&&(n(),c(" ",i.errorMessage," "),n(),d("ngForOf",i.dataModelResult.listItems))},dependencies:[_,H,G,D,N,T,F],encapsulation:2});var j=a;export{j as a};
