import{a as zo,b as sa}from"./chunk-VRMO6RSL.js";import{a as la}from"./chunk-2JTWFKVB.js";import{a as _t,b as tn,c as Bo,d as Wo,e as ra,i as aa,j as Fo,k as No,l as Ho,m as Go,n as Uo,o as qo,p as jo,q as Qo,r as Yo,s as on,t as rn,u as an,v as ca}from"./chunk-4OCDAJKH.js";import{a as ri}from"./chunk-54OD2RQP.js";import{a as nn}from"./chunk-IOFBMCNI.js";import{a as vi}from"./chunk-NXBETVZJ.js";import{a as Ii}from"./chunk-NWNMEVWC.js";import{a as bi}from"./chunk-FWKTQDO6.js";import{a as oa}from"./chunk-3ERL5A3U.js";import{a as ii}from"./chunk-5RL5EZDV.js";import{a as na}from"./chunk-GCXY2JAM.js";import{a as Oo}from"./chunk-6CL47M2V.js";import{a as Vo}from"./chunk-QGXUCCQL.js";import{a as oi}from"./chunk-ZK44JXFW.js";import{a as ti}from"./chunk-NQ7GWIZY.js";import{a as ni}from"./chunk-GGGJDHXV.js";import{a as $i,b as en,c as Bt,d as Wt,e as Ft,f as ia,g as Nt,h as Ht}from"./chunk-2EX4NELS.js";import{a as Mi,b as Ot}from"./chunk-KDTV5CIJ.js";import{j as gi,k as Si,l as yi}from"./chunk-YM3IA5Y7.js";import{a as de,c as ei,e as Ji}from"./chunk-SG43NEFY.js";import{a as Yt}from"./chunk-C5NPUYFA.js";import{a as ta}from"./chunk-4DPSDPCK.js";import{a as Zi}from"./chunk-NLRK5Q7D.js";import{a as Xi}from"./chunk-QVSBUWHR.js";import{a as Ei}from"./chunk-IXPEP4O3.js";import{a as ea}from"./chunk-D7CEBCJB.js";import{a as Vt}from"./chunk-XHM57VXZ.js";import{a as we}from"./chunk-5QDJNW4W.js";import{a as K,d as be}from"./chunk-GGQ7GVZY.js";import{a as Lt,b as hi,e as Dt,f as U}from"./chunk-UAJZPUTD.js";import{$ as yo,$a as le,A as Co,Ab as Ze,Bb as Xe,Cb as $e,Db as et,Eb as tt,Fb as it,Gb as nt,Hb as ot,Ib as rt,J as Fe,K as Ye,Ka as Ie,Kb as Ki,L as ze,La as Le,Lc as Y,M as jr,Ma as oe,Ob as xo,Oc as z,Pb as Ao,Q as ho,Qb as Ro,Qc as F,Rb as ko,Sa as Mo,Sb as Po,Sc as ft,Ta as vo,Tb as Lo,Ua as Io,Ub as Do,V as Ui,Va as bo,W as Ke,Wa as wo,Wb as W,X as go,Xa as To,Xb as G,Y as So,Z as Qt,Za as Se,_ as qi,a as wt,aa as Eo,ba as Pe,c as qr,db as Zr,eb as Tt,fb as xt,hc as ut,ib as At,m as mt,n as ge,nb as Rt,pb as kt,q as ne,qb as Pt,r as qe,sa as Qr,t as je,tb as Qi,u as Hi,ua as Yr,ub as Yi,v as ce,va as zr,vb as zi,w as Qe,wb as Xr,x as Gi,xa as Kr,xb as $r,ya as Jr,za as ji,zb as Je}from"./chunk-UQKNR4GM.js";import{$d as Me,Ab as d,Bb as Ar,Ca as j,Cb as hr,Cn as di,Dd as Ae,Eb as Ve,Ee as Li,F as lo,Fa as o,Fb as Oe,Gb as Be,Gd as ui,Gn as ht,Ha as jt,Hd as X,Hn as gr,I as Tr,In as Br,Kb as L,Kn as Wr,Lb as ae,Lc as se,Ld as V,Ln as Fr,Mb as q,Md as me,Nb as yt,Oa as M,P as so,Pb as c,Pd as st,Q as co,Qb as b,Rb as h,Rc as Ce,Rn as fi,Sa as B,Sb as Q,Tc as We,Tn as uo,Ud as vt,Va as xr,Vb as w,Vn as _i,Wa as ee,Wb as T,Xb as x,Xc as kr,Ya as P,Yb as k,Yd as ie,Zb as Et,Zn as Nr,ac as Z,ag as Di,ao as Hr,bc as te,bd as Pr,bo as fo,cn as po,co as Ci,da as u,db as li,dn as si,do as Wi,ea as f,en as ci,fb as y,fc as g,gb as E,gc as S,go as Xt,hc as Rr,ib as ct,in as mo,jb as dt,jd as Lr,jn as xi,jo as Gr,kb as pt,kg as It,lb as _,lo as Fi,lr as N,mb as a,nb as r,ob as C,on as Or,oo as Ur,p as wr,q as ro,qd as Dr,qn as io,re as he,ro as Ni,sb as A,sn as bt,so as $t,tb as R,tn as Oi,to as _o,u as ao,ub as Ue,ud as Zt,vb as I,vg as Vi,wd as Mt,xd as Vr,yb as v,yc as H,zn as Bi}from"./chunk-CZ63DPC3.js";import{f as oo,i as re}from"./chunk-SEDBTTTN.js";var da=oo(Do());var Na=["vform"],Ha=i=>({direction:i});function Ga(i,s){if(i&1&&(C(0,"img",16),g(1,"cmsthumbnail")),i&2){let e=d();_("src",k(S(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function Ua(i,s){i&1&&C(0,"i",23)}function qa(i,s){i&1&&C(0,"i",24)}function ja(i,s){i&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function Qa(i,s){i&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function Ya(i,s){if(i&1){let e=I();a(0,"div",17)(1,"label",39),c(2),g(3,"translate"),r(),a(4,"textarea",40,7),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.descriptionHidden,t)||(l.dataModel.descriptionHidden=t),f(t)}),c(6,"              "),r(),a(7,"em"),c(8),r()()}if(i&2){let e=L(5),n=d();o(2),b(S(3,5,"TITLE.Description_Hidden")),o(2),_("placeholder",k(n.fieldsInfo.descriptionHidden==null?null:n.fieldsInfo.descriptionHidden.fieldTitle)),w("ngModel",n.dataModel.descriptionHidden),o(4),h("",e.value.length," / 500")}}function za(i,s){if(i&1){let e=I();a(0,"app-cms-user-selector",41),g(1,"translate"),v("optionChange",function(t){u(e);let l=d();return f(l.onActionSelectorUser(t))}),r()}if(i&2){let e=d();_("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",S(1,3,"TITLE.USER"))}}function Ka(i,s){i&1&&(a(0,"mat-error"),c(1," Address is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function Ja(i,s){if(i&1){let e=I();a(0,"div",36)(1,"div",42)(2,"h5",43),c(3),r()(),a(4,"div",44)(5,"div",45)(6,"input",46),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.accessWatchRowSite,t)||(l.dataModel.accessWatchRowSite=t),f(t)}),r(),C(7,"label",47),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.accessWatchRowSite==null?null:e.fieldsInfo.accessWatchRowSite.fieldTitle," "),o(3),w("ngModel",e.dataModel.accessWatchRowSite)}}function Za(i,s){if(i&1){let e=I();a(0,"div",36)(1,"div",42)(2,"h5",48),c(3),r()(),a(4,"div",44)(5,"div",45)(6,"input",49),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.accessWatchRowOtherAgency,t)||(l.dataModel.accessWatchRowOtherAgency=t),f(t)}),r(),C(7,"label",50),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.accessWatchRowOtherAgency==null?null:e.fieldsInfo.accessWatchRowOtherAgency.fieldTitle," "),o(3),w("ngModel",e.dataModel.accessWatchRowOtherAgency)}}function Xa(i,s){if(i&1){let e=I();a(0,"div",36)(1,"div",42)(2,"h5",51),c(3),r()(),a(4,"div",44)(5,"div",45)(6,"input",52),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.accessWatchRowOtherAgent,t)||(l.dataModel.accessWatchRowOtherAgent=t),f(t)}),r(),C(7,"label",53),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.accessWatchRowOtherAgent==null?null:e.fieldsInfo.accessWatchRowOtherAgent.fieldTitle," "),o(3),w("ngModel",e.dataModel.accessWatchRowOtherAgent)}}function $a(i,s){if(i&1){let e=I();a(0,"div",36)(1,"div",42)(2,"h5",54),c(3),r()(),a(4,"div",44)(5,"div",45)(6,"input",55),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.accessAllowShareRowWatchOtherAgency,t)||(l.dataModel.accessAllowShareRowWatchOtherAgency=t),f(t)}),r(),C(7,"label",56),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgency==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgency.fieldTitle," "),o(3),w("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgency)}}function el(i,s){if(i&1){let e=I();a(0,"div",36)(1,"div",42)(2,"h5",57),c(3),r()(),a(4,"div",44)(5,"div",45)(6,"input",58),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.accessAllowShareRowWatchOtherAgent,t)||(l.dataModel.accessAllowShareRowWatchOtherAgent=t),f(t)}),r(),C(7,"label",59),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgent==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgent.fieldTitle," "),o(3),w("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgent)}}function tl(i,s){if(i&1){let e=I();a(0,"div",36)(1,"div",42)(2,"h5",60),c(3),r()(),a(4,"div",44)(5,"div",45)(6,"input",61),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.notificationWorkAreaEstate,t)||(l.dataModel.notificationWorkAreaEstate=t),f(t)}),r(),C(7,"label",62),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.notificationWorkAreaEstate==null?null:e.fieldsInfo.notificationWorkAreaEstate.fieldTitle," "),o(3),w("ngModel",e.dataModel.notificationWorkAreaEstate)}}function il(i,s){if(i&1){let e=I();a(0,"div",36)(1,"div",42)(2,"h5",63),c(3),r()(),a(4,"div",44)(5,"div",45)(6,"input",64),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.notificationWorkAreaCustomerOrder,t)||(l.dataModel.notificationWorkAreaCustomerOrder=t),f(t)}),r(),C(7,"label",65),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.notificationWorkAreaCustomerOrder==null?null:e.fieldsInfo.notificationWorkAreaCustomerOrder.fieldTitle," "),o(3),w("ngModel",e.dataModel.notificationWorkAreaCustomerOrder)}}function nl(i,s){if(i&1){let e=I();a(0,"div",38)(1,"button",66),v("click",function(){u(e);let t=d();return f(t.onFormCancel())}),C(2,"i",67),c(3),g(4,"translate"),r(),a(5,"button",68),C(6,"i",69),c(7),g(8,"translate"),r()()}if(i&2){d();let e=L(10);o(3),h(" ",S(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",S(8,5,"ACTION.SAVE")," ")}}var ln=class ln extends Yt{constructor(e,n,t,l,p,m,O,J,$,Te){super(l,new si,m,Te);this.data=e;this.dialogRef=n;this.coreEnumService=t;this.estateAccountAgencyService=l;this.cmsToastrService=p;this.publicHelper=m;this.cdr=O;this.cmsStoreService=J;this.tokenHelper=$;this.translate=Te;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.mapOptonCenter=new Ei;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new It;this.dataModelResult=new X;this.dataModel=new si;this.formInfo=new be;this.fileManagerOpenForm=!1;this.viewMap=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.publicHelper.processService.processStart(e,"",this.constructorInfoAreaId),this.estateAccountAgencyService.ServiceAdd(this.dataModel).subscribe({next:n=>{this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:n=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapModel.on("click",n=>{let t=n.latlng.lat,l=n.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&l===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=da.marker([t,l]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=l}))}receiveZoom(e){}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionSelectorUser(e){this.dataModel.linkCmsUserId=null,e&&e.id>0&&(this.dataModel.linkCmsUserId=e.id)}onActionSelectorLocation(e){this.dataModel.linkLocationId=null,e&&e.id>0&&(this.dataModel.linkLocationId=e.id)}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationWorkAreaIds=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ln.\u0275fac=function(n){return new(n||ln)(M(Le),M(Ie),M(he),M(fi),M(F),M(U),M(H),M(Y),M(z),M(W))},ln.\u0275cmp=B({type:ln,selectors:[["app-estate-account-agency-add"]],viewQuery:function(n,t){if(n&1&&Ve(Na,5),n&2){let l;Oe(l=Be())&&(t.formGroup=l.first)}},standalone:!1,features:[ee],decls:89,vars:93,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],["id","main-map",3,"map$","zoom$","optonCenter"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"pt-1"],["data-trigger-switch","dataModel.accessWatchRowSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessWatchRowSite","name","dataModel.accessWatchRowSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowSite",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgency","name","dataModel.accessWatchRowOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgent","name","dataModel.accessWatchRowOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgency","name","dataModel.accessAllowShareRowWatchOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgent","name","dataModel.accessAllowShareRowWatchOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaEstate",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaEstate","name","dataModel.notificationWorkAreaEstate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaEstate",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaCustomerOrder",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaCustomerOrder","name","dataModel.notificationWorkAreaCustomerOrder",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaCustomerOrder",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,t){if(n&1){let l=I();a(0,"div",8),C(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),c(4),r(),a(5,"p"),c(6),g(7,"translate"),r(),C(8,"app-cms-form-result-message",12),a(9,"form",13,0),v("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"div",14)(12,"a",15),g(13,"cmsthumbnail"),y(14,Ga,2,4,"img",16),r()(),a(15,"div",17)(16,"label",18),c(17),g(18,"translate"),r(),a(19,"input",19,1),g(21,"translate"),x("ngModelChange",function(m){return u(l),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),v("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(22,"cms-file-manager",20),g(23,"translate"),v("itemSelected",function(m){return u(l),f(t.onActionFileSelected(m))}),x("openFormChange",function(m){return u(l),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),r()(),a(24,"div",17)(25,"label",21),c(26),r(),a(27,"input",22,2),x("ngModelChange",function(m){return u(l),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),r(),y(29,Ua,1,0,"i",23),y(30,qa,1,0,"i",24),C(31,"em"),y(32,ja,5,3,"mat-error"),r(),a(33,"div",17)(34,"label",25),c(35),r(),a(36,"textarea",26,3),x("ngModelChange",function(m){return u(l),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(38,"            "),r(),a(39,"em"),c(40),r(),y(41,Qa,5,3,"mat-error"),r(),y(42,Ya,9,7,"div",17),y(43,za,2,5,"app-cms-user-selector",27),a(44,"div",17)(45,"label",28),c(46),r(),a(47,"input",29,4),x("ngModelChange",function(m){return u(l),T(t.dataModel.phoneNumber,m)||(t.dataModel.phoneNumber=m),f(m)}),r(),a(49,"em"),c(50),r()(),a(51,"div",17)(52,"label",30),c(53),r(),a(54,"input",31,5),x("ngModelChange",function(m){return u(l),T(t.dataModel.mobileNumber,m)||(t.dataModel.mobileNumber=m),f(m)}),r(),a(56,"em"),c(57),r()(),a(58,"div",17)(59,"label",32),c(60),r(),a(61,"textarea",33,6),x("ngModelChange",function(m){return u(l),T(t.dataModel.address,m)||(t.dataModel.address=m),f(m)}),c(63,"                "),r(),a(64,"em"),c(65),r(),y(66,Ka,5,3,"mat-error"),r(),a(67,"app-cms-location-selector",34),g(68,"translate"),v("optionChange",function(m){return u(l),f(t.onActionSelectorLocation(m))}),r(),C(69,"br"),c(70),g(71,"translate"),a(72,"app-cms-location-autocomplete",35),g(73,"translate"),v("optionChange",function(m){return u(l),f(t.onActionSelectorLocationWorkArea(m))}),r(),C(74,"hr"),y(75,Ja,8,2,"div",36),y(76,Za,8,2,"div",36),y(77,Xa,8,2,"div",36),y(78,$a,8,2,"div",36),y(79,el,8,2,"div",36),C(80,"hr"),y(81,tl,8,2,"div",36),y(82,il,8,2,"div",36),C(83,"hr"),a(84,"p"),c(85),g(86,"translate"),r(),a(87,"app-cms-map",37),v("map$",function(m){return u(l),f(t.receiveMap(m))})("zoom$",function(m){return u(l),f(t.receiveZoom(m))}),r(),y(88,nl,9,7,"div",38),r()()()}if(n&2){let l=L(28),p=L(37),m=L(48),O=L(55),J=L(62);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",S(7,73,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(),_("ngStyle",te(91,Ha,t.tokenInfo.access.direction)),o(3),_("href",k(S(13,75,t.dataModel.linkMainImageIdSrc)),j),o(2),E((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?14:-1),o(3),b(S(18,77,"MESSAGE.Photo_of_estate_agency")),o(2),_("placeholder",k(S(21,79,"TITLE.Original_File_ID"))),w("ngModel",t.dataModel.linkMainImageId),o(3),_("language",t.appLanguage)("isPopup",!0)("openSelectFileDescription",S(23,81,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),w("openForm",t.fileManagerOpenForm),_("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),_("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),o(2),E(l.value?-1:29),o(),E(l.value?30:-1),o(2),E(l.errors!=null&&l.errors.required?32:-1),o(3),b(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),_("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessAddField)),o(4),h("",p.value.length," / 500"),o(),E(p.errors!=null&&p.errors.required?41:-1),o(),E(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField?42:-1),o(),E(t.tokenHelper.isAdminSite?43:-1),o(3),b(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),w("ngModel",t.dataModel.phoneNumber),_("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessAddField)),o(3),h("",m.value.length," / 64"),o(3),b(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),w("ngModel",t.dataModel.mobileNumber),_("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessAddField)),o(3),h("",O.value.length," / 64"),o(3),b(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),w("ngModel",t.dataModel.address),_("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessAddField)),o(4),h("",J.value.length," / 500"),o(),E(J.errors!=null&&J.errors.required?66:-1),o(),_("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",S(68,83,"TITLE.Geographical_Region"))("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessAddField)),o(3),h(" ",S(71,85,"TITLE.COVERED_AREAS")," "),o(2),_("optionSelectForce",t.dataModel.linkLocationWorkAreaIds)("optionPlaceholder",S(73,87,"TITLE.Region")),o(3),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?75:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?76:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?77:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?78:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?79:-1),o(2),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?81:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?82:-1),o(3),b(S(86,89,"TITLE.Click_on_the_map_to_specify_the_location")),o(2),_("optonCenter",t.mapOptonCenter),o(),E(t.formInfo.submitButtonEnabled?88:-1)}},dependencies:[Ce,Qe,ge,mt,ne,qe,Fe,Ye,ze,ce,je,Ke,le,ri,_t,Ot,vi,K,we,ut,G,de],encapsulation:2});var Ko=ln;var yr=oo(Do());var al=["vform"],ll=i=>({direction:i});function sl(i,s){if(i&1&&(C(0,"img",19),g(1,"cmsthumbnail")),i&2){let e=d();_("src",k(S(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function cl(i,s){i&1&&C(0,"i",26)}function dl(i,s){i&1&&C(0,"i",27)}function pl(i,s){i&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function ml(i,s){i&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function ul(i,s){if(i&1){let e=I();a(0,"div",20)(1,"label",48),c(2),g(3,"translate"),r(),a(4,"textarea",49,8),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.descriptionHidden,t)||(l.dataModel.descriptionHidden=t),f(t)}),c(6,"                    "),r(),a(7,"em"),c(8),r()()}if(i&2){let e=L(5),n=d();o(2),b(S(3,7,"TITLE.Description_Hidden")),o(2),_("placeholder",k(n.fieldsInfo.descriptionHidden==null?null:n.fieldsInfo.descriptionHidden.fieldTitle))("disabled",k(!(n.fieldsInfo.descriptionHidden!=null&&n.fieldsInfo.descriptionHidden.accessEditField))),w("ngModel",n.dataModel.descriptionHidden),o(4),h("",e.value.length," / 500")}}function fl(i,s){if(i&1){let e=I();a(0,"app-cms-user-selector",50),g(1,"translate"),v("optionChange",function(t){u(e);let l=d();return f(l.onActionSelectorUser(t))}),r()}if(i&2){let e=d();_("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessEditField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",S(1,3,"TITLE.USER"))}}function _l(i,s){i&1&&C(0,"i",26)}function Cl(i,s){i&1&&C(0,"i",27)}function hl(i,s){i&1&&(a(0,"mat-error"),c(1," Address is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function gl(i,s){if(i&1){let e=I();a(0,"div",39)(1,"div",51)(2,"h5",52),c(3),r()(),a(4,"div",53)(5,"div",54)(6,"input",55),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.accessWatchRowSite,t)||(l.dataModel.accessWatchRowSite=t),f(t)}),r(),C(7,"label",56),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.accessWatchRowSite==null?null:e.fieldsInfo.accessWatchRowSite.fieldTitle," "),o(3),w("ngModel",e.dataModel.accessWatchRowSite)}}function Sl(i,s){if(i&1){let e=I();a(0,"div",39)(1,"div",51)(2,"h5",57),c(3),r()(),a(4,"div",53)(5,"div",54)(6,"input",58),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.accessWatchRowOtherAgency,t)||(l.dataModel.accessWatchRowOtherAgency=t),f(t)}),r(),C(7,"label",59),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.accessWatchRowOtherAgency==null?null:e.fieldsInfo.accessWatchRowOtherAgency.fieldTitle," "),o(3),w("ngModel",e.dataModel.accessWatchRowOtherAgency)}}function yl(i,s){if(i&1){let e=I();a(0,"div",39)(1,"div",51)(2,"h5",60),c(3),r()(),a(4,"div",53)(5,"div",54)(6,"input",61),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.accessWatchRowOtherAgent,t)||(l.dataModel.accessWatchRowOtherAgent=t),f(t)}),r(),C(7,"label",62),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.accessWatchRowOtherAgent==null?null:e.fieldsInfo.accessWatchRowOtherAgent.fieldTitle," "),o(3),w("ngModel",e.dataModel.accessWatchRowOtherAgent)}}function El(i,s){if(i&1){let e=I();a(0,"div",39)(1,"div",51)(2,"h5",63),c(3),r()(),a(4,"div",53)(5,"div",54)(6,"input",64),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.accessAllowShareRowWatchOtherAgency,t)||(l.dataModel.accessAllowShareRowWatchOtherAgency=t),f(t)}),r(),C(7,"label",65),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgency==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgency.fieldTitle," "),o(3),w("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgency)}}function Ml(i,s){if(i&1){let e=I();a(0,"div",39)(1,"div",51)(2,"h5",66),c(3),r()(),a(4,"div",53)(5,"div",54)(6,"input",67),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.accessAllowShareRowWatchOtherAgent,t)||(l.dataModel.accessAllowShareRowWatchOtherAgent=t),f(t)}),r(),C(7,"label",68),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgent==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgent.fieldTitle," "),o(3),w("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgent)}}function vl(i,s){if(i&1){let e=I();a(0,"div",39)(1,"div",51)(2,"h5",69),c(3),r()(),a(4,"div",53)(5,"div",54)(6,"input",70),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.notificationWorkAreaEstate,t)||(l.dataModel.notificationWorkAreaEstate=t),f(t)}),r(),C(7,"label",71),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.notificationWorkAreaEstate==null?null:e.fieldsInfo.notificationWorkAreaEstate.fieldTitle," "),o(3),w("ngModel",e.dataModel.notificationWorkAreaEstate)}}function Il(i,s){if(i&1){let e=I();a(0,"div",39)(1,"div",51)(2,"h5",72),c(3),r()(),a(4,"div",53)(5,"div",54)(6,"input",73),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.notificationWorkAreaCustomerOrder,t)||(l.dataModel.notificationWorkAreaCustomerOrder=t),f(t)}),r(),C(7,"label",74),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.notificationWorkAreaCustomerOrder==null?null:e.fieldsInfo.notificationWorkAreaCustomerOrder.fieldTitle," "),o(3),w("ngModel",e.dataModel.notificationWorkAreaCustomerOrder)}}function bl(i,s){if(i&1){let e=I();a(0,"div",39)(1,"div",51)(2,"h5",63),c(3," accessShareAgencyToUser "),r()(),a(4,"div",53)(5,"div",54)(6,"input",75),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser,t)||(l.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser=t),f(t)}),r(),C(7,"label",76),r()()()}if(i&2){let e=d();o(6),w("ngModel",e.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser)}}function wl(i,s){if(i&1){let e=I();a(0,"div",39)(1,"div",51)(2,"h5",77),c(3," accessShareUserToAgency "),r()(),a(4,"div",53)(5,"div",54)(6,"input",78),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataEstateAccountAgencyExpertModel.accessShareUserToAgency,t)||(l.dataEstateAccountAgencyExpertModel.accessShareUserToAgency=t),f(t)}),r(),C(7,"label",79),r()()()}if(i&2){let e=d();o(6),w("ngModel",e.dataEstateAccountAgencyExpertModel.accessShareUserToAgency)}}function Tl(i,s){if(i&1){let e=I();a(0,"button",80),v("click",function(){u(e);let t=d();return f(t.onActionDataGetAddGroup())}),c(1," + "),r()}}function xl(i,s){if(i&1&&(a(0,"mat-header-cell"),c(1),r()),i&2){let e=d(2);o(),h(" ",e.fieldsInfoAgencyUser.linkEstateExpertId==null?null:e.fieldsInfoAgencyUser.linkEstateExpertId.fieldTitle," ")}}function Al(i,s){if(i&1&&(c(0),g(1,"estateAccountExpertInfo"),g(2,"async")),i&2){let e=d().$implicit;h(" ",S(2,3,S(1,1,e.linkEstateExpertId))," ")}}function Rl(i,s){if(i&1&&(a(0,"mat-cell"),y(1,Al,3,5),r()),i&2){let e=s.$implicit;o(),E(e.linkEstateExpertId?1:-1)}}function kl(i,s){if(i&1&&(a(0,"mat-header-cell"),c(1),r()),i&2){let e=d(2);o(),h(" ",e.fieldsInfoAgencyUser.linkEstateAccountAgencyId==null?null:e.fieldsInfoAgencyUser.linkEstateAccountAgencyId.fieldTitle," ")}}function Pl(i,s){if(i&1&&(c(0),g(1,"estateAccountAgencyInfo"),g(2,"async")),i&2){let e=d().$implicit;h(" ",S(2,3,S(1,1,e.linkEstateAccountAgencyId))," ")}}function Ll(i,s){if(i&1&&(a(0,"mat-cell"),y(1,Pl,3,5),r()),i&2){let e=s.$implicit;o(),E(e.linkEstateAccountAgencyId?1:-1)}}function Dl(i,s){if(i&1&&(a(0,"mat-header-cell"),c(1),r()),i&2){let e=d(2);o(),h(" ",e.fieldsInfoAgencyUser.accessShareUserToAgency==null?null:e.fieldsInfoAgencyUser.accessShareUserToAgency.fieldTitle," ")}}function Vl(i,s){if(i&1&&(C(0,"i",92),g(1,"boolclass")),i&2){let e=d().$implicit;_("ngClass",S(1,1,e.accessShareUserToAgency))}}function Ol(i,s){if(i&1&&(a(0,"mat-cell"),y(1,Vl,2,3,"i",92),r()),i&2){let e=s.$implicit;o(),E(e.accessShareUserToAgency?1:-1)}}function Bl(i,s){if(i&1&&(a(0,"mat-header-cell"),c(1),r()),i&2){let e=d(2);o(),h(" ",e.fieldsInfoAgencyUser.accessShareAgencyToUser==null?null:e.fieldsInfoAgencyUser.accessShareAgencyToUser.fieldTitle," ")}}function Wl(i,s){if(i&1&&(C(0,"i",92),g(1,"boolclass")),i&2){let e=d().$implicit;_("ngClass",S(1,1,e.accessShareAgencyToUser))}}function Fl(i,s){if(i&1&&(a(0,"mat-cell"),y(1,Wl,2,3,"i",92),r()),i&2){let e=s.$implicit;o(),E(e.accessShareAgencyToUser?1:-1)}}function Nl(i,s){i&1&&(a(0,"mat-header-cell"),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.OPTION")," "))}function Hl(i,s){if(i&1){let e=I();a(0,"mat-cell",93)(1,"button",94)(2,"small",95),v("click",function(){let t=u(e).$implicit,l=d(2);return f(l.onActionDataGetDeleteGroup(t))}),a(3,"mat-icon",96),g(4,"translate"),c(5,"delete"),r()()()()}i&2&&(o(3),_("matTooltip",k(S(4,2,"ACTION.DELETE"))))}function Gl(i,s){i&1&&C(0,"mat-header-row")}function Ul(i,s){if(i&1&&C(0,"mat-row"),i&2){let e=s.dataIndex;q("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function ql(i,s){if(i&1&&(a(0,"div",44)(1,"mat-table",81),A(2,82),P(3,xl,2,1,"mat-header-cell",83)(4,Rl,2,1,"mat-cell",84),R(),A(5,85),P(6,kl,2,1,"mat-header-cell",83)(7,Ll,2,1,"mat-cell",84),R(),A(8,86),P(9,Dl,2,1,"mat-header-cell",83)(10,Ol,2,1,"mat-cell",84),R(),A(11,87),P(12,Bl,2,1,"mat-header-cell",83)(13,Fl,2,1,"mat-cell",84),R(),A(14,88),P(15,Nl,3,3,"mat-header-cell",83)(16,Hl,6,4,"mat-cell",89),R(),P(17,Gl,1,0,"mat-header-row",90)(18,Ul,1,4,"mat-row",91),r()()),i&2){let e=d();o(),_("dataSource",e.optionTabledataSource),o(16),_("matHeaderRowDef",e.optionTabledisplayedColumns),o(),_("matRowDefColumns",e.optionTabledisplayedColumns)}}function jl(i,s){i&1&&(a(0,"mat-icon"),c(1,"call_end"),r())}function Ql(i,s){i&1&&(a(0,"mat-icon"),c(1,"forum"),r())}function Yl(i,s){if(i&1){let e=I();a(0,"div",47)(1,"button",97),v("click",function(){u(e);let t=d();return f(t.onFormCancel())}),C(2,"i",98),c(3),g(4,"translate"),r(),a(5,"button",99),C(6,"i",100),c(7),g(8,"translate"),r()()}if(i&2){d();let e=L(10);o(3),h(" ",S(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",S(8,5,"ACTION.SAVE")," ")}}var cn=class cn extends Mi{constructor(e,n,t,l,p,m,O,J,$,Te,Ee,ke){super(l,new si,$,ke);this.data=e;this.dialogRef=n;this.coreEnumService=t;this.estateAccountAgencyService=l;this.estateAccountExpertService=p;this.cmsToastrService=m;this.cmsStoreService=O;this.estateAccountAgencyExpertService=J;this.publicHelper=$;this.tokenHelper=Te;this.cdr=Ee;this.translate=ke;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfoAgencyUser=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ui;this.dataModel=new si;this.dataEstateAccountAgencyExpertModel=new po;this.formInfo=new be;this.fileManagerOpenForm=!1;this.optionTabledataSource=new Ki;this.optionTabledisplayedColumns=["LinkEstateExpertId","LinkEstateAccountAgencyId","AccessShareUserToAgency","AccessShareAgencyToUser","Action"];this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Ei;this.dataEstateAccountExpertModel=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.DataGetAccess(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllGroup()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.estateAccountAgencyService.setAccessLoad(),this.estateAccountAgencyService.setAccessDataType(Me.Editor),this.estateAccountAgencyService.ServiceGetOneById(this.requestId).subscribe({next:n=>{if(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess){this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1;let t=this.dataModel.geolocationlatitude,l=this.dataModel.geolocationlongitude;t>0&&l>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:t,lon:l}),this.receiveMap())}else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(n.errorMessage);this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.estateAccountAgencyService.ServiceEdit(this.dataModel).subscribe({next:n=>{this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:n=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(n=>{this.mapMarker=yr.marker([n.lat,n.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",n=>{let t=n.latlng.lat,l=n.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&l===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=yr.marker([t,l]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=l}))}receiveZoom(e){}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionSelectorUser(e){this.dataModel.linkCmsUserId=null,e&&e.id>0&&(this.dataModel.linkCmsUserId=e.id)}onStepClick(e,n){e.previouslySelectedIndex<e.selectedIndex}DataGetAllGroup(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Getting_access_category_from_the_server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)});let n=new me,t=new V;t.propertyName="linkEstateAccountAgencyId",t.value=this.requestId,n.filters.push(t),this.estateAccountAgencyExpertService.ServiceGetAll(n).subscribe({next:l=>{this.dataEstateAccountExpertModel=l.listItems,this.optionTabledataSource.data=this.dataEstateAccountExpertModel,l.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(p=>{this.formInfo.submitResultMessage=p}),this.formInfo.submitResultMessage=l.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}onActionDataGetAddGroup(){let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.estateAccountAgencyExpertService.ServiceAdd(this.dataEstateAccountAgencyExpertModel).subscribe({next:n=>{n.isSuccess?(this.formInfo.submitResultMessage="",this.optionTabledataSource.data=n.listItems,this.DataGetAllGroup()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onActionDataGetDeleteGroup(e){let n=this.constructor.name+"onActionDataGetDeleteGroup";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.estateAccountAgencyExpertService.ServiceDeleteEntity(e).subscribe({next:t=>{t.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAllGroup()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(n)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onActionSelectorAccountUser(e){this.dataEstateAccountAgencyExpertModel.linkEstateExpertId=null,this.dataEstateAccountAgencyExpertModel.linkEstateAccountAgencyId=this.requestId,e&&e.id?.length>0&&(this.dataEstateAccountAgencyExpertModel.linkEstateExpertId=e.id)}onActionSelectorLocation(e){this.dataModel.linkLocationId=null,e&&e.id>0&&(this.dataModel.linkLocationId=e.id)}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationWorkAreaIds=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};cn.\u0275fac=function(n){return new(n||cn)(M(Le),M(Ie),M(he),M(fi),M(_i),M(F),M(Y),M(uo),M(U),M(z),M(H),M(W))},cn.\u0275cmp=B({type:cn,selectors:[["app-estate-account-agency-edit"]],viewQuery:function(n,t){if(n&1&&Ve(al,5),n&2){let l;Oe(l=Be())&&(t.formGroup=l.first)}},standalone:!1,features:[ee],decls:105,vars:108,consts:[["vform","ngForm"],["stepper",""],["LinkMainImageId",""],["Title",""],["Description",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[3,"selectionChange"],["state","main",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],["id","main-map",3,"map$","zoom$","optonCenter"],["state","file",3,"label"],[3,"optionChange","optionDisabled","optionPlaceholder"],["type","button","type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"example-container","mat-elevation-z8"],["matStepperIcon","main"],["matStepperIcon","file"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"pt-1"],["data-trigger-switch","dataModel.accessWatchRowSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessWatchRowSite","name","dataModel.accessWatchRowSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowSite",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgency","name","dataModel.accessWatchRowOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgent","name","dataModel.accessWatchRowOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgency","name","dataModel.accessAllowShareRowWatchOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgent","name","dataModel.accessAllowShareRowWatchOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaEstate",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaEstate","name","dataModel.notificationWorkAreaEstate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaEstate",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaCustomerOrder",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaCustomerOrder","name","dataModel.notificationWorkAreaCustomerOrder",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaCustomerOrder",1,"custom-control-label"],["type","checkbox","id","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser","name","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser",1,"custom-control-label"],["data-trigger-switch","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"font-600","font-14"],["type","checkbox","id","dataEstateAccountAgencyExpertModel.accessShareUserToAgency","name","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"custom-control-label"],["type","button","type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateExpertId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkEstateAccountAgencyId"],["matColumnDef","AccessShareUserToAgency"],["matColumnDef","AccessShareAgencyToUser"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],[3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,t){if(n&1){let l=I();a(0,"div",9),C(1,"app-progress-spinner",10),a(2,"div",11)(3,"p",12),c(4),r(),a(5,"p"),c(6),g(7,"translate"),r(),C(8,"app-cms-form-result-message",13),a(9,"form",14,0),v("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"mat-vertical-stepper",15,1),v("selectionChange",function(m){u(l);let O=L(12);return f(t.onStepClick(m,O))}),a(13,"mat-step",16),g(14,"translate"),a(15,"div",17)(16,"a",18),g(17,"cmsthumbnail"),y(18,sl,2,4,"img",19),r()(),a(19,"div",20)(20,"label",21),v("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),c(21),g(22,"translate"),r(),a(23,"input",22,2),g(25,"translate"),x("ngModelChange",function(m){return u(l),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),v("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(26,"cms-file-manager",23),v("itemSelected",function(m){return u(l),f(t.onActionFileSelected(m))}),x("openFormChange",function(m){return u(l),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),r()(),a(27,"div",20)(28,"label",24),c(29),r(),a(30,"input",25,3),x("ngModelChange",function(m){return u(l),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),r(),y(32,cl,1,0,"i",26),y(33,dl,1,0,"i",27),C(34,"em"),y(35,pl,5,3,"mat-error"),r(),a(36,"div",20)(37,"label",28),c(38),r(),a(39,"textarea",29,4),x("ngModelChange",function(m){return u(l),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(41,"                  "),r(),a(42,"em"),c(43),r(),y(44,ml,5,3,"mat-error"),r(),y(45,ul,9,9,"div",20),y(46,fl,2,5,"app-cms-user-selector",30),a(47,"div",20)(48,"label",31),c(49),r(),a(50,"input",32,5),x("ngModelChange",function(m){return u(l),T(t.dataModel.phoneNumber,m)||(t.dataModel.phoneNumber=m),f(m)}),r(),a(52,"em"),c(53),r()(),a(54,"div",20)(55,"label",33),c(56),r(),a(57,"input",34,6),x("ngModelChange",function(m){return u(l),T(t.dataModel.mobileNumber,m)||(t.dataModel.mobileNumber=m),f(m)}),r(),a(59,"em"),c(60),r()(),a(61,"div",20)(62,"label",35),c(63),r(),a(64,"textarea",36,7),x("ngModelChange",function(m){return u(l),T(t.dataModel.address,m)||(t.dataModel.address=m),f(m)}),c(66,"                      "),r(),y(67,_l,1,0,"i",26),y(68,Cl,1,0,"i",27),a(69,"em"),c(70),r(),y(71,hl,5,3,"mat-error"),r(),a(72,"app-cms-location-selector",37),g(73,"translate"),v("optionChange",function(m){return u(l),f(t.onActionSelectorLocation(m))}),r(),C(74,"br"),c(75),g(76,"translate"),a(77,"app-cms-location-autocomplete",38),g(78,"translate"),v("optionChange",function(m){return u(l),f(t.onActionSelectorLocationWorkArea(m))}),r(),C(79,"hr"),y(80,gl,8,2,"div",39),y(81,Sl,8,2,"div",39),y(82,yl,8,2,"div",39),y(83,El,8,2,"div",39),y(84,Ml,8,2,"div",39),C(85,"hr"),y(86,vl,8,2,"div",39),y(87,Il,8,2,"div",39),C(88,"hr"),a(89,"p"),c(90),g(91,"translate"),r(),a(92,"app-cms-map",40),v("map$",function(m){return u(l),f(t.receiveMap(m))})("zoom$",function(m){return u(l),f(t.receiveZoom(m))}),r()(),a(93,"mat-step",41),g(94,"translate"),C(95,"br"),a(96,"app-estate-account-expert-selector",42),g(97,"translate"),v("optionChange",function(m){return u(l),f(t.onActionSelectorAccountUser(m))}),r(),y(98,bl,8,1,"div",39),y(99,wl,8,1,"div",39),y(100,Tl,2,0,"button",43),y(101,ql,19,3,"div",44),r(),P(102,jl,2,0,"ng-template",45)(103,Ql,2,0,"ng-template",46),r(),y(104,Yl,9,7,"div",47),r()()()}if(n&2){let l=L(31),p=L(40),m=L(51),O=L(58),J=L(65);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",S(7,84,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(),_("ngStyle",te(106,ll,t.tokenInfo.access.direction)),o(4),_("label",k(S(14,86,"TITLE.REQUIRED_INFORMATION"))),o(3),_("href",k(S(17,88,t.dataModel.linkMainImageIdSrc)),j),o(2),E((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?18:-1),o(3),b(S(22,90,"MESSAGE. Photo_of_estate_agency")),o(2),_("placeholder",k(S(25,92,"TITLE.Original_File_ID"))),w("ngModel",t.dataModel.linkMainImageId),o(3),_("language",t.appLanguage)("isPopup",!0),w("openForm",t.fileManagerOpenForm),_("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),_("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),o(2),E(l.value?-1:32),o(),E(l.value?33:-1),o(2),E(l.errors!=null&&l.errors.required?35:-1),o(3),b(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),_("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessEditField)),o(4),h("",p.value.length," / 500"),o(),E(p.errors!=null&&p.errors.required?44:-1),o(),E(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField?45:-1),o(),E(t.tokenHelper.isAdminSite?46:-1),o(3),b(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),w("ngModel",t.dataModel.phoneNumber),_("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessEditField)),o(3),h("",m.value.length," / 64"),o(3),b(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),w("ngModel",t.dataModel.mobileNumber),_("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessAddField)),o(3),h("",O.value.length," / 64"),o(3),b(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),w("ngModel",t.dataModel.address),_("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessEditField)),o(3),E(J.value?-1:67),o(),E(J.value?68:-1),o(2),h("",J.value.length," / 500"),o(),E(J.errors!=null&&J.errors.required?71:-1),o(),_("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",S(73,94,"TITLE.Geographical_Region"))("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessEditField)),o(3),h(" ",S(76,96,"TITLE.COVERED_AREAS")," "),o(2),_("optionSelectForce",t.dataModel.linkLocationWorkAreaIds)("optionPlaceholder",S(78,98,"TITLE.Region")),o(3),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?80:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?81:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?82:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?83:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?84:-1),o(2),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?86:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?87:-1),o(3),h(" ",S(91,100,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),_("optonCenter",t.mapOptonCenter),o(),_("label",k(S(94,102,"TITLE.Property_personnel"))),o(3),_("optionDisabled",!t.tokenHelper.isAdminSite)("optionPlaceholder",S(97,104,"TITLE.Property_personnel")),o(2),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?98:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?99:-1),o(),E(t.dataEstateAccountAgencyExpertModel.linkEstateExpertId&&t.dataEstateAccountAgencyExpertModel.linkEstateExpertId.length>0?100:-1),o(),E(t.publicHelper.processService.process.inRunAll?-1:101),o(3),E(t.formInfo.submitButtonEnabled?104:-1)}},dependencies:[se,Ce,Qe,ge,mt,ne,qe,Fe,Ye,ze,ce,je,Pe,Ke,Se,le,Yi,zi,Qi,Je,Xe,it,$e,Ze,nt,et,tt,ot,rt,ji,ri,_t,Ot,vi,K,we,Zi,tn,ut,We,G,de,hi,Bo,Wo],encapsulation:2});var Zo=cn;var zl=()=>["expandedTitle"],Kl=()=>["expandedDetail"],Jl=()=>[5,10,20,100],Zl=i=>({display:i});function Xl(i,s){if(i&1&&C(0,"app-estate-account-expert-header",3),i&2){let e=d();_("optionId",e.requestLinkAccountUserId)}}function $l(i,s){if(i&1){let e=I();a(0,"div",16)(1,"a",47),v("click",function(){u(e);let t=d();return f(t.onActionButtonNewRow())}),C(2,"i",48)(3,"br"),r(),a(4,"p",20),c(5),g(6,"translate"),r()()}i&2&&(o(5),h(" ",S(6,1,"ACTION.ADD")," "))}function es(i,s){if(i&1){let e=I();a(0,"div",16)(1,"a",49),v("click",function(){u(e);let t=d();return f(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",50)(3,"br"),r(),a(4,"p",20),c(5),g(6,"translate"),r()()}i&2&&(o(5),h(" ",S(6,1,"ACTION.EDIT")," "))}function ts(i,s){if(i&1){let e=I();a(0,"div",16)(1,"a",51),v("click",function(){u(e);let t=d();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",52)(3,"br"),r(),a(4,"p",20),c(5),g(6,"translate"),r()()}i&2&&(o(5),h(" ",S(6,1,"ACTION.DELETE")," "))}function is(i,s){i&1&&(a(0,"mat-header-cell"),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.MENU")," "))}function ns(i,s){if(i&1){let e=I();a(0,"mat-cell")(1,"button",53),v("click",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowSelectActionMenu(t))}),C(2,"i",54),r()()}}function os(i,s){i&1&&(a(0,"mat-header-cell",55),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.PICTURE")," "))}function rs(i,s){if(i&1&&(C(0,"img",56),g(1,"cmsthumbnail")),i&2){let e=d().$implicit;_("src",k(S(1,2,e.linkMainImageIdSrc)),j)}}function as(i,s){if(i&1&&(a(0,"mat-cell"),y(1,rs,2,4,"img",56),r()),i&2){let e=s.$implicit;o(),E((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function ls(i,s){if(i&1&&(a(0,"mat-header-cell",55),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ss(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function cs(i,s){if(i&1&&(a(0,"mat-header-cell",55),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function ds(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function ps(i,s){if(i&1&&(a(0,"mat-header-cell",55),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.fieldTitle," ")}}function ms(i,s){if(i&1&&(a(0,"mat-cell"),c(1),g(2,"cmsuserinfo"),g(3,"async"),r()),i&2){let e=s.$implicit;o(),h(" ",S(3,3,S(2,1,e.linkCmsUserId))," ")}}function us(i,s){if(i&1&&(a(0,"mat-header-cell",55),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function fs(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.description," ")}}function _s(i,s){i&1&&(a(0,"mat-header-cell"),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.OPTION")," "))}function Cs(i,s){if(i&1&&(a(0,"mat-cell",57)(1,"button",58)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,2),r()),i&2){let e=L(5);o(),_("matMenuTriggerFor",e)}}function hs(i,s){if(i&1&&(a(0,"mat-cell"),c(1),g(2,"translate"),g(3,"cmsuserinfo"),g(4,"async"),r()),i&2){let e=s.$implicit;o(),Q(" ",S(2,2,"TITLE.User-Id-Cms"),": ",S(4,6,S(3,4,e.linkCmsUserId))," ")}}function gs(i,s){if(i&1&&(C(0,"img",59),g(1,"cmsthumbnail")),i&2){let e=d().$implicit;_("src",k(S(1,2,e.linkMainImageIdSrc)),j)}}function Ss(i,s){if(i&1&&(a(0,"tr"),C(1,"td"),a(2,"td"),c(3),r()()),i&2){let e=d().$implicit,n=d();o(3),Q(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function ys(i,s){if(i&1&&(a(0,"tr"),C(1,"td"),a(2,"td"),c(3),g(4,"translate"),r()()),i&2){let e=d().$implicit;o(3),Q("",S(4,2,"TITLE.Address")," : ",e.address)}}function Es(i,s){if(i&1&&(a(0,"tr"),C(1,"td"),a(2,"td"),c(3),r()()),i&2){let e=d().$implicit,n=d();o(3),Q(" ",n.fieldsInfo.phoneNumber==null?null:n.fieldsInfo.phoneNumber.fieldTitle," : ",e.phoneNumber," ")}}function Ms(i,s){if(i&1&&(a(0,"tr"),C(1,"td"),a(2,"td"),c(3),r()()),i&2){let e=d().$implicit,n=d();o(3),Q(" ",n.fieldsInfo.mobileNumber==null?null:n.fieldsInfo.mobileNumber.fieldTitle," : ",e.mobileNumber," ")}}function vs(i,s){if(i&1){let e=I();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),y(5,gs,2,4,"img",59),r(),a(6,"th")(7,"span",60),v("click",function(){u(e);let t=d();return f(t.onActionCopied())}),C(8,"i",61),r(),c(9),r()(),a(10,"tr"),C(11,"td"),a(12,"td"),c(13),r()(),y(14,Ss,4,2,"tr"),y(15,ys,5,4,"tr"),y(16,Es,4,2,"tr"),y(17,Ms,4,2,"tr"),a(18,"tr"),C(19,"td")(20,"td"),r()()()()}if(i&2){let e=s.$implicit,n=d();o(5),E((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),_("cdkCopyToClipboard",e.id),o(2),h(" ",e.id," "),o(4),Q("",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," : ",e.title),o(),E(e.description?14:-1),o(),E(e.address?15:-1),o(),E(e.phoneNumber?16:-1),o(),E(e.mobileNumber?17:-1)}}function Is(i,s){i&1&&C(0,"mat-header-row")}function bs(i,s){if(i&1){let e=I();a(0,"mat-row",62),v("click",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseLeave(t))}),r()}if(i&2){let e=s.$implicit,n=d();q("ntk-row-selected",e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}function ws(i,s){if(i&1){let e=I();a(0,"mat-row",63),v("click",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseLeave(t))}),r()}if(i&2){let e=s.$implicit,n=d();q("ntk-row-selected",e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}function Ts(i,s){if(i&1){let e=I();a(0,"mat-row",64),v("click",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseLeave(t))}),r()}if(i&2){let e=s.$implicit,n=d();q("ntk-row-selected",e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)),_("ngStyle",te(3,Zl,e.expanded===!0?"":"none"))}}var dn=class dn extends Bt{constructor(e,n,t,l,p,m,O,J,$,Te,Ee,ke,St){super(e,new si,ke,p,J);this.contentService=e;this.cmsConfirmationDialogService=n;this.cmsToastrService=t;this.router=l;this.tokenHelper=p;this.cdr=m;this.cmsStoreService=O;this.translate=J;this.themeService=$;this.activatedRoute=Te;this.pageInfo=Ee;this.publicHelper=ke;this.dialog=St;this.requestLinkAccountUserId="";this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Wr;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","title","Description","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","title","Description","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:at=>this.onSubmitOptionsSearch(at)},this.requestLinkAccountUserId=this.activatedRoute.snapshot.paramMap.get("LinkAccountUserId"),this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ie.Descending}set optionLinkLocationWorkAreaIds(e){this.requestLinkLocationWorkAreaIds=[],e&&e.length>0&&(this.requestLinkLocationWorkAreaIds=e),this.requestLinkLocationWorkAreaIds&&this.requestLinkLocationWorkAreaIds.length>0&&(this.filteModelContent.linkLocationWorkAreaIds=this.requestLinkLocationWorkAreaIds)}set optionLinkLocationWorkAreaId(e){this.requestLinkLocationWorkAreaIds=[],e&&e>0&&this.requestLinkLocationWorkAreaIds.push(e),this.requestLinkLocationWorkAreaIds&&this.requestLinkLocationWorkAreaIds.length>0&&(this.filteModelContent.linkLocationWorkAreaIds=this.requestLinkLocationWorkAreaIds)}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;if(this.tableRowsSelected=[],this.onActionTableRowSelect(new si),this.requestLinkAccountUserId&&this.requestLinkAccountUserId.length>0){let t=new V;t.propertyAnyName="AccountAgencyUser",t.propertyName="linkEstateExpertId",t.value=this.requestLinkAccountUserId,this.filteModelContent.filters.push(t)}let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(n.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessDataType(Me.Editor),this.contentService.ServiceGetAll(n).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess&&(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ie.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ie.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ie.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorLocation(e){this.filteModelContent.linkLocationIds=e}onActionSelectorLocationWorkArea(e){this.filteModelContent.linkLocationWorkAreaIds=e}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ko,{height:"90%",panelClass:e,enterAnimationDuration:N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:N.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.publicHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Zo,{height:"90%",panelClass:n,enterAnimationDuration:N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{n=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(p,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{n.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{n.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(O=>{n.set(O,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),p=new V;p.propertyName="recordStatus",p.value=Ae.Available,l.filters.push(p),this.contentService.ServiceGetCount(l).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(O=>{n.set(O,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonAgentRow(e=this.tableRowSelected,n){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}n?.ctrlKey?(this.link="/#/estate/account-user/LinkAccountAgencyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/account-user/LinkAccountAgencyId",this.tableRowSelected.id])}onActionButtonHistoryRow(e=this.tableRowSelected,n){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}n?.ctrlKey?(this.link="/#/estate/property-history/LinkEstateAgencyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkEstateAgencyId",this.tableRowSelected.id])}onActionButtonPropertyRow(e=this.tableRowSelected,n){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}n?.ctrlKey?(this.link="/#/estate/property/LinkEstateAgencyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkEstateAgencyId",this.tableRowSelected.id])}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};dn.\u0275fac=function(n){return new(n||dn)(M(fi),M(Vt),M(F),M(Mt),M(z),M(H),M(Y),M(W),M(ft),M(Zt),M(Dt),M(U),M(oe))},dn.\u0275cmp=B({type:dn,selectors:[["app-estate-account-agency-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkLocationWorkAreaIds:"optionLinkLocationWorkAreaIds",optionLinkLocationWorkAreaId:"optionLinkLocationWorkAreaId"},standalone:!1,features:[ee],decls:94,vars:59,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-user-tie","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-house","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","LinkCmsUserId"],["matColumnDef","Description"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(n,t){if(n&1){let l=I();y(0,Xl,1,1,"app-estate-account-expert-header",3),a(1,"app-cms-html-list",4),x("optionActionGuideNoticeDisplayChange",function(m){return u(l),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),v("optionOnActionButtonMemoRow",function(){return u(l),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(l),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(l),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(l),f(t.onActionButtonPrintRow())}),A(2,5),c(3," -------------------------------------- "),R(),Ue(4,6)(5,7),A(6,8),a(7,"a",9),v("click",function(){return u(l),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(8,"i",10),r(),a(9,"a",9),v("click",function(){return u(l),f(t.onActionButtonReload())}),C(10,"i",11),r(),R(),A(11,12),a(12,"a",13),v("click",function(){return u(l),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(13,"mat-slide-toggle",14),c(14),g(15,"translate"),r(),a(16,"a",13),v("click",function(){return u(l),f(t.onActionButtonStatist())}),C(17,"mat-slide-toggle",14),c(18),g(19,"translate"),r(),R(),A(20,15),y(21,$l,7,3,"div",16),R(),A(22,17),y(23,es,7,3,"div",16),y(24,ts,7,3,"div",16),a(25,"div",16)(26,"a",18),v("click",function(m){return u(l),f(t.onActionButtonAgentRow(t.tableRowSelected,m))}),C(27,"i",19)(28,"br"),r(),a(29,"p",20),c(30),g(31,"translate"),r()(),a(32,"div",16)(33,"a",18),v("click",function(m){return u(l),f(t.onActionButtonHistoryRow(t.tableRowSelected,m))}),C(34,"i",21)(35,"br"),r(),a(36,"p",20),c(37),g(38,"translate"),r()(),a(39,"div",16)(40,"a",18),v("click",function(m){return u(l),f(t.onActionButtonPropertyRow(t.tableRowSelected,m))}),C(41,"i",22)(42,"br"),r(),a(43,"p",20),c(44),g(45,"translate"),r()(),R(),A(46,23),a(47,"app-cms-search-list",24),x("optionsChange",function(m){return u(l),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),c(48),g(49,"translate"),a(50,"app-cms-location-autocomplete",25),g(51,"translate"),v("optionChange",function(m){return u(l),f(t.onActionSelectorLocation(m))}),r(),C(52,"br"),c(53),g(54,"translate"),a(55,"app-cms-location-autocomplete",25),g(56,"translate"),v("optionChange",function(m){return u(l),f(t.onActionSelectorLocationWorkArea(m))}),r(),C(57,"hr"),r(),a(58,"app-cms-statist-list",24),x("optionsChange",function(m){return u(l),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),r(),R(),A(59,26),a(60,"mat-table",27,0),v("matSortChange",function(){u(l);let m=L(61);return f(t.onTableSortData(m))}),A(62,28),P(63,is,3,3,"mat-header-cell",29)(64,ns,3,0,"mat-cell",30),R(),A(65,31),P(66,os,3,3,"mat-header-cell",32)(67,as,2,1,"mat-cell",30),R(),A(68,33),P(69,ls,2,1,"mat-header-cell",32)(70,ss,2,1,"mat-cell",30),R(),A(71,34),P(72,cs,2,1,"mat-header-cell",32)(73,ds,2,1,"mat-cell",30),R(),A(74,35),P(75,ps,2,1,"mat-header-cell",32)(76,ms,4,5,"mat-cell",30),R(),A(77,36),P(78,us,2,1,"mat-header-cell",32)(79,fs,2,1,"mat-cell",30),R(),A(80,37),P(81,_s,3,3,"mat-header-cell",29)(82,Cs,6,1,"mat-cell",38),R(),A(83,39),P(84,hs,5,8,"mat-cell",30),R(),A(85,40),P(86,vs,21,9,"mat-cell",30),R(),P(87,Is,1,0,"mat-header-row",41)(88,bs,1,2,"mat-row",42)(89,ws,1,2,"mat-row",43)(90,Ts,1,5,"mat-row",44),r(),R(),A(91,45),a(92,"mat-paginator",46,1),v("page",function(m){return u(l),f(t.onTablePageingData(m))}),r(),R(),r()}n&2&&(E((t.requestLinkAccountUserId==null?null:t.requestLinkAccountUserId.length)>0?0:-1),o(),_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","accountagency.content.list"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),q("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),h("",S(15,38,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",S(19,40,"ACTION.STATIST")," "),o(3),E(t.optionloadByRoute&&t.dataModelResult.access.accessAddRow?21:-1),o(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(6),h(" ",S(31,42,"ACTION.PERSONNEL")," "),o(7),h(" ",S(38,44,"ACTION.HISTORY")," "),o(7),h(" ",S(45,46,"ACTION.CONNECT_TO_PROPERTY")," "),o(3),w("options",t.optionsSearch),o(),h(" ",S(49,48,"ACTION.LOCATION")," "),o(2),_("optionSelectForce",t.filteModelContent.linkLocationIds)("optionPlaceholder",S(51,50,"TITLE.Region")),o(3),h(" ",S(54,52,"ACTION.LOCATION_WORK_ACTIVITY")," "),o(2),_("optionSelectForce",t.filteModelContent.linkLocationWorkAreaIds)("optionPlaceholder",S(56,54,"TITLE.Region")),o(3),w("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(27),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",Z(56,zl)),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(),_("matRowDefColumns",Z(57,Kl)),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Z(58,Jl)))},dependencies:[Ce,Pe,Se,Tt,xt,At,Rt,kt,Pt,Je,Xe,it,$e,Ze,nt,et,tt,ot,rt,wt,Wt,Ft,_t,Nt,Ht,ra,We,G,ei,de],encapsulation:2});var _a=dn;var Mr=oo(Do());var xs=["vform"],As=i=>({direction:i});function Rs(i,s){if(i&1&&(C(0,"img",20),g(1,"cmsthumbnail")),i&2){let e=d();_("src",k(S(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function ks(i,s){i&1&&C(0,"i",27)}function Ps(i,s){i&1&&C(0,"i",28)}function Ls(i,s){i&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function Ds(i,s){i&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function Vs(i,s){if(i&1){let e=I();a(0,"div",21)(1,"label",51),c(2),g(3,"translate"),r(),a(4,"textarea",52,11),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.descriptionHidden,t)||(l.dataModel.descriptionHidden=t),f(t)}),c(6,"                "),r(),a(7,"em"),c(8),r()()}if(i&2){let e=L(5),n=d();o(2),b(S(3,5,"TITLE.Description_Hidden")),o(2),_("placeholder",k(n.fieldsInfo.descriptionHidden==null?null:n.fieldsInfo.descriptionHidden.fieldTitle)),w("ngModel",n.dataModel.descriptionHidden),o(4),h("",e.value.length," / 500")}}function Os(i,s){if(i&1){let e=I();a(0,"app-cms-user-selector",53),g(1,"translate"),v("optionChange",function(t){u(e);let l=d();return f(l.onActionSelectorUser(t))}),r()}if(i&2){let e=d();_("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",S(1,3,"TITLE.USER"))}}function Bs(i,s){i&1&&C(0,"i",27)}function Ws(i,s){i&1&&C(0,"i",28)}function Fs(i,s){i&1&&(a(0,"mat-error"),c(1," Address is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function Ns(i,s){if(i&1){let e=I();a(0,"div",48)(1,"div",54)(2,"h5",55),c(3),r()(),a(4,"div",56)(5,"div",57)(6,"input",58),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.accessWatchRowSite,t)||(l.dataModel.accessWatchRowSite=t),f(t)}),r(),C(7,"label",59),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.accessWatchRowSite==null?null:e.fieldsInfo.accessWatchRowSite.fieldTitle," "),o(3),w("ngModel",e.dataModel.accessWatchRowSite)}}function Hs(i,s){if(i&1){let e=I();a(0,"div",48)(1,"div",54)(2,"h5",60),c(3),r()(),a(4,"div",56)(5,"div",57)(6,"input",61),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.accessWatchRowOtherAgency,t)||(l.dataModel.accessWatchRowOtherAgency=t),f(t)}),r(),C(7,"label",62),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.accessWatchRowOtherAgency==null?null:e.fieldsInfo.accessWatchRowOtherAgency.fieldTitle," "),o(3),w("ngModel",e.dataModel.accessWatchRowOtherAgency)}}function Gs(i,s){if(i&1){let e=I();a(0,"div",48)(1,"div",54)(2,"h5",63),c(3),r()(),a(4,"div",56)(5,"div",57)(6,"input",64),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.accessWatchRowOtherAgent,t)||(l.dataModel.accessWatchRowOtherAgent=t),f(t)}),r(),C(7,"label",65),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.accessWatchRowOtherAgent==null?null:e.fieldsInfo.accessWatchRowOtherAgent.fieldTitle," "),o(3),w("ngModel",e.dataModel.accessWatchRowOtherAgent)}}function Us(i,s){if(i&1){let e=I();a(0,"div",48)(1,"div",54)(2,"h5",66),c(3),r()(),a(4,"div",56)(5,"div",57)(6,"input",67),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.accessAllowShareRowWatchOtherAgency,t)||(l.dataModel.accessAllowShareRowWatchOtherAgency=t),f(t)}),r(),C(7,"label",68),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgency==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgency.fieldTitle," "),o(3),w("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgency)}}function qs(i,s){if(i&1){let e=I();a(0,"div",48)(1,"div",54)(2,"h5",69),c(3),r()(),a(4,"div",56)(5,"div",57)(6,"input",70),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.accessAllowShareRowWatchOtherAgent,t)||(l.dataModel.accessAllowShareRowWatchOtherAgent=t),f(t)}),r(),C(7,"label",71),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgent==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgent.fieldTitle," "),o(3),w("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgent)}}function js(i,s){if(i&1){let e=I();a(0,"div",48)(1,"div",54)(2,"h5",72),c(3),r()(),a(4,"div",56)(5,"div",57)(6,"input",73),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.notificationWorkAreaEstate,t)||(l.dataModel.notificationWorkAreaEstate=t),f(t)}),r(),C(7,"label",74),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.notificationWorkAreaEstate==null?null:e.fieldsInfo.notificationWorkAreaEstate.fieldTitle," "),o(3),w("ngModel",e.dataModel.notificationWorkAreaEstate)}}function Qs(i,s){if(i&1){let e=I();a(0,"div",48)(1,"div",54)(2,"h5",75),c(3),r()(),a(4,"div",56)(5,"div",57)(6,"input",76),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.notificationWorkAreaCustomerOrder,t)||(l.dataModel.notificationWorkAreaCustomerOrder=t),f(t)}),r(),C(7,"label",77),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.notificationWorkAreaCustomerOrder==null?null:e.fieldsInfo.notificationWorkAreaCustomerOrder.fieldTitle," "),o(3),w("ngModel",e.dataModel.notificationWorkAreaCustomerOrder)}}function Ys(i,s){if(i&1){let e=I();a(0,"div",50)(1,"button",78),v("click",function(){u(e);let t=d();return f(t.onFormCancel())}),C(2,"i",79),c(3),g(4,"translate"),r(),a(5,"button",80),C(6,"i",81),c(7),g(8,"translate"),r()()}if(i&2){d();let e=L(10);o(3),h(" ",S(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",S(8,5,"ACTION.SAVE")," ")}}var vn=class vn extends Yt{constructor(e,n,t,l,p,m,O,J,$,Te){super(l,new ci,m,$);this.data=e;this.dialogRef=n;this.coreEnumService=t;this.estateAccountExpertService=l;this.cmsToastrService=p;this.publicHelper=m;this.cmsStoreService=O;this.cdr=J;this.translate=$;this.tokenHelper=Te;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new It;this.dataModelResult=new X;this.dataModel=new ci;this.formInfo=new be;this.fileManagerOpenForm=!1;this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Ei;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.estateAccountExpertService.ServiceAdd(this.dataModel).subscribe({next:n=>{this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:n=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(n=>{this.mapMarker=Mr.marker([n.lat,n.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",n=>{let t=n.latlng.lat,l=n.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&l===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=Mr.marker([t,l]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=l}))}receiveZoom(e){}onActionSelectorUser(e){this.dataModel.linkCmsUserId=null,e&&e.id>0&&(this.dataModel.linkCmsUserId=e.id)}onActionSelectorLocation(e){this.dataModel.linkLocationId=null,e&&e.id>0&&(this.dataModel.linkLocationId=e.id)}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationWorkAreaIds=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}};vn.\u0275fac=function(n){return new(n||vn)(M(Le),M(Ie),M(he),M(_i),M(F),M(U),M(Y),M(H),M(W),M(z))},vn.\u0275cmp=B({type:vn,selectors:[["app-estate-account-expert-add"]],viewQuery:function(n,t){if(n&1&&Ve(xs,5),n&2){let l;Oe(l=Be())&&(t.formGroup=l.first)}},standalone:!1,features:[ee],decls:117,vars:118,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["JoinId",""],["SerialRfId",""],["SerialNumber",""],["PlaceProduction",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.joinId",1,"color-highlight"],["matInput","","name","dataModel.joinId","type","text","minlength","0","maxlength","64","id","dataModel.joinId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.serialRfId",1,"color-highlight"],["matInput","","name","dataModel.serialRfId","type","text","minlength","0","maxlength","64","id","dataModel.serialRfId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.serialNumber",1,"color-highlight"],["matInput","","name","dataModel.serialNumber","type","text","minlength","0","maxlength","64","id","dataModel.serialNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.placeProduction",1,"color-highlight"],["matInput","","name","dataModel.placeProduction","type","text","minlength","0","maxlength","64","id","dataModel.placeProduction",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],["id","main-map",3,"map$","zoom$","optonCenter"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"pt-1"],["data-trigger-switch","dataModel.accessWatchRowSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessWatchRowSite","name","dataModel.accessWatchRowSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowSite",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgency","name","dataModel.accessWatchRowOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgent","name","dataModel.accessWatchRowOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgency","name","dataModel.accessAllowShareRowWatchOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgent","name","dataModel.accessAllowShareRowWatchOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaEstate",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaEstate","name","dataModel.notificationWorkAreaEstate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaEstate",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaCustomerOrder",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaCustomerOrder","name","dataModel.notificationWorkAreaCustomerOrder",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaCustomerOrder",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,t){if(n&1){let l=I();a(0,"div",12),C(1,"app-progress-spinner",13),a(2,"div",14)(3,"p",15),c(4),r(),a(5,"p"),c(6),g(7,"translate"),r(),C(8,"app-cms-form-result-message",16),a(9,"form",17,0),v("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"div",18)(12,"a",19),g(13,"cmsthumbnail"),y(14,Rs,2,4,"img",20),r()(),a(15,"div",21)(16,"label",22),v("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),c(17),g(18,"translate"),r(),a(19,"input",23,1),g(21,"translate"),x("ngModelChange",function(m){return u(l),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),v("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(22,"cms-file-manager",24),g(23,"translate"),v("itemSelected",function(m){return u(l),f(t.onActionFileSelected(m))}),x("openFormChange",function(m){return u(l),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),r()(),a(24,"div",21)(25,"label",25),c(26),r(),a(27,"input",26,2),x("ngModelChange",function(m){return u(l),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),r(),y(29,ks,1,0,"i",27),y(30,Ps,1,0,"i",28),C(31,"em"),y(32,Ls,5,3,"mat-error"),r(),a(33,"div",21)(34,"label",29),c(35),r(),a(36,"textarea",30,3),x("ngModelChange",function(m){return u(l),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(38,"              "),r(),a(39,"em"),c(40),r(),y(41,Ds,5,3,"mat-error"),r(),y(42,Vs,9,7,"div",21),y(43,Os,2,5,"app-cms-user-selector",31),a(44,"div",21)(45,"label",32),c(46),r(),a(47,"input",33,4),x("ngModelChange",function(m){return u(l),T(t.dataModel.joinId,m)||(t.dataModel.joinId=m),f(m)}),r(),a(49,"em"),c(50),r()(),a(51,"div",21)(52,"label",34),c(53),r(),a(54,"input",35,5),x("ngModelChange",function(m){return u(l),T(t.dataModel.serialRfId,m)||(t.dataModel.serialRfId=m),f(m)}),r(),a(56,"em"),c(57),r()(),a(58,"div",21)(59,"label",36),c(60),r(),a(61,"input",37,6),x("ngModelChange",function(m){return u(l),T(t.dataModel.serialNumber,m)||(t.dataModel.serialNumber=m),f(m)}),r(),a(63,"em"),c(64),r()(),a(65,"div",21)(66,"label",38),c(67),r(),a(68,"input",39,7),x("ngModelChange",function(m){return u(l),T(t.dataModel.placeProduction,m)||(t.dataModel.placeProduction=m),f(m)}),r()(),a(70,"div",21)(71,"label",40),c(72),r(),a(73,"input",41,8),x("ngModelChange",function(m){return u(l),T(t.dataModel.phoneNumber,m)||(t.dataModel.phoneNumber=m),f(m)}),r(),a(75,"em"),c(76),r()(),a(77,"div",21)(78,"label",42),c(79),r(),a(80,"input",43,9),x("ngModelChange",function(m){return u(l),T(t.dataModel.mobileNumber,m)||(t.dataModel.mobileNumber=m),f(m)}),r(),a(82,"em"),c(83),r()(),a(84,"div",21)(85,"label",44),c(86),r(),a(87,"textarea",45,10),x("ngModelChange",function(m){return u(l),T(t.dataModel.address,m)||(t.dataModel.address=m),f(m)}),c(89,"                          "),r(),y(90,Bs,1,0,"i",27),y(91,Ws,1,0,"i",28),a(92,"em"),c(93),r(),y(94,Fs,5,3,"mat-error"),r(),a(95,"app-cms-location-selector",46),g(96,"translate"),v("optionChange",function(m){return u(l),f(t.onActionSelectorLocation(m))}),r(),C(97,"br"),c(98),g(99,"translate"),a(100,"app-cms-location-autocomplete",47),g(101,"translate"),v("optionChange",function(m){return u(l),f(t.onActionSelectorLocationWorkArea(m))}),r(),C(102,"hr"),y(103,Ns,8,2,"div",48),y(104,Hs,8,2,"div",48),y(105,Gs,8,2,"div",48),y(106,Us,8,2,"div",48),y(107,qs,8,2,"div",48),C(108,"hr"),y(109,js,8,2,"div",48),y(110,Qs,8,2,"div",48),C(111,"hr"),a(112,"p"),c(113),g(114,"translate"),r(),a(115,"app-cms-map",49),v("map$",function(m){return u(l),f(t.receiveMap(m))})("zoom$",function(m){return u(l),f(t.receiveZoom(m))}),r(),y(116,Ys,9,7,"div",50),r()()()}if(n&2){let l=L(28),p=L(37),m=L(48),O=L(55),J=L(62),$=L(74),Te=L(81),Ee=L(88);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",S(7,98,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(),_("ngStyle",te(116,As,t.tokenInfo.access.direction)),o(3),_("href",k(S(13,100,t.dataModel.linkMainImageIdSrc)),j),o(2),E((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?14:-1),o(3),b(S(18,102,"TITLE.Profile_Picture")),o(2),_("placeholder",k(S(21,104,"TITLE.Profile_Photo_File_ID"))),w("ngModel",t.dataModel.linkMainImageId),o(3),_("language",t.appLanguage)("isPopup",!0)("openSelectFileDescription",S(23,106,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),w("openForm",t.fileManagerOpenForm),_("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),_("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),o(2),E(l.value?-1:29),o(),E(l.value?30:-1),o(2),E(l.errors!=null&&l.errors.required?32:-1),o(3),b(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),_("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessAddField)),o(4),h("",p.value.length," / 500"),o(),E(p.errors!=null&&p.errors.required?41:-1),o(),E(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField?42:-1),o(),E(t.tokenHelper.isAdminSite?43:-1),o(3),b(t.fieldsInfo.joinId==null?null:t.fieldsInfo.joinId.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.joinId==null?null:t.fieldsInfo.joinId.fieldTitle)),w("ngModel",t.dataModel.joinId),_("disabled",!(t.fieldsInfo.joinId!=null&&t.fieldsInfo.joinId.accessAddField)),o(3),h("",m.value.length," / 64"),o(3),b(t.fieldsInfo.serialRfId==null?null:t.fieldsInfo.serialRfId.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.serialRfId==null?null:t.fieldsInfo.serialRfId.fieldTitle)),w("ngModel",t.dataModel.serialRfId),_("disabled",!(t.fieldsInfo.serialRfId!=null&&t.fieldsInfo.serialRfId.accessAddField)),o(3),h("",O.value.length," / 64"),o(3),b(t.fieldsInfo.serialNumber==null?null:t.fieldsInfo.serialNumber.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.serialNumber==null?null:t.fieldsInfo.serialNumber.fieldTitle)),w("ngModel",t.dataModel.serialNumber),_("disabled",!(t.fieldsInfo.serialNumber!=null&&t.fieldsInfo.serialNumber.accessAddField)),o(3),h("",J.value.length," / 64"),o(3),b(t.fieldsInfo.placeProduction==null?null:t.fieldsInfo.placeProduction.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.placeProduction==null?null:t.fieldsInfo.placeProduction.fieldTitle)),w("ngModel",t.dataModel.placeProduction),_("disabled",!(t.fieldsInfo.placeProduction!=null&&t.fieldsInfo.placeProduction.accessAddField)),o(4),b(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),w("ngModel",t.dataModel.phoneNumber),_("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessAddField)),o(3),h("",$.value.length," / 64"),o(3),b(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),w("ngModel",t.dataModel.mobileNumber),_("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessAddField)),o(3),h("",Te.value.length," / 64"),o(3),b(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),w("ngModel",t.dataModel.address),_("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessAddField)),o(3),E(l.value?-1:90),o(),E(l.value?91:-1),o(2),h("",Ee.value.length," / 500"),o(),E(Ee.errors!=null&&Ee.errors.required?94:-1),o(),_("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",S(96,108,"TITLE.Geographical_Region"))("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessAddField)),o(3),h(" ",S(99,110,"TITLE.COVERED_AREAS")," "),o(2),_("optionSelectForce",t.dataModel.linkLocationWorkAreaIds)("optionPlaceholder",S(101,112,"TITLE.Region")),o(3),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?103:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?104:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?105:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?106:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?107:-1),o(2),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?109:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?110:-1),o(3),b(S(114,114,"TITLE.Click_on_the_map_to_specify_the_location")),o(2),_("optonCenter",t.mapOptonCenter),o(),E(t.formInfo.submitButtonEnabled?116:-1)}},dependencies:[Ce,Qe,ge,mt,ne,qe,Fe,Ye,ze,ce,je,Ke,le,ri,_t,Ot,vi,K,we,ut,G,de],encapsulation:2});var $o=vn;var vr=oo(Do());var zs=["vform"],Ks=i=>({direction:i});function Js(i,s){if(i&1&&(C(0,"img",23),g(1,"cmsthumbnail")),i&2){let e=d();_("src",k(S(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function Zs(i,s){i&1&&C(0,"i",30)}function Xs(i,s){i&1&&C(0,"i",31)}function $s(i,s){i&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function ec(i,s){i&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function tc(i,s){if(i&1){let e=I();a(0,"div",24)(1,"label",60),c(2),g(3,"translate"),r(),a(4,"textarea",61,12),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.descriptionHidden,t)||(l.dataModel.descriptionHidden=t),f(t)}),c(6,"                    "),r(),a(7,"em"),c(8),r()()}if(i&2){let e=L(5),n=d();o(2),b(S(3,7,"TITLE.Description_Hidden")),o(2),_("placeholder",k(n.fieldsInfo.descriptionHidden==null?null:n.fieldsInfo.descriptionHidden.fieldTitle))("disabled",k(!(n.fieldsInfo.descriptionHidden!=null&&n.fieldsInfo.descriptionHidden.accessEditField))),w("ngModel",n.dataModel.descriptionHidden),o(4),h("",e.value.length," / 500")}}function ic(i,s){if(i&1){let e=I();a(0,"app-cms-user-selector",62),g(1,"translate"),v("optionChange",function(t){u(e);let l=d();return f(l.onActionSelectorUser(t))}),r()}if(i&2){let e=d();_("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessEditField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",S(1,3,"TITLE.USER"))}}function nc(i,s){i&1&&C(0,"i",30)}function oc(i,s){i&1&&C(0,"i",31)}function rc(i,s){i&1&&(a(0,"mat-error"),c(1," Address is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function ac(i,s){if(i&1){let e=I();a(0,"div",51)(1,"div",63)(2,"h5",64),c(3),r()(),a(4,"div",65)(5,"div",66)(6,"input",67),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.accessWatchRowSite,t)||(l.dataModel.accessWatchRowSite=t),f(t)}),r(),C(7,"label",68),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.accessWatchRowSite==null?null:e.fieldsInfo.accessWatchRowSite.fieldTitle," "),o(3),w("ngModel",e.dataModel.accessWatchRowSite)}}function lc(i,s){if(i&1){let e=I();a(0,"div",51)(1,"div",63)(2,"h5",69),c(3),r()(),a(4,"div",65)(5,"div",66)(6,"input",70),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.accessWatchRowOtherAgency,t)||(l.dataModel.accessWatchRowOtherAgency=t),f(t)}),r(),C(7,"label",71),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.accessWatchRowOtherAgency==null?null:e.fieldsInfo.accessWatchRowOtherAgency.fieldTitle," "),o(3),w("ngModel",e.dataModel.accessWatchRowOtherAgency)}}function sc(i,s){if(i&1){let e=I();a(0,"div",51)(1,"div",63)(2,"h5",72),c(3),r()(),a(4,"div",65)(5,"div",66)(6,"input",73),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.accessWatchRowOtherAgent,t)||(l.dataModel.accessWatchRowOtherAgent=t),f(t)}),r(),C(7,"label",74),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.accessWatchRowOtherAgent==null?null:e.fieldsInfo.accessWatchRowOtherAgent.fieldTitle," "),o(3),w("ngModel",e.dataModel.accessWatchRowOtherAgent)}}function cc(i,s){if(i&1){let e=I();a(0,"div",51)(1,"div",63)(2,"h5",75),c(3),r()(),a(4,"div",65)(5,"div",66)(6,"input",76),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.accessAllowShareRowWatchOtherAgency,t)||(l.dataModel.accessAllowShareRowWatchOtherAgency=t),f(t)}),r(),C(7,"label",77),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgency==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgency.fieldTitle," "),o(3),w("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgency)}}function dc(i,s){if(i&1){let e=I();a(0,"div",51)(1,"div",63)(2,"h5",78),c(3),r()(),a(4,"div",65)(5,"div",66)(6,"input",79),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.accessAllowShareRowWatchOtherAgent,t)||(l.dataModel.accessAllowShareRowWatchOtherAgent=t),f(t)}),r(),C(7,"label",80),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgent==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgent.fieldTitle," "),o(3),w("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgent)}}function pc(i,s){if(i&1){let e=I();a(0,"div",51)(1,"div",63)(2,"h5",81),c(3),r()(),a(4,"div",65)(5,"div",66)(6,"input",82),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.notificationWorkAreaEstate,t)||(l.dataModel.notificationWorkAreaEstate=t),f(t)}),r(),C(7,"label",83),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.notificationWorkAreaEstate==null?null:e.fieldsInfo.notificationWorkAreaEstate.fieldTitle," "),o(3),w("ngModel",e.dataModel.notificationWorkAreaEstate)}}function mc(i,s){if(i&1){let e=I();a(0,"div",51)(1,"div",63)(2,"h5",84),c(3),r()(),a(4,"div",65)(5,"div",66)(6,"input",85),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.notificationWorkAreaCustomerOrder,t)||(l.dataModel.notificationWorkAreaCustomerOrder=t),f(t)}),r(),C(7,"label",86),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.notificationWorkAreaCustomerOrder==null?null:e.fieldsInfo.notificationWorkAreaCustomerOrder.fieldTitle," "),o(3),w("ngModel",e.dataModel.notificationWorkAreaCustomerOrder)}}function uc(i,s){if(i&1){let e=I();a(0,"div",51)(1,"div",63)(2,"h5",75),c(3," accessShareAgencyToUser "),r()(),a(4,"div",65)(5,"div",66)(6,"input",87),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser,t)||(l.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser=t),f(t)}),r(),C(7,"label",88),r()()()}if(i&2){let e=d();o(6),w("ngModel",e.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser)}}function fc(i,s){if(i&1){let e=I();a(0,"div",51)(1,"div",63)(2,"h5",89),c(3," accessShareUserToAgency "),r()(),a(4,"div",65)(5,"div",66)(6,"input",90),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataEstateAccountAgencyExpertModel.accessShareUserToAgency,t)||(l.dataEstateAccountAgencyExpertModel.accessShareUserToAgency=t),f(t)}),r(),C(7,"label",91),r()()()}if(i&2){let e=d();o(6),w("ngModel",e.dataEstateAccountAgencyExpertModel.accessShareUserToAgency)}}function _c(i,s){if(i&1){let e=I();a(0,"button",92),v("click",function(){u(e);let t=d();return f(t.onActionDataGetAddGroup())}),c(1," + "),r()}}function Cc(i,s){if(i&1&&(a(0,"mat-header-cell"),c(1),r()),i&2){let e=d(2);o(),h(" ",e.fieldsInfoAgencyUser.linkEstateExpertId==null?null:e.fieldsInfoAgencyUser.linkEstateExpertId.fieldTitle," ")}}function hc(i,s){if(i&1&&(c(0),g(1,"estateAccountExpertInfo"),g(2,"async")),i&2){let e=d().$implicit;h(" ",S(2,3,S(1,1,e.linkEstateExpertId))," ")}}function gc(i,s){if(i&1&&(a(0,"mat-cell"),y(1,hc,3,5),r()),i&2){let e=s.$implicit;o(),E(e.linkEstateExpertId?1:-1)}}function Sc(i,s){if(i&1&&(a(0,"mat-header-cell"),c(1),r()),i&2){let e=d(2);o(),h(" ",e.fieldsInfoAgencyUser.linkEstateAccountAgencyId==null?null:e.fieldsInfoAgencyUser.linkEstateAccountAgencyId.fieldTitle," ")}}function yc(i,s){if(i&1&&(c(0),g(1,"estateAccountAgencyInfo"),g(2,"async")),i&2){let e=d().$implicit;h(" ",S(2,3,S(1,1,e.linkEstateAccountAgencyId))," ")}}function Ec(i,s){if(i&1&&(a(0,"mat-cell"),y(1,yc,3,5),r()),i&2){let e=s.$implicit;o(),E(e.linkEstateAccountAgencyId?1:-1)}}function Mc(i,s){if(i&1&&(a(0,"mat-header-cell"),c(1),r()),i&2){let e=d(2);o(),h(" ",e.fieldsInfoAgencyUser.accessShareUserToAgency==null?null:e.fieldsInfoAgencyUser.accessShareUserToAgency.fieldTitle," ")}}function vc(i,s){if(i&1&&(C(0,"i",104),g(1,"boolclass")),i&2){let e=d().$implicit;_("ngClass",S(1,1,e.accessShareUserToAgency))}}function Ic(i,s){if(i&1&&(a(0,"mat-cell"),y(1,vc,2,3,"i",104),r()),i&2){let e=s.$implicit;o(),E(e.accessShareUserToAgency?1:-1)}}function bc(i,s){if(i&1&&(a(0,"mat-header-cell"),c(1),r()),i&2){let e=d(2);o(),h(" ",e.fieldsInfoAgencyUser.accessShareAgencyToUser==null?null:e.fieldsInfoAgencyUser.accessShareAgencyToUser.fieldTitle," ")}}function wc(i,s){if(i&1&&(C(0,"i",104),g(1,"boolclass")),i&2){let e=d().$implicit;_("ngClass",S(1,1,e.accessShareAgencyToUser))}}function Tc(i,s){if(i&1&&(a(0,"mat-cell"),y(1,wc,2,3,"i",104),r()),i&2){let e=s.$implicit;o(),E(e.accessShareAgencyToUser?1:-1)}}function xc(i,s){i&1&&(a(0,"mat-header-cell"),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.OPTION")," "))}function Ac(i,s){if(i&1){let e=I();a(0,"mat-cell",105)(1,"button",106)(2,"small",107),v("click",function(){let t=u(e).$implicit,l=d(2);return f(l.onActionDataGetDeleteGroup(t))}),a(3,"mat-icon",108),g(4,"translate"),c(5,"delete"),r()()()()}i&2&&(o(3),_("matTooltip",k(S(4,2,"ACTION.DELETE"))))}function Rc(i,s){i&1&&C(0,"mat-header-row")}function kc(i,s){if(i&1&&C(0,"mat-row"),i&2){let e=s.dataIndex;q("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function Pc(i,s){if(i&1&&(a(0,"div",56)(1,"mat-table",93),A(2,94),P(3,Cc,2,1,"mat-header-cell",95)(4,gc,2,1,"mat-cell",96),R(),A(5,97),P(6,Sc,2,1,"mat-header-cell",95)(7,Ec,2,1,"mat-cell",96),R(),A(8,98),P(9,Mc,2,1,"mat-header-cell",95)(10,Ic,2,1,"mat-cell",96),R(),A(11,99),P(12,bc,2,1,"mat-header-cell",95)(13,Tc,2,1,"mat-cell",96),R(),A(14,100),P(15,xc,3,3,"mat-header-cell",95)(16,Ac,6,4,"mat-cell",101),R(),P(17,Rc,1,0,"mat-header-row",102)(18,kc,1,4,"mat-row",103),r()()),i&2){let e=d();o(),_("dataSource",e.optionTabledataSource),o(16),_("matHeaderRowDef",e.optionTabledisplayedColumns),o(),_("matRowDefColumns",e.optionTabledisplayedColumns)}}function Lc(i,s){i&1&&(a(0,"mat-icon"),c(1,"call_end"),r())}function Dc(i,s){i&1&&(a(0,"mat-icon"),c(1,"forum"),r())}function Vc(i,s){if(i&1){let e=I();a(0,"div",59)(1,"button",109),v("click",function(){u(e);let t=d();return f(t.onFormCancel())}),C(2,"i",110),c(3),g(4,"translate"),r(),a(5,"button",111),C(6,"i",112),c(7),g(8,"translate"),r()()}if(i&2){d();let e=L(10);o(3),h(" ",S(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",S(8,5,"ACTION.SAVE")," ")}}var In=class In extends Mi{constructor(e,n,t,l,p,m,O,J,$,Te,Ee){super(l,new ci,J,Ee);this.data=e;this.dialogRef=n;this.coreEnumService=t;this.estateAccountExpertService=l;this.estateAccountAgencyExpertService=p;this.cmsToastrService=m;this.cmsStoreService=O;this.publicHelper=J;this.tokenHelper=$;this.cdr=Te;this.translate=Ee;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfoAgencyUser=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ui;this.dataModel=new ci;this.dataEstateAccountAgencyExpertModel=new po;this.formInfo=new be;this.fileManagerOpenForm=!1;this.optionTabledataSource=new Ki;this.optionTabledisplayedColumns=["LinkEstateExpertId","LinkEstateAccountAgencyId","AccessShareUserToAgency","AccessShareAgencyToUser","Action"];this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Ei;this.dataEstateAccountAgencyModel=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.DataGetAccess(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllGroup()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.estateAccountExpertService.setAccessLoad(),this.estateAccountExpertService.setAccessDataType(Me.Editor),this.estateAccountExpertService.ServiceGetOneById(this.requestId).subscribe({next:n=>{if(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess){let t=this.dataModel.geolocationlatitude,l=this.dataModel.geolocationlongitude;t>0&&l>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:t,lon:l}),this.receiveMap()),this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.title,this.formInfo.submitResultMessage=""}else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(n.errorMessage);this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.estateAccountExpertService.ServiceEdit(this.dataModel).subscribe({next:n=>{this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:n=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(n=>{this.mapMarker=vr.marker([n.lat,n.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",n=>{let t=n.latlng.lat,l=n.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&l===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=vr.marker([t,l]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=l}))}receiveZoom(e){}onActionSelectorUser(e){this.dataModel.linkCmsUserId=null,e&&e.id>0&&(this.dataModel.linkCmsUserId=e.id)}onActionSelectorLocation(e){this.dataModel.linkLocationId=null,e&&e.id>0&&(this.dataModel.linkLocationId=e.id)}onStepClick(e,n){e.previouslySelectedIndex<e.selectedIndex}DataGetAllGroup(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Getting_access_category_from_the_server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)});let n=new me,t=new V;t.propertyName="linkEstateExpertId",t.value=this.requestId,n.filters.push(t),this.estateAccountAgencyExpertService.ServiceGetAll(n).subscribe({next:l=>{this.dataEstateAccountAgencyModel=l.listItems,this.optionTabledataSource.data=this.dataEstateAccountAgencyModel,l.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(p=>{this.formInfo.submitResultMessage=p}),this.formInfo.submitResultMessage=l.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}onActionDataGetAddGroup(){let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.estateAccountAgencyExpertService.ServiceAdd(this.dataEstateAccountAgencyExpertModel).subscribe({next:n=>{n.isSuccess?(this.formInfo.submitResultMessage="",this.optionTabledataSource.data=n.listItems,this.DataGetAllGroup()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onActionDataGetDeleteGroup(e){let n=this.constructor.name+"onActionDataGetDeleteGroup";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.estateAccountAgencyExpertService.ServiceDeleteEntity(e).subscribe({next:t=>{t.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAllGroup()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(n)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onActionSelectorEstateAgency(e){this.dataEstateAccountAgencyExpertModel.linkEstateAccountAgencyId=null,this.dataEstateAccountAgencyExpertModel.linkEstateExpertId=this.requestId,e&&e.id?.length>0&&(this.dataEstateAccountAgencyExpertModel.linkEstateAccountAgencyId=e.id)}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationWorkAreaIds=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}};In.\u0275fac=function(n){return new(n||In)(M(Le),M(Ie),M(he),M(_i),M(uo),M(F),M(Y),M(U),M(z),M(H),M(W))},In.\u0275cmp=B({type:In,selectors:[["app-estate-account-expert-edit"]],viewQuery:function(n,t){if(n&1&&Ve(zs,5),n&2){let l;Oe(l=Be())&&(t.formGroup=l.first)}},standalone:!1,features:[ee],decls:133,vars:132,consts:[["vform","ngForm"],["stepper",""],["LinkMainImageId",""],["Title",""],["Description",""],["JoinId",""],["SerialRfId",""],["SerialNumber",""],["PlaceProduction",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[3,"selectionChange"],["state","main",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.joinId",1,"color-highlight"],["matInput","","name","dataModel.joinId","type","text","minlength","0","maxlength","64","id","dataModel.joinId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.serialRfId",1,"color-highlight"],["matInput","","name","dataModel.serialRfId","type","text","minlength","0","maxlength","64","id","dataModel.serialRfId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.serialNumber",1,"color-highlight"],["matInput","","name","dataModel.serialNumber","type","text","minlength","0","maxlength","64","id","dataModel.serialNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.placeProduction",1,"color-highlight"],["matInput","","name","dataModel.placeProduction","type","text","minlength","0","maxlength","64","id","dataModel.placeProduction",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],["id","main-map",3,"map$","zoom$","optonCenter"],["state","file",3,"label"],[3,"optionChange","optionDisabled","optionPlaceholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"example-container","mat-elevation-z8"],["matStepperIcon","main"],["matStepperIcon","file"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"pt-1"],["data-trigger-switch","dataModel.accessWatchRowSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessWatchRowSite","name","dataModel.accessWatchRowSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowSite",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgency","name","dataModel.accessWatchRowOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgent","name","dataModel.accessWatchRowOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgency","name","dataModel.accessAllowShareRowWatchOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgent","name","dataModel.accessAllowShareRowWatchOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaEstate",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaEstate","name","dataModel.notificationWorkAreaEstate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaEstate",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaCustomerOrder",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaCustomerOrder","name","dataModel.notificationWorkAreaCustomerOrder",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaCustomerOrder",1,"custom-control-label"],["type","checkbox","id","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser","name","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser",1,"custom-control-label"],["data-trigger-switch","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"font-600","font-14"],["type","checkbox","id","dataEstateAccountAgencyExpertModel.accessShareUserToAgency","name","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateExpertId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkEstateAccountAgencyId"],["matColumnDef","AccessShareUserToAgency"],["matColumnDef","AccessShareAgencyToUser"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],[3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,t){if(n&1){let l=I();a(0,"div",13),C(1,"app-progress-spinner",14),a(2,"div",15)(3,"p",16),c(4),r(),a(5,"p"),c(6),g(7,"translate"),r(),C(8,"app-cms-form-result-message",17),a(9,"form",18,0),v("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"mat-vertical-stepper",19,1),v("selectionChange",function(m){u(l);let O=L(12);return f(t.onStepClick(m,O))}),a(13,"mat-step",20),g(14,"translate"),a(15,"div",21)(16,"a",22),g(17,"cmsthumbnail"),y(18,Js,2,4,"img",23),r()(),a(19,"div",24)(20,"label",25),v("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),c(21),g(22,"translate"),r(),a(23,"input",26,2),g(25,"translate"),x("ngModelChange",function(m){return u(l),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),v("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(26,"cms-file-manager",27),v("itemSelected",function(m){return u(l),f(t.onActionFileSelected(m))}),x("openFormChange",function(m){return u(l),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),r()(),a(27,"div",24)(28,"label",28),c(29),r(),a(30,"input",29,3),x("ngModelChange",function(m){return u(l),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),r(),y(32,Zs,1,0,"i",30),y(33,Xs,1,0,"i",31),C(34,"em"),y(35,$s,5,3,"mat-error"),r(),a(36,"div",24)(37,"label",32),c(38),r(),a(39,"textarea",33,4),x("ngModelChange",function(m){return u(l),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(41,"                  "),r(),a(42,"em"),c(43),r(),y(44,ec,5,3,"mat-error"),r(),y(45,tc,9,9,"div",24),y(46,ic,2,5,"app-cms-user-selector",34),a(47,"div",24)(48,"label",35),c(49),r(),a(50,"input",36,5),x("ngModelChange",function(m){return u(l),T(t.dataModel.joinId,m)||(t.dataModel.joinId=m),f(m)}),r(),a(52,"em"),c(53),r()(),a(54,"div",24)(55,"label",37),c(56),r(),a(57,"input",38,6),x("ngModelChange",function(m){return u(l),T(t.dataModel.serialRfId,m)||(t.dataModel.serialRfId=m),f(m)}),r(),a(59,"em"),c(60),r()(),a(61,"div",24)(62,"label",39),c(63),r(),a(64,"input",40,7),x("ngModelChange",function(m){return u(l),T(t.dataModel.serialNumber,m)||(t.dataModel.serialNumber=m),f(m)}),r(),a(66,"em"),c(67),r()(),a(68,"div",24)(69,"label",41),c(70),r(),a(71,"input",42,8),x("ngModelChange",function(m){return u(l),T(t.dataModel.placeProduction,m)||(t.dataModel.placeProduction=m),f(m)}),r(),a(73,"em"),c(74),r()(),a(75,"div",24)(76,"label",43),c(77),r(),a(78,"input",44,9),x("ngModelChange",function(m){return u(l),T(t.dataModel.phoneNumber,m)||(t.dataModel.phoneNumber=m),f(m)}),r(),a(80,"em"),c(81),r()(),a(82,"div",24)(83,"label",45),c(84),r(),a(85,"input",46,10),x("ngModelChange",function(m){return u(l),T(t.dataModel.mobileNumber,m)||(t.dataModel.mobileNumber=m),f(m)}),r(),a(87,"em"),c(88),r()(),a(89,"div",24)(90,"label",47),c(91),r(),a(92,"textarea",48,11),x("ngModelChange",function(m){return u(l),T(t.dataModel.address,m)||(t.dataModel.address=m),f(m)}),c(94,"                              "),r(),y(95,nc,1,0,"i",30),y(96,oc,1,0,"i",31),a(97,"em"),c(98),r(),y(99,rc,5,3,"mat-error"),r(),a(100,"app-cms-location-selector",49),g(101,"translate"),v("optionChange",function(m){return u(l),f(t.onActionSelectorLocation(m))}),r(),C(102,"br"),c(103),g(104,"translate"),a(105,"app-cms-location-autocomplete",50),g(106,"translate"),v("optionChange",function(m){return u(l),f(t.onActionSelectorLocationWorkArea(m))}),r(),C(107,"hr"),y(108,ac,8,2,"div",51),y(109,lc,8,2,"div",51),y(110,sc,8,2,"div",51),y(111,cc,8,2,"div",51),y(112,dc,8,2,"div",51),C(113,"hr"),y(114,pc,8,2,"div",51),y(115,mc,8,2,"div",51),C(116,"hr"),a(117,"p"),c(118),g(119,"translate"),r(),a(120,"app-cms-map",52),v("map$",function(m){return u(l),f(t.receiveMap(m))})("zoom$",function(m){return u(l),f(t.receiveZoom(m))}),r()(),a(121,"mat-step",53),g(122,"translate"),C(123,"br"),a(124,"app-estate-account-expert-selector",54),g(125,"translate"),v("optionChange",function(m){return u(l),f(t.onActionSelectorEstateAgency(m))}),r(),y(126,uc,8,1,"div",51),y(127,fc,8,1,"div",51),y(128,_c,2,0,"button",55),y(129,Pc,19,3,"div",56),r(),P(130,Lc,2,0,"ng-template",57)(131,Dc,2,0,"ng-template",58),r(),y(132,Vc,9,7,"div",59),r()()()}if(n&2){let l=L(31),p=L(40),m=L(51),O=L(58),J=L(65),$=L(72),Te=L(79),Ee=L(86),ke=L(93);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",S(7,108,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(),_("ngStyle",te(130,Ks,t.tokenInfo.access.direction)),o(4),_("label",k(S(14,110,"TITLE.REQUIRED_INFORMATION"))),o(3),_("href",k(S(17,112,t.dataModel.linkMainImageIdSrc)),j),o(2),E((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?18:-1),o(3),b(S(22,114,"TITLE.Profile_Picture")),o(2),_("placeholder",k(S(25,116,"TITLE.ID_OF_PROFILE_PHOTO_FILE"))),w("ngModel",t.dataModel.linkMainImageId),o(3),_("language",t.appLanguage)("isPopup",!0),w("openForm",t.fileManagerOpenForm),_("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),_("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),o(2),E(l.value?-1:32),o(),E(l.value?33:-1),o(2),E(l.errors!=null&&l.errors.required?35:-1),o(3),b(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),_("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessEditField)),o(4),h("",p.value.length," / 500"),o(),E(p.errors!=null&&p.errors.required?44:-1),o(),E(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField?45:-1),o(),E(t.tokenHelper.isAdminSite?46:-1),o(3),b(t.fieldsInfo.joinId==null?null:t.fieldsInfo.joinId.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.joinId==null?null:t.fieldsInfo.joinId.fieldTitle)),w("ngModel",t.dataModel.joinId),_("disabled",!(t.fieldsInfo.joinId!=null&&t.fieldsInfo.joinId.accessEditField)),o(3),h("",m.value.length," / 64"),o(3),b(t.fieldsInfo.serialRfId==null?null:t.fieldsInfo.serialRfId.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.serialRfId==null?null:t.fieldsInfo.serialRfId.fieldTitle)),w("ngModel",t.dataModel.serialRfId),_("disabled",!(t.fieldsInfo.serialRfId!=null&&t.fieldsInfo.serialRfId.accessEditField)),o(3),h("",O.value.length," / 64"),o(3),b(t.fieldsInfo.serialNumber==null?null:t.fieldsInfo.serialNumber.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.serialNumber==null?null:t.fieldsInfo.serialNumber.fieldTitle)),w("ngModel",t.dataModel.serialNumber),_("disabled",!(t.fieldsInfo.serialNumber!=null&&t.fieldsInfo.serialNumber.accessEditField)),o(3),h("",J.value.length," / 64"),o(3),b(t.fieldsInfo.placeProduction==null?null:t.fieldsInfo.placeProduction.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.placeProduction==null?null:t.fieldsInfo.placeProduction.fieldTitle)),w("ngModel",t.dataModel.placeProduction),_("disabled",!(t.fieldsInfo.placeProduction!=null&&t.fieldsInfo.placeProduction.accessEditField)),o(3),h("",$.value.length," / 64"),o(3),b(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),w("ngModel",t.dataModel.phoneNumber),_("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessEditField)),o(3),h("",Te.value.length," / 64"),o(3),b(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),w("ngModel",t.dataModel.mobileNumber),_("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessAddField)),o(3),h("",Ee.value.length," / 64"),o(3),b(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),w("ngModel",t.dataModel.address),_("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessAddField)),o(3),E(l.value?-1:95),o(),E(l.value?96:-1),o(2),h("",ke.value.length," / 500"),o(),E(ke.errors!=null&&ke.errors.required?99:-1),o(),_("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",S(101,118,"TITLE.Geographical_Region"))("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessAddField)),o(3),h(" ",S(104,120,"TITLE.COVERED_AREAS")," "),o(2),_("optionSelectForce",t.dataModel.linkLocationWorkAreaIds)("optionPlaceholder",S(106,122,"TITLE.Region")),o(3),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?108:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?109:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?110:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?111:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?112:-1),o(2),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?114:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?115:-1),o(3),h(" ",S(119,124,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),_("optonCenter",t.mapOptonCenter),o(),_("label",k(S(122,126,"TITLE.Property_personnel"))),o(3),_("optionDisabled",!t.tokenHelper.isAdminSite)("optionPlaceholder",S(125,128,"TITLE.Property_agency")),o(2),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?126:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?127:-1),o(),E(t.dataEstateAccountAgencyExpertModel.linkEstateExpertId&&t.dataEstateAccountAgencyExpertModel.linkEstateExpertId.length>0?128:-1),o(),E(t.publicHelper.processService.process.inRunAll?-1:129),o(3),E(t.formInfo.submitButtonEnabled?132:-1)}},dependencies:[se,Ce,Qe,ge,mt,ne,qe,Fe,Ye,ze,ce,je,Pe,Ke,Se,le,Yi,zi,Qi,Je,Xe,it,$e,Ze,nt,et,tt,ot,rt,ji,ri,_t,Ot,vi,K,we,Zi,tn,ut,We,G,de,hi,Bo,Wo],encapsulation:2});var er=In;function Oc(i,s){i&1&&C(0,"div",8)}var bn=class bn{constructor(s,e,n,t,l,p){this.headerService=s;this.publicHelper=e;this.cdr=n;this.translate=t;this.cmsToastrService=l;this.dialog=p;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new X;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}};bn.\u0275fac=function(e){return new(e||bn)(M(fi),M(U),M(H),M(W),M(F),M(oe))},bn.\u0275cmp=B({type:bn,selectors:[["app-estate-account-agency-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:32,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td"],[1,"td","large-width"],[2,"clear","both"],[1,"td",2,"text-align","left"],[1,"divider","divider-margins"]],template:function(e,n){e&1&&(a(0,"div",0),C(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),C(6,"span",6),r(),a(7,"div",7)(8,"h5")(9,"b"),c(10),g(11,"translate"),r()()(),y(12,Oc,1,0,"div",8),r(),a(13,"div",4)(14,"div",5)(15,"b"),c(16),r(),c(17,": "),r(),a(18,"div",9),c(19),r(),C(20,"div",8)(21,"div",10),r(),a(22,"div",4)(23,"div",5)(24,"b"),c(25),r(),c(26," : "),r(),a(27,"div",9),c(28),r(),C(29,"div",11)(30,"div",10),r()()()(),C(31,"div",12)),e&2&&(o(),_("optionsInfoAreaId",n.constructorInfoAreaId),o(5),_("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),b(S(11,8,"TITLE.Selected_Agency")),o(2),E(!(n.dataModelResult==null||n.dataModelResult.item==null)&&n.dataModelResult.item.id?12:-1),o(4),h("",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," "),o(3),b(n.dataModelResult==null||n.dataModelResult.item==null?null:n.dataModelResult.item.id),o(6),b(n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle),o(3),b(n.dataModelResult==null||n.dataModelResult.item==null?null:n.dataModelResult.item.title))},dependencies:[K,Lt,G],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var tr=bn;var Wc=()=>["expandedTitle"],Fc=()=>["expandedDetail"],Nc=()=>[5,10,20,100],Hc=i=>({display:i});function Gc(i,s){if(i&1&&C(0,"app-estate-account-agency-header",3),i&2){let e=d();_("optionId",e.requestLinkAccountAgencyId)}}function Uc(i,s){if(i&1){let e=I();a(0,"div",16)(1,"a",46),v("click",function(){u(e);let t=d();return f(t.onActionButtonNewRow())}),C(2,"i",47)(3,"br"),r(),a(4,"p",20),c(5),g(6,"translate"),r()()}i&2&&(o(5),h(" ",S(6,1,"ACTION.ADD")," "))}function qc(i,s){if(i&1){let e=I();a(0,"div",16)(1,"a",48),v("click",function(){u(e);let t=d();return f(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",49)(3,"br"),r(),a(4,"p",20),c(5),g(6,"translate"),r()()}i&2&&(o(5),h(" ",S(6,1,"ACTION.EDIT")," "))}function jc(i,s){if(i&1){let e=I();a(0,"div",16)(1,"a",50),v("click",function(){u(e);let t=d();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",51)(3,"br"),r(),a(4,"p",20),c(5),g(6,"translate"),r()()}i&2&&(o(5),h(" ",S(6,1,"ACTION.DELETE")," "))}function Qc(i,s){i&1&&(a(0,"mat-header-cell"),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.MENU")," "))}function Yc(i,s){if(i&1){let e=I();a(0,"mat-cell")(1,"button",52),v("click",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowSelectActionMenu(t))}),C(2,"i",53),r()()}}function zc(i,s){i&1&&(a(0,"mat-header-cell",54),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.PICTURE")," "))}function Kc(i,s){if(i&1&&(C(0,"img",55),g(1,"cmsthumbnail")),i&2){let e=d().$implicit;_("src",k(S(1,2,e.linkMainImageIdSrc)),j)}}function Jc(i,s){if(i&1&&(a(0,"mat-cell"),y(1,Kc,2,4,"img",55),r()),i&2){let e=s.$implicit;o(),E((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Zc(i,s){if(i&1&&(a(0,"mat-header-cell",54),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Xc(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function $c(i,s){if(i&1&&(a(0,"mat-header-cell",54),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function ed(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function td(i,s){if(i&1&&(a(0,"mat-header-cell",54),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.fieldTitle," ")}}function id(i,s){if(i&1&&(a(0,"mat-cell"),c(1),g(2,"cmsuserinfo"),g(3,"async"),r()),i&2){let e=s.$implicit;o(),h(" ",S(3,3,S(2,1,e.linkCmsUserId))," ")}}function nd(i,s){if(i&1&&(a(0,"mat-header-cell",54),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function od(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.description," ")}}function rd(i,s){i&1&&(a(0,"mat-header-cell"),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.OPTION")," "))}function ad(i,s){if(i&1&&(a(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,2),r()),i&2){let e=L(5);o(),_("matMenuTriggerFor",e)}}function ld(i,s){if(i&1&&(a(0,"mat-cell"),c(1),g(2,"translate"),g(3,"cmsuserinfo"),g(4,"async"),r()),i&2){let e=s.$implicit;o(),Q(" ",S(2,2,"TITLE.User-Id-Cms"),": ",S(4,6,S(3,4,e.linkCmsUserId))," ")}}function sd(i,s){if(i&1&&(C(0,"img",58),g(1,"cmsthumbnail")),i&2){let e=d().$implicit;_("src",k(S(1,2,e.linkMainImageIdSrc)),j)}}function cd(i,s){if(i&1&&(a(0,"tr"),C(1,"td"),a(2,"td"),c(3),r()()),i&2){let e=d().$implicit,n=d();o(3),Q(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function dd(i,s){if(i&1&&(a(0,"tr"),C(1,"td"),a(2,"td"),c(3),g(4,"translate"),r()()),i&2){let e=d().$implicit;o(3),Q("",S(4,2,"TITLE.Address")," : ",e.address)}}function pd(i,s){if(i&1&&(a(0,"tr"),C(1,"td"),a(2,"td"),c(3),r()()),i&2){let e=d().$implicit,n=d();o(3),Q(" ",n.fieldsInfo.phoneNumber==null?null:n.fieldsInfo.phoneNumber.fieldTitle," : ",e.phoneNumber," ")}}function md(i,s){if(i&1&&(a(0,"tr"),C(1,"td"),a(2,"td"),c(3),r()()),i&2){let e=d().$implicit,n=d();o(3),Q(" ",n.fieldsInfo.mobileNumber==null?null:n.fieldsInfo.mobileNumber.fieldTitle," : ",e.mobileNumber," ")}}function ud(i,s){if(i&1){let e=I();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),y(5,sd,2,4,"img",58),r(),a(6,"th")(7,"span",59),v("click",function(){u(e);let t=d();return f(t.onActionCopied())}),C(8,"i",60),r(),c(9),r()(),a(10,"tr"),C(11,"td"),a(12,"td"),c(13),r()(),y(14,cd,4,2,"tr"),y(15,dd,5,4,"tr"),y(16,pd,4,2,"tr"),y(17,md,4,2,"tr"),a(18,"tr"),C(19,"td")(20,"td"),r()()()()}if(i&2){let e=s.$implicit,n=d();o(5),E((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),_("cdkCopyToClipboard",e.id),o(2),h(" ",e.id," "),o(4),Q("",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," : ",e.title),o(),E(e.description?14:-1),o(),E(e.address?15:-1),o(),E(e.phoneNumber?16:-1),o(),E(e.mobileNumber?17:-1)}}function fd(i,s){i&1&&C(0,"mat-header-row")}function _d(i,s){if(i&1){let e=I();a(0,"mat-row",61),v("click",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseLeave(t))}),r()}if(i&2){let e=s.$implicit,n=d();q("ntk-row-selected",e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}function Cd(i,s){if(i&1){let e=I();a(0,"mat-row",62),v("click",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseLeave(t))}),r()}if(i&2){let e=s.$implicit,n=d();q("ntk-row-selected",e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}function hd(i,s){if(i&1){let e=I();a(0,"mat-row",63),v("click",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseLeave(t))}),r()}if(i&2){let e=s.$implicit,n=d();q("ntk-row-selected",e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)),_("ngStyle",te(3,Hc,e.expanded===!0?"":"none"))}}var Tn=class Tn extends Bt{constructor(e,n,t,l,p,m,O,J,$,Te,Ee,ke,St){super(e,new ci,ke,p,O);this.contentService=e;this.cmsConfirmationDialogService=n;this.cmsToastrService=t;this.router=l;this.tokenHelper=p;this.cdr=m;this.translate=O;this.activatedRoute=J;this.cmsStoreService=$;this.themeService=Te;this.pageInfo=Ee;this.publicHelper=ke;this.dialog=St;this.requestLinkAccountAgencyId="";this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Fr;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","title","Description","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","title","Description","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:at=>this.onSubmitOptionsSearch(at)},this.requestLinkAccountAgencyId=this.activatedRoute.snapshot.paramMap.get("LinkAccountAgencyId"),this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ie.Descending}set optionLinkLocationWorkAreaIds(e){this.requestLinkLocationWorkAreaIds=[],e&&e.length>0&&(this.requestLinkLocationWorkAreaIds=e),this.requestLinkLocationWorkAreaIds&&this.requestLinkLocationWorkAreaIds.length>0&&(this.filteModelContent.linkLocationWorkAreaIds=this.requestLinkLocationWorkAreaIds)}set optionLinkLocationWorkAreaId(e){this.requestLinkLocationWorkAreaIds=[],e&&e>0&&this.requestLinkLocationWorkAreaIds.push(e),this.requestLinkLocationWorkAreaIds&&this.requestLinkLocationWorkAreaIds.length>0&&(this.filteModelContent.linkLocationWorkAreaIds=this.requestLinkLocationWorkAreaIds)}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;this.tableRowsSelected=[],this.onActionTableRowSelect(new ci);let e=this.constructor.name+"main";if(this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0,this.requestLinkAccountAgencyId&&this.requestLinkAccountAgencyId.length>0){let t=new V;t.propertyAnyName="AccountAgencyUser",t.propertyName="linkEstateAccountAgencyId",t.value=this.requestLinkAccountAgencyId,this.filteModelContent.filters.push(t)}let n=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(n.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessDataType(Me.Editor),this.contentService.ServiceGetAll(n).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ie.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ie.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ie.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorLocation(e){this.filteModelContent.linkLocationIds=e}onActionSelectorLocationWorkArea(e){this.filteModelContent.linkLocationWorkAreaIds=e}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open($o,{height:"90%",panelClass:e,enterAnimationDuration:N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:N.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.publicHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(er,{height:"90%",panelClass:n,enterAnimationDuration:N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{n=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(p,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonAgencyRow(e=this.tableRowSelected,n){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}n?.ctrlKey?(this.link="/#/estate/account-agency/LinkAccountUserId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/account-agency/LinkAccountUserId",this.tableRowSelected.id])}onActionButtonHistoryRow(e=this.tableRowSelected,n){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}n?.ctrlKey?(this.link="/#/estate/property-history/LinkEstateExpertId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkEstateExpertId",this.tableRowSelected.id])}onActionButtonPropertyRow(e=this.tableRowSelected,n){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}n?.ctrlKey?(this.link="/#/estate/property/LinkEstateExpertId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkEstateExpertId",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{n.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{n.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(O=>{n.set(O,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),p=new V;p.propertyName="recordStatus",p.value=Ae.Available,l.filters.push(p),this.contentService.ServiceGetCount(l).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(O=>{n.set(O,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Tn.\u0275fac=function(n){return new(n||Tn)(M(_i),M(Vt),M(F),M(Mt),M(z),M(H),M(W),M(Zt),M(Y),M(ft),M(Dt),M(U),M(oe))},Tn.\u0275cmp=B({type:Tn,selectors:[["app-estate-account-expert-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkLocationWorkAreaIds:"optionLinkLocationWorkAreaIds",optionLinkLocationWorkAreaId:"optionLinkLocationWorkAreaId"},standalone:!1,features:[ee],decls:94,vars:59,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-home","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","LinkCmsUserId"],["matColumnDef","Description"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(n,t){if(n&1){let l=I();y(0,Gc,1,1,"app-estate-account-agency-header",3),a(1,"app-cms-html-list",4),x("optionActionGuideNoticeDisplayChange",function(m){return u(l),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),v("optionOnActionButtonMemoRow",function(){return u(l),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(l),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(l),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(l),f(t.onActionButtonPrintRow())}),A(2,5),c(3," -------------------------------------- "),R(),Ue(4,6)(5,7),A(6,8),a(7,"a",9),v("click",function(){return u(l),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(8,"i",10),r(),a(9,"a",9),v("click",function(){return u(l),f(t.onActionButtonReload())}),C(10,"i",11),r(),R(),A(11,12),a(12,"a",13),v("click",function(){return u(l),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(13,"mat-slide-toggle",14),c(14),g(15,"translate"),r(),a(16,"a",13),v("click",function(){return u(l),f(t.onActionButtonStatist())}),C(17,"mat-slide-toggle",14),c(18),g(19,"translate"),r(),R(),A(20,15),y(21,Uc,7,3,"div",16),R(),A(22,17),y(23,qc,7,3,"div",16),y(24,jc,7,3,"div",16),a(25,"div",16)(26,"a",18),v("click",function(m){return u(l),f(t.onActionButtonAgencyRow(t.tableRowSelected,m))}),C(27,"i",19)(28,"br"),r(),a(29,"p",20),c(30),g(31,"translate"),r()(),a(32,"div",16)(33,"a",18),v("click",function(m){return u(l),f(t.onActionButtonHistoryRow(t.tableRowSelected,m))}),C(34,"i",21)(35,"br"),r(),a(36,"p",20),c(37),g(38,"translate"),r()(),a(39,"div",16)(40,"a",18),v("click",function(m){return u(l),f(t.onActionButtonPropertyRow(t.tableRowSelected,m))}),C(41,"i",19)(42,"br"),r(),a(43,"p",20),c(44),g(45,"translate"),r()(),R(),A(46,22),a(47,"app-cms-search-list",23),x("optionsChange",function(m){return u(l),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),c(48),g(49,"translate"),a(50,"app-cms-location-autocomplete",24),g(51,"translate"),v("optionChange",function(m){return u(l),f(t.onActionSelectorLocation(m))}),r(),C(52,"br"),c(53),g(54,"translate"),a(55,"app-cms-location-autocomplete",24),g(56,"translate"),v("optionChange",function(m){return u(l),f(t.onActionSelectorLocationWorkArea(m))}),r(),C(57,"hr"),r(),a(58,"app-cms-statist-list",23),x("optionsChange",function(m){return u(l),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),r(),R(),A(59,25),a(60,"mat-table",26,0),v("matSortChange",function(){u(l);let m=L(61);return f(t.onTableSortData(m))}),A(62,27),P(63,Qc,3,3,"mat-header-cell",28)(64,Yc,3,0,"mat-cell",29),R(),A(65,30),P(66,zc,3,3,"mat-header-cell",31)(67,Jc,2,1,"mat-cell",29),R(),A(68,32),P(69,Zc,2,1,"mat-header-cell",31)(70,Xc,2,1,"mat-cell",29),R(),A(71,33),P(72,$c,2,1,"mat-header-cell",31)(73,ed,2,1,"mat-cell",29),R(),A(74,34),P(75,td,2,1,"mat-header-cell",31)(76,id,4,5,"mat-cell",29),R(),A(77,35),P(78,nd,2,1,"mat-header-cell",31)(79,od,2,1,"mat-cell",29),R(),A(80,36),P(81,rd,3,3,"mat-header-cell",28)(82,ad,6,1,"mat-cell",37),R(),A(83,38),P(84,ld,5,8,"mat-cell",29),R(),A(85,39),P(86,ud,21,9,"mat-cell",29),R(),P(87,fd,1,0,"mat-header-row",40)(88,_d,1,2,"mat-row",41)(89,Cd,1,2,"mat-row",42)(90,hd,1,5,"mat-row",43),r(),R(),A(91,44),a(92,"mat-paginator",45,1),v("page",function(m){return u(l),f(t.onTablePageingData(m))}),r(),R(),r()}n&2&&(E((t.requestLinkAccountAgencyId==null?null:t.requestLinkAccountAgencyId.length)>0?0:-1),o(),_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","accountuser.content.list"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),q("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),h("",S(15,38,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",S(19,40,"ACTION.STATIST")," "),o(3),E(t.optionloadByRoute&&t.dataModelResult.access.accessAddRow?21:-1),o(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(6),h(" ",S(31,42,"ACTION.AGENCY")," "),o(7),h(" ",S(38,44,"ACTION.HISTORY")," "),o(7),h(" ",S(45,46,"ACTION.CONNECT_TO_PROPERTY")," "),o(3),w("options",t.optionsSearch),o(),h(" ",S(49,48,"ACTION.LOCATION")," "),o(2),_("optionSelectForce",t.filteModelContent.linkLocationIds)("optionPlaceholder",S(51,50,"TITLE.Region")),o(3),h(" ",S(54,52,"ACTION.LOCATION_WORK_ACTIVITY")," "),o(2),_("optionSelectForce",t.filteModelContent.linkLocationWorkAreaIds)("optionPlaceholder",S(56,54,"TITLE.Region")),o(3),w("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(27),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",Z(56,Wc)),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(),_("matRowDefColumns",Z(57,Fc)),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Z(58,Nc)))},dependencies:[Ce,Pe,Se,Tt,xt,At,Rt,kt,Pt,Je,Xe,it,$e,Ze,nt,et,tt,ot,rt,wt,Wt,Ft,_t,Nt,Ht,tr,We,G,ei,de],encapsulation:2});var Ca=Tn;function gd(i,s){i&1&&C(0,"div",8)}function Sd(i,s){if(i&1){let e=I();a(0,"button",15),v("click",function(){u(e);let t=d();return f(t.onActionButtonLinkTo())}),a(1,"mat-icon"),c(2,"\u2197 "),r()()}}var xn=class xn{constructor(s,e,n,t,l,p,m,O,J){this.headerService=s;this.publicHelper=e;this.cdr=n;this.cmsToastrService=t;this.themeService=l;this.dialog=p;this.translate=m;this.cmsStoreService=O;this.tokenHelper=J;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new X;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(()=>re(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetOneContent(){let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onActionButtonLinkTo(s=this.dataModelResult.item){if(!s||!s.id||s.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(s.recordStatus!=Ae.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ii,{height:"90%",panelClass:e,enterAnimationDuration:N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:N.cmsViewConfig.exitAnimationDuration,data:{title:s.title,urlViewContentQRCodeBase64:s.urlViewContentQRCodeBase64,urlViewContent:s.urlViewContent}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};xn.\u0275fac=function(e){return new(e||xn)(M(Nr),M(U),M(H),M(F),M(ft),M(oe),M(W),M(Y),M(z))},xn.\u0275cmp=B({type:xn,selectors:[["app-estate-billboard-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:34,vars:11,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td"],[1,"td","large-width"],[2,"clear","both"],[1,"td",2,"text-align","left"],["title","link to"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"divider","divider-margins"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(e,n){e&1&&(a(0,"div",0),C(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),C(6,"span",6),r(),a(7,"div",7)(8,"h5")(9,"b"),c(10),g(11,"translate"),r()()(),y(12,gd,1,0,"div",8),r(),a(13,"div",4)(14,"div",5)(15,"b"),c(16),r(),c(17,": "),r(),a(18,"div",9),c(19),r(),C(20,"div",8)(21,"div",10),r(),a(22,"div",4)(23,"div",5)(24,"b"),c(25),r(),c(26," : "),r(),a(27,"div",9),c(28),r(),a(29,"div",11)(30,"abbr",12),y(31,Sd,3,0,"button",13),r()(),C(32,"div",10),r()()()(),C(33,"div",14)),e&2&&(o(),_("optionsInfoAreaId",n.constructorInfoAreaId),o(5),_("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),b(S(11,9,"TITLE.Selected_Billboard")),o(2),E(!(n.dataModelResult==null||n.dataModelResult.item==null)&&n.dataModelResult.item.id?12:-1),o(4),h("",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," "),o(3),b(n.dataModelResult==null||n.dataModelResult.item==null?null:n.dataModelResult.item.id),o(6),b(n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle),o(3),b(n.dataModelResult==null||n.dataModelResult.item==null?null:n.dataModelResult.item.title),o(3),E(!(n.dataModelResult==null||n.dataModelResult.item==null)&&n.dataModelResult.item.id?31:-1))},dependencies:[Se,K,Lt,G],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var An=xn;function yd(i,s){i&1&&C(0,"div",8)}var Rn=class Rn{constructor(s,e,n,t,l,p){this.headerService=s;this.publicHelper=e;this.cdr=n;this.cmsToastrService=t;this.translate=l;this.dialog=p;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new X;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}};Rn.\u0275fac=function(e){return new(e||Rn)(M(fo),M(U),M(H),M(F),M(W),M(oe))},Rn.\u0275cmp=B({type:Rn,selectors:[["app-estate-contract-type-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:27,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,n){e&1&&(a(0,"div",0),C(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),C(6,"span",6),r(),a(7,"div",7)(8,"h5"),c(9),g(10,"translate"),r()(),y(11,yd,1,0,"div",8),r(),a(12,"div",4)(13,"div",5),c(14),r(),a(15,"div",7),c(16),r(),C(17,"div",8)(18,"div",9),r(),a(19,"div",4)(20,"div",5),c(21),r(),a(22,"div",7),c(23),r(),C(24,"div",8)(25,"div",9),r()()()(),C(26,"div",10)),e&2&&(o(),_("optionsInfoAreaId",n.constructorInfoAreaId),o(5),_("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(3),b(S(10,8,"TITLE.The_type_of_contract_selected")),o(2),E(!(n.dataModelResult==null||n.dataModelResult.item==null)&&n.dataModelResult.item.id?11:-1),o(3),h("",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," :"),o(2),b(n.dataModelResult==null||n.dataModelResult.item==null?null:n.dataModelResult.item.id),o(5),h(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," : "),o(2),b(n.dataModelResult==null||n.dataModelResult.item==null?null:n.dataModelResult.item.title))},dependencies:[K,Lt,G],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var kn=Rn;function Ed(i,s){i&1&&C(0,"div",8)}var Pn=class Pn{constructor(s,e,n,t,l,p){this.headerService=s;this.publicHelper=e;this.cdr=n;this.cmsToastrService=t;this.translate=l;this.dialog=p;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new X;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}};Pn.\u0275fac=function(e){return new(e||Pn)(M($t),M(U),M(H),M(F),M(W),M(oe))},Pn.\u0275cmp=B({type:Pn,selectors:[["app-estate-property-type-landuse-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:30,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td"],[1,"td","large-width"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,n){e&1&&(a(0,"div",0),C(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),C(6,"span",6),r(),a(7,"div",7)(8,"h5")(9,"b"),c(10),g(11,"translate"),r()()(),y(12,Ed,1,0,"div",8),r(),a(13,"div",4)(14,"div",5)(15,"b"),c(16),r()(),a(17,"div",9),c(18),r(),C(19,"div",8)(20,"div",10),r(),a(21,"div",4)(22,"div",5)(23,"b"),c(24),r()(),a(25,"div",9),c(26),r(),C(27,"div",8)(28,"div",10),r()()()(),C(29,"div",11)),e&2&&(o(),_("optionsInfoAreaId",n.constructorInfoAreaId),o(5),_("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),b(S(11,8,"TITLE.Property_Type_Selected")),o(2),E(!(n.dataModelResult==null||n.dataModelResult.item==null)&&n.dataModelResult.item.id?12:-1),o(4),h("",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," : "),o(2),b(n.dataModelResult==null||n.dataModelResult.item==null?null:n.dataModelResult.item.id),o(6),h("",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," : "),o(2),b(n.dataModelResult==null||n.dataModelResult.item==null?null:n.dataModelResult.item.title))},dependencies:[K,Lt,G],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Ln=Pn;function Md(i,s){i&1&&C(0,"div",8)}var Dn=class Dn{constructor(s,e,n,t,l,p,m,O){this.headerService=s;this.publicHelper=e;this.cdr=n;this.cmsToastrService=t;this.dialog=l;this.translate=p;this.cmsStoreService=m;this.tokenHelper=O;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new X;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(()=>re(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetOneContent(){let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}};Dn.\u0275fac=function(e){return new(e||Dn)(M(_o),M(U),M(H),M(F),M(oe),M(W),M(Y),M(z))},Dn.\u0275cmp=B({type:Dn,selectors:[["app-estate-property-type-usage-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:30,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td"],[1,"td","large-width"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,n){e&1&&(a(0,"div",0),C(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),C(6,"span",6),r(),a(7,"div",7)(8,"h5")(9,"b"),c(10),g(11,"translate"),r()()(),y(12,Md,1,0,"div",8),r(),a(13,"div",4)(14,"div",5)(15,"b"),c(16),r()(),a(17,"div",9),c(18),r(),C(19,"div",8)(20,"div",10),r(),a(21,"div",4)(22,"div",5)(23,"b"),c(24),r()(),a(25,"div",9),c(26),r(),C(27,"div",8)(28,"div",10),r()()()(),C(29,"div",11)),e&2&&(o(),_("optionsInfoAreaId",n.constructorInfoAreaId),o(5),_("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),h("",S(11,8,"TITLE.Selected_User_Type")," "),o(2),E(!(n.dataModelResult==null||n.dataModelResult.item==null)&&n.dataModelResult.item.id?12:-1),o(4),h("",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," : "),o(2),b(n.dataModelResult==null||n.dataModelResult.item==null?null:n.dataModelResult.item.id),o(6),h("",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," : "),o(2),b(n.dataModelResult==null||n.dataModelResult.item==null?null:n.dataModelResult.item.title))},dependencies:[K,Lt,G],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Vn=Dn;var On=class On{constructor(s,e,n,t,l,p,m,O){this.headerService=s;this.publicHelper=e;this.cdr=n;this.tokenHelper=t;this.cmsStoreService=l;this.cmsToastrService=p;this.dialog=m;this.translate=O;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new X;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId.length>0&&(this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(()=>re(this,null,function*(){this.DataGetOneContent()}))))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetOneContent(){let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}};On.\u0275fac=function(e){return new(e||On)(M(Ur),M(U),M(H),M(z),M(Y),M(F),M(oe),M(W))},On.\u0275cmp=B({type:On,selectors:[["app-estate-property-project-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:27,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,n){e&1&&(a(0,"div",0),C(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),C(6,"span",6),r(),a(7,"div",7)(8,"h5")(9,"b"),c(10),g(11,"translate"),r()()(),C(12,"div",8),r(),a(13,"div",4)(14,"div",5),c(15),r(),a(16,"div",9),c(17),r(),C(18,"div",10)(19,"div",11),r(),a(20,"div",4)(21,"div",5),c(22),r(),a(23,"div",9),c(24),r(),C(25,"div",11),r()()()(),C(26,"div",12)),e&2&&(o(),_("optionsInfoAreaId",n.constructorInfoAreaId),o(5),_("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),b(S(11,7,"TITLE.Selected_Project")),o(5),h("",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," :"),o(2),b(n.dataModelResult==null||n.dataModelResult.item==null?null:n.dataModelResult.item.id),o(5),h(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," : "),o(2),b(n.dataModelResult==null||n.dataModelResult.item==null?null:n.dataModelResult.item.title))},dependencies:[K,Lt,G],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Bn=On;var vd=["vform"],Id=i=>({direction:i}),bd=()=>["fa"];function wd(i,s){i&1&&C(0,"i",22)}function Td(i,s){i&1&&C(0,"i",23)}function xd(i,s){i&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function Ad(i,s){i&1&&C(0,"i",22)}function Rd(i,s){i&1&&C(0,"i",23)}function kd(i,s){i&1&&(a(0,"mat-error"),c(1," TitleResourceLanguage is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function Pd(i,s){if(i&1){let e=I();a(0,"div",19)(1,"label",35),c(2),r(),a(3,"input",36,4),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.titleResourceLanguage,t)||(l.dataModel.titleResourceLanguage=t),f(t)}),r(),y(5,Ad,1,0,"i",22),y(6,Rd,1,0,"i",23),a(7,"em"),c(8),r(),y(9,kd,5,3,"mat-error"),r()}if(i&2){let e=L(4),n=d();o(2),b(n.fieldsInfo.titleResourceLanguage==null?null:n.fieldsInfo.titleResourceLanguage.fieldTitle),o(),_("placeholder",k(n.fieldsInfo.titleResourceLanguage==null?null:n.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",n.dataModel.titleResourceLanguage),_("disabled",!(n.fieldsInfo.titleResourceLanguage!=null&&n.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),E(e.value?-1:5),o(),E(e.value?6:-1),o(2),h("",e.value.length," / 100"),o(),E(e.errors!=null&&e.errors.required?9:-1)}}function Ld(i,s){if(i&1){let e=I();a(0,"div",24)(1,"div",37)(2,"h5",38),c(3),r()(),a(4,"div",39)(5,"div",40)(6,"input",41),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.createdYearActive,t)||(l.dataModel.createdYearActive=t),f(t)}),r(),C(7,"label",42),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.createdYearActive==null?null:e.fieldsInfo.createdYearActive.fieldTitle," "),o(3),w("ngModel",e.dataModel.createdYearActive)}}function Dd(i,s){i&1&&C(0,"i",22)}function Vd(i,s){i&1&&C(0,"i",23)}function Od(i,s){i&1&&(a(0,"mat-error"),c(1," TitleCreatedYaer is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function Bd(i,s){if(i&1){let e=I();a(0,"div",19)(1,"label",43),c(2),r(),a(3,"input",44,5),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.titleCreatedYaer,t)||(l.dataModel.titleCreatedYaer=t),f(t)}),r(),y(5,Dd,1,0,"i",22),y(6,Vd,1,0,"i",23),a(7,"em"),c(8),r(),y(9,Od,5,3,"mat-error"),r()}if(i&2){let e=L(4),n=d();o(2),b(n.fieldsInfo.titleCreatedYaer==null?null:n.fieldsInfo.titleCreatedYaer.fieldTitle),o(),_("placeholder",k(n.fieldsInfo.titleCreatedYaer==null?null:n.fieldsInfo.titleCreatedYaer.fieldTitle)),w("ngModel",n.dataModel.titleCreatedYaer),o(2),E(e.value?-1:5),o(),E(e.value?6:-1),o(2),h("",e.value.length," / 100"),o(),E(e.errors!=null&&e.errors.required?9:-1)}}function Wd(i,s){if(i&1){let e=I();a(0,"div",19)(1,"label",45),c(2,"TitleCreatedYaerML"),r(),a(3,"input",46,6),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.titleCreatedYaerML,t)||(l.dataModel.titleCreatedYaerML=t),f(t)}),r()()}if(i&2){let e=d();o(3),_("placeholder",k(e.fieldsInfo.titleCreatedYaerML==null?null:e.fieldsInfo.titleCreatedYaerML.fieldTitle)),w("ngModel",e.dataModel.titleCreatedYaerML),_("disabled",!0)}}function Fd(i,s){i&1&&C(0,"i",22)}function Nd(i,s){i&1&&C(0,"i",23)}function Hd(i,s){i&1&&(a(0,"mat-error"),c(1," TitleCreatedYaerResourceLanguage is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function Gd(i,s){if(i&1){let e=I();a(0,"div",19)(1,"label",47),c(2),r(),a(3,"input",48,7),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.titleCreatedYaerResourceLanguage,t)||(l.dataModel.titleCreatedYaerResourceLanguage=t),f(t)}),r(),y(5,Fd,1,0,"i",22),y(6,Nd,1,0,"i",23),a(7,"em"),c(8),r(),y(9,Hd,5,3,"mat-error"),r()}if(i&2){let e=L(4),n=d();o(2),b(n.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:n.fieldsInfo.titleCreatedYaerResourceLanguage.fieldTitle),o(),_("placeholder",k(n.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:n.fieldsInfo.titleCreatedYaerResourceLanguage.fieldTitle)),w("ngModel",n.dataModel.titleCreatedYaerResourceLanguage),_("disabled",!(n.fieldsInfo.titleCreatedYaerResourceLanguage!=null&&n.fieldsInfo.titleCreatedYaerResourceLanguage.accessEditField)),o(2),E(e.value?-1:5),o(),E(e.value?6:-1),o(2),h("",e.value.length," / 100"),o(),E(e.errors!=null&&e.errors.required?9:-1)}}function Ud(i,s){if(i&1){let e=I();a(0,"div",24)(1,"div",37)(2,"h5",49),c(3),r()(),a(4,"div",39)(5,"div",40)(6,"input",50),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.partitionActive,t)||(l.dataModel.partitionActive=t),f(t)}),r(),C(7,"label",51),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.partitionActive==null?null:e.fieldsInfo.partitionActive.fieldTitle," "),o(3),w("ngModel",e.dataModel.partitionActive)}}function qd(i,s){i&1&&C(0,"i",22)}function jd(i,s){i&1&&C(0,"i",23)}function Qd(i,s){i&1&&(a(0,"mat-error"),c(1," TitlePartition is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function Yd(i,s){if(i&1){let e=I();a(0,"div",19)(1,"label",52),c(2),r(),a(3,"input",53,8),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.titlePartition,t)||(l.dataModel.titlePartition=t),f(t)}),r(),y(5,qd,1,0,"i",22),y(6,jd,1,0,"i",23),a(7,"em"),c(8),r(),y(9,Qd,5,3,"mat-error"),r()}if(i&2){let e=L(4),n=d();o(2),b(n.fieldsInfo.titlePartition==null?null:n.fieldsInfo.titlePartition.fieldTitle),o(),_("placeholder",k(n.fieldsInfo.titlePartition==null?null:n.fieldsInfo.titlePartition.fieldTitle)),w("ngModel",n.dataModel.titlePartition),o(2),E(e.value?-1:5),o(),E(e.value?6:-1),o(2),h("",e.value.length," / 100"),o(),E(e.errors!=null&&e.errors.required?9:-1)}}function zd(i,s){if(i&1){let e=I();a(0,"div",19)(1,"label",54),c(2,"TitlePartitionML"),r(),a(3,"input",55),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.titlePartitionML,t)||(l.dataModel.titlePartitionML=t),f(t)}),r()()}if(i&2){let e=d();o(3),w("ngModel",e.dataModel.titlePartitionML),_("disabled",!0)}}function Kd(i,s){i&1&&C(0,"i",22)}function Jd(i,s){i&1&&C(0,"i",23)}function Zd(i,s){i&1&&(a(0,"mat-error"),c(1," TitlePartitionResourceLanguage is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function Xd(i,s){if(i&1){let e=I();a(0,"div",19)(1,"label",56),c(2),r(),a(3,"input",57,9),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.titlePartitionResourceLanguage,t)||(l.dataModel.titlePartitionResourceLanguage=t),f(t)}),r(),y(5,Kd,1,0,"i",22),y(6,Jd,1,0,"i",23),a(7,"em"),c(8),r(),y(9,Zd,5,3,"mat-error"),r()}if(i&2){let e=L(4),n=d();o(2),b(n.fieldsInfo.titlePartitionResourceLanguage==null?null:n.fieldsInfo.titlePartitionResourceLanguage.fieldTitle),o(),_("placeholder",k(n.fieldsInfo.titlePartitionResourceLanguage==null?null:n.fieldsInfo.titlePartitionResourceLanguage.fieldTitle)),w("ngModel",n.dataModel.titlePartitionResourceLanguage),_("disabled",!(n.fieldsInfo.titlePartitionResourceLanguage!=null&&n.fieldsInfo.titlePartitionResourceLanguage.accessEditField)),o(2),E(e.value?-1:5),o(),E(e.value?6:-1),o(2),h("",e.value.length," / 100"),o(),E(e.errors!=null&&e.errors.required?9:-1)}}function $d(i,s){i&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function ep(i,s){if(i&1){let e=I();a(0,"div",19)(1,"label",58),c(2),r(),a(3,"input",59,10),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.iconFont,t)||(l.dataModel.iconFont=t),f(t)}),v("iconPickerSelect",function(t){u(e);let l=d();return f(l.onIconPickerSelect(t))}),r(),a(5,"span",60),C(6,"i",61),r()()}if(i&2){let e=d();o(2),b(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),_("placeholder",k(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),w("ngModel",e.dataModel.iconFont),_("iconPicker",e.dataModel.iconFont)("ipIconPack",Z(9,bd))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),_("ngClass",e.dataModel.iconFont)}}function tp(i,s){if(i&1){let e=I();a(0,"div",27)(1,"label",62),c(2),r(),a(3,"div",63)(4,"div",64)(5,"input",65,11),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.iconColor,t)||(l.dataModel.iconColor=t),f(t)}),r()(),a(7,"div",66),C(8,"ngx-mat-color-toggle",67)(9,"ngx-mat-color-picker",68,12),r()()()}if(i&2){let e=L(10),n=d();o(2),b(n.fieldsInfo.iconColor==null?null:n.fieldsInfo.iconColor.fieldTitle),o(3),ae("background",n.dataModel.iconColor),_("placeholder",k(n.fieldsInfo.iconColor==null?null:n.fieldsInfo.iconColor.fieldTitle)),w("ngModel",n.dataModel.iconColor),_("ngxMatColorPicker",e)("disabled",!(n.fieldsInfo.iconColor!=null&&n.fieldsInfo.iconColor.accessAddField)),o(3),_("for",e),o(),_("touchUi",!0)("color","primary")}}function ip(i,s){if(i&1&&(C(0,"img",30),g(1,"cmsthumbnail")),i&2){let e=d();_("src",k(S(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function np(i,s){if(i&1){let e=I();a(0,"div",34)(1,"button",69),v("click",function(){u(e);let t=d();return f(t.onFormCancel())}),C(2,"i",70),c(3),g(4,"translate"),r(),a(5,"button",71),C(6,"i",72),c(7),g(8,"translate"),r()()}if(i&2){d();let e=L(10);o(3),h(" ",S(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",S(8,5,"ACTION.SAVE")," ")}}var Wn=class Wn extends Yt{constructor(e,n,t,l,p,m,O,J,$,Te){super(l,new ht,O,Te);this.data=e;this.dialogRef=n;this.coreEnumService=t;this.estatePropertyTypeLanduseService=l;this.cmsToastrService=p;this.cmsStoreService=m;this.publicHelper=O;this.cdr=J;this.tokenHelper=$;this.translate=Te;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new It;this.dataModelResult=new X;this.dataModel=new ht;this.formInfo=new be;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceAdd(this.dataModel).subscribe({next:n=>{this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:n=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Wn.\u0275fac=function(n){return new(n||Wn)(M(Le),M(Ie),M(he),M($t),M(F),M(Y),M(U),M(H),M(z),M(W))},Wn.\u0275cmp=B({type:Wn,selectors:[["app-estate-property-type-landuse-add"]],viewQuery:function(n,t){if(n&1&&Ve(vd,5),n&2){let l;Oe(l=Be())&&(t.formGroup=l.first)}},standalone:!1,features:[ee],decls:54,vars:56,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["TitleResourceLanguage",""],["TitleCreatedYaer",""],["TitleCreatedYaerML",""],["TitleCreatedYaerResourceLanguage",""],["TitlePartition",""],["TitlePartitionResourceLanguage",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"pt-1"],["data-trigger-switch","dataModel.createdYearActive",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.createdYearActive","name","dataModel.createdYearActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.createdYearActive",1,"custom-control-label"],["for","dataModel.titleCreatedYaer",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaer","minlength","3","maxlength","100","required","","id","dataModel.titleCreatedYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleCreatedYaerML",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaerML","id","dataModel.titleCreatedYaerML",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.titleCreatedYaerResourceLanguage",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaerResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleCreatedYaerResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.partitionActive",1,"font-600","font-14"],["type","checkbox","id","dataModel.partitionActive","name","dataModel.partitionActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.partitionActive",1,"custom-control-label"],["for","dataModel.titlePartition",1,"color-highlight"],["type","text","name","dataModel.titlePartition","minlength","3","maxlength","100","required","","id","dataModel.titlePartition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titlePartitionML",1,"color-highlight"],["type","text","name","dataModel.titlePartitionML","id","dataModel.titlePartitionML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titlePartitionResourceLanguage",1,"color-highlight"],["type","text","name","dataModel.titlePartitionResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titlePartitionResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,t){if(n&1){let l=I();a(0,"div",13),C(1,"app-progress-spinner",14),a(2,"div",15)(3,"p",16),c(4),r(),a(5,"p"),c(6),g(7,"translate"),r(),C(8,"app-cms-form-result-message",17),a(9,"form",18,0),v("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"div",19)(12,"label",20),c(13),r(),a(14,"input",21,1),x("ngModelChange",function(m){return u(l),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),r(),y(16,wd,1,0,"i",22),y(17,Td,1,0,"i",23),a(18,"em"),c(19),r(),y(20,xd,5,3,"mat-error"),r(),y(21,Pd,10,9,"div",19),y(22,Ld,8,2,"div",24),y(23,Bd,10,8,"div",19),y(24,Wd,5,4,"div",19),y(25,Gd,10,9,"div",19),y(26,Ud,8,2,"div",24),y(27,Yd,10,8,"div",19),y(28,zd,4,2,"div",19),y(29,Xd,10,9,"div",19),a(30,"div",19)(31,"label",25),c(32),r(),a(33,"textarea",26,2),x("ngModelChange",function(m){return u(l),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(35,"                                    "),r(),a(36,"em"),c(37),r(),y(38,$d,5,3,"mat-error"),r(),y(39,ep,7,10,"div",19),y(40,tp,11,11,"div",27),a(41,"div",28)(42,"a",29),g(43,"cmsthumbnail"),y(44,ip,2,4,"img",30),r()(),a(45,"div",19)(46,"label",31),v("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),c(47),g(48,"translate"),r(),a(49,"input",32,3),g(51,"translate"),x("ngModelChange",function(m){return u(l),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),v("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(52,"cms-file-manager",33),v("itemSelected",function(m){return u(l),f(t.onActionFileSelected(m))}),x("openFormChange",function(m){return u(l),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),r()(),y(53,np,9,7,"div",34),r()()()}if(n&2){let l=L(15),p=L(34);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",S(7,46,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(),_("ngStyle",te(54,Id,t.tokenInfo.access.direction)),o(4),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),o(2),E(l.value?-1:16),o(),E(l.value?17:-1),o(2),h("",l.value.length," / 100"),o(),E(l.errors!=null&&l.errors.required?20:-1),o(),E(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessWatchField?21:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?22:-1),o(),E(t.dataModel.createdYearActive?23:-1),o(),E(t.dataModel.createdYearActive?24:-1),o(),E(t.fieldsInfo.titleCreatedYaerResourceLanguage!=null&&t.fieldsInfo.titleCreatedYaerResourceLanguage.accessWatchField&&t.dataModel.createdYearActive?25:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?26:-1),o(),E(t.dataModel.partitionActive?27:-1),o(),E(t.dataModel.partitionActive?28:-1),o(),E(t.fieldsInfo.titlePartitionResourceLanguage!=null&&t.fieldsInfo.titlePartitionResourceLanguage.accessWatchField&&t.dataModel.partitionActive?29:-1),o(3),b(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),o(4),h("",p.value.length," / 500"),o(),E(p.errors!=null&&p.errors.required?38:-1),o(),E(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessWatchField?39:-1),o(),E(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessWatchField?40:-1),o(2),_("href",k(S(43,48,t.dataModel.linkMainImageIdSrc)),j),o(2),E((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?44:-1),o(3),b(S(48,50,"TITLE.PICTURE")),o(2),_("placeholder",k(S(51,52,"TITLE.Original_File_ID"))),w("ngModel",t.dataModel.linkMainImageId),o(3),_("language",t.appLanguage)("isPopup",!0)("openDirectUploadView",!0),w("openForm",t.fileManagerOpenForm),_("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),E(t.formInfo.submitButtonEnabled?53:-1)}},dependencies:[se,Ce,Qe,ge,mt,ne,qe,Fe,Ye,ze,ce,je,Ke,Qt,le,K,we,bi,yi,Si,gi,ut,G,de],encapsulation:2});var ir=Wn;function op(i,s){if(i&1){let e=I();a(0,"li")(1,"mat-checkbox",0),v("change",function(){let t=u(e).$implicit,l=d();return f(l.onActionSelect(t))}),c(2),r()()}if(i&2){let e=s.$implicit,n=d();o(),_("checked",n.fieldsStatus.get(e.id))("disabled",n.optionDisabled),o(),h(" ",e.titleML," ")}}var Fn=class Fn{constructor(s,e,n,t,l,p,m,O){this.coreEnumService=s;this.categoryService=e;this.cdr=n;this.publicHelper=t;this.translate=l;this.tokenHelper=p;this.cmsStoreService=m;this.cmsToastrService=O;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new X;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new Hi;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new jt;this.optionSelectAdded=new jt;this.optionSelectRemoved=new jt;this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(()=>re(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){let s=new me;s.rowPerPage=50,s.accessLoad=!0;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(s).subscribe({next:n=>{n.isSuccess?(this.dataModelResult=n,this.dataModelResult.listItems.forEach(t=>this.fieldsStatus.set(t.id,!1)),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0)),this.dataModelResult.listItems.forEach(t=>{this.fieldsStatus.get(t.id)&&this.dataModelSelect.push(t)})):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onActionSelect(s){this.fieldsStatus.get(s.id)?(this.fieldsStatus.set(s.id,!1),this.optionSelectRemoved.emit(s),this.dataModelSelect.splice(this.dataModelSelect.indexOf(s),1)):(this.fieldsStatus.set(s.id,!0),this.optionSelectAdded.emit(s),this.dataModelSelect.push(s)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(s){typeof s==typeof Array(String)?s.forEach(e=>{this.dataIdsSelect.push(e)}):typeof s==typeof Array(Br)&&s.forEach(e=>{this.dataIdsSelect.push(e.id)}),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){this.DataGetAll()}};Fn.\u0275fac=function(e){return new(e||Fn)(M(he),M(_o),M(H),M(U),M(W),M(z),M(Y),M(F))},Fn.\u0275cmp=B({type:Fn,selectors:[["app-estate-property-type-usage-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:3,vars:0,consts:[[3,"change","checked","disabled"]],template:function(e,n){e&1&&(a(0,"ul"),dt(1,op,3,3,"li",null,ct),r()),e&2&&(o(),pt(n.dataModelResult.listItems))},dependencies:[Qr],encapsulation:2});var nr=Fn;var ap=["vform"],lp=i=>({direction:i}),sp=()=>["fa"];function cp(i,s){i&1&&C(0,"i",23)}function dp(i,s){i&1&&C(0,"i",24)}function pp(i,s){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2){let e=d();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),b(S(4,2,"MESSAGE.required"))}}function mp(i,s){i&1&&C(0,"i",23)}function up(i,s){i&1&&C(0,"i",24)}function fp(i,s){i&1&&(a(0,"mat-error"),c(1," TitleResourceLanguage is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function _p(i,s){if(i&1){let e=I();a(0,"div",20)(1,"label",39),c(2),r(),a(3,"input",40,5),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.titleResourceLanguage,t)||(l.dataModel.titleResourceLanguage=t),f(t)}),r(),y(5,mp,1,0,"i",23),y(6,up,1,0,"i",24),a(7,"em"),c(8),r(),y(9,fp,5,3,"mat-error"),r()}if(i&2){let e=L(4),n=d();o(2),b(n.fieldsInfo.titleResourceLanguage==null?null:n.fieldsInfo.titleResourceLanguage.fieldTitle),o(),_("placeholder",k(n.fieldsInfo.titleResourceLanguage==null?null:n.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",n.dataModel.titleResourceLanguage),_("disabled",!(n.fieldsInfo.titleResourceLanguage!=null&&n.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),E(e.value?-1:5),o(),E(e.value?6:-1),o(2),h("",e.value.length," / 100"),o(),E(e.errors!=null&&e.errors.required?9:-1)}}function Cp(i,s){if(i&1){let e=I();a(0,"div",27)(1,"div",41)(2,"h5",42),c(3),r()(),a(4,"div",43)(5,"div",44)(6,"input",45),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.createdYearActive,t)||(l.dataModel.createdYearActive=t),f(t)}),r(),C(7,"label",46),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.createdYearActive==null?null:e.fieldsInfo.createdYearActive.fieldTitle," "),o(3),w("ngModel",e.dataModel.createdYearActive)}}function hp(i,s){i&1&&C(0,"i",23)}function gp(i,s){i&1&&C(0,"i",24)}function Sp(i,s){i&1&&(a(0,"mat-error"),c(1," TitleCreatedYaer is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function yp(i,s){if(i&1){let e=I();a(0,"div",20)(1,"label",47),c(2),r(),a(3,"input",48,6),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.titleCreatedYaer,t)||(l.dataModel.titleCreatedYaer=t),f(t)}),r(),y(5,hp,1,0,"i",23),y(6,gp,1,0,"i",24),a(7,"em"),c(8),r(),y(9,Sp,5,3,"mat-error"),r()}if(i&2){let e=L(4),n=d();o(2),b(n.fieldsInfo.titleCreatedYaer==null?null:n.fieldsInfo.titleCreatedYaer.fieldTitle),o(),_("placeholder",k(n.fieldsInfo.titleCreatedYaer==null?null:n.fieldsInfo.titleCreatedYaer.fieldTitle)),w("ngModel",n.dataModel.titleCreatedYaer),o(2),E(e.value?-1:5),o(),E(e.value?6:-1),o(2),h("",e.value.length," / 100"),o(),E(e.errors!=null&&e.errors.required?9:-1)}}function Ep(i,s){if(i&1){let e=I();a(0,"div",20)(1,"label",49),c(2,"TitleCreatedYaerML"),r(),a(3,"input",50,7),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.titleCreatedYaerML,t)||(l.dataModel.titleCreatedYaerML=t),f(t)}),r()()}if(i&2){let e=d();o(3),_("placeholder",k(e.fieldsInfo.titleCreatedYaerML==null?null:e.fieldsInfo.titleCreatedYaerML.fieldTitle)),w("ngModel",e.dataModel.titleCreatedYaerML),_("disabled",!0)}}function Mp(i,s){i&1&&C(0,"i",23)}function vp(i,s){i&1&&C(0,"i",24)}function Ip(i,s){i&1&&(a(0,"mat-error"),c(1," TitleCreatedYaerResourceLanguage is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function bp(i,s){if(i&1){let e=I();a(0,"div",20)(1,"label",51),c(2),r(),a(3,"input",52,8),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.titleCreatedYaerResourceLanguage,t)||(l.dataModel.titleCreatedYaerResourceLanguage=t),f(t)}),r(),y(5,Mp,1,0,"i",23),y(6,vp,1,0,"i",24),a(7,"em"),c(8),r(),y(9,Ip,5,3,"mat-error"),r()}if(i&2){let e=L(4),n=d();o(2),b(n.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:n.fieldsInfo.titleCreatedYaerResourceLanguage.fieldTitle),o(),_("placeholder",k(n.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:n.fieldsInfo.titleCreatedYaerResourceLanguage.fieldTitle)),w("ngModel",n.dataModel.titleCreatedYaerResourceLanguage),_("disabled",!(n.fieldsInfo.titleCreatedYaerResourceLanguage!=null&&n.fieldsInfo.titleCreatedYaerResourceLanguage.accessEditField)),o(2),E(e.value?-1:5),o(),E(e.value?6:-1),o(2),h("",e.value.length," / 100"),o(),E(e.errors!=null&&e.errors.required?9:-1)}}function wp(i,s){if(i&1){let e=I();a(0,"div",27)(1,"div",41)(2,"h5",53),c(3),r()(),a(4,"div",43)(5,"div",44)(6,"input",54),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.partitionActive,t)||(l.dataModel.partitionActive=t),f(t)}),r(),C(7,"label",55),r()()()}if(i&2){let e=d();o(3),h(" ",e.fieldsInfo.partitionActive==null?null:e.fieldsInfo.partitionActive.fieldTitle," "),o(3),w("ngModel",e.dataModel.partitionActive)}}function Tp(i,s){i&1&&C(0,"i",23)}function xp(i,s){i&1&&C(0,"i",24)}function Ap(i,s){i&1&&(a(0,"mat-error"),c(1," TitlePartition is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function Rp(i,s){if(i&1){let e=I();a(0,"div",20)(1,"label",56),c(2),r(),a(3,"input",57,9),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.titlePartition,t)||(l.dataModel.titlePartition=t),f(t)}),r(),y(5,Tp,1,0,"i",23),y(6,xp,1,0,"i",24),a(7,"em"),c(8),r(),y(9,Ap,5,3,"mat-error"),r()}if(i&2){let e=L(4),n=d();o(2),b(n.fieldsInfo.titlePartition==null?null:n.fieldsInfo.titlePartition.fieldTitle),o(),_("placeholder",k(n.fieldsInfo.titlePartition==null?null:n.fieldsInfo.titlePartition.fieldTitle)),w("ngModel",n.dataModel.titlePartition),o(2),E(e.value?-1:5),o(),E(e.value?6:-1),o(2),h("",e.value.length," / 100"),o(),E(e.errors!=null&&e.errors.required?9:-1)}}function kp(i,s){if(i&1){let e=I();a(0,"div",20)(1,"label",58),c(2,"TitlePartitionML"),r(),a(3,"input",59),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.titlePartitionML,t)||(l.dataModel.titlePartitionML=t),f(t)}),r()()}if(i&2){let e=d();o(3),w("ngModel",e.dataModel.titlePartitionML),_("disabled",!0)}}function Pp(i,s){i&1&&C(0,"i",23)}function Lp(i,s){i&1&&C(0,"i",24)}function Dp(i,s){i&1&&(a(0,"mat-error"),c(1," TitlePartitionResourceLanguage is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function Vp(i,s){if(i&1){let e=I();a(0,"div",20)(1,"label",60),c(2),r(),a(3,"input",61,10),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.titlePartitionResourceLanguage,t)||(l.dataModel.titlePartitionResourceLanguage=t),f(t)}),r(),y(5,Pp,1,0,"i",23),y(6,Lp,1,0,"i",24),a(7,"em"),c(8),r(),y(9,Dp,5,3,"mat-error"),r()}if(i&2){let e=L(4),n=d();o(2),b(n.fieldsInfo.titlePartitionResourceLanguage==null?null:n.fieldsInfo.titlePartitionResourceLanguage.fieldTitle),o(),_("placeholder",k(n.fieldsInfo.titlePartitionResourceLanguage==null?null:n.fieldsInfo.titlePartitionResourceLanguage.fieldTitle)),w("ngModel",n.dataModel.titlePartitionResourceLanguage),_("disabled",!(n.fieldsInfo.titlePartitionResourceLanguage!=null&&n.fieldsInfo.titlePartitionResourceLanguage.accessEditField)),o(2),E(e.value?-1:5),o(),E(e.value?6:-1),o(2),h("",e.value.length," / 100"),o(),E(e.errors!=null&&e.errors.required?9:-1)}}function Op(i,s){i&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function Bp(i,s){if(i&1){let e=I();a(0,"div",20)(1,"label",62),c(2),r(),a(3,"input",63,11),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.iconFont,t)||(l.dataModel.iconFont=t),f(t)}),v("iconPickerSelect",function(t){u(e);let l=d();return f(l.onIconPickerSelect(t))}),r(),a(5,"span",64),C(6,"i",65),r()()}if(i&2){let e=d();o(2),b(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),_("placeholder",k(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),w("ngModel",e.dataModel.iconFont),_("iconPicker",e.dataModel.iconFont)("ipIconPack",Z(9,sp))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),_("ngClass",e.dataModel.iconFont)}}function Wp(i,s){if(i&1){let e=I();a(0,"div",30)(1,"label",66),c(2),r(),a(3,"div",67)(4,"div",68)(5,"input",69,12),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.iconColor,t)||(l.dataModel.iconColor=t),f(t)}),r()(),a(7,"div",70),C(8,"ngx-mat-color-toggle",71)(9,"ngx-mat-color-picker",72,13),r()()()}if(i&2){let e=L(10),n=d();o(2),b(n.fieldsInfo.iconColor==null?null:n.fieldsInfo.iconColor.fieldTitle),o(3),ae("background",n.dataModel.iconColor),_("placeholder",k(n.fieldsInfo.iconColor==null?null:n.fieldsInfo.iconColor.fieldTitle)),w("ngModel",n.dataModel.iconColor),_("ngxMatColorPicker",e)("disabled",!(n.fieldsInfo.iconColor!=null&&n.fieldsInfo.iconColor.accessAddField)),o(3),_("for",e),o(),_("touchUi",!0)("color","primary")}}function Fp(i,s){if(i&1&&(C(0,"img",33),g(1,"cmsthumbnail")),i&2){let e=d();_("src",k(S(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function Np(i,s){if(i&1){let e=I();a(0,"div",38)(1,"button",73),v("click",function(){u(e);let t=d();return f(t.onFormCancel())}),C(2,"i",74),c(3),g(4,"translate"),r(),a(5,"button",75),C(6,"i",76),c(7),g(8,"translate"),r()()}if(i&2){d();let e=L(10);o(3),h(" ",S(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",S(8,5,"ACTION.SAVE")," ")}}var Nn=class Nn extends Mi{constructor(e,n,t,l,p,m,O,J,$,Te,Ee){super(l,new ht,J,Ee);this.data=e;this.dialogRef=n;this.coreEnumService=t;this.estatePropertyTypeLanduseService=l;this.estatePropertyTypeService=p;this.cmsToastrService=m;this.cmsStoreService=O;this.publicHelper=J;this.cdr=$;this.tokenHelper=Te;this.translate=Ee;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ui;this.dataModel=new ht;this.formInfo=new be;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.setAccessLoad(),this.estatePropertyTypeLanduseService.setAccessDataType(Me.Editor),this.estatePropertyTypeLanduseService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)});let n=new me,t=new V;t.propertyName="LinkPropertyTypeLanduseId",t.value=this.requestId,n.filters.push(t),this.estatePropertyTypeService.ServiceGetAll(n).subscribe({next:l=>{this.dataEstatePropertyTypeModel=l.listItems;let p=[];this.dataEstatePropertyTypeModel.forEach(m=>{p.push(m.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=p,l.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.submitResultMessage=m}),this.formInfo.submitResultMessage=l.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceEdit(this.dataModel).subscribe({next:n=>{this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:n=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeUsageModel=e}onActionSelectorUserCategorySelectAdded(e){let n=new gr;n.linkPropertyTypeUsageId=e.id,n.linkPropertyTypeLanduseId=this.dataModel.id,this.estatePropertyTypeService.ServiceAdd(n).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorUserCategorySelectRemoved(e){let n=new gr;n.linkPropertyTypeUsageId=e.id,n.linkPropertyTypeLanduseId=this.dataModel.id,this.estatePropertyTypeService.ServiceDeleteEntity(n).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Nn.\u0275fac=function(n){return new(n||Nn)(M(Le),M(Ie),M(he),M($t),M(Ni),M(F),M(Y),M(U),M(H),M(z),M(W))},Nn.\u0275cmp=B({type:Nn,selectors:[["app-estate-property-type-landuse-edit"]],viewQuery:function(n,t){if(n&1&&Ve(ap,5),n&2){let l;Oe(l=Be())&&(t.formGroup=l.first)}},standalone:!1,features:[ee],decls:60,vars:62,consts:[["vform","ngForm"],["Title",""],["TitleML",""],["Description",""],["LinkMainImageId",""],["TitleResourceLanguage",""],["TitleCreatedYaer",""],["TitleCreatedYaerML",""],["TitleCreatedYaerResourceLanguage",""],["TitlePartition",""],["TitlePartitionResourceLanguage",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleML",1,"color-highlight"],["type","text","cmsKeyboardForce","en","name","dataModel.titleML","minlength","3","maxlength","100","required","","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],[1,"form-actions"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"pt-1"],["data-trigger-switch","dataModel.createdYearActive",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.createdYearActive","name","dataModel.createdYearActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.createdYearActive",1,"custom-control-label"],["for","dataModel.titleCreatedYaer",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaer","minlength","3","maxlength","100","required","","id","dataModel.titleCreatedYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleCreatedYaerML",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaerML","id","dataModel.titleCreatedYaerML",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.titleCreatedYaerResourceLanguage",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaerResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleCreatedYaerResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.partitionActive",1,"font-600","font-14"],["type","checkbox","id","dataModel.partitionActive","name","dataModel.partitionActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.partitionActive",1,"custom-control-label"],["for","dataModel.titlePartition",1,"color-highlight"],["type","text","name","dataModel.titlePartition","minlength","3","maxlength","100","required","","id","dataModel.titlePartition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titlePartitionML",1,"color-highlight"],["type","text","name","dataModel.titlePartitionML","id","dataModel.titlePartitionML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titlePartitionResourceLanguage",1,"color-highlight"],["type","text","name","dataModel.titlePartitionResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titlePartitionResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,t){if(n&1){let l=I();a(0,"div",14),C(1,"app-progress-spinner",15),a(2,"div",16)(3,"p",17),c(4),r(),a(5,"p"),c(6),g(7,"translate"),r(),C(8,"app-cms-form-result-message",18),a(9,"form",19,0),v("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"div",20)(12,"label",21),c(13),r(),a(14,"input",22,1),x("ngModelChange",function(m){return u(l),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),r(),y(16,cp,1,0,"i",23),y(17,dp,1,0,"i",24),a(18,"em"),c(19),r(),y(20,pp,5,4,"mat-error"),r(),a(21,"div",20)(22,"label",25),c(23,"TitleML"),r(),a(24,"input",26,2),x("ngModelChange",function(m){return u(l),T(t.dataModel.titleML,m)||(t.dataModel.titleML=m),f(m)}),r()(),y(26,_p,10,9,"div",20),y(27,Cp,8,2,"div",27),y(28,yp,10,8,"div",20),y(29,Ep,5,4,"div",20),y(30,bp,10,9,"div",20),y(31,wp,8,2,"div",27),y(32,Rp,10,8,"div",20),y(33,kp,4,2,"div",20),y(34,Vp,10,9,"div",20),a(35,"div",20)(36,"label",28),c(37),r(),a(38,"textarea",29,3),x("ngModelChange",function(m){return u(l),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(40,"                                      "),r(),a(41,"em"),c(42),r(),y(43,Op,5,3,"mat-error"),r(),y(44,Bp,7,10,"div",20),y(45,Wp,11,11,"div",30),a(46,"div",31)(47,"a",32),g(48,"cmsthumbnail"),y(49,Fp,2,4,"img",33),r()(),a(50,"div",20)(51,"label",34),v("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),c(52),g(53,"translate"),r(),a(54,"input",35,4),g(56,"translate"),x("ngModelChange",function(m){return u(l),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),v("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(57,"cms-file-manager",36),v("itemSelected",function(m){return u(l),f(t.onActionFileSelected(m))}),x("openFormChange",function(m){return u(l),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),r()(),a(58,"app-estate-property-type-usage-selectionlist",37),v("optionChange",function(m){return u(l),f(t.onActionSelectorUserCategorySelect(m))})("optionSelectAdded",function(m){return u(l),f(t.onActionSelectorUserCategorySelectAdded(m))})("optionSelectRemoved",function(m){return u(l),f(t.onActionSelectorUserCategorySelectRemoved(m))}),r(),y(59,Np,9,7,"div",38),r()()()}if(n&2){let l=L(15),p=L(39);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",S(7,52,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(),_("ngStyle",te(60,lp,t.tokenInfo.access.direction)),o(4),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),o(2),E(l.value?-1:16),o(),E(l.value?17:-1),o(2),h("",l.value.length," / 100"),o(),E(l.errors!=null&&l.errors.required?20:-1),o(4),_("placeholder",k(t.fieldsInfo.titleML==null?null:t.fieldsInfo.titleML.fieldTitle)),w("ngModel",t.dataModel.titleML),_("disabled",!0),o(2),E(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessWatchField?26:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?27:-1),o(),E(t.dataModel.createdYearActive?28:-1),o(),E(t.dataModel.createdYearActive?29:-1),o(),E(t.fieldsInfo.titleCreatedYaerResourceLanguage!=null&&t.fieldsInfo.titleCreatedYaerResourceLanguage.accessWatchField&&t.dataModel.createdYearActive?30:-1),o(),E(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?31:-1),o(),E(t.dataModel.partitionActive?32:-1),o(),E(t.dataModel.partitionActive?33:-1),o(),E(t.fieldsInfo.titlePartitionResourceLanguage!=null&&t.fieldsInfo.titlePartitionResourceLanguage.accessWatchField&&t.dataModel.partitionActive?34:-1),o(3),b(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),o(4),h("",p.value.length," / 500"),o(),E(p.errors!=null&&p.errors.required?43:-1),o(),E(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessWatchField?44:-1),o(),E(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessWatchField?45:-1),o(2),_("href",k(S(48,54,t.dataModel.linkMainImageIdSrc)),j),o(2),E((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?49:-1),o(3),b(S(53,56,"TITLE.PICTURE")),o(2),_("placeholder",k(S(56,58,"TITLE.Original_File_ID"))),w("ngModel",t.dataModel.linkMainImageId),o(3),_("language",t.appLanguage)("isPopup",!0)("openDirectUploadView",!0),w("openForm",t.fileManagerOpenForm),_("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),_("optionSelectForce",t.dataEstatePropertyTypeUsageIds)("optionDisabled",!1),o(),E(t.formInfo.submitButtonEnabled?59:-1)}},dependencies:[se,Ce,Qe,ge,mt,ne,qe,Fe,Ye,ze,ce,je,Ke,Qt,le,K,we,ea,bi,yi,Si,gi,ut,nr,G,de],encapsulation:2});var or=Nn;function Up(i,s){if(i&1){let e=I();a(0,"button",14),v("click",function(){u(e);let t=d();return f(t.onActionAdd())}),c(1),g(2,"translate"),r()}i&2&&(o(),h(" ",S(2,1,"ACTION.ADD")," "))}function qp(i,s){if(i&1){let e=I();a(0,"button",15),v("click",function(){u(e);let t=d();return f(t.onActionEdit())}),c(1),g(2,"translate"),r()}i&2&&(o(),h(" ",S(2,1,"ACTION.EDIT")," "))}function jp(i,s){if(i&1){let e=I();a(0,"button",16),v("click",function(){u(e);let t=d();return f(t.onActionDelete())}),c(1),g(2,"translate"),r()}i&2&&(o(),h(" ",S(2,1,"ACTION.DELETE")," "))}function Qp(i,s){if(i&1){let e=I();a(0,"button",17),v("click",function(){u(e);let t=d();return f(t.onActionButtonReload())}),a(1,"mat-icon",18),g(2,"translate"),c(3,"refresh"),r()()}if(i&2){let e=d();o(),q("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),_("title",k(S(2,4,"ACTION.RELOAD")))}}function Yp(i,s){if(i&1){let e=I();a(0,"mat-tree-node",19),C(1,"button",20),a(2,"span",21),v("click",function(){let t=u(e).$implicit,l=d();return f(l.onActionSelect(t))}),C(3,"img",22)(4,"i",23),c(5),r()()}if(i&2){let e=s.$implicit,n=d();q("ntk-tree-selected",(n.dataModelSelect==null||n.dataModelSelect.id==null?null:n.dataModelSelect.id.length)>0&&(n.dataModelSelect==null?null:n.dataModelSelect.id)===e.id),o(3),_("src",k(e.linkMainImageIdSrc),j),o(),ae("color",e.IconColor),_("ngClass",e.IconFont),o(),h("\xA0",e.title)}}function zp(i,s){if(i&1){let e=I();a(0,"mat-tree-node",24)(1,"button",25)(2,"mat-icon",26),c(3),r()(),a(4,"span",21),v("click",function(){let t=u(e).$implicit,l=d();return f(l.onActionSelect(t))}),C(5,"img",22)(6,"i",23),c(7),r()()}if(i&2){let e=s.$implicit,n=d(),t=L(12);q("ntk-tree-selected",(n.dataModelSelect==null||n.dataModelSelect.id==null?null:n.dataModelSelect.id.length)>0&&(n.dataModelSelect==null?null:n.dataModelSelect.id)===e.id),_("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),li("type","button")("aria-label","Toggle "+e.title),o(2),h(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),_("src",k(e.linkMainImageIdSrc),j),o(),ae("color",e.IconColor),_("ngClass",e.IconFont),o(),h("\xA0",e.title)}}var Hn=class Hn{constructor(s,e,n,t,l,p,m,O,J,$){this.cmsToastrService=s;this.coreEnumService=e;this.categoryService=n;this.cmsConfirmationDialogService=t;this.dialog=l;this.cdr=p;this.publicHelper=m;this.translate=O;this.tokenHelper=J;this.cmsStoreService=$;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new ht;this.dataModelResult=new X;this.filterModel=new me;this.dataSource=new Lo;this.optionChange=new jt;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(s,e)=>!1;this.childrenAccessor=s=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(()=>re(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onActionSelect(s){s&&this.dataModelSelect&&s.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new ht,this.DataGetAll()}onActionSelectForce(s){}onActionAdd(){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(ir,{height:"90%",panelClass:s,enterAnimationDuration:N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:N.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let s="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(s=this.dataModelSelect.id),s===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(or,{height:"90%",panelClass:e,enterAnimationDuration:N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:N.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let s="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(s=this.dataModelSelect.id),s===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="",n="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(t=>{e=t["MESSAGE.Please_Confirm"],n=t["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) ",this.cmsConfirmationDialogService.confirm(e,n).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(p,m,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})})}};Hn.\u0275fac=function(e){return new(e||Hn)(M(F),M(he),M($t),M(Vt),M(oe),M(H),M(U),M(W),M(z),M(Y))},Hn.\u0275cmp=B({type:Hn,selectors:[["app-estate-property-type-landuse-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,n){e&1&&(a(0,"app-cms-html-tree",1),A(1,2),c(2),g(3,"translate"),R(),A(4,3),y(5,Up,3,3,"button",4),y(6,qp,3,3,"button",5),y(7,jp,3,3,"button",6),y(8,Qp,4,6,"button",7),R(),A(9,8),C(10,"app-progress-spinner",9),a(11,"mat-tree",10,0),P(13,Yp,6,8,"mat-tree-node",11)(14,zp,8,13,"mat-tree-node",12),r(),R(),Ue(15,13),r()),e&2&&(_("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),h(" ",S(3,12,"TABLE."+(n.dataModelResult==null||n.dataModelResult.access==null?null:n.dataModelResult.access.moduleEntityName))," "),o(3),E(!(n.dataModelResult==null||n.dataModelResult.access==null)&&n.dataModelResult.access.accessAddRow?5:-1),o(),E(!(n.dataModelResult==null||n.dataModelResult.access==null)&&n.dataModelResult.access.accessEditRow&&(n.dataModelSelect==null?null:n.dataModelSelect.id)>0?6:-1),o(),E(!(n.dataModelResult==null||n.dataModelResult.access==null)&&n.dataModelResult.access.accessDeleteRow&&n.dataModelSelect.id&&(n.dataModelSelect==null||n.dataModelSelect.id==null?null:n.dataModelSelect.id.length)>0?7:-1),o(),E(!(n.dataModelResult==null||n.dataModelResult.access==null)&&n.dataModelResult.access.accessWatchRow?8:-1),o(2),_("optionsInfoAreaId",n.constructorInfoAreaId),o(),_("dataSource",n.dataSource)("childrenAccessor",n.childrenAccessor),o(3),_("matTreeNodeDefWhen",n.hasChild))},dependencies:[se,Pe,Se,Ao,Ro,Po,ko,xo,K,Oo,G],encapsulation:2});var Gn=Hn;var Zp=()=>["expandedTitle"],Xp=()=>["expandedDetail"],$p=()=>[5,10,20,100],Ia=i=>({display:i});function em(i,s){if(i&1&&C(0,"app-estate-billboard-header",7),i&2){let e=d();_("optionId",e.requestLinkBillboardId)}}function tm(i,s){if(i&1&&C(0,"app-estate-contract-type-header",7),i&2){let e=d();_("optionId",e.requestLinkContractTypeId)}}function im(i,s){if(i&1&&C(0,"app-estate-customer-order-header",7),i&2){let e=d();_("optionId",e.requestLinkCustomerOrderId)}}function nm(i,s){if(i&1&&C(0,"app-estate-property-type-landuse-header",7),i&2){let e=d();_("optionId",e.requestLinkPropertyTypeLanduseId)}}function om(i,s){if(i&1&&C(0,"app-estate-property-type-usage-header",7),i&2){let e=d();_("optionId",e.requestLinkPropertyTypeUsageId)}}function rm(i,s){if(i&1&&C(0,"app-estate-property-project-header",7),i&2){let e=d();_("optionId",e.requestLinkProjectId)}}function am(i,s){if(i&1){let e=I();a(0,"a",71),v("click",function(){u(e);let t=d();return f(t.onActionBackToParent())}),C(1,"i",72),r()}}function lm(i,s){if(i&1){let e=I();a(0,"div",27)(1,"a",73),v("click",function(){u(e);let t=d();return f(t.onActionButtonNewRow())}),C(2,"i",74)(3,"br"),r(),a(4,"p",31),c(5),g(6,"translate"),r()()}i&2&&(o(5),h(" ",S(6,1,"ACTION.ADD")," "))}function sm(i,s){if(i&1){let e=I();a(0,"div",27)(1,"a",75),v("click",function(){u(e);let t=d();return f(t.onActionButtonActionSendSmsToCustomerOrder())}),C(2,"i",74)(3,"br"),r(),a(4,"p",31),c(5),g(6,"translate"),r()()}i&2&&(o(5),h(" ",S(6,1,"ACTION.ActionSendSmsToCustomerOrder")," "))}function cm(i,s){if(i&1){let e=I();a(0,"div",27)(1,"a",29),v("click",function(t){u(e);let l=d();return f(l.onActionButtonAdsRow(l.tableRowSelected,t))}),C(2,"i",76)(3,"br"),r(),a(4,"p",31),c(5),g(6,"translate"),r()()}i&2&&(o(5),h(" ",S(6,1,"ACTION.ADS")," "))}function dm(i,s){if(i&1){let e=I();a(0,"div",27)(1,"a",77),v("click",function(t){u(e);let l=d();return f(l.onActionButtonEditRow(l.tableRowSelected,t))}),C(2,"i",78)(3,"br"),r(),a(4,"p",31),c(5),g(6,"translate"),r()()}i&2&&(o(5),h(" ",S(6,1,"ACTION.EDIT")," "))}function pm(i,s){if(i&1){let e=I();a(0,"div",27)(1,"a",79),v("click",function(){u(e);let t=d();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",80)(3,"br"),r(),a(4,"p",31),c(5),g(6,"translate"),r()()}i&2&&(o(5),h(" ",S(6,1,"ACTION.DELETE")," "))}function mm(i,s){i&1&&(a(0,"mat-header-cell"),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.MENU")," "))}function um(i,s){if(i&1){let e=I();a(0,"mat-cell")(1,"button",81),v("click",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowSelectActionMenu(t))}),C(2,"i",82),r()()}}function fm(i,s){i&1&&(a(0,"mat-header-cell",83),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.PICTURE")," "))}function _m(i,s){if(i&1&&(C(0,"img",84),g(1,"cmsthumbnail")),i&2){let e=d().$implicit;_("src",k(S(1,2,e.linkMainImageIdSrc)),j)}}function Cm(i,s){if(i&1&&(a(0,"mat-cell"),y(1,_m,2,4,"img",84),r()),i&2){let e=s.$implicit;o(),E((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function hm(i,s){if(i&1&&(a(0,"mat-header-cell",83),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function gm(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function Sm(i,s){if(i&1&&(a(0,"mat-header-cell",83),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ym(i,s){if(i&1&&(a(0,"mat-cell"),c(1),g(2,"cmssiteinfo"),g(3,"async"),r()),i&2){let e=s.$implicit;o(),h(" ",S(3,3,S(2,1,e.linkSiteId))," ")}}function Em(i,s){if(i&1&&(a(0,"mat-header-cell",83),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Mm(i,s){if(i&1&&C(0,"select",86),i&2){let e=d().$implicit,n=d();_("contentService",n.contentService)("row",e)("ngStyle",te(3,Ia,e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)?"":"none"))}}function vm(i,s){if(i&1&&(a(0,"mat-cell",85),g(1,"statusCellClass"),C(2,"i",85),g(3,"statusIconClass"),y(4,Mm,1,5,"select",86),r()),i&2){let e=s.$implicit,n=d();_("ngClass",S(1,3,e.recordStatus)),o(2),_("ngClass",S(3,5,e.recordStatus)),o(2),E(!(n.dataModelResult==null||n.dataModelResult.access==null)&&n.dataModelResult.access.accessEditRow?4:-1)}}function Im(i,s){if(i&1&&(a(0,"mat-header-cell",83),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle," ")}}function bm(i,s){if(i&1&&(a(0,"mat-cell"),C(1,"i",85),g(2,"adminStatusIconClass"),r()),i&2){let e=s.$implicit;o(),_("ngClass",S(2,1,e.mainAdminRecordStatus))}}function wm(i,s){if(i&1&&(a(0,"mat-header-cell",83),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.isSoldIt==null?null:e.fieldsInfo.isSoldIt.fieldTitle," ")}}function Tm(i,s){if(i&1&&(a(0,"mat-cell"),C(1,"i",85),g(2,"boolclass"),r()),i&2){let e=s.$implicit;o(),_("ngClass",S(2,1,e.isSoldIt))}}function xm(i,s){if(i&1&&(a(0,"mat-header-cell",83),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.viewConfigHiddenInList==null?null:e.fieldsInfo.viewConfigHiddenInList.fieldTitle," ")}}function Am(i,s){if(i&1&&(a(0,"mat-cell"),C(1,"i",85),g(2,"boolclass"),r()),i&2){let e=s.$implicit;o(),_("ngClass",S(2,1,e.viewConfigHiddenInList))}}function Rm(i,s){if(i&1&&(a(0,"mat-header-cell",83),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.viewCount==null?null:e.fieldsInfo.viewCount.fieldTitle," ")}}function km(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.viewCount," ")}}function Pm(i,s){i&1&&(a(0,"mat-header-cell",83),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.Is_Special")," "))}function Lm(i,s){if(i&1&&(a(0,"mat-cell"),C(1,"i",85),g(2,"boolclass"),r()),i&2){let e=s.$implicit;o(),ae("color",e.adsActive?"#f7db25":"#ff0000"),_("ngClass",S(2,3,e.adsActive))}}function Dm(i,s){if(i&1&&(a(0,"mat-header-cell",83),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," ")}}function Vm(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.caseCode," ")}}function Om(i,s){if(i&1&&(a(0,"mat-header-cell",83),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Bm(i,s){if(i&1&&(a(0,"mat-cell",87),c(1),g(2,"localeDateTime"),r()),i&2){let e=s.$implicit;o(),h(" ",S(2,1,e.createdDate)," ")}}function Wm(i,s){if(i&1&&(a(0,"mat-header-cell",83),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Fm(i,s){if(i&1&&(a(0,"mat-cell",87),c(1),g(2,"localeDateTime"),r()),i&2){let e=s.$implicit;o(),h(" ",S(2,1,e.updatedDate)," ")}}function Nm(i,s){i&1&&(a(0,"mat-header-cell"),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.OPTION")," "))}function Hm(i,s){if(i&1&&(a(0,"mat-cell",88)(1,"button",89)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,2),r()),i&2){let e=L(5);o(),_("matMenuTriggerFor",e)}}function Gm(i,s){i&1&&(a(0,"mat-header-cell",83),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.LINKTO")," "))}function Um(i,s){if(i&1){let e=I();a(0,"mat-cell")(1,"button",90),v("click",function(){let t=u(e).$implicit,l=d();return f(l.onActionButtonLinkTo(t))}),a(2,"mat-icon",91),c(3,"\u2197"),r()()()}}function qm(i,s){i&1&&(a(0,"mat-header-cell",83),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.QUICK_VIEW")," "))}function jm(i,s){if(i&1){let e=I();a(0,"mat-cell")(1,"button",90),v("click",function(){let t=u(e).$implicit,l=d();return f(l.onActionButtonQuickViewRow(t))}),a(2,"mat-icon",91),c(3,"visibility"),r()()()}}function Qm(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function Ym(i,s){if(i&1&&(C(0,"img",92),g(1,"cmsthumbnail")),i&2){let e=d().$implicit;_("src",k(S(1,2,e.linkMainImageIdSrc)),j)}}function zm(i,s){if(i&1&&(a(0,"tr")(1,"td"),c(2),g(3,"translate"),r(),a(4,"td"),c(5),r()()),i&2){let e=d().$implicit;o(2),b(S(3,2,"TITLE.SquareMeters")),o(3),b(e.area)}}function Km(i,s){if(i&1&&(a(0,"tr")(1,"td"),c(2),g(3,"translate"),r(),a(4,"td"),c(5),r()()),i&2){let e=d().$implicit;o(2),b(S(3,2,"TITLE.CreatedYaer")),o(3),b(e.createdYaer)}}function Jm(i,s){if(i&1){let e=I();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),y(5,Ym,2,4,"img",92),r(),a(6,"th"),c(7),a(8,"span",93),v("click",function(){u(e);let t=d();return f(t.onActionCopied())}),C(9,"i",94),r()()(),a(10,"tr"),C(11,"td"),a(12,"td"),c(13),r()(),y(14,zm,6,4,"tr"),y(15,Km,6,4,"tr"),a(16,"tr"),C(17,"td"),a(18,"td"),c(19),r()(),a(20,"tr"),C(21,"td"),a(22,"td"),c(23),r()(),a(24,"tr")(25,"td"),c(26),g(27,"translate"),r(),a(28,"td"),c(29),r()(),a(30,"tr"),C(31,"td"),a(32,"td"),c(33),g(34,"cmsuserinfo"),g(35,"async"),r()(),a(36,"tr"),C(37,"td")(38,"td"),r()()()()}if(i&2){let e=s.$implicit;o(5),E((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),h(" ",e.id," "),o(),_("cdkCopyToClipboard",e.id),o(5),b(e.title),o(),E(e.area&&e.area>0?14:-1),o(),E(e.createdYaer&&e.createdYaer>0?15:-1),o(4),b(e.linkLocationIdParentTitle),o(4),b(e.linkLocationIdTitle),o(3),h("",S(27,11,"TITLE.Address"),":"),o(3),b(e.address),o(4),b(S(35,15,S(34,13,e.createdBy)))}}function Zm(i,s){i&1&&C(0,"mat-header-row")}function Xm(i,s){if(i&1){let e=I();a(0,"mat-row",95),v("click",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseLeave(t))}),r()}if(i&2){let e=s.$implicit,n=s.dataIndex,t=d();q("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function $m(i,s){if(i&1){let e=I();a(0,"mat-row",96),v("click",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseLeave(t))}),r()}if(i&2){let e=s.$implicit,n=s.dataIndex,t=d();q("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function e0(i,s){if(i&1){let e=I();a(0,"mat-row",97),v("click",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseLeave(t))}),r()}if(i&2){let e=s.$implicit,n=s.dataIndex,t=d();q("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),_("ngStyle",te(7,Ia,e.expanded===!0?"":"none"))}}function t0(i,s){if(i&1){let e=I();a(0,"div",70)(1,"button",98),v("click",function(){u(e);let t=d();return f(t.onFormCancel())}),C(2,"i",99),c(3),g(4,"translate"),r()()}i&2&&(o(3),h(" ",S(4,1,"ACTION.CANCEL")," "))}var Un=class Un extends Bt{constructor(e,n,t,l,p,m,O,J,$,Te,Ee,ke,St,at,xe){super(t,new di,at,O,ke);this.data=e;this.dialogRef=n;this.contentService=t;this.activatedRoute=l;this.cmsToastrService=p;this.cmsConfirmationDialogService=m;this.tokenHelper=O;this.cmsStoreService=J;this.themeService=$;this.router=Te;this.cdr=Ee;this.translate=ke;this.pageInfo=St;this.publicHelper=at;this.dialog=xe;this.requestSearchTitle="";this.requestSearchCustomerTel="";this.requestSearchCaseCode="";this.requestLinkPropertyTypeLanduseId="";this.requestLinkPropertyTypeUsageId="";this.requestLinkContractTypeId="";this.requestLinkBillboardId="";this.requestLinkCustomerOrderId="";this.requestLinkProjectId="";this.requestLinkUserId=0;this.requestInChecking=!1;this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.flag=!1;this.tablePropertySelected=[];this.searchInCheckingChecked=!1;this.filteModelContent=new me;this.filterDataModelQueryBuilder=[];this.formInfo=new be;this.optionsSearch=new $i;this.optionsStatist=new en;this.tokenInfo=new It;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","mainAdminRecordStatus","IsSoldIt","ViewConfigHiddenInList","linkSiteId","AdsActive","ViewCount","CaseCode","createdDate","updatedDate","LinkTo","QuickView","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IsSoldIt","CaseCode","LinkTo","QuickView","action_menu"];this.fieldsInfo=new Map;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,e&&(e.searchTitle&&(this.requestSearchTitle=e.searchTitle+""),e.searchCustomerTel&&(this.requestSearchCustomerTel=e.searchCustomerTel+""),e.searchCaseCode&&(this.requestSearchCaseCode=e.searchCaseCode+"")),this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId"),this.requestLinkPropertyTypeUsageId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeUsageId"),this.requestLinkContractTypeId=this.activatedRoute.snapshot.paramMap.get("LinkContractTypeId"),this.requestLinkBillboardId=this.activatedRoute.snapshot.paramMap.get("LinkBillboardId"),this.requestLinkCustomerOrderId=this.activatedRoute.snapshot.paramMap.get("LinkCustomerOrderId"),this.requestLinkProjectId=this.activatedRoute.snapshot.paramMap.get("LinkProjectId"),this.requestLinkUserId=+this.activatedRoute.snapshot.paramMap.get("LinkUserId")|0,this.activatedRoute.snapshot.paramMap.get("InChecking")&&(this.searchInCheckingChecked=this.activatedRoute.snapshot.paramMap.get("InChecking")==="true"),this.optionsSearch.parentMethods={onSubmit:D=>this.onSubmitOptionsSearch(D)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=ie.Descending,this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0){let D=new V;D.propertyName="LinkPropertyTypeLanduseId",D.value=this.requestLinkPropertyTypeLanduseId,this.filteModelContent.filters.push(D)}if(this.requestLinkPropertyTypeUsageId&&this.requestLinkPropertyTypeUsageId.length>0){let D=new V;D.propertyName="LinkPropertyTypeUsageId",D.value=this.requestLinkPropertyTypeUsageId,this.filteModelContent.filters.push(D)}if(this.requestLinkContractTypeId&&this.requestLinkContractTypeId.length>0){let D=new V;D.propertyName="Contracts",D.propertyAnyName="LinkEstateContractTypeId",D.value=this.requestLinkContractTypeId,this.filteModelContent.filters.push(D)}if(this.requestLinkUserId&&this.requestLinkUserId>0){let D=new V;D.propertyName="linkCmsUserId",D.value=this.requestLinkUserId,this.filteModelContent.filters.push(D)}if(this.requestLinkProjectId&&this.requestLinkProjectId.length>0){let D=new V;D.propertyName="linkPropertyProjectId",D.value=this.requestLinkProjectId,this.filteModelContent.filters.push(D)}if(this.requestSearchTitle&&this.requestSearchTitle.length>0){let D=new V;D.propertyName="title",D.value=this.requestSearchTitle,D.searchType=vt.Contains,this.filteModelContent.filters.push(D)}if(this.requestSearchCaseCode&&this.requestSearchCaseCode.length>0){let D=new V;D.propertyName="caseCode",D.value=this.requestSearchCaseCode,this.filteModelContent.filters.push(D)}if(this.requestSearchCustomerTel&&this.requestSearchCustomerTel.length>0){let D=new V,Ut=new V;Ut.propertyName="aboutCustomerTel",Ut.value=this.requestSearchCustomerTel,Ut.searchType=vt.Contains,Ut.clauseType=st.Or,D.filters.push(Ut);let De=new V;De.propertyName="aboutCustomerMobile",De.value=this.requestSearchCustomerTel,De.searchType=vt.Contains,De.clauseType=st.Or,D.filters.push(De),this.filteModelContent.filters.push(D)}}set optionLinkCustomerOrderId(e){e&&e.length>0&&(this.requestLinkCustomerOrderId=e)}set optionLinkBillboardId(e){e&&e.length>0&&(this.requestLinkBillboardId=e)}ngOnInit(){this.translate.get("TITLE.QUICK_VIEW").subscribe(e=>{this.formInfo.formTitle=e}),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;this.tableRowsSelected=[],this.onActionTableRowSelect(new di);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(n.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length>0){let t=new V;t.propertyName="LinkPropertyTypeLanduseId",t.value=this.categoryModelSelected.id,n.filters.push(t)}if(this.searchInCheckingChecked){let t=new V;t.propertyName="recordStatus",t.value=Ae.Available,t.searchType=vt.NotEqual,n.filters.push(t);let l=new V;l.propertyName="recordStatus",l.value=Ae.DeniedConfirmed,l.searchType=vt.NotEqual,n.filters.push(l)}this.requestLinkBillboardId&&this.requestLinkBillboardId.length>0?this.contentService.ServiceGetAllWithCoverBillboardId(this.requestLinkBillboardId,n).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}}):this.requestLinkCustomerOrderId?.length>0?this.contentService.ServiceGetAllWithCoverCustomerOrderId(this.requestLinkCustomerOrderId,n).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}}):this.contentService.ServiceGetAllEditor(n).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ie.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ie.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ie.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null&&this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length===0&&(this.requestLinkPropertyTypeLanduseId==null||this.requestLinkPropertyTypeLanduseId.length===0)){this.translate.get("MESSAGE.Content_not_selected").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.requestLinkPropertyTypeLanduseId;this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id),e&&e.length>0?this.router.navigate(["/estate/property/add/LinkPropertyTypeLanduseId",e]):this.router.navigate(["/estate/property/add"])}onActionSelectorSelect(e){var n=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new me,this.filteModelContent.sortColumn=n,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected,n){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}n?.ctrlKey?(this.link="/#/estate/property/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/edit",this.tableRowSelected.id])}onActionButtonQuickViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.publicHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Qo,{height:"90%",panelClass:n,enterAnimationDuration:N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonAdsRow(e=this.tableRowSelected,n){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}n?.ctrlKey?(this.link="/#/estate/property-ads/LinkPropertyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-ads/LinkPropertyId",this.tableRowSelected.id])}onActionButtonHistoryRow(e=this.tableRowSelected,n){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}n?.ctrlKey?(this.link="/#/estate/property-history/LinkPropertyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkPropertyId",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{n=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Deleting_information").subscribe(m=>{this.publicHelper.processService.processStart(p,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(p)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let n=new Map;n.set("Active",0),n.set("All",0),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(n.set("All",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(p.errorMessage)},error:p=>{this.cmsToastrService.typeError(p)}});let t=JSON.parse(JSON.stringify(this.filteModelContent)),l=new V;l.propertyName="recordStatus",l.value=Ae.Available,t.filters.push(l),this.contentService.ServiceGetCount(t).subscribe({next:p=>{p.isSuccess?(n.set("Active",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(p.errorMessage)},error:p=>{this.cmsToastrService.typeError(p)}})}onActionButtonActionSendSmsToCustomerOrder(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}let n=this.constructor.name+"main";this.translate.get("ACTION.ActionSendSmsToCustomerOrder").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.contentService.ServiceActionSendSmsToCustomerOrder(e.id).subscribe({next:t=>{t.isSuccess?this.cmsToastrService.typeSuccessMessage(t.errorMessage):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(n)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onActionButtonViewOtherUserAdvertise(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.requestLinkUserId=e.linkCmsUserId,this.requestLinkUserId&&this.requestLinkUserId>0){let n=new V;n.propertyName="linkCmsUserId",n.value=this.requestLinkUserId,this.filteModelContent.filters.push(n)}this.DataGetAll()}onActionButtonInChecking(e){this.searchInCheckingChecked=e,this.DataGetAll()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=Ae.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(e);let n=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Me.Editor),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(Ii,{height:"90%",panelClass:l,enterAnimationDuration:N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:N.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(n)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Un.\u0275fac=function(n){return new(n||Un)(M(Le),M(Ie),M(Xt),M(Zt),M(F),M(Vt),M(z),M(Y),M(ft),M(Mt),M(H),M(W),M(Dt),M(U),M(oe))},Un.\u0275cmp=B({type:Un,selectors:[["app-estate-property-quick-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkCustomerOrderId:"optionLinkCustomerOrderId",optionLinkBillboardId:"optionLinkBillboardId"},standalone:!1,features:[ee],decls:129,vars:56,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","mainAdminRecordStatus"],["matColumnDef","IsSoldIt"],["matColumnDef","ViewConfigHiddenInList"],["matColumnDef","ViewCount"],["matColumnDef","AdsActive"],["matColumnDef","CaseCode"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","QuickView"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["type","button",1,"btn","btn-outline-danger","BTN-text","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-bullseye-pointer","font-18",2,"color","#ffffff"],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){if(n&1){let l=I();a(0,"div",3),C(1,"app-progress-spinner",4),a(2,"div",5),c(3),r(),a(4,"div",6),y(5,em,1,1,"app-estate-billboard-header",7),y(6,tm,1,1,"app-estate-contract-type-header",7),y(7,im,1,1,"app-estate-customer-order-header",7),y(8,nm,1,1,"app-estate-property-type-landuse-header",7),y(9,om,1,1,"app-estate-property-type-usage-header",7),y(10,rm,1,1,"app-estate-property-project-header",7),a(11,"app-cms-html-list",8),x("optionActionGuideNoticeDisplayChange",function(m){return u(l),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),v("optionOnActionButtonMemoRow",function(){return u(l),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(l),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(l),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(l),f(t.onActionButtonPrintRow())}),A(12,9),a(13,"app-estate-property-type-landuse-tree",10),v("optionChange",function(m){return u(l),f(t.onActionSelectorSelect(m))}),r(),R(),Ue(14,11)(15,12),A(16,13),y(17,am,2,0,"a",14),a(18,"a",15),v("click",function(){return u(l),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(19,"i",16),r(),a(20,"a",15),v("click",function(){return u(l),f(t.onActionButtonReload())}),C(21,"i",17),r(),a(22,"a",18),v("click",function(){return u(l),f(t.onActionGridExpandRows(!0))}),C(23,"i",19),r(),a(24,"a",18),v("click",function(){return u(l),f(t.onActionGridExpandRows(!1))}),C(25,"i",20),r(),R(),A(26,21),a(27,"a",22)(28,"mat-slide-toggle",23),x("ngModelChange",function(m){return u(l),T(t.optionsSearch.data.show,m)||(t.optionsSearch.data.show=m),f(m)}),r(),c(29),g(30,"translate"),r(),a(31,"a",24),v("click",function(){return u(l),f(t.onActionButtonStatist())}),C(32,"mat-slide-toggle",25),c(33),g(34,"translate"),r(),a(35,"a",22),C(36,"mat-slide-toggle",25),c(37),g(38,"translate"),r(),R(),A(39,26),y(40,lm,7,3,"div",27),y(41,sm,7,3,"div",27),R(),A(42,28),y(43,cm,7,3,"div",27),y(44,dm,7,3,"div",27),y(45,pm,7,3,"div",27),a(46,"div",27)(47,"a",29),v("click",function(m){return u(l),f(t.onActionButtonHistoryRow(t.tableRowSelected,m))}),C(48,"i",30)(49,"br"),r(),a(50,"p",31),c(51),g(52,"translate"),r()(),a(53,"div",27)(54,"a",15),v("click",function(){return u(l),f(t.onActionButtonLinkTo(t.tableRowSelected))}),C(55,"i",32)(56,"br"),r(),a(57,"p",31),c(58),g(59,"translate"),r()(),R(),A(60,33),a(61,"app-cms-search-list",34),x("optionsChange",function(m){return u(l),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),r(),a(62,"app-cms-statist-list",34),x("optionsChange",function(m){return u(l),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),r(),R(),A(63,35),a(64,"mat-table",36,0),v("matSortChange",function(){u(l);let m=L(65);return f(t.onTableSortData(m))}),A(66,37),P(67,mm,3,3,"mat-header-cell",38)(68,um,3,0,"mat-cell",39),R(),A(69,40),P(70,fm,3,3,"mat-header-cell",41)(71,Cm,2,1,"mat-cell",39),R(),A(72,42),P(73,hm,2,1,"mat-header-cell",41)(74,gm,2,1,"mat-cell",39),R(),A(75,43),P(76,Sm,2,1,"mat-header-cell",41)(77,ym,4,5,"mat-cell",39),R(),A(78,44),P(79,Em,2,1,"mat-header-cell",41)(80,vm,5,7,"mat-cell",45),R(),A(81,46),P(82,Im,2,1,"mat-header-cell",41)(83,bm,3,3,"mat-cell",39),R(),A(84,47),P(85,wm,2,1,"mat-header-cell",41)(86,Tm,3,3,"mat-cell",39),R(),A(87,48),P(88,xm,2,1,"mat-header-cell",41)(89,Am,3,3,"mat-cell",39),R(),A(90,49),P(91,Rm,2,1,"mat-header-cell",41)(92,km,2,1,"mat-cell",39),R(),A(93,50),P(94,Pm,3,3,"mat-header-cell",41)(95,Lm,3,5,"mat-cell",39),R(),A(96,51),P(97,Dm,2,1,"mat-header-cell",41)(98,Vm,2,1,"mat-cell",39),R(),A(99,52),P(100,Om,2,1,"mat-header-cell",41)(101,Bm,3,3,"mat-cell",53),R(),A(102,54),P(103,Wm,2,1,"mat-header-cell",41)(104,Fm,3,3,"mat-cell",53),R(),A(105,55),P(106,Nm,3,3,"mat-header-cell",38)(107,Hm,6,1,"mat-cell",56),R(),A(108,57),P(109,Gm,3,3,"mat-header-cell",41)(110,Um,4,0,"mat-cell",39),R(),A(111,58),P(112,qm,3,3,"mat-header-cell",41)(113,jm,4,0,"mat-cell",39),R(),A(114,59),P(115,Qm,2,1,"mat-cell",39),R(),A(116,60),P(117,Jm,39,17,"mat-cell",39),R(),P(118,Zm,1,0,"mat-header-row",61)(119,Xm,1,6,"mat-row",62)(120,$m,1,6,"mat-row",63)(121,e0,1,9,"mat-row",64),r(),R(),A(122,65),a(123,"mat-paginator",66,1),v("page",function(m){return u(l),f(t.onTablePageingData(m))}),r(),R(),r()(),a(125,"div",67),C(126,"app-cms-form-result-message",68),r(),a(127,"div",69),y(128,t0,5,3,"div",70),r()()}n&2&&(o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(2),h(" ",t.formInfo.formTitle," "),o(2),E((t.requestLinkBillboardId==null?null:t.requestLinkBillboardId.length)>0?5:-1),o(),E((t.requestLinkContractTypeId==null?null:t.requestLinkContractTypeId.length)>0?6:-1),o(),E((t.requestLinkCustomerOrderId==null?null:t.requestLinkCustomerOrderId.length)>0?7:-1),o(),E((t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0?8:-1),o(),E((t.requestLinkPropertyTypeUsageId==null?null:t.requestLinkPropertyTypeUsageId.length)>0?9:-1),o(),E((t.requestLinkProjectId==null?null:t.requestLinkProjectId.length)>0?10:-1),o(),_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),E((t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0?17:-1),o(11),w("ngModel",t.optionsSearch.data.show),o(),h("",S(30,43,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",S(34,45,"ACTION.STATIST")," "),o(3),_("checked",t.searchInCheckingChecked),o(),h(" ",S(38,47,"ACTION.INCHECKING")," "),o(3),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&t.optionloadByRoute?40:-1),o(),E(t.tokenHelper.isAdminSite&&t.optionloadByRoute&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?41:-1),o(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?43:-1),o(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?44:-1),o(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?45:-1),o(6),h(" ",S(52,49,"ACTION.HISTORY")," "),o(7),h(" ",S(59,51,"TITLE.LINKTO")," "),o(3),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(54),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",Z(53,Zp)),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(),_("matRowDefColumns",Z(54,Xp)),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Z(55,$p)),o(3),_("formInfo",t.formInfo),o(2),E(t.formInfo.submitButtonEnabled?128:-1))},dependencies:[se,Ce,ne,ce,Pe,Se,le,Tt,Zr,xt,At,Rt,kt,Pt,Je,Xe,it,$e,Ze,nt,et,tt,ot,rt,wt,Wt,Ft,K,we,Nt,Ht,ti,Yo,An,kn,Ln,Vn,Bn,Gn,We,G,ei,ii,de,Ji,ni,zo,oi,hi],encapsulation:2});var Pi=Un;var i0=["vform"],n0=i=>({direction:i}),o0=()=>["descriptionDetail"];function r0(i,s){i&1&&(a(0,"p"),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.Property_Type")," "))}function a0(i,s){if(i&1){let e=I();a(0,"div",38)(1,"a",39),v("click",function(){let t=u(e).$implicit,l=d(2);return f(l.onActionSelectorSelectLanduse(t))}),c(2),r()()}if(i&2){let e=s.$implicit,n=d(2);o(),_("ngClass",e.id===n.dataModel.linkPropertyTypeLanduseId?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),li("disabled",n.fieldsInfo.linkPropertyTypeLanduseId!=null&&n.fieldsInfo.linkPropertyTypeLanduseId.accessAddField?null:!0),o(),b(e.titleML)}}function l0(i,s){if(i&1&&(a(0,"div",25),dt(1,a0,3,3,"div",38,ct),r()),i&2){let e=d();o(),pt(e.listTypeLanduse)}}function s0(i,s){if(i&1){let e=I();a(0,"app-estate-property-type-landuse-selector",40),g(1,"translate"),v("optionChange",function(t){u(e);let l=d();return f(l.onActionSelectorSelectLanduse(t))}),r()}if(i&2){let e=d();_("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseId!=null&&e.fieldsInfo.linkPropertyTypeLanduseId.accessAddField))("optionTypeView",2)("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",S(1,5,"TITLE.Property_Type"))("optionTypeUsageId",e.dataModel.linkPropertyTypeUsageId)}}function c0(i,s){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2){let e=d(3);o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),b(S(4,2,"MESSAGE.required"))}}function d0(i,s){if(i&1){let e=I();a(0,"div",28)(1,"label",51),c(2),r(),a(3,"input",52,3),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.dataModel.title,t)||(l.dataModel.title=t),f(t)}),r(),a(5,"em"),c(6),r(),y(7,c0,5,4,"mat-error"),r()}if(i&2){let e=L(4),n=d(2);o(2),b(n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle),o(),_("disabled",k(!(n.fieldsInfo.title!=null&&n.fieldsInfo.title.accessAddField)))("placeholder",k(n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle)),w("ngModel",n.dataModel.title),o(3),h("",e.value.length," / 100"),o(),E(e.errors!=null&&e.errors.required?7:-1)}}function p0(i,s){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2){let e=d(3);o(),h(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," "),o(2),b(S(4,2,"MESSAGE.required"))}}function m0(i,s){if(i&1){let e=I();a(0,"div",28)(1,"label",53),c(2),r(),a(3,"input",54,4),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.dataModel.caseCode,t)||(l.dataModel.caseCode=t),f(t)}),r(),a(5,"em"),c(6),r(),y(7,p0,5,4,"mat-error"),r()}if(i&2){let e=L(4),n=d(2);o(2),b(n.fieldsInfo.caseCode==null?null:n.fieldsInfo.caseCode.fieldTitle),o(),_("disabled",k(!(n.fieldsInfo.caseCode!=null&&n.fieldsInfo.caseCode.accessAddField)))("placeholder",k(n.fieldsInfo.caseCode==null?null:n.fieldsInfo.caseCode.fieldTitle)),w("ngModel",n.dataModel.caseCode),o(3),h("",e.value.length," / 100"),o(),E(e.errors!=null&&e.errors.required?7:-1)}}function u0(i,s){if(i&1){let e=I();a(0,"div",28)(1,"label",55),c(2),r(),a(3,"input",56,5),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.dataModel.createdYaer,t)||(l.dataModel.createdYaer=t),f(t)}),r()()}if(i&2){let e=d(2);o(2),b(e.PropertyTypeSelected.titleCreatedYaer),o(),_("placeholder",k(e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle)),w("ngModel",e.dataModel.createdYaer)}}function f0(i,s){if(i&1){let e=I();a(0,"div",28)(1,"label",57),c(2),r(),a(3,"input",58,6),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.dataModel.partition,t)||(l.dataModel.partition=t),f(t)}),r()()}if(i&2){let e=d(2);o(2),b(e.PropertyTypeSelected.titlePartition),o(),_("placeholder",k(e.PropertyTypeSelected.titlePartition)),w("ngModel",e.dataModel.partition)}}function _0(i,s){if(i&1){let e=I();a(0,"div",28)(1,"label",59),c(2),r(),a(3,"input",60,7),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.dataModel.area,t)||(l.dataModel.area=t),f(t)}),r()()}if(i&2){let e=d(2);o(2),b(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle),o(),_("disabled",k(!(e.fieldsInfo.area!=null&&e.fieldsInfo.area.accessAddField)))("placeholder",k(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle)),w("ngModel",e.dataModel.area)}}function C0(i,s){if(i&1){let e=I();a(0,"div",28)(1,"label",61),c(2),r(),a(3,"textarea",62,8),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.dataModel.address,t)||(l.dataModel.address=t),f(t)}),r(),a(5,"em"),c(6),r()()}if(i&2){let e=L(4),n=d(2);o(2),b(n.fieldsInfo.address==null?null:n.fieldsInfo.address.fieldTitle),o(),_("placeholder",k(n.fieldsInfo.address==null?null:n.fieldsInfo.address.fieldTitle)),w("ngModel",n.dataModel.address),_("disabled",!(n.fieldsInfo.address!=null&&n.fieldsInfo.address.accessAddField)),o(3),h("",e.value.length," / 500")}}function h0(i,s){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2){let e=d(2);o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),b(S(4,2,"MESSAGE.required"))}}function g0(i,s){if(i&1){let e=I();a(0,"div"),y(1,d0,8,8,"div",28),y(2,m0,8,8,"div",28),a(3,"div",41)(4,"div",42)(5,"h5",43),c(6),r()(),a(7,"div",44)(8,"div",45)(9,"input",46),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.viewConfigHiddenInList,t)||(l.dataModel.viewConfigHiddenInList=t),f(t)}),r(),C(10,"label",47),r()()(),y(11,u0,5,4,"div",28),y(12,f0,5,4,"div",28),y(13,_0,5,6,"div",28),a(14,"app-cms-location-selector",48),g(15,"translate"),v("optionChange",function(t){u(e);let l=d();return f(l.onActionSelectorLocation(t))}),r(),y(16,C0,7,6,"div",28),a(17,"div",28)(18,"label",49),c(19),g(20,"translate"),r(),a(21,"textarea",50,2),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.description,t)||(l.dataModel.description=t),f(t)}),r(),a(23,"em"),c(24),r(),y(25,h0,5,4,"mat-error"),r()()}if(i&2){let e=L(22),n=d();o(),E(n.fieldsInfo.title!=null&&n.fieldsInfo.title.accessWatchField?1:-1),o(),E(n.fieldsInfo.caseCode!=null&&n.fieldsInfo.caseCode.accessWatchField?2:-1),o(4),h(" ",n.fieldsInfo.viewConfigHiddenInList==null?null:n.fieldsInfo.viewConfigHiddenInList.fieldTitle," "),o(3),w("ngModel",n.dataModel.viewConfigHiddenInList),o(2),E(n.dataModel.linkPropertyTypeLanduseId&&n.PropertyTypeSelected.titleCreatedYaer.length>1&&n.PropertyTypeSelected.titleCreatedYaer!=="---"?11:-1),o(),E(n.dataModel.linkPropertyTypeLanduseId&&n.PropertyTypeSelected.titlePartition.length>1&&n.PropertyTypeSelected.titleCreatedYaer!=="---"?12:-1),o(),E(n.fieldsInfo.area!=null&&n.fieldsInfo.area.accessWatchField?13:-1),o(),_("optionDisabled",!(n.fieldsInfo.linkLocationId!=null&&n.fieldsInfo.linkLocationId.accessAddField))("optionSelectForce",n.dataModel.linkLocationId)("optionPlaceholder",S(15,19,"TITLE.Region")),o(2),E(n.fieldsInfo.address!=null&&n.fieldsInfo.address.accessWatchField?16:-1),o(3),b(S(20,21,"TITLE.General_Description")),o(2),_("disabled",k(!(n.fieldsInfo.description!=null&&n.fieldsInfo.description.accessAddField)))("placeholder",k(n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle)),w("ngModel",n.dataModel.description),o(3),h("",e.value.length," / 2000"),o(),E(e.errors!=null&&e.errors.required?25:-1)}}function S0(i,s){if(i&1&&(a(0,"button",64),c(1),g(2,"translate"),r()),i&2){d(2);let e=L(12);_("disabled",!e.form.valid),o(),h(" ",S(2,2,"ACTION.NEXT")," ")}}function y0(i,s){if(i&1){let e=I();a(0,"div",27)(1,"button",63),v("click",function(){u(e);let t=d();return f(t.onActionBackToParent())}),c(2),g(3,"translate"),r(),y(4,S0,3,4,"button",64),r()}if(i&2){let e=d();o(2),h(" ",S(3,2,"ACTION.CANCEL")," "),o(2),E(e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0?4:-1)}}function E0(i,s){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2){let e=d(3);o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," "),o(2),b(S(4,2,"MESSAGE.required"))}}function M0(i,s){if(i&1){let e=I();a(0,"div",28)(1,"label",72),c(2),r(),a(3,"input",73,9),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.dataModel.linkSiteId,t)||(l.dataModel.linkSiteId=t),f(t)}),r(),a(5,"em"),c(6),r(),y(7,E0,5,4,"mat-error"),r()}if(i&2){let e=L(4),n=d(2);o(2),b(n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle),o(),_("disabled",k(!(n.fieldsInfo.linkSiteId!=null&&n.fieldsInfo.linkSiteId.accessAddField)))("placeholder",k(n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle)),w("ngModel",n.dataModel.linkSiteId),o(3),h("",e.value.length," / 100"),o(),E(e.errors!=null&&e.errors.required?7:-1)}}function v0(i,s){if(i&1){let e=I();a(0,"app-cms-enum-record-admin-status-selector",74),x("modelChange",function(t){u(e);let l=d(2);return T(l.dataModel.mainAdminRecordStatus,t)||(l.dataModel.mainAdminRecordStatus=t),f(t)}),r()}if(i&2){let e=d(2);w("model",e.dataModel.mainAdminRecordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function I0(i,s){if(i&1&&(a(0,"button",64),c(1),g(2,"translate"),r()),i&2){d(3);let e=L(12);_("disabled",!e.form.valid),o(),h(" ",S(2,2,"ACTION.NEXT")," ")}}function b0(i,s){if(i&1&&(a(0,"div",27)(1,"button",75),c(2),g(3,"translate"),r(),y(4,I0,3,4,"button",64),r()),i&2){let e=d(2);o(2),h(" ",S(3,2,"ACTION.BEFOR")," "),o(2),E(e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0?4:-1)}}function w0(i,s){if(i&1){let e=I();a(0,"mat-step",23),g(1,"translate"),y(2,M0,8,8,"div",28),a(3,"div",41)(4,"div",42)(5,"h5",65),c(6),r()(),a(7,"div",44)(8,"div",45)(9,"input",66),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.viewContentHidden,t)||(l.dataModel.viewContentHidden=t),f(t)}),r(),C(10,"label",67),r()()(),a(11,"div",41)(12,"div",42)(13,"h5",68),c(14),r()(),a(15,"div",44)(16,"div",45)(17,"input",69),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.siteAdminViewContentHidden,t)||(l.dataModel.siteAdminViewContentHidden=t),f(t)}),r(),C(18,"label",70),r()()(),y(19,v0,1,5,"app-cms-enum-record-admin-status-selector",71),y(20,b0,5,4,"div",27),r()}if(i&2){let e=d();_("label",k(S(1,9,"TITLE.Admin_Config"))),o(2),E(e.fieldsInfo.linkSiteId!=null&&e.fieldsInfo.linkSiteId.accessWatchField&&e.tokenHelper.isAdminSite?2:-1),o(4),h(" ",e.fieldsInfo.viewContentHidden==null?null:e.fieldsInfo.viewContentHidden.fieldTitle," "),o(3),w("ngModel",e.dataModel.viewContentHidden),o(5),h(" ",e.fieldsInfo.siteAdminViewContentHidden==null?null:e.fieldsInfo.siteAdminViewContentHidden.fieldTitle," "),o(3),w("ngModel",e.dataModel.siteAdminViewContentHidden),o(2),E(e.fieldsInfo.mainAdminRecordStatus!=null&&e.fieldsInfo.mainAdminRecordStatus.accessWatchField?19:-1),o(),E(e.formInfo.submitButtonEnabled?20:-1)}}function T0(i,s){if(i&1){let e=I();a(0,"div",28)(1,"label",76),c(2),r(),a(3,"input",77,10),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.aboutCustomerMobile,t)||(l.dataModel.aboutCustomerMobile=t),f(t)}),r(),a(5,"em"),c(6),r()()}if(i&2){let e=L(4),n=d();o(2),b(n.fieldsInfo.aboutCustomerMobile==null?null:n.fieldsInfo.aboutCustomerMobile.fieldTitle),o(),_("disabled",k(!(n.fieldsInfo.aboutCustomerMobile!=null&&n.fieldsInfo.aboutCustomerMobile.accessAddField)))("placeholder",k(n.fieldsInfo.aboutCustomerMobile==null?null:n.fieldsInfo.aboutCustomerMobile.fieldTitle)),w("ngModel",n.dataModel.aboutCustomerMobile),o(3),h("",e.value.length," / 100")}}function x0(i,s){if(i&1){let e=I();a(0,"div",28)(1,"label",78),c(2),r(),a(3,"input",79,11),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.aboutCustomerTel,t)||(l.dataModel.aboutCustomerTel=t),f(t)}),r(),a(5,"em"),c(6),r()()}if(i&2){let e=L(4),n=d();o(2),b(n.fieldsInfo.aboutCustomerTel==null?null:n.fieldsInfo.aboutCustomerTel.fieldTitle),o(),_("disabled",k(!(n.fieldsInfo.aboutCustomerTel!=null&&n.fieldsInfo.aboutCustomerTel.accessAddField)))("placeholder",k(n.fieldsInfo.aboutCustomerTel==null?null:n.fieldsInfo.aboutCustomerTel.fieldTitle)),w("ngModel",n.dataModel.aboutCustomerTel),o(3),h("",e.value.length," / 100")}}function A0(i,s){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2){let e=d(2);o(),h(" ",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.fieldTitle," "),o(2),b(S(4,2,"MESSAGE.required"))}}function R0(i,s){if(i&1){let e=I();a(0,"div",28)(1,"label",80),c(2),g(3,"translate"),r(),a(4,"textarea",81,12),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.descriptionHidden,t)||(l.dataModel.descriptionHidden=t),f(t)}),r(),a(6,"em"),c(7),r(),y(8,A0,5,4,"mat-error"),r()}if(i&2){let e=L(5),n=d();o(2),b(S(3,6,"TITLE.Description_Hidden")),o(2),_("placeholder",k(n.fieldsInfo.descriptionHidden==null?null:n.fieldsInfo.descriptionHidden.fieldTitle)),w("ngModel",n.dataModel.descriptionHidden),o(3),h("",e.value.length," / 2000"),o(),E(e.errors!=null&&e.errors.required?8:-1)}}function k0(i,s){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2){let e=d(2);o(),h(" ",e.fieldsInfo.addressHidden==null?null:e.fieldsInfo.addressHidden.fieldTitle," "),o(2),b(S(4,2,"MESSAGE.required"))}}function P0(i,s){if(i&1){let e=I();a(0,"div",28)(1,"label",82),c(2),g(3,"translate"),r(),a(4,"textarea",83,13),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.addressHidden,t)||(l.dataModel.addressHidden=t),f(t)}),r(),a(6,"em"),c(7),r(),y(8,k0,5,4,"mat-error"),r()}if(i&2){let e=L(5),n=d();o(2),b(S(3,6,"TITLE.Address_Hidden")),o(2),_("placeholder",k(n.fieldsInfo.addressHidden==null?null:n.fieldsInfo.addressHidden.fieldTitle)),w("ngModel",n.dataModel.addressHidden),o(3),h("",e.value.length," / 2000"),o(),E(e.errors!=null&&e.errors.required?8:-1)}}function L0(i,s){if(i&1&&(a(0,"button",64),c(1),g(2,"translate"),r()),i&2){d(2);let e=L(12);_("disabled",!e.form.valid),o(),h(" ",S(2,2,"ACTION.NEXT")," ")}}function D0(i,s){if(i&1&&(a(0,"div",27)(1,"button",75),c(2),g(3,"translate"),r(),y(4,L0,3,4,"button",64),r()),i&2){let e=d();o(2),h(" ",S(3,2,"ACTION.BEFOR")," "),o(2),E(e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0?4:-1)}}function V0(i,s){if(i&1){let e=I();a(0,"div",91)(1,"div",41)(2,"div",42)(3,"h5",92),c(4),g(5,"translate"),r()(),a(6,"div",44)(7,"div",45)(8,"input",93),x("ngModelChange",function(t){u(e);let l=d(4);return T(l.contractDataModel.salePriceByAgreement,t)||(l.contractDataModel.salePriceByAgreement=t),f(t)}),r(),C(9,"label",94),r()()()()}if(i&2){let e=d(4);o(4),h(" ",S(5,2,"TITLE.Agreement")," "),o(4),w("ngModel",e.contractDataModel.salePriceByAgreement)}}function O0(i,s){if(i&1){let e=I();a(0,"div",85)(1,"div",88)(2,"div",28)(3,"label",89),c(4),r(),a(5,"input",90),x("ngModelChange",function(t){u(e);let l=d(3);return T(l.contractDataModel.salePrice,t)||(l.contractDataModel.salePrice=t),f(t)}),r(),a(6,"label"),c(7),r()()(),y(8,V0,10,4,"div",91),r()}if(i&2){let e=d(3);o(4),b(e.contractTypeSelected.titleSalePriceML),o(),w("ngModel",e.contractDataModel.salePrice),_("disabled",e.contractDataModel.salePriceByAgreement),o(2),Q(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),E(e.contractTypeSelected.salePriceAllowAgreement?8:-1)}}function B0(i,s){if(i&1){let e=I();a(0,"div",91)(1,"div",41)(2,"div",42)(3,"h5",97),c(4),g(5,"translate"),r()(),a(6,"div",44)(7,"div",45)(8,"input",98),x("ngModelChange",function(t){u(e);let l=d(4);return T(l.contractDataModel.depositPriceByAgreement,t)||(l.contractDataModel.depositPriceByAgreement=t),f(t)}),r(),C(9,"label",99),r()()()()}if(i&2){let e=d(4);o(4),h(" ",S(5,2,"TITLE.Agreement")," "),o(4),w("ngModel",e.contractDataModel.depositPriceByAgreement)}}function W0(i,s){if(i&1){let e=I();a(0,"div",85)(1,"div",88)(2,"div",28)(3,"label",95),c(4),r(),a(5,"input",96),x("ngModelChange",function(t){u(e);let l=d(3);return T(l.contractDataModel.depositPrice,t)||(l.contractDataModel.depositPrice=t),f(t)}),r(),a(6,"label"),c(7),r()()(),y(8,B0,10,4,"div",91),r()}if(i&2){let e=d(3);o(4),b(e.contractTypeSelected.titleDepositPriceML),o(),w("ngModel",e.contractDataModel.depositPrice),_("disabled",e.contractDataModel.depositPriceByAgreement),o(2),Q(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),E(e.contractTypeSelected.depositPriceAllowAgreement?8:-1)}}function F0(i,s){if(i&1){let e=I();a(0,"div",91)(1,"div",41)(2,"div",42)(3,"h5",102),c(4),g(5,"translate"),r()(),a(6,"div",44)(7,"div",45)(8,"input",103),x("ngModelChange",function(t){u(e);let l=d(4);return T(l.contractDataModel.rentPriceByAgreement,t)||(l.contractDataModel.rentPriceByAgreement=t),f(t)}),r(),C(9,"label",104),r()()()()}if(i&2){let e=d(4);o(4),h(" ",S(5,2,"TITLE.Agreement")," "),o(4),w("ngModel",e.contractDataModel.rentPriceByAgreement)}}function N0(i,s){if(i&1){let e=I();a(0,"div",85)(1,"div",88)(2,"div",28)(3,"label",100),c(4),r(),a(5,"input",101),x("ngModelChange",function(t){u(e);let l=d(3);return T(l.contractDataModel.rentPrice,t)||(l.contractDataModel.rentPrice=t),f(t)}),r(),a(6,"label"),c(7),r()()(),y(8,F0,10,4,"div",91),r()}if(i&2){let e=d(3);o(4),b(e.contractTypeSelected.titleRentPriceML),o(),w("ngModel",e.contractDataModel.rentPrice),_("disabled",e.contractDataModel.rentPriceByAgreement),o(2),Q(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),E(e.contractTypeSelected.rentPriceAllowAgreement?8:-1)}}function H0(i,s){if(i&1){let e=I();a(0,"div",91)(1,"div",41)(2,"div",42)(3,"h5",107),c(4),g(5,"translate"),r()(),a(6,"div",44)(7,"div",45)(8,"input",108),x("ngModelChange",function(t){u(e);let l=d(4);return T(l.contractDataModel.periodPriceByAgreement,t)||(l.contractDataModel.periodPriceByAgreement=t),f(t)}),r(),C(9,"label",109),r()()()()}if(i&2){let e=d(4);o(4),h(" ",S(5,2,"TITLE.Agreement")," "),o(4),w("ngModel",e.contractDataModel.periodPriceByAgreement)}}function G0(i,s){if(i&1){let e=I();a(0,"div",85)(1,"div",88)(2,"div",28)(3,"label",105),c(4),r(),a(5,"input",106),x("ngModelChange",function(t){u(e);let l=d(3);return T(l.contractDataModel.periodPrice,t)||(l.contractDataModel.periodPrice=t),f(t)}),r(),a(6,"label"),c(7),r()()(),y(8,H0,10,4,"div",91),r()}if(i&2){let e=d(3);o(4),b(e.contractTypeSelected.titlePeriodPriceML),o(),w("ngModel",e.contractDataModel.periodPrice),_("disabled",e.contractDataModel.periodPriceByAgreement),o(2),Q(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),E(e.contractTypeSelected.hasPeriodPrice&&e.contractTypeSelected.periodPriceAllowAgreement?8:-1)}}function U0(i,s){if(i&1){let e=I();a(0,"div"),y(1,O0,9,6,"div",85),y(2,W0,9,6,"div",85),y(3,N0,9,6,"div",85),y(4,G0,9,6,"div",85),C(5,"hr"),a(6,"div",28)(7,"label",86),c(8),r(),a(9,"textarea",87,14),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.contractDataModel.description,t)||(l.contractDataModel.description=t),f(t)}),r(),a(11,"em"),c(12),r()()()}if(i&2){let e=L(10),n=d(2);o(),E(n.contractTypeSelected.hasSalePrice?1:-1),o(),E(n.contractTypeSelected.hasDepositPrice?2:-1),o(),E(n.contractTypeSelected.hasRentPrice?3:-1),o(),E(n.contractTypeSelected.hasPeriodPrice?4:-1),o(4),b(n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle),o(),_("placeholder",k(n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle)),w("ngModel",n.contractDataModel.description),o(3),h("",e.value.length," / 500")}}function q0(i,s){if(i&1){let e=I();a(0,"div",31),C(1,"br")(2,"br"),a(3,"app-cms-currency-selector",84),g(4,"translate"),v("optionChange",function(t){u(e);let l=d();return f(l.onActionSelectCurrency(t))}),r(),y(5,U0,13,9,"div"),C(6,"br")(7,"br"),r()}if(i&2){let e=d();o(3),_("optionSelectFirstItem",e.currencyOptionSelectFirstItem)("optionSelectForce",e.contractDataModel.linkCoreCurrencyId)("optionPlaceholder",S(4,4,"TITLE.Specify_the_transaction_currency")),o(2),E(e.contractDataModel.linkCoreCurrencyId>0?5:-1)}}function j0(i,s){if(i&1){let e=I();a(0,"button",110),v("click",function(){u(e);let t=d();return f(t.onActionOptionAddToList())}),c(1),g(2,"translate"),r()}i&2&&(o(),h(" ",S(2,1,"ACTION.Add_To_List")," ... "))}function Q0(i,s){i&1&&(a(0,"mat-header-cell"),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.Contract")," "))}function Y0(i,s){if(i&1&&(a(0,"mat-cell"),c(1),g(2,"cmstitle"),r()),i&2){let e=s.$implicit,n=d(2);o(),h(" ",Rr(2,1,e.linkEstateContractTypeId,n.dataModelEstateContractTypeResult.listItems)," ")}}function z0(i,s){i&1&&(a(0,"mat-header-cell"),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.SalePrice")," "))}function K0(i,s){if(i&1&&(c(0),g(1,"number"),C(2,"br"),c(3)),i&2){let e=d().$implicit;h(" ",S(1,3,e.salePrice)," "),o(3),Q(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function J0(i,s){i&1&&(c(0),g(1,"translate")),i&2&&h(" ",S(1,1,"TITLE.PriceByAgreement")," ")}function Z0(i,s){if(i&1&&(a(0,"mat-cell"),y(1,K0,4,5),y(2,J0,2,3),r()),i&2){let e=s.$implicit;o(),E(e.salePrice>0?1:-1),o(),E(e.salePriceByAgreement?2:-1)}}function X0(i,s){i&1&&(a(0,"mat-header-cell"),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.DepositPrice")," "))}function $0(i,s){if(i&1&&(c(0),g(1,"number"),C(2,"br"),c(3)),i&2){let e=d().$implicit;h(" ",S(1,3,e.depositPrice)," "),o(3),Q(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function eu(i,s){i&1&&(c(0),g(1,"translate")),i&2&&h(" ",S(1,1,"TITLE.PriceByAgreement")," ")}function tu(i,s){if(i&1&&(a(0,"mat-cell"),y(1,$0,4,5),y(2,eu,2,3),r()),i&2){let e=s.$implicit;o(),E(e.depositPrice>0?1:-1),o(),E(e.depositPriceByAgreement?2:-1)}}function iu(i,s){i&1&&(a(0,"mat-header-cell"),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.RentPrice")," "))}function nu(i,s){if(i&1&&(c(0),g(1,"number"),C(2,"br"),c(3)),i&2){let e=d().$implicit;h(" ",S(1,3,e.rentPrice)," "),o(3),Q(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function ou(i,s){i&1&&(c(0),g(1,"translate")),i&2&&h(" ",S(1,1,"TITLE.PriceByAgreement")," ")}function ru(i,s){if(i&1&&(a(0,"mat-cell"),y(1,nu,4,5),y(2,ou,2,3),r()),i&2){let e=s.$implicit;o(),E(e.rentPrice>0?1:-1),o(),E(e.rentPriceByAgreement?2:-1)}}function au(i,s){i&1&&(a(0,"mat-header-cell"),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.PeriodPrice")," "))}function lu(i,s){if(i&1&&(c(0),g(1,"number"),C(2,"br"),c(3)),i&2){let e=d().$implicit;h(" ",S(1,3,e.periodPrice)," "),o(3),Q(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function su(i,s){i&1&&(c(0),g(1,"translate")),i&2&&h(" ",S(1,1,"TITLE.PriceByAgreement")," ")}function cu(i,s){if(i&1&&(a(0,"mat-cell"),y(1,lu,4,5),y(2,su,2,3),r()),i&2){let e=s.$implicit;o(),E(e.periodPrice>0?1:-1),o(),E(e.periodPriceByAgreement?2:-1)}}function du(i,s){i&1&&(a(0,"mat-header-cell"),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.OPTION")," "))}function pu(i,s){if(i&1){let e=I();a(0,"mat-cell",125)(1,"button",126),v("click",function(){let t=u(e).index,l=d(2);return f(l.onActionOptionRemoveFromList(t))}),a(2,"small")(3,"mat-icon",127),g(4,"translate"),c(5,"delete"),r()()()()}i&2&&(o(3),_("matTooltip",k(S(4,2,"ACTION.DELETE"))))}function mu(i,s){if(i&1&&c(0),i&2){let e=d().$implicit;h(" ",e.description," ")}}function uu(i,s){if(i&1&&(a(0,"mat-cell",128),c(1),g(2,"translate"),y(3,mu,1,1),r()),i&2){let e=s.$implicit;o(),h(" ",S(2,2,"TITLE.DESCRIPTION")," : "),o(2),E(e.description?3:-1)}}function fu(i,s){i&1&&C(0,"mat-header-row")}function _u(i,s){if(i&1&&C(0,"mat-row"),i&2){let e=s.dataIndex;q("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function Cu(i,s){if(i&1&&C(0,"mat-row"),i&2){let e=s.dataIndex;q("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function hu(i,s){if(i&1&&(a(0,"div",33)(1,"mat-table",111),A(2,112),P(3,Q0,3,3,"mat-header-cell",113)(4,Y0,3,4,"mat-cell",114),R(),A(5,115),P(6,z0,3,3,"mat-header-cell",113)(7,Z0,3,2,"mat-cell",114),R(),A(8,116),P(9,X0,3,3,"mat-header-cell",113)(10,tu,3,2,"mat-cell",114),R(),A(11,117),P(12,iu,3,3,"mat-header-cell",113)(13,ru,3,2,"mat-cell",114),R(),A(14,118),P(15,au,3,3,"mat-header-cell",113)(16,cu,3,2,"mat-cell",114),R(),A(17,119),P(18,du,3,3,"mat-header-cell",113)(19,pu,6,4,"mat-cell",120),R(),A(20,121),P(21,uu,4,4,"mat-cell",122),R(),P(22,fu,1,0,"mat-header-row",123)(23,_u,1,4,"mat-row",124)(24,Cu,1,4,"mat-row",124),r()()),i&2){let e=d();o(),_("dataSource",e.optionTabledataSource),o(21),_("matHeaderRowDef",e.optionTabledisplayedColumns),o(),_("matRowDefColumns",e.optionTabledisplayedColumns),o(),_("matRowDefColumns",Z(4,o0))}}function gu(i,s){if(i&1&&(a(0,"button",129),c(1),g(2,"translate"),r()),i&2){d(2);let e=L(12);_("disabled",!e.form.valid),o(),h(" ",S(2,2,"ACTION.SAVE")," ")}}function Su(i,s){if(i&1&&(a(0,"div",27)(1,"button",75),c(2),g(3,"translate"),r(),y(4,gu,3,4,"button",129),r()),i&2){let e=d();o(2),h(" ",S(3,2,"ACTION.BEFOR")," "),o(2),E(e.dataModel.contracts&&e.dataModel.contracts.length>0?4:-1)}}function yu(i,s){i&1&&(a(0,"mat-icon"),c(1,"call_end"),r())}function Eu(i,s){i&1&&(a(0,"mat-icon"),c(1,"call_end"),r())}function Mu(i,s){i&1&&(a(0,"mat-icon"),c(1,"forum"),r())}function vu(i,s){i&1&&(a(0,"mat-icon"),c(1,"forum"),r())}var qn=class qn extends Yt{constructor(e,n,t,l,p,m,O,J,$,Te,Ee,ke,St,at,xe){super(l,new di,Ee,xe);this.dialogRef=e;this.coreEnumService=n;this.estateContractTypeService=t;this.estatePropertyService=l;this.estatePropertyDetailGroupService=p;this.estatePropertyTypeService=m;this.estatePropertyTypeLanduseService=O;this.cmsToastrService=J;this.cmsStoreService=$;this.themeService=Te;this.publicHelper=Ee;this.cdr=ke;this.dialog=St;this.tokenHelper=at;this.translate=xe;this.constructorInfoAreaId=this.constructor.name;this.currencyOptionSelectFirstItem=!0;this.enumInputDataType=Vi;this.tokenInfo=new It;this.appLanguage="fa";this.formMatcher=new la;this.dataModelResult=new X;this.dataModelEstateContractTypeResult=new X;this.dataModelEstatePropertyTypeResult=new X;this.dataModelEstatePropertyTypeLanduseResult=new X;this.dataModel=new di;this.formInfo=new be;this.dataModelCorCurrencySelector=new Di;this.PropertyTypeSelected=new ht;this.contractDataModel=new io;this.optionActionTitle="";this.optionTabledataSource=new Ki;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","SalePrice","RentPrice","DepositPrice","PeriodPrice","Action"];this.propertyDetails=new Map;this.step=0;this.listTypeLanduse=[];this.hidden=!0;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.Submit_New_Content").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEstateContractType(),this.getEstatePropertyType(),this.getEstatePropertyTypeLanduse(),this.dataModel.caseCode=this.publicHelper.StringRandomGenerator(5,!0),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.DataGetAccess(),this.getEstateContractType(),this.getEstatePropertyType(),this.getEstatePropertyTypeLanduse(),this.translate.get("ACTION.Add_To_List").subscribe(n=>{this.optionActionTitle=n}),this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getEstateContractType(){let e=this.constructor.name+"getEstateContractType";this.translate.get("TITLE.Get_Estate_Contract_Type").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceGetAll(null).subscribe({next:n=>{this.dataModelEstateContractTypeResult=n,this.publicHelper.processService.processStop(e)},error:n=>{this.publicHelper.processService.processStop(e)}})}getEstatePropertyType(){let e=this.constructor.name+"getEstatePropertyType";this.translate.get("TITLE.Get_Estate_property_Type").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.estatePropertyTypeService.ServiceGetAll(null).subscribe({next:n=>{this.dataModelEstatePropertyTypeResult=n,this.publicHelper.processService.processStop(e)},error:n=>{this.publicHelper.processService.processStop(e)}})}getEstatePropertyTypeLanduse(){let e=this.constructor.name+"getEstatePropertyType";this.translate.get("TITLE.Get_Estate_user_Type").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceGetAll(null).subscribe({next:n=>{this.dataModelEstatePropertyTypeLanduseResult=n,this.publicHelper.processService.processStop(e)},error:n=>{this.publicHelper.processService.processStop(e)}})}DataGetPropertyDetailGroup(e){let n=new me,t=new V;t.propertyName="LinkPropertyTypeLanduseId",t.value=e,n.filters.push(t),this.dataModel.propertyDetailGroups=[];let l=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("TITLE.Get_Details").subscribe(p=>{this.publicHelper.processService.processStart(l,p,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAll(n).subscribe({next:p=>{p.isSuccess?this.dataModel.propertyDetailGroups=p.listItems:this.cmsToastrService.typeErrorGetAccess(p.errorMessage),this.publicHelper.processService.processStop(l)},error:p=>{this.cmsToastrService.typeErrorGetAccess(p),this.publicHelper.processService.processStop(l,!1)}})}DataAdd(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"ServiceAdd";this.translate.get("TITLE.Property_registration").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.estatePropertyService.ServiceAdd(this.dataModel).subscribe({next:n=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),setTimeout(()=>this.dialogRef.close({dialogChangedDate:!0}),1e3)):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(e)},error:n=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}this.dataModel.linkPropertyTypeUsageId=e.id,this.dataModelEstatePropertyTypeResult.isSuccess&&this.dataModelEstatePropertyTypeLanduseResult.isSuccess&&(this.listTypeLanduse=[],this.dataModelEstatePropertyTypeResult.listItems.forEach(n=>{n.linkPropertyTypeUsageId===e.id&&this.dataModelEstatePropertyTypeLanduseResult.listItems.forEach(t=>{t.id===n.linkPropertyTypeLanduseId&&this.listTypeLanduse.push(t)})}))}onActionSelectorSelectLanduse(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}this.PropertyTypeSelected=e,this.dataModel.linkPropertyTypeLanduseId=e.id,this.DataGetPropertyDetailGroup(e.id)}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCmsUserId=null;return}this.dataModel.linkCmsUserId=e.id}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.information_area_is_not_clear").subscribe(n=>{this.cmsToastrService.typeWarningSelected(n)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}onActionSelectorProject(e){if(!e||!e.id||e.id.length<=0){this.dataModel.linkPropertyProjectId=null;return}this.dataModel.linkPropertyProjectId=e.id}onActionSelectorCompany(e){if(!e||!e.id||e.id.length<=0){this.dataModel.linkPropertyCompanyId=null;return}this.dataModel.linkPropertyCompanyId=e.id}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateExpertId=e.id)}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorContractType(e){if(this.contractTypeSelected=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}this.currencyOptionSelectFirstItem=!0,this.contractTypeSelected=e,this.contractDataModel=new io,this.contractDataModel.contractType=this.contractTypeSelected,this.contractDataModel.linkEstateContractTypeId=this.contractTypeSelected.id}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.submitButtonEnabled=!1,this.dataModel.propertyDetailValues=[],this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(e=>{e.propertyDetails.forEach(n=>{let t=new Bi;t.linkPropertyDetailId=n.id,t.value=this.propertyDetails[n.id],this.dataModel.propertyDetailValues.push(t)})}),(!this.dataModel.contracts||this.dataModel.contracts.length===0)&&this.onActionOptionAddToList(!1),!this.dataModel.contracts||this.dataModel.contracts.length===0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)}),this.formInfo.submitButtonEnabled=!0;return}this.DataAdd()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionOptionAddToList(e=!0){if(!this.contractTypeSelected||this.contractTypeSelected.id.length===0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(t=>{e&&this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.contracts||(this.dataModel.contracts=[]);var n=!1;if(this.contractTypeSelected.hasSalePrice&&(this.contractDataModel.salePrice&&this.contractDataModel.salePrice>0&&(n=!0),this.contractTypeSelected.salePriceAllowAgreement&&this.contractDataModel.salePriceByAgreement&&(n=!0),!n)){this.translate.get("MESSAGE.Sales_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(n=!1,this.contractTypeSelected.hasRentPrice&&(this.contractDataModel.rentPrice&&this.contractDataModel.rentPrice>0&&(n=!0),this.contractTypeSelected.rentPriceAllowAgreement&&this.contractDataModel.rentPriceByAgreement&&(n=!0),!n)){this.translate.get("MESSAGE.Rent_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(n=!1,this.contractTypeSelected.hasPeriodPrice&&(this.contractDataModel.periodPrice&&this.contractDataModel.periodPrice>0&&(n=!0),this.contractTypeSelected.periodPriceAllowAgreement&&this.contractDataModel.periodPriceByAgreement&&(n=!0),!n)){this.translate.get("MESSAGE.Period_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(n=!1,this.contractTypeSelected.hasDepositPrice&&(this.contractDataModel.depositPrice&&this.contractDataModel.depositPrice>0&&(n=!0),this.contractTypeSelected.depositPriceAllowAgreement&&this.contractDataModel.depositPriceByAgreement&&(n=!0),!n)){this.translate.get("MESSAGE.Deposit_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.contracts.push(this.contractDataModel),this.contractDataModel=new io,this.optionTabledataSource.data=this.dataModel.contracts,this.contractTypeSelected=null}onActionOptionRemoveFromList(e){e<0||!this.dataModel.contracts||this.dataModel.contracts.length===0||(this.contractDataModel=this.dataModel.contracts[e],this.dataModel.contracts.splice(e,1),this.contractDataModel=new io,this.optionTabledataSource.data=this.dataModel.contracts)}onStepClick(e,n){e.previouslySelectedIndex<e.selectedIndex&&((!this.dataModel.linkPropertyTypeUsageId||this.dataModel.linkPropertyTypeUsageId.length===0)&&(this.translate.get("TITLE.Select_the_Property_Type_Usage").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{n.selectedIndex=e.previouslySelectedIndex},10)),(!this.dataModel.linkPropertyTypeLanduseId||this.dataModel.linkPropertyTypeLanduseId.length===0)&&(this.translate.get("TITLE.Select_the_Property_Type_Landuse").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{n.selectedIndex=e.previouslySelectedIndex},10)),this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{n.selectedIndex=e.previouslySelectedIndex},10))),(!this.dataModel.contracts||this.dataModel.contracts.length==0)&&e.previouslySelectedStep.state=="contract"&&e.previouslySelectedIndex<e.selectedIndex&&(this.translate.get("TITLE.Select_the_transaction_type").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{n.selectedIndex=e.previouslySelectedIndex},10))}onActionBackToParent(){this.dialogRef.close({dialogChangedDate:!1})}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}onActionClickSalePriceAllowAgreement(){this.contractDataModel.salePriceByAgreement&&(this.contractDataModel.salePrice=0)}onActionClickRentPriceAllowAgreement(){this.contractDataModel.rentPriceByAgreement&&(this.contractDataModel.rentPrice=0)}onActionClickPeriodPriceAllowAgreement(){this.contractDataModel.periodPriceByAgreement&&(this.contractDataModel.periodPrice=0)}onActionClickDepositPriceByAgreement(){this.contractDataModel.depositPriceByAgreement&&(this.contractDataModel.depositPrice=0)}onActionSelectCurrency(e){if(!e||e.id<=0){this.cmsToastrService.typeErrorSelected(),this.dataModelCorCurrencySelector=null,this.contractDataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.contractDataModel.linkCoreCurrencyId=e.id}onActionButtonQuickListSearchTitle(){if(!this.dataModel||!this.dataModel.title||this.dataModel.title.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Pi,{height:"90%",panelClass:e,enterAnimationDuration:N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:N.cmsViewConfig.exitAnimationDuration,data:{searchTitle:this.dataModel.title}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCustomerTel(){if(!this.dataModel||!this.dataModel.aboutCustomerTel||this.dataModel.aboutCustomerTel.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Pi,{height:"90%",panelClass:e,enterAnimationDuration:N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:N.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerTel}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCustomerMobile(){if(!this.dataModel||!this.dataModel.aboutCustomerMobile||this.dataModel.aboutCustomerMobile.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Pi,{height:"90%",panelClass:e,enterAnimationDuration:N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:N.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerMobile}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCaseCode(){if(!this.dataModel||!this.dataModel.caseCode||this.dataModel.caseCode.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Pi,{height:"90%",panelClass:e,enterAnimationDuration:N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:N.cmsViewConfig.exitAnimationDuration,data:{searchCaseCode:this.dataModel.caseCode}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};qn.\u0275fac=function(n){return new(n||qn)(M(Ie),M(he),M(fo),M(Xt),M(Fi),M(Ni),M($t),M(F),M(Y),M(ft),M(U),M(H),M(oe),M(z),M(W))},qn.\u0275cmp=B({type:qn,selectors:[["app-estate-property-quick-add"]],viewQuery:function(n,t){if(n&1&&Ve(i0,5),n&2){let l;Oe(l=Be())&&(t.formGroup=l.first)}},standalone:!1,features:[ee],decls:53,vars:58,consts:[["vform","ngForm"],["stepper",""],["Description",""],["Title",""],["CaseCode",""],["CreatedYaer",""],["Partition",""],["Area",""],["Address",""],["LinkSiteId",""],["AboutCustomerMobile",""],["AboutCustomerTel",""],["DescriptionHidden",""],["AddressHidden",""],["contractDataModel_Description",""],[3,"Key","svg","ngStyle"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],[1,"row","mb-0"],[3,"optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId"],[1,"form-actions"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["state","contract",3,"label"],[3,"optionChange","optionTypeView","optionDisabled","optionPlaceholder","optionSelectForce"],[1,"container"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"example-container","mat-elevation-z8"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.viewConfigHiddenInList",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.viewConfigHiddenInList","name","dataModel.viewConfigHiddenInList",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewConfigHiddenInList",1,"custom-control-label"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","2000","rows","5","id","dataModel.description","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.caseCode",1,"color-highlight"],["matInput","","name","dataModel.caseCode","type","text","minlength","3","maxlength","100","id","dataModel.caseCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.createdYaer","type","number","id","dataModel.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.partition",1,"color-highlight"],["matInput","","name","dataModel.partition","type","number","id","dataModel.partition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.area",1,"color-highlight"],["matInput","","name","dataModel.area","type","text","currencyMask","","id","dataModel.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["data-trigger-switch","dataModel.viewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.viewContentHidden","name","dataModel.viewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewContentHidden",1,"custom-control-label"],["data-trigger-switch","dataModel.siteAdminViewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.siteAdminViewContentHidden","name","dataModel.siteAdminViewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.siteAdminViewContentHidden",1,"custom-control-label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkSiteId",1,"color-highlight"],["matInput","","name","dataModel.linkSiteId","type","text","minlength","3","maxlength","100","id","dataModel.linkSiteId",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["for","dataModel.aboutCustomerMobile",1,"color-highlight"],["matInput","","name","dataModel.aboutCustomerMobile","type","text","minlength","0","maxlength","100","id","dataModel.aboutCustomerMobile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.aboutCustomerTel",1,"color-highlight"],["matInput","","name","dataModel.aboutCustomerTel","type","text","minlength","0","maxlength","100","id","dataModel.aboutCustomerTel",1,"input-Mobile",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","1","maxlength","2000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.addressHidden",1,"color-highlight"],["matInput","","name","dataModel.addressHidden","type","text","minlength","1","maxlength","2000","rows","5","id","dataModel.addressHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[1,"row"],["for","contractDataModel.description",1,"color-highlight"],["matInput","","name","contractDataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","contractDataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"col-6"],["for","contractDataModel.salePrice",1,"color-highlight"],["matInput","","name","contractDataModel.salePrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.salePrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],[1,"col-3"],["data-trigger-switch","contractDataModel.salePriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.salePriceByAgreement","name","contractDataModel.salePriceByAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.salePriceByAgreement",1,"custom-control-label"],["for","contractDataModel.depositPrice",1,"color-highlight"],["matInput","","name","contractDataModel.depositPrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.depositPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.depositPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.depositPriceByAgreement","name","contractDataModel.depositPriceByAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.depositPriceByAgreement",1,"custom-control-label"],["for","contractDataModel.rentPrice",1,"color-highlight"],["matInput","","name","contractDataModel.rentPrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.rentPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.rentPriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.rentPriceAllowAgreement","name","contractDataModel.rentPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.rentPriceAllowAgreement",1,"custom-control-label"],["for","contractDataModel.periodPrice",1,"color-highlight"],["matInput","","name","contractDataModel.periodPrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.periodPriceByAgreement",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.periodPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.periodPriceByAgreement","name","contractDataModel.periodPriceByAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.periodPriceByAgreement",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateContractTypeId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","SalePrice"],["matColumnDef","DepositPrice"],["matColumnDef","RentPrice"],["matColumnDef","PeriodPrice"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","descriptionDetail"],["colspan","6",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],["colspan","6"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(n,t){if(n&1){let l=I();C(0,"app-cms-guide-notice",15),a(1,"div",16),C(2,"app-progress-spinner",17),a(3,"div",18)(4,"p",19),c(5),g(6,"translate"),r(),a(7,"p"),c(8),g(9,"translate"),r(),C(10,"app-cms-form-result-message",20),a(11,"form",21,0),v("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(13,"mat-vertical-stepper",22,1),v("selectionChange",function(m){u(l);let O=L(14);return f(t.onStepClick(m,O))}),a(15,"mat-step",23),g(16,"translate"),a(17,"app-estate-property-type-usage-selector",24),g(18,"translate"),v("optionChange",function(m){return u(l),f(t.onActionSelectorSelectUsage(m))}),r(),y(19,r0,3,3,"p"),y(20,l0,3,0,"div",25),y(21,s0,2,7,"app-estate-property-type-landuse-selector",26),C(22,"br")(23,"br"),y(24,g0,26,23,"div"),y(25,y0,5,4,"div",27),r(),y(26,w0,21,11,"mat-step",23),a(27,"mat-step",23),g(28,"translate"),y(29,T0,7,7,"div",28),y(30,x0,7,7,"div",28),y(31,R0,9,8,"div",28),y(32,P0,9,8,"div",28),y(33,D0,5,4,"div",27),r(),a(34,"mat-step",29),g(35,"translate"),a(36,"p"),c(37),g(38,"translate"),r(),a(39,"app-estate-contract-type-selector",30),g(40,"translate"),v("optionChange",function(m){return u(l),f(t.onActionSelectorContractType(m))}),r(),y(41,q0,8,6,"div",31),y(42,j0,3,3,"button",32),C(43,"hr"),a(44,"p"),c(45),g(46,"translate"),r(),y(47,hu,25,5,"div",33),y(48,Su,5,4,"div",27),r(),P(49,yu,2,0,"ng-template",34)(50,Eu,2,0,"ng-template",35)(51,Mu,2,0,"ng-template",36)(52,vu,2,0,"ng-template",37),r()()()()}n&2&&(_("Key","estate.property.list.add")("svg","assets/media/svg/icons/General/Notifications1.svg")("ngStyle",te(56,n0,t.tokenInfo.access.direction)),o(2),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",S(6,38,"TITLE.EDIT_USER_ACCOUNT")," "),o(3),h(" ",S(9,40,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(5),_("label",k(S(16,42,"TITLE.REQUIRED_INFORMATION"))),o(2),_("optionDisabled",!(t.fieldsInfo.linkPropertyTypeUsageId!=null&&t.fieldsInfo.linkPropertyTypeUsageId.accessAddField))("optionTypeView",2)("optionSelectForce",t.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",S(18,44,"TITLE.Type_Usage")),o(2),E(t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0&&t.listTypeLanduse&&t.listTypeLanduse.length>0?19:-1),o(),E(t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0&&t.listTypeLanduse&&t.listTypeLanduse.length>0?20:-1),o(),E((!t.listTypeLanduse||t.listTypeLanduse.length===0)&&t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0?21:-1),o(3),E(t.dataModel.linkPropertyTypeLanduseId&&t.dataModel.linkPropertyTypeLanduseId.length>0?24:-1),o(),E(t.formInfo.submitButtonEnabled?25:-1),o(),E(t.tokenHelper.isAdminSite?26:-1),o(),_("label",k(S(28,46,"TITLE.SECRET_INFORMATION"))),o(2),E(t.fieldsInfo.aboutCustomerMobile!=null&&t.fieldsInfo.aboutCustomerMobile.accessWatchField?29:-1),o(),E(t.fieldsInfo.aboutCustomerTel!=null&&t.fieldsInfo.aboutCustomerTel.accessWatchField?30:-1),o(),E(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField?31:-1),o(),E(t.fieldsInfo.addressHidden!=null&&t.fieldsInfo.addressHidden.accessWatchField?32:-1),o(),E(t.formInfo.submitButtonEnabled?33:-1),o(),_("label",k(S(35,48,"TITLE.Transaction"))),o(3),h(" ",S(38,50,"TITLE.Specify_the_type_of_transaction_for_this_property")," "),o(2),_("optionTypeView",2)("optionDisabled",!1)("optionPlaceholder",S(40,52,"TITLE.Type_Of_Transaction"))("optionSelectForce",t.contractDataModel.linkEstateContractTypeId),o(2),E(t.contractTypeSelected&&t.contractTypeSelected.id.length>0?41:-1),o(),E(t.contractTypeSelected&&t.contractTypeSelected.id.length>0?42:-1),o(3),h(" ",S(46,54,"TITLE.List_Of_Transaction_Details_Of_This_Property")," "),o(2),E(t.publicHelper.processService.process.inRunAll?-1:47),o(),E(t.formInfo.submitButtonEnabled?48:-1))},dependencies:[se,Ce,Qe,ge,Gi,mt,ne,qe,Fe,Ye,ze,ce,je,Pe,Ke,Se,le,Yi,zi,Xr,$r,Qi,Je,Xe,it,$e,Ze,nt,et,tt,ot,rt,ji,nn,sa,ri,K,ia,we,Zi,Xi,on,rn,an,kr,G,na],encapsulation:2});var cr=qn;var bu=()=>["expandedTitle"],wu=()=>["expandedDetail"],Tu=()=>[5,10,20,100],Ra=i=>({display:i});function xu(i,s){i&1&&(a(0,"mat-header-cell"),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.MENU")," "))}function Au(i,s){if(i&1){let e=I();a(0,"mat-cell")(1,"button",56),v("click",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowSelectActionMenu(t))}),C(2,"i",57),r()()}}function Ru(i,s){i&1&&(a(0,"mat-header-cell",58),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.PICTURE")," "))}function ku(i,s){if(i&1&&(C(0,"img",59),g(1,"cmsthumbnail")),i&2){let e=d().$implicit;_("src",k(S(1,2,e.linkMainImageIdSrc)),j)}}function Pu(i,s){if(i&1&&(a(0,"mat-cell"),y(1,ku,2,4,"img",59),r()),i&2){let e=s.$implicit;o(),E((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Lu(i,s){if(i&1&&(a(0,"mat-header-cell",58),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Du(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function Vu(i,s){if(i&1&&(a(0,"mat-header-cell",58),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ou(i,s){if(i&1&&(a(0,"mat-cell"),c(1),g(2,"cmssiteinfo"),g(3,"async"),r()),i&2){let e=s.$implicit;o(),h(" ",S(3,3,S(2,1,e.linkSiteId))," ")}}function Bu(i,s){if(i&1&&(a(0,"mat-header-cell",58),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Wu(i,s){if(i&1&&C(0,"select",61),i&2){let e=d().$implicit,n=d();_("contentService",n.contentService)("row",e)("ngStyle",te(3,Ra,e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)?"":"none"))}}function Fu(i,s){if(i&1&&(a(0,"mat-cell",60),g(1,"statusCellClass"),C(2,"i",60),g(3,"statusIconClass"),y(4,Wu,1,5,"select",61),r()),i&2){let e=s.$implicit,n=d();_("ngClass",S(1,3,e.recordStatus)),o(2),_("ngClass",S(3,5,e.recordStatus)),o(2),E(!(n.dataModelResult==null||n.dataModelResult.access==null)&&n.dataModelResult.access.accessEditRow?4:-1)}}function Nu(i,s){if(i&1&&(a(0,"mat-header-cell",58),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.name==null?null:e.fieldsInfo.name.fieldTitle," ")}}function Hu(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.name," ")}}function Gu(i,s){if(i&1&&(a(0,"mat-header-cell",58),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.lastName==null?null:e.fieldsInfo.lastName.fieldTitle," ")}}function Uu(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.lastName," ")}}function qu(i,s){if(i&1&&(a(0,"mat-header-cell",58),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.companyName==null?null:e.fieldsInfo.companyName.fieldTitle," ")}}function ju(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.companyName," ")}}function Qu(i,s){if(i&1&&(a(0,"mat-header-cell",58),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," ")}}function Yu(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.email," ")}}function zu(i,s){if(i&1&&(a(0,"mat-header-cell",58),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.mobile==null?null:e.fieldsInfo.mobile.fieldTitle," ")}}function Ku(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.mobile," ")}}function Ju(i,s){if(i&1&&(a(0,"mat-header-cell",58),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Zu(i,s){if(i&1&&(a(0,"mat-cell"),c(1),g(2,"localeDate"),r()),i&2){let e=s.$implicit;o(),h(" ",S(2,1,e.createdDate)," ")}}function Xu(i,s){if(i&1&&(a(0,"mat-header-cell",58),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function $u(i,s){if(i&1&&(a(0,"mat-cell"),c(1),g(2,"localeDate"),r()),i&2){let e=s.$implicit;o(),h(" ",S(2,1,e.updatedDate)," ")}}function ef(i,s){i&1&&(a(0,"mat-header-cell"),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.OPTION")," "))}function tf(i,s){if(i&1&&(a(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,2),r()),i&2){let e=L(5);o(),_("matMenuTriggerFor",e)}}function nf(i,s){if(i&1&&(a(0,"mat-cell"),c(1),g(2,"translate"),g(3,"localeDate"),r()),i&2){let e=s.$implicit;o(),Q(" ",S(2,2,"TITLE.CreationDate")," : ",S(3,4,e.createdDate)," ")}}function of(i,s){if(i&1&&(C(0,"img",64),g(1,"cmsthumbnail")),i&2){let e=d().$implicit;_("src",k(S(1,2,e.linkMainImageIdSrc)),j)}}function rf(i,s){if(i&1){let e=I();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),y(5,of,2,4,"img",64),r(),a(6,"th")(7,"span",65),v("click",function(){u(e);let t=d();return f(t.onActionCopied())}),C(8,"i",66),r(),c(9),r()(),a(10,"tr"),C(11,"td"),a(12,"td"),c(13),r()(),a(14,"tr"),C(15,"td"),a(16,"td"),c(17),r()(),a(18,"tr"),C(19,"td"),a(20,"td"),c(21),r()(),a(22,"tr"),C(23,"td"),a(24,"td"),c(25),r()(),a(26,"tr"),C(27,"td"),a(28,"td"),c(29),r()(),a(30,"tr"),C(31,"td"),a(32,"td"),c(33),r()(),a(34,"tr"),C(35,"td")(36,"td"),r()()()()}if(i&2){let e=s.$implicit,n=d();o(5),E((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),_("cdkCopyToClipboard",e.id),o(2),h(" ",e.id," "),o(4),Q(" ",n.fieldsInfo.username==null?null:n.fieldsInfo.username.fieldTitle," : ",e.username," "),o(4),Q(" ",n.fieldsInfo.name==null?null:n.fieldsInfo.name.fieldTitle," : ",e.name," "),o(4),Q(" ",n.fieldsInfo.lastName==null?null:n.fieldsInfo.lastName.fieldTitle," : ",e.lastName," "),o(4),Q(" ",n.fieldsInfo.mobile==null?null:n.fieldsInfo.mobile.fieldTitle," : ",e.mobile," "),o(4),Q(" ",n.fieldsInfo.email==null?null:n.fieldsInfo.email.fieldTitle," : ",e.email," "),o(4),Q(" ",n.fieldsInfo.companyName==null?null:n.fieldsInfo.companyName.fieldTitle," : ",e.companyName," ")}}function af(i,s){i&1&&C(0,"mat-header-row")}function lf(i,s){if(i&1){let e=I();a(0,"mat-row",67),v("click",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseLeave(t))}),r()}if(i&2){let e=s.$implicit,n=s.dataIndex,t=d();q("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function sf(i,s){if(i&1){let e=I();a(0,"mat-row",68),v("click",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseLeave(t))}),r()}if(i&2){let e=s.$implicit,n=s.dataIndex,t=d();q("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function cf(i,s){if(i&1){let e=I();a(0,"mat-row",69),v("click",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseLeave(t))}),r()}if(i&2){let e=s.$implicit,n=s.dataIndex,t=d();q("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),_("ngStyle",te(7,Ra,e.expanded===!0?"":"none"))}}function df(i,s){if(i&1){let e=I();a(0,"div",55)(1,"button",70),v("click",function(){u(e);let t=d();return f(t.onFormCancel())}),C(2,"i",71),c(3),g(4,"translate"),r()()}i&2&&(o(3),h(" ",S(4,1,"ACTION.CANCEL")," "))}var jn=class jn extends Bt{constructor(e,n,t,l,p,m,O,J,$,Te,Ee,ke){super(t,new Li,Ee,m,$);this.data=e;this.dialogRef=n;this.contentService=t;this.cmsToastrService=l;this.cmsStoreService=p;this.tokenHelper=m;this.router=O;this.cdr=J;this.translate=$;this.pageInfo=Te;this.publicHelper=Ee;this.dialog=ke;this.requestTitle="";this.requestPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.tablePropertySelected=[];this.filteModelContent=new me;this.filterDataModelQueryBuilder=[];this.formInfo=new be;this.optionsSearch=new $i;this.optionsStatist=new en;this.tokenInfo=new It;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","Name","LastName","CompanyName","email","mobile","action_menu"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","Name","LastName","action_menu"];this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(e.title&&(this.requestTitle=e.title+""),e.id&&(this.requestPropertyId=e.id+"")),this.optionsSearch.parentMethods={onSubmit:St=>this.onSubmitOptionsSearch(St)}}ngOnInit(){this.translate.get("TITLE.QUICK_VIEW").subscribe(e=>{this.formInfo.formTitle=e}),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Li);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(n.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllResponsibleUserId(this.requestPropertyId,n).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ie.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ie.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ie.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};jn.\u0275fac=function(n){return new(n||jn)(M(Le),M(Ie),M(Xt),M(F),M(Y),M(z),M(Mt),M(H),M(W),M(Dt),M(U),M(oe))},jn.\u0275cmp=B({type:jn,selectors:[["app-estate-property-responsible-user-list"]],standalone:!1,features:[ee],decls:83,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","LastName"],["matColumnDef","CompanyName"],["matColumnDef","email"],["matColumnDef","mobile"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){if(n&1){let l=I();a(0,"div",3),C(1,"app-progress-spinner",4),a(2,"div",5),c(3),r(),a(4,"div",6)(5,"app-cms-html-list",7),x("optionActionGuideNoticeDisplayChange",function(m){return u(l),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),v("optionOnActionButtonMemoRow",function(){return u(l),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(l),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(l),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(l),f(t.onActionButtonPrintRow())}),Ue(6,8)(7,9)(8,10),A(9,11),a(10,"a",12),v("click",function(){return u(l),f(t.onActionButtonReload())}),C(11,"i",13),r(),a(12,"a",14),v("click",function(){return u(l),f(t.onActionGridExpandRows(!0))}),C(13,"i",15),r(),a(14,"a",14),v("click",function(){return u(l),f(t.onActionGridExpandRows(!1))}),C(15,"i",16),r(),R(),A(16,17),a(17,"a",18)(18,"mat-slide-toggle",19),x("ngModelChange",function(m){return u(l),T(t.optionsSearch.data.show,m)||(t.optionsSearch.data.show=m),f(m)}),r(),c(19),g(20,"translate"),r(),R(),Ue(21,20)(22,21),A(23,22),a(24,"app-cms-search-list",23),x("optionsChange",function(m){return u(l),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),r(),a(25,"app-cms-statist-list",23),x("optionsChange",function(m){return u(l),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),r(),R(),A(26,24),a(27,"mat-table",25,0),v("matSortChange",function(){u(l);let m=L(28);return f(t.onTableSortData(m))}),A(29,26),P(30,xu,3,3,"mat-header-cell",27)(31,Au,3,0,"mat-cell",28),R(),A(32,29),P(33,Ru,3,3,"mat-header-cell",30)(34,Pu,2,1,"mat-cell",28),R(),A(35,31),P(36,Lu,2,1,"mat-header-cell",30)(37,Du,2,1,"mat-cell",28),R(),A(38,32),P(39,Vu,2,1,"mat-header-cell",30)(40,Ou,4,5,"mat-cell",28),R(),A(41,33),P(42,Bu,2,1,"mat-header-cell",30)(43,Fu,5,7,"mat-cell",34),R(),A(44,35),P(45,Nu,2,1,"mat-header-cell",30)(46,Hu,2,1,"mat-cell",28),R(),A(47,36),P(48,Gu,2,1,"mat-header-cell",30)(49,Uu,2,1,"mat-cell",28),R(),A(50,37),P(51,qu,2,1,"mat-header-cell",30)(52,ju,2,1,"mat-cell",28),R(),A(53,38),P(54,Qu,2,1,"mat-header-cell",30)(55,Yu,2,1,"mat-cell",28),R(),A(56,39),P(57,zu,2,1,"mat-header-cell",30)(58,Ku,2,1,"mat-cell",28),R(),A(59,40),P(60,Ju,2,1,"mat-header-cell",30)(61,Zu,3,3,"mat-cell",28),R(),A(62,41),P(63,Xu,2,1,"mat-header-cell",30)(64,$u,3,3,"mat-cell",28),R(),A(65,42),P(66,ef,3,3,"mat-header-cell",27)(67,tf,6,1,"mat-cell",43),R(),A(68,44),P(69,nf,4,6,"mat-cell",28),R(),A(70,45),P(71,rf,37,15,"mat-cell",28),R(),P(72,af,1,0,"mat-header-row",46)(73,lf,1,6,"mat-row",47)(74,sf,1,6,"mat-row",48)(75,cf,1,9,"mat-row",49),r(),R(),A(76,50),a(77,"mat-paginator",51,1),v("page",function(m){return u(l),f(t.onTablePageingData(m))}),r(),R(),r()(),a(79,"div",52),C(80,"app-cms-form-result-message",53),r(),a(81,"div",54),y(82,df,5,3,"div",55),r()()}n&2&&(o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(2),h(" ",t.formInfo.formTitle," "),o(2),_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.username==null?null:t.tableRowSelected.username.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.username:t.tableRowSelected==null?null:t.tableRowSelected.id),o(13),w("ngModel",t.optionsSearch.data.show),o(),h("",S(20,25,"ACTION.SEARCH")," "),o(5),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(45),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",Z(27,bu)),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(),_("matRowDefColumns",Z(28,wu)),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Z(29,Tu)),o(3),_("formInfo",t.formInfo),o(2),E(t.formInfo.submitButtonEnabled?82:-1))},dependencies:[se,Ce,ne,ce,Pe,Se,le,Tt,xt,At,Rt,kt,Pt,Je,Xe,it,$e,Ze,nt,et,tt,ot,rt,wt,Wt,Ft,K,we,Nt,Ht,ti,We,G,ii,de,Vo,ni,oi],encapsulation:2});var dr=jn;var Qn=class Qn{constructor(s,e,n,t,l,p,m,O){this.headerService=s;this.publicHelper=e;this.cdr=n;this.tokenHelper=t;this.cmsStoreService=l;this.cmsToastrService=p;this.dialog=m;this.translate=O;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new X;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId.length>0&&(this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(()=>re(this,null,function*(){this.DataGetOneContent()}))))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetOneContent(){let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}};Qn.\u0275fac=function(e){return new(e||Qn)(M(Gr),M(U),M(H),M(z),M(Y),M(F),M(oe),M(W))},Qn.\u0275cmp=B({type:Qn,selectors:[["app-estate-property-company-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:27,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,n){e&1&&(a(0,"div",0),C(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),C(6,"span",6),r(),a(7,"div",7)(8,"h5")(9,"b"),c(10),g(11,"translate"),r()()(),C(12,"div",8),r(),a(13,"div",4)(14,"div",5),c(15),r(),a(16,"div",9),c(17),r(),C(18,"div",10)(19,"div",11),r(),a(20,"div",4)(21,"div",5),c(22),r(),a(23,"div",9),c(24),r(),C(25,"div",11),r()()()(),C(26,"div",12)),e&2&&(o(),_("optionsInfoAreaId",n.constructorInfoAreaId),o(5),_("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),b(S(11,7,"TITLE.Selected_Company")),o(5),h("",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," :"),o(2),b(n.dataModelResult==null||n.dataModelResult.item==null?null:n.dataModelResult.item.id),o(5),h(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," : "),o(2),b(n.dataModelResult==null||n.dataModelResult.item==null?null:n.dataModelResult.item.title))},dependencies:[K,Lt,G],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var pr=Qn;var Sf=()=>["expandedTitle"],yf=()=>["expandedDetail"],Ef=()=>[5,10,20,100],Pa=i=>({display:i}),Mf=i=>({background:i});function vf(i,s){if(i&1&&C(0,"app-core-user-header",15),i&2){let e=d();_("optionId",e.requestLinkUserId)}}function If(i,s){if(i&1&&C(0,"app-estate-billboard-header",15),i&2){let e=d();_("optionId",e.requestLinkBillboardId)}}function bf(i,s){if(i&1&&C(0,"app-estate-contract-type-header",15),i&2){let e=d();_("optionId",e.requestLinkContractTypeId)}}function wf(i,s){if(i&1&&C(0,"app-estate-customer-order-header",15),i&2){let e=d();_("optionId",e.requestLinkCustomerOrderId)}}function Tf(i,s){if(i&1&&C(0,"app-estate-property-type-landuse-header",15),i&2){let e=d();_("optionId",e.requestLinkPropertyTypeLanduseId)}}function xf(i,s){if(i&1&&C(0,"app-estate-property-type-usage-header",15),i&2){let e=d();_("optionId",e.requestLinkPropertyTypeUsageId)}}function Af(i,s){if(i&1&&C(0,"app-estate-property-project-header",15),i&2){let e=d();_("optionId",e.requestLinkProjectId)}}function Rf(i,s){if(i&1&&C(0,"app-estate-property-company-header",15),i&2){let e=d();_("optionId",e.requestLinkCompanyId)}}function kf(i,s){if(i&1){let e=I();a(0,"a",87),v("click",function(){u(e);let t=d();return f(t.onActionBackToParent())}),C(1,"i",88),r()}}function Pf(i,s){if(i&1){let e=I();a(0,"div",33)(1,"a",89),v("click",function(t){u(e);let l=d();return f(l.onActionButtonNewRow(t))}),C(2,"i",90)(3,"br"),r(),a(4,"p",36),c(5),g(6,"translate"),r()()}i&2&&(o(5),h(" ",S(6,1,"ACTION.ADD")," "))}function Lf(i,s){if(i&1){let e=I();a(0,"div",33)(1,"a",91),v("click",function(t){u(e);let l=d();return f(l.onActionButtonQuickAddRow(t))}),C(2,"i",90)(3,"br"),r(),a(4,"p",36),c(5),g(6,"translate"),r()()}i&2&&(o(5),h(" ",S(6,1,"ACTION.QUICK_ADD")," "))}function Df(i,s){if(i&1){let e=I();a(0,"div",33)(1,"a",92),v("click",function(t){u(e);let l=d();return f(l.onActionButtonEditRow(l.tableRowSelected,t))}),C(2,"i",93)(3,"br"),r(),a(4,"p",36),c(5),g(6,"translate"),r()()}i&2&&(o(5),h(" ",S(6,1,"ACTION.EDIT")," "))}function Vf(i,s){if(i&1){let e=I();a(0,"div",33)(1,"a",94),v("click",function(){u(e);let t=d();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",95)(3,"br"),r(),a(4,"p",36),c(5),g(6,"translate"),r()()}i&2&&(o(5),h(" ",S(6,1,"ACTION.DELETE")," "))}function Of(i,s){if(i&1){let e=I();a(0,"div",33)(1,"a",23),v("click",function(){u(e);let t=d();return f(t.onActionButtonActionSendSmsToCustomerOrder())}),C(2,"i",96)(3,"br"),r(),a(4,"p",36),c(5),g(6,"translate"),r()()}i&2&&(o(5),h(" ",S(6,1,"ACTION.ActionSendSmsToCustomerOrder")," "))}function Bf(i,s){if(i&1){let e=I();a(0,"div",33)(1,"a",23),v("click",function(t){u(e);let l=d();return f(l.onActionButtonAdsRow(l.tableRowSelected,t))}),C(2,"i",97)(3,"br"),r(),a(4,"p",36),c(5),g(6,"translate"),r()()}i&2&&(o(5),h(" ",S(6,1,"ACTION.ADS")," "))}function Wf(i,s){if(i&1&&(a(0,"button",39),c(1),g(2,"translate"),r()),i&2){let e=d();_("routerLink",k("/core/site/edit/"+(e.tableRowSelected==null?null:e.tableRowSelected.linkSiteId))),o(),h(" ",S(2,3,"ACTION.VIEW_SITE")," ")}}function Ff(i,s){if(i&1){let e=I();a(0,"mat-icon",98),v("click",function(){u(e);let t=d();return f(t.filteModelContent.caseCode="")}),c(1," close"),r()}}function Nf(i,s){if(i&1){let e=I();a(0,"app-cms-user-selector",100),g(1,"translate"),v("optionChange",function(t){u(e);let l=d(2);return f(l.filteModelContent.linkResponsibleUserId=t==null?null:t.id)}),r()}i&2&&_("optionPlaceholder",S(1,1,"TITLE.InResponsibleTo"))}function Hf(i,s){if(i&1){let e=I();a(0,"div",102)(1,"label",108),c(2),r(),a(3,"input",109,3),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.filteModelContent.createdYaer,t)||(l.filteModelContent.createdYaer=t),f(t)}),r()()}if(i&2){let e=d(2);o(2),b(e.PropertyTypeSelected.titleCreatedYaer),o(),_("placeholder",k(e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle)),w("ngModel",e.filteModelContent.createdYaer)}}function Gf(i,s){if(i&1){let e=I();a(0,"div",102)(1,"label",110),c(2),r(),a(3,"input",111,4),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.filteModelContent.partition,t)||(l.filteModelContent.partition=t),f(t)}),r()()}if(i&2){let e=d(2);o(2),b(e.PropertyTypeSelected.titlePartition),o(),_("placeholder",k(e.PropertyTypeSelected.titlePartition)),w("ngModel",e.filteModelContent.partition)}}function Uf(i,s){if(i&1){let e=I();a(0,"div",102)(1,"label",112),c(2),r(),a(3,"input",113,5),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.filteModelContent.area,t)||(l.filteModelContent.area=t),f(t)}),r(),a(5,"em"),c(6),r()()}if(i&2){let e=d(2);o(2),b(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle),o(),_("placeholder",k(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle)),w("ngModel",e.filteModelContent.area),o(3),b(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldDescription)}}function qf(i,s){if(i&1){let e=I();a(0,"div",102)(1,"label",114),c(2),g(3,"translate"),r(),a(4,"input",115,6),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.filteModelContent.salePriceMin,t)||(l.filteModelContent.salePriceMin=t),f(t)}),r()()}if(i&2){let e=d(2);o(2),b(S(3,2,"TITLE.SalePriceMin")),o(2),w("ngModel",e.filteModelContent.salePriceMin)}}function jf(i,s){if(i&1){let e=I();a(0,"div",102)(1,"label",116),c(2),g(3,"translate"),r(),a(4,"input",117,7),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.filteModelContent.rentPriceMin,t)||(l.filteModelContent.rentPriceMin=t),f(t)}),r()()}if(i&2){let e=d(2);o(2),b(S(3,2,"TITLE.RentPriceMin")),o(2),w("ngModel",e.filteModelContent.rentPriceMin)}}function Qf(i,s){if(i&1){let e=I();a(0,"div",102)(1,"label",118),c(2),g(3,"translate"),r(),a(4,"input",119,8),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.filteModelContent.depositPriceMin,t)||(l.filteModelContent.depositPriceMin=t),f(t)}),r()()}if(i&2){let e=d(2);o(2),b(S(3,2,"TITLE.DepositPriceMin")),o(2),w("ngModel",e.filteModelContent.depositPriceMin)}}function Yf(i,s){if(i&1){let e=I();a(0,"div",102)(1,"label",120),c(2),g(3,"translate"),r(),a(4,"input",121,9),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.filteModelContent.periodPriceMin,t)||(l.filteModelContent.periodPriceMin=t),f(t)}),r()()}if(i&2){let e=d(2);o(2),b(S(3,2,"TITLE.PeriodPriceMin")),o(2),w("ngModel",e.filteModelContent.periodPriceMin)}}function zf(i,s){if(i&1){let e=I();a(0,"div",102)(1,"label",122),c(2),g(3,"translate"),r(),a(4,"input",123,10),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.filteModelContent.salePriceMax,t)||(l.filteModelContent.salePriceMax=t),f(t)}),r()()}if(i&2){let e=d(2);o(2),b(S(3,2,"TITLE.SalePriceMax")),o(2),w("ngModel",e.filteModelContent.salePriceMax)}}function Kf(i,s){if(i&1){let e=I();a(0,"div",102)(1,"label",124),c(2),g(3,"translate"),r(),a(4,"input",125,11),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.filteModelContent.rentPriceMax,t)||(l.filteModelContent.rentPriceMax=t),f(t)}),r()()}if(i&2){let e=d(2);o(2),h("",S(3,2,"TITLE.RentPriceMax")," "),o(2),w("ngModel",e.filteModelContent.rentPriceMax)}}function Jf(i,s){if(i&1){let e=I();a(0,"div",102)(1,"label",126),c(2),g(3,"translate"),r(),a(4,"input",127,12),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.filteModelContent.depositPriceMax,t)||(l.filteModelContent.depositPriceMax=t),f(t)}),r()()}if(i&2){let e=d(2);o(2),b(S(3,2,"TITLE.DepositPriceMax")),o(2),w("ngModel",e.filteModelContent.depositPriceMax)}}function Zf(i,s){if(i&1){let e=I();a(0,"div",102)(1,"label",128),c(2),g(3,"translate"),r(),a(4,"input",129,13),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.filteModelContent.periodPriceMax,t)||(l.filteModelContent.periodPriceMax=t),f(t)}),r()()}if(i&2){let e=d(2);o(2),b(S(3,2,"TITLE.PeriodPriceMax")),o(2),w("ngModel",e.filteModelContent.periodPriceMax)}}function Xf(i,s){if(i&1){let e=I();a(0,"div",43),C(1,"i",134),c(2,"\xA0 "),a(3,"app-input-string",135),x("modelChange",function(t){u(e);let l=d().$implicit,p=d(3);return T(p.propertyDetails[l.id],t)||(p.propertyDetails[l.id]=t),f(t)}),r()()}if(i&2){let e=d().$implicit,n=d(3);o(),ae("color",e.iconColor),_("ngClass",e.iconFont),o(2),yt(Et("color:'",e.iconColor,"';")),w("model",n.propertyDetails[e.id]),_("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function $f(i,s){if(i&1){let e=I();a(0,"div",43),C(1,"i",134),c(2,"\xA0 "),a(3,"app-input-int",136),x("modelChange",function(t){u(e);let l=d().$implicit,p=d(3);return T(p.propertyDetails[l.id],t)||(p.propertyDetails[l.id]=t),f(t)}),r()()}if(i&2){let e=d().$implicit,n=d(3);o(),ae("color",e.iconColor),_("ngClass",e.iconFont),o(2),yt(Et("color:'",e.iconColor,"';")),w("model",n.propertyDetails[e.id]),_("optionRequired",e.required)("optionLabel",e.title)}}function e_(i,s){if(i&1){let e=I();a(0,"div",43),C(1,"i",134),c(2,"\xA0 "),a(3,"app-input-boolean",137),x("modelChange",function(t){u(e);let l=d().$implicit,p=d(3);return T(p.propertyDetails[l.id],t)||(p.propertyDetails[l.id]=t),f(t)}),c(4),r()()}if(i&2){let e=d().$implicit,n=d(3);o(),ae("color",e.iconColor),_("ngClass",e.iconFont),o(2),w("model",n.propertyDetails[e.id]),o(),h("",e.title," ")}}function t_(i,s){if(i&1){let e=I();a(0,"div",43),C(1,"i",134),c(2,"\xA0 "),a(3,"app-input-float",136),x("modelChange",function(t){u(e);let l=d().$implicit,p=d(3);return T(p.propertyDetails[l.id],t)||(p.propertyDetails[l.id]=t),f(t)}),r()()}if(i&2){let e=d().$implicit,n=d(3);o(),ae("color",e.iconColor),_("ngClass",e.iconFont),o(2),yt(Et("color:'",e.iconColor,"';")),w("model",n.propertyDetails[e.id]),_("optionRequired",e.required)("optionLabel",e.title)}}function i_(i,s){if(i&1){let e=I();a(0,"div",43),C(1,"i",134),c(2,"\xA0 "),a(3,"label"),c(4),r(),a(5,"app-input-date",138),x("modelChange",function(t){u(e);let l=d().$implicit,p=d(3);return T(p.propertyDetails[l.id],t)||(p.propertyDetails[l.id]=t),f(t)}),r()()}if(i&2){let e=d().$implicit,n=d(3);o(),ae("color",e.iconColor),_("ngClass",e.iconFont),o(2),yt(Et("color:'",e.iconColor,"';")),o(),b(e.title),o(),w("model",n.propertyDetails[e.id]),_("optionRequired",e.required)}}function n_(i,s){if(i&1){let e=I();a(0,"div",43),C(1,"i",134),c(2,"\xA0 "),a(3,"app-input-textarea",136),x("modelChange",function(t){u(e);let l=d().$implicit,p=d(3);return T(p.propertyDetails[l.id],t)||(p.propertyDetails[l.id]=t),f(t)}),r()()}if(i&2){let e=d().$implicit,n=d(3);o(),ae("color",e.iconColor),_("ngClass",e.iconFont),o(2),yt(Et("color:'",e.iconColor,"';")),w("model",n.propertyDetails[e.id]),_("optionRequired",e.required)("optionLabel",e.title)}}function o_(i,s){if(i&1){let e=I();a(0,"div",43),C(1,"i",134),c(2,"\xA0 "),a(3,"app-input-string",135),x("modelChange",function(t){u(e);let l=d().$implicit,p=d(3);return T(p.propertyDetails[l.id],t)||(p.propertyDetails[l.id]=t),f(t)}),r()()}if(i&2){let e=d().$implicit,n=d(3);o(),ae("color",e.iconColor),_("ngClass",e.iconFont),o(2),yt(Et("color:'",e.iconColor,"';")),w("model",n.propertyDetails[e.id]),_("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function r_(i,s){if(i&1&&y(0,Xf,4,12,"div",43)(1,$f,4,9,"div",43)(2,e_,5,5,"div",43)(3,t_,4,9,"div",43)(4,i_,6,9,"div",43)(5,n_,4,9,"div",43)(6,o_,4,12,"div",43),i&2){let e,n=s.$implicit,t=d(3);E((e=n.inputDataType)===t.enumInputDataType.String?0:e===t.enumInputDataType.Int?1:e===t.enumInputDataType.Boolean?2:e===t.enumInputDataType.Float?3:e===t.enumInputDataType.Date?4:e===t.enumInputDataType.TextArea?5:6)}}function a_(i,s){if(i&1){let e=I();a(0,"button",139),v("click",function(){u(e);let t=d(3);return f(t.prevStep())}),c(1),g(2,"translate"),r()}i&2&&(o(),h(" ",S(2,1,"ACTION.PREVIOUS")," "))}function l_(i,s){if(i&1){let e=I();a(0,"button",140),v("click",function(){u(e);let t=d(3);return f(t.nextStep())}),c(1),g(2,"translate"),r()}i&2&&(o(),h(" ",S(2,1,"ACTION.NEXT")," "))}function s_(i,s){if(i&1){let e=I();a(0,"button",140),v("click",function(){u(e);let t=d(3);return f(t.nextStep())}),c(1),g(2,"translate"),r()}i&2&&(o(),h(" ",S(2,1,"ACTION.END")," "))}function c_(i,s){if(i&1){let e=I();a(0,"mat-expansion-panel",130),v("opened",function(){let t=u(e).$index,l=d(2);return f(l.setStep(t))}),a(1,"mat-expansion-panel-header")(2,"mat-panel-title"),c(3),r(),a(4,"mat-panel-description"),c(5),a(6,"mat-icon",131),c(7),r()()(),dt(8,r_,7,1,null,null,ct),a(10,"mat-action-row"),y(11,a_,3,3,"button",132),y(12,l_,3,3,"button",133),y(13,s_,3,3,"button",133),r()()}if(i&2){let e=s.$implicit,n=s.$index,t=d(2);_("expanded",t.step===n),o(3),h(" ",e.title," "),o(2),h(" ",e.description," "),o(2),b(e.iconFont),o(),pt(e.propertyDetails),o(3),E(n>0?11:-1),o(),E(n+1<t.dataModelPropertyDetailGroups.length?12:-1),o(),E(n+1===t.dataModelPropertyDetailGroups.length?13:-1)}}function d_(i,s){if(i&1){let e=I();a(0,"div")(1,"P"),c(2),g(3,"translate"),r(),y(4,Nf,2,3,"app-cms-user-selector",99),a(5,"app-cms-location-autocomplete",100),g(6,"translate"),v("optionChange",function(t){u(e);let l=d();return f(l.onActionSelectorLocation(t))}),r(),C(7,"hr"),a(8,"app-estate-property-type-usage-selector",101),g(9,"translate"),v("optionChange",function(t){u(e);let l=d();return f(l.onActionSelectorSelectUsage(t))}),r(),C(10,"br")(11,"br")(12,"br"),a(13,"app-estate-property-type-landuse-selector",101),g(14,"translate"),v("optionChange",function(t){u(e);let l=d();return f(l.onActionSelectorSelectLanduse(t))}),r(),C(15,"br")(16,"br")(17,"br"),a(18,"app-estate-contract-type-selector",101),g(19,"translate"),v("optionChange",function(t){u(e);let l=d();return f(l.onActionSelectorContarctType(t))}),r(),C(20,"br")(21,"br")(22,"br"),y(23,Hf,5,4,"div",102),y(24,Gf,5,4,"div",102),y(25,Uf,7,5,"div",102),C(26,"hr"),a(27,"app-cms-currency-selector",103),g(28,"translate"),v("optionChange",function(t){u(e);let l=d();return f(l.onActionSelectCurrency(t))}),r(),a(29,"div",104)(30,"div",105),y(31,qf,6,4,"div",102),y(32,jf,6,4,"div",102),y(33,Qf,6,4,"div",102),y(34,Yf,6,4,"div",102),r(),a(35,"div",105),y(36,zf,6,4,"div",102),y(37,Kf,6,4,"div",102),y(38,Jf,6,4,"div",102),y(39,Zf,6,4,"div",102),r(),a(40,"mat-accordion",106),dt(41,c_,14,7,"mat-expansion-panel",107,ct),C(43,"br"),r()()()}if(i&2){let e=d();o(2),h("",S(3,23,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller")," "),o(2),E(e.tokenHelper.isAdminSite?4:-1),o(),_("optionPlaceholder",S(6,25,"TITLE.Region")),o(3),_("optionTypeView",2)("optionPlaceholder",S(9,27,"TITLE.Type_Usage")),o(5),_("optionTypeView",2)("optionPlaceholder",S(14,29,"TITLE.Property_Type")),o(5),_("optionTypeView",2)("optionPlaceholder",S(19,31,"TITLE.Transaction_type")),o(5),E(e.filteModelContent.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected==null||e.PropertyTypeSelected.titleCreatedYaer==null?null:e.PropertyTypeSelected.titleCreatedYaer.length)>1?23:-1),o(),E(e.filteModelContent.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected==null||e.PropertyTypeSelected.titlePartition==null?null:e.PropertyTypeSelected.titlePartition.length)>1?24:-1),o(),E(e.fieldsInfo.area!=null&&e.fieldsInfo.area.accessWatchField?25:-1),o(2),_("optionSelectFirstItem",!1)("optionSelectForce",e.filteModelContent.linkCoreCurrencyId)("optionPlaceholder",S(28,33,"TITLE.Specify_the_transaction_currency")),o(4),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasSalePrice?31:-1),o(),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasRentPrice?32:-1),o(),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasDepositPrice?33:-1),o(),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasDepositPrice?34:-1),o(2),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasSalePrice?36:-1),o(),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasRentPrice?37:-1),o(),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasDepositPrice?38:-1),o(),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasDepositPrice?39:-1),o(2),pt(e.dataModelPropertyDetailGroups)}}function p_(i,s){i&1&&C(0,"mat-header-row")}function m_(i,s){if(i&1){let e=I();a(0,"mat-row",141),v("click",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseLeave(t))}),r()}if(i&2){let e=s.$implicit,n=d();q("ntk-row-selected",e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}function u_(i,s){if(i&1){let e=I();a(0,"mat-row",142),v("click",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseLeave(t))}),r()}if(i&2){let e=s.$implicit,n=d();q("ntk-row-selected",e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}function f_(i,s){if(i&1){let e=I();a(0,"mat-row",143),v("click",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseLeave(t))}),r()}if(i&2){let e=s.$implicit,n=d();q("ntk-row-selected",e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)),_("ngStyle",te(3,Pa,e.expanded===!0?"":"none"))}}function __(i,s){i&1&&(a(0,"mat-header-cell"),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.MENU")," "))}function C_(i,s){if(i&1){let e=I();a(0,"mat-cell")(1,"button",144),v("click",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowSelectActionMenu(t))}),C(2,"i",145),r()()}}function h_(i,s){i&1&&(a(0,"mat-header-cell",146),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.PICTURE")," "))}function g_(i,s){if(i&1&&(C(0,"img",147),g(1,"cmsthumbnail")),i&2){let e=d().$implicit;_("ngSrc",k(S(1,2,e.linkMainImageIdSrc)))}}function S_(i,s){if(i&1&&(a(0,"mat-cell"),y(1,g_,2,4,"img",147),r()),i&2){let e=s.$implicit;o(),E((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function y_(i,s){if(i&1&&(a(0,"mat-header-cell",146),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function E_(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function M_(i,s){if(i&1&&(a(0,"mat-header-cell",146),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function v_(i,s){if(i&1&&(a(0,"mat-cell",148),c(1),g(2,"cmssiteinfo"),g(3,"async"),r()),i&2){let e=s.$implicit;o(),h(" ",S(3,3,S(2,1,e.linkSiteId))," ")}}function I_(i,s){if(i&1&&(a(0,"mat-header-cell",146),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function b_(i,s){if(i&1&&C(0,"select",150),i&2){let e=d().$implicit,n=d();_("contentService",n.contentService)("row",e)("ngStyle",te(3,Pa,e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)?"":"none"))}}function w_(i,s){if(i&1&&(a(0,"mat-cell",149),g(1,"statusCellClass"),C(2,"i",149),g(3,"statusIconClass"),y(4,b_,1,5,"select",150),r()),i&2){let e=s.$implicit,n=d();_("ngClass",S(1,3,e.recordStatus)),o(2),_("ngClass",S(3,5,e.recordStatus)),o(2),E(!(n.dataModelResult==null||n.dataModelResult.access==null)&&n.dataModelResult.access.accessEditRow?4:-1)}}function T_(i,s){if(i&1&&(a(0,"mat-header-cell",146),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle," ")}}function x_(i,s){if(i&1&&(a(0,"mat-cell"),C(1,"i",149),g(2,"adminStatusIconClass"),r()),i&2){let e=s.$implicit;o(),_("ngClass",S(2,1,e.mainAdminRecordStatus))}}function A_(i,s){if(i&1&&(a(0,"mat-header-cell",146),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.isSoldIt==null?null:e.fieldsInfo.isSoldIt.fieldTitle," ")}}function R_(i,s){if(i&1&&(a(0,"mat-cell"),C(1,"i",149),g(2,"boolclass"),r()),i&2){let e=s.$implicit;o(),_("ngClass",S(2,1,e.isSoldIt))}}function k_(i,s){if(i&1&&(a(0,"mat-header-cell",146),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.viewConfigHiddenInList==null?null:e.fieldsInfo.viewConfigHiddenInList.fieldTitle," ")}}function P_(i,s){if(i&1&&(a(0,"mat-cell"),C(1,"i",149),g(2,"boolclass"),r()),i&2){let e=s.$implicit;o(),_("ngClass",S(2,1,e.viewConfigHiddenInList))}}function L_(i,s){if(i&1&&(a(0,"mat-header-cell",146),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.viewCount==null?null:e.fieldsInfo.viewCount.fieldTitle," ")}}function D_(i,s){if(i&1&&(a(0,"mat-cell",148),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.viewCount," ")}}function V_(i,s){i&1&&(a(0,"mat-header-cell",146),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.Is_Special")," "))}function O_(i,s){if(i&1&&(a(0,"mat-cell"),C(1,"i",149),g(2,"boolclass"),r()),i&2){let e=s.$implicit;o(),_("ngClass",S(2,1,e.adsActive))}}function B_(i,s){if(i&1&&(a(0,"mat-header-cell",146),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," ")}}function W_(i,s){if(i&1&&(a(0,"mat-cell",151),c(1),r()),i&2){let e=s.$implicit;_("ngStyle",te(3,Mf,e.ActiveDataStyle)),o(),Q(" ",e.caseCode," ",e.ActiveDataText)}}function F_(i,s){if(i&1&&(a(0,"mat-header-cell",146),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.scoreEstateLocation==null?null:e.fieldsInfo.scoreEstateLocation.fieldTitle," ")}}function N_(i,s){if(i&1&&(a(0,"mat-cell",149),c(1),r()),i&2){let e=s.$implicit;_("ngClass","cms-cell-score-"+e.scoreEstateLocation),o(),h(" ",e.scoreEstateLocation," ")}}function H_(i,s){if(i&1&&(a(0,"mat-header-cell",146),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.scoreEstateBuild==null?null:e.fieldsInfo.scoreEstateBuild.fieldTitle," ")}}function G_(i,s){if(i&1&&(a(0,"mat-cell",149),c(1),r()),i&2){let e=s.$implicit;_("ngClass","cms-cell-score-"+e.scoreEstateBuild),o(),h(" ",e.scoreEstateBuild," ")}}function U_(i,s){if(i&1&&(a(0,"mat-header-cell",146),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.scoreEstatePrice==null?null:e.fieldsInfo.scoreEstatePrice.fieldTitle," ")}}function q_(i,s){if(i&1&&(a(0,"mat-cell",149),c(1),r()),i&2){let e=s.$implicit;_("ngClass","cms-cell-score-"+e.scoreEstatePrice),o(),h(" ",e.scoreEstatePrice," ")}}function j_(i,s){if(i&1&&(a(0,"mat-header-cell",146),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Q_(i,s){if(i&1&&(a(0,"mat-cell",152),c(1),g(2,"localeDateTime"),r()),i&2){let e=s.$implicit;o(),h(" ",S(2,1,e.createdDate)," ")}}function Y_(i,s){if(i&1&&(a(0,"mat-header-cell",146),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function z_(i,s){if(i&1&&(a(0,"mat-cell",152),c(1),g(2,"localeDateTime"),r()),i&2){let e=s.$implicit;o(),h(" ",S(2,1,e.updatedDate)," ")}}function K_(i,s){i&1&&(a(0,"mat-header-cell",153),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.OPTION")," "))}function J_(i,s){if(i&1&&(a(0,"mat-cell",154)(1,"button",155)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,14),r()),i&2){let e=L(5);o(),_("matMenuTriggerFor",e)}}function Z_(i,s){i&1&&(a(0,"mat-header-cell",146),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.LINKTO")," "))}function X_(i,s){if(i&1){let e=I();a(0,"mat-cell")(1,"button",156),v("click",function(){let t=u(e).$implicit,l=d();return f(l.onActionButtonLinkTo(t))}),a(2,"mat-icon",157),c(3,"\u2197"),r()()()}}function $_(i,s){i&1&&(a(0,"mat-header-cell",146),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.QUICK_VIEW")," "))}function e1(i,s){if(i&1){let e=I();a(0,"mat-cell")(1,"button",156),v("click",function(){let t=u(e).$implicit,l=d();return f(l.onActionButtonQuickViewRow(t))}),a(2,"mat-icon",157),c(3,"visibility"),r()()()}}function t1(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function i1(i,s){if(i&1&&(C(0,"img",158),g(1,"cmsthumbnail")),i&2){let e=d().$implicit;_("ngSrc",k(S(1,2,e.linkMainImageIdSrc)))}}function n1(i,s){if(i&1&&(a(0,"tr")(1,"td",148),c(2),g(3,"translate"),r(),a(4,"td",148),c(5),r()()),i&2){let e=d().$implicit;o(2),h(" ",S(3,2,"TITLE.SquareMeters")," "),o(3),b(e.area)}}function o1(i,s){if(i&1&&(a(0,"tr")(1,"td",148),c(2),g(3,"translate"),r(),a(4,"td",148),c(5),r()()),i&2){let e=d().$implicit;o(2),h(" ",S(3,2,"TITLE.CreatedYaer")," "),o(3),b(e.createdYaer)}}function r1(i,s){if(i&1){let e=I();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),y(5,i1,2,4,"img",158),r(),a(6,"th",148)(7,"span",159),v("click",function(){u(e);let t=d();return f(t.onActionCopied())}),C(8,"i",160),r(),c(9),r()(),a(10,"tr"),C(11,"td"),a(12,"td",148),c(13),r()(),a(14,"tr")(15,"td"),c(16),r(),a(17,"td",148),c(18),r()(),y(19,n1,6,4,"tr"),y(20,o1,6,4,"tr"),a(21,"tr"),C(22,"td"),a(23,"td",148),c(24),r()(),a(25,"tr"),C(26,"td"),a(27,"td",148),c(28),r()(),a(29,"tr")(30,"td",148),c(31),g(32,"translate"),r(),a(33,"td",148),c(34),r()(),a(35,"tr"),C(36,"td"),a(37,"td",148),c(38),g(39,"cmsuserinfo"),g(40,"async"),r()(),a(41,"tr")(42,"td",148),c(43),g(44,"translate"),r(),a(45,"td",148),c(46),r()(),a(47,"tr"),C(48,"td")(49,"td"),r()()()()}if(i&2){let e=s.$implicit,n=d();o(5),E((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),_("cdkCopyToClipboard",e.id),o(2),h(" ",e.id," "),o(4),b(e.title),o(3),b(n.fieldsInfo.caseCode==null?null:n.fieldsInfo.caseCode.fieldTitle),o(2),b(e.caseCode),o(),E(e.area&&e.area>0?19:-1),o(),E(e.createdYaer&&e.createdYaer>0?20:-1),o(4),h(" ",e.linkLocationIdParentTitle," "),o(4),b(e.linkLocationIdTitle),o(3),h(" ",S(32,15,"TITLE.ADDRESS")," : "),o(3),b(e.address),o(4),h(" ",S(40,19,S(39,17,e.createdBy))," "),o(5),h(" ",S(44,21,"TITLE.HISTORY")," : "),o(3),b(e.historyTotalCount)}}var Yn=class Yn extends Bt{constructor(e,n,t,l,p,m,O,J,$,Te,Ee,ke,St,at,xe){super(e,new di,p,$,at);this.contentService=e;this.configService=n;this.themeService=t;this.activatedRoute=l;this.publicHelper=p;this.cmsToastrService=m;this.cmsConfirmationDialogService=O;this.estatePropertyDetailGroupService=J;this.tokenHelper=$;this.cmsStoreService=Te;this.router=Ee;this.cdr=ke;this.dialog=St;this.translate=at;this.pageInfo=xe;this.requestLinkPropertyTypeLanduseId="";this.requestLinkPropertyTypeUsageId="";this.requestLinkContractTypeId="";this.requestLinkBillboardId="";this.requestLinkCustomerOrderId="";this.requestLinkCustomerOrderIdHaveHistory="";this.requestLinkProjectId="";this.requestLinkCompanyId="";this.requestLinkEstateExpertId="";this.requestLinkEstateAgencyId="";this.requestLinkUserId=0;this.requestInChecking=!1;this.requestAction="";this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.optionsortType=ie.Descending;this.responsibleUserId=0;this.flag=!1;this.tablePropertySelected=[];this.searchInCheckingChecked=!1;this.searchInResponsibleChecked=!1;this.filteModelContent=new xi;this.dataModelPropertyDetailGroups=[];this.dataConfigSiteValuesModel=new Or;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","mainAdminRecordStatus","IsSoldIt","ViewConfigHiddenInList","linkSiteId","AdsActive","ViewCount","caseCode","scoreEstateLocation","scoreEstateBuild","scoreEstatePrice","createdDate","updatedDate","LinkTo","QuickView","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IsSoldIt","caseCode","LinkTo","QuickView","action_menu"];this.propertyDetails=new Map;this.enumInputDataType=Vi;this.step=0;this.unsubscribe=[];this.actionbuttonExportOn=!1;this.PropertyTypeSelected=new ht;this.dataModelCorCurrencySelector=new Di;if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId"),this.requestLinkPropertyTypeUsageId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeUsageId"),this.requestLinkContractTypeId=this.activatedRoute.snapshot.paramMap.get("LinkContractTypeId"),this.requestLinkBillboardId=this.activatedRoute.snapshot.paramMap.get("LinkBillboardId"),this.requestLinkCustomerOrderId=this.activatedRoute.snapshot.paramMap.get("LinkCustomerOrderId"),this.requestLinkProjectId=this.activatedRoute.snapshot.paramMap.get("LinkProjectId"),this.requestLinkCompanyId=this.activatedRoute.snapshot.paramMap.get("LinkCompanyId"),this.requestLinkEstateExpertId=this.activatedRoute.snapshot.paramMap.get("LinkEstateExpertId"),this.requestLinkEstateAgencyId=this.activatedRoute.snapshot.paramMap.get("LinkEstateAgencyId"),this.requestLinkUserId=+this.activatedRoute.snapshot.paramMap.get("LinkUserId")|0,this.requestAction=this.activatedRoute.snapshot.paramMap.get("Action"),this.activatedRoute.snapshot.paramMap.get("InChecking")&&(this.searchInCheckingChecked=this.activatedRoute.snapshot.paramMap.get("InChecking")==="true"),this.optionsSearch.parentMethods={onSubmit:D=>this.onSubmitOptionsSearch(D)},this.responsibleUserId=+this.activatedRoute.snapshot.paramMap.get("ResponsibleUserId"),this.requestRecordStatus=Ae[this.activatedRoute.snapshot.paramMap.get("recordStatus")+""],this.requestRecordStatus&&(this.optionsSearch.data.show=!0,this.optionsSearch.data.defaultQuery='{"condition":"and","rules":[{"field":"recordStatus","type":"select","operator":"equal","value":"'+this.requestRecordStatus+'"}]}',this.requestRecordStatus=null),this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=ie.Descending,this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0){let D=new V;D.propertyName="LinkPropertyTypeLanduseId",D.value=this.requestLinkPropertyTypeLanduseId,this.filteModelContent.filters.push(D)}if(this.requestLinkPropertyTypeUsageId&&this.requestLinkPropertyTypeUsageId.length>0){let D=new V;D.propertyName="LinkPropertyTypeUsageId",D.value=this.requestLinkPropertyTypeUsageId,this.filteModelContent.filters.push(D)}if(this.requestLinkContractTypeId&&this.requestLinkContractTypeId.length>0){let D=new V;D.propertyName="Contracts",D.propertyAnyName="LinkEstateContractTypeId",D.value=this.requestLinkContractTypeId,this.filteModelContent.filters.push(D)}if(this.requestLinkUserId&&this.requestLinkUserId>0){let D=new V;D.propertyName="linkCmsUserId",D.value=this.requestLinkUserId,this.filteModelContent.filters.push(D)}if(this.requestLinkProjectId&&this.requestLinkProjectId.length>0){let D=new V;D.propertyName="linkPropertyProjectId",D.value=this.requestLinkProjectId,this.filteModelContent.filters.push(D)}if(this.requestLinkCompanyId&&this.requestLinkCompanyId.length>0){let D=new V;D.propertyName="linkPropertyCompanyId",D.value=this.requestLinkCompanyId,this.filteModelContent.filters.push(D)}if(this.requestLinkEstateExpertId&&this.requestLinkEstateExpertId.length>0){let D=new V;D.propertyName="linkEstateExpertId",D.value=this.requestLinkEstateExpertId,this.filteModelContent.filters.push(D)}if(this.requestLinkEstateAgencyId&&this.requestLinkEstateAgencyId.length>0){let D=new V;D.propertyName="linkEstateAgencyId",D.value=this.requestLinkEstateAgencyId,this.filteModelContent.filters.push(D)}}set optionLinkCustomerOrderId(e){e&&e.length>0&&(this.requestLinkCustomerOrderId=e)}set optionLinkCustomerOrderIdHaveHistory(e){e&&e.length>0&&(this.requestLinkCustomerOrderIdHaveHistory=e)}set optionLinkBillboardId(e){e&&e.length>0&&(this.requestLinkBillboardId=e)}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&(this.tokenInfo?.access?.siteId>0&&this.GetServiceSiteConfig(this.tokenInfo.access.siteId),this.DataGetAll(),!this.tokenHelper.isAdminSite&&!this.tokenHelper.isSupportSite&&(this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstateLocation"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstateBuild"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstatePrice"))),this.tokenInfo.access.direction,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.tokenInfo?.access?.siteId>0&&this.GetServiceSiteConfig(this.tokenInfo.access.siteId),this.DataGetAll(),!this.tokenHelper.isAdminSite&&!this.tokenHelper.isSupportSite&&(this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstateLocation"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstateBuild"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstatePrice"))})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}GetServiceSiteConfig(e){let n=this.constructor.name+"ServiceSiteConfig";this.translate.get("MESSAGE.get_module_setting").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.configService.ServiceSiteConfig(e).subscribe({next:t=>{t.isSuccess?(this.dataConfigSiteValuesModel=t.item,this.RowStyleActiveData()):this.cmsToastrService.typeErrorGetOne(t.errorMessage),this.publicHelper.processService.processStop(n)},error:t=>{this.cmsToastrService.typeErrorGetOne(t),this.publicHelper.processService.processStop(n,!1)}})}DataGetAll(){if(this.themeService.onActionScrollTopList(!0,1e4),this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;var e=0;this.searchInResponsibleChecked?e=this.tokenInfo.access.userId:this.responsibleUserId>0&&(e=this.responsibleUserId),this.optionsortType&&(this.filteModelContent.sortType=this.optionsortType),this.tableRowsSelected=[],this.onActionTableRowSelect(new di);let n=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(p=>{this.publicHelper.processService.processStart(n,p,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length>0){let p=new V;p.propertyName="LinkPropertyTypeLanduseId",p.value=this.categoryModelSelected.id,t.filters.push(p)}if(this.searchInCheckingChecked){let p=new V;p.propertyName="recordStatus",p.value=Ae.Pending,t.filters.push(p)}if(e>0)this.contentService.ServiceGetAllWithResponsibleUserId(e,t).subscribe({next:p=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(p.access),p.isSuccess?(this.dataModelResult=p,this.RowStyleActiveData(),this.tableSource.data=p.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(p.access)},1e3)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(n)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(n,!1)}});else if(this.requestLinkBillboardId&&this.requestLinkBillboardId.length>0)this.actionbuttonExportOn=!1,this.contentService.setAccessDataType(Me.Editor),this.contentService.ServiceGetAllWithCoverBillboardId(this.requestLinkBillboardId,t).subscribe({next:p=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(p.access),p.isSuccess?(this.dataModelResult=p,this.RowStyleActiveData(),this.tableSource.data=p.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(p.access)},1e3)):this.cmsToastrService.typeErrorGetAll(p.errorMessage),this.publicHelper.processService.processStop(n)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(n)}});else if(this.requestLinkCustomerOrderId?.length>0)this.actionbuttonExportOn=!1,this.contentService.setAccessDataType(Me.Editor),this.contentService.ServiceGetAllWithCoverCustomerOrderId(this.requestLinkCustomerOrderId,t).subscribe({next:p=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(p.access),p.isSuccess?(this.dataModelResult=p,this.RowStyleActiveData(),this.tableSource.data=p.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(p.access)},1e3)):this.cmsToastrService.typeErrorGetAll(p.errorMessage),this.publicHelper.processService.processStop(n)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(n)}});else if(this.requestLinkCustomerOrderIdHaveHistory&&this.requestLinkCustomerOrderIdHaveHistory.length>0)this.actionbuttonExportOn=!1,this.contentService.setAccessDataType(Me.Editor),this.contentService.ServiceGetAllWithCoverCustomerOrderIdHaveHistory(this.requestLinkCustomerOrderIdHaveHistory,t).subscribe({next:p=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(p.access),p.isSuccess?(this.dataModelResult=p,this.RowStyleActiveData(),this.tableSource.data=p.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(p.access)},1e3)):this.cmsToastrService.typeErrorGetAll(p.errorMessage),this.publicHelper.processService.processStop(n)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(n)}});else{var l=[];this.dataModelPropertyDetailGroups&&this.dataModelPropertyDetailGroups.forEach(p=>{p.propertyDetails.forEach(m=>{let O=new Bi;O.linkPropertyDetailId=m.id,O.value=this.propertyDetails[m.id],l.push(O)})}),t.propertyDetailValues=l,this.contentService.setAccessDataType(Me.Editor),this.contentService.ServiceGetAll(t).subscribe({next:p=>{this.actionbuttonExportOn=!0,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(p.access),p.isSuccess?(this.dataModelResult=p,this.RowStyleActiveData(),this.tableSource.data=p.listItems,this.requestAction?.length>0&&this.requestAction==="quick-add"&&(this.requestAction="",this.onActionButtonQuickAddRow()),this.optionsSearch.data.show&&this.optionsStatist.data.show&&(this.optionsStatist.data.show=!this.optionsStatist.data.show,this.onActionButtonStatist()),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(p.access)},1e3)):this.cmsToastrService.typeErrorGetAll(p.errorMessage),this.publicHelper.processService.processStop(n)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(n,!1)}})}}DataGetPropertyDetailGroup(e){let n=new me,t=new V;t.propertyName="LinkPropertyTypeLanduseId",t.value=e,n.filters.push(t),this.dataModelPropertyDetailGroups=[];let l=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("MESSAGE.Get_detailed_information").subscribe(p=>{this.publicHelper.processService.processStart(l,p,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAllFastSearch(n).subscribe({next:p=>{p.isSuccess?(this.dataModelPropertyDetailGroups=p.listItems,this.dataModelPropertyDetailGroups&&this.dataModelPropertyDetailGroups.forEach(m=>{m.propertyDetails.forEach(O=>{this.propertyDetails[O.id]=0})})):this.cmsToastrService.typeErrorGetAccess(p.errorMessage),this.publicHelper.processService.processStop(l)},error:p=>{this.cmsToastrService.typeErrorGetAccess(p),this.publicHelper.processService.processStop(l,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ie.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ie.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ie.Descending),this.filteModelContent.sortColumn=="AdsActive"&&(this.filteModelContent.sortColumn="AdsExpireDate"),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(e){if(this.categoryModelSelected==null&&this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length===0&&(this.requestLinkPropertyTypeLanduseId==null||this.requestLinkPropertyTypeLanduseId.length===0)){this.translate.get("MESSAGE.Content_not_selected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let n=this.requestLinkPropertyTypeLanduseId;this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(n=this.categoryModelSelected.id),n&&n.length>0?e?.ctrlKey?(this.link="/#/estate/property/add/LinkPropertyTypeLanduseId/"+n,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/add/LinkPropertyTypeLanduseId",n]):e?.ctrlKey?(this.link="/#/estate/property/add/",window.open(this.link,"_blank")):this.router.navigate(["/estate/property/add"])}onActionSelectorSelect(e){var n=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new xi,this.filteModelContent.sortColumn=n,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected,n){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}n?.ctrlKey?(this.link="/#/estate/property/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/edit",this.tableRowSelected.id])}onActionButtonQuickViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n=this.publicHelper.InfoNextRowInList(this.dataModelResult.listItems,this.tableRowSelected),t=this.publicHelper.InfoPerviousRowInList(this.dataModelResult.listItems,this.tableRowSelected),l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(Qo,{height:"90%",panelClass:l,data:{id:this.tableRowSelected.id,perviousItem:t,nextItem:n}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&m.onActionOpenItem&&m.onActionOpenItem.id.length>0&&this.onActionButtonQuickViewRow(m.onActionOpenItem)})}onActionButtonQuickAddRow(e){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}e?.ctrlKey&&(this.link="/#/estate/property/add/",window.open(this.link,"_blank"));var n="";this.publicHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(cr,{height:"90%",enterAnimationDuration:N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:N.cmsViewConfig.exitAnimationDuration,panelClass:n,data:{}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonQuickHistoryAddRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e,this.onActionTableRowSelect(e);var n="";this.publicHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Fo,{height:"90%",panelClass:n,enterAnimationDuration:N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:N.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:null,linkPropertyId:e.id,linkEstateExpertId:null,linkCustomerOrderId:null,linkEstateAgencyId:null}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonAdsRow(e=this.tableRowSelected,n){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}n?.ctrlKey?(this.link="/#/estate/property-ads/LinkPropertyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-ads/LinkPropertyId",this.tableRowSelected.id])}onActionButtonHistoryRow(e=this.tableRowSelected,n){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}n?.ctrlKey?(this.link="/#/estate/property-history/LinkPropertyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkPropertyId",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{n=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Deleting_information").subscribe(m=>{this.publicHelper.processService.processStart(p,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(p)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.property_list").subscribe(at=>{this.publicHelper.processService.processStart(this.constructor.name+"All",at,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Me.Editor);let t=JSON.parse(JSON.stringify(this.filteModelContent)),l=this.contentService.ServiceGetCount(t),p=JSON.parse(JSON.stringify(this.filteModelContent)),m=new V;m.propertyName="recordStatus",m.value=Ae.Available,p.filters.push(m);let O=this.contentService.ServiceGetCount(p),J=JSON.parse(JSON.stringify(this.filteModelContent)),$=new V;$.propertyName="recordStatus",$.value=Ae.Disable,J.filters.push($);let Te=this.contentService.ServiceGetCount(J),Ee=JSON.parse(JSON.stringify(this.filteModelContent)),ke=new V;ke.propertyName="recordStatus",ke.value=Ae.Pending,Ee.filters.push(ke);let St=this.contentService.ServiceGetCount(Ee);ao([l,O,Te,St]).subscribe(at=>{var xe=at[0];xe.isSuccess?this.translate.get("TITLE.All").subscribe(D=>{n.set(D,xe.totalRowCount)}):this.cmsToastrService.typeErrorMessage(xe.errorMessage);var xe=at[1];xe.isSuccess?this.translate.get("TITLE.Number_of_rows_in_the_recordstatus_available").subscribe(D=>{n.set(D,xe.totalRowCount)}):this.cmsToastrService.typeErrorMessage(xe.errorMessage),xe=at[2],xe.isSuccess?this.translate.get("TITLE.Number_of_rows_in_the_recordstatus_disable").subscribe(D=>{n.set(D,xe.totalRowCount)}):this.cmsToastrService.typeErrorMessage(xe.errorMessage),xe=at[3],xe.isSuccess?this.translate.get("TITLE.Number_of_rows_in_the_recordstatus_pending").subscribe(D=>{n.set(D,xe.totalRowCount)}):this.cmsToastrService.typeErrorMessage(xe.errorMessage),this.optionsStatist.childMethods.setStatistValue(n),this.publicHelper.processService.processStop(this.constructor.name+"All")})}onActionButtonActionSendSmsToCustomerOrder(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;let n=this.constructor.name+"main";this.translate.get("ACTION.ActionSendSmsToCustomerOrder").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Me.Editor),this.contentService.ServiceActionSendSmsToCustomerOrder(e.id).subscribe({next:t=>{t.isSuccess?this.cmsToastrService.typeSuccessMessage(t.errorMessage):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(n)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onActionButtonViewOtherUserAdvertise(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,e.linkCmsUserId&&e.linkCmsUserId>0?this.requestLinkUserId=e.linkCmsUserId:this.requestLinkUserId=e.createdBy,e.linkCmsUserId&&e.linkCmsUserId>0){let n=new V;n.propertyName="linkCmsUserId",n.value=e.linkCmsUserId,n.clauseType=st.Or,this.filteModelContent.filters.push(n);let t=new V;t.propertyName="createdBy",t.value=e.linkCmsUserId,t.clauseType=st.Or,this.filteModelContent.filters.push(n)}if(e.createdBy&&e.createdBy>0){let n=new V;n.propertyName="linkCmsUserId",n.value=e.createdBy,n.clauseType=st.Or,this.filteModelContent.filters.push(n);let t=new V;t.propertyName="createdBy",t.value=e.createdBy,t.clauseType=st.Or,this.filteModelContent.filters.push(n)}this.DataGetAll()}onActionButtonInChecking(e=this.searchInCheckingChecked){this.searchInCheckingChecked=e,this.DataGetAll()}onActionButtonInResponsible(e=this.searchInResponsibleChecked){this.searchInResponsibleChecked=e,this.DataGetAll()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=Ae.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(e);let n=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Me.Editor),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(Ii,{height:"90%",panelClass:l,enterAnimationDuration:N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:N.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(n)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onActionSelectorLocation(e){this.filteModelContent.linkLocationIds=e}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(n=>{this.cmsToastrService.typeWarningSelected(n)});return}this.filteModelContent.linkPropertyTypeUsageId=e.id}onActionSelectorSelectLanduse(e){if(this.dataModelPropertyDetailGroups=[],this.PropertyTypeSelected=null,this.filteModelContent.linkPropertyTypeLanduseId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(n=>{this.cmsToastrService.typeWarningSelected(n)});return}this.DataGetPropertyDetailGroup(e.id),this.PropertyTypeSelected=e,this.filteModelContent.linkPropertyTypeLanduseId=e.id}onActionSelectorContarctType(e){if(this.contractTypeSelected=null,this.filteModelContent.linkContractTypeId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(n=>{this.cmsToastrService.typeWarningSelected(n)});return}this.contractTypeSelected=e,this.filteModelContent.linkContractTypeId=e.id}onActionSelectCurrency(e){if(!e||e.id<=0){this.dataModelCorCurrencySelector=null,this.filteModelContent.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.filteModelContent.linkCoreCurrencyId=e.id}onActionButtonResponsibleUserlistView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;var n="";this.publicHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(dr,{height:"90%",panelClass:n,enterAnimationDuration:N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:N.cmsViewConfig.exitAnimationDuration,data:{title:this.tableRowSelected.title,id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}onSearchCaseCodeChange(e){e&&e.length>0&&(this.filteModelContent=new xi,this.filteModelContent.caseCode=e,this.dataModelPropertyDetailGroups=[])}RowStyleActiveData(){if(!(!this.dataModelResult.listItems||this.dataModelResult.listItems.length===0||!this.dataConfigSiteValuesModel||this.dataConfigSiteValuesModel.autoArchiveDataDay<=0)){var e=new Date;e.setDate(e.getDate()-this.dataConfigSiteValuesModel.autoArchiveDataDay);for(let n=0;n<this.dataModelResult.listItems.length;n++){let t=this.dataModelResult.listItems[n];this.dataModelResult.listItems[n].ActiveDataStyle="",this.dataModelResult.listItems[n].ActiveDataText="",t.updatedDate?new Date(t.updatedDate)<e&&(this.dataModelResult.listItems[n].ActiveDataStyle="#ff9c91",this.dataModelResult.listItems[n].ActiveDataText="\u0622\u0631\u0634\u06CC\u0648 \u062E\u0648\u062F\u06A9\u0627\u0631  \u0633\u06CC\u0633\u062A\u0645\u06CC"):new Date(t.createdDate)<e&&(this.dataModelResult.listItems[n].ActiveDataStyle="#ff9c01",this.dataModelResult.listItems[n].ActiveDataText="\u0622\u0631\u0634\u06CC\u0648 \u062E\u0648\u062F\u06A9\u0627\u0631  \u0633\u06CC\u0633\u062A\u0645\u06CC")}}}};Yn.\u0275fac=function(n){return new(n||Yn)(M(Xt),M(Hr),M(ft),M(Zt),M(U),M(F),M(Vt),M(Fi),M(z),M(Y),M(Mt),M(H),M(oe),M(W),M(Dt))},Yn.\u0275cmp=B({type:Yn,selectors:[["app-estate-property-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionsortType:"optionsortType",optionLinkCustomerOrderId:"optionLinkCustomerOrderId",optionLinkCustomerOrderIdHaveHistory:"optionLinkCustomerOrderIdHaveHistory",optionLinkBillboardId:"optionLinkBillboardId"},standalone:!1,features:[ee],decls:191,vars:92,consts:[["caseCode",""],["tableSort","matSort"],["paginator",""],["CreatedYaer",""],["Partition",""],["Area",""],["SalePriceMin",""],["RentPriceMin",""],["DepositPriceMin",""],["PeriodPriceMin",""],["SalePriceMax",""],["RentPriceMax",""],["DepositPriceMax",""],["PeriodPriceMax",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"routerLink"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],[1,"ntk-full-width"],["matInput","","name","filteModelContent.caseCode","type","text","step","1",3,"input","ngModelChange","ngModel","placeholder"],["matPrefix","","matPrefix","","mat-icon-button","","aria-label","Clear"],["matPrefix",""],["matSuffix","",1,"info-field-icon"],[1,"info-field-text"],["cms-body",""],["matSort","","multiTemplateDataRows","",1,"ntk-cms-html-table",3,"matSortChange","dataSource"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["class","col-form-label",4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","mainAdminRecordStatus"],["matColumnDef","IsSoldIt"],["matColumnDef","ViewConfigHiddenInList"],["matColumnDef","ViewCount"],["matColumnDef","AdsActive"],["matColumnDef","caseCode"],["class","col-form-label",3,"ngStyle",4,"matCellDef"],["matColumnDef","scoreEstateLocation"],["matColumnDef","scoreEstateBuild"],["matColumnDef","scoreEstatePrice"],["matColumnDef","createdDate"],["class","col-form-label","style","direction: ltr; justify-content: center; text-align: center",4,"matCellDef"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","form-label",4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","QuickView"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-light","fa-message-lines","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-bullseye-pointer","font-18",2,"color","#ffffff"],["matPrefix","","matPrefix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"optionPlaceholder"],[3,"optionChange","optionPlaceholder"],[3,"optionChange","optionTypeView","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[1,"row",2,"direction","rtl"],[1,"col-md-6","col-sm-6","col-xs-9"],[1,"example-headers-align"],[3,"expanded"],["for","filteModelContent.createdYaer",1,"color-highlight"],["matInput","","name","filteModelContent.createdYaer","type","number","id","filteModelContent.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.partition",1,"color-highlight"],["matInput","","name","filteModelContent.partition","type","number","id","filteModelContent.partition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.area",1,"color-highlight"],["matInput","","name","filteModelContent.area","type","text","currencyMask","","step","10","id","filteModelContent.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.salePriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.salePriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.salePriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.rentPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.rentPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.rentPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.depositPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.depositPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.depositPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.periodPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.periodPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.periodPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.salePriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.salePriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.salePriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.rentPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.rentPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.rentPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.depositPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.depositPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.depositPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.periodPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.periodPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.periodPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],[3,"opened","expanded"],[2,"width","100px"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionRequired","optionLabel"],[3,"modelChange","model","optionRequired","optionLabel"],[3,"modelChange","model"],[3,"modelChange","model","optionRequired"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header","",1,"form-label"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"ngSrc"],[1,"col-form-label"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"col-form-label",3,"ngStyle"],[1,"col-form-label",2,"direction","ltr","justify-content","center","text-align","center"],[1,"form-label"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"text-dark",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],[2,"color","#ff671f"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"ngSrc"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(n,t){if(n&1){let l=I();y(0,vf,1,1,"app-core-user-header",15),y(1,If,1,1,"app-estate-billboard-header",15),y(2,bf,1,1,"app-estate-contract-type-header",15),y(3,wf,1,1,"app-estate-customer-order-header",15),y(4,Tf,1,1,"app-estate-property-type-landuse-header",15),y(5,xf,1,1,"app-estate-property-type-usage-header",15),y(6,Af,1,1,"app-estate-property-project-header",15),y(7,Rf,1,1,"app-estate-property-company-header",15),a(8,"app-cms-html-list",16),x("optionActionGuideNoticeDisplayChange",function(m){return u(l),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),v("optionOnActionButtonMemoRow",function(){return u(l),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(l),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(l),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(l),f(t.onActionButtonPrintRow())}),A(9,17),a(10,"app-estate-property-type-landuse-tree",18),v("optionChange",function(m){return u(l),f(t.onActionSelectorSelect(m))}),r(),R(),Ue(11,19)(12,20),A(13,21),y(14,kf,2,0,"a",22),a(15,"a",23),v("click",function(){return u(l),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(16,"i",24),r(),a(17,"a",23),v("click",function(){return u(l),f(t.onActionButtonReload())}),C(18,"i",25),r(),a(19,"a",26),v("click",function(){return u(l),f(t.onActionGridExpandRows(!0))}),C(20,"i",27),r(),a(21,"a",26),v("click",function(){return u(l),f(t.onActionGridExpandRows(!1))}),C(22,"i",28),r(),R(),A(23,29),a(24,"a",30),v("click",function(){return u(l),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(25,"mat-slide-toggle",31),c(26),g(27,"translate"),r(),a(28,"a",30),v("click",function(){return u(l),f(t.onActionButtonStatist())}),C(29,"mat-slide-toggle",31),c(30),g(31,"translate"),r(),a(32,"a",30),v("click",function(){return u(l),f(t.onActionButtonInChecking(!t.searchInCheckingChecked))}),C(33,"mat-slide-toggle",31),c(34),g(35,"translate"),r(),a(36,"a",30),v("click",function(){return u(l),f(t.onActionButtonInResponsible(!t.searchInResponsibleChecked))}),C(37,"mat-slide-toggle",31),c(38),g(39,"translate"),r(),R(),A(40,32),y(41,Pf,7,3,"div",33),y(42,Lf,7,3,"div",33),R(),A(43,34),a(44,"div",33)(45,"a",23),v("click",function(){return u(l),f(t.onActionButtonQuickViewRow(t.tableRowSelected))}),C(46,"i",35)(47,"br"),r(),a(48,"p",36),c(49),g(50,"translate"),r()(),y(51,Df,7,3,"div",33),y(52,Vf,7,3,"div",33),y(53,Of,7,3,"div",33),y(54,Bf,7,3,"div",33),a(55,"div",33)(56,"a",23),v("click",function(){return u(l),f(t.onActionButtonQuickHistoryAddRow(t.tableRowSelected))}),C(57,"i",37)(58,"br"),r(),a(59,"p",36),c(60),g(61,"translate"),r()(),a(62,"div",33)(63,"a",23),v("click",function(m){return u(l),f(t.onActionButtonHistoryRow(t.tableRowSelected,m))}),C(64,"i",37)(65,"br"),r(),a(66,"p",36),c(67),g(68,"translate"),r()(),a(69,"div",33)(70,"a",23),v("click",function(){return u(l),f(t.onActionButtonViewOtherUserAdvertise(t.tableRowSelected))}),C(71,"i",38)(72,"br"),r(),a(73,"p",36),c(74),g(75,"translate"),r()(),a(76,"div",33)(77,"a",39),C(78,"i",38)(79,"br"),r(),a(80,"p",36),c(81),g(82,"translate"),r()(),a(83,"div",33)(84,"a",23),v("click",function(){return u(l),f(t.onActionButtonLinkTo(t.tableRowSelected))}),C(85,"i",40)(86,"br"),r(),a(87,"p",36),c(88),g(89,"translate"),r()(),a(90,"div",33)(91,"a",23),v("click",function(){return u(l),f(t.onActionButtonResponsibleUserlistView(t.tableRowSelected))}),C(92,"i",40)(93,"br"),r(),a(94,"p",36),c(95),g(96,"translate"),r()(),y(97,Wf,3,5,"button",39),R(),A(98,41),a(99,"app-cms-search-list",42),x("optionsChange",function(m){return u(l),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),C(100,"hr"),a(101,"p"),c(102),g(103,"translate"),r(),a(104,"mat-form-field",43)(105,"mat-label"),c(106),r(),a(107,"input",44,0),v("input",function(m){return u(l),f(t.onSearchCaseCodeChange(m.target.value))}),x("ngModelChange",function(m){return u(l),T(t.filteModelContent.caseCode,m)||(t.filteModelContent.caseCode=m),f(m)}),r(),y(109,Ff,2,0,"mat-icon",45),a(110,"mat-icon",46),c(111," mode_edit"),r(),a(112,"mat-hint")(113,"mat-icon",47),c(114),g(115,"translate"),r(),a(116,"strong",48),c(117),r()()(),y(118,d_,44,35,"div"),r(),a(119,"app-cms-statist-list",42),x("optionsChange",function(m){return u(l),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),r(),R(),A(120,49),a(121,"mat-table",50,1),v("matSortChange",function(){u(l);let m=L(122);return f(t.onTableSortData(m))}),P(123,p_,1,0,"mat-header-row",51)(124,m_,1,2,"mat-row",52)(125,u_,1,2,"mat-row",53)(126,f_,1,5,"mat-row",54),A(127,55),P(128,__,3,3,"mat-header-cell",56)(129,C_,3,0,"mat-cell",57),R(),A(130,58),P(131,h_,3,3,"mat-header-cell",59)(132,S_,2,1,"mat-cell",57),R(),A(133,60),P(134,y_,2,1,"mat-header-cell",59)(135,E_,2,1,"mat-cell",57),R(),A(136,61),P(137,M_,2,1,"mat-header-cell",59)(138,v_,4,5,"mat-cell",62),R(),A(139,63),P(140,I_,2,1,"mat-header-cell",59)(141,w_,5,7,"mat-cell",64),R(),A(142,65),P(143,T_,2,1,"mat-header-cell",59)(144,x_,3,3,"mat-cell",57),R(),A(145,66),P(146,A_,2,1,"mat-header-cell",59)(147,R_,3,3,"mat-cell",57),R(),A(148,67),P(149,k_,2,1,"mat-header-cell",59)(150,P_,3,3,"mat-cell",57),R(),A(151,68),P(152,L_,2,1,"mat-header-cell",59)(153,D_,2,1,"mat-cell",62),R(),A(154,69),P(155,V_,3,3,"mat-header-cell",59)(156,O_,3,3,"mat-cell",57),R(),A(157,70),P(158,B_,2,1,"mat-header-cell",59)(159,W_,2,5,"mat-cell",71),R(),A(160,72),P(161,F_,2,1,"mat-header-cell",59)(162,N_,2,2,"mat-cell",64),R(),A(163,73),P(164,H_,2,1,"mat-header-cell",59)(165,G_,2,2,"mat-cell",64),R(),A(166,74),P(167,U_,2,1,"mat-header-cell",59)(168,q_,2,2,"mat-cell",64),R(),A(169,75),P(170,j_,2,1,"mat-header-cell",59)(171,Q_,3,3,"mat-cell",76),R(),A(172,77),P(173,Y_,2,1,"mat-header-cell",59)(174,z_,3,3,"mat-cell",76),R(),A(175,78),P(176,K_,3,3,"mat-header-cell",79)(177,J_,6,1,"mat-cell",80),R(),A(178,81),P(179,Z_,3,3,"mat-header-cell",59)(180,X_,4,0,"mat-cell",57),R(),A(181,82),P(182,$_,3,3,"mat-header-cell",59)(183,e1,4,0,"mat-cell",57),R(),A(184,83),P(185,t1,2,1,"mat-cell",57),R(),A(186,84),P(187,r1,50,23,"mat-cell",57),R(),r(),R(),A(188,85),a(189,"mat-paginator",86,2),v("page",function(m){return u(l),f(t.onTablePageingData(m))}),r(),R(),r()}n&2&&(E(t.requestLinkUserId>0?0:-1),o(),E((t.requestLinkBillboardId==null?null:t.requestLinkBillboardId.length)>0?1:-1),o(),E((t.requestLinkContractTypeId==null?null:t.requestLinkContractTypeId.length)>0?2:-1),o(),E((t.requestLinkCustomerOrderId==null?null:t.requestLinkCustomerOrderId.length)>0?3:-1),o(),E((t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0?4:-1),o(),E((t.requestLinkPropertyTypeUsageId==null?null:t.requestLinkPropertyTypeUsageId.length)>0?5:-1),o(),E((t.requestLinkProjectId==null?null:t.requestLinkProjectId.length)>0?6:-1),o(),E((t.requestLinkCompanyId==null?null:t.requestLinkCompanyId.length)>0?7:-1),o(),_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","estate.property.list"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),E((t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0?14:-1),o(4),q("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),_("checked",t.optionsSearch.data.show),o(),h("",S(27,63,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",S(31,65,"ACTION.STATIST")," "),o(3),_("checked",t.searchInCheckingChecked),o(),h(" ",S(35,67,"ACTION.INCHECKING")," "),o(3),_("checked",t.searchInResponsibleChecked),o(),h(" ",S(39,69,"ACTION.InResponsible")," "),o(3),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&t.optionloadByRoute?41:-1),o(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&t.optionloadByRoute?42:-1),o(7),h(" ",S(50,71,"ACTION.QUICK_VIEW")," "),o(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&((t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0||(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0)?51:-1),o(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&t.optionloadByRoute&&((t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0||(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0)?52:-1),o(),E(t.tokenHelper.isAdminSite&&t.optionloadByRoute&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?53:-1),o(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?54:-1),o(6),h(" ",S(61,73,"ACTION.HISTORY_ADD")," "),o(7),h(" ",S(68,75,"ACTION.HISTORY_LIST")," "),o(7),h(" ",S(75,77,"ACTION.VIEW_OTHER_USER_ADVERTISE")," "),o(3),_("routerLink",k("/core/user/edit/"+(t.tableRowSelected==null?null:t.tableRowSelected.createdBy))),o(4),h(" ",S(82,79,"ACTION.VIEW_USER")," "),o(7),h(" ",S(89,81,"TITLE.LINKTO")," "),o(7),h(" ",S(96,83,"TITLE.ResponsibleUsers")," "),o(2),E(t.tableRowSelected&&(t.tokenInfo==null||t.tokenInfo.access==null?null:t.tokenInfo.access.siteId)>0&&(t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)!==t.tokenInfo.access.siteId?97:-1),o(2),w("options",t.optionsSearch),o(3),b(S(103,85,"MESSAGE.Content_of_your_choice_to_display")),o(4),b(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle)),w("ngModel",t.filteModelContent.caseCode),o(2),E(t.filteModelContent.caseCode?109:-1),o(5),b(S(115,87,"TITLE.info")),o(3),b(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldDescription),o(),E(!t.filteModelContent.caseCode||t.filteModelContent.caseCode.length===0?118:-1),o(),w("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(2),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",Z(89,Sf)),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(),_("matRowDefColumns",Z(90,yf)),o(63),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Z(91,Ef)))},dependencies:[se,Ce,Pr,ge,Gi,ne,ce,Vr,Pe,To,Mo,vo,Io,wo,bo,qi,Ui,go,So,Qt,Se,le,Tt,xt,At,Rt,kt,Pt,Je,Xe,it,$e,Ze,nt,et,tt,ot,rt,wt,Wt,Ft,nn,_t,Ot,Nt,No,Ho,Go,Uo,qo,jo,Ht,ti,Xi,oa,Yo,An,kn,Ln,Vn,Bn,pr,Gn,on,rn,an,We,G,ei,ii,de,Ji,ni,zo,oi,hi],encapsulation:2});var ka=Yn;var La=["*","*"];function l1(i,s){if(i&1&&(a(0,"mat-option",7)(1,"span"),c(2),r()()),i&2){let e=s.$implicit,n=d(2);_("value",e)("disabled",n.optionDisabled),o(2),b(n.displayOption(e))}}function s1(i,s){i&1&&C(0,"i",8)}function c1(i,s){i&1&&C(0,"i",9)}function d1(i,s){if(i&1){let e=I();a(0,"i",12),v("click",function(){u(e);let t=d(2);return f(t.onActionSelectClear())}),r()}}function p1(i,s){i&1&&(a(0,"em"),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.Necessary")," "))}function m1(i,s){if(i&1){let e=I();a(0,"div",1),C(1,"app-progress-spinner",3)(2,"input",4),a(3,"label",5),c(4),r(),a(5,"mat-autocomplete",6,0),v("optionSelected",function(t){u(e);let l=d();return f(l.onActionSelect(t.option.value))}),dt(7,l1,3,3,"mat-option",7,ct),g(9,"async"),r(),y(10,s1,1,0,"i",8),y(11,c1,1,0,"i",9),y(12,d1,1,0,"i",10),a(13,"i",11),g(14,"translate"),v("click",function(){u(e);let t=d();return f(t.onActionButtonReload())}),r(),y(15,p1,3,3,"em"),hr(16),r()}if(i&2){let e=L(6),n=d();o(),_("optionsInfoAreaId",n.constructorInfoAreaId),o(),_("placeholder",k(n.optionPlaceholder))("formControl",n.formControl)("matAutocomplete",e)("required",n.optionRequired),li("disabled",n.optionDisabled?!0:null),o(2),b(n.optionLabel),o(),_("displayWith",n.displayFn),o(2),pt(S(9,17,n.filteredOptions)),o(3),E(n.formControl.valid?-1:10),o(),E(n.optionRequired&&n.formControl.valid?11:-1),o(),E((n.dataModelSelect==null||n.dataModelSelect.id==null?null:n.dataModelSelect.id.length)>0?12:-1),o(),q("rotation360",n.publicHelper.processService.process.inRunArea[n.constructorInfoAreaId]),_("title",k(S(14,19,"ACTION.RELOAD"))),o(2),E(n.optionRequired&&(!n.dataModelSelect||!n.dataModelSelect.id||n.dataModelSelect.id.length<=0)?15:-1)}}function u1(i,s){if(i&1){let e=I();a(0,"div",13)(1,"a",14),v("click",function(){let t=u(e).$implicit,l=d(2);return f(l.onActionSelect(t))}),c(2),r()()}if(i&2){let e=s.$implicit,n=d(2);o(),_("ngClass",e.id===(n.dataModelSelect==null?null:n.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),li("disabled",n.optionDisabled?!0:null),o(),b(n.displayOption(e))}}function f1(i,s){if(i&1&&(a(0,"div",2),dt(1,u1,3,3,"div",13,ct),g(3,"async"),hr(4,1),r()),i&2){let e=d();o(),pt(S(3,0,e.filteredOptions))}}var zn=class zn{constructor(s,e,n,t,l,p,m,O){this.coreEnumService=s;this.cmsToastrService=e;this.cdr=n;this.publicHelper=t;this.translate=l;this.tokenHelper=p;this.cmsStoreService=m;this.categoryService=O;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new X;this.dataModelSelect=new bt;this.formControl=new Hi;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionRequired=!1;this.optionChange=new jt;this.optionTypeView=1;this.typeUsageId="";this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}set optionTypeUsageId(s){this.typeUsageId=s,this.loadOptions()}ngOnInit(){this.loadOptions(),this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(()=>re(this,null,function*(){this.loadOptions()}))),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(so(""),lo(1500),Tr(),co(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return re(this,null,function*(){let e=new me;e.rowPerPage=20,e.accessLoad=!0;let n=new V,t=new V;s&&s.length>0&&(n.propertyName="title",n.value=s,n.searchType=vt.Contains,n.clauseType=st.Or,t.filters.push(n),n=new V,n.propertyName="id",n.value=s,n.searchType=vt.Equal,n.clauseType=st.Or,t.filters.push(n),e.filters.push(t)),this.typeUsageId&&this.typeUsageId.length>0&&(n=new V,n.propertyName="PropertyTypes",n.propertyAnyName="LinkPropertyTypeUsageId",n.value=this.typeUsageId,n.searchType=vt.Equal,n.clauseType=st.And,e.filters.push(n));let l=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(l,p,this.constructorInfoAreaId)}),yield wr(this.categoryService.ServiceGetAll(e)).then(p=>(this.dataModelResult=p,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(l),p.listItems))})}onActionSelect(s){this.optionDisabled||(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(s){return this.filteredOptions.pipe(ro(e=>(e.find(n=>n.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if((!s||typeof s=="string"&&s.length===0)&&(this.dataModelSelect=new bt),typeof s=="string"&&s.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===s)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===s)){let e=this.dataModelResult.listItems.find(n=>n.id===s);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(s).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof s==typeof bt){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new bt,this.loadOptions()}};zn.\u0275fac=function(e){return new(e||zn)(M(he),M(F),M(H),M(U),M(W),M(z),M(Y),M(Ci))},zn.\u0275cmp=B({type:zn,selectors:[["app-estate-customer-category-selector"]],inputs:{optionSelectForce:"optionSelectForce",optionTypeUsageId:"optionTypeUsageId",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionRequired:"optionRequired",optionTypeView:"optionTypeView",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:La,decls:2,vars:2,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[1,"row","mb-0"],[3,"optionsInfoAreaId"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required"],["for","forminput",1,"color-highlight"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,n){e&1&&(Ar(La),y(0,m1,17,21,"div",1),y(1,f1,5,2,"div",2)),e&2&&(E(n.optionTypeView===1?0:-1),o(),E(n.optionTypeView===2?1:-1))},dependencies:[se,ge,ne,Fe,Co,yo,ho,Eo,le,K,We,G],encapsulation:2});var mr=zn;var C1=["vform"];function h1(i,s){i&1&&C(0,"i",18)}function g1(i,s){i&1&&C(0,"i",19)}function S1(i,s){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2){let e=d();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),b(S(4,2,"MESSAGE.required"))}}function y1(i,s){if(i&1){let e=I();a(0,"div",15)(1,"label",28),c(2),g(3,"translate"),r(),a(4,"textarea",29,4),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.descriptionHidden,t)||(l.dataModel.descriptionHidden=t),f(t)}),r(),a(6,"em"),c(7),r()()}if(i&2){let e=L(5),n=d();o(2),b(S(3,5,"TITLE.Description_Hidden")),o(2),_("placeholder",k(n.fieldsInfo.descriptionHidden==null?null:n.fieldsInfo.descriptionHidden.fieldTitle)),w("ngModel",n.dataModel.descriptionHidden),o(3),h("",e.value.length," / 500")}}function E1(i,s){if(i&1){let e=I();a(0,"app-estate-account-agency-selector",30),g(1,"translate"),v("optionChange",function(t){u(e);let l=d();return f(l.onActionSelectorEstateAgency(t))}),r()}if(i&2){let e=d();_("optionDisabled",!(e.fieldsInfo.linkEstateAgencyId!=null&&e.fieldsInfo.linkEstateAgencyId.accessAddField))("optionSelectForce",e.dataModel.linkEstateAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",S(1,4,"TITLE.Property_agency"))}}function M1(i,s){i&1&&(a(0,"mat-error"),c(1," ContactMobiles is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function v1(i,s){if(i&1){let e=I();a(0,"app-cms-user-selector",23),g(1,"translate"),v("optionChange",function(t){u(e);let l=d(2);return f(l.onActionSelectorCmsUser(t))}),r()}if(i&2){let e=d(2);_("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",S(1,3,"TITLE.user"))}}function I1(i,s){i&1&&C(0,"i",18)}function b1(i,s){i&1&&C(0,"i",19)}function w1(i,s){i&1&&(a(0,"mat-error")(1,"strong"),c(2),g(3,"translate"),r()()),i&2&&(o(2),b(S(3,1,"MESSAGE.required")))}function T1(i,s){if(i&1){let e=I();a(0,"div",15)(1,"label",39),c(2),g(3,"translate"),r(),a(4,"input",40,5),g(6,"translate"),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.dataModel.actionCreateNewCmsUserFirstName,t)||(l.dataModel.actionCreateNewCmsUserFirstName=t),f(t)}),r(),y(7,I1,1,0,"i",18),y(8,b1,1,0,"i",19),a(9,"em"),c(10),r(),y(11,w1,4,3,"mat-error"),r()}if(i&2){let e=L(5),n=d(2);o(2),b(S(3,8,"TITLE.FIRST_NAME")),o(2),_("placeholder",k(S(6,10,"TITLE.FIRST_NAME"))),w("ngModel",n.dataModel.actionCreateNewCmsUserFirstName),o(3),E(e.value?-1:7),o(),E(e.value?8:-1),o(2),h("",e.value.length," / 50"),o(),E(e.errors!=null&&e.errors.required?11:-1)}}function x1(i,s){i&1&&C(0,"i",18)}function A1(i,s){i&1&&C(0,"i",19)}function R1(i,s){i&1&&(a(0,"mat-error")(1,"strong"),c(2),g(3,"translate"),r()()),i&2&&(o(2),b(S(3,1,"MESSAGE.required")))}function k1(i,s){if(i&1){let e=I();a(0,"div",15)(1,"label",41),c(2),g(3,"translate"),r(),a(4,"input",42,6),g(6,"translate"),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.dataModel.actionCreateNewCmsUserLastName,t)||(l.dataModel.actionCreateNewCmsUserLastName=t),f(t)}),r(),y(7,x1,1,0,"i",18),y(8,A1,1,0,"i",19),a(9,"em"),c(10),r(),y(11,R1,4,3,"mat-error"),r()}if(i&2){let e=L(5),n=d(2);o(2),b(S(3,8,"TITLE.LAST_NAME")),o(2),_("placeholder",k(S(6,10,"TITLE.LAST_NAME"))),w("ngModel",n.dataModel.actionCreateNewCmsUserLastName),o(3),E(e.value?-1:7),o(),E(e.value?8:-1),o(2),h("",e.value.length," / 50"),o(),E(e.errors!=null&&e.errors.required?11:-1)}}function P1(i,s){i&1&&C(0,"i",18)}function L1(i,s){i&1&&C(0,"i",19)}function D1(i,s){i&1&&(a(0,"mat-error")(1,"strong"),c(2),g(3,"translate"),r()()),i&2&&(o(2),b(S(3,1,"MESSAGE.required")))}function V1(i,s){if(i&1){let e=I();a(0,"div",15)(1,"label",43),c(2),g(3,"translate"),r(),a(4,"input",44,7),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.dataModel.actionCreateNewCmsUserMobile,t)||(l.dataModel.actionCreateNewCmsUserMobile=t),f(t)}),r(),y(6,P1,1,0,"i",18),y(7,L1,1,0,"i",19),a(8,"em"),c(9),r(),y(10,D1,4,3,"mat-error"),r()}if(i&2){let e=L(5),n=d(2);o(2),b(S(3,6,"TITLE.MOBILE_NUMBER")),o(2),w("ngModel",n.dataModel.actionCreateNewCmsUserMobile),o(2),E(e.value?-1:6),o(),E(e.value?7:-1),o(2),h("",e.value.length," / 20"),o(),E(e.errors!=null&&e.errors.required?10:-1)}}function O1(i,s){if(i&1){let e=I();a(0,"div",26)(1,"div",31)(2,"div",32)(3,"h5",33),c(4),g(5,"translate"),r()(),a(6,"div",34)(7,"div",35)(8,"input",36),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.actionCreateNewCmsUser,t)||(l.dataModel.actionCreateNewCmsUser=t),f(t)}),r(),C(9,"label",37),r()()(),y(10,v1,2,5,"app-cms-user-selector",38),y(11,T1,12,12,"div",15),y(12,k1,12,12,"div",15),y(13,V1,11,8,"div",15),r()}if(i&2){let e=d();o(4),h(" ",S(5,6,"TITLE.CREATE_NEW_USER")," "),o(4),w("ngModel",e.dataModel.actionCreateNewCmsUser),o(2),E(e.dataModel.actionCreateNewCmsUser?-1:10),o(),E(e.dataModel.actionCreateNewCmsUser?11:-1),o(),E(e.dataModel.actionCreateNewCmsUser?12:-1),o(),E(e.dataModel.actionCreateNewCmsUser?13:-1)}}function B1(i,s){if(i&1){let e=I();a(0,"div",27)(1,"button",45),v("click",function(){u(e);let t=d();return f(t.onFormCancel())}),C(2,"i",46),c(3),g(4,"translate"),r(),a(5,"button",47),C(6,"i",48),c(7),g(8,"translate"),r()()}if(i&2){d();let e=L(10);o(3),h(" ",S(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",S(8,5,"ACTION.SAVE")," ")}}var Kn=class Kn extends Yt{constructor(e,n,t,l,p,m,O,J,$,Te){super(l,new Oi,O,$);this.data=e;this.dialogRef=n;this.coreEnumService=t;this.estateCustomerOrderService=l;this.cmsToastrService=p;this.cmsStoreService=m;this.publicHelper=O;this.cdr=J;this.translate=$;this.tokenHelper=Te;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new X;this.dataModel=new Oi;this.formInfo=new be;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,e&&e.linkEstateCustomerCategoryId?.length>0&&(this.dataModel.linkEstateCustomerCategoryId=e.linkEstateCustomerCategoryId),e&&e.copyId?.length>0&&this.DataGetOneContent(e.copyId),this.dataModel.caseCode=this.publicHelper.StringRandomGenerator(5,!0)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataGetOneContent(e){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.estateCustomerOrderService.setAccessLoad(),this.estateCustomerOrderService.setAccessDataType(Me.Editor),this.estateCustomerOrderService.ServiceGetOneById(e).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,this.dataModel.title="Copy of "+this.dataModel.title,t.isSuccess?Promise.resolve().then(()=>this.cdr.detectChanges()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(n)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.dataModel.scoreLiquidityPower=5,this.dataModel.scorePurchaseDecision=5,this.dataModel.scorePurchasingPower=5,this.dataModel.scoreRushToBuy=5,this.estateCustomerOrderService.ServiceAdd(this.dataModel).subscribe({next:n=>{n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({id:n.item.id,dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:n=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorSelect(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}this.dataModel.linkEstateCustomerCategoryId=e.id}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCmsUserId=null;return}this.dataModel.linkCmsUserId=e.id}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateExpertId=e.id)}};Kn.\u0275fac=function(n){return new(n||Kn)(M(Le),M(Ie),M(he),M(Wi),M(F),M(Y),M(U),M(H),M(W),M(z))},Kn.\u0275cmp=B({type:Kn,selectors:[["app-estate-customer-order-add-to-edit"]],viewQuery:function(n,t){if(n&1&&Ve(C1,5),n&2){let l;Oe(l=Be())&&(t.formGroup=l.first)}},standalone:!1,features:[ee],decls:46,vars:41,consts:[["vform","ngForm"],["Title",""],["Description",""],["ContactMobiles",""],["DescriptionHidden",""],["actionCreateNewCmsUserFirstName",""],["actionCreateNewCmsUserLastName",""],["actionCreateNewCmsUserMobile",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.contactMobiles",1,"color-highlight"],["matInput","","name","dataModel.contactMobiles","type","text","minlength","0","maxlength","100","rows","5","id","dataModel.contactMobiles",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"blockquote"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.actionCreateNewCmsUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.actionCreateNewCmsUser","name","dataModel.actionCreateNewCmsUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.actionCreateNewCmsUser",1,"custom-control-label"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.actionCreateNewCmsUserFirstName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserFirstName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserFirstName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserLastName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserLastName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserLastName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserMobile","type","text","placeholder","0912","minlength","3","maxlength","20","id","dataModel.actionCreateNewCmsUserMobile",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,t){if(n&1){let l=I();a(0,"div",8),C(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),c(4),r(),a(5,"p"),c(6),g(7,"translate"),r(),C(8,"app-cms-form-result-message",12),a(9,"form",13,0),v("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"app-estate-customer-category-selector",14),g(12,"translate"),v("optionChange",function(m){return u(l),f(t.onActionSelectorSelect(m))}),r(),a(13,"div",15)(14,"label",16),c(15),r(),a(16,"input",17,1),x("ngModelChange",function(m){return u(l),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),r(),y(18,h1,1,0,"i",18),y(19,g1,1,0,"i",19),C(20,"em"),y(21,S1,5,4,"mat-error"),r(),a(22,"div",15)(23,"label",20),c(24),r(),a(25,"textarea",21,2),x("ngModelChange",function(m){return u(l),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),r(),a(27,"em"),c(28),r()(),y(29,y1,8,7,"div",15),C(30,"hr"),y(31,E1,2,6,"app-estate-account-agency-selector",22),a(32,"app-estate-account-expert-selector",23),g(33,"translate"),v("optionChange",function(m){return u(l),f(t.onActionSelectorEstateUser(m))}),r(),a(34,"div",15)(35,"label",24),c(36),g(37,"translate"),r(),a(38,"textarea",25,3),g(40,"translate"),x("ngModelChange",function(m){return u(l),T(t.dataModel.contactMobiles,m)||(t.dataModel.contactMobiles=m),f(m)}),r(),a(41,"em"),c(42),r(),y(43,M1,5,3,"mat-error"),r(),y(44,O1,14,8,"div",26),y(45,B1,9,7,"div",27),r()()()}if(n&2){let l=L(17),p=L(26),m=L(39);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",S(7,31,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),_("optionSelectForce",t.dataModel.linkEstateCustomerCategoryId)("optionPlaceholder",S(12,33,"TITLE.Category")),o(4),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),o(2),E(l.value?-1:18),o(),E(l.value?19:-1),o(2),E(l.errors!=null&&l.errors.required?21:-1),o(3),b(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),o(3),h("",p.value.length," / 500"),o(),E(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField?29:-1),o(2),E(t.tokenHelper.isAdminSite?31:-1),o(),_("optionDisabled",!(t.fieldsInfo.linkEstateExpertId!=null&&t.fieldsInfo.linkEstateExpertId.accessAddField))("optionSelectForce",t.dataModel.linkEstateExpertId)("optionPlaceholder",S(33,35,"TITLE.Real_estate_customer_personnel")),o(4),b(S(37,37,"TITLE.Mobile_customer")),o(2),_("placeholder",k(S(40,39,"TITLE.Mobile_customer"))),w("ngModel",t.dataModel.contactMobiles),o(4),h("",m.value.length," / 100"),o(),E(m.errors!=null&&m.errors.required?43:-1),o(),E(t.fieldsInfo.actionCreateNewCmsUser!=null&&t.fieldsInfo.actionCreateNewCmsUser.accessWatchField?44:-1),o(),E(t.formInfo.submitButtonEnabled?45:-1)}},dependencies:[Qe,ge,mt,ne,qe,Fe,Ye,ze,ce,je,Ke,le,Ot,K,we,aa,tn,mr,G],encapsulation:2});var no=Kn;var W1=()=>["expandedTitle"],F1=()=>["expandedDetail"],N1=()=>[5,10,20,100],Da=i=>({display:i});function H1(i,s){i&1&&(a(0,"mat-header-cell"),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.MENU")," "))}function G1(i,s){if(i&1){let e=I();a(0,"mat-cell")(1,"button",56),v("click",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowSelectActionMenu(t))}),C(2,"i",57),r()()}}function U1(i,s){i&1&&(a(0,"mat-header-cell",58),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.PICTURE")," "))}function q1(i,s){if(i&1&&(C(0,"img",59),g(1,"cmsthumbnail")),i&2){let e=d().$implicit;_("src",k(S(1,2,e.linkMainImageIdSrc)),j)}}function j1(i,s){if(i&1&&(a(0,"mat-cell"),y(1,q1,2,4,"img",59),r()),i&2){let e=s.$implicit;o(),E((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Q1(i,s){if(i&1&&(a(0,"mat-header-cell",58),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Y1(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function z1(i,s){if(i&1&&(a(0,"mat-header-cell",58),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function K1(i,s){if(i&1&&(a(0,"mat-cell"),c(1),g(2,"cmssiteinfo"),g(3,"async"),r()),i&2){let e=s.$implicit;o(),h(" ",S(3,3,S(2,1,e.linkSiteId))," ")}}function J1(i,s){if(i&1&&(a(0,"mat-header-cell",58),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Z1(i,s){if(i&1&&C(0,"select",61),i&2){let e=d().$implicit,n=d();_("contentService",n.contentService)("row",e)("ngStyle",te(3,Da,e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)?"":"none"))}}function X1(i,s){if(i&1&&(a(0,"mat-cell",60),g(1,"statusCellClass"),C(2,"i",60),g(3,"statusIconClass"),y(4,Z1,1,5,"select",61),r()),i&2){let e=s.$implicit,n=d();_("ngClass",S(1,3,e.recordStatus)),o(2),_("ngClass",S(3,5,e.recordStatus)),o(2),E(!(n.dataModelResult==null||n.dataModelResult.access==null)&&n.dataModelResult.access.accessEditRow?4:-1)}}function $1(i,s){if(i&1&&(a(0,"mat-header-cell",58),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.name==null?null:e.fieldsInfo.name.fieldTitle," ")}}function eC(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.name," ")}}function tC(i,s){if(i&1&&(a(0,"mat-header-cell",58),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.lastName==null?null:e.fieldsInfo.lastName.fieldTitle," ")}}function iC(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.lastName," ")}}function nC(i,s){if(i&1&&(a(0,"mat-header-cell",58),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.companyName==null?null:e.fieldsInfo.companyName.fieldTitle," ")}}function oC(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.companyName," ")}}function rC(i,s){if(i&1&&(a(0,"mat-header-cell",58),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," ")}}function aC(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.email," ")}}function lC(i,s){if(i&1&&(a(0,"mat-header-cell",58),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.mobile==null?null:e.fieldsInfo.mobile.fieldTitle," ")}}function sC(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.mobile," ")}}function cC(i,s){if(i&1&&(a(0,"mat-header-cell",58),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function dC(i,s){if(i&1&&(a(0,"mat-cell"),c(1),g(2,"localeDate"),r()),i&2){let e=s.$implicit;o(),h(" ",S(2,1,e.createdDate)," ")}}function pC(i,s){if(i&1&&(a(0,"mat-header-cell",58),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function mC(i,s){if(i&1&&(a(0,"mat-cell"),c(1),g(2,"localeDate"),r()),i&2){let e=s.$implicit;o(),h(" ",S(2,1,e.updatedDate)," ")}}function uC(i,s){i&1&&(a(0,"mat-header-cell"),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.OPTION")," "))}function fC(i,s){if(i&1&&(a(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,2),r()),i&2){let e=L(5);o(),_("matMenuTriggerFor",e)}}function _C(i,s){if(i&1&&(a(0,"mat-cell"),c(1),g(2,"translate"),g(3,"localeDate"),r()),i&2){let e=s.$implicit;o(),Q(" ",S(2,2,"TITLE.CreationDate")," : ",S(3,4,e.createdDate)," ")}}function CC(i,s){if(i&1&&(C(0,"img",64),g(1,"cmsthumbnail")),i&2){let e=d().$implicit;_("src",k(S(1,2,e.linkMainImageIdSrc)),j)}}function hC(i,s){if(i&1){let e=I();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),y(5,CC,2,4,"img",64),r(),a(6,"th")(7,"span",65),v("click",function(){u(e);let t=d();return f(t.onActionCopied())}),C(8,"i",66),r(),c(9),r()(),a(10,"tr"),C(11,"td"),a(12,"td"),c(13),r()(),a(14,"tr"),C(15,"td"),a(16,"td"),c(17),r()(),a(18,"tr"),C(19,"td"),a(20,"td"),c(21),r()(),a(22,"tr"),C(23,"td"),a(24,"td"),c(25),r()(),a(26,"tr"),C(27,"td"),a(28,"td"),c(29),r()(),a(30,"tr"),C(31,"td"),a(32,"td"),c(33),r()(),a(34,"tr"),C(35,"td")(36,"td"),r()()()()}if(i&2){let e=s.$implicit,n=d();o(5),E((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),_("cdkCopyToClipboard",e.id),o(2),h(" ",e.id," "),o(4),Q(" ",n.fieldsInfo.username==null?null:n.fieldsInfo.username.fieldTitle," : ",e.username," "),o(4),Q(" ",n.fieldsInfo.name==null?null:n.fieldsInfo.name.fieldTitle," : ",e.name," "),o(4),Q(" ",n.fieldsInfo.lastName==null?null:n.fieldsInfo.lastName.fieldTitle," : ",e.lastName," "),o(4),Q(" ",n.fieldsInfo.mobile==null?null:n.fieldsInfo.mobile.fieldTitle," : ",e.mobile," "),o(4),Q(" ",n.fieldsInfo.email==null?null:n.fieldsInfo.email.fieldTitle," : ",e.email," "),o(4),Q(" ",n.fieldsInfo.companyName==null?null:n.fieldsInfo.companyName.fieldTitle," : ",e.companyName," ")}}function gC(i,s){i&1&&C(0,"mat-header-row")}function SC(i,s){if(i&1){let e=I();a(0,"mat-row",67),v("click",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseLeave(t))}),r()}if(i&2){let e=s.$implicit,n=s.dataIndex,t=d();q("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function yC(i,s){if(i&1){let e=I();a(0,"mat-row",68),v("click",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseLeave(t))}),r()}if(i&2){let e=s.$implicit,n=s.dataIndex,t=d();q("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function EC(i,s){if(i&1){let e=I();a(0,"mat-row",69),v("click",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseLeave(t))}),r()}if(i&2){let e=s.$implicit,n=s.dataIndex,t=d();q("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),_("ngStyle",te(7,Da,e.expanded===!0?"":"none"))}}function MC(i,s){if(i&1){let e=I();a(0,"div",55)(1,"button",70),v("click",function(){u(e);let t=d();return f(t.onFormCancel())}),C(2,"i",71),c(3),g(4,"translate"),r()()}i&2&&(o(3),h(" ",S(4,1,"ACTION.CANCEL")," "))}var Jn=class Jn extends Bt{constructor(e,n,t,l,p,m,O,J,$,Te,Ee,ke){super(t,new Li,Ee,p,$);this.data=e;this.dialogRef=n;this.contentService=t;this.cmsToastrService=l;this.tokenHelper=p;this.router=m;this.cdr=O;this.cmsStoreService=J;this.translate=$;this.pageInfo=Te;this.publicHelper=Ee;this.dialog=ke;this.requestTitle="";this.requestPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.tablePropertySelected=[];this.filteModelContent=new me;this.filterDataModelQueryBuilder=[];this.formInfo=new be;this.optionsSearch=new $i;this.optionsStatist=new en;this.tokenInfo=new It;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","Name","LastName","CompanyName","email","mobile","action_menu"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","Name","LastName","action_menu"];this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(e.title&&(this.requestTitle=e.title+""),e.id&&(this.requestPropertyId=e.id+"")),this.optionsSearch.parentMethods={onSubmit:St=>this.onSubmitOptionsSearch(St)}}ngOnInit(){this.translate.get("TITLE.QUICK_VIEW").subscribe(e=>{this.formInfo.formTitle=e}),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Li);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(n.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllResponsibleUserId(this.requestPropertyId,n).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ie.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ie.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ie.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Jn.\u0275fac=function(n){return new(n||Jn)(M(Le),M(Ie),M(Wi),M(F),M(z),M(Mt),M(H),M(Y),M(W),M(Dt),M(U),M(oe))},Jn.\u0275cmp=B({type:Jn,selectors:[["app-estate-customer-order-responsible-user-list"]],standalone:!1,features:[ee],decls:83,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[1,"card","card-style","loader-container"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","LastName"],["matColumnDef","CompanyName"],["matColumnDef","email"],["matColumnDef","mobile"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){if(n&1){let l=I();a(0,"div",3)(1,"div",4),c(2),r(),a(3,"div",5),C(4,"app-progress-spinner",6),a(5,"app-cms-html-list",7),x("optionActionGuideNoticeDisplayChange",function(m){return u(l),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),v("optionOnActionButtonMemoRow",function(){return u(l),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(l),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(l),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(l),f(t.onActionButtonPrintRow())}),Ue(6,8)(7,9)(8,10),A(9,11),a(10,"a",12),v("click",function(){return u(l),f(t.onActionButtonReload())}),C(11,"i",13),r(),a(12,"a",14),v("click",function(){return u(l),f(t.onActionGridExpandRows(!0))}),C(13,"i",15),r(),a(14,"a",14),v("click",function(){return u(l),f(t.onActionGridExpandRows(!1))}),C(15,"i",16),r(),R(),A(16,17),a(17,"a",18)(18,"mat-slide-toggle",19),x("ngModelChange",function(m){return u(l),T(t.optionsSearch.data.show,m)||(t.optionsSearch.data.show=m),f(m)}),r(),c(19),g(20,"translate"),r(),R(),Ue(21,20)(22,21),A(23,22),a(24,"app-cms-search-list",23),x("optionsChange",function(m){return u(l),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),r(),a(25,"app-cms-statist-list",23),x("optionsChange",function(m){return u(l),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),r(),R(),A(26,24),a(27,"mat-table",25,0),v("matSortChange",function(){u(l);let m=L(28);return f(t.onTableSortData(m))}),A(29,26),P(30,H1,3,3,"mat-header-cell",27)(31,G1,3,0,"mat-cell",28),R(),A(32,29),P(33,U1,3,3,"mat-header-cell",30)(34,j1,2,1,"mat-cell",28),R(),A(35,31),P(36,Q1,2,1,"mat-header-cell",30)(37,Y1,2,1,"mat-cell",28),R(),A(38,32),P(39,z1,2,1,"mat-header-cell",30)(40,K1,4,5,"mat-cell",28),R(),A(41,33),P(42,J1,2,1,"mat-header-cell",30)(43,X1,5,7,"mat-cell",34),R(),A(44,35),P(45,$1,2,1,"mat-header-cell",30)(46,eC,2,1,"mat-cell",28),R(),A(47,36),P(48,tC,2,1,"mat-header-cell",30)(49,iC,2,1,"mat-cell",28),R(),A(50,37),P(51,nC,2,1,"mat-header-cell",30)(52,oC,2,1,"mat-cell",28),R(),A(53,38),P(54,rC,2,1,"mat-header-cell",30)(55,aC,2,1,"mat-cell",28),R(),A(56,39),P(57,lC,2,1,"mat-header-cell",30)(58,sC,2,1,"mat-cell",28),R(),A(59,40),P(60,cC,2,1,"mat-header-cell",30)(61,dC,3,3,"mat-cell",28),R(),A(62,41),P(63,pC,2,1,"mat-header-cell",30)(64,mC,3,3,"mat-cell",28),R(),A(65,42),P(66,uC,3,3,"mat-header-cell",27)(67,fC,6,1,"mat-cell",43),R(),A(68,44),P(69,_C,4,6,"mat-cell",28),R(),A(70,45),P(71,hC,37,15,"mat-cell",28),R(),P(72,gC,1,0,"mat-header-row",46)(73,SC,1,6,"mat-row",47)(74,yC,1,6,"mat-row",48)(75,EC,1,9,"mat-row",49),r(),R(),A(76,50),a(77,"mat-paginator",51,1),v("page",function(m){return u(l),f(t.onTablePageingData(m))}),r(),R(),r()(),a(79,"div",52),C(80,"app-cms-form-result-message",53),r(),a(81,"div",54),y(82,MC,5,3,"div",55),r()()}n&2&&(o(2),h(" ",t.formInfo.formTitle," "),o(2),_("optionsInfoAreaId",t.constructorInfoAreaId),o(),_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.username==null?null:t.tableRowSelected.username.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.username:t.tableRowSelected==null?null:t.tableRowSelected.id),o(13),w("ngModel",t.optionsSearch.data.show),o(),h("",S(20,25,"ACTION.SEARCH")," "),o(5),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(45),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",Z(27,W1)),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(),_("matRowDefColumns",Z(28,F1)),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Z(29,N1)),o(3),_("formInfo",t.formInfo),o(2),E(t.formInfo.submitButtonEnabled?82:-1))},dependencies:[se,Ce,ne,ce,Pe,Se,le,Tt,xt,At,Rt,kt,Pt,Je,Xe,it,$e,Ze,nt,et,tt,ot,rt,wt,Wt,Ft,K,we,Nt,Ht,ti,We,G,ii,de,Vo,ni,oi],encapsulation:2});var ur=Jn;var vC=["vform"],IC=()=>["fa"];function bC(i,s){if(i&1&&(C(0,"img",15),g(1,"cmsthumbnail")),i&2){let e=d();_("src",k(S(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function wC(i,s){i&1&&C(0,"i",22)}function TC(i,s){i&1&&C(0,"i",23)}function xC(i,s){i&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function AC(i,s){if(i&1){let e=I();a(0,"div",16)(1,"label",28),c(2),r(),a(3,"input",29,4),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.iconFont,t)||(l.dataModel.iconFont=t),f(t)}),v("iconPickerSelect",function(t){u(e);let l=d();return f(l.onIconPickerSelect(t))}),r(),a(5,"span",30),C(6,"i",31),r()()}if(i&2){let e=d();o(2),b(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),_("placeholder",k(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),w("ngModel",e.dataModel.iconFont),_("iconPicker",e.dataModel.iconFont)("ipIconPack",Z(9,IC))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),_("ngClass",e.dataModel.iconFont)}}function RC(i,s){if(i&1){let e=I();a(0,"div",24)(1,"label",32),c(2),r(),a(3,"div",33)(4,"div",34)(5,"input",35,5),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.iconColor,t)||(l.dataModel.iconColor=t),f(t)}),r()(),a(7,"div",36),C(8,"ngx-mat-color-toggle",37)(9,"ngx-mat-color-picker",38,6),r()()()}if(i&2){let e=L(10),n=d();o(2),b(n.fieldsInfo.iconColor==null?null:n.fieldsInfo.iconColor.fieldTitle),o(3),ae("background",n.dataModel.iconColor),_("placeholder",k(n.fieldsInfo.iconColor==null?null:n.fieldsInfo.iconColor.fieldTitle)),w("ngModel",n.dataModel.iconColor),_("ngxMatColorPicker",e)("disabled",!(n.fieldsInfo.iconColor!=null&&n.fieldsInfo.iconColor.accessAddField)),o(3),_("for",e),o(),_("touchUi",!0)("color","primary")}}function kC(i,s){i&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function PC(i,s){if(i&1){let e=I();a(0,"div",27)(1,"button",39),v("click",function(){u(e);let t=d();return f(t.onFormCancel())}),C(2,"i",40),c(3),g(4,"translate"),r(),a(5,"button",41),C(6,"i",42),c(7),g(8,"translate"),r()()}if(i&2){d();let e=L(10);o(3),h(" ",S(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",S(8,5,"ACTION.SAVE")," ")}}var Zn=class Zn extends Yt{constructor(e,n,t,l,p,m,O,J){super(l,new bt,m,J);this.data=e;this.dialogRef=n;this.coreEnumService=t;this.estateCustomerCategoryService=l;this.cmsToastrService=p;this.publicHelper=m;this.cdr=O;this.translate=J;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new X;this.dataModel=new bt;this.formInfo=new be;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.estateCustomerCategoryService.ServiceAdd(this.dataModel).subscribe({next:n=>{this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:n=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Zn.\u0275fac=function(n){return new(n||Zn)(M(Le),M(Ie),M(he),M(Ci),M(F),M(U),M(H),M(W))},Zn.\u0275cmp=B({type:Zn,selectors:[["app-estate-customer-category-add"]],viewQuery:function(n,t){if(n&1&&Ve(vC,5),n&2){let l;Oe(l=Be())&&(t.formGroup=l.first)}},standalone:!1,features:[ee],decls:45,vars:44,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,t){if(n&1){let l=I();a(0,"div",7),C(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),c(4),r(),a(5,"p"),c(6),g(7,"translate"),r(),C(8,"app-cms-form-result-message",11),a(9,"form",12,0),v("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"div",13)(12,"a",14),g(13,"cmsthumbnail"),y(14,bC,2,4,"img",15),r()(),a(15,"div",16)(16,"label",17),v("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),c(17),g(18,"translate"),r(),a(19,"input",18,1),g(21,"translate"),x("ngModelChange",function(m){return u(l),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),v("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(22,"cms-file-manager",19),v("itemSelected",function(m){return u(l),f(t.onActionFileSelected(m))}),x("openFormChange",function(m){return u(l),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),r()(),a(23,"div",16)(24,"label",20),c(25),r(),a(26,"input",21,2),x("ngModelChange",function(m){return u(l),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),r(),y(28,wC,1,0,"i",22),y(29,TC,1,0,"i",23),a(30,"em"),c(31),r(),y(32,xC,5,3,"mat-error"),r(),y(33,AC,7,10,"div",16),y(34,RC,11,11,"div",24),a(35,"div",16)(36,"label",25),c(37),r(),a(38,"textarea",26,3),x("ngModelChange",function(m){return u(l),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(40,"                  "),r(),a(41,"em"),c(42),r(),y(43,kC,5,3,"mat-error"),r(),y(44,PC,9,7,"div",27),r()()()}if(n&2){let l=L(27),p=L(39);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",S(7,36,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(4),_("href",k(S(13,38,t.dataModel.linkMainImageIdSrc)),j),o(2),E((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?14:-1),o(3),b(S(18,40,"TITLE.PICTURE")),o(2),_("placeholder",k(S(21,42,"TITLE.Original_File_ID"))),w("ngModel",t.dataModel.linkMainImageId),o(3),_("language",t.appLanguage)("isPopup",!0),w("openForm",t.fileManagerOpenForm),_("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),o(2),E(l.value?-1:28),o(),E(l.value?29:-1),o(2),h("",l.value.length," / 100"),o(),E(l.errors!=null&&l.errors.required?32:-1),o(),E(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessWatchField?33:-1),o(),E(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessWatchField?34:-1),o(3),b(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),o(4),h("",p.value.length," / 500"),o(),E(p.errors!=null&&p.errors.required?43:-1),o(),E(t.formInfo.submitButtonEnabled?44:-1)}},dependencies:[se,Qe,ge,ne,qe,Fe,Ye,ze,ce,je,Ke,Qt,le,K,we,bi,yi,Si,gi,ut,G,de],encapsulation:2});var fr=Zn;var LC=["vform"],DC=()=>["fa"];function VC(i,s){if(i&1&&(C(0,"img",15),g(1,"cmsthumbnail")),i&2){let e=d();_("src",k(S(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function OC(i,s){i&1&&C(0,"i",22)}function BC(i,s){i&1&&C(0,"i",23)}function WC(i,s){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2){let e=d();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),b(S(4,2,"MESSAGE.required"))}}function FC(i,s){if(i&1){let e=I();a(0,"div",16)(1,"label",28),c(2),r(),a(3,"input",29,4),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.iconFont,t)||(l.dataModel.iconFont=t),f(t)}),v("iconPickerSelect",function(t){u(e);let l=d();return f(l.onIconPickerSelect(t))}),r(),a(5,"span",30),C(6,"i",31),r()()}if(i&2){let e=d();o(2),b(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),_("placeholder",k(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),w("ngModel",e.dataModel.iconFont),_("iconPicker",e.dataModel.iconFont)("ipIconPack",Z(9,DC))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),_("ngClass",e.dataModel.iconFont)}}function NC(i,s){if(i&1){let e=I();a(0,"div",24)(1,"label",32),c(2),r(),a(3,"div",33)(4,"div",34)(5,"input",35,5),x("ngModelChange",function(t){u(e);let l=d();return T(l.dataModel.iconColor,t)||(l.dataModel.iconColor=t),f(t)}),r()(),a(7,"div",36),C(8,"ngx-mat-color-toggle",37)(9,"ngx-mat-color-picker",38,6),r()()()}if(i&2){let e=L(10),n=d();o(2),b(n.fieldsInfo.iconColor==null?null:n.fieldsInfo.iconColor.fieldTitle),o(3),ae("background",n.dataModel.iconColor),_("placeholder",k(n.fieldsInfo.iconColor==null?null:n.fieldsInfo.iconColor.fieldTitle)),w("ngModel",n.dataModel.iconColor),_("ngxMatColorPicker",e)("disabled",!(n.fieldsInfo.iconColor!=null&&n.fieldsInfo.iconColor.accessEditField)),o(3),_("for",e),o(),_("touchUi",!0)("color","primary")}}function HC(i,s){i&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),g(4,"translate"),r()()),i&2&&(o(3),b(S(4,1,"MESSAGE.required")))}function GC(i,s){if(i&1){let e=I();a(0,"div",27)(1,"button",39),v("click",function(){u(e);let t=d();return f(t.onFormCancel())}),C(2,"i",40),c(3),g(4,"translate"),r(),a(5,"button",41),C(6,"i",42),c(7),g(8,"translate"),r()()}if(i&2){d();let e=L(10);o(3),h(" ",S(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",S(8,5,"ACTION.SAVE")," ")}}var Xn=class Xn extends Mi{constructor(e,n,t,l,p,m,O,J,$){super(l,new bt,O,$);this.data=e;this.dialogRef=n;this.coreEnumService=t;this.estateCustomerCategoryService=l;this.estatePropertyTypeService=p;this.cmsToastrService=m;this.publicHelper=O;this.cdr=J;this.translate=$;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ui;this.dataModel=new bt;this.formInfo=new be;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.estateCustomerCategoryService.setAccessLoad(),this.estateCustomerCategoryService.setAccessDataType(Me.Editor),this.estateCustomerCategoryService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)});let n=new me,t=new V;t.propertyName="LinkCustomerCategoryId",t.value=this.requestId,n.filters.push(t),this.estatePropertyTypeService.ServiceGetAll(n).subscribe({next:l=>{this.dataEstatePropertyTypeModel=l.listItems;let p=[];this.dataEstatePropertyTypeModel.forEach(m=>{p.push(m.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=p,l.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.submitResultMessage=m}),this.formInfo.submitResultMessage=l.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.estateCustomerCategoryService.ServiceEdit(this.dataModel).subscribe({next:n=>{this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:n=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeUsageModel=e}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Xn.\u0275fac=function(n){return new(n||Xn)(M(Le),M(Ie),M(he),M(Ci),M(Ni),M(F),M(U),M(H),M(W))},Xn.\u0275cmp=B({type:Xn,selectors:[["app-estate-customer-category-edit"]],viewQuery:function(n,t){if(n&1&&Ve(LC,5),n&2){let l;Oe(l=Be())&&(t.formGroup=l.first)}},standalone:!1,features:[ee],decls:45,vars:44,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,t){if(n&1){let l=I();a(0,"div",7),C(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),c(4),r(),a(5,"p"),c(6),g(7,"translate"),r(),C(8,"app-cms-form-result-message",11),a(9,"form",12,0),v("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"div",13)(12,"a",14),g(13,"cmsthumbnail"),y(14,VC,2,4,"img",15),r()(),a(15,"div",16)(16,"label",17),v("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),c(17),g(18,"translate"),r(),a(19,"input",18,1),g(21,"translate"),x("ngModelChange",function(m){return u(l),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),v("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(22,"cms-file-manager",19),v("itemSelected",function(m){return u(l),f(t.onActionFileSelected(m))}),x("openFormChange",function(m){return u(l),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),r()(),a(23,"div",16)(24,"label",20),c(25),r(),a(26,"input",21,2),x("ngModelChange",function(m){return u(l),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),r(),y(28,OC,1,0,"i",22),y(29,BC,1,0,"i",23),a(30,"em"),c(31),r(),y(32,WC,5,4,"mat-error"),r(),y(33,FC,7,10,"div",16),y(34,NC,11,11,"div",24),a(35,"div",16)(36,"label",25),c(37),r(),a(38,"textarea",26,3),x("ngModelChange",function(m){return u(l),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(40,"                  "),r(),a(41,"em"),c(42),r(),y(43,HC,5,3,"mat-error"),r(),y(44,GC,9,7,"div",27),r()()()}if(n&2){let l=L(27),p=L(39);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",S(7,36,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(4),_("href",k(S(13,38,t.dataModel.linkMainImageIdSrc)),j),o(2),E((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?14:-1),o(3),b(S(18,40,"TITLE.PICTURE")),o(2),_("placeholder",k(S(21,42,"TITLE.Original_File_ID"))),w("ngModel",t.dataModel.linkMainImageId),o(3),_("language",t.appLanguage)("isPopup",!0),w("openForm",t.fileManagerOpenForm),_("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),o(2),E(l.value?-1:28),o(),E(l.value?29:-1),o(2),h("",l.value.length," / 100"),o(),E(l.errors!=null&&l.errors.required?32:-1),o(),E(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessWatchField?33:-1),o(),E(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessWatchField?34:-1),o(3),b(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),o(4),h("",p.value.length," / 500"),o(),E(p.errors!=null&&p.errors.required?43:-1),o(),E(t.formInfo.submitButtonEnabled?44:-1)}},dependencies:[se,Qe,ge,ne,qe,Fe,Ye,ze,ce,je,Ke,Qt,le,K,we,bi,yi,Si,gi,ut,G,de],encapsulation:2});var _r=Xn;function UC(i,s){if(i&1){let e=I();a(0,"button",15),v("click",function(){u(e);let t=d();return f(t.onActionAdd())}),c(1),g(2,"translate"),r()}i&2&&(o(),h(" ",S(2,1,"ACTION.ADD")," "))}function qC(i,s){if(i&1){let e=I();a(0,"button",16),v("click",function(){u(e);let t=d();return f(t.onActionEdit())}),c(1),g(2,"translate"),r()}i&2&&(o(),h(" ",S(2,1,"ACTION.EDIT")," "))}function jC(i,s){if(i&1){let e=I();a(0,"button",17),v("click",function(){u(e);let t=d();return f(t.onActionDelete())}),c(1),g(2,"translate"),r()}i&2&&(o(),h(" ",S(2,1,"ACTION.DELETE")," "))}function QC(i,s){if(i&1){let e=I();a(0,"mat-tree-node",18),C(1,"button",19),a(2,"span",20),v("click",function(){let t=u(e).$implicit,l=d();return f(l.onActionSelect(t))}),C(3,"img",21)(4,"i",22),c(5),r()()}if(i&2){let e=s.$implicit,n=d();q("ntk-tree-selected",(n.dataModelSelect==null||n.dataModelSelect.id==null?null:n.dataModelSelect.id.length)>0&&(n.dataModelSelect==null?null:n.dataModelSelect.id)===e.id),o(3),_("src",k(e.linkMainImageIdSrc),j),o(),ae("color",e.iconColor),_("ngClass",e.iconFont),o(),h("\xA0",e.title)}}function YC(i,s){if(i&1){let e=I();a(0,"mat-tree-node",23)(1,"button",24)(2,"mat-icon",25),c(3),r()(),a(4,"span",20),v("click",function(){let t=u(e).$implicit,l=d();return f(l.onActionSelect(t))}),C(5,"img",21)(6,"i",22),c(7),r()()}if(i&2){let e=s.$implicit,n=d(),t=L(13);q("ntk-tree-selected",(n.dataModelSelect==null||n.dataModelSelect.id==null?null:n.dataModelSelect.id.length)>0&&(n.dataModelSelect==null?null:n.dataModelSelect.id)===e.id),_("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),li("type","button")("aria-label","Toggle "+e.title),o(2),h(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),_("src",k(e.linkMainImageIdSrc),j),o(),ae("color",e.iconColor),_("ngClass",e.iconFont),o(),h("\xA0",e.title)}}var $n=class $n{constructor(s,e,n,t,l,p,m,O,J,$,Te){this.cmsToastrService=s;this.coreEnumService=e;this.categoryService=n;this.cmsConfirmationDialogService=t;this.dialog=l;this.cdr=p;this.publicHelper=m;this.themeService=O;this.translate=J;this.tokenHelper=$;this.cmsStoreService=Te;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new bt;this.dataModelResult=new X;this.filterModel=new me;this.dataSource=new Lo;this.optionChange=new jt;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(s,e)=>!1;this.childrenAccessor=s=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(()=>re(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onActionSelect(s){s&&this.dataModelSelect&&s.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new bt,this.DataGetAll()}onActionSelectForce(s){}onActionAdd(){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(fr,{height:"90%",panelClass:s,enterAnimationDuration:N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:N.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let s="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(s=this.dataModelSelect.id),s===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(_r,{height:"90%",panelClass:e,enterAnimationDuration:N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:N.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let s="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(s=this.dataModelSelect.id),s===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="",n="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(t=>{e=t["MESSAGE.Please_Confirm"],n=t["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) "}),this.cmsConfirmationDialogService.confirm(e,n).then(t=>{if(t){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(l,p,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}};$n.\u0275fac=function(e){return new(e||$n)(M(F),M(he),M(Ci),M(Vt),M(oe),M(H),M(U),M(ft),M(W),M(z),M(Y))},$n.\u0275cmp=B({type:$n,selectors:[["app-estate-customer-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:17,vars:15,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,n){if(e&1){let t=I();a(0,"app-cms-html-tree",1),A(1,2),c(2),g(3,"translate"),R(),A(4,3),y(5,UC,3,3,"button",4),y(6,qC,3,3,"button",5),y(7,jC,3,3,"button",6),a(8,"a",7),v("click",function(){return u(t),f(n.onActionButtonReload())}),C(9,"i",8),r(),R(),A(10,9),C(11,"app-progress-spinner",10),a(12,"mat-tree",11,0),P(14,QC,6,8,"mat-tree-node",12)(15,YC,8,13,"mat-tree-node",13),r(),R(),Ue(16,14),r()}e&2&&(_("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),h(" ",S(3,13,"TABLE."+(n.dataModelResult==null||n.dataModelResult.access==null?null:n.dataModelResult.access.moduleEntityName))," "),o(3),E(!(n.dataModelResult==null||n.dataModelResult.access==null)&&n.dataModelResult.access.accessAddRow?5:-1),o(),E(!(n.dataModelResult==null||n.dataModelResult.access==null)&&n.dataModelResult.access.accessEditRow&&n.dataModelSelect.id&&(n.dataModelSelect==null||n.dataModelSelect.id==null?null:n.dataModelSelect.id.length)>0?6:-1),o(),E(!(n.dataModelResult==null||n.dataModelResult.access==null)&&n.dataModelResult.access.accessDeleteRow&&n.dataModelSelect.id&&(n.dataModelSelect==null||n.dataModelSelect.id==null?null:n.dataModelSelect.id.length)>0?7:-1),o(2),q("rotation360",n.publicHelper.processService.process.inRunArea[n.constructorInfoAreaId]),o(2),_("optionsInfoAreaId",n.constructorInfoAreaId),o(),_("dataSource",n.dataSource)("childrenAccessor",n.childrenAccessor),o(3),_("matTreeNodeDefWhen",n.hasChild))},dependencies:[se,Pe,Se,Ao,Ro,Po,ko,xo,K,Oo,G],encapsulation:2});var Cr=$n;var KC=()=>["expandedTitle"],JC=()=>["expandedDetail"],ZC=()=>[5,10,20,100],Oa=i=>({display:i});function XC(i,s){if(i&1){let e=I();a(0,"a",28),v("click",function(){u(e);let t=d();return f(t.onActionButtonInResponsible(!t.searchInResponsibleChecked))}),C(1,"mat-slide-toggle",29),c(2),g(3,"translate"),r()}if(i&2){let e=d();o(),_("checked",e.searchInResponsibleChecked),o(),h(" ",S(3,2,"ACTION.InResponsible")," ")}}function $C(i,s){if(i&1){let e=I();a(0,"div",32)(1,"a",80),v("click",function(t){u(e);let l=d();return f(l.onActionButtonNewRow(t))}),C(2,"i",81)(3,"br"),r(),a(4,"p",35),c(5),g(6,"translate"),r()()}i&2&&(o(5),h(" ",S(6,1,"ACTION.ADD")," "))}function eh(i,s){if(i&1){let e=I();a(0,"div",32)(1,"a",82),v("click",function(t){u(e);let l=d();return f(l.onActionButtonEditRow(l.tableRowSelected,t))}),C(2,"i",83)(3,"br"),r(),a(4,"p",35),c(5),g(6,"translate"),r()()}i&2&&(o(5),h(" ",S(6,1,"ACTION.EDIT")," "))}function th(i,s){if(i&1){let e=I();a(0,"div",32)(1,"a",84),v("click",function(t){u(e);let l=d();return f(l.onActionButtonCopyNewRow(l.tableRowSelected,t))}),C(2,"i",85)(3,"br"),r(),a(4,"p",35),c(5),g(6,"translate"),r()()}i&2&&(o(5),h(" ",S(6,1,"ACTION.COPY")," "))}function ih(i,s){if(i&1){let e=I();a(0,"div",32)(1,"a",86),v("click",function(){u(e);let t=d();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",87)(3,"br"),r(),a(4,"p",35),c(5),g(6,"translate"),r()()}i&2&&(o(5),h(" ",S(6,1,"ACTION.DELETE")," "))}function nh(i,s){if(i&1){let e=I();a(0,"mat-icon",88),v("click",function(){u(e);let t=d();return f(t.filteModelContent.caseCode="")}),c(1," close"),r()}}function oh(i,s){if(i&1){let e=I();a(0,"app-cms-user-selector",90),g(1,"translate"),v("optionChange",function(t){u(e);let l=d(2);return f(l.filteModelContent.linkResponsibleUserId=t==null?null:t.id)}),r()}i&2&&_("optionPlaceholder",S(1,1,"TITLE.InResponsibleTo"))}function rh(i,s){if(i&1){let e=I();a(0,"div",92)(1,"label",98),c(2),r(),a(3,"input",99,3),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.filteModelContent.createdYaer,t)||(l.filteModelContent.createdYaer=t),f(t)}),r()()}if(i&2){let e=d(2);o(2),b(e.PropertyTypeSelected.titleCreatedYaer),o(),_("placeholder",k(e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle)),w("ngModel",e.filteModelContent.createdYaer)}}function ah(i,s){if(i&1){let e=I();a(0,"div",92)(1,"label",100),c(2),r(),a(3,"input",101,4),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.filteModelContent.partition,t)||(l.filteModelContent.partition=t),f(t)}),r()()}if(i&2){let e=d(2);o(2),b(e.PropertyTypeSelected.titlePartition),o(),_("placeholder",k(e.PropertyTypeSelected.titlePartition)),w("ngModel",e.filteModelContent.partition)}}function lh(i,s){if(i&1){let e=I();a(0,"div",92)(1,"label",102),c(2),r(),a(3,"input",103,5),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.filteModelContent.area,t)||(l.filteModelContent.area=t),f(t)}),r(),a(5,"em"),c(6),r()()}if(i&2){let e=d(2);o(2),b(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle),o(),_("placeholder",k(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle)),w("ngModel",e.filteModelContent.area),o(3),b(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldDescription)}}function sh(i,s){if(i&1){let e=I();a(0,"div",92)(1,"label",104),c(2),g(3,"translate"),r(),a(4,"input",105,6),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.filteModelContent.salePriceMin,t)||(l.filteModelContent.salePriceMin=t),f(t)}),r()()}if(i&2){let e=d(2);o(2),h("",S(3,2,"TITLE.SalePriceMin")," "),o(2),w("ngModel",e.filteModelContent.salePriceMin)}}function ch(i,s){if(i&1){let e=I();a(0,"div",92)(1,"label",106),c(2),g(3,"translate"),r(),a(4,"input",107,7),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.filteModelContent.rentPriceMin,t)||(l.filteModelContent.rentPriceMin=t),f(t)}),r()()}if(i&2){let e=d(2);o(2),b(S(3,2,"TITLE.RentPriceMin")),o(2),w("ngModel",e.filteModelContent.rentPriceMin)}}function dh(i,s){if(i&1){let e=I();a(0,"div",92)(1,"label",108),c(2,"ImageThumbnailSizeHeight"),r(),a(3,"input",109,8),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.filteModelContent.depositPriceMin,t)||(l.filteModelContent.depositPriceMin=t),f(t)}),r()()}if(i&2){let e=d(2);o(3),w("ngModel",e.filteModelContent.depositPriceMin)}}function ph(i,s){if(i&1){let e=I();a(0,"div",92)(1,"label",110),c(2),g(3,"translate"),r(),a(4,"input",111,9),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.filteModelContent.periodPriceMin,t)||(l.filteModelContent.periodPriceMin=t),f(t)}),r()()}if(i&2){let e=d(2);o(2),h("",S(3,2,"TITLE.PeriodPriceMin")," "),o(2),w("ngModel",e.filteModelContent.periodPriceMin)}}function mh(i,s){if(i&1){let e=I();a(0,"div",92)(1,"label",112),c(2),g(3,"translate"),r(),a(4,"input",113,10),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.filteModelContent.salePriceMax,t)||(l.filteModelContent.salePriceMax=t),f(t)}),r()()}if(i&2){let e=d(2);o(2),h(" ",S(3,2,"TITLE.SalePriceMax")),o(2),w("ngModel",e.filteModelContent.salePriceMax)}}function uh(i,s){if(i&1){let e=I();a(0,"div",92)(1,"label",114),c(2),g(3,"translate"),r(),a(4,"input",115,11),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.filteModelContent.rentPriceMax,t)||(l.filteModelContent.rentPriceMax=t),f(t)}),r()()}if(i&2){let e=d(2);o(2),h("",S(3,2,"TITLE.RentPriceMax")," "),o(2),w("ngModel",e.filteModelContent.rentPriceMax)}}function fh(i,s){if(i&1){let e=I();a(0,"div",92)(1,"label",116),c(2),g(3,"translate"),r(),a(4,"input",117,12),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.filteModelContent.depositPriceMax,t)||(l.filteModelContent.depositPriceMax=t),f(t)}),r()()}if(i&2){let e=d(2);o(2),b(S(3,2,"TITLE.DepositPriceMax")),o(2),w("ngModel",e.filteModelContent.depositPriceMax)}}function _h(i,s){if(i&1){let e=I();a(0,"div",92)(1,"label",118),c(2),g(3,"translate"),r(),a(4,"input",119,13),x("ngModelChange",function(t){u(e);let l=d(2);return T(l.filteModelContent.periodPriceMax,t)||(l.filteModelContent.periodPriceMax=t),f(t)}),r()()}if(i&2){let e=d(2);o(2),h("",S(3,2,"TITLE.PeriodPriceMax")," "),o(2),w("ngModel",e.filteModelContent.periodPriceMax)}}function Ch(i,s){if(i&1){let e=I();a(0,"div",42),C(1,"i",124),c(2,"\xA0 "),a(3,"app-input-string",125),x("modelChange",function(t){u(e);let l=d().$implicit,p=d(3);return T(p.propertyDetails[l.id],t)||(p.propertyDetails[l.id]=t),f(t)}),r()()}if(i&2){let e=d().$implicit,n=d(3);o(),ae("color",e.iconColor),_("ngClass",e.iconFont),o(2),yt(Et("color:'",e.iconColor,"';")),w("model",n.propertyDetails[e.id]),_("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function hh(i,s){if(i&1){let e=I();a(0,"div",42),C(1,"i",124),c(2,"\xA0 "),a(3,"app-input-int",126),x("modelChange",function(t){u(e);let l=d().$implicit,p=d(3);return T(p.propertyDetails[l.id],t)||(p.propertyDetails[l.id]=t),f(t)}),r()()}if(i&2){let e=d().$implicit,n=d(3);o(),ae("color",e.iconColor),_("ngClass",e.iconFont),o(2),yt(Et("color:'",e.iconColor,"';")),w("model",n.propertyDetails[e.id]),_("optionRequired",e.required)("optionLabel",e.title)}}function gh(i,s){if(i&1){let e=I();a(0,"div",42),C(1,"i",124),c(2,"\xA0 "),a(3,"app-input-boolean",127),x("modelChange",function(t){u(e);let l=d().$implicit,p=d(3);return T(p.propertyDetails[l.id],t)||(p.propertyDetails[l.id]=t),f(t)}),c(4),r()()}if(i&2){let e=d().$implicit,n=d(3);o(),ae("color",e.iconColor),_("ngClass",e.iconFont),o(2),w("model",n.propertyDetails[e.id]),o(),h("",e.title," ")}}function Sh(i,s){if(i&1){let e=I();a(0,"div",42),C(1,"i",124),c(2,"\xA0 "),a(3,"app-input-float",126),x("modelChange",function(t){u(e);let l=d().$implicit,p=d(3);return T(p.propertyDetails[l.id],t)||(p.propertyDetails[l.id]=t),f(t)}),r()()}if(i&2){let e=d().$implicit,n=d(3);o(),ae("color",e.iconColor),_("ngClass",e.iconFont),o(2),yt(Et("color:'",e.iconColor,"';")),w("model",n.propertyDetails[e.id]),_("optionRequired",e.required)("optionLabel",e.title)}}function yh(i,s){if(i&1){let e=I();a(0,"div",42),C(1,"i",124),c(2,"\xA0 "),a(3,"label"),c(4),r(),a(5,"app-input-date",128),x("modelChange",function(t){u(e);let l=d().$implicit,p=d(3);return T(p.propertyDetails[l.id],t)||(p.propertyDetails[l.id]=t),f(t)}),r()()}if(i&2){let e=d().$implicit,n=d(3);o(),ae("color",e.iconColor),_("ngClass",e.iconFont),o(2),yt(Et("color:'",e.iconColor,"';")),o(),b(e.title),o(),w("model",n.propertyDetails[e.id]),_("optionRequired",e.required)}}function Eh(i,s){if(i&1){let e=I();a(0,"div",42),C(1,"i",124),c(2,"\xA0 "),a(3,"app-input-textarea",126),x("modelChange",function(t){u(e);let l=d().$implicit,p=d(3);return T(p.propertyDetails[l.id],t)||(p.propertyDetails[l.id]=t),f(t)}),r()()}if(i&2){let e=d().$implicit,n=d(3);o(),ae("color",e.iconColor),_("ngClass",e.iconFont),o(2),yt(Et("color:'",e.iconColor,"';")),w("model",n.propertyDetails[e.id]),_("optionRequired",e.required)("optionLabel",e.title)}}function Mh(i,s){if(i&1){let e=I();a(0,"div",42),C(1,"i",124),c(2,"\xA0 "),a(3,"app-input-string",125),x("modelChange",function(t){u(e);let l=d().$implicit,p=d(3);return T(p.propertyDetails[l.id],t)||(p.propertyDetails[l.id]=t),f(t)}),r()()}if(i&2){let e=d().$implicit,n=d(3);o(),ae("color",e.iconColor),_("ngClass",e.iconFont),o(2),yt(Et("color:'",e.iconColor,"';")),w("model",n.propertyDetails[e.id]),_("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function vh(i,s){if(i&1&&y(0,Ch,4,12,"div",42)(1,hh,4,9,"div",42)(2,gh,5,5,"div",42)(3,Sh,4,9,"div",42)(4,yh,6,9,"div",42)(5,Eh,4,9,"div",42)(6,Mh,4,12,"div",42),i&2){let e,n=s.$implicit,t=d(3);E((e=n.inputDataType)===t.enumInputDataType.String?0:e===t.enumInputDataType.Int?1:e===t.enumInputDataType.Boolean?2:e===t.enumInputDataType.Float?3:e===t.enumInputDataType.Date?4:e===t.enumInputDataType.TextArea?5:6)}}function Ih(i,s){if(i&1){let e=I();a(0,"button",129),v("click",function(){u(e);let t=d(3);return f(t.prevStep())}),c(1),g(2,"translate"),r()}i&2&&(o(),h(" ",S(2,1,"ACTION.PREVIOUS")," "))}function bh(i,s){if(i&1){let e=I();a(0,"button",130),v("click",function(){u(e);let t=d(3);return f(t.nextStep())}),c(1),g(2,"translate"),r()}i&2&&(o(),h(" ",S(2,1,"ACTION.NEXT")," "))}function wh(i,s){if(i&1){let e=I();a(0,"button",130),v("click",function(){u(e);let t=d(3);return f(t.nextStep())}),c(1),g(2,"translate"),r()}i&2&&(o(),h(" ",S(2,1,"ACTION.END")," "))}function Th(i,s){if(i&1){let e=I();a(0,"mat-expansion-panel",120),v("opened",function(){let t=u(e).$index,l=d(2);return f(l.setStep(t))}),a(1,"mat-expansion-panel-header")(2,"mat-panel-title"),c(3),r(),a(4,"mat-panel-description"),c(5),a(6,"mat-icon",121),c(7),r()()(),dt(8,vh,7,1,null,null,ct),a(10,"mat-action-row"),y(11,Ih,3,3,"button",122),y(12,bh,3,3,"button",123),y(13,wh,3,3,"button",123),r()()}if(i&2){let e=s.$implicit,n=s.$index,t=d(2);_("expanded",t.step===n),o(3),h(" ",e.title," "),o(2),h(" ",e.description," "),o(2),b(e.iconFont),o(),pt(e.propertyDetails),o(3),E(n>0?11:-1),o(),E(n+1<t.dataModelPropertyDetailGroups.length?12:-1),o(),E(n+1===t.dataModelPropertyDetailGroups.length?13:-1)}}function xh(i,s){if(i&1){let e=I();a(0,"div")(1,"P"),c(2),g(3,"translate"),r(),y(4,oh,2,3,"app-cms-user-selector",89),a(5,"app-cms-location-autocomplete",90),g(6,"translate"),v("optionChange",function(t){u(e);let l=d();return f(l.onActionSelectorLocation(t))}),r(),C(7,"hr"),a(8,"app-estate-property-type-usage-selector",91),g(9,"translate"),v("optionChange",function(t){u(e);let l=d();return f(l.onActionSelectorSelectUsage(t))}),r(),C(10,"br")(11,"br")(12,"br"),a(13,"app-estate-property-type-landuse-selector",91),g(14,"translate"),v("optionChange",function(t){u(e);let l=d();return f(l.onActionSelectorSelectLanduse(t))}),r(),C(15,"br")(16,"br")(17,"br"),a(18,"app-estate-contract-type-selector",91),g(19,"translate"),v("optionChange",function(t){u(e);let l=d();return f(l.onActionSelectorContarctType(t))}),r(),C(20,"br")(21,"br")(22,"br"),y(23,rh,5,4,"div",92),y(24,ah,5,4,"div",92),y(25,lh,7,5,"div",92),C(26,"hr"),a(27,"app-cms-currency-selector",93),g(28,"translate"),v("optionChange",function(t){u(e);let l=d();return f(l.onActionSelectCurrency(t))}),r(),a(29,"div",94)(30,"div",95),y(31,sh,6,4,"div",92),y(32,ch,6,4,"div",92),y(33,dh,5,1,"div",92),y(34,ph,6,4,"div",92),r(),a(35,"div",95),y(36,mh,6,4,"div",92),y(37,uh,6,4,"div",92),y(38,fh,6,4,"div",92),y(39,_h,6,4,"div",92),r(),a(40,"mat-accordion",96),dt(41,Th,14,7,"mat-expansion-panel",97,ct),C(43,"br"),r()()()}if(i&2){let e=d();o(2),h("",S(3,23,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller")," "),o(2),E(e.tokenHelper.isAdminSite?4:-1),o(),_("optionPlaceholder",S(6,25,"TITLE.Region")),o(3),_("optionTypeView",2)("optionPlaceholder",S(9,27,"TITLE.Type_Usage")),o(5),_("optionTypeView",2)("optionPlaceholder",S(14,29,"TITLE.Property_Type")),o(5),_("optionTypeView",2)("optionPlaceholder",S(19,31,"TITLE.Transaction_type")),o(5),E(e.filteModelContent.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected==null||e.PropertyTypeSelected.titleCreatedYaer==null?null:e.PropertyTypeSelected.titleCreatedYaer.length)>1?23:-1),o(),E(e.filteModelContent.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected==null||e.PropertyTypeSelected.titlePartition==null?null:e.PropertyTypeSelected.titlePartition.length)>1?24:-1),o(),E(e.fieldsInfo.area!=null&&e.fieldsInfo.area.accessWatchField?25:-1),o(2),_("optionSelectFirstItem",!1)("optionSelectForce",e.filteModelContent.linkCoreCurrencyId)("optionPlaceholder",S(28,33,"TITLE.Specify_the_transaction_currency")),o(4),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasSalePrice?31:-1),o(),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasRentPrice?32:-1),o(),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasDepositPrice?33:-1),o(),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasDepositPrice?34:-1),o(2),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasSalePrice?36:-1),o(),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasRentPrice?37:-1),o(),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasDepositPrice?38:-1),o(),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasDepositPrice?39:-1),o(2),pt(e.dataModelPropertyDetailGroups)}}function Ah(i,s){i&1&&(a(0,"mat-header-cell"),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.MENU")," "))}function Rh(i,s){if(i&1){let e=I();a(0,"mat-cell")(1,"button",131),v("click",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowSelectActionMenu(t))}),C(2,"i",132),r()()}}function kh(i,s){if(i&1&&(a(0,"mat-header-cell",133),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ph(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function Lh(i,s){if(i&1&&(a(0,"mat-header-cell",133),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Dh(i,s){if(i&1&&(a(0,"mat-cell"),c(1),g(2,"cmssiteinfo"),g(3,"async"),r()),i&2){let e=s.$implicit;o(),h(" ",S(3,3,S(2,1,e.linkSiteId))," ")}}function Vh(i,s){if(i&1&&(a(0,"mat-header-cell",133),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Oh(i,s){if(i&1&&C(0,"select",135),i&2){let e=d().$implicit,n=d();_("contentService",n.contentService)("row",e)("ngStyle",te(3,Oa,e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)?"":"none"))}}function Bh(i,s){if(i&1&&(a(0,"mat-cell",134),g(1,"statusCellClass"),C(2,"i",134),g(3,"statusIconClass"),y(4,Oh,1,5,"select",135),r()),i&2){let e=s.$implicit,n=d();_("ngClass",S(1,3,e.recordStatus)),o(2),_("ngClass",S(3,5,e.recordStatus)),o(2),E(!(n.dataModelResult==null||n.dataModelResult.access==null)&&n.dataModelResult.access.accessEditRow?4:-1)}}function Wh(i,s){if(i&1&&(a(0,"mat-header-cell",133),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Fh(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function Nh(i,s){if(i&1&&(a(0,"mat-header-cell",133),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Hh(i,s){if(i&1&&(a(0,"mat-cell"),c(1),g(2,"localeDateTime"),r()),i&2){let e=s.$implicit;o(),h(" ",S(2,1,e.createdDate)," ")}}function Gh(i,s){if(i&1&&(a(0,"mat-header-cell",133),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.scoreRushToBuy==null?null:e.fieldsInfo.scoreRushToBuy.fieldTitle," ")}}function Uh(i,s){if(i&1&&(a(0,"mat-cell",134),c(1),r()),i&2){let e=s.$implicit;_("ngClass","cms-cell-score-"+e.scoreRushToBuy),o(),h(" ",e.scoreRushToBuy," ")}}function qh(i,s){if(i&1&&(a(0,"mat-header-cell",133),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.scorePurchaseDecision==null?null:e.fieldsInfo.scorePurchaseDecision.fieldTitle," ")}}function jh(i,s){if(i&1&&(a(0,"mat-cell",134),c(1),r()),i&2){let e=s.$implicit;_("ngClass","cms-cell-score-"+e.scorePurchaseDecision),o(),h(" ",e.scorePurchaseDecision," ")}}function Qh(i,s){if(i&1&&(a(0,"mat-header-cell",133),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.scoreLiquidityPower==null?null:e.fieldsInfo.scoreLiquidityPower.fieldTitle," ")}}function Yh(i,s){if(i&1&&(a(0,"mat-cell",134),c(1),r()),i&2){let e=s.$implicit;_("ngClass","cms-cell-score-"+e.scoreLiquidityPower),o(),h(" ",e.scoreLiquidityPower," ")}}function zh(i,s){if(i&1&&(a(0,"mat-header-cell",133),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.scorePurchasingPower==null?null:e.fieldsInfo.scorePurchasingPower.fieldTitle," ")}}function Kh(i,s){if(i&1&&(a(0,"mat-cell",134),c(1),r()),i&2){let e=s.$implicit;_("ngClass","cms-cell-score-"+e.scorePurchasingPower),o(),h(" ",e.scorePurchasingPower," ")}}function Jh(i,s){if(i&1&&(a(0,"mat-header-cell",133),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Zh(i,s){if(i&1&&(a(0,"mat-cell",136),c(1),g(2,"localeDateTime"),r()),i&2){let e=s.$implicit;o(),h(" ",S(2,1,e.updatedDate)," ")}}function Xh(i,s){if(i&1&&(a(0,"mat-header-cell",133),c(1),r()),i&2){let e=d();o(),h(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," ")}}function $h(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.caseCode," ")}}function eg(i,s){i&1&&(a(0,"mat-header-cell",137),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.OPTION")," "))}function tg(i,s){if(i&1&&(a(0,"mat-cell",138)(1,"button",139)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,14),r()),i&2){let e=L(5);o(),_("matMenuTriggerFor",e)}}function ig(i,s){i&1&&(a(0,"mat-header-cell",133),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.LINKTO")," "))}function ng(i,s){if(i&1){let e=I();a(0,"mat-cell")(1,"button",140),v("click",function(){let t=u(e).$implicit,l=d();return f(l.onActionButtonLinkTo(t))}),a(2,"mat-icon",141),c(3,"\u2197"),r()()()}}function og(i,s){i&1&&(a(0,"mat-header-cell",133),c(1),g(2,"translate"),r()),i&2&&(o(),h(" ",S(2,1,"TITLE.QUICK_VIEW")," "))}function rg(i,s){if(i&1){let e=I();a(0,"mat-cell")(1,"button",142),v("click",function(){let t=u(e).$implicit,l=d();return f(l.onActionButtonQuickViewRow(t))}),a(2,"mat-icon",141),c(3,"visibility"),r()()()}}function ag(i,s){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function lg(i,s){if(i&1&&(C(0,"img",143),g(1,"cmsthumbnail")),i&2){let e=d().$implicit;_("src",k(S(1,2,e.linkMainImageIdSrc)),j)}}function sg(i,s){if(i&1&&(a(0,"tr"),C(1,"td"),a(2,"td"),c(3),r()()),i&2){let e=d().$implicit,n=d();o(3),Q(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function cg(i,s){if(i&1&&(a(0,"tr"),C(1,"td"),a(2,"td"),c(3),g(4,"translate"),r()()),i&2){let e=d().$implicit;o(3),Q(" ",S(4,2,"TITLE.Description_Hidden")," : ",e.descriptionHidden," ")}}function dg(i,s){if(i&1&&(a(0,"tr"),C(1,"td"),a(2,"td"),c(3),g(4,"translate"),r()()),i&2){let e=d().$implicit;o(3),Q(" ",S(4,2,"TITLE.Contact_Mobiles")," : ",e.contactMobiles," ")}}function pg(i,s){if(i&1){let e=I();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),y(5,lg,2,4,"img",143),r(),a(6,"th")(7,"span",144),v("click",function(){u(e);let t=d();return f(t.onActionCopied())}),C(8,"i",145),r(),c(9),r()(),a(10,"tr"),C(11,"td"),a(12,"td"),c(13),r()(),y(14,sg,4,2,"tr"),y(15,cg,5,4,"tr"),y(16,dg,5,4,"tr"),a(17,"tr"),C(18,"td"),a(19,"td",146),c(20),g(21,"cmsuserinfo"),g(22,"async"),r()(),a(23,"tr")(24,"td",147),c(25),g(26,"translate"),r(),a(27,"td",147),c(28),r()(),a(29,"tr"),C(30,"td")(31,"td"),r()()()()}if(i&2){let e=s.$implicit,n=d();o(5),E((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),_("cdkCopyToClipboard",e.id),o(2),h(" ",e.id," "),o(4),Q("",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," : ",e.title),o(),E(e.description?14:-1),o(),E(n.fieldsInfo.descriptionHidden!=null&&n.fieldsInfo.descriptionHidden.accessWatchField?15:-1),o(),E(n.fieldsInfo.contactMobiles!=null&&n.fieldsInfo.contactMobiles.accessWatchField?16:-1),o(4),h(" ",S(22,13,S(21,11,e.createdBy))," "),o(5),h(" ",S(26,15,"TITLE.HISTORY")," : "),o(3),b(e.historyTotalCount)}}function mg(i,s){i&1&&C(0,"mat-header-row")}function ug(i,s){if(i&1){let e=I();a(0,"mat-row",148),v("click",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseLeave(t))}),r()}if(i&2){let e=s.$implicit,n=d();q("ntk-row-selected",e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}function fg(i,s){if(i&1){let e=I();a(0,"mat-row",149),v("click",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseLeave(t))}),r()}if(i&2){let e=s.$implicit,n=d();q("ntk-row-selected",e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}function _g(i,s){if(i&1){let e=I();a(0,"mat-row",150),v("click",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,p=d();return f(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=d();return f(l.onActionTableRowMouseLeave(t))}),r()}if(i&2){let e=s.$implicit,n=d();q("ntk-row-selected",e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)),_("ngStyle",te(3,Oa,e.expanded===!0?"":"none"))}}var eo=class eo extends Bt{constructor(e,n,t,l,p,m,O,J,$,Te,Ee,ke,St,at){super(e,new Oi,St,p,J);this.contentService=e;this.cmsConfirmationDialogService=n;this.estatePropertyDetailGroupService=t;this.cmsToastrService=l;this.tokenHelper=p;this.router=m;this.cdr=O;this.translate=J;this.activatedRoute=$;this.cmsStoreService=Te;this.themeService=Ee;this.pageInfo=ke;this.publicHelper=St;this.dialog=at;this.constructorInfoAreaId=this.constructor.name;this.responsibleUserId=0;this.searchInResponsibleChecked=!1;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new mo;this.dataModelPropertyDetailGroups=[];this.enumInputDataType=Vi;this.tabledisplayedColumns=[];this.step=0;this.tabledisplayedColumnsSource=["id","linkSiteId","recordStatus","createdDate","updatedDate","scoreRushToBuy","scorePurchaseDecision","scoreLiquidityPower","scorePurchasingPower","CaseCode","LinkTo","QuickView","action_menu"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","CaseCode","LinkTo","QuickView","action_menu"];this.unsubscribe=[];this.propertyDetails=new Map;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.PropertyTypeSelected=new ht;this.dataModelCorCurrencySelector=new Di;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:xe=>this.onSubmitOptionsSearch(xe)},this.responsibleUserId=+this.activatedRoute.snapshot.paramMap.get("ResponsibleUserId"),this.requestRecordStatus=Ae[this.activatedRoute.snapshot.paramMap.get("recordStatus")+""],this.requestRecordStatus&&(this.optionsSearch.data.show=!0,this.optionsSearch.data.defaultQuery='{"condition":"and","rules":[{"field":"recordStatus","type":"select","operator":"equal","value":"'+this.requestRecordStatus+'"}]}',this.requestRecordStatus=null),this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=ie.Descending}set optionLinkPropertyId(e){e&&e.length>0&&(this.requestLinkPropertyId=e)}set optionLinkPropertyIdHaveHistory(e){e&&e.length>0&&(this.requestLinkPropertyIdHaveHistory=e)}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&(!this.tokenHelper.isAdminSite&&!this.tokenHelper.isSupportSite&&(this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreRushToBuy"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scorePurchaseDecision"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreLiquidityPower"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scorePurchasingPower")),this.DataGetAll()),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,!this.tokenHelper.isAdminSite&&this.tokenHelper.isSupportSite&&(this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreRushToBuy"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scorePurchaseDecision"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreLiquidityPower"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scorePurchasingPower")),this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;this.tableRowsSelected=[],this.onActionTableRowSelect(new Oi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(p=>{this.publicHelper.processService.processStart(e,p,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(n.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let p=new V;p.propertyName="linkEstateCustomerCategoryId",p.value=this.categoryModelSelected.id,n.filters.push(p)}var t=0;if(this.searchInResponsibleChecked?t=this.tokenInfo.access.userId:this.responsibleUserId>0&&(t=this.responsibleUserId),this.requestLinkPropertyId&&this.requestLinkPropertyId.length>0)this.contentService.ServiceGetAllWithCoverPropertyId(this.requestLinkPropertyId,n).subscribe({next:p=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(p.access),p.isSuccess?(this.dataModelResult=p,this.tableSource.data=p.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(p.access)},1e3)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(e)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(e,!1)}});else if(this.requestLinkPropertyIdHaveHistory&&this.requestLinkPropertyIdHaveHistory.length>0)this.contentService.ServiceGetAllWithCoverPropertyIdHaveHistory(this.requestLinkPropertyIdHaveHistory,n).subscribe({next:p=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(p.access),p.isSuccess?(this.dataModelResult=p,this.tableSource.data=p.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(p.access)},1e3)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(e)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(e,!1)}});else if(t>0)this.contentService.ServiceGetAllWithResponsibleUserId(t,n).subscribe({next:p=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(p.access),p.isSuccess?(this.dataModelResult=p,this.tableSource.data=p.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(p.access)},1e3)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(e)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(e,!1)}});else{var l=[];this.dataModelPropertyDetailGroups&&this.dataModelPropertyDetailGroups.forEach(p=>{p.propertyDetails.forEach(m=>{let O=new Bi;O.linkPropertyDetailId=m.id,O.value=this.propertyDetails[m.id],l.push(O)})}),n.propertyDetailValues=l,this.contentService.setAccessDataType(Me.Editor),this.contentService.ServiceGetAll(n).subscribe({next:p=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(p.access),p.isSuccess?(this.dataModelResult=p,this.tableSource.data=p.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(p.access)},1e3)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(e)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(e,!1)}})}}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ie.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ie.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ie.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(e){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var n="";this.publicHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(no,{height:"90%",panelClass:n,enterAnimationDuration:N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:N.cmsViewConfig.exitAnimationDuration,data:{linkEstateCustomerCategoryId:this.categoryModelSelected?.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.router.navigate(["/estate/customer-order/edit/",l.id])})}onActionButtonCopyNewRow(e=this.tableRowSelected,n){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e);var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(no,{height:"90%",panelClass:t,enterAnimationDuration:N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:N.cmsViewConfig.exitAnimationDuration,data:{copyId:e.id,linkEstateCustomerCategoryId:this.categoryModelSelected?.id}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.router.navigate(["/estate/customer-order/edit/",p.id])})}onActionButtonEditRow(e=this.tableRowSelected,n){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}n?.ctrlKey?(this.link="/#/estate/customer-order/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/customer-order/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{n=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(p,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(e.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonHistoryRow(e=this.tableRowSelected,n){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}n?.ctrlKey?(this.link="/#/estate/property-history/LinkCustomerOrderId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkCustomerOrderId",this.tableRowSelected.id])}onActionButtonOpenCustomerOrder(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}this.onActionTableRowSelect(e),window.open(this.tableRowSelected.urlViewContent,"_blank")}onActionButtonContentList(e=this.tableRowSelected,n){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),n?.ctrlKey?(this.link="/#/estate/property/LinkCustomerOrderId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkCustomerOrderId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.property_list").subscribe(Ut=>{this.publicHelper.processService.processStart(this.constructor.name+"All",Ut,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Me.Editor);let t=JSON.parse(JSON.stringify(this.filteModelContent)),l=this.contentService.ServiceGetCount(t),p=JSON.parse(JSON.stringify(this.filteModelContent)),m=new V;m.propertyName="recordStatus",m.value=Ae.Available,p.filters.push(m);let O=this.contentService.ServiceGetCount(p),J=JSON.parse(JSON.stringify(this.filteModelContent)),$=new V;$.propertyName="recordStatus",$.value=Ae.Archive,J.filters.push($);let Te=this.contentService.ServiceGetCount(J),Ee=JSON.parse(JSON.stringify(this.filteModelContent)),ke=new V;ke.propertyName="recordStatus",ke.value=Ae.Pending,Ee.filters.push(ke);let St=this.contentService.ServiceGetCount(Ee),at=JSON.parse(JSON.stringify(this.filteModelContent)),xe=new V;xe.propertyName="recordStatus",xe.value=Ae.Disable,at.filters.push(xe);let D=this.contentService.ServiceGetCount(at);ao([l,O,Te,St,D]).subscribe(Ut=>{var De=Ut[0];De.isSuccess&&this.translate.get("MESSAGE.customer_order_list").subscribe(ai=>{n.set(ai,De.totalRowCount)});var De=Ut[1];De.isSuccess&&this.translate.get("MESSAGE.customer_order_list_active").subscribe(ai=>{n.set(ai,De.totalRowCount)}),De=Ut[2],De.isSuccess?this.translate.get("MESSAGE.customer_order_list_close").subscribe(ai=>{n.set(ai,De.totalRowCount)}):this.cmsToastrService.typeErrorMessage(De.errorMessage),De=Ut[3],De.isSuccess?this.translate.get("MESSAGE.customer_order_needs_approval").subscribe(ai=>{n.set(ai,De.totalRowCount)}):this.cmsToastrService.typeErrorMessage(De.errorMessage),De=Ut[4],De.isSuccess?this.translate.get("MESSAGE.customer_order_list_disable").subscribe(ai=>{n.set(ai,De.totalRowCount)}):this.cmsToastrService.typeErrorMessage(De.errorMessage),this.publicHelper.processService.processStop(this.constructor.name+"All"),this.optionsStatist.childMethods.setStatistValue(n)})}onActionButtonInResponsible(e){this.searchInResponsibleChecked=e,this.DataGetAll()}onActionSelectorSelect(e){var n=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType,n=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new mo,this.filteModelContent.sortColumn=n,this.filteModelContent.sortType=t,this.filteModelContent.sortColumn=n,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=Ae.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.tableRowSelected=e;let n=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_customer_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(Ii,{height:"90%",panelClass:l,enterAnimationDuration:N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:N.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(n)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onActionSelectorLocation(e){this.filteModelContent.linkLocationIds=e}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(n=>{this.cmsToastrService.typeWarningSelected(n)});return}this.filteModelContent.linkPropertyTypeUsageId=e.id}onSearchCaseCodeChange(e){e&&e.length>0&&(this.filteModelContent=new mo,this.filteModelContent.caseCode=e,this.dataModelPropertyDetailGroups=[])}onActionSelectorSelectLanduse(e){if(this.dataModelPropertyDetailGroups=[],this.PropertyTypeSelected=null,this.filteModelContent.linkPropertyTypeLanduseId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(n=>{this.cmsToastrService.typeWarningSelected(n)});return}this.DataGetPropertyDetailGroup(e.id),this.PropertyTypeSelected=e,this.filteModelContent.linkPropertyTypeLanduseId=e.id}DataGetPropertyDetailGroup(e){let n=new me,t=new V;t.propertyName="LinkPropertyTypeLanduseId",t.value=e,n.filters.push(t),this.dataModelPropertyDetailGroups=[];let l=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("MESSAGE.Get_detailed_information").subscribe(p=>{this.publicHelper.processService.processStart(l,p,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAllFastSearch(n).subscribe({next:p=>{p.isSuccess?(this.dataModelPropertyDetailGroups=p.listItems,this.dataModelPropertyDetailGroups&&this.dataModelPropertyDetailGroups.forEach(m=>{m.propertyDetails.forEach(O=>{this.propertyDetails[O.id]=0})})):this.cmsToastrService.typeErrorGetAccess(p.errorMessage),this.publicHelper.processService.processStop(l)},error:p=>{this.cmsToastrService.typeErrorGetAccess(p),this.publicHelper.processService.processStop(l,!1)}})}onActionSelectorContarctType(e){if(this.contractTypeSelected=null,this.filteModelContent.linkContractTypeId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(n=>{this.cmsToastrService.typeWarningSelected(n)});return}this.contractTypeSelected=e,this.filteModelContent.linkContractTypeId=e.id}onActionSelectCurrency(e){if(!e||e.id<=0){this.dataModelCorCurrencySelector=null,this.filteModelContent.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.filteModelContent.linkCoreCurrencyId=e.id}onActionButtonQuickHistoryAddRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e);var n="";this.publicHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Fo,{height:"90%",panelClass:n,enterAnimationDuration:N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:N.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:this.categoryModelSelected?.id,linkPropertyId:null,linkEstateExpertId:null,linkCustomerOrderId:e.id,linkEstateAgencyId:null}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonQuickViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n=this.publicHelper.InfoNextRowInList(this.dataModelResult.listItems,this.tableRowSelected),t=this.publicHelper.InfoPerviousRowInList(this.dataModelResult.listItems,this.tableRowSelected),l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(ca,{height:"90%",panelClass:l,data:{id:this.tableRowSelected.id,perviousItem:t,nextItem:n}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&m.onActionOpenItem&&m.onActionOpenItem.id.length>0&&this.onActionButtonQuickViewRow(m.onActionOpenItem)})}onActionButtonResponsibleUserlistView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;var n="";this.publicHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(ur,{height:"90%",panelClass:n,enterAnimationDuration:N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:N.cmsViewConfig.exitAnimationDuration,data:{title:this.tableRowSelected.title,id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}};eo.\u0275fac=function(n){return new(n||eo)(M(Wi),M(Vt),M(Fi),M(F),M(z),M(Mt),M(H),M(W),M(Zt),M(Y),M(ft),M(Dt),M(U),M(oe))},eo.\u0275cmp=B({type:eo,selectors:[["app-estate-customer-order-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkPropertyId:"optionLinkPropertyId",optionLinkPropertyIdHaveHistory:"optionLinkPropertyIdHaveHistory"},standalone:!1,features:[ee],decls:160,vars:71,consts:[["caseCode",""],["tableSort","matSort"],["paginator",""],["CreatedYaer",""],["Partition",""],["Area",""],["SalePriceMin",""],["RentPriceMin",""],["DepositPriceMin",""],["PeriodPriceMin",""],["SalePriceMax",""],["RentPriceMax",""],["DepositPriceMax",""],["PeriodPriceMax",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],[1,"fa-light","fa-clapperboard-play","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],[1,"ntk-full-width"],["matInput","","name","filteModelContent.caseCode","type","text","step","1",3,"input","ngModelChange","ngModel","placeholder"],["matPrefix","","matPrefix","","mat-icon-button","","aria-label","Clear"],["matPrefix",""],["matSuffix","",1,"info-field-icon"],[1,"info-field-text"],["cms-body",""],["matSort","","multiTemplateDataRows","",1,"ntk-cms-html-table",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","scoreRushToBuy"],["matColumnDef","scorePurchaseDecision"],["matColumnDef","scoreLiquidityPower"],["matColumnDef","scorePurchasingPower"],["matColumnDef","updatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","CaseCode"],["matColumnDef","Action"],["class","form-label",4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","QuickView"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["matPrefix","","matPrefix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"optionPlaceholder"],[3,"optionChange","optionPlaceholder"],[3,"optionChange","optionTypeView","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[1,"row",2,"direction","rtl"],[1,"col-md-6","col-sm-6","col-xs-9"],[1,"example-headers-align"],[3,"expanded"],["for","filteModelContent.createdYaer",1,"color-highlight"],["matInput","","name","filteModelContent.createdYaer","type","number","id","filteModelContent.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.partition",1,"color-highlight"],["matInput","","name","filteModelContent.partition","type","number","id","filteModelContent.partition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.area",1,"color-highlight"],["matInput","","name","filteModelContent.area","type","text","currencyMask","","pattern","(d{3})","step","10","id","filteModelContent.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.salePriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.salePriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.salePriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.rentPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.rentPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.rentPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.depositPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.depositPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.depositPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.periodPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.periodPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.periodPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.salePriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.salePriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.salePriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.rentPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.rentPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.rentPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.depositPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.depositPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.depositPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.periodPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.periodPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.periodPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],[3,"opened","expanded"],[2,"width","100px"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionRequired","optionLabel"],[3,"modelChange","model","optionRequired","optionLabel"],[3,"modelChange","model"],[3,"modelChange","model","optionRequired"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header","",1,"form-label"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"form-label"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"input-Mobile"],[1,"col-form-label"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(n,t){if(n&1){let l=I();a(0,"app-cms-html-list",15),x("optionActionGuideNoticeDisplayChange",function(m){return u(l),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),v("optionOnActionButtonMemoRow",function(){return u(l),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(l),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(l),f(t.onActionButtonExport())}),A(1,16),a(2,"app-estate-customer-category-tree",17),v("optionChange",function(m){return u(l),f(t.onActionSelectorSelect(m))}),r(),R(),Ue(3,18)(4,19),A(5,20),a(6,"a",21),v("click",function(){return u(l),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",22),r(),a(8,"a",21),v("click",function(){return u(l),f(t.onActionButtonReload())}),C(9,"i",23),r(),a(10,"a",24),v("click",function(){return u(l),f(t.onActionGridExpandRows(!0))}),C(11,"i",25),r(),a(12,"a",24),v("click",function(){return u(l),f(t.onActionGridExpandRows(!1))}),C(13,"i",26),r(),R(),A(14,27),a(15,"a",28),v("click",function(){return u(l),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(16,"mat-slide-toggle",29),c(17),g(18,"translate"),r(),a(19,"a",28),v("click",function(){return u(l),f(t.onActionButtonStatist())}),C(20,"mat-slide-toggle",29),c(21),g(22,"translate"),r(),y(23,XC,4,4,"a",30),R(),A(24,31),y(25,$C,7,3,"div",32),R(),A(26,33),a(27,"div",32)(28,"a",21),v("click",function(){return u(l),f(t.onActionButtonQuickViewRow(t.tableRowSelected))}),C(29,"i",34)(30,"br"),r(),a(31,"p",35),c(32),g(33,"translate"),r()(),y(34,eh,7,3,"div",32),y(35,th,7,3,"div",32),y(36,ih,7,3,"div",32),a(37,"div",32)(38,"a",24),v("click",function(){return u(l),f(t.onActionButtonQuickHistoryAddRow(t.tableRowSelected))}),C(39,"i",36)(40,"br"),r(),a(41,"p",35),c(42),g(43,"translate"),r()(),a(44,"div",32)(45,"a",24),v("click",function(m){return u(l),f(t.onActionButtonHistoryRow(t.tableRowSelected,m))}),C(46,"i",36)(47,"br"),r(),a(48,"p",35),c(49),g(50,"translate"),r()(),a(51,"div",32)(52,"a",24),v("click",function(m){return u(l),f(t.onActionButtonContentList(t.tableRowSelected,m))}),C(53,"i",37)(54,"br"),r(),a(55,"p",35),c(56),g(57,"translate"),r()(),a(58,"div",32)(59,"a",24),v("click",function(){return u(l),f(t.onActionButtonOpenCustomerOrder(t.tableRowSelected))}),C(60,"i",38)(61,"br"),r(),a(62,"p",35),c(63),g(64,"translate"),r()(),a(65,"div",32)(66,"a",21),v("click",function(){return u(l),f(t.onActionButtonLinkTo(t.tableRowSelected))}),C(67,"i",39)(68,"br"),r(),a(69,"p",35),c(70),g(71,"translate"),r()(),a(72,"div",32)(73,"a",21),v("click",function(){return u(l),f(t.onActionButtonResponsibleUserlistView(t.tableRowSelected))}),C(74,"i",39)(75,"br"),r(),a(76,"p",35),c(77),g(78,"translate"),r()(),R(),A(79,40),a(80,"app-cms-search-list",41),x("optionsChange",function(m){return u(l),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),C(81,"hr"),a(82,"p"),c(83),g(84,"translate"),r(),a(85,"mat-form-field",42)(86,"mat-label"),c(87),r(),a(88,"input",43,0),v("input",function(m){return u(l),f(t.onSearchCaseCodeChange(m.target.value))}),x("ngModelChange",function(m){return u(l),T(t.filteModelContent.caseCode,m)||(t.filteModelContent.caseCode=m),f(m)}),r(),y(90,nh,2,0,"mat-icon",44),a(91,"mat-icon",45),c(92," mode_edit"),r(),a(93,"mat-hint")(94,"mat-icon",46),c(95),g(96,"translate"),r(),a(97,"strong",47),c(98),r()()(),y(99,xh,44,35,"div"),r(),a(100,"app-cms-statist-list",41),x("optionsChange",function(m){return u(l),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),r(),R(),A(101,48),a(102,"mat-table",49,1),v("matSortChange",function(){u(l);let m=L(103);return f(t.onTableSortData(m))}),A(104,50),P(105,Ah,3,3,"mat-header-cell",51)(106,Rh,3,0,"mat-cell",52),R(),A(107,53),P(108,kh,2,1,"mat-header-cell",54)(109,Ph,2,1,"mat-cell",52),R(),A(110,55),P(111,Lh,2,1,"mat-header-cell",54)(112,Dh,4,5,"mat-cell",52),R(),A(113,56),P(114,Vh,2,1,"mat-header-cell",54)(115,Bh,5,7,"mat-cell",57),R(),A(116,58),P(117,Wh,2,1,"mat-header-cell",54)(118,Fh,2,1,"mat-cell",52),R(),A(119,59),P(120,Nh,2,1,"mat-header-cell",54)(121,Hh,3,3,"mat-cell",52),R(),A(122,60),P(123,Gh,2,1,"mat-header-cell",54)(124,Uh,2,2,"mat-cell",57),R(),A(125,61),P(126,qh,2,1,"mat-header-cell",54)(127,jh,2,2,"mat-cell",57),R(),A(128,62),P(129,Qh,2,1,"mat-header-cell",54)(130,Yh,2,2,"mat-cell",57),R(),A(131,63),P(132,zh,2,1,"mat-header-cell",54)(133,Kh,2,2,"mat-cell",57),R(),A(134,64),P(135,Jh,2,1,"mat-header-cell",54)(136,Zh,3,3,"mat-cell",65),R(),A(137,66),P(138,Xh,2,1,"mat-header-cell",54)(139,$h,2,1,"mat-cell",52),R(),A(140,67),P(141,eg,3,3,"mat-header-cell",68)(142,tg,6,1,"mat-cell",69),R(),A(143,70),P(144,ig,3,3,"mat-header-cell",54)(145,ng,4,0,"mat-cell",52),R(),A(146,71),P(147,og,3,3,"mat-header-cell",54)(148,rg,4,0,"mat-cell",52),R(),A(149,72),P(150,ag,2,1,"mat-cell",52),R(),A(151,73),P(152,pg,32,17,"mat-cell",52),R(),P(153,mg,1,0,"mat-header-row",74)(154,ug,1,2,"mat-row",75)(155,fg,1,2,"mat-row",76)(156,_g,1,5,"mat-row",77),r(),R(),A(157,78),a(158,"mat-paginator",79,2),v("page",function(m){return u(l),f(t.onTablePageingData(m))}),r(),R(),r()}n&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","customerorder.content.list"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",t.tokenHelper.isAdminSite&&t.optionloadByRoute)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),q("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),_("checked",t.optionsSearch.data.show),o(),h("",S(18,46,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",S(22,48,"ACTION.STATIST")," "),o(2),E(!t.requestLinkPropertyId||t.requestLinkPropertyId.length===0?23:-1),o(2),E(t.optionloadByRoute&&t.dataModelResult.access.accessAddRow?25:-1),o(7),h(" ",S(33,50,"ACTION.QUICK_VIEW")," "),o(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?34:-1),o(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.tableRowSelected!=null&&t.tableRowSelected.id)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?35:-1),o(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?36:-1),o(6),h(" ",S(43,52,"ACTION.HISTORY_ADD")," "),o(7),h(" ",S(50,54,"ACTION.HISTORY_LIST")," "),o(7),h(" ",S(57,56,"ACTION.THEPROPERTY_INCLUDESVIEWS")," "),o(7),h(" ",S(64,58,"ACTION.DISPLAYCLIENTPAGE")," "),o(7),h(" ",S(71,60,"TITLE.LINKTO")," "),o(7),h(" ",S(78,62,"TITLE.ResponsibleUsers")," "),o(3),w("options",t.optionsSearch),o(3),b(S(84,64,"MESSAGE.Content_of_your_choice_to_display")),o(4),b(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle),o(),_("placeholder",k(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle)),w("ngModel",t.filteModelContent.caseCode),o(2),E(t.filteModelContent.caseCode?90:-1),o(5),b(S(96,66,"TITLE.info")),o(3),b(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldDescription),o(),E(!t.filteModelContent.caseCode||t.filteModelContent.caseCode.length===0?99:-1),o(),w("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(51),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",Z(68,KC)),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(),_("matRowDefColumns",Z(69,JC)),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Z(70,ZC)))},dependencies:[se,Ce,ge,Gi,ne,jr,ce,Pe,To,Mo,vo,Io,wo,bo,qi,Ui,go,So,Qt,Se,le,Tt,xt,At,Rt,kt,Pt,Je,Xe,it,$e,Ze,nt,et,tt,ot,rt,wt,Wt,Ft,nn,_t,Ot,Nt,No,Ho,Go,Uo,qo,jo,Ht,ti,Xi,Cr,on,rn,an,We,G,ei,ii,de,Ji,ni,oi],encapsulation:2});var Va=eo;var Cg=["tagInput"];function hg(i,s){if(i&1){let e=I();a(0,"mat-chip",8),v("removed",function(){let t=u(e).$implicit,l=d();return f(l.remove(t))}),c(1),a(2,"button",9)(3,"mat-icon"),c(4,"cancel"),r()()()}if(i&2){let e=s.$implicit;o(),h(" ",e.display," ")}}function gg(i,s){if(i&1&&(a(0,"mat-option",7),c(1),r()),i&2){let e=s.$implicit;_("value",e),o(),h(" ",e.display," ")}}var wi=class wi{constructor(s,e,n){this.service=s;this.cmsToastrService=e;this.translate=n;this.id=++wi.nextId;this.constructorInfoAreaId=this.constructor.name;this.optionDisabled=!1;this.optionPlaceholder="+ Tag";this.optionLabel="";this.optionRequired=!1;this.optionChange=new jt;this.tagDataModel=[];this.tagLastDataModel=[];this.selectForceStatus=!0;this.separatorKeysCodes=[13];this.tagCtrl=new Hi("");this.addOnBlur=!0;this.filteredOptions=this.tagCtrl.valueChanges.pipe(so(null),lo(400),co(t=>this.filter(t||"")))}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}filter(s){let e=new xi;e.rowPerPage=20,e.accessLoad=!0;let n=new V;return n.propertyName="title",n.value=s,n.searchType=vt.Contains,n.clauseType=st.Or,e.filters.push(n),s&&typeof s=="string"&&(n=new V,n.propertyName="id",n.value=s,n.searchType=vt.Equal,n.clauseType=st.Or,e.filters.push(n)),s&&typeof+s=="number"&&+s>0&&(n=new V,n.propertyName="caseCode",n.value=s,n.searchType=vt.Contains,n.clauseType=st.Or,e.filters.push(n)),this.service.ServiceGetAll(e).pipe(ro(t=>(this.tagLastDataModel=t.listItems.map(l=>({display:l.title,value:l.id})),this.tagLastDataModel)))}checkIndex(s){var e=0,n=-1;return this.tagDataModel.forEach(t=>{t.value==s&&(n=e),e++}),n}add(s){var e;s.value&&this.tagLastDataModel.forEach(n=>{(n.display==s.value||n.value+""==s.value)&&(e=n)}),e&&this.checkIndex(e.value)<0&&(this.tagDataModel.push(e),this.onActionChange()),s.chipInput.clear(),this.tagCtrl.setValue(null)}remove(s){let e=this.checkIndex(s.value);e>=0&&(this.tagDataModel.splice(e,1),this.onActionChange())}selected(s){let e=s.option.value;this.checkIndex(e.value)<0&&this.tagDataModel.push(e),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let s=[];this.tagDataModel.forEach(e=>{s.findIndex(n=>n==e.value)<0&&s.push(e.value)}),this.selectForceStatus=!1,this.optionChange.emit(s)}onActionSelectForce(s){if(!this.selectForceStatus||!s||s.length===0)return;let e=new xi;s.forEach(n=>{if(n.length>0){let t=new V;t.propertyName="id",t.value=n,t.clauseType=st.Or,e.filters.push(t)}}),this.service.ServiceGetAll(e).subscribe({next:n=>{n.isSuccess?n.listItems.forEach(t=>{this.tagDataModel.findIndex(l=>l.value==t.id)<0&&this.tagDataModel.push({value:t.id,display:t.title})}):this.cmsToastrService.typeErrorGetAll(n.errorMessage)},error:n=>{this.cmsToastrService.typeErrorGetAll(n)}})}};wi.nextId=0,wi.\u0275fac=function(e){return new(e||wi)(M(Xt),M(F),M(W))},wi.\u0275cmp=B({type:wi,selectors:[["app-estate-property-autocomplete"]],viewQuery:function(e,n){if(e&1&&Ve(Cg,5),e&2){let t;Oe(t=Be())&&(n.tagInput=t.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionRequired:"optionRequired",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,decls:14,vars:10,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value"],[3,"removed"],["type","button","matChipRemove",""]],template:function(e,n){if(e&1){let t=I();a(0,"mat-form-field",3)(1,"mat-label"),c(2),r(),a(3,"mat-chip-grid",4,0),dt(5,hg,5,1,"mat-chip",null,ct),a(7,"input",5,1),v("matChipInputTokenEnd",function(p){return u(t),f(n.add(p))}),r()(),a(9,"mat-autocomplete",6,2),v("optionSelected",function(p){return u(t),f(n.selected(p))}),dt(11,gg,2,2,"mat-option",7,ct),g(13,"async"),r()()}if(e&2){let t=L(4),l=L(10);o(2),b(n.optionLabel),o(),_("disabled",n.optionDisabled),o(2),pt(n.tagDataModel),o(2),_("placeholder"," + "+n.optionPlaceholder)("matChipInputAddOnBlur",n.addOnBlur)("formControl",n.tagCtrl)("matAutocomplete",l)("matChipInputFor",t)("matChipInputSeparatorKeyCodes",n.separatorKeysCodes),o(4),pt(S(13,8,n.filteredOptions))}},dependencies:[ge,ne,Co,yo,ho,Eo,zr,Kr,Jr,Yr,qi,Ui,Se,We],encapsulation:2});var Ba=wi;var to=class to{constructor(s){this.sanitizer=s}transform(s,e=!1){let n="";switch(s){case 0:n="fa fa-sort-amount-desc";break;case 1:n="fa fa-sort-amount-asc";break;case 2:n="fa fa-random";break;default:n="fa fa-sort-amount-desc"}return n}};to.\u0275fac=function(e){return new(e||to)(M(Dr,16))},to.\u0275pipe=xr({name:"sortTypeIconClass",type:to,pure:!0,standalone:!1});var Wa=to;function Sg(i,s){if(i&1){let e=I();a(0,"button",8),v("click",function(){u(e);let t=d(2);return f(t.onActionSendUrlToQDoc())}),a(1,"span"),c(2),g(3,"translate"),r(),C(4,"i",9),r()}i&2&&(o(2),b(S(3,1,"ACTION.VIEW")))}function yg(i,s){if(i&1){let e=I();a(0,"div")(1,"p"),c(2),g(3,"translate"),r(),a(4,"div",1)(5,"ng-otp-input",2,0),v("onInputChange",function(t){u(e);let l=d();return f(l.onOtpChange(t))}),r()(),a(7,"div",3),y(8,Sg,5,3,"button",4),r(),a(9,"h5",5),c(10),g(11,"translate"),r(),a(12,"p",6),c(13),g(14,"translate"),a(15,"a",7),c(16," https://qdoc.ir "),r(),c(17),g(18,"translate"),r()()}if(i&2){let e=d();o(2),b(S(3,6,"TITLE.Code_of_Knowledge")),o(3),_("config",e.otpConfig),o(3),E(e.optionUrl&&e.optionUrl.length>0&&(e.QDocModel.username==null?null:e.QDocModel.username.length)===5?8:-1),o(2),h("",S(11,8,"TITLE.Description"),":"),o(3),h(" ",S(14,10,"TITLE.To_do_this_it_is_enough_to_enter_the_site_on_the_device_that_you_want_your_content_to_be_displayed_on")," "),o(4),h(" ",S(18,12,"TITLE.Enter_the_display_code_in_this_section_so_that_your_content_will_be_displayed_on_the_monitor_of_the_device_in_question")," ")}}var Ti=class Ti{constructor(s,e,n){this.cmsToastrService=s;this.http=e;this.translate=n;this.id=++Ti.nextId;this.optionUrl="";this.QDocModel={};this.otpConfig={allowNumbersOnly:!0,length:5,isPasswordInput:!1,disableAutoFocus:!0,placeholder:"",inputStyles:{width:"50px",height:"50px",margin:"5px"}}}ngOnInit(){}onActionSendUrlToQDoc(){if(this.QDocModel.message=this.optionUrl,!this.QDocModel.username&&this.QDocModel.username.length<=0){this.cmsToastrService.typeWarningSelected("\u06A9\u062F \u0634\u0646\u0627\u0633\u0647 \u0631\u0627 \u0627\u0632 \u0648\u0628\u0633\u0627\u06CC\u062A https://Qdoc.ir \u062F\u0631\u06CC\u0627\u0641\u062A \u0646\u0645\u0627\u06CC\u06CC\u062F");return}this.http.post(N.cmsServerConfig.configQDocServerPath,this.QDocModel,{headers:{}}).subscribe({next:s=>{this.translate.get("MESSAGE.The_order_was_sent_to_the_website").subscribe(e=>{this.cmsToastrService.typeSuccessMessage(e)})},error:s=>{this.cmsToastrService.typeErrorMessage("\u0628\u0631\u0631\u0648\u0632 \u062E\u0637\u0627 \u062F\u0631 \u0627\u0631\u0633\u0627\u0644 \u062F\u0633\u062A\u0648\u0631",s)}})}onOtpChange(s){this.QDocModel.username=s}};Ti.nextId=0,Ti.\u0275fac=function(e){return new(e||Ti)(M(F),M(Lr),M(W))},Ti.\u0275cmp=B({type:Ti,selectors:[["app-cms-qdoc"]],inputs:{optionUrl:"optionUrl"},standalone:!1,decls:1,vars:1,consts:[["ngOtpInput",""],[2,"text-align","center"],[3,"onInputChange","config"],[1,"col-m-4","col-sm-12"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[2,"text-align","right"],["dir","rtl",2,"font-size","15px"],["href","https://qdoc.ir","target","_blank"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fas","fa-street-view"]],template:function(e,n){e&1&&y(0,yg,19,14,"div"),e&2&&E(n.optionUrl&&n.optionUrl.length>0?0:-1)},dependencies:[qr,ta,G],encapsulation:2});var Fa=Ti;export{_a as a,Ca as b,Bn as c,ir as d,or as e,Pi as f,ka as g,Ba as h,Wa as i,Fa as j,mr as k,Va as l};
