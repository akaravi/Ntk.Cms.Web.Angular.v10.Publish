import{a as Sr,b as zr,c as Sn}from"./chunk-YBSXHWAY.js";import{a as Kr}from"./chunk-7XEQAZ6G.js";import{a as jr,b as Qr}from"./chunk-H3TS2GMD.js";import{a as Bo}from"./chunk-GMMSQXXT.js";import{a as Wt}from"./chunk-DRYTOYZH.js";import{a as Ht}from"./chunk-UKP332NT.js";import{a as qr}from"./chunk-XZMFWWLT.js";import{a as Hr}from"./chunk-6VO5GIXW.js";import{a as Ur}from"./chunk-OTUIVJYR.js";import{a as wi}from"./chunk-GH75XYOP.js";import{a as No}from"./chunk-JGVUM22E.js";import{a as Vo}from"./chunk-7NSRNHPD.js";import{a as Wr}from"./chunk-EV7NE2FC.js";import{a as Rt}from"./chunk-OZGWNIEY.js";import{a as vt}from"./chunk-A2DN4QQU.js";import{a as _t}from"./chunk-3GWKODPQ.js";import{c as ut,d as ft,e as St,g as ht,h as gt}from"./chunk-DTD2EZ4A.js";import{a as pt,b as Ct}from"./chunk-P3HPMALG.js";import{a as ct,b as Ot,c as fn,d as Gr}from"./chunk-FMIMA33V.js";import{a as mt}from"./chunk-Q5MRMG4B.js";import{a as ue}from"./chunk-QHU3RJXS.js";import{b as Or}from"./chunk-PBABNXIL.js";import{a as $t}from"./chunk-J4OGR7RK.js";import{a as He}from"./chunk-NODEOE2K.js";import{a as q}from"./chunk-SNKEZIGN.js";import{a as ko,b as Lo,e as dt,f as B}from"./chunk-5CJV2ORJ.js";import{$ as pn,$a as J,A as cn,Ab as rt,B as kr,Ba as Tt,Bb as at,Ca as Pt,Cb as st,D as _i,Da as xt,Db as lt,E as Mi,Fc as Pe,G as Ci,Ib as wo,Ic as xe,J as _e,Ja as ro,Jb as To,K as Ae,Ka as oe,Kb as Po,Kc as N,L as ye,La as re,Lb as xo,Ma as Te,Mb as Ro,N as Lr,Nb as Do,Nc as Fr,O as Vr,Q as mn,Qb as L,Rb as F,V as vi,W as pe,Y as yo,Z as wt,Za as Ee,_ as bi,aa as un,ba as Fe,bc as Gt,c as Rr,cc as Nr,d as Co,eb as ze,f as vo,fb as Ke,g as bo,hb as Je,i as Io,j as Ao,k as Dr,lb as Xe,m as ke,mb as Ye,n as z,nb as Ze,q as K,r as se,sa as Eo,t as le,tc as Br,u as Yt,ua as Ii,ub as $e,v as ne,va as Ai,vb as et,w as de,wb as tt,x as Zt,xa as yi,xb as it,ya as Ei,yb as nt,zb as ot}from"./chunk-SZGAULHU.js";import{$b as ci,$j as ni,Ab as an,Ak as Bt,Aq as fr,Bd as Be,Bk as Si,Bq as U,Ca as Me,Cb as $,Ck as dn,Db as ee,Dk as Xt,Eb as te,Ed as je,Ek as hi,F as en,Fa as o,Fd as G,Fk as Ft,Gk as gi,Ha as Ue,I as tn,Ib as x,Ic as qe,Jc as we,Jd as Q,Kb as X,Kc as O,Kd as Y,Ld as ie,Nb as m,Nd as Ir,Oa as C,Ob as w,Oc as mi,P as nn,Pb as g,Q as on,Qb as Ce,Qc as At,Qd as _o,Sa as D,Ta as go,Tb as A,Td as be,Ub as y,Va as vr,Vb as E,Vd as Ar,Wa as W,Wb as R,Wc as br,X as Mr,Xb as ii,Xd as yr,Y as ho,Ya as v,Zj as Lt,_b as Ve,_j as yt,ak as zt,cc as h,ck as ur,da as p,db as Jt,dc as _,dk as oi,ea as u,ec as sn,ek as ri,fk as ui,gk as Er,hk as ai,ia as Cr,ik as bt,jb as c,jk as si,kb as r,kk as wr,lb as a,mb as M,nd as pi,nk as Tr,ok as Pr,p as Zi,pd as ln,pk as De,q as $i,qb as T,rb as P,sb as Le,sd as Qt,sq as Et,tb as I,tq as xr,uq as Qe,vc as V,vd as Ne,wb as b,wk as Vt,xd as j,xk as fi,yb as S,yk as Nt,zb as rn,zk as Mo}from"./chunk-3ZZIV3L4.js";import{i as ve}from"./chunk-SEDBTTTN.js";var oa=["*"];function ra(n,l){if(n&1&&(r(0,"label",12),m(1),a()),n&2){let e=S();c("for",ii("app-cms-site-selector-",e.id)),o(),w(e.optionLabel)}}function aa(n,l){if(n&1&&(r(0,"mat-option",13)(1,"span"),m(2),a()()),n&2){let e=l.$implicit,i=S();c("value",e)("disabled",i.optionDisabled),o(2),w(i.displayOption(e))}}function sa(n,l){n&1&&M(0,"i",14)}function la(n,l){n&1&&M(0,"i",15)}function da(n,l){if(n&1){let e=I();r(0,"i",16),b("click",function(){p(e);let t=S();return u(t.onActionSelectClear())}),a()}}function ca(n,l){n&1&&(r(0,"em"),m(1),h(2,"translate"),a()),n&2&&(o(),g("(",_(2,1,"TITLE.Necessary"),")"))}var Ti=class Ti{constructor(l,e,i,t,s,f){this.coreEnumService=l;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=s;this.categoryService=f;this.id=++Ti.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new yt;this.formControl=new Yt;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionSelectFirstItemOnChangeApi=!1;this.optionPlaceholder="";this.optionLabel="";this.optionSelectForSendMessage=!1;this.optionChange=new Ue;this.optionReload=()=>this.onActionButtonReload();this.privateLinkApiPathId="";this.privateLinkApiPathIdLast="";this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}set optionLinkApiPathId(l){l!=this.privateLinkApiPathId&&(this.privateLinkApiPathId!=""&&this.onActionSelectClear(),this.privateLinkApiPathId=l,this.privateLinkApiPathId!=this.privateLinkApiPathIdLast&&(this.optionSelectFirstItem=this.optionSelectFirstItemOnChangeApi),this.privateLinkApiPathIdLast=l,this.optionChange.emit(this.dataModelSelect),this.loadOptions())}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(nn(""),en(1500),tn(),on(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.numberChar:void 0}displayOption(l){return l?l.numberChar:void 0}DataGetAll(l){return ve(this,null,function*(){let e=new Y;e.rowPerPage=20,e.accessLoad=!0;let i=new Q;i.propertyName="NumberChar",i.value=l,i.searchType=Qt.Contains,i.clauseType=pi.Or,e.filters.push(i),this.privateLinkApiPathId?.length>0&&(i=new Q,i.propertyName="ApiPathAndApiNumbers",i.propertyAnyName="LinkApiPathId",i.value=this.privateLinkApiPathId,i.searchType=Qt.Equal,e.filters.push(i)),this.optionSelectForSendMessage&&(i=new Q,i.propertyName="RecordStatus",i.value=Ne.Available,i.searchType=Qt.Equal,e.filters.push(i)),this.optionAccessDataType&&this.categoryService.setAccessDataType(this.optionAccessDataType);let t=this.constructor.name+"main";return this.translate.get("MESSAGE.get_information_list").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.optionAccessDataType&&this.categoryService.setAccessDataType(this.optionAccessDataType),yield Zi(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0]),this.onActionSelect(this.dataModelResult.listItems[0])},1e3)),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=new yt,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe($i(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.numberChar===l)){let e=this.dataModelResult.listItems.find(i=>i.numberChar===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof yt){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new yt,this.onActionSelectClear(),this.loadOptions()}};Ti.nextId=0,Ti.\u0275fac=function(e){return new(e||Ti)(C(be),C(N),C(L),C(V),C(B),C(Vt))},Ti.\u0275cmp=D({type:Ti,selectors:[["app-sms-api-number-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionSelectFirstItemOnChangeApi:"optionSelectFirstItemOnChangeApi",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectForSendMessage:"optionSelectForSendMessage",optionAccessDataType:"optionAccessDataType",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionLinkApiPathId:"optionLinkApiPathId"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:oa,decls:15,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();rn(),r(0,"div",1),M(1,"app-progress-spinner",2),v(2,ra,2,3,"label",3),M(3,"input",4),r(4,"mat-autocomplete",5,0),b("optionSelected",function(f){return p(t),u(i.onActionSelect(f.option.value))}),v(6,aa,3,3,"mat-option",6),h(7,"async"),a(),v(8,sa,1,0,"i",7)(9,la,1,0,"i",8)(10,da,1,0,"i",9),r(11,"i",10),h(12,"translate"),b("click",function(){return p(t),u(i.onActionButtonReload())}),a(),v(13,ca,3,3,"em",11),an(14),a()}if(e&2){let t=x(5);o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),c("placeholder",R(i.optionPlaceholder))("id",ii("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Jt("disabled",i.optionDisabled?!0:null),o(),c("displayWith",i.displayFn),o(2),c("ngForOf",_(7,20,i.filteredOptions)),o(2),c("ngIf",!i.formControl.valid),o(),c("ngIf",i.optionRequired&&i.formControl.valid),o(),c("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),X("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),c("title",R(_(12,22,"ACTION.RELOAD"))),o(2),c("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0))}},dependencies:[we,O,z,K,_e,cn,pn,mn,un,J,q,At,F],encapsulation:2});var hn=Ti;var ma=["vform"];function pa(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",28),E("modelChange",function(t){p(e);let s=S();return y(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();A("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ua(n,l){if(n&1){let e=I();r(0,"div",29)(1,"div",30)(2,"h5",31),m(3),a()(),r(4,"div",32)(5,"div",33)(6,"input",34),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.hasInherits,t)||(s.dataModel.hasInherits=t),u(t)}),a(),M(7,"label",35),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle," "),o(3),A("ngModel",e.dataModel.hasInherits)}}function fa(n,l){if(n&1&&(r(0,"option",36),m(1),a()),n&2){let e=l.$implicit;c("ngValue",e.value),o(),g(" ",e.description," ")}}function Sa(n,l){n&1&&(r(0,"mat-error"),m(1," AccessStatus is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function ha(n,l){if(n&1&&(r(0,"option",36),m(1),a()),n&2){let e=l.$implicit;c("ngValue",e.value),o(),g(" ",e.description," ")}}function ga(n,l){n&1&&(r(0,"mat-error"),m(1," Action is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function _a(n,l){if(n&1){let e=I();r(0,"div",20)(1,"label",37),m(2),h(3,"translate"),a(),r(4,"input",38),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),u(t)}),a(),M(5,"mat-datepicker-toggle",23)(6,"mat-datepicker",24,4),a()}if(n&2){let e=x(7),i=S();o(2),w(_(3,4,"TITLE.Expire_Date")),o(2),A("ngModel",i.dataModel.expireDate),c("matDatepicker",e),o(),c("for",e)}}function Ma(n,l){if(n&1){let e=I();r(0,"div",39)(1,"button",40),b("click",function(){p(e);let t=S();return u(t.onFormCancel())}),M(2,"i",41),m(3),h(4,"translate"),a(),r(5,"button",42),M(6,"i",43),m(7),h(8,"translate"),a()()}if(n&2){S();let e=x(9);o(3),g(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var gn=class gn extends mt{constructor(e,i,t,s,f,d,k,H){super(s,new ni,d,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiNumberPermissionService=s;this.cmsToastrService=f;this.publicHelper=d;this.cdr=k;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new ni;this.formInfo=new ie;this.dataModelEnumApiNumberPermissionAccessStatusResult=new G;this.dataModelEnumApiNumberPermissionActionResult=new G;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&e.linkApiNumberId&&(this.dataModel.linkApiNumberId=e.linkApiNumberId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.getEnumApiNumberPermissionAccessStatus(),this.getEnumApiNumberPermissionAction(),this.DataGetAccess()}getEnumApiNumberPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiNumberPermissionAccessStatusEnum().subscribe(e=>{this.dataModelEnumApiNumberPermissionAccessStatusResult=e})}getEnumApiNumberPermissionAction(){this.smsEnumService.ServiceSmsApiNumberPermissionActionEnum().subscribe(e=>{this.dataModelEnumApiNumberPermissionActionResult=e})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberPermissionService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiNumberId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiNumberId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};gn.\u0275fac=function(i){return new(i||gn)(C(re),C(oe),C(De),C(fi),C(N),C(B),C(V),C(L))},gn.\u0275cmp=D({type:gn,selectors:[["app-sms-api-number-permission-add"]],viewQuery:function(i,t){if(i&1&&$(ma,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:49,vars:50,consts:[["vform","ngForm"],["AccessStatus","ngModel"],["Action","ngModel"],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accessStatus","name","dataModel.accessStatus","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"mt-n3"],[4,"ngIf"],["id","dataModel.action","name","dataModel.action","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[1,"pb-5"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.hasInherits",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.hasInherits","name","dataModel.hasInherits",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasInherits",1,"custom-control-label"],[3,"ngValue"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",5),M(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),m(4),a(),r(5,"p"),m(6),h(7,"translate"),a(),r(8,"form",9,0),b("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),v(10,pa,1,5,"app-cms-enum-record-status-selector",10),m(11),r(12,"app-sms-api-number-selector",11),h(13,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorSelectLinkApiNumberId(d))}),a(),r(14,"app-cms-user-selector",12),h(15,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCmsUser(d))}),a(),r(16,"app-cms-site-selector",12),h(17,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCmsSite(d))}),a(),r(18,"app-cms-usergroup-selector",12),h(19,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCoreUserGroup(d))}),a(),r(20,"app-cms-sitecategory-selector",12),h(21,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCoreSiteCategory(d))}),a(),v(22,ua,8,2,"div",13),r(23,"div",14)(24,"select",15,1),E("ngModelChange",function(d){return p(s),y(t.dataModel.accessStatus,d)||(t.dataModel.accessStatus=d),u(d)}),v(26,fa,2,2,"option",16),a(),r(27,"em",17),m(28),h(29,"translate"),a(),v(30,Sa,5,3,"mat-error",18),a(),r(31,"div",14)(32,"select",19,2),E("ngModelChange",function(d){return p(s),y(t.dataModel.action,d)||(t.dataModel.action=d),u(d)}),v(34,ha,2,2,"option",16),a(),r(35,"em",17),m(36),h(37,"translate"),a(),v(38,ga,5,3,"mat-error",18),a(),r(39,"div",20)(40,"label",21),m(41),a(),r(42,"input",22),E("ngModelChange",function(d){return p(s),y(t.dataModel.fromDate,d)||(t.dataModel.fromDate=d),u(d)}),a(),M(43,"mat-datepicker-toggle",23)(44,"mat-datepicker",24,3),a(),v(46,_a,8,6,"div",25),M(47,"hr",26),v(48,Ma,9,7,"div",27),a()()()}if(i&2){let s=x(25),f=x(33),d=x(45);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",_(7,34,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),g(" aaaa ",t.dataModel.linkApiNumberId," bbb "),o(),c("optionSelectForce",t.dataModel.linkApiNumberId)("optionPlaceholder",_(13,36,"TITLE.No")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",_(15,38,"TITLE.USER")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreSiteId!=null&&t.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",_(17,40,"TITLE.SITE")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreUserGroupId!=null&&t.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",_(19,42,"TITLE.Type_Usage")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",_(21,44,"TITLE.Site_Type")),o(2),c("ngIf",t.fieldsInfo.hasInherits==null?null:t.fieldsInfo.hasInherits.accessWatchField),o(2),A("ngModel",t.dataModel.accessStatus),o(2),c("ngForOf",t.dataModelEnumApiNumberPermissionAccessStatusResult.listItems),o(2),g("",_(29,46,"TITLE.Select_type_of_content")," "),o(2),c("ngIf",s.errors==null?null:s.errors.required),o(2),A("ngModel",t.dataModel.action),o(2),c("ngForOf",t.dataModelEnumApiNumberPermissionActionResult.listItems),o(2),g("",_(37,48,"TITLE.Select_type_of_content")," "),o(2),c("ngIf",f.errors==null?null:f.errors.required),o(3),w(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),A("ngModel",t.dataModel.fromDate),c("matDatepicker",d),o(),c("for",d),o(3),c("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(2),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[we,O,de,Mi,Ci,z,ke,_i,K,se,_e,ne,le,Tt,Pt,xt,pe,wt,J,Ot,ue,Ht,Ct,Wt,q,hn,F],encapsulation:2});var Fo=gn;var Ca=["vform"];function va(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",28),E("modelChange",function(t){p(e);let s=S();return y(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();A("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ba(n,l){if(n&1){let e=I();r(0,"div",29)(1,"div",30)(2,"h5",31),m(3),a()(),r(4,"div",32)(5,"div",33)(6,"input",34),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.hasInherits,t)||(s.dataModel.hasInherits=t),u(t)}),a(),M(7,"label",35),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle," "),o(3),A("ngModel",e.dataModel.hasInherits)}}function Ia(n,l){if(n&1&&(r(0,"option",36),m(1),a()),n&2){let e=l.$implicit;c("ngValue",e.value),o(),g(" ",e.description," ")}}function Aa(n,l){n&1&&(r(0,"mat-error"),m(1," AccessStatus is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function ya(n,l){if(n&1&&(r(0,"option",36),m(1),a()),n&2){let e=l.$implicit;c("ngValue",e.value),o(),g(" ",e.description," ")}}function Ea(n,l){n&1&&(r(0,"mat-error"),m(1," Action is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function wa(n,l){if(n&1){let e=I();r(0,"div",20)(1,"label",37),m(2),a(),r(3,"input",38),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),u(t)}),a(),M(4,"mat-datepicker-toggle",23)(5,"mat-datepicker",24,4),a()}if(n&2){let e=x(6),i=S();o(2),w(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),A("ngModel",i.dataModel.expireDate),c("matDatepicker",e),o(),c("for",e)}}function Ta(n,l){if(n&1){let e=I();r(0,"div",39)(1,"button",40),b("click",function(){p(e);let t=S();return u(t.onFormCancel())}),M(2,"i",41),m(3),h(4,"translate"),a(),r(5,"button",42),M(6,"i",43),m(7),h(8,"translate"),a()()}if(n&2){S();let e=x(9);o(3),g(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var Mn=class Mn extends pt{constructor(e,i,t,s,f,d,k,H){super(s,new ni,d,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiNumberPermissionService=s;this.cmsToastrService=f;this.publicHelper=d;this.cdr=k;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new je;this.dataModel=new ni;this.formInfo=new ie;this.dataModelEnumApiNumberPermissionAccessStatusResult=new G;this.dataModelEnumApiNumberPermissionActionResult=new G;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getEnumApiNumberPermissionAccessStatus(),this.getEnumApiNumberPermissionAction()}getEnumApiNumberPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiNumberPermissionAccessStatusEnum().subscribe(e=>{this.dataModelEnumApiNumberPermissionAccessStatusResult=e})}getEnumApiNumberPermissionAction(){this.smsEnumService.ServiceSmsApiNumberPermissionActionEnum().subscribe(e=>{this.dataModelEnumApiNumberPermissionActionResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberPermissionService.setAccessLoad(),this.smsMainApiNumberPermissionService.setAccessDataType(Be.Editor),this.smsMainApiNumberPermissionService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberPermissionService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiNumberId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiNumberId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Mn.\u0275fac=function(i){return new(i||Mn)(C(re),C(oe),C(De),C(fi),C(N),C(B),C(V),C(L))},Mn.\u0275cmp=D({type:Mn,selectors:[["app-sms-api-number-permission-edit"]],viewQuery:function(i,t){if(i&1&&$(Ca,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:48,vars:49,consts:[["vform","ngForm"],["AccessStatus","ngModel"],["Action","ngModel"],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accessStatus","name","dataModel.accessStatus","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"mt-n3"],[4,"ngIf"],["id","dataModel.action","name","dataModel.action","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[1,"pb-5"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.hasInherits",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.hasInherits","name","dataModel.hasInherits",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasInherits",1,"custom-control-label"],[3,"ngValue"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",5),M(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),m(4),a(),r(5,"p"),m(6),h(7,"translate"),a(),r(8,"form",9,0),b("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),v(10,va,1,5,"app-cms-enum-record-status-selector",10),r(11,"app-sms-api-number-selector",11),h(12,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorSelectLinkApiNumberId(d))}),a(),r(13,"app-cms-user-selector",12),h(14,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCmsUser(d))}),a(),r(15,"app-cms-site-selector",12),h(16,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCmsSite(d))}),a(),r(17,"app-cms-usergroup-selector",12),h(18,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCoreUserGroup(d))}),a(),r(19,"app-cms-sitecategory-selector",12),h(20,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCoreSiteCategory(d))}),a(),v(21,ba,8,2,"div",13),r(22,"div",14)(23,"select",15,1),E("ngModelChange",function(d){return p(s),y(t.dataModel.accessStatus,d)||(t.dataModel.accessStatus=d),u(d)}),v(25,Ia,2,2,"option",16),a(),r(26,"em",17),m(27),h(28,"translate"),a(),v(29,Aa,5,3,"mat-error",18),a(),r(30,"div",14)(31,"select",19,2),E("ngModelChange",function(d){return p(s),y(t.dataModel.action,d)||(t.dataModel.action=d),u(d)}),v(33,ya,2,2,"option",16),a(),r(34,"em",17),m(35),h(36,"translate"),a(),v(37,Ea,5,3,"mat-error",18),a(),r(38,"div",20)(39,"label",21),m(40),a(),r(41,"input",22),E("ngModelChange",function(d){return p(s),y(t.dataModel.fromDate,d)||(t.dataModel.fromDate=d),u(d)}),a(),M(42,"mat-datepicker-toggle",23)(43,"mat-datepicker",24,3),a(),v(45,wa,7,4,"div",25),M(46,"hr",26),v(47,Ta,9,7,"div",27),a()()()}if(i&2){let s=x(24),f=x(32),d=x(44);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",_(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionSelectForce",t.dataModel.linkApiNumberId)("optionPlaceholder",_(12,35,"TITLE.No")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",_(14,37,"TITLE.USER")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreSiteId!=null&&t.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",_(16,39,"TITLE.SITE")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreUserGroupId!=null&&t.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",_(18,41,"TITLE.Type_Usage")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",_(20,43,"TITLE.Site_Type")),o(2),c("ngIf",t.fieldsInfo.hasInherits==null?null:t.fieldsInfo.hasInherits.accessWatchField),o(2),A("ngModel",t.dataModel.accessStatus),o(2),c("ngForOf",t.dataModelEnumApiNumberPermissionAccessStatusResult.listItems),o(2),g("",_(28,45,"TITLE.Select_type_of_content")," "),o(2),c("ngIf",s.errors==null?null:s.errors.required),o(2),A("ngModel",t.dataModel.action),o(2),c("ngForOf",t.dataModelEnumApiNumberPermissionActionResult.listItems),o(2),g("",_(36,47,"TITLE.Select_type_of_content")," "),o(2),c("ngIf",f.errors==null?null:f.errors.required),o(3),w(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),A("ngModel",t.dataModel.fromDate),c("matDatepicker",d),o(),c("for",d),o(3),c("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(2),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[we,O,de,Mi,Ci,z,ke,_i,K,se,_e,ne,le,Tt,Pt,xt,pe,wt,J,Ot,ue,Ht,Ct,Wt,q,hn,F],encapsulation:2});var Go=Mn;var Cn=class Cn{constructor(l,e,i,t,s,f,d,k){this.headerService=l;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.dialog=s;this.translate=f;this.cmsStoreService=d;this.tokenHelper=k;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new G;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>ve(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};Cn.\u0275fac=function(e){return new(e||Cn)(C(Vt),C(B),C(V),C(N),C(Te),C(L),C(Pe),C(xe))},Cn.\u0275cmp=D({type:Cn,selectors:[["app-api-number-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:32,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"td","large-width","cell-ltr"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(r(0,"div",0),M(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),M(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),m(10),h(11,"translate"),a()()(),M(12,"div",8),a(),r(13,"div",4)(14,"div",5)(15,"b"),m(16),a(),m(17,": "),a(),r(18,"div",9),m(19),a(),M(20,"div",10)(21,"div",11),a(),r(22,"div",4)(23,"div",5)(24,"b"),m(25),a(),m(26,": "),a(),r(27,"div",12),m(28),a(),M(29,"div",8)(30,"div",11),a()()()(),M(31,"div",13)),e&2&&(o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(5),c("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),g(" ",_(11,7,"TITLE.Selected_Api_Number")," "),o(6),g("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),w(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),g("",i.fieldsInfo.numberChar==null?null:i.fieldsInfo.numberChar.fieldTitle," "),o(3),g(" ",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.numberChar," "))},dependencies:[q,ko,F],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Oo=Cn;var Da=()=>["expandedDetail"],ka=()=>[5,10,20,100],La=n=>({display:n});function Va(n,l){if(n&1&&M(0,"app-api-number-header",46),n&2){let e=S();c("optionId",e.requestLinkApiNumberId)}}function Na(n,l){if(n&1){let e=I();r(0,"a",47),b("click",function(){p(e);let t=S();return u(t.onActionBackToParent())}),M(1,"i",48),a()}}function Ba(n,l){if(n&1){let e=I();r(0,"div",49)(1,"a",50),b("click",function(){p(e);let t=S();return u(t.onActionButtonNewRow())}),M(2,"i",51)(3,"br"),a(),r(4,"p",52),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.ADD")," "))}function Fa(n,l){if(n&1){let e=I();r(0,"div",49)(1,"a",53),b("click",function(){p(e);let t=S();return u(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",54)(3,"br"),a(),r(4,"p",52),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.EDIT")," "))}function Ga(n,l){if(n&1){let e=I();r(0,"div",49)(1,"a",55),b("click",function(){p(e);let t=S();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",56)(3,"br"),a(),r(4,"p",52),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.DELETE")," "))}function Oa(n,l){if(n&1&&(r(0,"mat-header-cell",57),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ha(n,l){if(n&1&&(r(0,"mat-cell"),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.id," ")}}function Wa(n,l){if(n&1&&(r(0,"mat-header-cell",57),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ua(n,l){if(n&1&&(r(0,"mat-cell",58),h(1,"statusCellClass"),M(2,"i",58),h(3,"statusIconClass"),a()),n&2){let e=l.$implicit;c("ngClass",_(1,2,e.recordStatus)),o(2),c("ngClass",_(3,4,e.recordStatus))}}function qa(n,l){if(n&1&&(r(0,"mat-header-cell",57),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.linkApiNumberId==null?null:e.fieldsInfo.linkApiNumberId.fieldTitle," ")}}function ja(n,l){if(n&1&&(r(0,"mat-cell"),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.linkApiNumberId," ")}}function Qa(n,l){if(n&1&&(r(0,"mat-header-cell",57),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function za(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",_(2,1,e.createdDate)," ")}}function Ka(n,l){if(n&1&&(r(0,"mat-header-cell",57),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle," ")}}function Ja(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",_(2,1,e.fromDate)," ")}}function Xa(n,l){if(n&1&&(r(0,"mat-header-cell",57),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Ya(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",_(2,1,e.expireDate)," ")}}function Za(n,l){if(n&1&&(r(0,"mat-header-cell",57),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function $a(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",_(2,1,e.updatedDate)," ")}}function es(n,l){if(n&1&&(r(0,"mat-header-cell",59),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.hasAccess==null?null:e.fieldsInfo.hasAccess.fieldTitle," ")}}function ts(n,l){if(n&1&&(r(0,"mat-cell"),M(1,"i",58),h(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),c("ngClass",_(2,1,e.hasAccess))}}function is(n,l){if(n&1&&(r(0,"mat-header-cell",59),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle," ")}}function ns(n,l){if(n&1&&(r(0,"mat-cell"),M(1,"i",58),h(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),c("ngClass",_(2,1,e.hasInherits))}}function os(n,l){n&1&&(r(0,"mat-header-cell"),m(1),h(2,"translate"),a()),n&2&&(o(),g(" ",_(2,1,"TITLE.OPTION")," "))}function rs(n,l){if(n&1&&(r(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),m(3,"more_vert"),a()(),M(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),c("matMenuTriggerFor",e)}}function as(n,l){if(n&1&&(r(0,"tr"),M(1,"td"),r(2,"td"),m(3),h(4,"cmsuserinfo"),h(5,"async"),a()()),n&2){let e=S().$implicit,i=S();o(3),Ce(" ",i.fieldsInfo.linkCoreUserId==null?null:i.fieldsInfo.linkCoreUserId.fieldTitle," : ",_(5,4,_(4,2,e.linkCoreUserId))," ")}}function ss(n,l){if(n&1&&(r(0,"tr"),M(1,"td"),r(2,"td"),m(3),h(4,"cmssiteinfo"),h(5,"async"),a()()),n&2){let e=S().$implicit,i=S();o(3),Ce(" ",i.fieldsInfo.linkCoreSiteId==null?null:i.fieldsInfo.linkCoreSiteId.fieldTitle," : ",_(5,4,_(4,2,e.linkCoreSiteId))," ")}}function ls(n,l){if(n&1&&(r(0,"tr"),M(1,"td"),r(2,"td"),m(3),a()()),n&2){let e=S().$implicit,i=S();o(3),Ce(" ",i.fieldsInfo.linkCoreUserGroupId==null?null:i.fieldsInfo.linkCoreUserGroupId.fieldTitle," : ",e.linkCoreUserGroupId," ")}}function ds(n,l){if(n&1&&(r(0,"tr"),M(1,"td"),r(2,"td"),m(3),a()()),n&2){let e=S().$implicit,i=S();o(3),Ce(" ",i.fieldsInfo.linkCoreSiteCategoryId==null?null:i.fieldsInfo.linkCoreSiteCategoryId.fieldTitle," : ",e.linkCoreSiteCategoryId," ")}}function cs(n,l){if(n&1&&(r(0,"tr"),M(1,"td"),r(2,"td"),m(3),h(4,"localeDate"),a()()),n&2){let e=S().$implicit,i=S();o(3),Ce(" ",i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle," : ",_(4,2,e.fromDate)," ")}}function ms(n,l){if(n&1&&(r(0,"tr"),M(1,"td"),r(2,"td"),m(3),h(4,"localeDate"),a()()),n&2){let e=S().$implicit,i=S();o(3),Ce(" ",i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle," : ",_(4,2,e.expireDate)," ")}}function ps(n,l){if(n&1&&(r(0,"tr"),M(1,"td"),r(2,"td"),m(3),h(4,"localeDate"),a()()),n&2){let e=S().$implicit,i=S();o(3),Ce(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle," : ",_(4,2,e.createdDate)," ")}}function us(n,l){if(n&1&&(r(0,"tr"),M(1,"td"),r(2,"td"),m(3),h(4,"localeDate"),a()()),n&2){let e=S().$implicit,i=S();o(3),Ce(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",_(4,2,e.updatedDate)," ")}}function fs(n,l){if(n&1&&(r(0,"mat-cell")(1,"div")(2,"table"),v(3,as,6,6,"tr",62)(4,ss,6,6,"tr",62)(5,ls,4,2,"tr",62)(6,ds,4,2,"tr",62)(7,cs,5,4,"tr",62)(8,ms,5,4,"tr",62)(9,ps,5,4,"tr",62)(10,us,5,4,"tr",62),r(11,"tr"),M(12,"td")(13,"td"),a()()()()),n&2){let e=l.$implicit;o(3),c("ngIf",e.linkCoreUserId),o(),c("ngIf",e.linkCoreSiteId),o(),c("ngIf",e.linkCoreUserGroupId),o(),c("ngIf",e.linkCoreSiteCategoryId),o(),c("ngIf",e.fromDate),o(),c("ngIf",e.expireDate),o(),c("ngIf",e.createdDate),o(),c("ngIf",e.updatedDate)}}function Ss(n,l){n&1&&M(0,"mat-header-row")}function hs(n,l){if(n&1){let e=I();r(0,"mat-row",63),b("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function gs(n,l){if(n&1){let e=I();r(0,"mat-row",64),b("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=p(e).$implicit,s=S();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,s=S();return u(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),c("ngStyle",ci(3,La,e.expanded===!0?"":"none"))}}var vn=class vn extends ut{constructor(e,i,t,s,f,d,k,H,kt,Kt,It,ti){super(e,new ni,It,d,kt);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=s;this.router=f;this.tokenHelper=d;this.cmsStoreService=k;this.cdr=H;this.translate=kt;this.pageInfo=Kt;this.publicHelper=It;this.dialog=ti;this.requestLinkApiNumberId="";this.requestLinkCoreUserId=0;this.requestLinkCoreSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","linkApiNumberId","hasAccess","hasInherits","fromDate","expireDate"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","linkApiNumberId","hasAccess","hasInherits","fromDate","expireDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ae=>this.onSubmitOptionsSearch(ae)},this.requestLinkCoreUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkCoreSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkApiNumberId=this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId"),this.requestLinkCoreUserId>0){let ae=new Q;ae.propertyName="LinkCoreUserId",ae.value=this.requestLinkCoreUserId,this.filteModelContent.filters.push(ae)}if(this.requestLinkApiNumberId?.length>0){let ae=new Q;ae.propertyName="LinkApiPathId",ae.value=this.requestLinkApiNumberId,this.filteModelContent.filters.push(ae)}this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=j.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ve(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ni);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fo,{height:"90%",panelClass:e,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{linkApiNumberId:this.requestLinkApiNumberId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Go,{height:"90%",panelClass:i,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(f,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(t,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Q;f.propertyName="RecordStatus",f.value=Ne.Available,s.filters.push(f),this.contentService.ServiceGetCount(s).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};vn.\u0275fac=function(i){return new(i||vn)(C(fi),C(N),C(Et),C(He),C(Qe),C(xe),C(Pe),C(V),C(L),C(dt),C(B),C(Te))},vn.\u0275cmp=D({type:vn,selectors:[["app-sms-api-number-permission-list"]],standalone:!1,features:[W],decls:69,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"checked"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkApiNumberId"],["matColumnDef","CreatedDate"],["matColumnDef","fromDate"],["matColumnDef","expireDate"],["matColumnDef","UpdatedDate"],["matColumnDef","hasAccess"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","hasInherits"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["mat-sort-header","",1,"form-label"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[4,"ngIf"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=I();v(0,Va,1,1,"app-api-number-header",3),r(1,"app-cms-html-list",4),E("optionActionGuideNoticeDisplayChange",function(d){return p(s),y(t.viewGuideNotice,d)||(t.viewGuideNotice=d),u(d)}),b("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),Le(2,5)(3,6)(4,7),T(5,8),v(6,Na,2,0,"a",9),r(7,"a",10),b("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),M(8,"i",11),a(),r(9,"a",10),b("click",function(){return p(s),u(t.onActionButtonReload())}),M(10,"i",12),a(),P(),T(11,13),r(12,"a",14),M(13,"mat-slide-toggle",15),m(14),h(15,"translate"),a(),r(16,"a",16),b("click",function(){return p(s),u(t.onActionButtonStatist())}),M(17,"mat-slide-toggle",15),m(18),h(19,"translate"),a(),P(),T(20,17),v(21,Ba,7,3,"div",18),P(),T(22,19),v(23,Fa,7,3,"div",18)(24,Ga,7,3,"div",18),P(),T(25,20),r(26,"app-cms-search-list",21),E("optionsChange",function(d){return p(s),y(t.optionsSearch,d)||(t.optionsSearch=d),u(d)}),a(),r(27,"app-cms-statist-list",21),E("optionsChange",function(d){return p(s),y(t.optionsStatist,d)||(t.optionsStatist=d),u(d)}),a(),P(),T(28,22),r(29,"mat-table",23,0),b("matSortChange",function(){p(s);let d=x(30);return u(t.onTableSortData(d))}),T(31,24),v(32,Oa,2,1,"mat-header-cell",25)(33,Ha,2,1,"mat-cell",26),P(),T(34,27),v(35,Wa,2,1,"mat-header-cell",25)(36,Ua,4,6,"mat-cell",28),P(),T(37,29),v(38,qa,2,1,"mat-header-cell",25)(39,ja,2,1,"mat-cell",26),P(),T(40,30),v(41,Qa,2,1,"mat-header-cell",25)(42,za,3,3,"mat-cell",26),P(),T(43,31),v(44,Ka,2,1,"mat-header-cell",25)(45,Ja,3,3,"mat-cell",26),P(),T(46,32),v(47,Xa,2,1,"mat-header-cell",25)(48,Ya,3,3,"mat-cell",26),P(),T(49,33),v(50,Za,2,1,"mat-header-cell",25)(51,$a,3,3,"mat-cell",26),P(),T(52,34),v(53,es,2,1,"mat-header-cell",35)(54,ts,3,3,"mat-cell",26),P(),T(55,36),v(56,is,2,1,"mat-header-cell",35)(57,ns,3,3,"mat-cell",26),P(),T(58,37),v(59,os,3,3,"mat-header-cell",38)(60,rs,6,1,"mat-cell",39),P(),T(61,40),v(62,fs,14,8,"mat-cell",26),P(),v(63,Ss,1,0,"mat-header-row",41)(64,hs,1,2,"mat-row",42)(65,gs,1,5,"mat-row",43),a(),P(),T(66,44),r(67,"mat-paginator",45,1),b("page",function(d){return p(s),u(t.onTablePageingData(d))}),a(),P(),a()}i&2&&(c("ngIf",(t.requestLinkApiNumberId==null?null:t.requestLinkApiNumberId.length)>0),o(),c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(5),c("ngIf",(t.requestLinkApiNumberId==null?null:t.requestLinkApiNumberId.length)>0),o(4),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),g("",_(15,28,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),g("",_(19,30,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),A("options",t.optionsSearch),o(),A("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(34),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(),c("matRowDefColumns",Ve(32,Da)),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ve(33,ka)))},dependencies:[qe,O,mi,Fe,Ee,ze,Ke,Je,Xe,Ye,Ze,$e,tt,rt,it,et,at,nt,ot,st,lt,ft,St,ht,gt,Oo,At,F,fn,wi,Rt,_t,vt,Lo],encapsulation:2});var zi=vn;var _s=["vform"];function Ms(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",10),E("modelChange",function(t){p(e);let s=S();return y(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();A("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Cs(n,l){if(n&1){let e=I();r(0,"div",11)(1,"label",12),m(2),a(),r(3,"input",13,1),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.numberChar,t)||(s.dataModel.numberChar=t),u(t)}),a(),r(5,"em"),m(6),a()()}if(n&2){let e=x(4),i=S();o(2),w(i.fieldsInfo.numberChar==null?null:i.fieldsInfo.numberChar.fieldTitle),o(),c("disabled",R(!(i.fieldsInfo.numberChar!=null&&i.fieldsInfo.numberChar.accessAddField))),A("ngModel",i.dataModel.numberChar),o(3),g("",e.value.length," / 100")}}function vs(n,l){if(n&1){let e=I();r(0,"div",14)(1,"button",15),b("click",function(){p(e);let t=S();return u(t.onFormCancel())}),M(2,"i",16),m(3),h(4,"translate"),a(),r(5,"button",17),M(6,"i",18),m(7),h(8,"translate"),a()()}if(n&2){S();let e=x(9);o(3),g(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var In=class In extends mt{constructor(e,i,t,s,f,d,k,H){super(s,new yt,d,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiNumberService=s;this.cmsToastrService=f;this.publicHelper=d;this.cdr=k;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new yt;this.formInfo=new ie;this.dataModelEnumApiNumberAccessStatusResult=new G;this.dataModelEnumApiNumberActionResult=new G;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0,model:i.item})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};In.\u0275fac=function(i){return new(i||In)(C(re),C(oe),C(De),C(Vt),C(N),C(B),C(V),C(L))},In.\u0275cmp=D({type:In,selectors:[["app-sms-api-number-add"]],viewQuery:function(i,t){if(i&1&&$(_s,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:13,vars:8,consts:[["vform","ngForm"],["NumberChar",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.numberChar",1,"color-highlight"],["matInput","","type","text","name","dataModel.numberChar","placeholder","123","id","dataModel.numberChar",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",2),M(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),m(4),a(),r(5,"p"),m(6),h(7,"translate"),a(),r(8,"form",6,0),b("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),v(10,Ms,1,5,"app-cms-enum-record-status-selector",7)(11,Cs,7,5,"div",8)(12,vs,9,7,"div",9),a()()()}i&2&&(o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",_(7,6,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.numberChar==null?null:t.fieldsInfo.numberChar.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[O,de,z,K,se,ne,le,J,ue,q,F],encapsulation:2});var Ho=In;function Is(n,l){if(n&1){let e=I();r(0,"li")(1,"mat-checkbox",1),b("change",function(){let t=p(e).$implicit,s=S();return u(s.onActionSelect(t))}),m(2),a()()}if(n&2){let e=l.$implicit,i=S();o(),c("checked",i.fieldsStatus.get(e.id))("disabled",i.optionDisabled),o(),g(" ",e.title," ")}}var An=class An{constructor(l,e,i,t,s,f){this.coreEnumService=l;this.categoryService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.cmsToastrService=f;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new Yt;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new Ue;this.optionSelectAdded=new Ue;this.optionSelectRemoved=new Ue;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.DataGetAll()}DataGetAll(){let l=new Y;l.rowPerPage=50,l.accessLoad=!0;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(l).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataModelResult.listItems.forEach(t=>this.fieldsStatus.set(t.id,!1)),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0)),this.dataModelResult.listItems.forEach(t=>{this.fieldsStatus.get(t.id)&&this.dataModelSelect.push(t)})):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelect(l){this.fieldsStatus.get(l.id)?(this.fieldsStatus.set(l.id,!1),this.optionSelectRemoved.emit(l),this.dataModelSelect.splice(this.dataModelSelect.indexOf(l),1)):(this.fieldsStatus.set(l.id,!0),this.optionSelectAdded.emit(l),this.dataModelSelect.push(l)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(l){typeof l==typeof Array(String)?l.forEach(e=>{this.dataIdsSelect.push(e)}):typeof l==typeof Array(zt)&&l.forEach(e=>{this.dataIdsSelect.push(e.id)}),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){this.DataGetAll()}};An.\u0275fac=function(e){return new(e||An)(C(be),C(Nt),C(V),C(B),C(L),C(N))},An.\u0275cmp=D({type:An,selectors:[["app-sms-apipath-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(e,i){e&1&&(r(0,"ul"),v(1,Is,3,3,"li",0),a()),e&2&&(o(),c("ngForOf",i.dataModelResult.listItems))},dependencies:[we,Eo],encapsulation:2});var Wo=An;var ys=["vform"];function Es(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",38),E("modelChange",function(t){p(e);let s=S();return y(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();A("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ws(n,l){if(n&1){let e=I();r(0,"div",26)(1,"label",39),m(2),a(),r(3,"input",40,6),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.numberChar,t)||(s.dataModel.numberChar=t),u(t)}),a(),r(5,"em"),m(6),a()()}if(n&2){let e=x(4),i=S();o(2),w(i.fieldsInfo.numberChar==null?null:i.fieldsInfo.numberChar.fieldTitle),o(),c("disabled",R(!(i.fieldsInfo.numberChar!=null&&i.fieldsInfo.numberChar.accessEditField))),A("ngModel",i.dataModel.numberChar),o(3),g("",e.value.length," / 100")}}function Ts(n,l){if(n&1){let e=I();r(0,"div",41)(1,"div",42)(2,"h5",43),m(3),a()(),r(4,"div",44)(5,"div",45)(6,"input",46),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.isPublic,t)||(s.dataModel.isPublic=t),u(t)}),a(),M(7,"label",47),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.isPublic==null?null:e.fieldsInfo.isPublic.fieldTitle," "),o(3),A("ngModel",e.dataModel.isPublic)}}function Ps(n,l){if(n&1){let e=I();r(0,"div",41)(1,"div",42)(2,"h5",48),m(3),a()(),r(4,"div",44)(5,"div",45)(6,"input",49),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.saleStatus,t)||(s.dataModel.saleStatus=t),u(t)}),a(),M(7,"label",50),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.saleStatus==null?null:e.fieldsInfo.saleStatus.fieldTitle," "),o(3),A("ngModel",e.dataModel.saleStatus)}}function xs(n,l){if(n&1){let e=I();r(0,"div",26)(1,"label",51),m(2),a(),r(3,"input",52,7),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.priority,t)||(s.dataModel.priority=t),u(t)}),a(),r(5,"em"),m(6),a()()}if(n&2){let e=x(4),i=S();o(2),w(i.fieldsInfo.priority==null?null:i.fieldsInfo.priority.fieldTitle),o(),c("disabled",R(!(i.fieldsInfo.priority!=null&&i.fieldsInfo.priority.accessEditField))),A("ngModel",i.dataModel.priority),o(3),g("",e.value.length," / 100")}}function Rs(n,l){if(n&1){let e=I();r(0,"div",41)(1,"div",42)(2,"h5",53),m(3),a()(),r(4,"div",44)(5,"div",45)(6,"input",54),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.deliveryRelayStatus,t)||(s.dataModel.deliveryRelayStatus=t),u(t)}),a(),M(7,"label",55),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.deliveryRelayStatus==null?null:e.fieldsInfo.deliveryRelayStatus.fieldTitle," "),o(3),A("ngModel",e.dataModel.deliveryRelayStatus)}}function Ds(n,l){if(n&1){let e=I();r(0,"div",26)(1,"label",56),m(2),a(),r(3,"input",57,8),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.deliveryRelayUrl,t)||(s.dataModel.deliveryRelayUrl=t),u(t)}),a()()}if(n&2){let e=S();o(2),w(e.fieldsInfo.deliveryRelayUrl==null?null:e.fieldsInfo.deliveryRelayUrl.fieldTitle),o(),A("ngModel",e.dataModel.deliveryRelayUrl),c("readonly",!e.dataModel.deliveryRelayStatus)("disabled",!(e.fieldsInfo.deliveryRelayUrl!=null&&e.fieldsInfo.deliveryRelayUrl.accessEditField))}}function ks(n,l){if(n&1){let e=I();r(0,"div",41)(1,"div",42)(2,"h5",58),m(3),a()(),r(4,"div",44)(5,"div",45)(6,"input",59),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.smsRelayStatus,t)||(s.dataModel.smsRelayStatus=t),u(t)}),a(),M(7,"label",60),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.smsRelayStatus==null?null:e.fieldsInfo.smsRelayStatus.fieldTitle," "),o(3),A("ngModel",e.dataModel.smsRelayStatus)}}function Ls(n,l){if(n&1){let e=I();r(0,"div",26)(1,"label",61),m(2),a(),r(3,"input",62,9),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.smsRelayUrl,t)||(s.dataModel.smsRelayUrl=t),u(t)}),a()()}if(n&2){let e=S();o(2),w(e.fieldsInfo.smsRelayUrl==null?null:e.fieldsInfo.smsRelayUrl.fieldTitle),o(),A("ngModel",e.dataModel.smsRelayUrl),c("readonly",!e.dataModel.smsRelayStatus)("disabled",!(e.fieldsInfo.smsRelayUrl!=null&&e.fieldsInfo.smsRelayUrl.accessEditField))}}function Vs(n,l){if(n&1){let e=I();r(0,"div",20)(1,"label",63),m(2),a(),r(3,"input",64),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),u(t)}),a(),M(4,"mat-datepicker-toggle",23)(5,"mat-datepicker",24,10),a()}if(n&2){let e=x(6),i=S();o(2),w(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),A("ngModel",i.dataModel.expireDate),c("matDatepicker",e),o(),c("for",e)}}function Ns(n,l){n&1&&(r(0,"mat-error"),m(1," apiSendMessageAddTextFirst is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function Bs(n,l){n&1&&(r(0,"mat-error"),m(1," apiSendMessageAddTextEnd is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function Fs(n,l){n&1&&(r(0,"mat-error"),m(1," sendMessageAddTextFirst is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function Gs(n,l){n&1&&(r(0,"mat-error"),m(1," sendMessageAddTextEnd is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function Os(n,l){if(n&1){let e=I();r(0,"div",26)(1,"label",65),m(2),a(),r(3,"input",66,11),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.actionMemo,t)||(s.dataModel.actionMemo=t),u(t)}),a()()}if(n&2){let e=S();o(2),w(e.fieldsInfo.actionMemo==null?null:e.fieldsInfo.actionMemo.fieldTitle),o(),A("ngModel",e.dataModel.actionMemo),c("disabled",!(e.fieldsInfo.actionMemo!=null&&e.fieldsInfo.actionMemo.accessEditField))}}function Hs(n,l){if(n&1){let e=I();r(0,"div",67)(1,"button",68),b("click",function(){p(e);let t=S();return u(t.onFormCancel())}),M(2,"i",69),m(3),h(4,"translate"),a(),r(5,"button",70),M(6,"i",71),m(7),h(8,"translate"),a()()}if(n&2){S();let e=x(9);o(3),g(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var yn=class yn extends pt{constructor(e,i,t,s,f,d,k,H,kt){super(s,new yt,k,kt);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiNumberService=s;this.smsMainApiPathAndApiNumberService=f;this.cmsToastrService=d;this.publicHelper=k;this.cdr=H;this.translate=kt;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new je;this.dataModel=new yt;this.formInfo=new ie;this.dataModelEnumApiNumberAccessStatusResult=new G;this.dataModelEnumApiNumberActionResult=new G;this.fileManagerOpenForm=!1;this.dataCoreCpMainMenuIds=[];this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberService.setAccessLoad(),this.smsMainApiNumberService.setAccessDataType(Be.Editor),this.smsMainApiNumberService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.DataGetAllMenuCoreUserGroup(),this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllMenuCoreUserGroup(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Getting_access_category_from_the_server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new Y,t=new Q;t.propertyName="LinkApiNumberId",t.value=this.requestId,i.filters.push(t),this.smsMainApiPathAndApiNumberService.ServiceGetAll(i).subscribe({next:s=>{this.dataCoreCpMainMenuCmsUserGroupModel=s.listItems;let f=[];this.dataCoreCpMainMenuCmsUserGroupModel.forEach(d=>{f.push(d.linkApiPathId)}),this.dataCoreCpMainMenuIds=f,s.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(d=>{this.formInfo.submitResultMessage=d}),this.formInfo.submitResultMessage=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorUserCategorySelect(e){this.dataCoreCpMainMenuModel=e}onActionSelectorUserCategorySelectAdded(e){let i=new ur;i.linkApiPathId=e.id,i.linkApiNumberId=this.dataModel.id,this.smsMainApiPathAndApiNumberService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorUserCategorySelectRemoved(e){let i=new ur;i.linkApiPathId=e.id,i.linkApiNumberId=this.dataModel.id,this.smsMainApiPathAndApiNumberService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}};yn.\u0275fac=function(i){return new(i||yn)(C(re),C(oe),C(De),C(Vt),C(Mo),C(N),C(B),C(V),C(L))},yn.\u0275cmp=D({type:yn,selectors:[["app-sms-api-number-edit"]],viewQuery:function(i,t){if(i&1&&$(ys,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:62,vars:47,consts:[["vform","ngForm"],["accessUseStartDate",""],["apiSendMessageAddTextFirst",""],["apiSendMessageAddTextEnd",""],["sendMessageAddTextFirst",""],["sendMessageAddTextEnd",""],["NumberChar",""],["Priority",""],["DeliveryRelayUrl",""],["SmsRelayUrl",""],["ExpireDate",""],["ActionMemo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.accessUseStartDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.accessUseStartDate","id","dataModel.accessUseStartDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.apiSendMessageAddTextFirst",1,"color-highlight"],["matInput","","name","dataModel.apiSendMessageAddTextFirst","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.apiSendMessageAddTextFirst",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.apiSendMessageAddTextEnd",1,"color-highlight"],["matInput","","name","dataModel.apiSendMessageAddTextEnd","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.apiSendMessageAddTextEnd",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.sendMessageAddTextFirst",1,"color-highlight"],["matInput","","name","dataModel.sendMessageAddTextFirst","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.sendMessageAddTextFirst",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.sendMessageAddTextEnd",1,"color-highlight"],["matInput","","name","dataModel.sendMessageAddTextEnd","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.sendMessageAddTextEnd",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.numberChar",1,"color-highlight"],["matInput","","type","text","name","dataModel.numberChar","placeholder","123","id","dataModel.numberChar",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isPublic",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isPublic","name","dataModel.isPublic",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublic",1,"custom-control-label"],["data-trigger-switch","dataModel.saleStatus",1,"font-600","font-14"],["type","checkbox","id","dataModel.saleStatus","name","dataModel.saleStatus",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.saleStatus",1,"custom-control-label"],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","placeholder","1","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","dataModel.deliveryRelayStatus",1,"font-600","font-14"],["type","checkbox","id","dataModel.deliveryRelayStatus","name","dataModel.deliveryRelayStatus",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.deliveryRelayStatus",1,"custom-control-label"],["for","dataModel.deliveryRelayUrl",1,"color-highlight"],["matInput","","type","text","name","dataModel.deliveryRelayUrl","placeholder","1","id","dataModel.deliveryRelayUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel","readonly","disabled"],["data-trigger-switch","dataModel.smsRelayStatus",1,"font-600","font-14"],["type","checkbox","id","dataModel.smsRelayStatus","name","dataModel.smsRelayStatus",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.smsRelayStatus",1,"custom-control-label"],["for","dataModel.smsRelayUrl",1,"color-highlight"],["matInput","","type","text","name","dataModel.smsRelayUrl","placeholder","1","id","dataModel.smsRelayUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel","readonly","disabled"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["for","dataModel.actionMemo",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionMemo","placeholder","1","id","dataModel.actionMemo",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",12),M(1,"app-progress-spinner",13),r(2,"div",14)(3,"p",15),m(4),a(),r(5,"p"),m(6),h(7,"translate"),a(),r(8,"form",16,0),b("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),v(10,Es,1,5,"app-cms-enum-record-status-selector",17)(11,ws,7,5,"div",18)(12,Ts,8,2,"div",19)(13,Ps,8,2,"div",19)(14,xs,7,5,"div",18)(15,Rs,8,2,"div",19)(16,Ds,5,4,"div",18)(17,ks,8,2,"div",19)(18,Ls,5,4,"div",18),r(19,"div",20)(20,"label",21),m(21),a(),r(22,"input",22),E("ngModelChange",function(d){return p(s),y(t.dataModel.accessUseStartDate,d)||(t.dataModel.accessUseStartDate=d),u(d)}),a(),M(23,"mat-datepicker-toggle",23)(24,"mat-datepicker",24,1),a(),v(26,Vs,7,4,"div",25),r(27,"div",26)(28,"label",27),m(29),a(),r(30,"textarea",28,2),E("ngModelChange",function(d){return p(s),y(t.dataModel.apiSendMessageAddTextFirst,d)||(t.dataModel.apiSendMessageAddTextFirst=d),u(d)}),a(),r(32,"em"),m(33),a(),v(34,Ns,5,3,"mat-error",29),a(),r(35,"div",26)(36,"label",30),m(37),a(),r(38,"textarea",31,3),E("ngModelChange",function(d){return p(s),y(t.dataModel.apiSendMessageAddTextEnd,d)||(t.dataModel.apiSendMessageAddTextEnd=d),u(d)}),a(),r(40,"em"),m(41),a(),v(42,Bs,5,3,"mat-error",29),a(),r(43,"div",26)(44,"label",32),m(45),a(),r(46,"textarea",33,4),E("ngModelChange",function(d){return p(s),y(t.dataModel.sendMessageAddTextFirst,d)||(t.dataModel.sendMessageAddTextFirst=d),u(d)}),a(),r(48,"em"),m(49),a(),v(50,Fs,5,3,"mat-error",29),a(),r(51,"div",26)(52,"label",34),m(53),a(),r(54,"textarea",35,5),E("ngModelChange",function(d){return p(s),y(t.dataModel.sendMessageAddTextEnd,d)||(t.dataModel.sendMessageAddTextEnd=d),u(d)}),a(),r(56,"em"),m(57),a(),v(58,Gs,5,3,"mat-error",29),a(),v(59,Os,5,3,"div",18),r(60,"app-sms-apipath-selectionlist",36),b("optionChange",function(d){return p(s),u(t.onActionSelectorUserCategorySelect(d))})("optionSelectAdded",function(d){return p(s),u(t.onActionSelectorUserCategorySelectAdded(d))})("optionSelectRemoved",function(d){return p(s),u(t.onActionSelectorUserCategorySelectRemoved(d))}),a(),v(61,Hs,9,7,"div",37),a()()()}if(i&2){let s=x(25),f=x(31),d=x(39),k=x(47),H=x(55);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",_(7,45,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.numberChar==null?null:t.fieldsInfo.numberChar.accessWatchField),o(),c("ngIf",t.fieldsInfo.isPublic==null?null:t.fieldsInfo.isPublic.accessWatchField),o(),c("ngIf",t.fieldsInfo.saleStatus==null?null:t.fieldsInfo.saleStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.priority==null?null:t.fieldsInfo.priority.accessWatchField),o(),c("ngIf",t.fieldsInfo.deliveryRelayStatus==null?null:t.fieldsInfo.deliveryRelayStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.deliveryRelayUrl==null?null:t.fieldsInfo.deliveryRelayUrl.accessWatchField),o(),c("ngIf",t.fieldsInfo.smsRelayStatus==null?null:t.fieldsInfo.smsRelayStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.smsRelayUrl==null?null:t.fieldsInfo.smsRelayUrl.accessWatchField),o(3),w(t.fieldsInfo.accessUseStartDate==null?null:t.fieldsInfo.accessUseStartDate.fieldTitle),o(),c("matDatepicker",s),A("ngModel",t.dataModel.accessUseStartDate),o(),c("for",s),o(3),c("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(3),w(t.fieldsInfo.apiSendMessageAddTextFirst==null?null:t.fieldsInfo.apiSendMessageAddTextFirst.fieldTitle),o(),c("placeholder",R(t.fieldsInfo.apiSendMessageAddTextFirst==null?null:t.fieldsInfo.apiSendMessageAddTextFirst.fieldTitle)),A("ngModel",t.dataModel.apiSendMessageAddTextFirst),o(3),g("",f.value.length," / 500"),o(),c("ngIf",f.errors==null?null:f.errors.required),o(3),w(t.fieldsInfo.apiSendMessageAddTextEnd==null?null:t.fieldsInfo.apiSendMessageAddTextEnd.fieldTitle),o(),c("placeholder",R(t.fieldsInfo.apiSendMessageAddTextEnd==null?null:t.fieldsInfo.apiSendMessageAddTextEnd.fieldTitle)),A("ngModel",t.dataModel.apiSendMessageAddTextEnd),o(3),g("",d.value.length," / 500"),o(),c("ngIf",d.errors==null?null:d.errors.required),o(3),w(t.fieldsInfo.sendMessageAddTextFirst==null?null:t.fieldsInfo.sendMessageAddTextFirst.fieldTitle),o(),c("placeholder",R(t.fieldsInfo.sendMessageAddTextFirst==null?null:t.fieldsInfo.sendMessageAddTextFirst.fieldTitle)),A("ngModel",t.dataModel.sendMessageAddTextFirst),o(3),g("",k.value.length," / 500"),o(),c("ngIf",k.errors==null?null:k.errors.required),o(3),w(t.fieldsInfo.sendMessageAddTextEnd==null?null:t.fieldsInfo.sendMessageAddTextEnd.fieldTitle),o(),c("placeholder",R(t.fieldsInfo.sendMessageAddTextEnd==null?null:t.fieldsInfo.sendMessageAddTextEnd.fieldTitle)),A("ngModel",t.dataModel.sendMessageAddTextEnd),o(3),g("",H.value.length," / 500"),o(),c("ngIf",H.errors==null?null:H.errors.required),o(),c("ngIf",t.fieldsInfo.actionMemo==null?null:t.fieldsInfo.actionMemo.accessWatchField),o(),c("optionSelectForce",t.dataCoreCpMainMenuIds)("optionDisabled",!1),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,de,z,Zt,ke,K,se,Ae,ye,ne,le,Tt,Pt,xt,pe,wt,J,ue,q,$t,Wo,F],encapsulation:2});var Uo=yn;var di=class di{constructor(l){this.persianCalendarService=l}transform(l){if(typeof l=="string"){if(!l||l.length===0)return"";let e=new Date(l);if(!e)return"";let i=new Date;return i.setFullYear(i.getFullYear()-100),e<i?"":e.getHours()+":"+e.getMinutes()}if(typeof l==typeof Date){if(!l)return"";let e=new Date;return e.setFullYear(e.getFullYear()-100),l<e?"":l.getHours()+":"+l.getMinutes()}return""}};di.\u0275fac=function(e){return new(e||di)(C(Gr,16))},di.\u0275pipe=vr({name:"localeTime",type:di,pure:!0,standalone:!1}),di.\u0275prov=Mr({token:di,factory:di.\u0275fac});var jo=di;var qs=()=>[5,10,20,100];function js(n,l){if(n&1){let e=I();r(0,"a",51),b("click",function(){p(e);let t=S();return u(t.onActionBackToParent())}),M(1,"i",52),a()}}function Qs(n,l){if(n&1){let e=I();r(0,"div",19)(1,"a",53),b("click",function(){p(e);let t=S();return u(t.onActionButtonNewRow())}),M(2,"i",54),a(),r(3,"p",22),m(4),h(5,"translate"),a()()}n&2&&(o(4),g(" ",_(5,1,"ACTION.ADD")," "))}function zs(n,l){if(n&1){let e=I();r(0,"div",19)(1,"a",55),b("click",function(){p(e);let t=S();return u(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",56)(3,"br"),a(),r(4,"p",22),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.EDIT")," "))}function Ks(n,l){if(n&1){let e=I();r(0,"div",19)(1,"a",57),b("click",function(){p(e);let t=S();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",58)(3,"br"),a(),r(4,"p",22),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.DELETE")," "))}function Js(n,l){if(n&1&&(r(0,"mat-header-cell",59),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Xs(n,l){if(n&1&&(r(0,"mat-cell"),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.id," ")}}function Ys(n,l){if(n&1&&(r(0,"mat-header-cell",59),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Zs(n,l){if(n&1&&(r(0,"mat-cell",60),h(1,"statusCellClass"),M(2,"i",60),h(3,"statusIconClass"),a()),n&2){let e=l.$implicit;c("ngClass",_(1,2,e.recordStatus)),o(2),c("ngClass",_(3,4,e.recordStatus))}}function $s(n,l){if(n&1&&(r(0,"mat-header-cell",59),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.numberChar==null?null:e.fieldsInfo.numberChar.fieldTitle," ")}}function el(n,l){if(n&1&&(r(0,"mat-cell",61),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.numberChar," ")}}function tl(n,l){if(n&1&&(r(0,"mat-header-cell",59),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.isPublic==null?null:e.fieldsInfo.isPublic.fieldTitle," ")}}function il(n,l){if(n&1&&(r(0,"mat-cell"),M(1,"i",60),h(2,"statusIconClass"),a()),n&2){let e=l.$implicit;o(),c("ngClass",_(2,1,e.isPublic))}}function nl(n,l){if(n&1&&(r(0,"mat-header-cell",59),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.saleStatus==null?null:e.fieldsInfo.saleStatus.fieldTitle," ")}}function ol(n,l){if(n&1&&(r(0,"mat-cell"),M(1,"i",60),h(2,"statusIconClass"),a()),n&2){let e=l.$implicit;o(),c("ngClass",_(2,1,e.saleStatus))}}function rl(n,l){if(n&1&&(r(0,"mat-header-cell",59),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.accessUseStartDate==null?null:e.fieldsInfo.accessUseStartDate.fieldTitle," ")}}function al(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",_(2,1,e.accessUseStartDate)," ")}}function sl(n,l){if(n&1&&(r(0,"mat-header-cell",59),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function ll(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",_(2,1,e.expireDate)," ")}}function dl(n,l){if(n&1&&(r(0,"mat-header-cell",59),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.lastUseOfDate==null?null:e.fieldsInfo.lastUseOfDate.fieldTitle," ")}}function cl(n,l){if(n&1&&(r(0,"mat-cell",62),m(1),h(2,"localeDate"),h(3,"localeTime"),a()),n&2){let e=l.$implicit;o(),Ce(" ",_(2,2,e.lastUseOfDate)," ",_(3,4,e.lastUseOfDate)," ")}}function ml(n,l){if(n&1&&(r(0,"mat-header-cell",59),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function pl(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",_(2,1,e.createdDate)," ")}}function ul(n,l){if(n&1&&(r(0,"mat-header-cell",59),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function fl(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",_(2,1,e.updatedDate)," ")}}function Sl(n,l){n&1&&(r(0,"mat-header-cell"),m(1),h(2,"translate"),a()),n&2&&(o(),g(" ",_(2,1,"TITLE.OPTION")," "))}function hl(n,l){if(n&1&&(r(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),m(3,"more_vert"),a()(),M(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),c("matMenuTriggerFor",e)}}function gl(n,l){n&1&&(r(0,"mat-header-cell",59),m(1,". "),a())}function _l(n,l){n&1&&(r(0,"mat-cell")(1,"mat-icon",65),m(2,"reorder"),a()())}function Ml(n,l){n&1&&M(0,"mat-header-row")}function Cl(n,l){n&1&&M(0,"div",68)}function vl(n,l){if(n&1){let e=I();r(0,"mat-row",66),b("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))}),v(1,Cl,1,0,"div",67),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),c("cdkDragData",e)}}var En=class En extends ut{constructor(e,i,t,s,f,d,k,H,kt,Kt,It,ti){super(e,new yt,It,d,kt);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=s;this.router=f;this.tokenHelper=d;this.cdr=k;this.cmsStoreService=H;this.translate=kt;this.pageInfo=Kt;this.publicHelper=It;this.dialog=ti;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","NumberChar","accessUseStartDate","expireDate","lastUseOfDate","isPublic","SaleStatus","CreatedDate","UpdatedDate","position"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","NumberChar","accessUseStartDate","isPublic","lastUseOfDate","SaleStatus","CreatedDate","UpdatedDate","position"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ae=>this.onSubmitOptionsSearch(ae)},this.filteModelContent.sortColumn="priority",this.filteModelContent.sortType=j.Ascending}ngOnInit(){if(this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")),this.requestLinkApiPathId?.length>0){let e=new Q;e.propertyName="ApiPathAndApiNumbers",e.propertyAnyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ve(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new yt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id?.length>0){let t=new Q;t.propertyName="ApiPathAndApiNumbers",t.propertyAnyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(s=>s===e.item.data),t=new _o;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=ln.GoUp:t.actionGo=ln.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:s=>{s.isSuccess?(Co(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(s.errorMessage)},error:s=>{this.cmsToastrService.typeError(s)}})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.filteModelContent.sortColumn="priority",this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.requestLinkApiPathId;this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ho,{height:"90%",width:"60%",panelClass:i,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:e}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&(this.onActionButtonEditRow(s.model),this.DataGetAll())})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Uo,{height:"90%",panelClass:i,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(f,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(t,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Q;f.propertyName="RecordStatus",f.value=Ne.Available,s.filters.push(f),this.contentService.ServiceGetCount(s).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPermissionList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-number-permission/LinkApiNumberId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-number-permission/LinkApiNumberId/",this.tableRowSelected.id])}onActionButtonInboxList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/log/inbox/list/ReceiverNumber/"+this.tableRowSelected.numberChar;window.open(t,"_blank")}else this.router.navigate(["/sms/log/inbox/list/ReceiverNumber",this.tableRowSelected.numberChar])}onActionButtonOutboxList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/log/outbox/list/SenderNumber/"+this.tableRowSelected.numberChar;window.open(t,"_blank")}else this.router.navigate(["/sms/log/outbox/list/SenderNumber",this.tableRowSelected.numberChar])}onActionButtonSendMessage(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/action/send-message/LinkApiNumberId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/action/send-message/LinkApiNumberId",this.tableRowSelected.id])}onActionButtonReload(){this.filteModelContent.sortColumn="priority",this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};En.\u0275fac=function(i){return new(i||En)(C(Vt),C(N),C(Et),C(He),C(Qe),C(xe),C(V),C(Pe),C(L),C(dt),C(B),C(Te))},En.\u0275cmp=D({type:En,selectors:[["app-sms-api-number-list"]],standalone:!1,features:[W],decls:100,vars:44,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-receipt","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-paper-plane-top","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","NumberChar"],["class","input-ltr",4,"matCellDef"],["matColumnDef","isPublic"],["matColumnDef","SaleStatus"],["matColumnDef","accessUseStartDate"],["matColumnDef","expireDate"],["matColumnDef","lastUseOfDate"],["dir","ltr",4,"matCellDef"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild","cdkDrag","",3,"ntk-row-selected","cdkDragData","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"input-ltr"],["dir","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],["cdkDrag","",1,"ntk-row-mainfild",3,"click","rtclick","cdkDragData"],["class","ntk-row-placeholder",4,"cdkDragPlaceholder"],[1,"ntk-row-placeholder"]],template:function(i,t){if(i&1){let s=I();r(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(d){return p(s),y(t.viewGuideNotice,d)||(t.viewGuideNotice=d),u(d)}),b("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),T(1,4),r(2,"app-sms-apipath-tree",5),b("optionChange",function(d){return p(s),u(t.onActionSelectorSelect(d))}),a(),P(),Le(3,6)(4,7),T(5,8),v(6,js,2,0,"a",9),r(7,"a",10),b("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),M(8,"i",11),a(),r(9,"a",10),b("click",function(){return p(s),u(t.onActionButtonReload())}),M(10,"i",12),a(),P(),T(11,13),r(12,"a",14),b("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),M(13,"mat-slide-toggle",15),m(14),h(15,"translate"),a(),r(16,"a",14),b("click",function(){return p(s),u(t.onActionButtonStatist())}),M(17,"mat-slide-toggle",15),m(18),h(19,"translate"),a(),P(),T(20,16),v(21,Qs,6,3,"div",17),P(),T(22,18),v(23,zs,7,3,"div",17)(24,Ks,7,3,"div",17),r(25,"div",19)(26,"a",20),b("click",function(d){return p(s),u(t.onActionButtonSendMessage(t.tableRowSelected,d))}),M(27,"i",21)(28,"br"),a(),r(29,"p",22),m(30),h(31,"translate"),a()(),r(32,"div",19)(33,"a",20),b("click",function(d){return p(s),u(t.onActionButtonInboxList(t.tableRowSelected,d))}),M(34,"i",21)(35,"br"),a(),r(36,"p",22),m(37),h(38,"translate"),a()(),r(39,"div",19)(40,"a",20),b("click",function(d){return p(s),u(t.onActionButtonOutboxList(t.tableRowSelected,d))}),M(41,"i",23)(42,"br"),a(),r(43,"p",22),m(44),h(45,"translate"),a()(),r(46,"div",19)(47,"a",20),b("click",function(d){return p(s),u(t.onActionButtonPermissionList(t.tableRowSelected,d))}),M(48,"i",21)(49,"br"),a(),r(50,"p",22),m(51),h(52,"translate"),a()(),P(),T(53,24),r(54,"app-cms-search-list",25),E("optionsChange",function(d){return p(s),y(t.optionsSearch,d)||(t.optionsSearch=d),u(d)}),a(),r(55,"app-cms-statist-list",25),E("optionsChange",function(d){return p(s),y(t.optionsStatist,d)||(t.optionsStatist=d),u(d)}),a(),P(),T(56,26),r(57,"mat-table",27,0),b("matSortChange",function(){p(s);let d=x(58);return u(t.onTableSortData(d))})("cdkDropListDropped",function(d){return p(s),u(t.onTableDropRow(d))}),T(59,28),v(60,Js,2,1,"mat-header-cell",29)(61,Xs,2,1,"mat-cell",30),P(),T(62,31),v(63,Ys,2,1,"mat-header-cell",29)(64,Zs,4,6,"mat-cell",32),P(),T(65,33),v(66,$s,2,1,"mat-header-cell",29)(67,el,2,1,"mat-cell",34),P(),T(68,35),v(69,tl,2,1,"mat-header-cell",29)(70,il,3,3,"mat-cell",30),P(),T(71,36),v(72,nl,2,1,"mat-header-cell",29)(73,ol,3,3,"mat-cell",30),P(),T(74,37),v(75,rl,2,1,"mat-header-cell",29)(76,al,3,3,"mat-cell",30),P(),T(77,38),v(78,sl,2,1,"mat-header-cell",29)(79,ll,3,3,"mat-cell",30),P(),T(80,39),v(81,dl,2,1,"mat-header-cell",29)(82,cl,4,6,"mat-cell",40),P(),T(83,41),v(84,ml,2,1,"mat-header-cell",29)(85,pl,3,3,"mat-cell",30),P(),T(86,42),v(87,ul,2,1,"mat-header-cell",29)(88,fl,3,3,"mat-cell",30),P(),T(89,43),v(90,Sl,3,3,"mat-header-cell",44)(91,hl,6,1,"mat-cell",45),P(),T(92,46),v(93,gl,2,0,"mat-header-cell",29)(94,_l,3,0,"mat-cell",30),P(),v(95,Ml,1,0,"mat-header-row",47)(96,vl,2,3,"mat-row",48),a(),P(),T(97,49),r(98,"mat-paginator",50,1),b("page",function(d){return p(s),u(t.onTablePageingData(d))}),a(),P(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!t.requestLinkApiPathId||t.requestLinkApiPathId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.numberChar),o(6),c("ngIf",(t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0),o(4),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),g("",_(15,31,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),g("",_(19,33,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),g(" ",_(31,35,"ACTION.SEND_MESSAGE")," "),o(7),g(" ",_(38,37,"ACTION.RECEIPTS")," "),o(7),g(" ",_(45,39,"ACTION.SUBMISSIONS")," "),o(7),g(" ",_(52,41,"ACTION.Permission")," "),o(3),A("options",t.optionsSearch),o(),A("options",t.optionsStatist),o(2),c("dataSource",t.tableSource)("cdkDropListData",t.tableSource),o(38),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ve(43,qs)))},dependencies:[qe,O,Rr,Fe,Ee,ze,Ke,Je,Xe,Ye,Ze,$e,tt,rt,it,et,at,nt,ot,st,lt,ft,St,ht,gt,Sn,Io,bo,vo,Ao,F,Rt,jo,_t,vt],encapsulation:2});var co=En;var bl=["vform"];function Il(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",27),E("modelChange",function(t){p(e);let s=S();return y(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();A("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Al(n,l){n&1&&M(0,"i",32)}function yl(n,l){n&1&&M(0,"i",33)}function El(n,l){n&1&&(r(0,"mat-error"),m(1," Title is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function wl(n,l){if(n&1){let e=I();r(0,"div",16)(1,"label",28),m(2),a(),r(3,"input",29,3),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),a(),v(5,Al,1,0,"i",30)(6,yl,1,0,"i",31),r(7,"em"),m(8),a(),v(9,El,5,3,"mat-error",19),a()}if(n&2){let e=x(4),i=S();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),A("ngModel",i.dataModel.title),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Tl(n,l){if(n&1){let e=I();r(0,"div",34)(1,"div",35)(2,"h5",36),m(3),a()(),r(4,"div",37)(5,"div",38)(6,"input",39),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.checkCredit,t)||(s.dataModel.checkCredit=t),u(t)}),a(),M(7,"label",40),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.checkCredit==null?null:e.fieldsInfo.checkCredit.fieldTitle," "),o(3),A("ngModel",e.dataModel.checkCredit)}}function Pl(n,l){if(n&1){let e=I();r(0,"div",34)(1,"div",35)(2,"h5",41),m(3),a()(),r(4,"div",37)(5,"div",38)(6,"input",42),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.calculateCredit,t)||(s.dataModel.calculateCredit=t),u(t)}),a(),M(7,"label",43),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.calculateCredit==null?null:e.fieldsInfo.calculateCredit.fieldTitle," "),o(3),A("ngModel",e.dataModel.calculateCredit)}}function xl(n,l){n&1&&M(0,"i",32)}function Rl(n,l){n&1&&M(0,"i",33)}function Dl(n,l){if(n&1&&(r(0,"mat-error"),m(1),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2){let e=S(2);o(),g(" ",e.fieldsInfo.serviceAvailableCredit==null?null:e.fieldsInfo.serviceAvailableCredit.fieldTitle," is "),o(2),w(_(4,2,"MESSAGE.required"))}}function kl(n,l){if(n&1){let e=I();r(0,"div",16)(1,"label",44),m(2),a(),r(3,"input",45,4),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.serviceAvailableCredit,t)||(s.dataModel.serviceAvailableCredit=t),u(t)}),a(),v(5,xl,1,0,"i",30)(6,Rl,1,0,"i",31)(7,Dl,5,4,"mat-error",19),a()}if(n&2){let e=x(4),i=S();o(2),w(i.fieldsInfo.serviceAvailableCredit==null?null:i.fieldsInfo.serviceAvailableCredit.fieldTitle),o(),A("ngModel",i.dataModel.serviceAvailableCredit),c("disabled",!(i.fieldsInfo.serviceAvailableCredit!=null&&i.fieldsInfo.serviceAvailableCredit.accessAddField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Ll(n,l){n&1&&M(0,"i",32)}function Vl(n,l){n&1&&M(0,"i",33)}function Nl(n,l){if(n&1&&(r(0,"mat-error"),m(1),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2){let e=S(2);o(),g(" ",e.fieldsInfo.serviceSumCredit==null?null:e.fieldsInfo.serviceSumCredit.fieldTitle," is "),o(2),w(_(4,2,"MESSAGE.required"))}}function Bl(n,l){if(n&1){let e=I();r(0,"div",16)(1,"label",46),m(2),a(),r(3,"input",47,5),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.serviceSumCredit,t)||(s.dataModel.serviceSumCredit=t),u(t)}),a(),v(5,Ll,1,0,"i",30)(6,Vl,1,0,"i",31)(7,Nl,5,4,"mat-error",19),a()}if(n&2){let e=x(4),i=S();o(2),w(i.fieldsInfo.serviceSumCredit==null?null:i.fieldsInfo.serviceSumCredit.fieldTitle),o(),A("ngModel",i.dataModel.serviceSumCredit),c("disabled",!(i.fieldsInfo.serviceSumCredit!=null&&i.fieldsInfo.serviceSumCredit.accessAddField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Fl(n,l){n&1&&M(0,"i",32)}function Gl(n,l){n&1&&M(0,"i",33)}function Ol(n,l){if(n&1&&(r(0,"mat-error"),m(1),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2){let e=S(2);o(),g(" ",e.fieldsInfo.userAvailableCredit==null?null:e.fieldsInfo.userAvailableCredit.fieldTitle," is "),o(2),w(_(4,2,"MESSAGE.required"))}}function Hl(n,l){if(n&1){let e=I();r(0,"div",16)(1,"label",48),m(2),a(),r(3,"input",49,6),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.userAvailableCredit,t)||(s.dataModel.userAvailableCredit=t),u(t)}),a(),v(5,Fl,1,0,"i",30)(6,Gl,1,0,"i",31)(7,Ol,5,4,"mat-error",19),a()}if(n&2){let e=x(4),i=S();o(2),w(i.fieldsInfo.userAvailableCredit==null?null:i.fieldsInfo.userAvailableCredit.fieldTitle),o(),A("ngModel",i.dataModel.userAvailableCredit),c("disabled",!(i.fieldsInfo.userAvailableCredit!=null&&i.fieldsInfo.userAvailableCredit.accessAddField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Wl(n,l){n&1&&M(0,"i",32)}function Ul(n,l){n&1&&M(0,"i",33)}function ql(n,l){if(n&1&&(r(0,"mat-error"),m(1),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2){let e=S(2);o(),g(" ",e.fieldsInfo.userSumCredit==null?null:e.fieldsInfo.userSumCredit.fieldTitle," is "),o(2),w(_(4,2,"MESSAGE.required"))}}function jl(n,l){if(n&1){let e=I();r(0,"div",16)(1,"label",50),m(2),a(),r(3,"input",51,7),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.userSumCredit,t)||(s.dataModel.userSumCredit=t),u(t)}),a(),v(5,Wl,1,0,"i",30)(6,Ul,1,0,"i",31)(7,ql,5,4,"mat-error",19),a()}if(n&2){let e=x(4),i=S();o(2),w(i.fieldsInfo.userSumCredit==null?null:i.fieldsInfo.userSumCredit.fieldTitle),o(),A("ngModel",i.dataModel.userSumCredit),c("disabled",!(i.fieldsInfo.userSumCredit!=null&&i.fieldsInfo.userSumCredit.accessAddField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Ql(n,l){n&1&&(r(0,"mat-error"),m(1," Description is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function zl(n,l){if(n&1&&(M(0,"img",52),h(1,"cmsthumbnail")),n&2){let e=S();c("src",R(_(1,2,e.dataModel.linkMainImageIdSrc)),Me)}}function Kl(n,l){if(n&1){let e=I();r(0,"div",53)(1,"button",54),b("click",function(){p(e);let t=S();return u(t.onFormCancel())}),M(2,"i",55),m(3),h(4,"translate"),a(),r(5,"button",56),M(6,"i",57),m(7),h(8,"translate"),a()()}if(n&2){S();let e=x(12);o(3),g(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var wn=class wn extends mt{constructor(e,i,t,s,f,d,k,H){super(s,new Lt,d,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainApiPathCompanyService=s;this.cmsToastrService=f;this.publicHelper=d;this.cdr=k;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new Lt;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathCompanyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};wn.\u0275fac=function(i){return new(i||wn)(C(re),C(oe),C(be),C(Bt),C(N),C(B),C(V),C(L))},wn.\u0275cmp=D({type:wn,selectors:[["app-sms-apipathcompany-add"]],viewQuery:function(i,t){if(i&1&&$(bl,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:42,vars:44,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["ServiceAvailableCredit",""],["ServiceSumCredit",""],["UserAvailableCredit",""],["UserSumCredit",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.checkCredit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.checkCredit","name","dataModel.checkCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.checkCredit",1,"custom-control-label"],["data-trigger-switch","dataModel.calculateCredit",1,"font-600","font-14"],["type","checkbox","id","dataModel.calculateCredit","name","dataModel.calculateCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.calculateCredit",1,"custom-control-label"],["for","dataModel.serviceAvailableCredit",1,"color-highlight"],["matInput","","type","text","currencyMask","","name","dataModel.serviceAvailableCredit","type","number","placeholder","0","required","","id","dataModel.serviceAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.serviceSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceSumCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.serviceSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userAvailableCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.userAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userSumCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.userSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",8),M(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),m(4),a(),r(5,"h4"),m(6),h(7,"translate"),a(),r(8,"p"),m(9),h(10,"translate"),a(),r(11,"form",12,0),b("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),v(13,Il,1,5,"app-cms-enum-record-status-selector",13)(14,wl,10,8,"div",14)(15,Tl,8,2,"div",15)(16,Pl,8,2,"div",15)(17,kl,8,6,"div",14)(18,Bl,8,6,"div",14)(19,Hl,8,6,"div",14)(20,jl,8,6,"div",14),r(21,"div",16)(22,"label",17),m(23),a(),r(24,"textarea",18,1),E("ngModelChange",function(d){return p(s),y(t.dataModel.description,d)||(t.dataModel.description=d),u(d)}),a(),r(26,"em"),m(27),a(),v(28,Ql,5,3,"mat-error",19),a(),r(29,"div",20)(30,"a",21),h(31,"cmsthumbnail"),v(32,zl,2,4,"img",22),a()(),r(33,"div",16)(34,"label",23),b("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),m(35),h(36,"translate"),a(),r(37,"input",24,2),h(39,"translate"),E("ngModelChange",function(d){return p(s),y(t.dataModel.linkMainImageId,d)||(t.dataModel.linkMainImageId=d),u(d)}),b("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),a(),r(40,"cms-file-manager",25),b("itemSelected",function(d){return p(s),u(t.onActionFileSelected(d))}),E("openFormChange",function(d){return p(s),y(t.fileManagerOpenForm,d)||(t.fileManagerOpenForm=d),u(d)}),a()(),v(41,Kl,9,7,"div",26),a()()()}if(i&2){let s=x(25);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),w(_(7,34,"TITLE.SERVICE_PROVIDER_COMPANIES")),o(3),g(" ",_(10,36,"TITLE.SERVICE_PROVIDER_COMPANIES_DESCRIPTION")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),c("ngIf",t.fieldsInfo.checkCredit==null?null:t.fieldsInfo.checkCredit.accessWatchField),o(),c("ngIf",t.fieldsInfo.calculateCredit==null?null:t.fieldsInfo.calculateCredit.accessWatchField),o(),c("ngIf",t.fieldsInfo.serviceAvailableCredit==null?null:t.fieldsInfo.serviceAvailableCredit.accessWatchField),o(),c("ngIf",t.fieldsInfo.serviceSumCredit==null?null:t.fieldsInfo.serviceSumCredit.accessWatchField),o(),c("ngIf",t.fieldsInfo.userAvailableCredit==null?null:t.fieldsInfo.userAvailableCredit.accessWatchField),o(),c("ngIf",t.fieldsInfo.userSumCredit==null?null:t.fieldsInfo.userSumCredit.accessWatchField),o(3),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),c("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),A("ngModel",t.dataModel.description),o(3),g("",s.value.length," / 500"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(2),c("href",R(_(31,38,t.dataModel.linkMainImageIdSrc)),Me),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),w(_(36,40,"TITLE.Icon_File")),o(2),c("placeholder",R(_(39,42,"TITLE.Original_File_ID"))),A("ngModel",t.dataModel.linkMainImageId),o(3),c("language",t.appLanguage)("isPopup",!0),A("openForm",t.fileManagerOpenForm),c("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,de,z,Zt,ke,K,se,_e,Ae,ye,ne,le,pe,J,ue,q,$t,Gt,F,ct],encapsulation:2});var Tn=wn;var Jl=["vform"];function Xl(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",27),E("modelChange",function(t){p(e);let s=S();return y(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();A("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Yl(n,l){n&1&&M(0,"i",32)}function Zl(n,l){n&1&&M(0,"i",33)}function $l(n,l){n&1&&(r(0,"mat-error"),m(1," Title is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function ed(n,l){if(n&1){let e=I();r(0,"div",16)(1,"label",28),m(2),a(),r(3,"input",29,3),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),a(),v(5,Yl,1,0,"i",30)(6,Zl,1,0,"i",31),r(7,"em"),m(8),a(),v(9,$l,5,3,"mat-error",19),a()}if(n&2){let e=x(4),i=S();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),A("ngModel",i.dataModel.title),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function td(n,l){if(n&1){let e=I();r(0,"div",34)(1,"div",35)(2,"h5",36),m(3),a()(),r(4,"div",37)(5,"div",38)(6,"input",39),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.checkCredit,t)||(s.dataModel.checkCredit=t),u(t)}),a(),M(7,"label",40),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.checkCredit==null?null:e.fieldsInfo.checkCredit.fieldTitle," "),o(3),A("ngModel",e.dataModel.checkCredit)}}function id(n,l){if(n&1){let e=I();r(0,"div",34)(1,"div",35)(2,"h5",41),m(3),a()(),r(4,"div",37)(5,"div",38)(6,"input",42),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.calculateCredit,t)||(s.dataModel.calculateCredit=t),u(t)}),a(),M(7,"label",43),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.calculateCredit==null?null:e.fieldsInfo.calculateCredit.fieldTitle," "),o(3),A("ngModel",e.dataModel.calculateCredit)}}function nd(n,l){n&1&&M(0,"i",32)}function od(n,l){n&1&&M(0,"i",33)}function rd(n,l){if(n&1&&(r(0,"mat-error"),m(1),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2){let e=S(2);o(),g(" ",e.fieldsInfo.serviceAvailableCredit==null?null:e.fieldsInfo.serviceAvailableCredit.fieldTitle," is "),o(2),w(_(4,2,"MESSAGE.required"))}}function ad(n,l){if(n&1){let e=I();r(0,"div",16)(1,"label",44),m(2),a(),r(3,"input",45,4),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.serviceAvailableCredit,t)||(s.dataModel.serviceAvailableCredit=t),u(t)}),a(),v(5,nd,1,0,"i",30)(6,od,1,0,"i",31)(7,rd,5,4,"mat-error",19),a()}if(n&2){let e=x(4),i=S();o(2),w(i.fieldsInfo.serviceAvailableCredit==null?null:i.fieldsInfo.serviceAvailableCredit.fieldTitle),o(),A("ngModel",i.dataModel.serviceAvailableCredit),c("disabled",!(i.fieldsInfo.serviceAvailableCredit!=null&&i.fieldsInfo.serviceAvailableCredit.accessEditField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function sd(n,l){n&1&&M(0,"i",32)}function ld(n,l){n&1&&M(0,"i",33)}function dd(n,l){if(n&1&&(r(0,"mat-error"),m(1),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2){let e=S(2);o(),g(" ",e.fieldsInfo.serviceSumCredit==null?null:e.fieldsInfo.serviceSumCredit.fieldTitle," is "),o(2),w(_(4,2,"MESSAGE.required"))}}function cd(n,l){if(n&1){let e=I();r(0,"div",16)(1,"label",46),m(2),a(),r(3,"input",47,5),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.serviceSumCredit,t)||(s.dataModel.serviceSumCredit=t),u(t)}),a(),v(5,sd,1,0,"i",30)(6,ld,1,0,"i",31)(7,dd,5,4,"mat-error",19),a()}if(n&2){let e=x(4),i=S();o(2),w(i.fieldsInfo.serviceSumCredit==null?null:i.fieldsInfo.serviceSumCredit.fieldTitle),o(),A("ngModel",i.dataModel.serviceSumCredit),c("disabled",!(i.fieldsInfo.serviceSumCredit!=null&&i.fieldsInfo.serviceSumCredit.accessEditField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function md(n,l){n&1&&M(0,"i",32)}function pd(n,l){n&1&&M(0,"i",33)}function ud(n,l){if(n&1&&(r(0,"mat-error"),m(1),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2){let e=S(2);o(),g(" ",e.fieldsInfo.userAvailableCredit==null?null:e.fieldsInfo.userAvailableCredit.fieldTitle," is "),o(2),w(_(4,2,"MESSAGE.required"))}}function fd(n,l){if(n&1){let e=I();r(0,"div",16)(1,"label",48),m(2),a(),r(3,"input",49,6),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.userAvailableCredit,t)||(s.dataModel.userAvailableCredit=t),u(t)}),a(),v(5,md,1,0,"i",30)(6,pd,1,0,"i",31)(7,ud,5,4,"mat-error",19),a()}if(n&2){let e=x(4),i=S();o(2),w(i.fieldsInfo.userAvailableCredit==null?null:i.fieldsInfo.userAvailableCredit.fieldTitle),o(),A("ngModel",i.dataModel.userAvailableCredit),c("disabled",!(i.fieldsInfo.userAvailableCredit!=null&&i.fieldsInfo.userAvailableCredit.accessEditField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Sd(n,l){n&1&&M(0,"i",32)}function hd(n,l){n&1&&M(0,"i",33)}function gd(n,l){if(n&1&&(r(0,"mat-error"),m(1),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2){let e=S(2);o(),g(" ",e.fieldsInfo.userSumCredit==null?null:e.fieldsInfo.userSumCredit.fieldTitle," is "),o(2),w(_(4,2,"MESSAGE.required"))}}function _d(n,l){if(n&1){let e=I();r(0,"div",16)(1,"label",50),m(2),a(),r(3,"input",51,7),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.userSumCredit,t)||(s.dataModel.userSumCredit=t),u(t)}),a(),v(5,Sd,1,0,"i",30)(6,hd,1,0,"i",31)(7,gd,5,4,"mat-error",19),a()}if(n&2){let e=x(4),i=S();o(2),w(i.fieldsInfo.userSumCredit==null?null:i.fieldsInfo.userSumCredit.fieldTitle),o(),A("ngModel",i.dataModel.userSumCredit),c("disabled",!(i.fieldsInfo.userSumCredit!=null&&i.fieldsInfo.userSumCredit.accessEditField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Md(n,l){n&1&&(r(0,"mat-error"),m(1," Description is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function Cd(n,l){if(n&1&&(M(0,"img",52),h(1,"cmsthumbnail")),n&2){let e=S();c("src",R(_(1,2,e.dataModel.linkMainImageIdSrc)),Me)}}function vd(n,l){if(n&1){let e=I();r(0,"div",53)(1,"button",54),b("click",function(){p(e);let t=S();return u(t.onFormCancel())}),M(2,"i",55),m(3),h(4,"translate"),a(),r(5,"button",56),M(6,"i",57),m(7),h(8,"translate"),a()()}if(n&2){S();let e=x(12);o(3),g(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var Pn=class Pn extends pt{constructor(e,i,t,s,f,d,k,H){super(s,new Lt,d,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainApiPathCompanyService=s;this.cmsToastrService=f;this.publicHelper=d;this.cdr=k;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new je;this.dataModel=new Lt;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathCompanyService.setAccessLoad(),this.smsMainApiPathCompanyService.setAccessDataType(Be.Editor),this.smsMainApiPathCompanyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathCompanyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Pn.\u0275fac=function(i){return new(i||Pn)(C(re),C(oe),C(be),C(Bt),C(N),C(B),C(V),C(L))},Pn.\u0275cmp=D({type:Pn,selectors:[["app-sms-apipathcompany-edit"]],viewQuery:function(i,t){if(i&1&&$(Jl,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:42,vars:44,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["ServiceAvailableCredit",""],["ServiceSumCredit",""],["UserAvailableCredit",""],["UserSumCredit",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.checkCredit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.checkCredit","name","dataModel.checkCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.checkCredit",1,"custom-control-label"],["data-trigger-switch","dataModel.calculateCredit",1,"font-600","font-14"],["type","checkbox","id","dataModel.calculateCredit","name","dataModel.calculateCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.calculateCredit",1,"custom-control-label"],["for","dataModel.serviceAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceAvailableCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.serviceAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.serviceSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceSumCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.serviceSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userAvailableCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.userAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userSumCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.userSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",8),M(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),m(4),a(),r(5,"h4"),m(6),h(7,"translate"),a(),r(8,"p"),m(9),h(10,"translate"),a(),r(11,"form",12,0),b("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),v(13,Xl,1,5,"app-cms-enum-record-status-selector",13)(14,ed,10,8,"div",14)(15,td,8,2,"div",15)(16,id,8,2,"div",15)(17,ad,8,6,"div",14)(18,cd,8,6,"div",14)(19,fd,8,6,"div",14)(20,_d,8,6,"div",14),r(21,"div",16)(22,"label",17),m(23),a(),r(24,"textarea",18,1),E("ngModelChange",function(d){return p(s),y(t.dataModel.description,d)||(t.dataModel.description=d),u(d)}),a(),r(26,"em"),m(27),a(),v(28,Md,5,3,"mat-error",19),a(),r(29,"div",20)(30,"a",21),h(31,"cmsthumbnail"),v(32,Cd,2,4,"img",22),a()(),r(33,"div",16)(34,"label",23),b("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),m(35),h(36,"translate"),a(),r(37,"input",24,2),h(39,"translate"),E("ngModelChange",function(d){return p(s),y(t.dataModel.linkMainImageId,d)||(t.dataModel.linkMainImageId=d),u(d)}),b("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),a(),r(40,"cms-file-manager",25),b("itemSelected",function(d){return p(s),u(t.onActionFileSelected(d))}),E("openFormChange",function(d){return p(s),y(t.fileManagerOpenForm,d)||(t.fileManagerOpenForm=d),u(d)}),a()(),v(41,vd,9,7,"div",26),a()()()}if(i&2){let s=x(25);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),w(_(7,34,"TITLE.SERVICE_PROVIDER_COMPANIES")),o(3),g(" ",_(10,36,"TITLE.SERVICE_PROVIDER_COMPANIES_DESCRIPTION")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),c("ngIf",t.fieldsInfo.checkCredit==null?null:t.fieldsInfo.checkCredit.accessWatchField),o(),c("ngIf",t.fieldsInfo.calculateCredit==null?null:t.fieldsInfo.calculateCredit.accessWatchField),o(),c("ngIf",t.fieldsInfo.serviceAvailableCredit==null?null:t.fieldsInfo.serviceAvailableCredit.accessWatchField),o(),c("ngIf",t.fieldsInfo.serviceSumCredit==null?null:t.fieldsInfo.serviceSumCredit.accessWatchField),o(),c("ngIf",t.fieldsInfo.userAvailableCredit==null?null:t.fieldsInfo.userAvailableCredit.accessWatchField),o(),c("ngIf",t.fieldsInfo.userSumCredit==null?null:t.fieldsInfo.userSumCredit.accessWatchField),o(3),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),c("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),A("ngModel",t.dataModel.description),o(3),g("",s.value.length," / 500"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(2),c("href",R(_(31,38,t.dataModel.linkMainImageIdSrc)),Me),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),w(_(36,40,"TITLE.Icon_File")),o(2),c("placeholder",R(_(39,42,"TITLE.Original_File_ID"))),A("ngModel",t.dataModel.linkMainImageId),o(3),c("language",t.appLanguage)("isPopup",!0),A("openForm",t.fileManagerOpenForm),c("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,de,z,Zt,ke,K,se,_e,Ae,ye,ne,le,pe,J,ue,q,$t,Gt,F,ct],encapsulation:2});var xn=Pn;var bd=()=>[5,10,20,100];function Id(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",39),b("click",function(){p(e);let t=S();return u(t.onActionButtonNewRow())}),M(2,"i",40)(3,"br"),a(),r(4,"p",20),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.ADD")," "))}function Ad(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",41),b("click",function(){p(e);let t=S();return u(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",42)(3,"br"),a(),r(4,"p",20),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.EDIT")," "))}function yd(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",43),b("click",function(){p(e);let t=S();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",44)(3,"br"),a(),r(4,"p",20),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.DELETE")," "))}function Ed(n,l){n&1&&(r(0,"mat-header-cell",45),m(1),h(2,"translate"),a()),n&2&&(o(),g(" ",_(2,1,"TITLE.PICTURE")," "))}function wd(n,l){if(n&1&&M(0,"img",47),n&2){let e=S().$implicit;c("src",R(e.linkMainImageIdSrc),Me)}}function Td(n,l){if(n&1&&(r(0,"mat-cell"),v(1,wd,1,2,"img",46),a()),n&2){let e=l.$implicit;o(),c("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Pd(n,l){if(n&1&&(r(0,"mat-header-cell",45),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function xd(n,l){if(n&1&&(r(0,"mat-cell"),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.id," ")}}function Rd(n,l){if(n&1&&(r(0,"mat-header-cell",45),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Dd(n,l){if(n&1&&(r(0,"mat-cell",48),h(1,"statusCellClass"),M(2,"i",48),h(3,"statusIconClass"),a()),n&2){let e=l.$implicit;c("ngClass",_(1,2,e.recordStatus)),o(2),c("ngClass",_(3,4,e.recordStatus))}}function kd(n,l){if(n&1&&(r(0,"mat-header-cell",45),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Ld(n,l){if(n&1&&(r(0,"mat-cell"),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.title," ")}}function Vd(n,l){n&1&&(r(0,"mat-header-cell"),m(1),h(2,"translate"),a()),n&2&&(o(),g(" ",_(2,1,"TITLE.OPTION")," "))}function Nd(n,l){if(n&1&&(r(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),m(3,"more_vert"),a()(),M(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),c("matMenuTriggerFor",e)}}function Bd(n,l){n&1&&M(0,"mat-header-row")}function Fd(n,l){if(n&1){let e=I();r(0,"mat-row",51),b("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Rn=class Rn extends ut{constructor(e,i,t,s,f,d,k,H,kt,Kt,It){super(e,new Lt,Kt,f,k);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.router=s;this.tokenHelper=f;this.cdr=d;this.translate=k;this.cmsStoreService=H;this.pageInfo=kt;this.publicHelper=Kt;this.dialog=It;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","RecordStatus","Title"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","RecordStatus","Title"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ti=>this.onSubmitOptionsSearch(ti)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=j.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ve(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Lt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Tn,{height:"90%",panelClass:e,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(xn,{height:"90%",panelClass:i,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(f,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(t,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Q;f.propertyName="RecordStatus",f.value=Ne.Available,s.filters.push(f),this.contentService.ServiceGetCount(s).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonApiList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-path/list/LinkCompanyId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-path/list/LinkCompanyId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Rn.\u0275fac=function(i){return new(i||Rn)(C(Bt),C(N),C(He),C(Qe),C(xe),C(V),C(L),C(Pe),C(dt),C(B),C(Te))},Rn.\u0275cmp=D({type:Rn,selectors:[["app-sms-apipathcompany-list"]],standalone:!1,features:[W],decls:57,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=I();r(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(d){return p(s),y(t.viewGuideNotice,d)||(t.viewGuideNotice=d),u(d)}),b("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),T(1,4),m(2," -------------------------------------- "),P(),Le(3,5)(4,6),T(5,7),r(6,"a",8),b("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),M(7,"i",9),a(),r(8,"a",8),b("click",function(){return p(s),u(t.onActionButtonReload())}),M(9,"i",10),a(),P(),T(10,11),r(11,"a",12),b("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),M(12,"mat-slide-toggle",13),m(13),h(14,"translate"),a(),r(15,"a",12),b("click",function(){return p(s),u(t.onActionButtonStatist())}),M(16,"mat-slide-toggle",13),m(17),h(18,"translate"),a(),P(),T(19,14),v(20,Id,7,3,"div",15),P(),T(21,16),v(22,Ad,7,3,"div",15)(23,yd,7,3,"div",15),r(24,"div",17)(25,"a",18),b("click",function(d){return p(s),u(t.onActionButtonApiList(t.tableRowSelected,d))}),M(26,"i",19)(27,"br"),a(),r(28,"p",20),m(29),h(30,"translate"),a()(),P(),T(31,21),r(32,"app-cms-search-list",22),E("optionsChange",function(d){return p(s),y(t.optionsSearch,d)||(t.optionsSearch=d),u(d)}),a(),r(33,"app-cms-statist-list",22),E("optionsChange",function(d){return p(s),y(t.optionsStatist,d)||(t.optionsStatist=d),u(d)}),a(),P(),T(34,23),r(35,"mat-table",24,0),b("matSortChange",function(){p(s);let d=x(36);return u(t.onTableSortData(d))}),T(37,25),v(38,Ed,3,3,"mat-header-cell",26)(39,Td,2,1,"mat-cell",27),P(),T(40,28),v(41,Pd,2,1,"mat-header-cell",26)(42,xd,2,1,"mat-cell",27),P(),T(43,29),v(44,Rd,2,1,"mat-header-cell",26)(45,Dd,4,6,"mat-cell",30),P(),T(46,31),v(47,kd,2,1,"mat-header-cell",26)(48,Ld,2,1,"mat-cell",27),P(),T(49,32),v(50,Vd,3,3,"mat-header-cell",33)(51,Nd,6,1,"mat-cell",34),P(),v(52,Bd,1,0,"mat-header-row",35)(53,Fd,1,2,"mat-row",36),a(),P(),T(54,37),r(55,"mat-paginator",38,1),b("page",function(d){return p(s),u(t.onTablePageingData(d))}),a(),P(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),g("",_(14,26,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),g("",_(18,28,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),g(" ",_(30,30,"ACTION.ROUTES")," "),o(3),A("options",t.optionsSearch),o(),A("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(17),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ve(32,bd)))},dependencies:[qe,O,Fe,Ee,ze,Ke,Je,Xe,Ye,Ze,$e,tt,rt,it,et,at,nt,ot,st,lt,ft,St,ht,gt,F,_t,vt],encapsulation:2});var Qo=Rn;var Gd=["*"];function Od(n,l){if(n&1&&(r(0,"label",14),m(1),a()),n&2){let e=S();c("for",ii("app-cms-site-selector-",e.id)),o(),w(e.optionLabel)}}function Hd(n,l){if(n&1&&(M(0,"img",15),h(1,"cmsthumbnail")),n&2){let e=S();c("src",R(_(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),Me)}}function Wd(n,l){if(n&1&&(M(0,"img",15),h(1,"cmsthumbnail")),n&2){let e=S().$implicit;c("src",R(_(1,2,e.linkMainImageIdSrc)),Me)}}function Ud(n,l){if(n&1&&(r(0,"mat-option",16),v(1,Wd,2,4,"img",5),r(2,"span"),m(3),a()()),n&2){let e=l.$implicit,i=S();c("value",e)("disabled",i.optionDisabled),o(),c("ngIf",e.linkMainImageIdSrc),o(2),w(i.displayOption(e))}}function qd(n,l){n&1&&M(0,"i",17)}function jd(n,l){n&1&&M(0,"i",18)}function Qd(n,l){if(n&1){let e=I();r(0,"i",19),b("click",function(){p(e);let t=S();return u(t.onActionSelectClear())}),a()}}function zd(n,l){n&1&&(r(0,"em"),m(1),h(2,"translate"),a()),n&2&&(o(),g("(",_(2,1,"TITLE.Necessary"),")"))}var Wi=class Wi{constructor(l,e,i,t,s,f){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.categoryService=f;this.id=++Wi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new zt;this.formControl=new Yt;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionSelectForSendMessage=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Ue;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(nn(""),en(1500),tn(),on(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return ve(this,null,function*(){let e=new Y;e.rowPerPage=20,e.accessLoad=!0;let i=new Q;i.propertyName="Title",i.value=l,i.searchType=Qt.Contains,i.clauseType=pi.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new Q,i.propertyName="Id",i.value=l,i.searchType=Qt.Equal,i.clauseType=pi.Or,e.filters.push(i)),this.optionSelectForSendMessage&&(i=new Q,i.propertyName="RecordStatus",i.value=Ne.Available,i.searchType=Qt.Equal,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.get_information_list").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),e.sortColumn="priority",e.sortType=j.Ascending,this.optionAccessDataType&&this.categoryService.setAccessDataType(this.optionAccessDataType),yield Zi(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,this.formControl.setValue(this.dataModelResult.listItems[0]),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe($i(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof zt){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new zt,this.onActionSelectClear(),this.loadOptions()}};Wi.nextId=0,Wi.\u0275fac=function(e){return new(e||Wi)(C(be),C(N),C(V),C(B),C(L),C(Nt))},Wi.\u0275cmp=D({type:Wi,selectors:[["app-sms-apipath-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionSelectForSendMessage:"optionSelectForSendMessage",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionAccessDataType:"optionAccessDataType",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Gd,decls:18,vars:25,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();rn(),r(0,"div",1),M(1,"app-progress-spinner",2),v(2,Od,2,3,"label",3),r(3,"span",4),v(4,Hd,2,4,"img",5),m(5," \xA0"),a(),M(6,"input",6),r(7,"mat-autocomplete",7,0),b("optionSelected",function(f){return p(t),u(i.onActionSelect(f.option.value))}),v(9,Ud,4,4,"mat-option",8),h(10,"async"),a(),v(11,qd,1,0,"i",9)(12,jd,1,0,"i",10)(13,Qd,1,0,"i",11),r(14,"i",12),h(15,"translate"),b("click",function(){return p(t),u(i.onActionButtonReload())}),a(),v(16,zd,3,3,"em",13),an(17),a()}if(e&2){let t=x(8);o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),c("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),c("placeholder",R(i.optionPlaceholder))("id",ii("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Jt("disabled",i.optionDisabled?!0:null),o(),c("displayWith",i.displayFn),o(2),c("ngForOf",_(10,21,i.filteredOptions)),o(2),c("ngIf",!i.formControl.valid),o(),c("ngIf",i.optionRequired&&i.formControl.valid),o(),c("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),X("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),c("title",R(_(15,23,"ACTION.RELOAD"))),o(2),c("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0))}},dependencies:[we,O,z,K,_e,cn,pn,mn,un,yo,J,q,At,F,ct],encapsulation:2});var jt=Wi;var Kd=["vform"];function Jd(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",26),E("modelChange",function(t){p(e);let s=S();return y(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();A("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Xd(n,l){if(n&1){let e=I();r(0,"div",27)(1,"div",28)(2,"h5",29),m(3),a()(),r(4,"div",30)(5,"div",31)(6,"input",32),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.hasInherits,t)||(s.dataModel.hasInherits=t),u(t)}),a(),M(7,"label",33),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle," "),o(3),A("ngModel",e.dataModel.hasInherits)}}function Yd(n,l){if(n&1&&(r(0,"option",34),m(1),a()),n&2){let e=l.$implicit;c("ngValue",e.value),o(),g(" ",e.description," ")}}function Zd(n,l){n&1&&(r(0,"mat-error"),m(1," AccessStatus is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function $d(n,l){if(n&1&&(r(0,"option",34),m(1),a()),n&2){let e=l.$implicit;c("ngValue",e.value),o(),g(" ",e.description," ")}}function ec(n,l){n&1&&(r(0,"mat-error"),m(1," Action is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function tc(n,l){if(n&1){let e=I();r(0,"div",19)(1,"label",35),m(2),h(3,"translate"),a(),r(4,"input",36),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),u(t)}),a(),M(5,"mat-datepicker-toggle",22)(6,"mat-datepicker",23,4),a()}if(n&2){let e=x(7),i=S();o(2),w(_(3,4,"TITLE.Expire_Date")),o(2),A("ngModel",i.dataModel.expireDate),c("matDatepicker",e),o(),c("for",e)}}function ic(n,l){if(n&1){let e=I();r(0,"div",37)(1,"button",38),b("click",function(){p(e);let t=S();return u(t.onFormCancel())}),M(2,"i",39),m(3),h(4,"translate"),a(),r(5,"button",40),M(6,"i",41),m(7),h(8,"translate"),a()()}if(n&2){S();let e=x(9);o(3),g(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var Dn=class Dn extends mt{constructor(e,i,t,s,f,d,k,H){super(s,new oi,d,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiPathPermissionService=s;this.cmsToastrService=f;this.publicHelper=d;this.cdr=k;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new oi;this.formInfo=new ie;this.dataModelEnumApiPathPermissionAccessStatusResult=new G;this.dataModelEnumApiPathPermissionActionResult=new G;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.getEnumApiPathPermissionAccessStatus(),this.getEnumApiPathPermissionAction(),this.DataGetAccess()}getEnumApiPathPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiPathPermissionAccessStatusEnum().subscribe(e=>{this.dataModelEnumApiPathPermissionAccessStatusResult=e})}getEnumApiPathPermissionAction(){this.smsEnumService.ServiceSmsApiPathPermissionActionEnum().subscribe(e=>{this.dataModelEnumApiPathPermissionActionResult=e})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPermissionService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiPathId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiPathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Dn.\u0275fac=function(i){return new(i||Dn)(C(re),C(oe),C(De),C(Si),C(N),C(B),C(V),C(L))},Dn.\u0275cmp=D({type:Dn,selectors:[["app-sms-apipathpermission-add"]],viewQuery:function(i,t){if(i&1&&$(Kd,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:47,vars:49,consts:[["vform","ngForm"],["AccessStatus","ngModel"],["Action","ngModel"],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accessStatus","name","dataModel.accessStatus","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.action","name","dataModel.action","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.hasInherits",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.hasInherits","name","dataModel.hasInherits",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasInherits",1,"custom-control-label"],[3,"ngValue"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",5),M(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),m(4),a(),r(5,"p"),m(6),h(7,"translate"),a(),r(8,"form",9,0),b("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),v(10,Jd,1,5,"app-cms-enum-record-status-selector",10),r(11,"app-cms-user-selector",11),h(12,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCmsUser(d))}),a(),r(13,"app-cms-site-selector",11),h(14,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCmsSite(d))}),a(),r(15,"app-cms-usergroup-selector",11),h(16,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCoreUserGroup(d))}),a(),r(17,"app-cms-sitecategory-selector",11),h(18,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCoreSiteCategory(d))}),a(),r(19,"app-sms-apipath-selector",12),h(20,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorSelectLinkApiPathId(d))}),a(),v(21,Xd,8,2,"div",13),r(22,"div",14)(23,"select",15,1),E("ngModelChange",function(d){return p(s),y(t.dataModel.accessStatus,d)||(t.dataModel.accessStatus=d),u(d)}),v(25,Yd,2,2,"option",16),a(),r(26,"em"),m(27),h(28,"translate"),a(),v(29,Zd,5,3,"mat-error",17),a(),r(30,"div",14)(31,"select",18,2),E("ngModelChange",function(d){return p(s),y(t.dataModel.action,d)||(t.dataModel.action=d),u(d)}),v(33,$d,2,2,"option",16),a(),r(34,"em"),m(35),h(36,"translate"),a(),v(37,ec,5,3,"mat-error",17),a(),r(38,"div",19)(39,"label",20),m(40),a(),r(41,"input",21),E("ngModelChange",function(d){return p(s),y(t.dataModel.fromDate,d)||(t.dataModel.fromDate=d),u(d)}),a(),M(42,"mat-datepicker-toggle",22)(43,"mat-datepicker",23,3),a(),v(45,tc,8,6,"div",24)(46,ic,9,7,"div",25),a()()()}if(i&2){let s=x(24),f=x(32),d=x(44);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",_(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",_(12,35,"TITLE.USER")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreSiteId!=null&&t.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",_(14,37,"TITLE.SITE")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreUserGroupId!=null&&t.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",_(16,39,"TITLE.Type_Usage")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",_(18,41,"TITLE.Site_Type")),o(2),c("optionSelectForce",t.dataModel.linkApiPathId)("optionPlaceholder",_(20,43,"TITLE.Direction")),o(2),c("ngIf",t.fieldsInfo.hasInherits==null?null:t.fieldsInfo.hasInherits.accessWatchField),o(2),A("ngModel",t.dataModel.accessStatus),o(2),c("ngForOf",t.dataModelEnumApiPathPermissionAccessStatusResult.listItems),o(2),g("",_(28,45,"TITLE.Select_type_of_content")," "),o(2),c("ngIf",s.errors==null?null:s.errors.required),o(2),A("ngModel",t.dataModel.action),o(2),c("ngForOf",t.dataModelEnumApiPathPermissionActionResult.listItems),o(2),g("",_(36,47,"TITLE.Select_type_of_content")," "),o(2),c("ngIf",f.errors==null?null:f.errors.required),o(3),w(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),A("ngModel",t.dataModel.fromDate),c("matDatepicker",d),o(),c("for",d),o(3),c("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[we,O,de,Mi,Ci,z,ke,_i,K,se,_e,ne,le,Tt,Pt,xt,pe,wt,J,Ot,ue,Ht,Ct,Wt,q,jt,F],encapsulation:2});var zo=Dn;var nc=["vform"];function oc(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",26),E("modelChange",function(t){p(e);let s=S();return y(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();A("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function rc(n,l){if(n&1){let e=I();r(0,"div",27)(1,"div",28)(2,"h5",29),m(3),a()(),r(4,"div",30)(5,"div",31)(6,"input",32),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.hasInherits,t)||(s.dataModel.hasInherits=t),u(t)}),a(),M(7,"label",33),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle," "),o(3),A("ngModel",e.dataModel.hasInherits)}}function ac(n,l){if(n&1&&(r(0,"option",34),m(1),a()),n&2){let e=l.$implicit;c("ngValue",e.value),o(),g(" ",e.description," ")}}function sc(n,l){n&1&&(r(0,"mat-error"),m(1," AccessStatus is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function lc(n,l){if(n&1&&(r(0,"option",34),m(1),a()),n&2){let e=l.$implicit;c("ngValue",e.value),o(),g(" ",e.description," ")}}function dc(n,l){n&1&&(r(0,"mat-error"),m(1," Action is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function cc(n,l){if(n&1){let e=I();r(0,"div",19)(1,"label",35),m(2),h(3,"translate"),a(),r(4,"input",36),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),u(t)}),a(),M(5,"mat-datepicker-toggle",22)(6,"mat-datepicker",23,4),a()}if(n&2){let e=x(7),i=S();o(2),w(_(3,4,"TITLE.Expire_Date")),o(2),A("ngModel",i.dataModel.expireDate),c("matDatepicker",e),o(),c("for",e)}}function mc(n,l){if(n&1){let e=I();r(0,"div",37)(1,"button",38),b("click",function(){p(e);let t=S();return u(t.onFormCancel())}),M(2,"i",39),m(3),h(4,"translate"),a(),r(5,"button",40),M(6,"i",41),m(7),h(8,"translate"),a()()}if(n&2){S();let e=x(9);o(3),g(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var kn=class kn extends pt{constructor(e,i,t,s,f,d,k,H){super(s,new oi,d,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiPathPermissionService=s;this.cmsToastrService=f;this.publicHelper=d;this.cdr=k;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new je;this.dataModel=new oi;this.formInfo=new ie;this.dataModelEnumApiPathPermissionAccessStatusResult=new G;this.dataModelEnumApiPathPermissionActionResult=new G;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getEnumApiPathPermissionAccessStatus(),this.getEnumApiPathPermissionAction()}getEnumApiPathPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiPathPermissionAccessStatusEnum().subscribe(e=>{this.dataModelEnumApiPathPermissionAccessStatusResult=e})}getEnumApiPathPermissionAction(){this.smsEnumService.ServiceSmsApiPathPermissionActionEnum().subscribe(e=>{this.dataModelEnumApiPathPermissionActionResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPermissionService.setAccessLoad(),this.smsMainApiPathPermissionService.setAccessDataType(Be.Editor),this.smsMainApiPathPermissionService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPermissionService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiPathId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiPathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};kn.\u0275fac=function(i){return new(i||kn)(C(re),C(oe),C(De),C(Si),C(N),C(B),C(V),C(L))},kn.\u0275cmp=D({type:kn,selectors:[["app-sms-apipathpermission-edit"]],viewQuery:function(i,t){if(i&1&&$(nc,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:47,vars:49,consts:[["vform","ngForm"],["AccessStatus","ngModel"],["Action","ngModel"],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accessStatus","name","dataModel.accessStatus","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.action","name","dataModel.action","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.hasInherits",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.hasInherits","name","dataModel.hasInherits",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasInherits",1,"custom-control-label"],[3,"ngValue"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",5),M(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),m(4),a(),r(5,"p"),m(6),h(7,"translate"),a(),r(8,"form",9,0),b("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),v(10,oc,1,5,"app-cms-enum-record-status-selector",10),r(11,"app-cms-user-selector",11),h(12,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCmsUser(d))}),a(),r(13,"app-cms-site-selector",11),h(14,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCmsSite(d))}),a(),r(15,"app-cms-usergroup-selector",11),h(16,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCoreUserGroup(d))}),a(),r(17,"app-cms-sitecategory-selector",11),h(18,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCoreSiteCategory(d))}),a(),r(19,"app-sms-apipath-selector",12),h(20,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorSelectLinkApiPathId(d))}),a(),v(21,rc,8,2,"div",13),r(22,"div",14)(23,"select",15,1),E("ngModelChange",function(d){return p(s),y(t.dataModel.accessStatus,d)||(t.dataModel.accessStatus=d),u(d)}),v(25,ac,2,2,"option",16),a(),r(26,"em"),m(27),h(28,"translate"),a(),v(29,sc,5,3,"mat-error",17),a(),r(30,"div",14)(31,"select",18,2),E("ngModelChange",function(d){return p(s),y(t.dataModel.action,d)||(t.dataModel.action=d),u(d)}),v(33,lc,2,2,"option",16),a(),r(34,"em"),m(35),h(36,"translate"),a(),v(37,dc,5,3,"mat-error",17),a(),r(38,"div",19)(39,"label",20),m(40),a(),r(41,"input",21),E("ngModelChange",function(d){return p(s),y(t.dataModel.fromDate,d)||(t.dataModel.fromDate=d),u(d)}),a(),M(42,"mat-datepicker-toggle",22)(43,"mat-datepicker",23,3),a(),v(45,cc,8,6,"div",24)(46,mc,9,7,"div",25),a()()()}if(i&2){let s=x(24),f=x(32),d=x(44);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",_(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",_(12,35,"TITLE.USER")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreSiteId!=null&&t.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",_(14,37,"TITLE.SITE")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreUserGroupId!=null&&t.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",_(16,39,"TITLE.Type_Usage")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",_(18,41,"TITLE.Site_Type")),o(2),c("optionSelectForce",t.dataModel.linkApiPathId)("optionPlaceholder",_(20,43,"TITLE.Direction")),o(2),c("ngIf",t.fieldsInfo.hasInherits==null?null:t.fieldsInfo.hasInherits.accessWatchField),o(2),A("ngModel",t.dataModel.accessStatus),o(2),c("ngForOf",t.dataModelEnumApiPathPermissionAccessStatusResult.listItems),o(2),g("",_(28,45,"TITLE.Select_type_of_content")," "),o(2),c("ngIf",s.errors==null?null:s.errors.required),o(2),A("ngModel",t.dataModel.action),o(2),c("ngForOf",t.dataModelEnumApiPathPermissionActionResult.listItems),o(2),g("",_(36,47,"TITLE.Select_type_of_content")," "),o(2),c("ngIf",f.errors==null?null:f.errors.required),o(3),w(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),A("ngModel",t.dataModel.fromDate),c("matDatepicker",d),o(),c("for",d),o(3),c("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[we,O,de,Mi,Ci,z,ke,_i,K,se,_e,ne,le,Tt,Pt,xt,pe,wt,J,Ot,ue,Ht,Ct,Wt,q,jt,F],encapsulation:2});var Ko=kn;var Ln=class Ln{constructor(l,e,i,t,s,f,d,k){this.headerService=l;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.dialog=s;this.translate=f;this.cmsStoreService=d;this.tokenHelper=k;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new G;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>ve(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};Ln.\u0275fac=function(e){return new(e||Ln)(C(Nt),C(B),C(V),C(N),C(Te),C(L),C(Pe),C(xe))},Ln.\u0275cmp=D({type:Ln,selectors:[["app-sms-apipath-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:31,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(r(0,"div",0),M(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),M(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),m(10),h(11,"translate"),a()()(),M(12,"div",8),a(),r(13,"div",4)(14,"div",5)(15,"b"),m(16),a(),m(17,": "),a(),r(18,"div",9),m(19),a(),M(20,"div",10)(21,"div",11),a(),r(22,"div",4)(23,"div",5)(24,"b"),m(25),a(),m(26,": "),a(),r(27,"div",9),m(28),a(),M(29,"div",11),a()()()(),M(30,"div",12)),e&2&&(o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(5),c("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),g(" ",_(11,7,"TITLE.Selected_Route")," "),o(6),g("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),w(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),g("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," "),o(3),w(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[q,ko,F],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Vn=Ln;var pc=()=>["expandedDetail"],uc=()=>[5,10,20,100],fc=n=>({display:n});function Sc(n,l){if(n&1&&M(0,"app-sms-apipath-header",46),n&2){let e=S();c("optionId",e.requestLinkApiPathId)}}function hc(n,l){if(n&1){let e=I();r(0,"a",47),b("click",function(){p(e);let t=S();return u(t.onActionBackToParent())}),M(1,"i",48),a()}}function gc(n,l){if(n&1){let e=I();r(0,"div",49)(1,"a",50),b("click",function(){p(e);let t=S();return u(t.onActionButtonNewRow())}),M(2,"i",51)(3,"br"),a(),r(4,"p",52),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.ADD")," "))}function _c(n,l){if(n&1){let e=I();r(0,"div",49)(1,"a",53),b("click",function(){p(e);let t=S();return u(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",54)(3,"br"),a(),r(4,"p",52),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.EDIT")," "))}function Mc(n,l){if(n&1){let e=I();r(0,"div",49)(1,"a",55),b("click",function(){p(e);let t=S();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",56)(3,"br"),a(),r(4,"p",52),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.DELETE")," "))}function Cc(n,l){if(n&1&&(r(0,"mat-header-cell",57),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function vc(n,l){if(n&1&&(r(0,"mat-cell"),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.id," ")}}function bc(n,l){if(n&1&&(r(0,"mat-header-cell",57),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ic(n,l){if(n&1&&(r(0,"mat-cell",58),h(1,"statusCellClass"),M(2,"i",58),h(3,"statusIconClass"),a()),n&2){let e=l.$implicit;c("ngClass",_(1,2,e.recordStatus)),o(2),c("ngClass",_(3,4,e.recordStatus))}}function Ac(n,l){if(n&1&&(r(0,"mat-header-cell",57),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.linkApiPathId==null?null:e.fieldsInfo.linkApiPathId.fieldTitle," ")}}function yc(n,l){if(n&1&&(r(0,"mat-cell"),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.linkApiPathId," ")}}function Ec(n,l){if(n&1&&(r(0,"mat-header-cell",57),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle," ")}}function wc(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",_(2,1,e.fromDate)," ")}}function Tc(n,l){if(n&1&&(r(0,"mat-header-cell",57),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Pc(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",_(2,1,e.expireDate)," ")}}function xc(n,l){if(n&1&&(r(0,"mat-header-cell",57),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Rc(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",_(2,1,e.createdDate)," ")}}function Dc(n,l){if(n&1&&(r(0,"mat-header-cell",57),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function kc(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",_(2,1,e.updatedDate)," ")}}function Lc(n,l){if(n&1&&(r(0,"mat-header-cell",59),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.hasAccess==null?null:e.fieldsInfo.hasAccess.fieldTitle," ")}}function Vc(n,l){if(n&1&&(r(0,"mat-cell"),M(1,"i",58),h(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),c("ngClass",_(2,1,e.hasAccess))}}function Nc(n,l){if(n&1&&(r(0,"mat-header-cell",59),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle," ")}}function Bc(n,l){if(n&1&&(r(0,"mat-cell"),M(1,"i",58),h(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),c("ngClass",_(2,1,e.hasInherits))}}function Fc(n,l){n&1&&(r(0,"mat-header-cell"),m(1),h(2,"translate"),a()),n&2&&(o(),g(" ",_(2,1,"TITLE.OPTION")," "))}function Gc(n,l){if(n&1&&(r(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),m(3,"more_vert"),a()(),M(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),c("matMenuTriggerFor",e)}}function Oc(n,l){if(n&1&&(r(0,"tr"),M(1,"td"),r(2,"td"),m(3),h(4,"cmsuserinfo"),h(5,"async"),a()()),n&2){let e=S().$implicit,i=S();o(3),Ce(" ",i.fieldsInfo.linkCoreUserId==null?null:i.fieldsInfo.linkCoreUserId.fieldTitle," : ",_(5,4,_(4,2,e.linkCoreUserId))," ")}}function Hc(n,l){if(n&1&&(r(0,"tr"),M(1,"td"),r(2,"td"),m(3),h(4,"cmssiteinfo"),h(5,"async"),a()()),n&2){let e=S().$implicit,i=S();o(3),Ce(" ",i.fieldsInfo.linkCoreSiteId==null?null:i.fieldsInfo.linkCoreSiteId.fieldTitle," : ",_(5,4,_(4,2,e.linkCoreSiteId))," ")}}function Wc(n,l){if(n&1&&(r(0,"tr"),M(1,"td"),r(2,"td"),m(3),a()()),n&2){let e=S().$implicit,i=S();o(3),Ce(" ",i.fieldsInfo.linkCoreUserGroupId==null?null:i.fieldsInfo.linkCoreUserGroupId.fieldTitle," : ",e.linkCoreUserGroupId," ")}}function Uc(n,l){if(n&1&&(r(0,"tr"),M(1,"td"),r(2,"td"),m(3),a()()),n&2){let e=S().$implicit,i=S();o(3),Ce(" ",i.fieldsInfo.linkCoreSiteCategoryId==null?null:i.fieldsInfo.linkCoreSiteCategoryId.fieldTitle," : ",e.linkCoreSiteCategoryId," ")}}function qc(n,l){if(n&1&&(r(0,"tr"),M(1,"td"),r(2,"td"),m(3),h(4,"localeDate"),a()()),n&2){let e=S().$implicit,i=S();o(3),Ce(" ",i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle," : ",_(4,2,e.fromDate)," ")}}function jc(n,l){if(n&1&&(r(0,"tr"),M(1,"td"),r(2,"td"),m(3),h(4,"localeDate"),a()()),n&2){let e=S().$implicit,i=S();o(3),Ce(" ",i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle," : ",_(4,2,e.expireDate)," ")}}function Qc(n,l){if(n&1&&(r(0,"tr"),M(1,"td"),r(2,"td"),m(3),h(4,"localeDate"),a()()),n&2){let e=S().$implicit,i=S();o(3),Ce(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle," : ",_(4,2,e.createdDate)," ")}}function zc(n,l){if(n&1&&(r(0,"tr"),M(1,"td"),r(2,"td"),m(3),h(4,"localeDate"),a()()),n&2){let e=S().$implicit,i=S();o(3),Ce(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",_(4,2,e.updatedDate)," ")}}function Kc(n,l){if(n&1&&(r(0,"mat-cell")(1,"div")(2,"table"),v(3,Oc,6,6,"tr",62)(4,Hc,6,6,"tr",62)(5,Wc,4,2,"tr",62)(6,Uc,4,2,"tr",62)(7,qc,5,4,"tr",62)(8,jc,5,4,"tr",62)(9,Qc,5,4,"tr",62)(10,zc,5,4,"tr",62),r(11,"tr"),M(12,"td")(13,"td"),a()()()()),n&2){let e=l.$implicit;o(3),c("ngIf",e.linkCoreUserId),o(),c("ngIf",e.linkCoreSiteId),o(),c("ngIf",e.linkCoreUserGroupId),o(),c("ngIf",e.linkCoreSiteCategoryId),o(),c("ngIf",e.fromDate),o(),c("ngIf",e.expireDate),o(),c("ngIf",e.createdDate),o(),c("ngIf",e.updatedDate)}}function Jc(n,l){n&1&&M(0,"mat-header-row")}function Xc(n,l){if(n&1){let e=I();r(0,"mat-row",63),b("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Yc(n,l){if(n&1){let e=I();r(0,"mat-row",64),b("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=p(e).$implicit,s=S();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,s=S();return u(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),c("ngStyle",ci(3,fc,e.expanded===!0?"":"none"))}}var Nn=class Nn extends ut{constructor(e,i,t,s,f,d,k,H,kt,Kt,It,ti){super(e,new oi,It,d,H);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=s;this.router=f;this.tokenHelper=d;this.cdr=k;this.translate=H;this.cmsStoreService=kt;this.pageInfo=Kt;this.publicHelper=It;this.dialog=ti;this.requestLinkApiPathId="";this.requestLinkCoreUserId=0;this.requestLinkCoreSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["RecordStatus","linkApiPathId","hasAccess","hasInherits","fromDate","expireDate"];this.tabledisplayedColumnsMobileSource=["RecordStatus","linkApiPathId","hasAccess","hasInherits","fromDate","expireDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ae=>this.onSubmitOptionsSearch(ae)},this.requestLinkCoreUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkCoreSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId"),this.requestLinkCoreUserId>0){let ae=new Q;ae.propertyName="LinkCoreUserId",ae.value=this.requestLinkCoreUserId,this.filteModelContent.filters.push(ae)}if(this.requestLinkApiPathId?.length>0){let ae=new Q;ae.propertyName="LinkApiPathId",ae.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(ae)}this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=j.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ve(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new oi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new Q;t.propertyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(zo,{height:"90%",panelClass:e,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ko,{height:"90%",panelClass:i,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(f,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(t,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Q;f.propertyName="RecordStatus",f.value=Ne.Available,s.filters.push(f),this.contentService.ServiceGetCount(s).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};Nn.\u0275fac=function(i){return new(i||Nn)(C(Si),C(N),C(Et),C(He),C(Qe),C(xe),C(V),C(L),C(Pe),C(dt),C(B),C(Te))},Nn.\u0275cmp=D({type:Nn,selectors:[["app-sms-apipathpermission-list"]],standalone:!1,features:[W],decls:70,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkApiPathId"],["matColumnDef","fromDate"],["matColumnDef","expireDate"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","hasAccess"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","hasInherits"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["mat-sort-header","",1,"form-label"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[4,"ngIf"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=I();v(0,Sc,1,1,"app-sms-apipath-header",3),r(1,"app-cms-html-list",4),E("optionActionGuideNoticeDisplayChange",function(d){return p(s),y(t.viewGuideNotice,d)||(t.viewGuideNotice=d),u(d)}),b("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),T(2,5),r(3,"app-sms-apipath-tree",6),b("optionChange",function(d){return p(s),u(t.onActionSelectorSelect(d))}),a(),P(),Le(4,7)(5,8),T(6,9),v(7,hc,2,0,"a",10),r(8,"a",11),b("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),M(9,"i",12),a(),r(10,"a",11),b("click",function(){return p(s),u(t.onActionButtonReload())}),M(11,"i",13),a(),P(),T(12,14),r(13,"a",15),b("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),M(14,"mat-slide-toggle",16),m(15),h(16,"translate"),a(),r(17,"a",15),b("click",function(){return p(s),u(t.onActionButtonStatist())}),M(18,"mat-slide-toggle",16),m(19),h(20,"translate"),a(),P(),T(21,17),v(22,gc,7,3,"div",18),P(),T(23,19),v(24,_c,7,3,"div",18)(25,Mc,7,3,"div",18),P(),T(26,20),r(27,"app-cms-search-list",21),E("optionsChange",function(d){return p(s),y(t.optionsSearch,d)||(t.optionsSearch=d),u(d)}),a(),r(28,"app-cms-statist-list",21),E("optionsChange",function(d){return p(s),y(t.optionsStatist,d)||(t.optionsStatist=d),u(d)}),a(),P(),T(29,22),r(30,"mat-table",23,0),b("matSortChange",function(){p(s);let d=x(31);return u(t.onTableSortData(d))}),T(32,24),v(33,Cc,2,1,"mat-header-cell",25)(34,vc,2,1,"mat-cell",26),P(),T(35,27),v(36,bc,2,1,"mat-header-cell",25)(37,Ic,4,6,"mat-cell",28),P(),T(38,29),v(39,Ac,2,1,"mat-header-cell",25)(40,yc,2,1,"mat-cell",26),P(),T(41,30),v(42,Ec,2,1,"mat-header-cell",25)(43,wc,3,3,"mat-cell",26),P(),T(44,31),v(45,Tc,2,1,"mat-header-cell",25)(46,Pc,3,3,"mat-cell",26),P(),T(47,32),v(48,xc,2,1,"mat-header-cell",25)(49,Rc,3,3,"mat-cell",26),P(),T(50,33),v(51,Dc,2,1,"mat-header-cell",25)(52,kc,3,3,"mat-cell",26),P(),T(53,34),v(54,Lc,2,1,"mat-header-cell",35)(55,Vc,3,3,"mat-cell",26),P(),T(56,36),v(57,Nc,2,1,"mat-header-cell",35)(58,Bc,3,3,"mat-cell",26),P(),T(59,37),v(60,Fc,3,3,"mat-header-cell",38)(61,Gc,6,1,"mat-cell",39),P(),T(62,40),v(63,Kc,14,8,"mat-cell",26),P(),v(64,Jc,1,0,"mat-header-row",41)(65,Xc,1,2,"mat-row",42)(66,Yc,1,5,"mat-row",43),a(),P(),T(67,44),r(68,"mat-paginator",45,1),b("page",function(d){return p(s),u(t.onTablePageingData(d))}),a(),P(),a()}i&2&&(c("ngIf",(t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0),o(),c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!t.requestLinkApiPathId||t.requestLinkApiPathId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),c("ngIf",(t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0),o(4),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),g("",_(16,28,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),g("",_(20,30,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),A("options",t.optionsSearch),o(),A("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(34),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(),c("matRowDefColumns",Ve(32,pc)),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ve(33,uc)))},dependencies:[qe,O,mi,Fe,Ee,ze,Ke,Je,Xe,Ye,Ze,$e,tt,rt,it,et,at,nt,ot,st,lt,ft,St,ht,gt,Sn,Vn,At,F,fn,wi,Rt,_t,vt,Lo],encapsulation:2});var Ji=Nn;function Zc(n,l){if(n&1){let e=I();r(0,"li")(1,"mat-checkbox",1),b("change",function(){let t=p(e).$implicit,s=S();return u(s.onActionSelect(t))}),m(2),a()()}if(n&2){let e=l.$implicit,i=S();o(),c("checked",i.fieldsStatus.get(e.value))("disabled",i.optionDisabled),o(),g(" ",e.title," ")}}var Ui=class Ui{constructor(l){this.translate=l;this.id=++Ui.nextId;this.modelChange=new Ue;this.dataModelResult=new G;this.optionDisabled=!1;this.optionLabel="";this.optionRequired=!1;this.dataIdsSelect=[];this.formControl=new Yt;this.fieldsStatus=new Map;this.optionPlaceholder="";this.optionSelectAdded=new Ue;this.optionSelectRemoved=new Ue;this.optionReload=()=>this.onActionButtonReload()}set model(l){this.onActionSelectForce(l)}set optionDataListResult(l){this.dataModelResult=l,this.dataModelResult.listItems.forEach(e=>this.fieldsStatus.set(e.value,!1)),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0)),this.dataModelResult.listItems.forEach(e=>{this.fieldsStatus.get(e.value)&&this.dataIdsSelect.push(e.value)})}ngOnInit(){}onActionSelect(l){this.fieldsStatus.get(l.value)?(this.fieldsStatus.set(l.value,!1),this.optionSelectRemoved.emit(l),this.dataIdsSelect.splice(this.dataIdsSelect.indexOf(l.value),1)):(this.fieldsStatus.set(l.value,!0),this.optionSelectAdded.emit(l),this.dataIdsSelect.push(l.value)),this.modelChange.emit(this.dataIdsSelect)}onActionSelectForce(l){typeof l==typeof Array(Number)?l.forEach(e=>{this.dataIdsSelect.indexOf(e)<0&&this.dataIdsSelect.push(e)}):typeof l==typeof Array(Ir)&&l.forEach(e=>{this.dataIdsSelect.push(e.value)}),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){}};Ui.nextId=0,Ui.\u0275fac=function(e){return new(e||Ui)(C(L))},Ui.\u0275cmp=D({type:Ui,selectors:[["app-cms-enum-x-selectionlist"]],inputs:{model:"model",optionDisabled:"optionDisabled",optionLabel:"optionLabel",optionRequired:"optionRequired",optionDataListResult:"optionDataListResult",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload"},outputs:{modelChange:"modelChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(e,i){e&1&&(r(0,"ul"),v(1,Zc,3,3,"li",0),a()),e&2&&(o(),c("ngForOf",i.dataModelResult.listItems))},dependencies:[we,Eo],encapsulation:2});var Bn=Ui;var em=["vform"];function tm(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",34),E("modelChange",function(t){p(e);let s=S();return y(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();A("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function im(n,l){n&1&&M(0,"i",35)}function nm(n,l){n&1&&M(0,"i",36)}function om(n,l){n&1&&(r(0,"mat-error"),m(1," Title is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function rm(n,l){if(n&1){let e=I();r(0,"app-cms-enum-x-selector",37),E("modelChange",function(t){p(e);let s=S();return y(s.dataModel.messageType,t)||(s.dataModel.messageType=t),u(t)}),a()}if(n&2){let e=S();c("optionDataListResult",e.dataModelSmsMessageTypeEnumResult),A("model",e.dataModel.messageType),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.messageType==null?null:e.fieldsInfo.messageType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function am(n,l){if(n&1){let e=I();r(0,"div",38)(1,"div",39)(2,"h5",40),m(3),a()(),r(4,"div",41)(5,"div",42)(6,"input",43),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.serviceDeliveryCostBase,t)||(s.dataModel.serviceDeliveryCostBase=t),u(t)}),a(),M(7,"label",44),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.serviceDeliveryCostBase==null?null:e.fieldsInfo.serviceDeliveryCostBase.fieldTitle," "),o(3),A("ngModel",e.dataModel.serviceDeliveryCostBase)}}function sm(n,l){if(n&1){let e=I();r(0,"div",38)(1,"div",39)(2,"h5",45),m(3),a()(),r(4,"div",41)(5,"div",42)(6,"input",46),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.endUserDeliveryCostBase,t)||(s.dataModel.endUserDeliveryCostBase=t),u(t)}),a(),M(7,"label",47),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.endUserDeliveryCostBase==null?null:e.fieldsInfo.endUserDeliveryCostBase.fieldTitle," "),o(3),A("ngModel",e.dataModel.endUserDeliveryCostBase)}}function lm(n,l){if(n&1){let e=I();r(0,"div",14)(1,"label",48),m(2),a(),r(3,"input",49,6),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.servicePricePerPage,t)||(s.dataModel.servicePricePerPage=t),u(t)}),a()()}if(n&2){let e=S();o(2),w(e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle),o(),A("ngModel",e.dataModel.servicePricePerPage),c("disabled",!(e.fieldsInfo.servicePricePerPage!=null&&e.fieldsInfo.servicePricePerPage.accessAddField))}}function dm(n,l){if(n&1){let e=I();r(0,"div",14)(1,"label",50),m(2),a(),r(3,"input",51,7),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.endUserPricePerPage,t)||(s.dataModel.endUserPricePerPage=t),u(t)}),a()()}if(n&2){let e=S();o(2),w(e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle),o(),A("ngModel",e.dataModel.endUserPricePerPage),c("disabled",!(e.fieldsInfo.endUserPricePerPage!=null&&e.fieldsInfo.endUserPricePerPage.accessAddField))}}function cm(n,l){if(n&1){let e=I();r(0,"mat-chip",52),b("removed",function(){let t=p(e).$implicit,s=S();return u(s.removeTagRegulatorNumberList(t))}),r(1,"div",53),m(2),a(),r(3,"button",54)(4,"mat-icon"),m(5,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(2),w(e)}}function mm(n,l){if(n&1&&(r(0,"div"),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e," ")}}function pm(n,l){if(n&1){let e=I();r(0,"mat-chip",52),b("removed",function(){let t=p(e).$implicit,s=S();return u(s.removeTagServicePagination(t))}),m(1),r(2,"button",54)(3,"mat-icon"),m(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),g(" ",e," ")}}function um(n,l){if(n&1&&(r(0,"div"),m(1),a()),n&2){let e=l.$implicit,i=l.index;o(),Ce(" ",i+1," - ",e," ")}}function fm(n,l){if(n&1){let e=I();r(0,"mat-chip",52),b("removed",function(){let t=p(e).$implicit,s=S();return u(s.removeTagEndUserPagination(t))}),m(1),r(2,"button",54)(3,"mat-icon"),m(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),g(" ",e," ")}}function Sm(n,l){if(n&1&&(r(0,"div"),m(1),a()),n&2){let e=l.$implicit,i=l.index;o(),Ce(" ",i+1," - ",e," ")}}function hm(n,l){if(n&1){let e=I();r(0,"app-cms-enum-x-selectionlist",55),E("modelChange",function(t){p(e);let s=S();return y(s.dataModel.outBoxTypeList,t)||(s.dataModel.outBoxTypeList=t),u(t)}),a()}if(n&2){let e=S();c("optionDataListResult",e.dataModelSmsOutBoxTypeEnumResult),A("model",e.dataModel.outBoxTypeList),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.outBoxTypeJson==null?null:e.fieldsInfo.outBoxTypeJson.fieldTitle)("optionRequired",!0)}}function gm(n,l){if(n&1){let e=I();r(0,"div",56)(1,"button",57),b("click",function(){p(e);let t=S();return u(t.onFormCancel())}),M(2,"i",58),m(3),h(4,"translate"),a(),r(5,"button",59),M(6,"i",60),m(7),h(8,"translate"),a()()}if(n&2){S();let e=x(9);o(3),g(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var Fn=class Fn extends mt{constructor(e,i,t,s,f,d,k,H){super(s,new ri,d,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiPathPriceServiceService=s;this.cmsToastrService=f;this.publicHelper=d;this.cdr=k;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.requestId="";this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new ri;this.formInfo=new ie;this.dataModelSmsMessageTypeEnumResult=new G;this.dataModelSmsOutBoxTypeEnumResult=new G;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(e.linkApiPathId?.length>0&&(this.dataModel.linkApiPathId=e.linkApiPathId),e.id&&(this.requestId=e.id))}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.requestId?this.DataGetOneContent():this.DataGetAccess(),this.getSmsMessageTypeEnum(),this.getSmsOutBoxTypeEnum()}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPriceServiceService.setAccessLoad(),this.smsMainApiPathPriceServiceService.setAccessDataType(Be.Editor),this.smsMainApiPathPriceServiceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.dataModel.title=this.dataModel.title+" (COPY)",this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPriceServiceService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiPathId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiPathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTagRegulatorNumberList(e){let i=(e.value||"").trim();this.dataModel.regulatorNumberList||(this.dataModel.regulatorNumberList=[]),i&&this.dataModel.regulatorNumberList.push(i),e.chipInput.clear()}removeTagRegulatorNumberList(e){let i=this.dataModel.regulatorNumberList.indexOf(e);i>=0&&this.dataModel.regulatorNumberList.splice(i,1)}addTagServicePagination(e){var t=+(e.value||"").trim()||-1;this.dataModel.serviceMessageLengthPaginationList||(this.dataModel.serviceMessageLengthPaginationList=[]),t>=0&&this.dataModel.serviceMessageLengthPaginationList.push(t),e.chipInput.clear()}removeTagServicePagination(e){let i=this.dataModel.serviceMessageLengthPaginationList.indexOf(e);i>=0&&this.dataModel.serviceMessageLengthPaginationList.splice(i,1)}addTagEndUserPagination(e){let i=(e.value||"").trim();this.dataModel.endUserMessageLengthPaginationList||(this.dataModel.endUserMessageLengthPaginationList=[]);var t=+i||-1;t>=0&&this.dataModel.endUserMessageLengthPaginationList.push(t),e.chipInput.clear()}removeTagEndUserPagination(e){let i=this.dataModel.endUserMessageLengthPaginationList.indexOf(e);i>=0&&this.dataModel.endUserMessageLengthPaginationList.splice(i,1)}};Fn.\u0275fac=function(i){return new(i||Fn)(C(re),C(oe),C(De),C(dn),C(N),C(B),C(V),C(L))},Fn.\u0275cmp=D({type:Fn,selectors:[["app-sms-apipathpriceservice-add"]],viewQuery:function(i,t){if(i&1&&$(em,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:98,vars:96,consts:[["vform","ngForm"],["Title",""],["chipListRegulatorNumberList",""],["tagInput",""],["chipListServicePagination",""],["chipListEndUserPagination",""],["servicePricePerPage",""],["endUserPricePerPage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"divider","mt-3","mb-3"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.Number'|translate"],[3,"removed",4,"ngFor","ngForOf"],[1,"input-ltr",3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","modelChange",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.serviceDeliveryCostBase",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.serviceDeliveryCostBase","name","dataModel.serviceDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.serviceDeliveryCostBase",1,"custom-control-label"],["data-trigger-switch","dataModel.endUserDeliveryCostBase",1,"font-600","font-14"],["type","checkbox","id","dataModel.endUserDeliveryCostBase","name","dataModel.endUserDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.endUserDeliveryCostBase",1,"custom-control-label"],["for","dataModel.servicePricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.servicePricePerPage","placeholder","0","id","dataModel.servicePricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.endUserPricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.endUserPricePerPage","placeholder","0","id","dataModel.endUserPricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[3,"removed"],[1,"input-ltr"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",8),M(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),m(4),a(),r(5,"p"),m(6),h(7,"translate"),a(),r(8,"form",12,0),b("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),v(10,tm,1,5,"app-cms-enum-record-status-selector",13),r(11,"div",14)(12,"label",15),m(13),a(),r(14,"input",16,1),E("ngModelChange",function(d){return p(s),y(t.dataModel.title,d)||(t.dataModel.title=d),u(d)}),a(),v(16,im,1,0,"i",17)(17,nm,1,0,"i",18),r(18,"em"),m(19),a(),v(20,om,5,3,"mat-error",19),a(),r(21,"app-sms-apipath-selector",20),h(22,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorSelectLinkApiPathId(d))}),v(23,rm,1,6,"app-cms-enum-x-selector",21),a(),r(24,"app-cms-user-selector",22),h(25,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCmsUser(d))}),a(),r(26,"app-cms-site-selector",22),h(27,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCmsSite(d))}),a(),r(28,"app-cms-usergroup-selector",22),h(29,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCoreUserGroup(d))}),a(),r(30,"app-cms-sitecategory-selector",22),h(31,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCoreSiteCategory(d))}),a(),M(32,"div",23),v(33,am,8,2,"div",24)(34,sm,8,2,"div",24),M(35,"div",23),v(36,lm,5,3,"div",25)(37,dm,5,3,"div",25),r(38,"b"),m(39),h(40,"translate"),a(),r(41,"mat-form-field",26)(42,"mat-label"),m(43),h(44,"translate"),a(),r(45,"mat-chip-grid",27,2),v(47,cm,6,1,"mat-chip",28),r(48,"input",29,3),h(50,"translate"),b("matChipInputTokenEnd",function(d){return p(s),u(t.addTagRegulatorNumberList(d))}),a()()(),m(51," \u0645\u062B\u0627\u0644 :00983 009715 0098930 "),r(52,"div"),m(53),h(54,"translate"),M(55,"br"),v(56,mm,2,1,"div",30),a(),M(57,"br"),r(58,"b"),m(59),h(60,"translate"),a(),r(61,"mat-form-field",26)(62,"mat-label"),m(63),h(64,"translate"),a(),r(65,"mat-chip-grid",27,4),v(67,pm,5,1,"mat-chip",28),r(68,"input",31,3),h(70,"translate"),b("matChipInputTokenEnd",function(d){return p(s),u(t.addTagServicePagination(d))}),a()()(),r(71,"div"),m(72),h(73,"translate"),M(74,"br"),v(75,um,2,2,"div",30),a(),M(76,"br"),r(77,"b"),m(78),h(79,"translate"),a(),r(80,"mat-form-field",26)(81,"mat-label"),m(82),h(83,"translate"),a(),r(84,"mat-chip-grid",27,5),v(86,fm,5,1,"mat-chip",28),r(87,"input",31,3),h(89,"translate"),b("matChipInputTokenEnd",function(d){return p(s),u(t.addTagEndUserPagination(d))}),a()()(),r(90,"div"),m(91),h(92,"translate"),M(93,"br"),v(94,Sm,2,2,"div",30),a(),M(95,"br"),v(96,hm,1,5,"app-cms-enum-x-selectionlist",32)(97,gm,9,7,"div",33),a()()()}if(i&2){let s=x(15),f=x(46),d=x(66),k=x(85);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",_(7,60,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(3),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),c("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),A("ngModel",t.dataModel.title),o(2),c("ngIf",!s.value),o(),c("ngIf",s.value),o(2),g("",s.value.length," / 100"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(),c("optionSelectForce",t.dataModel.linkApiPathId)("optionPlaceholder",_(22,62,"TITLE.Direction")),o(2),c("ngIf",t.fieldsInfo.messageType==null?null:t.fieldsInfo.messageType.accessWatchField),o(),c("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",_(25,64,"TITLE.USER")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreSiteId!=null&&t.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",_(27,66,"TITLE.SITE")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreUserGroupId!=null&&t.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",_(29,68,"TITLE.Type_Usage")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",_(31,70,"TITLE.Site_Type")),o(3),c("ngIf",t.fieldsInfo.serviceDeliveryCostBase==null?null:t.fieldsInfo.serviceDeliveryCostBase.accessWatchField),o(),c("ngIf",t.fieldsInfo.endUserDeliveryCostBase==null?null:t.fieldsInfo.endUserDeliveryCostBase.accessWatchField),o(2),c("ngIf",t.fieldsInfo.servicePricePerPage==null?null:t.fieldsInfo.servicePricePerPage.accessWatchField),o(),c("ngIf",t.fieldsInfo.endUserPricePerPage==null?null:t.fieldsInfo.endUserPricePerPage.accessWatchField),o(2),w(_(40,72,"TITLE.ACCEPTABLE_PREFIXES")),o(4),w(_(44,74,"TITLE.ACCEPTABLE_PREFIXES")),o(4),c("ngForOf",t.dataModel.regulatorNumberList),o(),c("placeholder",_(50,76,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",f)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(5),g(" ",_(54,78,"TITLE.ACCEPTABLE_PREFIXES")," "),o(3),c("ngForOf",t.dataModel.regulatorNumberList),o(3),w(_(60,80,"TITLE.PROVIDER_PAGINATION")),o(4),w(_(64,82,"TITLE.PROVIDER_PAGINATION")),o(4),c("ngForOf",t.dataModel.serviceMessageLengthPaginationList),o(),c("placeholder",_(70,84,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",d)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),g(" ",_(73,86,"TITLE.PROVIDER_PAGINATION")," "),o(3),c("ngForOf",t.dataModel.serviceMessageLengthPaginationList),o(3),w(_(79,88,"TITLE.RECIPIENT_PAGINATION")),o(4),w(_(83,90,"TITLE.RECIPIENT_PAGINATION")),o(4),c("ngForOf",t.dataModel.endUserMessageLengthPaginationList),o(),c("placeholder",_(89,92,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",k)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),g(" ",_(92,94,"TITLE.RECIPIENT_PAGINATION")," "),o(3),c("ngForOf",t.dataModel.endUserMessageLengthPaginationList),o(2),c("ngIf",t.fieldsInfo.outBoxTypeJson==null?null:t.fieldsInfo.outBoxTypeJson.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[we,O,de,z,Zt,ke,K,se,_e,Ae,ye,ne,le,Ai,yi,Ei,Ii,bi,vi,pe,Ee,J,Ot,ue,Bo,Bn,Ht,Ct,Wt,q,$t,jt,F],encapsulation:2});var uo=Fn;var _m=["vform"];function Mm(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",28),E("modelChange",function(t){p(e);let s=S();return y(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();A("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Cm(n,l){n&1&&M(0,"i",35)}function vm(n,l){n&1&&M(0,"i",36)}function bm(n,l){n&1&&(r(0,"mat-error"),m(1," Title is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function Im(n,l){if(n&1){let e=I();r(0,"div",29)(1,"label",30),m(2),a(),r(3,"input",31,5),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),a(),v(5,Cm,1,0,"i",32)(6,vm,1,0,"i",33),r(7,"em"),m(8),a(),v(9,bm,5,3,"mat-error",34),a()}if(n&2){let e=x(4),i=S();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),A("ngModel",i.dataModel.title),c("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Am(n,l){if(n&1){let e=I();r(0,"app-cms-enum-x-selector",37),E("modelChange",function(t){p(e);let s=S();return y(s.dataModel.messageType,t)||(s.dataModel.messageType=t),u(t)}),a()}if(n&2){let e=S();c("optionDataListResult",e.dataModelSmsMessageTypeEnumResult),A("model",e.dataModel.messageType),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.messageType==null?null:e.fieldsInfo.messageType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ym(n,l){if(n&1){let e=I();r(0,"div",38)(1,"div",39)(2,"h5",40),m(3),a()(),r(4,"div",41)(5,"div",42)(6,"input",43),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.serviceDeliveryCostBase,t)||(s.dataModel.serviceDeliveryCostBase=t),u(t)}),a(),M(7,"label",44),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.serviceDeliveryCostBase==null?null:e.fieldsInfo.serviceDeliveryCostBase.fieldTitle," "),o(3),A("ngModel",e.dataModel.serviceDeliveryCostBase)}}function Em(n,l){if(n&1){let e=I();r(0,"div",38)(1,"div",39)(2,"h5",45),m(3),a()(),r(4,"div",41)(5,"div",42)(6,"input",46),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.endUserDeliveryCostBase,t)||(s.dataModel.endUserDeliveryCostBase=t),u(t)}),a(),M(7,"label",47),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.endUserDeliveryCostBase==null?null:e.fieldsInfo.endUserDeliveryCostBase.fieldTitle," "),o(3),A("ngModel",e.dataModel.endUserDeliveryCostBase)}}function wm(n,l){if(n&1){let e=I();r(0,"div",29)(1,"label",48),m(2),a(),r(3,"input",49,6),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.servicePricePerPage,t)||(s.dataModel.servicePricePerPage=t),u(t)}),a()()}if(n&2){let e=S();o(2),w(e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle),o(),A("ngModel",e.dataModel.servicePricePerPage),c("disabled",!(e.fieldsInfo.servicePricePerPage!=null&&e.fieldsInfo.servicePricePerPage.accessEditField))}}function Tm(n,l){if(n&1){let e=I();r(0,"div",29)(1,"label",50),m(2),a(),r(3,"input",51,7),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.endUserPricePerPage,t)||(s.dataModel.endUserPricePerPage=t),u(t)}),a()()}if(n&2){let e=S();o(2),w(e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle),o(),A("ngModel",e.dataModel.endUserPricePerPage),c("disabled",!(e.fieldsInfo.endUserPricePerPage!=null&&e.fieldsInfo.endUserPricePerPage.accessEditField))}}function Pm(n,l){if(n&1){let e=I();r(0,"mat-chip",52),b("removed",function(){let t=p(e).$implicit,s=S();return u(s.removeTagRegulatorNumberList(t))}),r(1,"div",53),m(2),a(),r(3,"button",54)(4,"mat-icon"),m(5,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(2),w(e)}}function xm(n,l){if(n&1&&(r(0,"div"),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e," ")}}function Rm(n,l){if(n&1){let e=I();r(0,"mat-chip",52),b("removed",function(){let t=p(e).$implicit,s=S();return u(s.removeTagServicePagination(t))}),m(1),r(2,"button",54)(3,"mat-icon"),m(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),g(" ",e," ")}}function Dm(n,l){if(n&1&&(r(0,"div"),m(1),a()),n&2){let e=l.$implicit,i=l.index;o(),Ce(" ",i+1," - ",e," ")}}function km(n,l){if(n&1){let e=I();r(0,"mat-chip",52),b("removed",function(){let t=p(e).$implicit,s=S();return u(s.removeTagEndUserPagination(t))}),m(1),r(2,"button",54)(3,"mat-icon"),m(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),g(" ",e," ")}}function Lm(n,l){if(n&1&&(r(0,"div"),m(1),a()),n&2){let e=l.$implicit,i=l.index;o(),Ce(" ",i+1," - ",e," ")}}function Vm(n,l){if(n&1){let e=I();r(0,"app-cms-enum-x-selectionlist",55),E("modelChange",function(t){p(e);let s=S();return y(s.dataModel.outBoxTypeList,t)||(s.dataModel.outBoxTypeList=t),u(t)}),a()}if(n&2){let e=S();c("optionDataListResult",e.dataModelSmsOutBoxTypeEnumResult),A("model",e.dataModel.outBoxTypeList),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.outBoxTypeJson==null?null:e.fieldsInfo.outBoxTypeJson.fieldTitle)("optionRequired",!0)}}function Nm(n,l){if(n&1){let e=I();r(0,"div",56)(1,"button",57),b("click",function(){p(e);let t=S();return u(t.onFormCancel())}),M(2,"i",58),m(3),h(4,"translate"),a(),r(5,"button",59),M(6,"i",60),m(7),h(8,"translate"),a()()}if(n&2){S();let e=x(9);o(3),g(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var Gn=class Gn extends pt{constructor(e,i,t,s,f,d,k,H){super(s,new ri,d,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiPathPriceServiceService=s;this.cmsToastrService=f;this.publicHelper=d;this.cdr=k;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new je;this.dataModel=new ri;this.formInfo=new ie;this.dataModelSmsMessageTypeEnumResult=new G;this.dataModelSmsOutBoxTypeEnumResult=new G;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getSmsMessageTypeEnum(),this.getSmsOutBoxTypeEnum()}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPriceServiceService.setAccessLoad(),this.smsMainApiPathPriceServiceService.setAccessDataType(Be.Editor),this.smsMainApiPathPriceServiceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPriceServiceService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiPathId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiPathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTagRegulatorNumberList(e){let i=(e.value||"").trim();this.dataModel.regulatorNumberList||(this.dataModel.regulatorNumberList=[]),i&&this.dataModel.regulatorNumberList.push(i),e.chipInput.clear()}removeTagRegulatorNumberList(e){let i=this.dataModel.regulatorNumberList.indexOf(e);i>=0&&this.dataModel.regulatorNumberList.splice(i,1)}addTagServicePagination(e){let i=(e.value||"").trim();this.dataModel.serviceMessageLengthPaginationList||(this.dataModel.serviceMessageLengthPaginationList=[]);var t=+i||-1;t>=0&&this.dataModel.serviceMessageLengthPaginationList.push(t),e.chipInput.clear()}removeTagServicePagination(e){let i=this.dataModel.serviceMessageLengthPaginationList.indexOf(e);i>=0&&this.dataModel.serviceMessageLengthPaginationList.splice(i,1)}addTagEndUserPagination(e){let i=(e.value||"").trim();this.dataModel.endUserMessageLengthPaginationList||(this.dataModel.endUserMessageLengthPaginationList=[]);var t=+i||-1;t>=0&&this.dataModel.endUserMessageLengthPaginationList.push(t),e.chipInput.clear()}removeTagEndUserPagination(e){let i=this.dataModel.endUserMessageLengthPaginationList.indexOf(e);i>=0&&this.dataModel.endUserMessageLengthPaginationList.splice(i,1)}};Gn.\u0275fac=function(i){return new(i||Gn)(C(re),C(oe),C(De),C(dn),C(N),C(B),C(V),C(L))},Gn.\u0275cmp=D({type:Gn,selectors:[["app-sms-apipathpriceservice-edit"]],viewQuery:function(i,t){if(i&1&&$(_m,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:89,vars:89,consts:[["vform","ngForm"],["chipListRegulatorNumberList",""],["tagInput",""],["chipListServicePagination",""],["chipListEndUserPagination",""],["Title",""],["servicePricePerPage",""],["endUserPricePerPage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"divider","mt-3","mb-3"],["class","d-flex mb-3",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.Number'|translate"],[3,"removed",4,"ngFor","ngForOf"],[1,"input-ltr",3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","modelChange",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.serviceDeliveryCostBase",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.serviceDeliveryCostBase","name","dataModel.serviceDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.serviceDeliveryCostBase",1,"custom-control-label"],["data-trigger-switch","dataModel.endUserDeliveryCostBase",1,"font-600","font-14"],["type","checkbox","id","dataModel.endUserDeliveryCostBase","name","dataModel.endUserDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.endUserDeliveryCostBase",1,"custom-control-label"],["for","dataModel.servicePricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.servicePricePerPage","placeholder","0","id","dataModel.servicePricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.endUserPricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.endUserPricePerPage","placeholder","0","id","dataModel.endUserPricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[3,"removed"],[1,"input-ltr"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",8),M(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),m(4),a(),r(5,"p"),m(6),h(7,"translate"),a(),r(8,"form",12,0),b("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),v(10,Mm,1,5,"app-cms-enum-record-status-selector",13)(11,Im,10,9,"div",14),r(12,"app-sms-apipath-selector",15),h(13,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorSelectLinkApiPathId(d))}),a(),v(14,Am,1,6,"app-cms-enum-x-selector",16),r(15,"app-cms-user-selector",17),h(16,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCmsUser(d))}),a(),r(17,"app-cms-site-selector",17),h(18,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCmsSite(d))}),a(),r(19,"app-cms-usergroup-selector",17),h(20,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCoreUserGroup(d))}),a(),r(21,"app-cms-sitecategory-selector",17),h(22,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCoreSiteCategory(d))}),a(),M(23,"div",18),v(24,ym,8,2,"div",19)(25,Em,8,2,"div",19),M(26,"div",18),v(27,wm,5,3,"div",14)(28,Tm,5,3,"div",14),M(29,"br"),r(30,"b"),m(31),h(32,"translate"),a(),r(33,"mat-form-field",20)(34,"mat-label"),m(35),h(36,"translate"),a(),r(37,"mat-chip-grid",21,1),v(39,Pm,6,1,"mat-chip",22),r(40,"input",23,2),h(42,"translate"),b("matChipInputTokenEnd",function(d){return p(s),u(t.addTagRegulatorNumberList(d))}),a()()(),r(43,"div"),m(44),h(45,"translate"),M(46,"br"),v(47,xm,2,1,"div",24),a(),M(48,"br"),r(49,"b"),m(50),h(51,"translate"),a(),r(52,"mat-form-field",20)(53,"mat-label"),m(54),h(55,"translate"),a(),r(56,"mat-chip-grid",21,3),v(58,Rm,5,1,"mat-chip",22),r(59,"input",25,2),h(61,"translate"),b("matChipInputTokenEnd",function(d){return p(s),u(t.addTagServicePagination(d))}),a()()(),r(62,"div"),m(63),h(64,"translate"),M(65,"br"),v(66,Dm,2,2,"div",24),a(),M(67,"br"),r(68,"b"),m(69),h(70,"translate"),a(),r(71,"mat-form-field",20)(72,"mat-label"),m(73),h(74,"translate"),a(),r(75,"mat-chip-grid",21,4),v(77,km,5,1,"mat-chip",22),r(78,"input",25,2),h(80,"translate"),b("matChipInputTokenEnd",function(d){return p(s),u(t.addTagEndUserPagination(d))}),a()()(),r(81,"div"),m(82),h(83,"translate"),M(84,"br"),v(85,Lm,2,2,"div",24),a(),M(86,"br"),v(87,Vm,1,5,"app-cms-enum-x-selectionlist",26)(88,Nm,9,7,"div",27),a()()()}if(i&2){let s=x(38),f=x(57),d=x(76);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",_(7,53,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),c("optionSelectForce",t.dataModel.linkApiPathId)("optionPlaceholder",_(13,55,"TITLE.Direction")),o(2),c("ngIf",t.fieldsInfo.messageType==null?null:t.fieldsInfo.messageType.accessWatchField),o(),c("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",_(16,57,"TITLE.USER")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreSiteId!=null&&t.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",_(18,59,"TITLE.SITE")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreUserGroupId!=null&&t.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",_(20,61,"TITLE.Type_Usage")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",_(22,63,"TITLE.Site_Type")),o(3),c("ngIf",t.fieldsInfo.serviceDeliveryCostBase==null?null:t.fieldsInfo.serviceDeliveryCostBase.accessWatchField),o(),c("ngIf",t.fieldsInfo.endUserDeliveryCostBase==null?null:t.fieldsInfo.endUserDeliveryCostBase.accessWatchField),o(2),c("ngIf",t.fieldsInfo.servicePricePerPage==null?null:t.fieldsInfo.servicePricePerPage.accessWatchField),o(),c("ngIf",t.fieldsInfo.endUserPricePerPage==null?null:t.fieldsInfo.endUserPricePerPage.accessWatchField),o(3),w(_(32,65,"TITLE.ACCEPTABLE_PREFIXES")),o(4),w(_(36,67,"TITLE.ACCEPTABLE_PREFIXES")),o(4),c("ngForOf",t.dataModel.regulatorNumberList),o(),c("placeholder",_(42,69,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",s)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),g(" ",_(45,71,"TITLE.ACCEPTABLE_PREFIXES")," "),o(3),c("ngForOf",t.dataModel.regulatorNumberList),o(3),w(_(51,73,"TITLE.PROVIDER_PAGINATION")),o(4),w(_(55,75,"TITLE.PROVIDER_PAGINATION")),o(4),c("ngForOf",t.dataModel.serviceMessageLengthPaginationList),o(),c("placeholder",_(61,77,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",f)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),g(" ",_(64,79,"TITLE.PROVIDER_PAGINATION")," "),o(3),c("ngForOf",t.dataModel.serviceMessageLengthPaginationList),o(3),w(_(70,81,"TITLE.RECIPIENT_PAGINATION")),o(4),w(_(74,83,"TITLE.RECIPIENT_PAGINATION")),o(4),c("ngForOf",t.dataModel.endUserMessageLengthPaginationList),o(),c("placeholder",_(80,85,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",d)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),g(" ",_(83,87,"TITLE.RECIPIENT_PAGINATION")," "),o(3),c("ngForOf",t.dataModel.endUserMessageLengthPaginationList),o(2),c("ngIf",t.fieldsInfo.outBoxTypeJson==null?null:t.fieldsInfo.outBoxTypeJson.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[we,O,de,z,Zt,ke,K,se,_e,Ae,ye,ne,le,Ai,yi,Ei,Ii,bi,vi,pe,Ee,J,Ot,ue,Bo,Bn,Ht,Ct,Wt,q,$t,jt,F],encapsulation:2});var Jo=Gn;var Fm=()=>["expandedDetail"],Gm=()=>[5,10,20,100],Om=n=>({display:n});function Hm(n,l){if(n&1&&M(0,"app-sms-apipath-header",44),n&2){let e=S();c("optionId",e.requestLinkApiPathId)}}function Wm(n,l){if(n&1){let e=I();r(0,"a",45),b("click",function(){p(e);let t=S();return u(t.onActionBackToParent())}),M(1,"i",46),a()}}function Um(n,l){if(n&1){let e=I();r(0,"div",47)(1,"a",48),b("click",function(){p(e);let t=S();return u(t.onActionButtonNewRow())}),M(2,"i",49)(3,"br"),a(),r(4,"p",50),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.ADD")," "))}function qm(n,l){if(n&1){let e=I();r(0,"div",47)(1,"a",51),b("click",function(){p(e);let t=S();return u(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",52)(3,"br"),a(),r(4,"p",50),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.EDIT")," "))}function jm(n,l){if(n&1){let e=I();r(0,"div",47)(1,"a",53),b("click",function(){p(e);let t=S();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",54)(3,"br"),a(),r(4,"p",50),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.DELETE")," "))}function Qm(n,l){if(n&1){let e=I();r(0,"div",47)(1,"a",55),b("click",function(){p(e);let t=S();return u(t.onActionButtonCopyRow(t.tableRowSelected))}),M(2,"i",56)(3,"br"),a(),r(4,"p",50),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.COPY")," "))}function zm(n,l){if(n&1&&(r(0,"mat-header-cell",57),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Km(n,l){if(n&1&&(r(0,"mat-cell"),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.id," ")}}function Jm(n,l){if(n&1&&(r(0,"mat-header-cell",57),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Xm(n,l){if(n&1&&(r(0,"mat-cell",58),h(1,"statusCellClass"),M(2,"i",58),h(3,"statusIconClass"),a()),n&2){let e=l.$implicit;c("ngClass",_(1,2,e.recordStatus)),o(2),c("ngClass",_(3,4,e.recordStatus))}}function Ym(n,l){if(n&1&&(r(0,"mat-header-cell",57),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Zm(n,l){if(n&1&&(r(0,"mat-cell"),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.title," ")}}function $m(n,l){if(n&1&&(r(0,"mat-header-cell",57),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.linkApiPathId==null?null:e.fieldsInfo.linkApiPathId.fieldTitle," ")}}function ep(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=S();o(),w(sn(2,1,e.linkApiPathId,i.dataModelPrivateResult.listItems))}}function tp(n,l){if(n&1&&(r(0,"mat-header-cell",57),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.regulatorNumber==null?null:e.fieldsInfo.regulatorNumber.fieldTitle," ")}}function ip(n,l){if(n&1&&(r(0,"mat-cell"),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.regulatorNumber," ")}}function np(n,l){if(n&1&&(r(0,"mat-header-cell",57),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle," ")}}function op(n,l){if(n&1&&(r(0,"mat-cell"),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.servicePricePerPage," ")}}function rp(n,l){if(n&1&&(r(0,"mat-header-cell",57),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle," ")}}function ap(n,l){if(n&1&&(r(0,"mat-cell"),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.endUserPricePerPage," ")}}function sp(n,l){if(n&1&&(r(0,"mat-header-cell",57),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.messageType==null?null:e.fieldsInfo.messageType.fieldTitle," ")}}function lp(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"enums"),a()),n&2){let e=l.$implicit,i=S();o(),g(" ",sn(2,1,e.messageType,i.dataModelSmsMessageTypeEnumResult.listItems)," ")}}function dp(n,l){n&1&&(r(0,"mat-header-cell"),m(1),h(2,"translate"),a()),n&2&&(o(),g(" ",_(2,1,"TITLE.OPTION")," "))}function cp(n,l){if(n&1&&(r(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),m(3,"more_vert"),a()(),M(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),c("matMenuTriggerFor",e)}}function mp(n,l){n&1&&M(0,"mat-header-row")}function pp(n,l){if(n&1){let e=I();r(0,"mat-row",61),b("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function up(n,l){if(n&1){let e=I();r(0,"mat-row",62),b("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=p(e).$implicit,s=S();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,s=S();return u(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),c("ngStyle",ci(3,Om,e.expanded===!0?"":"none"))}}function fp(n,l){if(n&1&&(r(0,"mat-cell")(1,"div")(2,"table")(3,"tr"),M(4,"th")(5,"th",63),a(),r(6,"tr")(7,"td"),m(8),a(),r(9,"td",63),m(10),a()(),r(11,"tr")(12,"td"),m(13),a(),r(14,"td",63),m(15),a()(),r(16,"tr")(17,"td"),m(18),a(),r(19,"td",63),m(20),a()(),r(21,"tr"),M(22,"td")(23,"td"),a()()()()),n&2){let e=l.$implicit,i=S();o(8),w(i.fieldsInfo.regulatorNumberJson==null?null:i.fieldsInfo.regulatorNumberJson.fieldTitle),o(2),w(e.regulatorNumberJson),o(3),g(" ",i.fieldsInfo.serviceMessageLengthPaginationJson==null?null:i.fieldsInfo.serviceMessageLengthPaginationJson.fieldTitle," "),o(2),g(" ",e.serviceMessageLengthPaginationJson," "),o(3),g(" ",i.fieldsInfo.endUserMessageLengthPaginationJson==null?null:i.fieldsInfo.endUserMessageLengthPaginationJson.fieldTitle," "),o(2),g(" ",e.endUserMessageLengthPaginationJson," ")}}var On=class On extends ut{constructor(e,i,t,s,f,d,k,H,kt,Kt,It,ti,ae,na){super(e,new ri,ae,d,H);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=s;this.router=f;this.tokenHelper=d;this.cdr=k;this.translate=H;this.smsMainApiPathService=kt;this.cmsStoreService=Kt;this.smsEnumService=It;this.pageInfo=ti;this.publicHelper=ae;this.dialog=na;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.dataModelSmsMessageTypeEnumResult=new G;this.dataModelSmsOutBoxTypeEnumResult=new G;this.dataModelPrivateResult=new G;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["RecordStatus","Title","LinkApiPathId","messageType","servicePricePerPage","endUserPricePerPage"];this.tabledisplayedColumnsMobileSource=["RecordStatus","Title","LinkApiPathId","messageType","servicePricePerPage","endUserPricePerPage"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:pr=>this.onSubmitOptionsSearch(pr)},this.filteModelContent.sortColumn="LinkApiPathId",this.filteModelContent.sortType=j.Ascending}ngOnInit(){if(this.filteModelContent.sortColumn="LinkApiPathId",this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")),this.requestLinkApiPathId?.length>0){let e=new Q;e.propertyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ve(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getPrivateConfig(),this.getSmsMessageTypeEnum()}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getPrivateConfig(){let e=new Y;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ri);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new Q;t.propertyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(uo,{height:"90%",panelClass:e,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:this.categoryModelSelected?.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Jo,{height:"90%",panelClass:i,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonCopyRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(uo,{height:"90%",panelClass:i,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(f,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(t,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Q;f.propertyName="RecordStatus",f.value=Ne.Available,s.filters.push(f),this.contentService.ServiceGetCount(s).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};On.\u0275fac=function(i){return new(i||On)(C(dn),C(N),C(Et),C(He),C(Qe),C(xe),C(V),C(L),C(Nt),C(Pe),C(De),C(dt),C(B),C(Te))},On.\u0275cmp=D({type:On,selectors:[["app-sms-apipathpriceservice-list"]],standalone:!1,features:[W],decls:68,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","LinkApiPathId"],["matColumnDef","RegulatorNumber"],["matColumnDef","servicePricePerPage"],["matColumnDef","endUserPricePerPage"],["matColumnDef","messageType"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedDetail"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"],[1,"col-form-label"]],template:function(i,t){if(i&1){let s=I();v(0,Hm,1,1,"app-sms-apipath-header",3),r(1,"app-cms-html-list",4),E("optionActionGuideNoticeDisplayChange",function(d){return p(s),y(t.viewGuideNotice,d)||(t.viewGuideNotice=d),u(d)}),b("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),T(2,5),r(3,"app-sms-apipath-tree",6),b("optionChange",function(d){return p(s),u(t.onActionSelectorSelect(d))}),a(),P(),Le(4,7)(5,8),T(6,9),v(7,Wm,2,0,"a",10),r(8,"a",11),b("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),M(9,"i",12),a(),r(10,"a",11),b("click",function(){return p(s),u(t.onActionButtonReload())}),M(11,"i",13),a(),P(),T(12,14),r(13,"a",15),b("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),M(14,"mat-slide-toggle",16),m(15),h(16,"translate"),a(),r(17,"a",15),b("click",function(){return p(s),u(t.onActionButtonStatist())}),M(18,"mat-slide-toggle",16),m(19),h(20,"translate"),a(),P(),T(21,17),v(22,Um,7,3,"div",18),P(),T(23,19),v(24,qm,7,3,"div",18)(25,jm,7,3,"div",18)(26,Qm,7,3,"div",18),P(),T(27,20),r(28,"app-cms-search-list",21),E("optionsChange",function(d){return p(s),y(t.optionsSearch,d)||(t.optionsSearch=d),u(d)}),a(),r(29,"app-cms-statist-list",21),E("optionsChange",function(d){return p(s),y(t.optionsStatist,d)||(t.optionsStatist=d),u(d)}),a(),P(),T(30,22),r(31,"mat-table",23,0),b("matSortChange",function(){p(s);let d=x(32);return u(t.onTableSortData(d))}),T(33,24),v(34,zm,2,1,"mat-header-cell",25)(35,Km,2,1,"mat-cell",26),P(),T(36,27),v(37,Jm,2,1,"mat-header-cell",25)(38,Xm,4,6,"mat-cell",28),P(),T(39,29),v(40,Ym,2,1,"mat-header-cell",25)(41,Zm,2,1,"mat-cell",26),P(),T(42,30),v(43,$m,2,1,"mat-header-cell",25)(44,ep,3,4,"mat-cell",26),P(),T(45,31),v(46,tp,2,1,"mat-header-cell",25)(47,ip,2,1,"mat-cell",26),P(),T(48,32),v(49,np,2,1,"mat-header-cell",25)(50,op,2,1,"mat-cell",26),P(),T(51,33),v(52,rp,2,1,"mat-header-cell",25)(53,ap,2,1,"mat-cell",26),P(),T(54,34),v(55,sp,2,1,"mat-header-cell",25)(56,lp,3,4,"mat-cell",26),P(),T(57,35),v(58,dp,3,3,"mat-header-cell",36)(59,cp,6,1,"mat-cell",37),P(),v(60,mp,1,0,"mat-header-row",38)(61,pp,1,2,"mat-row",39)(62,up,1,5,"mat-row",40),T(63,41),v(64,fp,24,6,"mat-cell",26),P(),a(),P(),T(65,42),r(66,"mat-paginator",43,1),b("page",function(d){return p(s),u(t.onTablePageingData(d))}),a(),P(),a()}i&2&&(c("ngIf",(t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0),o(),c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!t.requestLinkApiPathId||t.requestLinkApiPathId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),c("ngIf",(t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0),o(4),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),g("",_(16,29,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),g("",_(20,31,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),A("options",t.optionsSearch),o(),A("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(29),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(),c("matRowDefColumns",Ve(33,Fm)),o(4),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ve(34,Gm)))},dependencies:[qe,O,mi,Fe,Ee,ze,Ke,Je,Xe,Ye,Ze,$e,tt,rt,it,et,at,nt,ot,st,lt,ft,St,ht,gt,Sn,Vn,F,qr,No,_t,vt],encapsulation:2});var fo=On;var Sp=["vform"];function hp(n,l){n&1&&(r(0,"mat-error"),m(1),h(2,"translate"),r(3,"strong"),m(4),h(5,"translate"),a()()),n&2&&(o(),g(" ",_(2,2,"MESSAGE.Message_Text")," "),o(3),w(_(5,4,"MESSAGE.required")))}function gp(n,l){if(n&1&&M(0,"app-cms-json-list",30),n&2){let e=S();c("dataModel",e.dataModelResult.item)("optionMethod",1)}}function _p(n,l){if(n&1&&(r(0,"button",35),M(1,"i",36),m(2),h(3,"translate"),a()),n&2){S(2);let e=x(9);c("disabled",!e.valid),o(2),g(" ",_(3,2,"ACTION.Send_Message")," ")}}function Mp(n,l){if(n&1){let e=I();r(0,"div",31)(1,"button",32),b("click",function(){p(e);let t=S();return u(t.onFormCancel())}),M(2,"i",33),m(3),h(4,"translate"),a(),v(5,_p,4,4,"button",34),a()}if(n&2){let e=S();o(3),g(" ",_(4,2,"ACTION.CANCEL")," "),o(2),c("ngIf",!e.publicHelper.processService.process.inRunAll)}}var Hn=class Hn{constructor(l,e,i,t,s,f,d,k,H){this.data=l;this.document=e;this.dialogRef=i;this.coreEnumService=t;this.cmsToastrService=s;this.cdr=f;this.publicHelper=d;this.translate=k;this.smsActionService=H;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelParentSelected=new zt;this.dataModel=new Tr;this.dataModelResult=new G;this.formInfo=new ie;this.sendByShow=!1;this.publicHelper.processService.cdr=this.cdr,l&&l.linkApiPathId&&(this.requestLinkApiPathId=l.linkApiPathId)}ngOnInit(){if(this.requestLinkApiPathId.length<=0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.dataModel.linkApiPathId=this.requestLinkApiPathId}onActionSelectPrivateSiteConfig(l){this.dataModel.linkApiPathId=this.requestLinkApiPathId,this.dataModelParentSelected=l,l&&l.id?.length>0&&(this.dataModel.linkApiPathId=l.id,this.sendByShow=!1,l.apiAbilitySendByDirect&&(this.dataModel.sendByQueue=!1),l.apiAbilitySendByQueue&&(this.dataModel.sendByQueue=!0),l.apiAbilitySendByQueue&&l.apiAbilitySendByDirect&&(this.sendByShow=!0))}onFormSubmit(){if(!this.formGroup.valid)return;(!this.dataModel.linkApiPathId||this.dataModel.linkApiPathId.length<=0)&&this.cmsToastrService.typeErrorFormInvalid(),this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.smsActionService.ServiceSendMessageTest(this.dataModel).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=e,e.isSuccess?(this.translate.get("MESSAGE.Submit_request_was_successfully_registered").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.translate.get("MESSAGE.Send_request_was_successfully_registered").subscribe(i=>{this.cmsToastrService.typeSuccessMessage(i)})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Hn.\u0275fac=function(e){return new(e||Hn)(C(re),C(Cr),C(oe),C(be),C(N),C(V),C(B),C(L),C(Pr))},Hn.\u0275cmp=D({type:Hn,selectors:[["app-sms-privateconfig-sendtest"]],viewQuery:function(e,i){if(e&1&&$(Sp,5),e&2){let t;ee(t=te())&&(i.formGroup=t.first)}},standalone:!1,decls:57,vars:34,consts:[["vform","ngForm"],["FromNumber",""],["ToNumber",""],["Message",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionChange","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.fromNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromNumber","minlength","0","maxlength","50","id","dataModel.fromNumber","placeholder","10000118",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.toNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.toNumber","minlength","0","maxlength","100","id","dataModel.toNumber","placeholder","0912",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.message",1,"color-highlight"],["matInput","","type","text","name","dataModel.message","minlength","1","maxlength","500","id","dataModel.message","placeholder","...",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[4,"ngIf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isFlash",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isFlash","name","dataModel.isFlash",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isFlash",1,"custom-control-label"],["data-trigger-switch","dataModel.sendByQueue",1,"font-600","font-14"],["type","checkbox","id","dataModel.sendByQueue","name","dataModel.sendByQueue",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.sendByQueue",1,"custom-control-label"],[3,"dataModel","optionMethod",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"dataModel","optionMethod"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){if(e&1){let t=I();r(0,"div",4),M(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),m(4),a(),r(5,"p"),m(6),h(7,"translate"),a(),r(8,"form",8,0),b("ngSubmit",function(){return p(t),u(i.onFormSubmit())}),r(10,"app-sms-apipath-selector",9),h(11,"translate"),b("optionChange",function(f){return p(t),u(i.onActionSelectPrivateSiteConfig(f))}),a(),r(12,"div",10)(13,"label",11),m(14),h(15,"translate"),a(),r(16,"input",12,1),E("ngModelChange",function(f){return p(t),y(i.dataModel.fromNumber,f)||(i.dataModel.fromNumber=f),u(f)}),a(),r(18,"em"),m(19),a()(),r(20,"div",10)(21,"label",13),m(22),h(23,"translate"),a(),r(24,"input",14,2),E("ngModelChange",function(f){return p(t),y(i.dataModel.toNumber,f)||(i.dataModel.toNumber=f),u(f)}),a(),r(26,"em"),m(27),a()(),r(28,"div",10)(29,"label",15),m(30),h(31,"translate"),a(),r(32,"input",16,3),E("ngModelChange",function(f){return p(t),y(i.dataModel.message,f)||(i.dataModel.message=f),u(f)}),a(),r(34,"em"),m(35),a(),v(36,hp,6,6,"mat-error",17),a(),r(37,"div",18)(38,"div",19)(39,"h5",20),m(40),h(41,"translate"),a()(),r(42,"div",21)(43,"div",22)(44,"input",23),E("ngModelChange",function(f){return p(t),y(i.dataModel.isFlash,f)||(i.dataModel.isFlash=f),u(f)}),a(),M(45,"label",24),a()()(),r(46,"div",18)(47,"div",19)(48,"h5",25),m(49),h(50,"translate"),a()(),r(51,"div",21)(52,"div",22)(53,"input",26),E("ngModelChange",function(f){return p(t),y(i.dataModel.sendByQueue,f)||(i.dataModel.sendByQueue=f),u(f)}),a(),M(54,"label",27),a()()(),v(55,gp,1,2,"app-cms-json-list",28)(56,Mp,6,4,"div",29),a()()()}if(e&2){let t=x(17),s=x(25),f=x(33);o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(3),g(" ",i.formInfo.formTitle," "),o(2),g(" ",_(7,20,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("optionPlaceholder",_(11,22,"TITLE.Direction")),o(4),w(_(15,24,"TITLE.sender_number")),o(2),A("ngModel",i.dataModel.fromNumber),o(3),g("",t.value.length," / 50"),o(3),w(_(23,26,"TITLE.Receiver_number")),o(2),A("ngModel",i.dataModel.toNumber),o(3),g("",s.value.length," / 100"),o(3),w(_(31,28,"MESSAGE.Message_Text")),o(2),A("ngModel",i.dataModel.message),o(3),g("",f.value.length," / 500"),o(),c("ngIf",f.errors==null?null:f.errors.required),o(4),g(" ",_(41,30,"TITLE.Send_as_flash")," "),o(4),A("ngModel",i.dataModel.isFlash),o(5),g(" ",_(50,32,"TITLE.Send_in_queue")," "),o(4),A("ngModel",i.dataModel.sendByQueue),o(2),c("ngIf",i.dataModelResult==null?null:i.dataModelResult.item),o(),c("ngIf",i.formInfo.submitButtonEnabled)}},dependencies:[O,de,z,ke,K,se,Ae,ye,ne,le,pe,J,q,Hr,jt,F],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Xo=Hn;function bp(n,l){if(n&1){let e=I();r(0,"button",13),b("click",function(){p(e);let t=S();return u(t.onActionAdd())}),m(1),h(2,"translate"),a()}n&2&&(o(),g(" ",_(2,1,"ACTION.ADD")," "))}function Ip(n,l){if(n&1){let e=I();r(0,"button",14),b("click",function(){p(e);let t=S();return u(t.onActionEdit())}),m(1),h(2,"translate"),a()}n&2&&(o(),g(" ",_(2,1,"ACTION.EDIT")," "))}function Ap(n,l){if(n&1){let e=I();r(0,"button",15),b("click",function(){p(e);let t=S();return u(t.onActionButtonReload())}),r(1,"mat-icon",16),h(2,"translate"),m(3,"refresh"),a()()}if(n&2){let e=S();o(),X("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),c("title",R(_(2,4,"ACTION.RELOAD")))}}function yp(n,l){if(n&1){let e=I();r(0,"mat-tree-node",17),M(1,"button",18),r(2,"span",19),b("click",function(){let t=p(e).$implicit,s=S();return u(s.onActionSelect(t))}),M(3,"img",20),m(4),a()()}if(n&2){let e=l.$implicit,i=S();X("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===e.id),o(3),c("src",R(e.linkMainImageIdSrc),Me),o(),g("\xA0",e.title)}}function Ep(n,l){if(n&1){let e=I();r(0,"mat-tree-node",21)(1,"button",22)(2,"mat-icon",23),m(3),a()(),r(4,"span",19),b("click",function(){let t=p(e).$implicit,s=S();return u(s.onActionSelect(t))}),M(5,"img",20),m(6),a()()}if(n&2){let e=l.$implicit,i=S(),t=x(11);X("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===e.id),c("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),Jt("type","button")("aria-label","Toggle "+e.title),o(2),g(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),c("src",R(e.linkMainImageIdSrc),Me),o(),g("\xA0",e.title)}}var Wn=class Wn{constructor(l,e,i,t,s,f,d,k,H){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=s;this.publicHelper=f;this.tokenHelper=d;this.cmsStoreService=k;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Lt;this.dataModelResult=new G;this.filterModel=new Y;this.dataSource=new Do;this.optionChange=new Ue;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!1;this.childrenAccessor=l=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>ve(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Lt,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){var l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(Tn,{height:"90%",panelClass:l,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l="";if(this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(l=this.dataModelSelect.id),l.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(xn,{height:"90%",panelClass:e,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};Wn.\u0275fac=function(e){return new(e||Wn)(C(N),C(be),C(Bt),C(Te),C(V),C(B),C(xe),C(Pe),C(L))},Wn.\u0275cmp=D({type:Wn,selectors:[["app-sms-apipathcompany-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:15,vars:13,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),T(1,2),m(2),h(3,"translate"),P(),T(4,3),v(5,bp,3,3,"button",4)(6,Ip,3,3,"button",5)(7,Ap,4,6,"button",6),P(),T(8,7),M(9,"app-progress-spinner",8),r(10,"mat-tree",9,0),v(12,yp,5,5,"mat-tree-node",10)(13,Ep,7,10,"mat-tree-node",11),a(),P(),Le(14,12),a()),e&2&&(c("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),g(" ",_(3,11,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),c("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),o(2),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),c("matTreeNodeDefWhen",i.hasChild))},dependencies:[O,Fe,Ee,To,Po,Ro,xo,wo,q,Vo,F],encapsulation:2});var Yo=Wn;var Tp=()=>[5,10,20,100];function Pp(n,l){if(n&1){let e=I();r(0,"a",52),b("click",function(){p(e);let t=S();return u(t.onActionBackToParent())}),M(1,"i",53),a()}}function xp(n,l){if(n&1){let e=I();r(0,"div",19)(1,"a",23),b("click",function(){p(e);let t=S();return u(t.onActionButtonNewRow())}),M(2,"i",54)(3,"br"),a(),r(4,"p",21),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.ADD")," "))}function Rp(n,l){if(n&1){let e=I();r(0,"div",19)(1,"a",55),b("click",function(){p(e);let t=S();return u(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",56)(3,"br"),a(),r(4,"p",21),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.EDIT")," "))}function Dp(n,l){if(n&1){let e=I();r(0,"div",19)(1,"a",57),b("click",function(){p(e);let t=S();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",58)(3,"br"),a(),r(4,"p",21),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.DELETE")," "))}function kp(n,l){if(n&1){let e=I();r(0,"div",19)(1,"a",20),b("click",function(){p(e);let t=S();return u(t.onActionButtonCopy(t.tableRowSelected))}),M(2,"i",59)(3,"br"),a(),r(4,"p",21),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.COPY")," "))}function Lp(n,l){if(n&1){let e=I();r(0,"div",19)(1,"a",10),b("click",function(){p(e);let t=S();return u(t.onActionButtonSendTest(t.tableRowSelected))}),M(2,"i",60)(3,"br"),a(),r(4,"p",21),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.SEND_TEST")," "))}function Vp(n,l){if(n&1){let e=I();r(0,"div",19)(1,"a",10),b("click",function(){p(e);let t=S();return u(t.onActionButtonReportsRow(t.tableRowSelected))}),M(2,"i",61)(3,"br"),a(),r(4,"p",21),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.REPORTS")," "))}function Np(n,l){n&1&&(r(0,"mat-header-cell",62),m(1),h(2,"translate"),a()),n&2&&(o(),g(" ",_(2,1,"TITLE.PICTURE")," "))}function Bp(n,l){if(n&1&&(M(0,"img",64),h(1,"cmsthumbnail")),n&2){let e=S().$implicit;c("src",R(_(1,2,e.linkMainImageIdSrc)),Me)}}function Fp(n,l){if(n&1&&(r(0,"mat-cell"),v(1,Bp,2,4,"img",63),a()),n&2){let e=l.$implicit;o(),c("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Gp(n,l){if(n&1&&(r(0,"mat-header-cell",62),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Op(n,l){if(n&1&&(r(0,"mat-cell"),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.id," ")}}function Hp(n,l){if(n&1&&(r(0,"mat-header-cell",62),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Wp(n,l){if(n&1&&(r(0,"mat-cell",65),h(1,"statusCellClass"),M(2,"i",65),h(3,"statusIconClass"),a()),n&2){let e=l.$implicit;c("ngClass",_(1,2,e.recordStatus)),o(2),c("ngClass",_(3,4,e.recordStatus))}}function Up(n,l){if(n&1&&(r(0,"mat-header-cell",62),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function qp(n,l){if(n&1&&(r(0,"mat-cell"),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.title," ")}}function jp(n,l){if(n&1&&(r(0,"mat-header-cell",62),m(1),a()),n&2){let e=S();o(),g("",e.fieldsInfo.linkApiPathCompanyId==null?null:e.fieldsInfo.linkApiPathCompanyId.fieldTitle," ")}}function Qp(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=S();o(),g(" ",sn(2,1,e.linkApiPathCompanyId,i.dataModelCompanyResult.listItems)," ")}}function zp(n,l){if(n&1&&(r(0,"mat-header-cell",62),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.linkPublicConfigId==null?null:e.fieldsInfo.linkPublicConfigId.fieldTitle," ")}}function Kp(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=S();o(),g(" ",sn(2,1,e.linkPublicConfigId,i.dataModelPublicResult.listItems)," ")}}function Jp(n,l){if(n&1&&(r(0,"mat-header-cell",62),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Xp(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",_(2,1,e.updatedDate)," ")}}function Yp(n,l){n&1&&(r(0,"mat-header-cell"),m(1),h(2,"translate"),a()),n&2&&(o(),g(" ",_(2,1,"TITLE.OPTION")," "))}function Zp(n,l){if(n&1&&(r(0,"mat-cell",66)(1,"button",67)(2,"mat-icon"),m(3,"more_vert"),a()(),M(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),c("matMenuTriggerFor",e)}}function $p(n,l){n&1&&(r(0,"mat-header-cell",62),m(1,". "),a())}function e0(n,l){n&1&&(r(0,"mat-cell")(1,"mat-icon",68),m(2,"reorder"),a()())}function t0(n,l){n&1&&M(0,"mat-header-row")}function i0(n,l){n&1&&M(0,"div",71)}function n0(n,l){if(n&1){let e=I();r(0,"mat-row",69),b("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))}),v(1,i0,1,0,"div",70),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),c("cdkDragData",e)}}var Un=class Un extends ut{constructor(e,i,t,s,f,d,k,H,kt,Kt,It,ti,ae,na){super(e,new zt,ae,H,Kt);this.contentService=e;this.smsMainApiPathCompanyService=i;this.smsMainApiPathPublicConfigService=t;this.activatedRoute=s;this.cmsToastrService=f;this.cmsConfirmationDialogService=d;this.router=k;this.tokenHelper=H;this.cdr=kt;this.translate=Kt;this.cmsStoreService=It;this.pageInfo=ti;this.publicHelper=ae;this.dialog=na;this.requestLinkSiteId=0;this.requestLinkCompanyId="";this.requestLinkPublicConfigId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new G;this.dataModelCompanyResult=new G;this.dataModelPublicResult=new G;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","RecordStatus","Title","LinkApiPathCompanyId","LinkPublicConfigId","UpdatedDate","position"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","RecordStatus","Title","LinkApiPathCompanyId","LinkPublicConfigId","position"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:pr=>this.onSubmitOptionsSearch(pr)},this.filteModelContent.sortColumn="priority",this.filteModelContent.sortType=j.Ascending}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")&&(this.requestLinkCompanyId=this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")),this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId")&&(this.requestLinkPublicConfigId=this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId"));let e=new Q;if(this.requestLinkPublicConfigId?.length>0&&(e.propertyName="LinkPublicConfigId",e.value=this.requestLinkPublicConfigId,this.filteModelContent.filters.push(e)),this.requestLinkCompanyId.length>0){let i=new Q;i.propertyName="LinkApiPathCompanyId",i.value=this.requestLinkCompanyId,this.filteModelContent.filters.push(i)}if(this.requestLinkSiteId>0){let i=new Q;i.propertyName="LinkSiteId",i.value=this.requestLinkSiteId,this.filteModelContent.filters.push(i)}this.filteModelContent.sortColumn="priority",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>ve(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getApiCopmanyList(),this.getPublicConfig()}getPublicConfig(){let e=new Y;e.rowPerPage=100,this.smsMainApiPathPublicConfigService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPublicResult=i}})}getApiCopmanyList(){let e=new Y;e.rowPerPage=100,this.smsMainApiPathCompanyService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCompanyResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new zt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new Q;t.propertyName="LinkApiPathCompanyId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(s=>s===e.item.data),t=new _o;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=ln.GoUp:t.actionGo=ln.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:s=>{s.isSuccess?(Co(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(s.errorMessage)},error:s=>{this.cmsToastrService.typeError(s)}})}onActionButtonNewRow(){if((!this.requestLinkCompanyId||this.requestLinkCompanyId&&this.requestLinkCompanyId.length==0)&&(this.categoryModelSelected==null||this.categoryModelSelected.id.length===0)){this.translate.get("MESSAGE.Company_not_selected").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id),this.requestLinkCompanyId&&this.requestLinkCompanyId.length>0&&(e=this.requestLinkCompanyId);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Sr,{height:"90%",panelClass:i,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{linkApiPathCompanyId:e}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/sms/main/api-path/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(f,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.filteModelContent.sortColumn="priority",this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(t,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Q;f.propertyName="RecordStatus",f.value=Ne.Available,s.filters.push(f),this.contentService.ServiceGetCount(s).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonGetBalance(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=this.constructor.name+"GetBalance";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.ServiceGetBalance(e.id).subscribe({next:t=>{t.isSuccess?this.cmsToastrService.typeSuccessMessage(t.item.info+" "+t.item.status+" "+t.item.credit):this.cmsToastrService.typeErrorMessage(t.errorMessage+t.item.info+" "+t.item.status),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonSendMessage(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/action/send-message/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/action/send-message/LinkApiPathId",this.tableRowSelected.id])}onActionButtonSupersedesList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/bankpayment/privatesiteconfig/LinkPublicConfigId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/privatesiteconfig/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonMustSupersedesList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/bankpayment/privatesiteconfig/LinkPublicConfigId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/privatesiteconfig/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonNumbersList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-number/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-number/LinkApiPathId",this.tableRowSelected.id])}onActionButtonPermitionList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path-permission/LinkApiPathId",this.tableRowSelected.id])}onActionButtonOutBoxQueue(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/log/outbox-queue/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/log/outbox-queue/LinkApiPathId",this.tableRowSelected.id])}onActionButtonCopy(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Sr,{height:"90%",panelClass:i,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonPriceServicesList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-path-price-service/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-path-price-service/LinkApiPathId",this.tableRowSelected.id])}onActionButtonSendTest(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}this.onActionTableRowSelect(e);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Xo,{height:"90%",panelClass:i,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonReportsRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}if(i?.ctrlKey){let t="/#/sms/log/api-path/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/log/api-path/LinkApiPathId",this.tableRowSelected.id])}onActionButtonReload(){this.filteModelContent.sortColumn="priority",this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path-company"])}};Un.\u0275fac=function(i){return new(i||Un)(C(Nt),C(Bt),C(Xt),C(Et),C(N),C(He),C(Qe),C(xe),C(V),C(L),C(Pe),C(dt),C(B),C(Te))},Un.\u0275cmp=D({type:Un,selectors:[["app-sms-apipath-list"]],standalone:!1,features:[W],decls:129,vars:62,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-receipt","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-dollar","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-phone","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-universal-access","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list-ol","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","LinkApiPathCompanyId"],["matColumnDef","LinkPublicConfigId"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild","cdkDrag","",3,"ntk-row-selected","cdkDragData","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-paper-plane-top","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file-chart-column","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],["cdkDrag","",1,"ntk-row-mainfild",3,"click","rtclick","cdkDragData"],["class","ntk-row-placeholder",4,"cdkDragPlaceholder"],[1,"ntk-row-placeholder"]],template:function(i,t){if(i&1){let s=I();r(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(d){return p(s),y(t.viewGuideNotice,d)||(t.viewGuideNotice=d),u(d)}),b("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),T(1,4),r(2,"app-sms-apipathcompany-tree",5),b("optionChange",function(d){return p(s),u(t.onActionSelectorSelect(d))}),a(),P(),Le(3,6)(4,7),T(5,8),v(6,Pp,2,0,"a",9),r(7,"a",10),b("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),M(8,"i",11),a(),r(9,"a",10),b("click",function(){return p(s),u(t.onActionButtonReload())}),M(10,"i",12),a(),P(),T(11,13),r(12,"a",14),b("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),M(13,"mat-slide-toggle",15),m(14),h(15,"translate"),a(),r(16,"a",14),b("click",function(){return p(s),u(t.onActionButtonStatist())}),M(17,"mat-slide-toggle",15),m(18),h(19,"translate"),a(),P(),T(20,16),v(21,xp,7,3,"div",17),P(),T(22,18),v(23,Rp,7,3,"div",17)(24,Dp,7,3,"div",17),r(25,"div",19)(26,"a",20),b("click",function(){return p(s),u(t.onActionButtonSendTest(t.tableRowSelected))}),r(27,"mat-icon"),m(28,"payment"),a()(),r(29,"p",21),m(30),h(31,"translate"),a()(),r(32,"div",19)(33,"a",20),b("click",function(d){return p(s),u(t.onActionButtonSendMessage(t.tableRowSelected,d))}),M(34,"i",22)(35,"br"),a(),r(36,"p",21),m(37),h(38,"translate"),a()(),r(39,"div",19)(40,"a",23),b("click",function(){return p(s),u(t.onActionButtonGetBalance(t.tableRowSelected))}),M(41,"i",24)(42,"br"),a(),r(43,"p",21),m(44),h(45,"translate"),a()(),r(46,"div",19)(47,"a",20),b("click",function(d){return p(s),u(t.onActionButtonSupersedesList(t.tableRowSelected,d))}),M(48,"i",25)(49,"br"),a(),r(50,"p",21),m(51),h(52,"translate"),a()(),r(53,"div",19)(54,"a",20),b("click",function(d){return p(s),u(t.onActionButtonMustSupersedesList(t.tableRowSelected,d))}),M(55,"i",25)(56,"br"),a(),r(57,"p",21),m(58),h(59,"translate"),a()(),r(60,"div",19)(61,"a",20),b("click",function(d){return p(s),u(t.onActionButtonNumbersList(t.tableRowSelected,d))}),M(62,"i",26)(63,"br"),a(),r(64,"p",21),m(65),h(66,"translate"),a()(),r(67,"div",19)(68,"a",20),b("click",function(d){return p(s),u(t.onActionButtonPriceServicesList(t.tableRowSelected,d))}),M(69,"i",27)(70,"br"),a(),r(71,"p",21),m(72),h(73,"translate"),a()(),r(74,"div",19)(75,"a",20),b("click",function(d){return p(s),u(t.onActionButtonPermitionList(t.tableRowSelected,d))}),M(76,"i",28)(77,"br"),a(),r(78,"p",21),m(79),h(80,"translate"),a()(),r(81,"div",19)(82,"a",20),b("click",function(d){return p(s),u(t.onActionButtonOutBoxQueue(t.tableRowSelected,d))}),M(83,"i",29)(84,"br"),a(),r(85,"p",21),m(86),h(87,"translate"),a()(),v(88,kp,7,3,"div",17)(89,Lp,7,3,"div",17)(90,Vp,7,3,"div",17),P(),T(91,30),r(92,"app-cms-search-list",31),E("optionsChange",function(d){return p(s),y(t.optionsSearch,d)||(t.optionsSearch=d),u(d)}),a(),r(93,"app-cms-statist-list",31),E("optionsChange",function(d){return p(s),y(t.optionsStatist,d)||(t.optionsStatist=d),u(d)}),a(),P(),T(94,32),r(95,"mat-table",33,0),b("matSortChange",function(){p(s);let d=x(96);return u(t.onTableSortData(d))})("cdkDropListDropped",function(d){return p(s),u(t.onTableDropRow(d))}),T(97,34),v(98,Np,3,3,"mat-header-cell",35)(99,Fp,2,1,"mat-cell",36),P(),T(100,37),v(101,Gp,2,1,"mat-header-cell",35)(102,Op,2,1,"mat-cell",36),P(),T(103,38),v(104,Hp,2,1,"mat-header-cell",35)(105,Wp,4,6,"mat-cell",39),P(),T(106,40),v(107,Up,2,1,"mat-header-cell",35)(108,qp,2,1,"mat-cell",36),P(),T(109,41),v(110,jp,2,1,"mat-header-cell",35)(111,Qp,3,4,"mat-cell",36),P(),T(112,42),v(113,zp,2,1,"mat-header-cell",35)(114,Kp,3,4,"mat-cell",36),P(),T(115,43),v(116,Jp,2,1,"mat-header-cell",35)(117,Xp,3,3,"mat-cell",36),P(),T(118,44),v(119,Yp,3,3,"mat-header-cell",45)(120,Zp,6,1,"mat-cell",46),P(),T(121,47),v(122,$p,2,0,"mat-header-cell",35)(123,e0,3,0,"mat-cell",36),P(),v(124,t0,1,0,"mat-header-row",48)(125,n0,2,3,"mat-row",49),a(),P(),T(126,50),r(127,"mat-paginator",51,1),b("page",function(d){return p(s),u(t.onTablePageingData(d))}),a(),P(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!t.requestLinkCompanyId||t.requestLinkCompanyId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),c("ngIf",(t.requestLinkCompanyId==null?null:t.requestLinkCompanyId.length)>0),o(4),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),g("",_(15,39,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),g("",_(19,41,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),g(" ",_(31,43,"ACTION.SEND_TEST")," "),o(7),g(" ",_(38,45,"ACTION.SEND_MESSAGE")," "),o(7),g(" ",_(45,47,"ACTION.GET_BALANCE")," "),o(7),g(" ",_(52,49,"ACTION.BACKUP_ROUTES")," "),o(7),g(" ",_(59,51,"ACTION.SUPPORTED_ROUTES")," "),o(7),g(" ",_(66,53,"ACTION.SPECIFIC_NUMBERS")," "),o(7),g(" ",_(73,55,"ACTION.PRICE_LIST")," "),o(7),g(" ",_(80,57,"ACTION.ACEESS")," "),o(7),g(" ",_(87,59,"ACTION.QUEUE")," "),o(2),c("ngIf",t.categoryModelSelected&&t.categoryModelSelected.id.length>0),o(),c("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),o(),c("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),o(2),A("options",t.optionsSearch),o(),A("options",t.optionsStatist),o(2),c("dataSource",t.tableSource)("cdkDropListData",t.tableSource),o(29),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ve(61,Tp)))},dependencies:[qe,O,Fe,Ee,ze,Ke,Je,Xe,Ye,Ze,$e,tt,rt,it,et,at,nt,ot,st,lt,ft,St,ht,gt,Io,bo,vo,Ao,Yo,F,No,ct,Rt,_t,vt],encapsulation:2});var qi=Un;var o0=["vform"];function r0(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",29),E("modelChange",function(t){p(e);let s=S();return y(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();A("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function a0(n,l){if(n&1){let e=I();r(0,"mat-chip",30),b("removed",function(){let t=p(e).$implicit,s=S();return u(s.removeTagFirewallAllowIPList(t))}),r(1,"div",31),m(2),a(),r(3,"button",32)(4,"mat-icon"),m(5,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(2),w(e)}}function s0(n,l){if(n&1&&(r(0,"div"),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e," ")}}function l0(n,l){n&1&&(r(0,"mat-error"),m(1," Description is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function d0(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",33),m(2),h(3,"translate"),a(),r(4,"input",34),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),u(t)}),a(),M(5,"mat-datepicker-toggle",25)(6,"mat-datepicker",26,5),a()}if(n&2){let e=x(7),i=S();o(2),w(_(3,4,"TITLE.Expire_Date")),o(2),A("ngModel",i.dataModel.expireDate),c("matDatepicker",e),o(),c("for",e)}}function c0(n,l){if(n&1){let e=I();r(0,"div",35)(1,"button",36),b("click",function(){p(e);let t=S();return u(t.onFormCancel())}),M(2,"i",37),m(3),h(4,"translate"),a(),r(5,"button",38),M(6,"i",39),m(7),h(8,"translate"),a()()}if(n&2){S();let e=x(9);o(3),g(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var qn=class qn extends mt{constructor(e,i,t,s,f,d,k,H){super(s,new ai,d,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainClientPermissionService=s;this.cmsToastrService=f;this.publicHelper=d;this.cdr=k;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new ai;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainClientPermissionService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}addTagFirewallAllowIPList(e){let i=(e.value||"").trim();this.dataModel.firewallAllowIPList||(this.dataModel.firewallAllowIPList=[]),i&&this.dataModel.firewallAllowIPList.push(i),e.chipInput.clear()}removeTagFirewallAllowIPList(e){let i=this.dataModel.firewallAllowIPList.indexOf(e);i>=0&&this.dataModel.firewallAllowIPList.splice(i,1)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};qn.\u0275fac=function(i){return new(i||qn)(C(re),C(oe),C(De),C(hi),C(N),C(B),C(V),C(L))},qn.\u0275cmp=D({type:qn,selectors:[["app-sms-client-add"]],viewQuery:function(i,t){if(i&1&&$(o0,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:49,vars:40,consts:[["vform","ngForm"],["chipListRegulatorNumberList",""],["tagInput",""],["Description",""],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.IP'|translate"],[3,"removed",4,"ngFor","ngForOf"],[1,"input-ltr",3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[4,"ngFor","ngForOf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"removed"],[1,"input-ltr"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",6),M(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),m(4),a(),r(5,"p"),m(6),h(7,"translate"),a(),r(8,"form",10,0),b("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),v(10,r0,1,5,"app-cms-enum-record-status-selector",11),r(11,"app-cms-user-selector",12),h(12,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCmsUser(d))}),a(),r(13,"b"),m(14),h(15,"translate"),a(),r(16,"mat-form-field",13)(17,"mat-label"),m(18),h(19,"translate"),a(),r(20,"mat-chip-grid",14,1),v(22,a0,6,1,"mat-chip",15),r(23,"input",16,2),h(25,"translate"),b("matChipInputTokenEnd",function(d){return p(s),u(t.addTagFirewallAllowIPList(d))}),a()()(),r(26,"div"),m(27),h(28,"translate"),M(29,"br"),v(30,s0,2,1,"div",17),a(),M(31,"br"),r(32,"div",18)(33,"label",19),m(34),a(),r(35,"textarea",20,3),E("ngModelChange",function(d){return p(s),y(t.dataModel.description,d)||(t.dataModel.description=d),u(d)}),a(),r(37,"em"),m(38),a(),v(39,l0,5,3,"mat-error",21),a(),r(40,"div",22)(41,"label",23),m(42),a(),r(43,"input",24),E("ngModelChange",function(d){return p(s),y(t.dataModel.fromDate,d)||(t.dataModel.fromDate=d),u(d)}),a(),M(44,"mat-datepicker-toggle",25)(45,"mat-datepicker",26,4),a(),v(47,d0,8,6,"div",27)(48,c0,9,7,"div",28),a()()()}if(i&2){let s=x(21),f=x(36),d=x(46);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",_(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",_(12,30,"TITLE.USER")),o(3),w(_(15,32,"MESSAGE.firewallAllowIP")),o(4),w(_(19,34,"TITLE.firewallAllowIPList")),o(4),c("ngForOf",t.dataModel.firewallAllowIPList),o(),c("placeholder",_(25,36,"TITLE.IP"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",s)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),g(" ",_(28,38,"TITLE.firewallAllowIPList")," "),o(3),c("ngForOf",t.dataModel.firewallAllowIPList),o(4),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),c("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),A("ngModel",t.dataModel.description),o(3),g("",f.value.length," / 500"),o(),c("ngIf",f.errors==null?null:f.errors.required),o(3),w(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),A("ngModel",t.dataModel.fromDate),c("matDatepicker",d),o(),c("for",d),o(3),c("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[we,O,de,z,K,se,Ae,ye,ne,le,Ai,yi,Ei,Ii,Tt,Pt,xt,bi,vi,pe,wt,Ee,J,ue,Ct,q,F],encapsulation:2});var Zo=qn;var m0=["vform"];function p0(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",31),E("modelChange",function(t){p(e);let s=S();return y(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();A("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function u0(n,l){if(n&1){let e=I();r(0,"div",20)(1,"label",32),m(2),a(),r(3,"input",33,5),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.apiKey,t)||(s.dataModel.apiKey=t),u(t)}),a()()}if(n&2){let e=S();o(2),w(e.fieldsInfo.apiKey==null?null:e.fieldsInfo.apiKey.fieldTitle),o(),A("ngModel",e.dataModel.apiKey),c("disabled",!(e.fieldsInfo.apiKey!=null&&e.fieldsInfo.apiKey.accessEditField))}}function f0(n,l){if(n&1){let e=I();r(0,"mat-chip",34),b("removed",function(){let t=p(e).$implicit,s=S();return u(s.removeTagFirewallAllowIPList(t))}),r(1,"div",35),m(2),a(),r(3,"button",36)(4,"mat-icon"),m(5,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(2),w(e)}}function S0(n,l){if(n&1&&(r(0,"div"),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e," ")}}function h0(n,l){n&1&&(r(0,"mat-error"),m(1," Description is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function g0(n,l){if(n&1){let e=I();r(0,"div",24)(1,"label",37),m(2),h(3,"translate"),a(),r(4,"input",38),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),u(t)}),a(),M(5,"mat-datepicker-toggle",27)(6,"mat-datepicker",28,6),a()}if(n&2){let e=x(7),i=S();o(2),w(_(3,4,"TITLE.Expire_Date")),o(2),A("ngModel",i.dataModel.expireDate),c("matDatepicker",e),o(),c("for",e)}}function _0(n,l){if(n&1){let e=I();r(0,"div",39)(1,"button",40),b("click",function(){p(e);let t=S();return u(t.onFormCancel())}),M(2,"i",41),m(3),h(4,"translate"),a(),r(5,"button",42),M(6,"i",43),m(7),h(8,"translate"),a()()}if(n&2){S();let e=x(9);o(3),g(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var jn=class jn extends pt{constructor(e,i,t,s,f,d,k,H){super(s,new ai,d,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainClientPermissionService=s;this.cmsToastrService=f;this.publicHelper=d;this.cdr=k;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new je;this.dataModel=new ai;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainClientPermissionService.setAccessLoad(),this.smsMainClientPermissionService.setAccessDataType(Be.Editor),this.smsMainClientPermissionService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainClientPermissionService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}addTagFirewallAllowIPList(e){let i=(e.value||"").trim();this.dataModel.firewallAllowIPList||(this.dataModel.firewallAllowIPList=[]),i&&this.dataModel.firewallAllowIPList.push(i),e.chipInput.clear()}removeTagFirewallAllowIPList(e){let i=this.dataModel.firewallAllowIPList.indexOf(e);i>=0&&this.dataModel.firewallAllowIPList.splice(i,1)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};jn.\u0275fac=function(i){return new(i||jn)(C(re),C(oe),C(De),C(hi),C(N),C(B),C(V),C(L))},jn.\u0275cmp=D({type:jn,selectors:[["app-sms-client-edit"]],viewQuery:function(i,t){if(i&1&&$(m0,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:50,vars:41,consts:[["vform","ngForm"],["chipListRegulatorNumberList",""],["tagInput",""],["Description",""],["FromDate",""],["apiKey",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.IP'|translate"],[3,"removed",4,"ngFor","ngForOf"],[1,"input-ltr",3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[4,"ngFor","ngForOf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.apiKey",1,"color-highlight"],["matInput","","name","dataModel.apiKey","type","text","placeholder","1","id","dataModel.apiKey",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[3,"removed"],[1,"input-ltr"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",7),M(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),m(4),a(),r(5,"p"),m(6),h(7,"translate"),a(),r(8,"form",11,0),b("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),v(10,p0,1,5,"app-cms-enum-record-status-selector",12),r(11,"app-cms-user-selector",13),h(12,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectorCmsUser(d))}),a(),v(13,u0,5,3,"div",14),r(14,"b"),m(15),h(16,"translate"),a(),r(17,"mat-form-field",15)(18,"mat-label"),m(19),h(20,"translate"),a(),r(21,"mat-chip-grid",16,1),v(23,f0,6,1,"mat-chip",17),r(24,"input",18,2),h(26,"translate"),b("matChipInputTokenEnd",function(d){return p(s),u(t.addTagFirewallAllowIPList(d))}),a()()(),r(27,"div"),m(28),h(29,"translate"),M(30,"br"),v(31,S0,2,1,"div",19),a(),M(32,"br"),r(33,"div",20)(34,"label",21),m(35),a(),r(36,"textarea",22,3),E("ngModelChange",function(d){return p(s),y(t.dataModel.description,d)||(t.dataModel.description=d),u(d)}),a(),r(38,"em"),m(39),a(),v(40,h0,5,3,"mat-error",23),a(),r(41,"div",24)(42,"label",25),m(43),a(),r(44,"input",26),E("ngModelChange",function(d){return p(s),y(t.dataModel.fromDate,d)||(t.dataModel.fromDate=d),u(d)}),a(),M(45,"mat-datepicker-toggle",27)(46,"mat-datepicker",28,4),a(),v(48,g0,8,6,"div",29)(49,_0,9,7,"div",30),a()()()}if(i&2){let s=x(22),f=x(37),d=x(47);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",_(7,29,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",_(12,31,"TITLE.USER")),o(2),c("ngIf",t.fieldsInfo.apiKey==null?null:t.fieldsInfo.apiKey.accessWatchField),o(2),w(_(16,33,"MESSAGE.firewallAllowIP")),o(4),w(_(20,35,"TITLE.firewallAllowIPList")),o(4),c("ngForOf",t.dataModel.firewallAllowIPList),o(),c("placeholder",_(26,37,"TITLE.IP"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",s)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),g(" ",_(29,39,"TITLE.firewallAllowIPList")," "),o(3),c("ngForOf",t.dataModel.firewallAllowIPList),o(4),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),c("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),A("ngModel",t.dataModel.description),o(3),g("",f.value.length," / 500"),o(),c("ngIf",f.errors==null?null:f.errors.required),o(3),w(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),A("ngModel",t.dataModel.fromDate),c("matDatepicker",d),o(),c("for",d),o(3),c("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[we,O,de,z,K,se,Ae,ye,ne,le,Ai,yi,Ei,Ii,Tt,Pt,xt,bi,vi,pe,wt,Ee,J,ue,Ct,q,F],encapsulation:2});var $o=jn;var M0=()=>["expandedDetail"],C0=()=>[5,10,20,100],v0=n=>({display:n});function b0(n,l){if(n&1&&M(0,"app-core-user-header",41),n&2){let e=S();c("optionId",e.requestLinkUserId)}}function I0(n,l){if(n&1){let e=I();r(0,"div",42)(1,"a",43),b("click",function(){p(e);let t=S();return u(t.onActionButtonNewRow())}),M(2,"i",44)(3,"br"),a(),r(4,"p",45),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.ADD")," "))}function A0(n,l){if(n&1){let e=I();r(0,"div",42)(1,"a",46),b("click",function(){p(e);let t=S();return u(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",47)(3,"br"),a(),r(4,"p",45),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.EDIT")," "))}function y0(n,l){if(n&1){let e=I();r(0,"div",42)(1,"a",48),b("click",function(){p(e);let t=S();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",49)(3,"br"),a(),r(4,"p",45),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.DELETE")," "))}function E0(n,l){if(n&1&&(r(0,"mat-header-cell",50),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function w0(n,l){if(n&1&&(r(0,"mat-cell"),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.id," ")}}function T0(n,l){if(n&1&&(r(0,"mat-header-cell",50),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function P0(n,l){if(n&1&&(r(0,"mat-cell",51),h(1,"statusCellClass"),M(2,"i",51),h(3,"statusIconClass"),a()),n&2){let e=l.$implicit;c("ngClass",_(1,2,e.recordStatus)),o(2),c("ngClass",_(3,4,e.recordStatus))}}function x0(n,l){if(n&1&&(r(0,"mat-header-cell",50),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.linkCoreUserId==null?null:e.fieldsInfo.linkCoreUserId.fieldTitle," ")}}function R0(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"cmsuserinfo"),h(3,"async"),a()),n&2){let e=l.$implicit;o(),g(" ",_(3,3,_(2,1,e.linkCoreUserId))," ")}}function D0(n,l){if(n&1&&(r(0,"mat-header-cell",50),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle," ")}}function k0(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",_(2,1,e.fromDate)," ")}}function L0(n,l){if(n&1&&(r(0,"mat-header-cell",50),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function V0(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",_(2,1,e.expireDate)," ")}}function N0(n,l){if(n&1&&(r(0,"mat-header-cell",50),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function B0(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",_(2,1,e.createdDate)," ")}}function F0(n,l){if(n&1&&(r(0,"mat-header-cell",50),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function G0(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",_(2,1,e.updatedDate)," ")}}function O0(n,l){n&1&&(r(0,"mat-header-cell"),m(1),h(2,"translate"),a()),n&2&&(o(),g(" ",_(2,1,"TITLE.OPTION")," "))}function H0(n,l){if(n&1&&(r(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),m(3,"more_vert"),a()(),M(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),c("matMenuTriggerFor",e)}}function W0(n,l){if(n&1&&(r(0,"tr"),M(1,"td"),r(2,"td"),m(3),h(4,"cmsuserinfo"),h(5,"async"),a()()),n&2){let e=S().$implicit,i=S();o(3),Ce(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",_(5,4,_(4,2,e.description))," ")}}function U0(n,l){if(n&1&&(r(0,"tr"),M(1,"td"),r(2,"td"),m(3),h(4,"cmssiteinfo"),h(5,"async"),a()()),n&2){let e=S().$implicit,i=S();o(3),Ce(" ",i.fieldsInfo.linkCoreSiteId==null?null:i.fieldsInfo.linkCoreSiteId.fieldTitle," : ",_(5,4,_(4,2,e.linkCoreSiteId))," ")}}function q0(n,l){if(n&1&&(r(0,"tr"),M(1,"td"),r(2,"td"),m(3),h(4,"localeDate"),a()()),n&2){let e=S().$implicit,i=S();o(3),Ce(" ",i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle," : ",_(4,2,e.fromDate)," ")}}function j0(n,l){if(n&1&&(r(0,"tr"),M(1,"td"),r(2,"td"),m(3),h(4,"localeDate"),a()()),n&2){let e=S().$implicit,i=S();o(3),Ce(" ",i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle," : ",_(4,2,e.expireDate)," ")}}function Q0(n,l){if(n&1&&(r(0,"tr"),M(1,"td"),r(2,"td"),m(3),h(4,"localeDate"),a()()),n&2){let e=S().$implicit,i=S();o(3),Ce(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle," : ",_(4,2,e.createdDate)," ")}}function z0(n,l){if(n&1&&(r(0,"tr"),M(1,"td"),r(2,"td"),m(3),h(4,"localeDate"),a()()),n&2){let e=S().$implicit,i=S();o(3),Ce(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",_(4,2,e.updatedDate)," ")}}function K0(n,l){if(n&1&&(r(0,"mat-cell")(1,"div")(2,"table"),v(3,W0,6,6,"tr",54)(4,U0,6,6,"tr",54)(5,q0,5,4,"tr",54)(6,j0,5,4,"tr",54)(7,Q0,5,4,"tr",54)(8,z0,5,4,"tr",54),r(9,"tr"),M(10,"td")(11,"td"),a()()()()),n&2){let e=l.$implicit;o(3),c("ngIf",e.description),o(),c("ngIf",e.linkCoreSiteId),o(),c("ngIf",e.fromDate),o(),c("ngIf",e.expireDate),o(),c("ngIf",e.createdDate),o(),c("ngIf",e.updatedDate)}}function J0(n,l){n&1&&M(0,"mat-header-row")}function X0(n,l){if(n&1){let e=I();r(0,"mat-row",55),b("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Y0(n,l){if(n&1){let e=I();r(0,"mat-row",56),b("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=p(e).$implicit,s=S();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,s=S();return u(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),c("ngStyle",ci(3,v0,e.expanded===!0?"":"none"))}}var Qn=class Qn extends ut{constructor(e,i,t,s,f,d,k,H,kt,Kt,It,ti){super(e,new ai,It,d,H);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=s;this.router=f;this.tokenHelper=d;this.cdr=k;this.translate=H;this.cmsStoreService=kt;this.pageInfo=Kt;this.publicHelper=It;this.dialog=ti;this.requestLinkUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["RecordStatus","linkCoreUserId","fromDate","expireDate"];this.tabledisplayedColumnsMobileSource=["RecordStatus","linkCoreUserId","fromDate","expireDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ae=>this.onSubmitOptionsSearch(ae)},this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkUserId>0){let ae=new Q;ae.propertyName="LinkCoreUserId",ae.value=this.requestLinkUserId,this.filteModelContent.filters.push(ae)}this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=j.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ve(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ai);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Zo,{height:"90%",panelClass:e,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open($o,{height:"90%",panelClass:i,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(f,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(t,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Q;f.propertyName="RecordStatus",f.value=Ne.Available,s.filters.push(f),this.contentService.ServiceGetCount(s).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Qn.\u0275fac=function(i){return new(i||Qn)(C(hi),C(N),C(Et),C(He),C(Qe),C(xe),C(V),C(L),C(Pe),C(dt),C(B),C(Te))},Qn.\u0275cmp=D({type:Qn,selectors:[["app-sms-client-list"]],standalone:!1,features:[W],decls:63,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkCoreUserId"],["matColumnDef","fromDate"],["matColumnDef","expireDate"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[4,"ngIf"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=I();v(0,b0,1,1,"app-core-user-header",3),r(1,"app-cms-html-list",4),E("optionActionGuideNoticeDisplayChange",function(d){return p(s),y(t.viewGuideNotice,d)||(t.viewGuideNotice=d),u(d)}),b("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),T(2,5),m(3," -------------------------------------- "),P(),Le(4,6)(5,7),T(6,8),r(7,"a",9),b("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),M(8,"i",10),a(),r(9,"a",9),b("click",function(){return p(s),u(t.onActionButtonReload())}),M(10,"i",11),a(),P(),T(11,12),r(12,"a",13),b("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),M(13,"mat-slide-toggle",14),m(14),h(15,"translate"),a(),r(16,"a",13),b("click",function(){return p(s),u(t.onActionButtonStatist())}),M(17,"mat-slide-toggle",14),m(18),h(19,"translate"),a(),P(),T(20,15),v(21,I0,7,3,"div",16),P(),T(22,17),v(23,A0,7,3,"div",16)(24,y0,7,3,"div",16),P(),T(25,18),r(26,"app-cms-search-list",19),E("optionsChange",function(d){return p(s),y(t.optionsSearch,d)||(t.optionsSearch=d),u(d)}),a(),r(27,"app-cms-statist-list",19),E("optionsChange",function(d){return p(s),y(t.optionsStatist,d)||(t.optionsStatist=d),u(d)}),a(),P(),T(28,20),r(29,"mat-table",21,0),b("matSortChange",function(){p(s);let d=x(30);return u(t.onTableSortData(d))}),T(31,22),v(32,E0,2,1,"mat-header-cell",23)(33,w0,2,1,"mat-cell",24),P(),T(34,25),v(35,T0,2,1,"mat-header-cell",23)(36,P0,4,6,"mat-cell",26),P(),T(37,27),v(38,x0,2,1,"mat-header-cell",23)(39,R0,4,5,"mat-cell",24),P(),T(40,28),v(41,D0,2,1,"mat-header-cell",23)(42,k0,3,3,"mat-cell",24),P(),T(43,29),v(44,L0,2,1,"mat-header-cell",23)(45,V0,3,3,"mat-cell",24),P(),T(46,30),v(47,N0,2,1,"mat-header-cell",23)(48,B0,3,3,"mat-cell",24),P(),T(49,31),v(50,F0,2,1,"mat-header-cell",23)(51,G0,3,3,"mat-cell",24),P(),T(52,32),v(53,O0,3,3,"mat-header-cell",33)(54,H0,6,1,"mat-cell",34),P(),T(55,35),v(56,K0,12,6,"mat-cell",24),P(),v(57,J0,1,0,"mat-header-row",36)(58,X0,1,2,"mat-row",37)(59,Y0,1,5,"mat-row",38),a(),P(),T(60,39),r(61,"mat-paginator",40,1),b("page",function(d){return p(s),u(t.onTablePageingData(d))}),a(),P(),a()}i&2&&(c("ngIf",t.requestLinkUserId>0),o(),c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),g("",_(15,27,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),g("",_(19,29,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),A("options",t.optionsSearch),o(),A("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(28),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(),c("matRowDefColumns",Ve(31,M0)),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ve(32,C0)))},dependencies:[qe,O,mi,Fe,Ee,ze,Ke,Je,Xe,Ye,Ze,$e,tt,rt,it,et,at,nt,ot,st,lt,ft,St,ht,gt,Ur,At,F,fn,wi,Rt,_t,vt],encapsulation:2});var So=Qn;var Z0=["*"];function $0(n,l){if(n&1&&(r(0,"label",14),m(1),a()),n&2){let e=S();c("for",ii("app-cms-site-selector-",e.id)),o(),w(e.optionLabel)}}function eu(n,l){if(n&1&&(M(0,"img",15),h(1,"cmsthumbnail")),n&2){let e=S();c("src",R(_(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),Me)}}function tu(n,l){if(n&1&&(M(0,"img",15),h(1,"cmsthumbnail")),n&2){let e=S().$implicit;c("src",R(_(1,2,e.linkMainImageIdSrc)),Me)}}function iu(n,l){if(n&1&&(r(0,"mat-option",16),v(1,tu,2,4,"img",5),r(2,"span"),m(3),a()()),n&2){let e=l.$implicit,i=S();c("value",e)("disabled",i.optionDisabled),o(),c("ngIf",e.linkMainImageIdSrc),o(2),w(i.displayOption(e))}}function nu(n,l){n&1&&M(0,"i",17)}function ou(n,l){n&1&&M(0,"i",18)}function ru(n,l){if(n&1){let e=I();r(0,"i",19),b("click",function(){p(e);let t=S();return u(t.onActionSelectClear())}),a()}}function au(n,l){n&1&&(r(0,"em"),m(1),h(2,"translate"),a()),n&2&&(o(),g("(",_(2,1,"TITLE.Necessary"),")"))}var ji=class ji{constructor(l,e,i,t,s,f){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.categoryService=f;this.id=++ji.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new bt;this.formControl=new Yt;this.optionPlaceholder="";this.optionRequired=!1;this.optionDisabled=!1;this.optionLabel="";this.optionSelectFirstItem=!1;this.optionChange=new Ue;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(nn(""),en(1500),tn(),on(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return ve(this,null,function*(){let e=new Y;e.rowPerPage=20,e.accessLoad=!0;let i=new Q;l&&l.length>0&&(i.propertyName="Title",i.value=l,i.searchType=Qt.Contains,i.clauseType=pi.Or,e.filters.push(i)),l&&typeof l=="string"&&l.length>10&&(i=new Q,i.propertyName="Id",i.value=l,i.searchType=Qt.Equal,i.clauseType=pi.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield Zi(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length==0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe($i(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof bt){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new bt,this.loadOptions()}};ji.nextId=0,ji.\u0275fac=function(e){return new(e||ji)(C(be),C(N),C(V),C(B),C(L),C(Ft))},ji.\u0275cmp=D({type:ji,selectors:[["app-sms-main-message-category-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionRequired:"optionRequired",optionDisabled:"optionDisabled",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Z0,decls:18,vars:25,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();rn(),r(0,"div",1),M(1,"app-progress-spinner",2),v(2,$0,2,3,"label",3),r(3,"span",4),v(4,eu,2,4,"img",5),m(5," \xA0"),a(),M(6,"input",6),r(7,"mat-autocomplete",7,0),b("optionSelected",function(f){return p(t),u(i.onActionSelect(f.option.value))}),v(9,iu,4,4,"mat-option",8),h(10,"async"),a(),v(11,nu,1,0,"i",9)(12,ou,1,0,"i",10)(13,ru,1,0,"i",11),r(14,"i",12),h(15,"translate"),b("click",function(){return p(t),u(i.onActionButtonReload())}),a(),v(16,au,3,3,"em",13),an(17),a()}if(e&2){let t=x(8);o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),c("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),c("placeholder",R(i.optionPlaceholder))("id",ii("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Jt("disabled",i.optionDisabled?!0:null),o(),c("displayWith",i.displayFn),o(2),c("ngForOf",_(10,21,i.filteredOptions)),o(2),c("ngIf",!i.formControl.valid),o(),c("ngIf",i.optionRequired&&i.formControl.valid),o(),c("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),X("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),c("title",R(_(15,23,"ACTION.RELOAD"))),o(2),c("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[we,O,z,K,_e,cn,pn,mn,un,yo,J,q,At,F,ct],encapsulation:2});var zn=ji;var su=["vform"];function lu(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",16),E("modelChange",function(t){p(e);let s=S();return y(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();A("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function du(n,l){n&1&&M(0,"i",21)}function cu(n,l){n&1&&M(0,"i",22)}function mu(n,l){n&1&&(r(0,"mat-error"),m(1," Title is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function pu(n,l){if(n&1){let e=I();r(0,"div",11)(1,"label",17),m(2),a(),r(3,"input",18,2),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),a(),v(5,du,1,0,"i",19)(6,cu,1,0,"i",20),r(7,"em"),m(8),a(),v(9,mu,5,3,"mat-error",14),a()}if(n&2){let e=x(4),i=S();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),A("ngModel",i.dataModel.title),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function uu(n,l){n&1&&(r(0,"mat-error"),m(1," messageBody is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function fu(n,l){if(n&1){let e=I();r(0,"div",23)(1,"button",24),b("click",function(){p(e);let t=S();return u(t.onFormCancel())}),M(2,"i",25),m(3),h(4,"translate"),a(),r(5,"button",26),M(6,"i",27),m(7),h(8,"translate"),a()()}if(n&2){S();let e=x(9);o(3),g(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var Kn=class Kn extends mt{constructor(e,i,t,s,f,d,k,H){super(s,new si,d,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.SmsMainMessageContentService=s;this.cmsToastrService=f;this.publicHelper=d;this.cdr=k;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new si;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.linkCategoryId&&e.linkCategoryId.length>0&&(this.dataModel.linkCategoryId=e.linkCategoryId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.SmsMainMessageContentService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){if(this.formGroup.valid){if(!this.dataModel.linkCategoryId||this.dataModel.linkCategoryId.length==0){this.cmsToastrService.typeErrorSelected("\u062F\u0633\u062A \u0628\u0646\u062F\u06CC   \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.formInfo.submitButtonEnabled=!1,this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(e){if(!e||e.id?.length==0){this.translate.get("MESSAGE.Category_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkCategoryId=e.id}};Kn.\u0275fac=function(i){return new(i||Kn)(C(re),C(oe),C(be),C(gi),C(N),C(B),C(V),C(L))},Kn.\u0275cmp=D({type:Kn,selectors:[["app-sms-main-message-content-add"]],viewQuery:function(i,t){if(i&1&&$(su,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:23,vars:18,consts:[["vform","ngForm"],["messageBody",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.messageBody",1,"color-highlight"],["matInput","","name","dataModel.messageBody","type","text","minlength","1","maxlength","5000","rows","5","id","dataModel.messageBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",3),M(1,"app-progress-spinner",4),r(2,"div",5)(3,"p",6),m(4),a(),r(5,"p"),m(6),h(7,"translate"),a(),r(8,"form",7,0),b("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),v(10,lu,1,5,"app-cms-enum-record-status-selector",8),r(11,"app-sms-main-message-category-selector",9),h(12,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectCategory(d))}),a(),v(13,pu,10,8,"div",10),r(14,"div",11)(15,"label",12),m(16),a(),r(17,"textarea",13,1),E("ngModelChange",function(d){return p(s),y(t.dataModel.messageBody,d)||(t.dataModel.messageBody=d),u(d)}),a(),r(19,"em"),m(20),a(),v(21,uu,5,3,"mat-error",14),a(),v(22,fu,9,7,"div",15),a()()()}if(i&2){let s=x(18);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",_(7,14,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionSelectForce",t.dataModel.linkCategoryId)("optionPlaceholder",_(12,16,"TITLE.Category")),o(2),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),w(t.fieldsInfo.messageBody==null?null:t.fieldsInfo.messageBody.fieldTitle),o(),c("placeholder",R(t.fieldsInfo.messageBody==null?null:t.fieldsInfo.messageBody.fieldTitle)),A("ngModel",t.dataModel.messageBody),o(3),g("",s.value.length," / 5000"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,de,z,K,se,_e,Ae,ye,ne,le,pe,J,ue,q,zn,F],encapsulation:2});var er=Kn;var Su=["vform"];function hu(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",16),E("modelChange",function(t){p(e);let s=S();return y(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();A("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function gu(n,l){n&1&&M(0,"i",21)}function _u(n,l){n&1&&M(0,"i",22)}function Mu(n,l){n&1&&(r(0,"mat-error"),m(1," Title is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function Cu(n,l){if(n&1){let e=I();r(0,"div",11)(1,"label",17),m(2),a(),r(3,"input",18,2),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),a(),v(5,gu,1,0,"i",19)(6,_u,1,0,"i",20),r(7,"em"),m(8),a(),v(9,Mu,5,3,"mat-error",14),a()}if(n&2){let e=x(4),i=S();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),A("ngModel",i.dataModel.title),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function vu(n,l){n&1&&(r(0,"mat-error"),m(1," messageBody is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function bu(n,l){if(n&1){let e=I();r(0,"div",23)(1,"button",24),b("click",function(){p(e);let t=S();return u(t.onFormCancel())}),M(2,"i",25),m(3),h(4,"translate"),a(),r(5,"button",26),M(6,"i",27),m(7),h(8,"translate"),a()()}if(n&2){S();let e=x(9);o(3),g(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var Jn=class Jn extends pt{constructor(e,i,t,s,f,d,k,H){super(s,new si,d,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.SmsMainMessageContentService=s;this.cmsToastrService=f;this.publicHelper=d;this.cdr=k;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new je;this.dataModel=new si;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.SmsMainMessageContentService.setAccessLoad(),this.SmsMainMessageContentService.setAccessDataType(Be.Editor),this.SmsMainMessageContentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.SmsMainMessageContentService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){if(this.formGroup.valid){if(!this.dataModel.linkCategoryId||this.dataModel.linkCategoryId.length==0){this.translate.get("MESSAGE.Category_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.formInfo.submitButtonEnabled=!1,this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(e){if(!e||e.id.length==0){this.translate.get("MESSAGE.Category_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkCategoryId=e.id}};Jn.\u0275fac=function(i){return new(i||Jn)(C(re),C(oe),C(be),C(gi),C(N),C(B),C(V),C(L))},Jn.\u0275cmp=D({type:Jn,selectors:[["app-sms-main-message-content-edit"]],viewQuery:function(i,t){if(i&1&&$(Su,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:23,vars:18,consts:[["vform","ngForm"],["messageBody",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.messageBody",1,"color-highlight"],["matInput","","name","dataModel.messageBody","type","text","minlength","1","maxlength","5000","rows","5","id","dataModel.messageBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",3),M(1,"app-progress-spinner",4),r(2,"div",5)(3,"p",6),m(4),a(),r(5,"p"),m(6),h(7,"translate"),a(),r(8,"form",7,0),b("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),v(10,hu,1,5,"app-cms-enum-record-status-selector",8),r(11,"app-sms-main-message-category-selector",9),h(12,"translate"),b("optionChange",function(d){return p(s),u(t.onActionSelectCategory(d))}),a(),v(13,Cu,10,8,"div",10),r(14,"div",11)(15,"label",12),m(16),a(),r(17,"textarea",13,1),E("ngModelChange",function(d){return p(s),y(t.dataModel.messageBody,d)||(t.dataModel.messageBody=d),u(d)}),a(),r(19,"em"),m(20),a(),v(21,vu,5,3,"mat-error",14),a(),v(22,bu,9,7,"div",15),a()()()}if(i&2){let s=x(18);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",_(7,14,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionSelectForce",t.dataModel.linkCategoryId)("optionPlaceholder",_(12,16,"TITLE.Category")),o(2),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),w(t.fieldsInfo.messageBody==null?null:t.fieldsInfo.messageBody.fieldTitle),o(),c("placeholder",R(t.fieldsInfo.messageBody==null?null:t.fieldsInfo.messageBody.fieldTitle)),A("ngModel",t.dataModel.messageBody),o(3),g("",s.value.length," / 5000"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,de,z,K,se,_e,Ae,ye,ne,le,pe,J,ue,q,zn,F],encapsulation:2});var tr=Jn;var Iu=["vform"];function Au(n,l){if(n&1){let e=I();T(0),r(1,"div",6)(2,"label",10),m(3),a(),r(4,"input",11,0),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModelResultCategory.item.title,t)||(s.dataModelResultCategory.item.title=t),u(t)}),a()(),r(6,"div",6)(7,"label",7),m(8),a(),r(9,"textarea",8,0),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModelResultCategory.item.description,t)||(s.dataModelResultCategory.item.description=t),u(t)}),m(11,"        "),a()(),P()}if(n&2){let e=S();o(3),w(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),A("ngModel",e.dataModelResultCategory.item.title),o(4),w(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),A("ngModel",e.dataModelResultCategory.item.description)}}function yu(n,l){if(n&1){let e=I();r(0,"div",12)(1,"button",13),b("click",function(){p(e);let t=S();return u(t.onFormMove())}),M(2,"i",14),m(3),h(4,"translate"),a(),r(5,"button",15),b("click",function(){p(e);let t=S();return u(t.onFormDelete())}),M(6,"i",16),m(7),h(8,"translate"),a(),r(9,"button",17),b("click",function(){p(e);let t=S();return u(t.onFormCancel())}),M(10,"i",14),m(11),h(12,"translate"),a()()}if(n&2){let e=S();o(),c("disabled",!e.formInfo.submitButtonEnabled),o(2),g(" ",_(4,5,"TITLE.MOVE_DATA")," "),o(2),c("disabled",!e.formInfo.submitButtonEnabled),o(2),g(" ",_(8,7,"ACTION.DELETE")," "),o(4),g(" ",_(12,9,"ACTION.CANCEL")," ")}}var Xn=class Xn{constructor(l,e,i,t,s,f,d){this.data=l;this.dialogRef=e;this.publicHelper=i;this.smsMainMessageCategoryService=t;this.cdr=s;this.translate=f;this.cmsToastrService=d;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultCategory=new G;this.dataModelResultCategoryAllData=new G;this.dataModel={};this.formInfo=new ie;this.publicHelper.processService.cdr=this.cdr,l&&l.id&&l.id.length>0&&(this.requestId=l.id)}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(),this.DataGetAll()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.setAccessLoad(),this.smsMainMessageCategoryService.setAccessDataType(Be.Editor),this.smsMainMessageCategoryService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultCategory=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}DataGetAll(){this.translate.get("TITLE.Loading_Information").subscribe(i=>{this.formInfo.submitResultMessage=i});let l=new Y;l.rowPerPage=100;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceGetAll(l).subscribe({next:i=>{this.dataModelResultCategoryAllData=i,i.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetAll()),this.publicHelper.processService.processStop(e)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormMove(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(!this.formGroup.valid)return;this.formInfo.submitButtonEnabled=!0,this.dataModel.newCatId===this.requestId&&(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitButtonEnabled=!0),this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceMove(this.requestId,this.dataModel.newCatId).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.The_Transfer_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessMove()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMove()),this.formInfo.submitButtonEnabled=!0,this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormChangeNewCatId(l){if(this.formInfo.submitResultMessage="",this.requestId.length===0||!l||l.id.length<=0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.dataModel.newCatId=l.id,this.dataModel.newCatId===this.requestId?(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitButtonEnabled=!1):(this.formInfo.submitButtonEnabled=!0,this.formInfo.submitResultMessage="")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Xn.\u0275fac=function(e){return new(e||Xn)(C(re),C(oe),C(B),C(Ft),C(V),C(L),C(N))},Xn.\u0275cmp=D({type:Xn,selectors:[["app-sms-main-message-category-delete"]],viewQuery:function(e,i){if(e&1&&$(Iu,5),e&2){let t;ee(t=te())&&(i.formGroup=t.first)}},standalone:!1,decls:16,vars:9,consts:[["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultCategory.item.description",1,"color-highlight"],["matInput","","type","text","name","dataModelResultCategory.item.description","minlength","1","maxlength","100","rows","5","id","dataModelResultCategory.item.description","placeholder","0",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],["for","dataModelResultCategory.item.title",1,"color-highlight"],["matInput","","type","text","name","dataModelResultCategory.item.title","minlength","3","maxlength","50","id","dataModelResultCategory.item.title","placeholder","0",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"]],template:function(e,i){if(e&1){let t=I();r(0,"div",1),M(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),m(4),a(),r(5,"p"),m(6),h(7,"translate"),a(),v(8,Au,12,4,"ng-container",5),r(9,"div",6)(10,"label",7),m(11),a(),r(12,"textarea",8,0),E("ngModelChange",function(f){return p(t),y(i.dataModelResultCategory.item.description,f)||(i.dataModelResultCategory.item.description=f),u(f)}),m(14,"      "),a()(),v(15,yu,13,11,"div",9),a()()}e&2&&(o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(3),g(" ",i.formInfo.formTitle," "),o(2),g(" ",_(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("ngIf",i.dataModelResultCategory==null?null:i.dataModelResultCategory.item),o(3),w(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),A("ngModel",i.dataModelResultCategory.item.description),o(3),c("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[O,z,K,Ae,ye,ne,J,q,F],encapsulation:2});var ir=Xn;var Eu=["vform"];function wu(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",22),E("modelChange",function(t){p(e);let s=S();return y(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();A("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Tu(n,l){n&1&&M(0,"i",27)}function Pu(n,l){n&1&&M(0,"i",28)}function xu(n,l){n&1&&(r(0,"mat-error"),m(1," Title is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function Ru(n,l){if(n&1){let e=I();r(0,"div",11)(1,"label",23),m(2),a(),r(3,"input",24,3),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),a(),v(5,Tu,1,0,"i",25)(6,Pu,1,0,"i",26),r(7,"em"),m(8),a(),v(9,xu,5,3,"mat-error",14),a()}if(n&2){let e=x(4),i=S();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),A("ngModel",i.dataModel.title),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Du(n,l){n&1&&(r(0,"mat-error"),m(1," Description is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function ku(n,l){if(n&1&&(M(0,"img",29),h(1,"cmsthumbnail")),n&2){let e=S();c("src",R(_(1,2,e.dataModel.linkMainImageIdSrc)),Me)}}function Lu(n,l){if(n&1){let e=I();r(0,"div",30)(1,"button",31),b("click",function(){p(e);let t=S();return u(t.onFormCancel())}),M(2,"i",32),m(3),h(4,"translate"),a(),r(5,"button",33),M(6,"i",34),m(7),h(8,"translate"),a()()}if(n&2){S();let e=x(9);o(3),g(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var Yn=class Yn extends pt{constructor(e,i,t,s,f,d,k,H){super(s,new bt,d,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainMessageCategoryService=s;this.cmsToastrService=f;this.publicHelper=d;this.cdr=k;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new je;this.dataModel=new bt;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&e.id.length>0&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId.length==0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.setAccessLoad(),this.smsMainMessageCategoryService.setAccessDataType(Be.Editor),this.smsMainMessageCategoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Yn.\u0275fac=function(i){return new(i||Yn)(C(re),C(oe),C(be),C(Ft),C(N),C(B),C(V),C(L))},Yn.\u0275cmp=D({type:Yn,selectors:[["app-sms-main-message-category-edit"]],viewQuery:function(i,t){if(i&1&&$(Eu,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:33,vars:35,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",4),M(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),m(4),a(),r(5,"p"),m(6),h(7,"translate"),a(),r(8,"form",8,0),b("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),v(10,wu,1,5,"app-cms-enum-record-status-selector",9)(11,Ru,10,8,"div",10),r(12,"div",11)(13,"label",12),m(14),a(),r(15,"textarea",13,1),E("ngModelChange",function(d){return p(s),y(t.dataModel.description,d)||(t.dataModel.description=d),u(d)}),a(),r(17,"em"),m(18),a(),v(19,Du,5,3,"mat-error",14),a(),r(20,"div",15)(21,"a",16),h(22,"cmsthumbnail"),v(23,ku,2,4,"img",17),a()(),r(24,"div",11)(25,"label",18),b("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),m(26),h(27,"translate"),a(),r(28,"input",19,2),h(30,"translate"),E("ngModelChange",function(d){return p(s),y(t.dataModel.linkMainImageId,d)||(t.dataModel.linkMainImageId=d),u(d)}),b("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),a(),r(31,"cms-file-manager",20),b("itemSelected",function(d){return p(s),u(t.onActionFileSelected(d))}),E("openFormChange",function(d){return p(s),y(t.fileManagerOpenForm,d)||(t.fileManagerOpenForm=d),u(d)}),a()(),v(32,Lu,9,7,"div",21),a()()()}if(i&2){let s=x(16);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",_(7,27,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),c("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),A("ngModel",t.dataModel.description),o(3),g("",s.value.length," / 500"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(2),c("href",R(_(22,29,t.dataModel.linkMainImageIdSrc)),Me),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),w(_(27,31,"TITLE.Icon_File")),o(2),c("placeholder",R(_(30,33,"TITLE.Original_File_ID"))),A("ngModel",t.dataModel.linkMainImageId),o(3),c("language",t.appLanguage)("isPopup",!0),A("openForm",t.fileManagerOpenForm),c("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,de,z,K,se,_e,Ae,ye,ne,le,pe,J,ue,q,Gt,F,ct],encapsulation:2});var nr=Yn;var Vu=["vform"];function Nu(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",22),E("modelChange",function(t){p(e);let s=S();return y(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();A("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Bu(n,l){n&1&&M(0,"i",27)}function Fu(n,l){n&1&&M(0,"i",28)}function Gu(n,l){n&1&&(r(0,"mat-error"),m(1," Title is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function Ou(n,l){if(n&1){let e=I();r(0,"div",11)(1,"label",23),m(2),a(),r(3,"input",24,3),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),a(),v(5,Bu,1,0,"i",25)(6,Fu,1,0,"i",26),r(7,"em"),m(8),a(),v(9,Gu,5,3,"mat-error",14),a()}if(n&2){let e=x(4),i=S();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),A("ngModel",i.dataModel.title),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Hu(n,l){n&1&&(r(0,"mat-error"),m(1," Description is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function Wu(n,l){if(n&1&&(M(0,"img",29),h(1,"cmsthumbnail")),n&2){let e=S();c("src",R(_(1,2,e.dataModel.linkMainImageIdSrc)),Me)}}function Uu(n,l){if(n&1){let e=I();r(0,"div",30)(1,"button",31),b("click",function(){p(e);let t=S();return u(t.onFormCancel())}),M(2,"i",32),m(3),h(4,"translate"),a(),r(5,"button",33),M(6,"i",34),m(7),h(8,"translate"),a()()}if(n&2){S();let e=x(9);o(3),g(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var Zn=class Zn extends mt{constructor(e,i,t,s,f,d,k,H){super(s,new bt,d,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainMessageCategoryService=s;this.cmsToastrService=f;this.publicHelper=d;this.cdr=k;this.translate=H;this.requestParentId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new bt;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.parentId&&e.parentId.length>0&&(this.requestParentId=e.parentId),this.requestParentId.length>0&&(this.dataModel.linkParentId=this.requestParentId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Zn.\u0275fac=function(i){return new(i||Zn)(C(re),C(oe),C(be),C(Ft),C(N),C(B),C(V),C(L))},Zn.\u0275cmp=D({type:Zn,selectors:[["app-sms-main-message-category-add"]],viewQuery:function(i,t){if(i&1&&$(Vu,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:33,vars:35,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",4),M(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),m(4),a(),r(5,"p"),m(6),h(7,"translate"),a(),r(8,"form",8,0),b("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),v(10,Nu,1,5,"app-cms-enum-record-status-selector",9)(11,Ou,10,8,"div",10),r(12,"div",11)(13,"label",12),m(14),a(),r(15,"textarea",13,1),E("ngModelChange",function(d){return p(s),y(t.dataModel.description,d)||(t.dataModel.description=d),u(d)}),a(),r(17,"em"),m(18),a(),v(19,Hu,5,3,"mat-error",14),a(),r(20,"div",15)(21,"a",16),h(22,"cmsthumbnail"),v(23,Wu,2,4,"img",17),a()(),r(24,"div",11)(25,"label",18),b("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),m(26),h(27,"translate"),a(),r(28,"input",19,2),h(30,"translate"),E("ngModelChange",function(d){return p(s),y(t.dataModel.linkMainImageId,d)||(t.dataModel.linkMainImageId=d),u(d)}),b("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),a(),r(31,"cms-file-manager",20),b("itemSelected",function(d){return p(s),u(t.onActionFileSelected(d))}),E("openFormChange",function(d){return p(s),y(t.fileManagerOpenForm,d)||(t.fileManagerOpenForm=d),u(d)}),a()(),v(32,Uu,9,7,"div",21),a()()()}if(i&2){let s=x(16);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",_(7,27,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),c("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),A("ngModel",t.dataModel.description),o(3),g("",s.value.length," / 500"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(2),c("href",R(_(22,29,t.dataModel.linkMainImageIdSrc)),Me),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),w(_(27,31,"TITLE.Icon_File")),o(2),c("placeholder",R(_(30,33,"TITLE.Original_File_ID"))),A("ngModel",t.dataModel.linkMainImageId),o(3),c("language",t.appLanguage)("isPopup",!0),A("openForm",t.fileManagerOpenForm),c("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,de,z,K,se,_e,Ae,ye,ne,le,pe,J,ue,q,Gt,F,ct],encapsulation:2});var or=Zn;function qu(n,l){if(n&1){let e=I();r(0,"button",14),b("click",function(){p(e);let t=S();return u(t.onActionAdd())}),m(1),h(2,"translate"),a()}n&2&&(o(),g(" ",_(2,1,"ACTION.ADD")," "))}function ju(n,l){if(n&1){let e=I();r(0,"button",15),b("click",function(){p(e);let t=S();return u(t.onActionEdit())}),m(1),h(2,"translate"),a()}n&2&&(o(),g(" ",_(2,1,"ACTION.EDIT")," "))}function Qu(n,l){if(n&1){let e=I();r(0,"button",16),b("click",function(){p(e);let t=S();return u(t.onActionDelete())}),m(1),h(2,"translate"),a()}n&2&&(o(),g(" ",_(2,1,"ACTION.DELETE")," "))}function zu(n,l){if(n&1){let e=I();r(0,"button",17),b("click",function(){p(e);let t=S();return u(t.onActionButtonReload())}),r(1,"mat-icon",18),h(2,"translate"),m(3,"refresh"),a()()}if(n&2){let e=S();o(),X("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),c("title",R(_(2,4,"ACTION.RELOAD")))}}function Ku(n,l){if(n&1){let e=I();r(0,"mat-tree-node",19),M(1,"button",20),r(2,"span",21),b("click",function(){let t=p(e).$implicit,s=S();return u(s.onActionSelect(t))}),m(3),a()()}if(n&2){let e=l.$implicit,i=S();X("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===e.id),o(3),w(e.title)}}function Ju(n,l){if(n&1){let e=I();r(0,"mat-tree-node",22)(1,"button",23)(2,"mat-icon",24),m(3),a()(),r(4,"span",21),b("click",function(){let t=p(e).$implicit,s=S();return u(s.onActionSelect(t))}),m(5),a()()}if(n&2){let e=l.$implicit,i=S(),t=x(12);X("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===e.id),c("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),Jt("type","button")("aria-label","Toggle "+e.title),o(2),g(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),w(e.title)}}var $n=class $n{constructor(l,e,i,t,s,f,d,k,H){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=s;this.publicHelper=f;this.tokenHelper=d;this.cmsStoreService=k;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new bt;this.dataModelResult=new G;this.filterModel=new Y;this.dataSource=new Do;this.optionChange=new Ue;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!!e.children&&e.children.length>0;this.childrenAccessor=l=>l.children??[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>ve(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new bt,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){let l="";this.dataModelSelect&&this.dataModelSelect.id?.length>0&&(l=this.dataModelSelect.id);let e=new ro;e.disableClose=!0,e.autoFocus=!0,e.data={parentId:l},this.dialog.open(or,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(nr,{height:"90%",panelClass:e,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ir,{height:"90%",panelClass:e,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};$n.\u0275fac=function(e){return new(e||$n)(C(N),C(be),C(Ft),C(Te),C(V),C(B),C(xe),C(Pe),C(L))},$n.\u0275cmp=D({type:$n,selectors:[["app-sms-main-message-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),T(1,2),m(2),h(3,"translate"),P(),T(4,3),v(5,qu,3,3,"button",4)(6,ju,3,3,"button",5)(7,Qu,3,3,"button",6)(8,zu,4,6,"button",7),P(),T(9,8),M(10,"app-progress-spinner",9),r(11,"mat-tree",10,0),v(13,Ku,4,3,"mat-tree-node",11)(14,Ju,6,8,"mat-tree-node",12),a(),P(),Le(15,13),a()),e&2&&(c("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),g(" ",_(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),c("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),c("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow)&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),o(2),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),c("matTreeNodeDefWhen",i.hasChild))},dependencies:[O,Fe,Ee,To,Po,Ro,xo,wo,q,Vo,F],encapsulation:2});var rr=$n;var Yu=()=>[5,10,20,100];function Zu(n,l){if(n&1){let e=I();r(0,"div",37)(1,"a",38),b("click",function(){p(e);let t=S();return u(t.onActionButtonNewRow())}),M(2,"i",39)(3,"br"),a(),r(4,"p",40),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.ADD")," "))}function $u(n,l){if(n&1){let e=I();r(0,"div",37)(1,"a",41),b("click",function(){p(e);let t=S();return u(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",42)(3,"br"),a(),r(4,"p",40),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.EDIT")," "))}function ef(n,l){if(n&1){let e=I();r(0,"div",37)(1,"a",43),b("click",function(){p(e);let t=S();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",44)(3,"br"),a(),r(4,"p",40),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.DELETE")," "))}function tf(n,l){if(n&1&&(r(0,"mat-header-cell",45),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function nf(n,l){if(n&1&&(r(0,"mat-cell"),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.id," ")}}function of(n,l){if(n&1&&(r(0,"mat-header-cell",45),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function rf(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"cmssiteinfo"),h(3,"async"),a()),n&2){let e=l.$implicit;o(),g(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function af(n,l){if(n&1&&(r(0,"mat-header-cell",45),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function sf(n,l){if(n&1&&(r(0,"mat-cell"),M(1,"i",46),h(2,"statusIconClass"),a()),n&2){let e=l.$implicit;o(),c("ngClass",_(2,1,e.recordStatus))}}function lf(n,l){if(n&1&&(r(0,"mat-header-cell",45),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function df(n,l){if(n&1&&(r(0,"mat-cell"),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.title," ")}}function cf(n,l){if(n&1&&(r(0,"mat-header-cell",45),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function mf(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",_(2,1,e.createdDate)," ")}}function pf(n,l){if(n&1&&(r(0,"mat-header-cell",45),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function uf(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",_(2,1,e.updatedDate)," ")}}function ff(n,l){n&1&&(r(0,"mat-header-cell"),m(1),h(2,"translate"),a()),n&2&&(o(),g(" ",_(2,1,"TITLE.OPTION")," "))}function Sf(n,l){if(n&1&&(r(0,"mat-cell",47)(1,"button",48)(2,"mat-icon"),m(3,"more_vert"),a()(),M(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),c("matMenuTriggerFor",e)}}function hf(n,l){n&1&&M(0,"mat-header-row")}function gf(n,l){if(n&1){let e=I();r(0,"mat-row",49),b("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var eo=class eo extends ut{constructor(e,i,t,s,f,d,k,H,kt,Kt,It,ti){super(e,new si,It,d,H);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.router=s;this.activatedRoute=f;this.tokenHelper=d;this.cmsStoreService=k;this.translate=H;this.cdr=kt;this.pageInfo=Kt;this.publicHelper=It;this.dialog=ti;this.requestLinkCategoryId="";this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.categoryModelSelected=new bt;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["RecordStatus","Title","CreatedDate","UpdatedDate"];this.tabledisplayedColumnsMobileSource=["RecordStatus","Title","CreatedDate","UpdatedDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkCategoryId=this.activatedRoute.snapshot.paramMap.get("LinkCategoryId"),this.optionsSearch.parentMethods={onSubmit:ae=>this.onSubmitOptionsSearch(ae)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=j.Descending,this.requestLinkCategoryId&&this.requestLinkCategoryId.length>0){let ae=new Q;ae.propertyName="LinkCategoryId",ae.value=this.requestLinkCategoryId,this.filteModelContent.filters.push(ae)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ve(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new si);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id?.length>0){let t=new Q;t.propertyName="LinkCategoryId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){let e=new ro;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={linkCategoryId:this.categoryModelSelected?.id},this.dialog.open(er,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new ro;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id},this.dialog.open(tr,i).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(f,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(t,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Q;f.propertyName="RecordStatus",f.value=Ne.Available,s.filters.push(f),this.contentService.ServiceGetCount(s).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}};eo.\u0275fac=function(i){return new(i||eo)(C(gi),C(N),C(He),C(Qe),C(Et),C(xe),C(Pe),C(L),C(V),C(dt),C(B),C(Te))},eo.\u0275cmp=D({type:eo,selectors:[["app-sms-main-message-content-list"]],standalone:!1,features:[W],decls:56,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","Title"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=I();r(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(d){return p(s),y(t.viewGuideNotice,d)||(t.viewGuideNotice=d),u(d)}),b("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),T(1,4),r(2,"app-sms-main-message-category-tree",5),b("optionChange",function(d){return p(s),u(t.onActionSelectorSelect(d))}),a(),P(),Le(3,6)(4,7),T(5,8),r(6,"a",9),b("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),M(7,"i",10),a(),r(8,"a",9),b("click",function(){return p(s),u(t.onActionButtonReload())}),M(9,"i",11),a(),P(),T(10,12),r(11,"a",13),b("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),M(12,"mat-slide-toggle",14),m(13),h(14,"translate"),a(),r(15,"a",13),b("click",function(){return p(s),u(t.onActionButtonStatist())}),M(16,"mat-slide-toggle",14),m(17),h(18,"translate"),a(),P(),T(19,15),v(20,Zu,7,3,"div",16),P(),T(21,17),v(22,$u,7,3,"div",16)(23,ef,7,3,"div",16),P(),T(24,18),r(25,"app-cms-search-list",19),E("optionsChange",function(d){return p(s),y(t.optionsSearch,d)||(t.optionsSearch=d),u(d)}),a(),r(26,"app-cms-statist-list",19),E("optionsChange",function(d){return p(s),y(t.optionsStatist,d)||(t.optionsStatist=d),u(d)}),a(),P(),T(27,20),r(28,"mat-table",21,0),b("matSortChange",function(){p(s);let d=x(29);return u(t.onTableSortData(d))}),T(30,22),v(31,tf,2,1,"mat-header-cell",23)(32,nf,2,1,"mat-cell",24),P(),T(33,25),v(34,of,2,1,"mat-header-cell",23)(35,rf,4,5,"mat-cell",24),P(),T(36,26),v(37,af,2,1,"mat-header-cell",23)(38,sf,3,3,"mat-cell",24),P(),T(39,27),v(40,lf,2,1,"mat-header-cell",23)(41,df,2,1,"mat-cell",24),P(),T(42,28),v(43,cf,2,1,"mat-header-cell",23)(44,mf,3,3,"mat-cell",24),P(),T(45,29),v(46,pf,2,1,"mat-header-cell",23)(47,uf,3,3,"mat-cell",24),P(),T(48,30),v(49,ff,3,3,"mat-header-cell",31)(50,Sf,6,1,"mat-cell",32),P(),v(51,hf,1,0,"mat-header-row",33)(52,gf,1,2,"mat-row",34),a(),P(),T(53,35),r(54,"mat-paginator",36,1),b("page",function(d){return p(s),u(t.onTablePageingData(d))}),a(),P(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","sms.message.content.list"),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!t.requestLinkCategoryId||t.requestLinkCategoryId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),g("",_(14,25,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),g("",_(18,27,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),A("options",t.optionsSearch),o(),A("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(23),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ve(29,Yu)))},dependencies:[qe,O,Fe,Ee,ze,Ke,Je,Xe,Ye,Ze,$e,tt,rt,it,et,at,nt,ot,st,lt,ft,St,ht,gt,rr,At,F,wi,Rt,_t],encapsulation:2});var ar=eo;var _f=["vform"];function Mf(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",28),E("modelChange",function(t){p(e);let s=S();return y(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();A("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Cf(n,l){n&1&&M(0,"i",31)}function vf(n,l){n&1&&M(0,"i",32)}function bf(n,l){n&1&&(r(0,"mat-error"),m(1," Title is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function If(n,l){if(n&1){let e=I();r(0,"div",12)(1,"label",29),m(2),a(),r(3,"input",30,4),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),a(),v(5,Cf,1,0,"i",15)(6,vf,1,0,"i",16),r(7,"em"),m(8),a(),v(9,bf,5,3,"mat-error",17),a()}if(n&2){let e=x(4),i=S();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),A("ngModel",i.dataModel.title),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Af(n,l){n&1&&M(0,"i",31)}function yf(n,l){n&1&&M(0,"i",32)}function Ef(n,l){n&1&&(r(0,"mat-error"),m(1," ClassName is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function wf(n,l){if(n&1){let e=I();r(0,"div",33)(1,"div",34)(2,"h5",35),m(3),a()(),r(4,"div",36)(5,"div",37)(6,"input",38),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.abilityCreditCheck,t)||(s.dataModel.abilityCreditCheck=t),u(t)}),a(),M(7,"label",39),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.abilityCreditCheck==null?null:e.fieldsInfo.abilityCreditCheck.fieldTitle," "),o(3),A("ngModel",e.dataModel.abilityCreditCheck)}}function Tf(n,l){if(n&1){let e=I();r(0,"div",33)(1,"div",34)(2,"h5",40),m(3),a()(),r(4,"div",36)(5,"div",37)(6,"input",41),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.abilityDelivery,t)||(s.dataModel.abilityDelivery=t),u(t)}),a(),M(7,"label",42),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.abilityDelivery==null?null:e.fieldsInfo.abilityDelivery.fieldTitle," "),o(3),A("ngModel",e.dataModel.abilityDelivery)}}function Pf(n,l){if(n&1){let e=I();r(0,"div",33)(1,"div",34)(2,"h5",43),m(3),a()(),r(4,"div",36)(5,"div",37)(6,"input",44),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.abilityReceive,t)||(s.dataModel.abilityReceive=t),u(t)}),a(),M(7,"label",45),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.abilityReceive==null?null:e.fieldsInfo.abilityReceive.fieldTitle," "),o(3),A("ngModel",e.dataModel.abilityReceive)}}function xf(n,l){n&1&&(r(0,"mat-error"),m(1," Memo is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function Rf(n,l){if(n&1&&(M(0,"img",46),h(1,"cmsthumbnail")),n&2){let e=S();c("src",R(_(1,2,e.dataModel.linkMainImageIdSrc)),Me)}}function Df(n,l){if(n&1){let e=I();r(0,"div",47)(1,"button",48),b("click",function(){p(e);let t=S();return u(t.onFormCancel())}),M(2,"i",49),m(3),h(4,"translate"),a(),r(5,"button",50),M(6,"i",51),m(7),h(8,"translate"),a()()}if(n&2){S();let e=x(12);o(3),g(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var to=class to extends mt{constructor(e,i,t,s,f,d,k,H){super(s,new ui,d,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainApiPathPublicConfigService=s;this.cmsToastrService=f;this.publicHelper=d;this.cdr=k;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new ui;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPublicConfigService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};to.\u0275fac=function(i){return new(i||to)(C(re),C(oe),C(be),C(Xt),C(N),C(B),C(V),C(L))},to.\u0275cmp=D({type:to,selectors:[["app-sms-publicconfig-add"]],viewQuery:function(i,t){if(i&1&&$(_f,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:49,vars:47,consts:[["vform","ngForm"],["ClassName",""],["Memo",""],["LinkMainImageId",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.className",1,"color-highlight"],["matInput","","type","text","name","dataModel.className","placeholder","ClassName","minlength","3","maxlength","100","required","","id","dataModel.className",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.abilityCreditCheck",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.abilityCreditCheck","name","dataModel.abilityCreditCheck",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityCreditCheck",1,"custom-control-label"],["data-trigger-switch","dataModel.abilityDelivery",1,"font-600","font-14"],["type","checkbox","id","dataModel.abilityDelivery","name","dataModel.abilityDelivery",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityDelivery",1,"custom-control-label"],["data-trigger-switch","dataModel.abilityReceive",1,"font-600","font-14"],["type","checkbox","id","dataModel.abilityReceive","name","dataModel.abilityReceive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityReceive",1,"custom-control-label"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",5),M(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),m(4),a(),r(5,"h4"),m(6),h(7,"translate"),a(),r(8,"p"),m(9),h(10,"translate"),a(),r(11,"form",9,0),b("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),v(13,Mf,1,5,"app-cms-enum-record-status-selector",10)(14,If,10,8,"div",11),r(15,"div",12)(16,"label",13),m(17),a(),r(18,"input",14,1),E("ngModelChange",function(d){return p(s),y(t.dataModel.className,d)||(t.dataModel.className=d),u(d)}),a(),v(20,Af,1,0,"i",15)(21,yf,1,0,"i",16),r(22,"em"),m(23),a(),v(24,Ef,5,3,"mat-error",17),a(),v(25,wf,8,2,"div",18)(26,Tf,8,2,"div",18)(27,Pf,8,2,"div",18),r(28,"div",12)(29,"label",19),m(30),a(),r(31,"textarea",20,2),E("ngModelChange",function(d){return p(s),y(t.dataModel.memo,d)||(t.dataModel.memo=d),u(d)}),a(),r(33,"em"),m(34),a(),v(35,xf,5,3,"mat-error",17),a(),r(36,"div",21)(37,"a",22),h(38,"cmsthumbnail"),v(39,Rf,2,4,"img",23),a()(),r(40,"div",12)(41,"label",24),b("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),m(42),h(43,"translate"),a(),r(44,"input",25,3),h(46,"translate"),E("ngModelChange",function(d){return p(s),y(t.dataModel.linkMainImageId,d)||(t.dataModel.linkMainImageId=d),u(d)}),b("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),a(),r(47,"cms-file-manager",26),b("itemSelected",function(d){return p(s),u(t.onActionFileSelected(d))}),E("openFormChange",function(d){return p(s),y(t.fileManagerOpenForm,d)||(t.fileManagerOpenForm=d),u(d)}),a()(),v(48,Df,9,7,"div",27),a()()()}if(i&2){let s=x(19),f=x(32);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),w(_(7,37,"TITLE.BASIC_SERVICE_SETTINGS")),o(3),g(" ",_(10,39,"TITLE.BASIC_SERVICE_SETTINGS_DESCRIPTION")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),A("ngModel",t.dataModel.className),o(2),c("ngIf",!s.value),o(),c("ngIf",s.value),o(2),g("",s.value.length," / 100"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(),c("ngIf",t.fieldsInfo.abilityCreditCheck==null?null:t.fieldsInfo.abilityCreditCheck.accessWatchField),o(),c("ngIf",t.fieldsInfo.abilityDelivery==null?null:t.fieldsInfo.abilityDelivery.accessWatchField),o(),c("ngIf",t.fieldsInfo.abilityReceive==null?null:t.fieldsInfo.abilityReceive.accessWatchField),o(3),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),c("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),A("ngModel",t.dataModel.memo),o(3),g("",f.value.length," / 500"),o(),c("ngIf",f.errors==null?null:f.errors.required),o(2),c("href",R(_(38,41,t.dataModel.linkMainImageIdSrc)),Me),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),w(_(43,43,"TITLE.Icon_File")),o(2),c("placeholder",R(_(46,45,"TITLE.Original_File_ID"))),A("ngModel",t.dataModel.linkMainImageId),o(3),c("language",t.appLanguage)("isPopup",!0),A("openForm",t.fileManagerOpenForm),c("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,de,z,ke,K,se,_e,Ae,ye,ne,le,pe,J,ue,q,Gt,F,ct],encapsulation:2});var sr=to;var kf=["vform"];function Lf(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",29),E("modelChange",function(t){p(e);let s=S();return y(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();A("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Vf(n,l){n&1&&M(0,"i",32)}function Nf(n,l){n&1&&M(0,"i",33)}function Bf(n,l){n&1&&(r(0,"mat-error"),m(1," Title is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function Ff(n,l){if(n&1){let e=I();r(0,"div",12)(1,"label",30),m(2),a(),r(3,"input",31,4),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),a(),v(5,Vf,1,0,"i",15)(6,Nf,1,0,"i",16),r(7,"em"),m(8),a(),v(9,Bf,5,3,"mat-error",17),a()}if(n&2){let e=x(4),i=S();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),A("ngModel",i.dataModel.title),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Gf(n,l){n&1&&M(0,"i",32)}function Of(n,l){n&1&&M(0,"i",33)}function Hf(n,l){n&1&&(r(0,"mat-error"),m(1," ClassName is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function Wf(n,l){if(n&1){let e=I();r(0,"div",34)(1,"div",35)(2,"h5",36),m(3),a()(),r(4,"div",37)(5,"div",38)(6,"input",39),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.abilityCreditCheck,t)||(s.dataModel.abilityCreditCheck=t),u(t)}),a(),M(7,"label",40),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.abilityCreditCheck==null?null:e.fieldsInfo.abilityCreditCheck.fieldTitle," "),o(3),A("ngModel",e.dataModel.abilityCreditCheck)}}function Uf(n,l){if(n&1){let e=I();r(0,"div",34)(1,"div",35)(2,"h5",41),m(3),a()(),r(4,"div",37)(5,"div",38)(6,"input",42),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.abilityDelivery,t)||(s.dataModel.abilityDelivery=t),u(t)}),a(),M(7,"label",43),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.abilityDelivery==null?null:e.fieldsInfo.abilityDelivery.fieldTitle," "),o(3),A("ngModel",e.dataModel.abilityDelivery)}}function qf(n,l){if(n&1){let e=I();r(0,"div",34)(1,"div",35)(2,"h5",44),m(3),a()(),r(4,"div",37)(5,"div",38)(6,"input",45),E("ngModelChange",function(t){p(e);let s=S();return y(s.dataModel.abilityReceive,t)||(s.dataModel.abilityReceive=t),u(t)}),a(),M(7,"label",46),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.abilityReceive==null?null:e.fieldsInfo.abilityReceive.fieldTitle," "),o(3),A("ngModel",e.dataModel.abilityReceive)}}function jf(n,l){n&1&&(r(0,"mat-error"),m(1," Memo is "),r(2,"strong"),m(3),h(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function Qf(n,l){if(n&1&&(M(0,"img",47),h(1,"cmsthumbnail")),n&2){let e=S();c("src",R(_(1,2,e.dataModel.linkMainImageIdSrc)),Me)}}function zf(n,l){if(n&1){let e=I();r(0,"div",48)(1,"button",49),b("click",function(){p(e);let t=S();return u(t.onFormCancel())}),M(2,"i",50),m(3),h(4,"translate"),a(),r(5,"button",51),M(6,"i",52),m(7),h(8,"translate"),a()()}if(n&2){S();let e=x(12);o(3),g(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var io=class io extends pt{constructor(e,i,t,s,f,d,k,H){super(s,new ui,d,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainApiPathPublicConfigService=s;this.cmsToastrService=f;this.publicHelper=d;this.cdr=k;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new je;this.dataModel=new Er;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPublicConfigService.setAccessLoad(),this.smsMainApiPathPublicConfigService.setAccessDataType(Be.Editor),this.smsMainApiPathPublicConfigService.ServiceGetOneWithJsonFormatter(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPublicConfigService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};io.\u0275fac=function(i){return new(i||io)(C(re),C(oe),C(be),C(Xt),C(N),C(B),C(V),C(L))},io.\u0275cmp=D({type:io,selectors:[["app-sms-publicconfig-edit"]],viewQuery:function(i,t){if(i&1&&$(kf,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:50,vars:50,consts:[["vform","ngForm"],["ClassName",""],["Memo",""],["LinkMainImageId",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.className",1,"color-highlight"],["matInput","","type","text","name","dataModel.className","placeholder","ClassName","minlength","3","maxlength","100","required","","id","dataModel.className",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"jsonValueChange","formGroup","jsonValue","propertiesInfos"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.abilityCreditCheck",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.abilityCreditCheck","name","dataModel.abilityCreditCheck",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityCreditCheck",1,"custom-control-label"],["data-trigger-switch","dataModel.abilityDelivery",1,"font-600","font-14"],["type","checkbox","id","dataModel.abilityDelivery","name","dataModel.abilityDelivery",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityDelivery",1,"custom-control-label"],["data-trigger-switch","dataModel.abilityReceive",1,"font-600","font-14"],["type","checkbox","id","dataModel.abilityReceive","name","dataModel.abilityReceive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityReceive",1,"custom-control-label"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",5),M(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),m(4),a(),r(5,"h4"),m(6),h(7,"translate"),a(),r(8,"p"),m(9),h(10,"translate"),a(),r(11,"form",9,0),b("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),v(13,Lf,1,5,"app-cms-enum-record-status-selector",10)(14,Ff,10,8,"div",11),r(15,"div",12)(16,"label",13),m(17),a(),r(18,"input",14,1),E("ngModelChange",function(d){return p(s),y(t.dataModel.className,d)||(t.dataModel.className=d),u(d)}),a(),v(20,Gf,1,0,"i",15)(21,Of,1,0,"i",16),r(22,"em"),m(23),a(),v(24,Hf,5,3,"mat-error",17),a(),v(25,Wf,8,2,"div",18)(26,Uf,8,2,"div",18)(27,qf,8,2,"div",18),r(28,"dynamic-form-builder-cms",19),E("jsonValueChange",function(d){return p(s),y(t.dataModel.publicConfigJsonValues,d)||(t.dataModel.publicConfigJsonValues=d),u(d)}),a(),r(29,"div",12)(30,"label",20),m(31),a(),r(32,"textarea",21,2),E("ngModelChange",function(d){return p(s),y(t.dataModel.memo,d)||(t.dataModel.memo=d),u(d)}),a(),r(34,"em"),m(35),a(),v(36,jf,5,3,"mat-error",17),a(),r(37,"div",22)(38,"a",23),h(39,"cmsthumbnail"),v(40,Qf,2,4,"img",24),a()(),r(41,"div",12)(42,"label",25),b("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),m(43),h(44,"translate"),a(),r(45,"input",26,3),h(47,"translate"),E("ngModelChange",function(d){return p(s),y(t.dataModel.linkMainImageId,d)||(t.dataModel.linkMainImageId=d),u(d)}),b("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),a(),r(48,"cms-file-manager",27),b("itemSelected",function(d){return p(s),u(t.onActionFileSelected(d))}),E("openFormChange",function(d){return p(s),y(t.fileManagerOpenForm,d)||(t.fileManagerOpenForm=d),u(d)}),a()(),v(49,zf,9,7,"div",28),a()()()}if(i&2){let s=x(12),f=x(19),d=x(33);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),w(_(7,40,"TITLE.BASIC_SERVICE_SETTINGS")),o(3),g(" ",_(10,42,"TITLE.BASIC_SERVICE_SETTINGS_DESCRIPTION")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),A("ngModel",t.dataModel.className),o(2),c("ngIf",!f.value),o(),c("ngIf",f.value),o(2),g("",f.value.length," / 100"),o(),c("ngIf",f.errors==null?null:f.errors.required),o(),c("ngIf",t.fieldsInfo.abilityCreditCheck==null?null:t.fieldsInfo.abilityCreditCheck.accessWatchField),o(),c("ngIf",t.fieldsInfo.abilityDelivery==null?null:t.fieldsInfo.abilityDelivery.accessWatchField),o(),c("ngIf",t.fieldsInfo.abilityReceive==null?null:t.fieldsInfo.abilityReceive.accessWatchField),o(),c("formGroup",s.form),A("jsonValue",t.dataModel.publicConfigJsonValues),c("propertiesInfos",t.dataModel.publicConfigJsonFormatter),o(3),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),c("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),A("ngModel",t.dataModel.memo),o(3),g("",d.value.length," / 500"),o(),c("ngIf",d.errors==null?null:d.errors.required),o(2),c("href",R(_(39,44,t.dataModel.linkMainImageIdSrc)),Me),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),w(_(44,46,"TITLE.Icon_File")),o(2),c("placeholder",R(_(47,48,"TITLE.Original_File_ID"))),A("ngModel",t.dataModel.linkMainImageId),o(3),c("language",t.appLanguage)("isPopup",!0),A("openForm",t.fileManagerOpenForm),c("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,de,z,ke,K,se,_e,Ae,ye,ne,le,kr,pe,J,ue,q,Gt,jr,F,ct],encapsulation:2});var lr=io;var Kf=()=>[5,10,20,100];function Jf(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",41),b("click",function(){p(e);let t=S();return u(t.onActionButtonNewRow())}),M(2,"i",42)(3,"br"),a(),r(4,"p",20),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.ADD")," "))}function Xf(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",41),b("click",function(){p(e);let t=S();return u(t.onActionButtonNewRowAuto())}),M(2,"i",42)(3,"br"),a(),r(4,"p",20),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.AUTOADD")," "))}function Yf(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",43),b("click",function(){p(e);let t=S();return u(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",44)(3,"br"),a(),r(4,"p",20),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.EDIT")," "))}function Zf(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",45),b("click",function(){p(e);let t=S();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",46)(3,"br"),a(),r(4,"p",20),m(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",_(6,1,"ACTION.DELETE")," "))}function $f(n,l){n&1&&(r(0,"mat-header-cell",47),m(1),h(2,"translate"),a()),n&2&&(o(),g(" ",_(2,1,"TITLE.PICTURE")," "))}function eS(n,l){if(n&1&&M(0,"img",49),n&2){let e=S().$implicit;c("src",R(e.linkMainImageIdSrc),Me)}}function tS(n,l){if(n&1&&(r(0,"mat-cell"),v(1,eS,1,2,"img",48),a()),n&2){let e=l.$implicit;o(),c("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function iS(n,l){if(n&1&&(r(0,"mat-header-cell",47),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function nS(n,l){if(n&1&&(r(0,"mat-cell"),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.id," ")}}function oS(n,l){if(n&1&&(r(0,"mat-header-cell",47),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function rS(n,l){if(n&1&&(r(0,"mat-cell",50),h(1,"statusCellClass"),M(2,"i",50),h(3,"statusIconClass"),a()),n&2){let e=l.$implicit;c("ngClass",_(1,2,e.recordStatus)),o(2),c("ngClass",_(3,4,e.recordStatus))}}function aS(n,l){if(n&1&&(r(0,"mat-header-cell",47),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function sS(n,l){if(n&1&&(r(0,"mat-cell"),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.title," ")}}function lS(n,l){if(n&1&&(r(0,"mat-header-cell",47),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.className==null?null:e.fieldsInfo.className.fieldTitle," ")}}function dS(n,l){if(n&1&&(r(0,"mat-cell"),m(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.className," ")}}function cS(n,l){if(n&1&&(r(0,"mat-header-cell",47),m(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function mS(n,l){if(n&1&&(r(0,"mat-cell"),m(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",_(2,1,e.updatedDate)," ")}}function pS(n,l){n&1&&(r(0,"mat-header-cell"),m(1),h(2,"translate"),a()),n&2&&(o(),g(" ",_(2,1,"TITLE.OPTION")," "))}function uS(n,l){if(n&1&&(r(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),m(3,"more_vert"),a()(),M(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),c("matMenuTriggerFor",e)}}function fS(n,l){n&1&&M(0,"mat-header-row")}function SS(n,l){if(n&1){let e=I();r(0,"mat-row",53),b("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var no=class no extends ut{constructor(e,i,t,s,f,d,k,H,kt,Kt,It,ti){super(e,new ui,It,k,kt);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.coreCurrencyService=s;this.cmsStoreService=f;this.router=d;this.tokenHelper=k;this.cdr=H;this.translate=kt;this.pageInfo=Kt;this.publicHelper=It;this.dialog=ti;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new G;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","RecordStatus","ClassName","UpdatedDate"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","RecordStatus","ClassName","UpdatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ae=>this.onSubmitOptionsSearch(ae)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=j.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ve(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getCurrency()}getCurrency(){let e=new Y;e.rowPerPage=100,this.coreCurrencyService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreCurrencyResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ui);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(sr,{height:"90%",panelClass:e,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(lr,{height:"90%",panelClass:i,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(f,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonNewRowAuto(){let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.ServiceAutoAdd().subscribe({next:i=>{i.isSuccess?(this.cmsToastrService.typeSuccessAdd(),this.DataGetAll()):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(t,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Q;f.propertyName="RecordStatus",f.value=Ne.Available,s.filters.push(f),this.contentService.ServiceGetCount(s).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPrivateList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path/list/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};no.\u0275fac=function(i){return new(i||no)(C(Xt),C(N),C(He),C(Ar),C(Pe),C(Qe),C(xe),C(V),C(L),C(dt),C(B),C(Te))},no.\u0275cmp=D({type:no,selectors:[["app-sms-publicconfig-list"]],standalone:!1,features:[W],decls:64,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","ClassName"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=I();r(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(d){return p(s),y(t.viewGuideNotice,d)||(t.viewGuideNotice=d),u(d)}),b("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),T(1,4),m(2," -------------------------------------- "),P(),Le(3,5)(4,6),T(5,7),r(6,"a",8),b("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),M(7,"i",9),a(),r(8,"a",8),b("click",function(){return p(s),u(t.onActionButtonReload())}),M(9,"i",10),a(),P(),T(10,11),r(11,"a",12),b("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),M(12,"mat-slide-toggle",13),m(13),h(14,"translate"),a(),r(15,"a",12),b("click",function(){return p(s),u(t.onActionButtonStatist())}),M(16,"mat-slide-toggle",13),m(17),h(18,"translate"),a(),P(),T(19,14),v(20,Jf,7,3,"div",15)(21,Xf,7,3,"div",15),P(),T(22,16),v(23,Yf,7,3,"div",15)(24,Zf,7,3,"div",15),r(25,"div",17)(26,"a",18),b("click",function(){return p(s),u(t.onActionButtonPrivateList(t.tableRowSelected))}),M(27,"i",19)(28,"br"),a(),r(29,"p",20),m(30),h(31,"translate"),a()(),P(),T(32,21),r(33,"app-cms-search-list",22),E("optionsChange",function(d){return p(s),y(t.optionsSearch,d)||(t.optionsSearch=d),u(d)}),a(),r(34,"app-cms-statist-list",22),E("optionsChange",function(d){return p(s),y(t.optionsStatist,d)||(t.optionsStatist=d),u(d)}),a(),P(),T(35,23),r(36,"mat-table",24,0),b("matSortChange",function(){p(s);let d=x(37);return u(t.onTableSortData(d))}),T(38,25),v(39,$f,3,3,"mat-header-cell",26)(40,tS,2,1,"mat-cell",27),P(),T(41,28),v(42,iS,2,1,"mat-header-cell",26)(43,nS,2,1,"mat-cell",27),P(),T(44,29),v(45,oS,2,1,"mat-header-cell",26)(46,rS,4,6,"mat-cell",30),P(),T(47,31),v(48,aS,2,1,"mat-header-cell",26)(49,sS,2,1,"mat-cell",27),P(),T(50,32),v(51,lS,2,1,"mat-header-cell",26)(52,dS,2,1,"mat-cell",27),P(),T(53,33),v(54,cS,2,1,"mat-header-cell",26)(55,mS,3,3,"mat-cell",27),P(),T(56,34),v(57,pS,3,3,"mat-header-cell",35)(58,uS,6,1,"mat-cell",36),P(),v(59,fS,1,0,"mat-header-row",37)(60,SS,1,2,"mat-row",38),a(),P(),T(61,39),r(62,"mat-paginator",40,1),b("page",function(d){return p(s),u(t.onTablePageingData(d))}),a(),P(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),g("",_(14,27,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),g("",_(18,29,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),g(" ",_(31,31,"ACTION.ROUTES")," "),o(3),A("options",t.optionsSearch),o(),A("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(23),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ve(33,Kf)))},dependencies:[qe,O,Fe,Ee,ze,Ke,Je,Xe,Ye,Ze,$e,tt,rt,it,et,at,nt,ot,st,lt,ft,St,ht,gt,F,Rt,_t,vt],encapsulation:2});var dr=no;var oo=class oo{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};oo.\u0275fac=function(e){return new(e||oo)},oo.\u0275cmp=D({type:oo,selectors:[["app-sms-main"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&M(0,"router-outlet")},dependencies:[xr],encapsulation:2});var cr=oo;var hS=[{path:"",component:cr,data:{title:"ROUTE.SMS.MAIN"},children:[{path:"api-path-company",component:Qo,data:{title:"ROUTE.SMS.MAIN"}},{path:"publicconfig",component:dr,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path",component:qi,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/list",component:qi,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/list/LinkCompanyId/:LinkCompanyId",component:qi,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/list/LinkPublicConfigId/:LinkPublicConfigId",component:qi,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/list/LinkSiteId/:LinkSiteId",component:qi,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/edit/:Id",component:zr,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-permission",component:Ji,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-permission/LinkApiPathId/:LinkApiPathId",component:Ji,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-permission/LinkUserId/:LinkUserId",component:Ji,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-permission/LinkSiteId/:LinkSiteId",component:Ji,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-price-service",component:fo,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-price-service/LinkApiPathId/:LinkApiPathId",component:fo,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number",component:co,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number/LinkApiPathId/:LinkApiPathId",component:co,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number-permission",component:zi,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number-permission/LinkApiNumberId/:LinkApiNumberId",component:zi,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number-permission/LinkUserId/:LinkUserId",component:zi,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number-permission/LinkSiteId/:LinkSiteId",component:zi,data:{title:"ROUTE.SMS.MAIN"}},{path:"client-permission",component:So,data:{title:"ROUTE.SMS.MAIN"}},{path:"client-permission/LinkUserId/:LinkUserId",component:So,data:{title:"ROUTE.SMS.MAIN"}},{path:"message",component:ar,data:{title:"ROUTE.SMS.MAIN"}}]}],Xi=class Xi{};Xi.\u0275fac=function(e){return new(e||Xi)},Xi.\u0275mod=go({type:Xi}),Xi.\u0275inj=ho({imports:[fr.forChild(hS),fr]});var mr=Xi;var Yi=class Yi{};Yi.\u0275fac=function(e){return new(e||Yi)},Yi.\u0275mod=go({type:Yi}),Yi.\u0275inj=ho({providers:[yr,be,De,He,wr,Nt,Bt,Si,fi,Xt,Vt,Mo,gi,Ft,hi],imports:[br,mr,Lr,Vr.withConfig({warnOnNgModelWithFormControl:"never"}),Fr,Wr,Or,Nr,Qr,Br,Kr,Dr]});var ia=Yi;export{hn as a,jt as b,zn as c,ia as d};
