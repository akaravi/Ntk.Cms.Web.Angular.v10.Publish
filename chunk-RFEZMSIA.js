import{a as Ei}from"./chunk-HPYGOBU3.js";import{a as nt}from"./chunk-RMSWU6EK.js";import{a as ot}from"./chunk-HWTH2QRS.js";import{a as Jo}from"./chunk-7636DQMO.js";import{a as wt}from"./chunk-B5W6SIOJ.js";import{a as ut}from"./chunk-OXO57L36.js";import{a as it}from"./chunk-EUIXYW5P.js";import{a as Tt}from"./chunk-Z27J7NCY.js";import{a as gt}from"./chunk-67YYOOXX.js";import{a as ht}from"./chunk-EN2OY6HN.js";import{a as _t}from"./chunk-N2OY6R2Z.js";import{c as Xe,d as Ye,e as Ze,g as et,h as tt}from"./chunk-Y6IJ3JK7.js";import{a as dt,b as pt}from"./chunk-U7LJWR3M.js";import{b as mt,c as Ke,e as $e}from"./chunk-2Z2XM2XQ.js";import{a as Ct}from"./chunk-KXUP4254.js";import"./chunk-TLC6JAZY.js";import"./chunk-SBFB6SUC.js";import{a as Ie}from"./chunk-YB37TQTT.js";import{a as te}from"./chunk-CE2VYQXV.js";import{b as ct,e as Je,f as q}from"./chunk-BD3TJERA.js";import{$a as De,Ab as qe,Bb as We,C as Ii,Cb as Qe,D as bi,Da as mo,Db as ze,Ea as po,F as Mi,Fa as uo,Fc as H,Ic as F,Kc as j,M as Wo,Ma as Z,N as Qo,Na as ee,Nc as zo,Oa as Re,Qb as N,Rb as G,_ as wi,ba as co,bb as Te,fa as ye,gb as xe,hb as Le,jb as Ue,l as lo,lb as Be,m as gi,mb as Ve,nb as Oe,p as vi,q as Fo,s as jo,u as Ti,ub as Pe,v as qo,vb as Ne,wb as Ge,xb as He,yb as Fe,zb as je}from"./chunk-AZOW3G2P.js";import{$b as ve,Ba as bt,Bd as st,Cb as K,Db as $,Eb as X,Ed as yt,Fa as n,Fd as R,Fe as Rt,Ge as Dt,He as xt,Ib as Q,Ic as at,Jc as _i,Jd as D,Kb as oe,Kc as P,Kd as Ee,Ld as Y,Lf as Ot,Mf as Pt,Nb as m,Ne as Lt,Nf as Nt,Oa as S,Ob as L,Oc as St,Oe as Ut,Of as Gt,Pb as u,Pe as Bt,Pf as It,Qb as hi,Qc as Me,Qe as Vt,Qf as Ht,Rf as Ft,Sa as B,Se as Mt,Sf as jt,Ta as so,Tb as k,Td as z,Tf as lt,Ub as A,Vb as y,Wa as J,Wc as Po,Xd as No,Y as ao,Ya as T,_b as be,cc as g,da as h,dc as v,ea as _,eb as me,ec as se,fb as de,fe as Go,iq as ke,jb as p,jq as Ho,kb as a,kq as Ae,lb as s,mb as C,qb as I,qq as Oo,rb as b,rq as W,sb as re,tb as w,vc as O,vd as we,wb as M,xd as U,yb as d}from"./chunk-4YZDTEB7.js";import{i as V}from"./chunk-SEDBTTTN.js";var Zo=["vform"];function en(i,r){if(i&1){let e=w();a(0,"app-cms-enum-record-status-selector",7),y("modelChange",function(t){h(e);let l=d();return A(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),_(t)}),s()}if(i&2){let e=d();k("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function tn(i,r){if(i&1){let e=w();a(0,"div",8)(1,"button",9),M("click",function(){h(e);let t=d();return _(t.onFormCancel())}),C(2,"i",10),m(3),g(4,"translate"),s()()}i&2&&(n(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var ki=class ki extends dt{constructor(e,o,t,l,f,c,x,ne,ie,ce){super(l,new Ft,ce,ie);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenActivationService=l;this.cmsToastrService=f;this.tokenHelper=c;this.cmsStoreService=x;this.cdr=ne;this.translate=ie;this.publicHelper=ce;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new R;this.dataModel=new Ft;this.formInfo=new Y;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.setAccessDataType(st.Editor),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ki.\u0275fac=function(o){return new(o||ki)(S(ee),S(Z),S(z),S(Lt),S(j),S(F),S(H),S(O),S(N),S(q))},ki.\u0275cmp=B({type:ki,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&K(Zo,5),o&2){let l;$(l=X())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),C(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),g(7,"translate"),s(),T(8,en,1,5,"app-cms-enum-record-status-selector",4),C(9,"app-cms-site-selector",5),g(10,"translate"),C(11,"app-cms-user-selector",5),g(12,"translate"),T(13,tn,5,3,"div",6),s()()),o&2&&(n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",v(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,13,"TITLE.WEBSITE")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,15,"TITLE.USER")),n(2),p("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[P,mt,Ct,pt,te,G],encapsulation:2});var fo=ki;var on=["vform"];function nn(i,r){if(i&1&&(a(0,"div",7),C(1,"i",11),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function rn(i,r){if(i&1&&(a(0,"div",8),C(1,"i",13),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function an(i,r){if(i&1&&(a(0,"div",9),C(1,"i",14),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function sn(i,r){if(i&1&&(a(0,"div",10),C(1,"i",15),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function ln(i,r){if(i&1&&me(0,nn,4,1,"div",7)(1,rn,4,1,"div",8)(2,an,4,1,"div",9)(3,sn,4,1,"div",10),i&2){let e,o=d();de((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function cn(i,r){if(i&1){let e=w();a(0,"div",16)(1,"button",17),M("click",function(){h(e);let t=d();return _(t.onFormCancel())}),C(2,"i",18),m(3),g(4,"translate"),s()()}i&2&&(n(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var yi=class yi{constructor(r,e,o,t,l,f,c,x,ne,ie){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreTokenActivationService=t;this.cmsToastrService=l;this.tokenHelper=f;this.cmsStoreService=c;this.cdr=x;this.publicHelper=ne;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new lt;this.dataModelResult=new R;this.dataModel=new Ft;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("aaaaaaaaaTITLE.VIEWaaaaa").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>V(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};yi.\u0275fac=function(e){return new(e||yi)(S(ee),S(Z),S(z),S(Lt),S(j),S(F),S(H),S(O),S(q),S(N))},yi.\u0275cmp=B({type:yi,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&K(on,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),C(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),me(6,ln,4,1),s(),a(7,"div",5),T(8,cn,5,3,"div",6),s()),e&2&&(n(),u(" ",o.formInfo.formTitle," "),n(2),p("optionsInfoAreaId",o.constructorInfoAreaId),n(),p("dataModel",o.dataModel)("optionMethod",1),n(2),de((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?6:-1),n(2),p("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[P,te,ut,G],encapsulation:2});var So=yi;var mn=()=>[5,10,20,100],dn=i=>({display:i}),pn=i=>({background:i});function un(i,r){if(i&1&&C(0,"app-core-user-header",52),i&2){let e=d();p("optionId",e.requestLinkUserId)}}function fn(i,r){if(i&1){let e=w();a(0,"a",53),M("click",function(){h(e);let t=d();return _(t.onActionBackToParent())}),C(1,"i",54),s()}}function Sn(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",55),M("click",function(){h(e);let t=d();return _(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",56)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.EDIT")," "))}function Cn(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",57),M("click",function(){h(e);let t=d();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",58)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.DELETE")," "))}function hn(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",59),M("click",function(){h(e);let t=d();return _(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",60)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.VIEW")," "))}function _n(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function gn(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function vn(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Tn(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),u(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function In(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function bn(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),u(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function Mn(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function wn(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),u(" ",e.linkMemberUserId," ")}}function En(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function kn(i,r){if(i&1&&C(0,"select",64),i&2){let e=d().$implicit,o=d();p("contentService",o.contentService)("row",e)("ngStyle",ve(3,dn,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function An(i,r){if(i&1&&(a(0,"mat-cell",62),g(1,"statusCellClass"),C(2,"i",62),g(3,"statusIconClass"),T(4,kn,1,5,"select",63),s()),i&2){let e=r.$implicit,o=d();p("ngClass",v(1,3,e.recordStatus)),n(2),p("ngClass",v(3,5,e.recordStatus)),n(2),p("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function yn(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Rn(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=d();n(),u(" ",se(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Dn(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function xn(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=d();n(),u(" ",se(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Ln(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Un(i,r){if(i&1&&(a(0,"mat-cell"),C(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),p("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function Bn(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Vn(i,r){if(i&1&&(a(0,"mat-cell"),C(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),p("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function On(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Pn(i,r){if(i&1&&(a(0,"mat-cell"),C(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),p("ngClass",v(2,1,e.rememberOnDevice))}}function Nn(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Gn(i,r){if(i&1&&(a(0,"mat-cell",65),m(1),g(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),u(" ",v(2,1,e.createdDate)," ")}}function Hn(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Fn(i,r){if(i&1&&(a(0,"mat-cell",66),m(1),g(2,"persianDate"),s()),i&2){let e=r.$implicit,o=d();p("ngStyle",ve(4,pn,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),u(" ",v(2,2,e.expireDate)," ")}}function jn(i,r){i&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),s()),i&2&&(n(),u(" ",v(2,1,"TITLE.OPTION")," "))}function qn(i,r){if(i&1&&(a(0,"mat-cell",67)(1,"button",68)(2,"mat-icon"),m(3,"more_vert"),s()(),C(4,"mat-menu",null,2),s()),i&2){let e=Q(5);n(),p("matMenuTriggerFor",e)}}function Wn(i,r){i&1&&C(0,"mat-header-row")}function Qn(i,r){if(i&1){let e=w();a(0,"mat-row",69),M("click",function(t){let l=h(e).$implicit,f=d();return _(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,f=d();return _(f.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=d();oe("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Ri=class Ri extends Xe{constructor(e,o,t,l,f,c,x,ne,ie,ce,rt,Et){super(e,new Ft,rt,f,x);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=f;this.cdr=c;this.translate=x;this.cmsStoreService=ne;this.router=ie;this.pageInfo=ce;this.publicHelper=rt;this.dialog=Et;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ee;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new D;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new D;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new D;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ft);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new D;t.propertyName="RecordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new D;t.propertyAnyName="LinkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new D;t.propertyAnyName="LinkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(So,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(fo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{o.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new D;f.propertyName="RecordStatus",f.value=we.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{o.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ri.\u0275fac=function(o){return new(o||Ri)(S(Lt),S(j),S(Ie),S(ke),S(F),S(O),S(N),S(H),S(Ae),S(Je),S(q),S(Re))},Ri.\u0275cmp=B({type:Ri,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[J],decls:89,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();T(0,un,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),y("optionActionGuideNoticeDisplayChange",function(c){return h(l),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return h(l),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),_(t.onActionButtonPrintRow())}),I(2,5),m(3," -------------------------------------- "),b(),re(4,6)(5,7),I(6,8),T(7,fn,2,0,"a",9),a(8,"a",10),M("click",function(){return h(l),_(t.viewGuideNotice=!t.viewGuideNotice)}),C(9,"i",11),s(),a(10,"a",10),M("click",function(){return h(l),_(t.onActionButtonReload())}),C(11,"i",12),s(),b(),I(12,13),a(13,"a",14),M("click",function(){return h(l),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(14,"mat-slide-toggle",15),m(15),g(16,"translate"),s(),a(17,"a",14),M("click",function(){return h(l),_(t.onActionButtonStatist())}),C(18,"mat-slide-toggle",15),m(19),g(20,"translate"),s(),b(),re(21,16),I(22,17),T(23,Sn,7,3,"div",18)(24,Cn,7,3,"div",18),a(25,"div",19)(26,"a",20),M("click",function(){return h(l),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),C(27,"i",21),s(),a(28,"p",22),m(29),g(30,"translate"),s()(),a(31,"div",19)(32,"a",20),M("click",function(){return h(l),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),C(33,"i",23)(34,"br"),s(),a(35,"p",22),m(36),g(37,"translate"),s()(),T(38,hn,7,3,"div",18),b(),I(39,24),a(40,"app-cms-search-list",25),y("optionsChange",function(c){return h(l),A(t.optionsSearch,c)||(t.optionsSearch=c),_(c)}),s(),a(41,"app-cms-statist-list",25),y("optionsChange",function(c){return h(l),A(t.optionsStatist,c)||(t.optionsStatist=c),_(c)}),s(),b(),I(42,26),a(43,"mat-table",27,0),M("matSortChange",function(){h(l);let c=Q(44);return _(t.onTableSortData(c))}),I(45,28),T(46,_n,2,1,"mat-header-cell",29)(47,gn,2,1,"mat-cell",30),b(),I(48,31),T(49,vn,2,1,"mat-header-cell",29)(50,Tn,4,5,"mat-cell",30),b(),I(51,32),T(52,In,2,1,"mat-header-cell",29)(53,bn,4,5,"mat-cell",30),b(),I(54,33),T(55,Mn,2,1,"mat-header-cell",29)(56,wn,2,1,"mat-cell",30),b(),I(57,34),T(58,En,2,1,"mat-header-cell",29)(59,An,5,7,"mat-cell",35),b(),I(60,36),T(61,yn,2,1,"mat-header-cell",29)(62,Rn,3,4,"mat-cell",30),b(),I(63,37),T(64,Dn,2,1,"mat-header-cell",29)(65,xn,3,4,"mat-cell",30),b(),I(66,38),T(67,Ln,2,1,"mat-header-cell",29)(68,Un,3,3,"mat-cell",30),b(),I(69,39),T(70,Bn,2,1,"mat-header-cell",29)(71,Vn,3,3,"mat-cell",30),b(),I(72,40),T(73,On,2,1,"mat-header-cell",29)(74,Pn,3,3,"mat-cell",30),b(),I(75,41),T(76,Nn,2,1,"mat-header-cell",29)(77,Gn,3,3,"mat-cell",42),b(),I(78,43),T(79,Hn,2,1,"mat-header-cell",29)(80,Fn,3,6,"mat-cell",44),b(),I(81,45),T(82,jn,3,3,"mat-header-cell",46)(83,qn,6,1,"mat-cell",47),b(),T(84,Wn,1,0,"mat-header-row",48)(85,Qn,1,2,"mat-row",49),s(),b(),I(86,50),a(87,"mat-paginator",51,1),M("page",function(c){return h(l),_(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(p("ngIf",t.requestLinkUserId>0),n(),p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),k("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(4),oe("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),p("checked",t.optionsSearch.data.show),n(),u("",v(16,29,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),u("",v(20,31,"ACTION.STATIST")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(5),u(" ",v(30,33,"ACTION.SITE")," "),n(7),u(" ",v(37,35,"ACTION.USER")," "),n(2),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),k("options",t.optionsSearch),n(),k("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(41),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(37,mn)))},dependencies:[at,P,St,ye,De,Te,xe,Le,Ue,Be,Ve,Oe,Pe,Ge,qe,He,Ne,We,Fe,je,Qe,ze,Ye,Ze,et,tt,ht,ot,Me,G,Tt,nt,Ke,it,$e,_t,gt,ct],encapsulation:2});var Co=Ri;var Ui=class Ui{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};Ui.\u0275fac=function(e){return new(e||Ui)},Ui.\u0275cmp=B({type:Ui,selectors:[["app-core-token"]],standalone:!1,decls:1,vars:0,template:function(e,o){e&1&&C(0,"router-outlet")},dependencies:[Ho],encapsulation:2});var ho=Ui;var zn=["vform"];function Jn(i,r){if(i&1){let e=w();a(0,"app-cms-enum-record-status-selector",7),y("modelChange",function(t){h(e);let l=d();return A(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),_(t)}),s()}if(i&2){let e=d();k("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Kn(i,r){if(i&1){let e=w();a(0,"div",8)(1,"button",9),M("click",function(){h(e);let t=d();return _(t.onFormCancel())}),C(2,"i",10),m(3),g(4,"translate"),s()()}i&2&&(n(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Bi=class Bi extends dt{constructor(e,o,t,l,f,c,x,ne,ie,ce){super(l,new Gt,c,ce);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreLogTokenMicroServiceService=l;this.cmsToastrService=f;this.publicHelper=c;this.cdr=x;this.tokenHelper=ne;this.cmsStoreService=ie;this.translate=ce;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new R;this.dataModel=new Gt;this.formInfo=new Y;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreLogTokenMicroServiceService.setAccessLoad(),this.coreLogTokenMicroServiceService.setAccessDataType(st.Editor),this.coreLogTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Bi.\u0275fac=function(o){return new(o||Bi)(S(ee),S(Z),S(z),S(Dt),S(j),S(q),S(O),S(F),S(H),S(N))},Bi.\u0275cmp=B({type:Bi,selectors:[["app-coretoken-microservicelog-edit"]],viewQuery:function(o,t){if(o&1&&K(zn,5),o&2){let l;$(l=X())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),C(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),g(7,"translate"),s(),T(8,Jn,1,5,"app-cms-enum-record-status-selector",4),C(9,"app-cms-site-selector",5),g(10,"translate"),C(11,"app-cms-user-selector",5),g(12,"translate"),T(13,Kn,5,3,"div",6),s()()),o&2&&(n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",v(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,13,"TITLE.WEBSITE")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,15,"TITLE.USER")),n(2),p("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[P,mt,Ct,pt,te,G],encapsulation:2});var _o=Bi;var $n=["vform"];function Xn(i,r){if(i&1&&(a(0,"div",7),C(1,"i",11),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function Yn(i,r){if(i&1&&(a(0,"div",8),C(1,"i",13),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function Zn(i,r){if(i&1&&(a(0,"div",9),C(1,"i",14),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function er(i,r){if(i&1&&(a(0,"div",10),C(1,"i",15),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function tr(i,r){if(i&1&&me(0,Xn,4,1,"div",7)(1,Yn,4,1,"div",8)(2,Zn,4,1,"div",9)(3,er,4,1,"div",10),i&2){let e,o=d();de((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function ir(i,r){if(i&1){let e=w();a(0,"div",16)(1,"button",17),M("click",function(){h(e);let t=d();return _(t.onFormCancel())}),C(2,"i",18),m(3),g(4,"translate"),s()()}i&2&&(n(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Vi=class Vi{constructor(r,e,o,t,l,f,c,x,ne,ie){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreLogTokenMicroServiceService=t;this.cmsToastrService=l;this.tokenHelper=f;this.cmsStoreService=c;this.cdr=x;this.publicHelper=ne;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new lt;this.dataModelResult=new R;this.dataModel=new Gt;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>V(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreLogTokenMicroServiceService.setAccessLoad(),this.coreLogTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vi.\u0275fac=function(e){return new(e||Vi)(S(ee),S(Z),S(z),S(Dt),S(j),S(F),S(H),S(O),S(q),S(N))},Vi.\u0275cmp=B({type:Vi,selectors:[["app-core-token-microservicelog-view"]],viewQuery:function(e,o){if(e&1&&K($n,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),C(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),me(6,tr,4,1),s(),a(7,"div",5),T(8,ir,5,3,"div",6),s()),e&2&&(n(),u(" ",o.formInfo.formTitle," "),n(2),p("optionsInfoAreaId",o.constructorInfoAreaId),n(),p("dataModel",o.dataModel)("optionMethod",1),n(2),de((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?6:-1),n(2),p("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[P,te,ut,G],encapsulation:2});var go=Vi;var or=()=>[5,10,20,100],nr=i=>({display:i}),rr=i=>({background:i});function ar(i,r){if(i&1&&C(0,"app-core-user-header",52),i&2){let e=d();p("optionId",e.requestLinkUserId)}}function sr(i,r){if(i&1){let e=w();a(0,"a",53),M("click",function(){h(e);let t=d();return _(t.onActionBackToParent())}),C(1,"i",54),s()}}function lr(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",55),M("click",function(){h(e);let t=d();return _(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",56)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.EDIT")," "))}function cr(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",57),M("click",function(){h(e);let t=d();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",58)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.DELETE")," "))}function mr(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",59),M("click",function(){h(e);let t=d();return _(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",60)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.VIEW")," "))}function dr(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function pr(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function ur(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function fr(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),u(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Sr(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Cr(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),u(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function hr(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function _r(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),u(" ",e.linkMemberUserId," ")}}function gr(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function vr(i,r){if(i&1&&C(0,"select",64),i&2){let e=d().$implicit,o=d();p("contentService",o.contentService)("row",e)("ngStyle",ve(3,nr,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Tr(i,r){if(i&1&&(a(0,"mat-cell",62),g(1,"statusCellClass"),C(2,"i",62),g(3,"statusIconClass"),T(4,vr,1,5,"select",63),s()),i&2){let e=r.$implicit,o=d();p("ngClass",v(1,3,e.recordStatus)),n(2),p("ngClass",v(3,5,e.recordStatus)),n(2),p("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function Ir(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function br(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=d();n(),u(" ",se(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Mr(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function wr(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=d();n(),u(" ",se(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Er(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function kr(i,r){if(i&1&&(a(0,"mat-cell"),C(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),p("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function Ar(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function yr(i,r){if(i&1&&(a(0,"mat-cell"),C(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),p("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function Rr(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Dr(i,r){if(i&1&&(a(0,"mat-cell"),C(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),p("ngClass",v(2,1,e.rememberOnDevice))}}function xr(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Lr(i,r){if(i&1&&(a(0,"mat-cell",65),m(1),g(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),u(" ",v(2,1,e.createdDate)," ")}}function Ur(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Br(i,r){if(i&1&&(a(0,"mat-cell",66),m(1),g(2,"persianDate"),s()),i&2){let e=r.$implicit,o=d();p("ngStyle",ve(4,rr,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),u(" ",v(2,2,e.expireDate)," ")}}function Vr(i,r){i&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),s()),i&2&&(n(),u(" ",v(2,1,"TITLE.OPTION")," "))}function Or(i,r){if(i&1&&(a(0,"mat-cell",67)(1,"button",68)(2,"mat-icon"),m(3,"more_vert"),s()(),C(4,"mat-menu",null,2),s()),i&2){let e=Q(5);n(),p("matMenuTriggerFor",e)}}function Pr(i,r){i&1&&C(0,"mat-header-row")}function Nr(i,r){if(i&1){let e=w();a(0,"mat-row",69),M("click",function(t){let l=h(e).$implicit,f=d();return _(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,f=d();return _(f.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=d();oe("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Oi=class Oi extends Xe{constructor(e,o,t,l,f,c,x,ne,ie,ce,rt,Et){super(e,new Gt,rt,f,x);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=f;this.cdr=c;this.translate=x;this.cmsStoreService=ne;this.router=ie;this.pageInfo=ce;this.publicHelper=rt;this.dialog=Et;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ee;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new D;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new D;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new D;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Gt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new D;t.propertyName="RecordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new D;t.propertyAnyName="LinkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new D;t.propertyAnyName="LinkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(go,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(_o,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{o.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new D;f.propertyName="RecordStatus",f.value=we.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{o.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Oi.\u0275fac=function(o){return new(o||Oi)(S(Dt),S(j),S(Ie),S(ke),S(F),S(O),S(N),S(H),S(Ae),S(Je),S(q),S(Re))},Oi.\u0275cmp=B({type:Oi,selectors:[["app-coretoken-microservicelog-list"]],standalone:!1,features:[J],decls:86,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();T(0,ar,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),y("optionActionGuideNoticeDisplayChange",function(c){return h(l),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return h(l),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),_(t.onActionButtonPrintRow())}),I(2,5),m(3," -------------------------------------- "),b(),re(4,6)(5,7),I(6,8),T(7,sr,2,0,"a",9),a(8,"a",10),M("click",function(){return h(l),_(t.viewGuideNotice=!t.viewGuideNotice)}),C(9,"i",11),s(),a(10,"a",10),M("click",function(){return h(l),_(t.onActionButtonReload())}),C(11,"i",12),s(),b(),I(12,13),a(13,"a",14),M("click",function(){return h(l),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(14,"mat-slide-toggle",15),m(15),g(16,"translate"),s(),b(),re(17,16),I(18,17),T(19,lr,7,3,"div",18)(20,cr,7,3,"div",18),a(21,"div",19)(22,"a",20),M("click",function(){return h(l),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),C(23,"i",21)(24,"br"),s(),a(25,"p",22),m(26),g(27,"translate"),s()(),a(28,"div",19)(29,"a",20),M("click",function(){return h(l),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),C(30,"i",23)(31,"br"),s(),a(32,"p",22),m(33),g(34,"translate"),s()(),T(35,mr,7,3,"div",18),b(),I(36,24),a(37,"app-cms-search-list",25),y("optionsChange",function(c){return h(l),A(t.optionsSearch,c)||(t.optionsSearch=c),_(c)}),s(),a(38,"app-cms-statist-list",25),y("optionsChange",function(c){return h(l),A(t.optionsStatist,c)||(t.optionsStatist=c),_(c)}),s(),b(),I(39,26),a(40,"mat-table",27,0),M("matSortChange",function(){h(l);let c=Q(41);return _(t.onTableSortData(c))}),I(42,28),T(43,dr,2,1,"mat-header-cell",29)(44,pr,2,1,"mat-cell",30),b(),I(45,31),T(46,ur,2,1,"mat-header-cell",29)(47,fr,4,5,"mat-cell",30),b(),I(48,32),T(49,Sr,2,1,"mat-header-cell",29)(50,Cr,4,5,"mat-cell",30),b(),I(51,33),T(52,hr,2,1,"mat-header-cell",29)(53,_r,2,1,"mat-cell",30),b(),I(54,34),T(55,gr,2,1,"mat-header-cell",29)(56,Tr,5,7,"mat-cell",35),b(),I(57,36),T(58,Ir,2,1,"mat-header-cell",29)(59,br,3,4,"mat-cell",30),b(),I(60,37),T(61,Mr,2,1,"mat-header-cell",29)(62,wr,3,4,"mat-cell",30),b(),I(63,38),T(64,Er,2,1,"mat-header-cell",29)(65,kr,3,3,"mat-cell",30),b(),I(66,39),T(67,Ar,2,1,"mat-header-cell",29)(68,yr,3,3,"mat-cell",30),b(),I(69,40),T(70,Rr,2,1,"mat-header-cell",29)(71,Dr,3,3,"mat-cell",30),b(),I(72,41),T(73,xr,2,1,"mat-header-cell",29)(74,Lr,3,3,"mat-cell",42),b(),I(75,43),T(76,Ur,2,1,"mat-header-cell",29)(77,Br,3,6,"mat-cell",44),b(),I(78,45),T(79,Vr,3,3,"mat-header-cell",46)(80,Or,6,1,"mat-cell",47),b(),T(81,Pr,1,0,"mat-header-row",48)(82,Nr,1,2,"mat-row",49),s(),b(),I(83,50),a(84,"mat-paginator",51,1),M("page",function(c){return h(l),_(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(p("ngIf",t.requestLinkUserId>0),n(),p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),k("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(4),oe("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),p("checked",t.optionsSearch.data.show),n(),u("",v(16,27,"ACTION.SEARCH")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),u(" ",v(27,29,"ACTION.SITE")," "),n(7),u(" ",v(34,31,"ACTION.USER")," "),n(2),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),k("options",t.optionsSearch),n(),k("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(41),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(33,or)))},dependencies:[at,P,St,ye,De,Te,xe,Le,Ue,Be,Ve,Oe,Pe,Ge,qe,He,Ne,We,Fe,je,Qe,ze,Ye,Ze,et,tt,ht,ot,Me,G,Tt,nt,Ke,it,$e,_t,gt,ct],encapsulation:2});var vo=Oi;var Gr=["vform"];function Hr(i,r){if(i&1){let e=w();a(0,"app-cms-enum-record-status-selector",8),y("modelChange",function(t){h(e);let l=d();return A(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),_(t)}),s()}if(i&2){let e=d();k("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Fr(i,r){if(i&1&&(a(0,"div"),C(1,"div",9),g(2,"prettyjson"),s()),i&2){let e=d();n(),p("innerHTML",v(2,1,e.dataModel),bt)}}function jr(i,r){if(i&1){let e=w();a(0,"div",10)(1,"button",11),M("click",function(){h(e);let t=d();return _(t.onFormCancel())}),C(2,"i",12),m(3),g(4,"translate"),s()()}i&2&&(n(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Pi=class Pi extends dt{constructor(e,o,t,l,f,c,x,ne,ie,ce){super(l,new Nt,ie,ce);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenMicroServiceService=l;this.cmsToastrService=f;this.tokenHelper=c;this.cmsStoreService=x;this.cdr=ne;this.publicHelper=ie;this.translate=ce;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new yt;this.dataModel=new Nt;this.formInfo=new Y;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.setAccessDataType(st.Editor),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Pi.\u0275fac=function(o){return new(o||Pi)(S(ee),S(Z),S(z),S(Vt),S(j),S(F),S(H),S(O),S(q),S(N))},Pi.\u0275cmp=B({type:Pi,selectors:[["app-coretoken-microservice-edit"]],viewQuery:function(o,t){if(o&1&&K(Gr,5),o&2){let l;$(l=X())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:15,vars:18,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),C(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),g(7,"translate"),s(),T(8,Hr,1,5,"app-cms-enum-record-status-selector",4),C(9,"app-cms-site-selector",5),g(10,"translate"),C(11,"app-cms-user-selector",5),g(12,"translate"),T(13,Fr,3,3,"div",6)(14,jr,5,3,"div",7),s()()),o&2&&(n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",v(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,14,"TITLE.WEBSITE")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,16,"TITLE.USER")),n(2),p("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(),p("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[P,mt,Ct,pt,te,G,wt],encapsulation:2});var To=Pi;var qr=["vform"];function Wr(i,r){if(i&1&&(a(0,"div",7),C(1,"i",11),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function Qr(i,r){if(i&1&&(a(0,"div",8),C(1,"i",13),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function zr(i,r){if(i&1&&(a(0,"div",9),C(1,"i",14),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function Jr(i,r){if(i&1&&(a(0,"div",10),C(1,"i",15),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function Kr(i,r){if(i&1&&me(0,Wr,4,1,"div",7)(1,Qr,4,1,"div",8)(2,zr,4,1,"div",9)(3,Jr,4,1,"div",10),i&2){let e,o=d();de((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function $r(i,r){if(i&1){let e=w();a(0,"div",16)(1,"button",17),M("click",function(){h(e);let t=d();return _(t.onFormCancel())}),C(2,"i",18),m(3),g(4,"translate"),s()()}i&2&&(n(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Ni=class Ni{constructor(r,e,o,t,l,f,c,x,ne,ie){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreTokenMicroServiceService=t;this.cmsToastrService=l;this.tokenHelper=f;this.cmsStoreService=c;this.cdr=x;this.publicHelper=ne;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new lt;this.dataModelResult=new R;this.dataModel=new Nt;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>V(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ni.\u0275fac=function(e){return new(e||Ni)(S(ee),S(Z),S(z),S(Vt),S(j),S(F),S(H),S(O),S(q),S(N))},Ni.\u0275cmp=B({type:Ni,selectors:[["app-coretoken-microservice-view"]],viewQuery:function(e,o){if(e&1&&K(qr,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),C(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),me(6,Kr,4,1),s(),a(7,"div",5),T(8,$r,5,3,"div",6),s()),e&2&&(n(),u(" ",o.formInfo.formTitle," "),n(2),p("optionsInfoAreaId",o.constructorInfoAreaId),n(),p("dataModel",o.dataModel)("optionMethod",1),n(2),de((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?6:-1),n(2),p("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[P,te,ut,G],encapsulation:2});var bo=Ni;var Xr=()=>[5,10,20,100],Yr=i=>({display:i}),Zr=i=>({background:i});function ea(i,r){if(i&1&&C(0,"app-core-user-header",52),i&2){let e=d();p("optionId",e.requestLinkUserId)}}function ta(i,r){if(i&1){let e=w();a(0,"a",53),M("click",function(){h(e);let t=d();return _(t.onActionBackToParent())}),C(1,"i",54),s()}}function ia(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",55),M("click",function(){h(e);let t=d();return _(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",56)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.EDIT")," "))}function oa(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",57),M("click",function(){h(e);let t=d();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",58)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.DELETE")," "))}function na(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",59),M("click",function(){h(e);let t=d();return _(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",60)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.VIEW")," "))}function ra(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function aa(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function sa(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function la(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),u(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function ca(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function ma(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),u(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function da(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function pa(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),u(" ",e.linkMemberUserId," ")}}function ua(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function fa(i,r){if(i&1&&C(0,"select",64),i&2){let e=d().$implicit,o=d();p("contentService",o.contentService)("row",e)("ngStyle",ve(3,Yr,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Sa(i,r){if(i&1&&(a(0,"mat-cell",62),g(1,"statusCellClass"),C(2,"i",62),g(3,"statusIconClass"),T(4,fa,1,5,"select",63),s()),i&2){let e=r.$implicit,o=d();p("ngClass",v(1,3,e.recordStatus)),n(2),p("ngClass",v(3,5,e.recordStatus)),n(2),p("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function Ca(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function ha(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=d();n(),u(" ",se(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function _a(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function ga(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=d();n(),u(" ",se(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function va(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Ta(i,r){if(i&1&&(a(0,"mat-cell"),C(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),p("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function Ia(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function ba(i,r){if(i&1&&(a(0,"mat-cell"),C(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),p("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function Ma(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function wa(i,r){if(i&1&&(a(0,"mat-cell"),C(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),p("ngClass",v(2,1,e.rememberOnDevice))}}function Ea(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ka(i,r){if(i&1&&(a(0,"mat-cell",65),m(1),g(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),u(" ",v(2,1,e.createdDate)," ")}}function Aa(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function ya(i,r){if(i&1&&(a(0,"mat-cell",66),m(1),g(2,"persianDate"),s()),i&2){let e=r.$implicit,o=d();p("ngStyle",ve(4,Zr,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),u(" ",v(2,2,e.expireDate)," ")}}function Ra(i,r){i&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),s()),i&2&&(n(),u(" ",v(2,1,"TITLE.OPTION")," "))}function Da(i,r){if(i&1&&(a(0,"mat-cell",67)(1,"button",68)(2,"mat-icon"),m(3,"more_vert"),s()(),C(4,"mat-menu",null,2),s()),i&2){let e=Q(5);n(),p("matMenuTriggerFor",e)}}function xa(i,r){i&1&&C(0,"mat-header-row")}function La(i,r){if(i&1){let e=w();a(0,"mat-row",69),M("click",function(t){let l=h(e).$implicit,f=d();return _(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,f=d();return _(f.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=d();oe("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Gi=class Gi extends Xe{constructor(e,o,t,l,f,c,x,ne,ie,ce,rt,Et){super(e,new Nt,rt,f,x);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=f;this.cdr=c;this.translate=x;this.cmsStoreService=ne;this.router=ie;this.pageInfo=ce;this.publicHelper=rt;this.dialog=Et;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ee;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new D;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new D;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new D;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Nt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new D;t.propertyName="RecordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new D;t.propertyAnyName="LinkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new D;t.propertyAnyName="LinkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(bo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(To,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{o.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new D;f.propertyName="RecordStatus",f.value=we.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{o.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Gi.\u0275fac=function(o){return new(o||Gi)(S(Vt),S(j),S(Ie),S(ke),S(F),S(O),S(N),S(H),S(Ae),S(Je),S(q),S(Re))},Gi.\u0275cmp=B({type:Gi,selectors:[["app-coretoken-microservice-list"]],standalone:!1,features:[J],decls:90,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();T(0,ea,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),y("optionActionGuideNoticeDisplayChange",function(c){return h(l),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return h(l),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),_(t.onActionButtonPrintRow())}),I(2,5),m(3," -------------------------------------- "),b(),re(4,6)(5,7),I(6,8),T(7,ta,2,0,"a",9),a(8,"a",10),M("click",function(){return h(l),_(t.viewGuideNotice=!t.viewGuideNotice)}),C(9,"i",11),s(),a(10,"a",10),M("click",function(){return h(l),_(t.onActionButtonReload())}),C(11,"i",12),s(),b(),I(12,13),a(13,"a",14),M("click",function(){return h(l),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(14,"mat-slide-toggle",15),m(15),g(16,"translate"),s(),a(17,"a",14),M("click",function(){return h(l),_(t.onActionButtonStatist())}),C(18,"mat-slide-toggle",15),m(19),g(20,"translate"),s(),b(),re(21,16),I(22,17),T(23,ia,7,3,"div",18)(24,oa,7,3,"div",18),a(25,"div",19)(26,"a",20),M("click",function(){return h(l),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),C(27,"i",21)(28,"br"),s(),a(29,"p",22),m(30),g(31,"translate"),s()(),a(32,"div",19)(33,"a",20),M("click",function(){return h(l),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),C(34,"i",23)(35,"br"),s(),a(36,"p",22),m(37),g(38,"translate"),s()(),T(39,na,7,3,"div",18),b(),I(40,24),a(41,"app-cms-search-list",25),y("optionsChange",function(c){return h(l),A(t.optionsSearch,c)||(t.optionsSearch=c),_(c)}),s(),a(42,"app-cms-statist-list",25),y("optionsChange",function(c){return h(l),A(t.optionsStatist,c)||(t.optionsStatist=c),_(c)}),s(),b(),I(43,26),a(44,"mat-table",27,0),M("matSortChange",function(){h(l);let c=Q(45);return _(t.onTableSortData(c))}),I(46,28),T(47,ra,2,1,"mat-header-cell",29)(48,aa,2,1,"mat-cell",30),b(),I(49,31),T(50,sa,2,1,"mat-header-cell",29)(51,la,4,5,"mat-cell",30),b(),I(52,32),T(53,ca,2,1,"mat-header-cell",29)(54,ma,4,5,"mat-cell",30),b(),I(55,33),T(56,da,2,1,"mat-header-cell",29)(57,pa,2,1,"mat-cell",30),b(),I(58,34),T(59,ua,2,1,"mat-header-cell",29)(60,Sa,5,7,"mat-cell",35),b(),I(61,36),T(62,Ca,2,1,"mat-header-cell",29)(63,ha,3,4,"mat-cell",30),b(),I(64,37),T(65,_a,2,1,"mat-header-cell",29)(66,ga,3,4,"mat-cell",30),b(),I(67,38),T(68,va,2,1,"mat-header-cell",29)(69,Ta,3,3,"mat-cell",30),b(),I(70,39),T(71,Ia,2,1,"mat-header-cell",29)(72,ba,3,3,"mat-cell",30),b(),I(73,40),T(74,Ma,2,1,"mat-header-cell",29)(75,wa,3,3,"mat-cell",30),b(),I(76,41),T(77,Ea,2,1,"mat-header-cell",29)(78,ka,3,3,"mat-cell",42),b(),I(79,43),T(80,Aa,2,1,"mat-header-cell",29)(81,ya,3,6,"mat-cell",44),b(),I(82,45),T(83,Ra,3,3,"mat-header-cell",46)(84,Da,6,1,"mat-cell",47),b(),T(85,xa,1,0,"mat-header-row",48)(86,La,1,2,"mat-row",49),s(),b(),I(87,50),a(88,"mat-paginator",51,1),M("page",function(c){return h(l),_(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(p("ngIf",t.requestLinkUserId>0),n(),p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),k("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(4),oe("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),p("checked",t.optionsSearch.data.show),n(),u("",v(16,29,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),u("",v(20,31,"ACTION.STATIST")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),u(" ",v(31,33,"ACTION.SITE")," "),n(7),u(" ",v(38,35,"ACTION.USER")," "),n(2),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),k("options",t.optionsSearch),n(),k("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(41),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(37,Xr)))},dependencies:[at,P,St,ye,De,Te,xe,Le,Ue,Be,Ve,Oe,Pe,Ge,qe,He,Ne,We,Fe,je,Qe,ze,Ye,Ze,et,tt,ht,ot,Me,G,Tt,nt,Ke,it,$e,_t,gt,ct],encapsulation:2});var Mo=Gi;var Ua=["vform"];function Ba(i,r){if(i&1){let e=w();a(0,"app-cms-enum-record-status-selector",7),y("modelChange",function(t){h(e);let l=d();return A(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),_(t)}),s()}if(i&2){let e=d();k("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Va(i,r){if(i&1){let e=w();a(0,"div",8)(1,"button",9),M("click",function(){h(e);let t=d();return _(t.onFormCancel())}),C(2,"i",10),m(3),g(4,"translate"),s()()}i&2&&(n(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Hi=class Hi extends dt{constructor(e,o,t,l,f,c,x,ne,ie,ce){super(l,new Ht,c,ce);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreLogTokenConnectionService=l;this.cmsToastrService=f;this.publicHelper=c;this.cdr=x;this.tokenHelper=ne;this.cmsStoreService=ie;this.translate=ce;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new R;this.dataModel=new Ht;this.formInfo=new Y;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreLogTokenConnectionService.setAccessLoad(),this.coreLogTokenConnectionService.setAccessDataType(st.Editor),this.coreLogTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Hi.\u0275fac=function(o){return new(o||Hi)(S(ee),S(Z),S(z),S(xt),S(j),S(q),S(O),S(F),S(H),S(N))},Hi.\u0275cmp=B({type:Hi,selectors:[["app-coretoken-notificationlog-edit"]],viewQuery:function(o,t){if(o&1&&K(Ua,5),o&2){let l;$(l=X())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),C(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),g(7,"translate"),s(),T(8,Ba,1,5,"app-cms-enum-record-status-selector",4),C(9,"app-cms-site-selector",5),g(10,"translate"),C(11,"app-cms-user-selector",5),g(12,"translate"),T(13,Va,5,3,"div",6),s()()),o&2&&(n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",v(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,13,"TITLE.WEBSITE")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,15,"TITLE.USER")),n(2),p("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[P,mt,Ct,pt,te,G],encapsulation:2});var wo=Hi;var Oa=["vform"];function Pa(i,r){if(i&1&&(a(0,"div",7),C(1,"i",11),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function Na(i,r){if(i&1&&(a(0,"div",8),C(1,"i",13),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function Ga(i,r){if(i&1&&(a(0,"div",9),C(1,"i",14),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function Ha(i,r){if(i&1&&(a(0,"div",10),C(1,"i",15),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function Fa(i,r){if(i&1&&me(0,Pa,4,1,"div",7)(1,Na,4,1,"div",8)(2,Ga,4,1,"div",9)(3,Ha,4,1,"div",10),i&2){let e,o=d();de((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function ja(i,r){if(i&1){let e=w();a(0,"div",16)(1,"button",17),M("click",function(){h(e);let t=d();return _(t.onFormCancel())}),C(2,"i",18),m(3),g(4,"translate"),s()()}i&2&&(n(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Fi=class Fi{constructor(r,e,o,t,l,f,c,x,ne,ie){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreLogTokenConnectionService=t;this.cmsToastrService=l;this.tokenHelper=f;this.cmsStoreService=c;this.cdr=x;this.publicHelper=ne;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new lt;this.dataModelResult=new R;this.dataModel=new Ht;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>V(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreLogTokenConnectionService.setAccessLoad(),this.coreLogTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Fi.\u0275fac=function(e){return new(e||Fi)(S(ee),S(Z),S(z),S(xt),S(j),S(F),S(H),S(O),S(q),S(N))},Fi.\u0275cmp=B({type:Fi,selectors:[["app-core-token-notificationlog-view"]],viewQuery:function(e,o){if(e&1&&K(Oa,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),C(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),me(6,Fa,4,1),s(),a(7,"div",5),T(8,ja,5,3,"div",6),s()),e&2&&(n(),u(" ",o.formInfo.formTitle," "),n(2),p("optionsInfoAreaId",o.constructorInfoAreaId),n(),p("dataModel",o.dataModel)("optionMethod",1),n(2),de((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?6:-1),n(2),p("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[P,te,ut,G],encapsulation:2});var Eo=Fi;var qa=()=>[5,10,20,100],Wa=i=>({display:i}),Qa=i=>({background:i});function za(i,r){if(i&1&&C(0,"app-core-user-header",52),i&2){let e=d();p("optionId",e.requestLinkUserId)}}function Ja(i,r){if(i&1){let e=w();a(0,"a",53),M("click",function(){h(e);let t=d();return _(t.onActionBackToParent())}),C(1,"i",54),s()}}function Ka(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",55),M("click",function(){h(e);let t=d();return _(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",56)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.EDIT")," "))}function $a(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",57),M("click",function(){h(e);let t=d();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",58)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.DELETE")," "))}function Xa(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",59),M("click",function(){h(e);let t=d();return _(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",60)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.VIEW")," "))}function Ya(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Za(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function es(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ts(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),u(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function is(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function os(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),u(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function ns(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function rs(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),u(" ",e.linkMemberUserId," ")}}function as(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ss(i,r){if(i&1&&C(0,"select",64),i&2){let e=d().$implicit,o=d();p("contentService",o.contentService)("row",e)("ngStyle",ve(3,Wa,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function ls(i,r){if(i&1&&(a(0,"mat-cell",62),g(1,"statusCellClass"),C(2,"i",62),g(3,"statusIconClass"),T(4,ss,1,5,"select",63),s()),i&2){let e=r.$implicit,o=d();p("ngClass",v(1,3,e.recordStatus)),n(2),p("ngClass",v(3,5,e.recordStatus)),n(2),p("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function cs(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function ms(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=d();n(),u(" ",se(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function ds(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function ps(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=d();n(),u(" ",se(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function us(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function fs(i,r){if(i&1&&(a(0,"mat-cell"),C(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),p("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function Ss(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Cs(i,r){if(i&1&&(a(0,"mat-cell"),C(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),p("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function hs(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function _s(i,r){if(i&1&&(a(0,"mat-cell"),C(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),p("ngClass",v(2,1,e.rememberOnDevice))}}function gs(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function vs(i,r){if(i&1&&(a(0,"mat-cell",65),m(1),g(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),u(" ",v(2,1,e.createdDate)," ")}}function Ts(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Is(i,r){if(i&1&&(a(0,"mat-cell",66),m(1),g(2,"persianDate"),s()),i&2){let e=r.$implicit,o=d();p("ngStyle",ve(4,Qa,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),u(" ",v(2,2,e.expireDate)," ")}}function bs(i,r){i&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),s()),i&2&&(n(),u(" ",v(2,1,"TITLE.OPTION")," "))}function Ms(i,r){if(i&1&&(a(0,"mat-cell",67)(1,"button",68)(2,"mat-icon"),m(3,"more_vert"),s()(),C(4,"mat-menu",null,2),s()),i&2){let e=Q(5);n(),p("matMenuTriggerFor",e)}}function ws(i,r){i&1&&C(0,"mat-header-row")}function Es(i,r){if(i&1){let e=w();a(0,"mat-row",69),M("click",function(t){let l=h(e).$implicit,f=d();return _(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,f=d();return _(f.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=d();oe("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var ji=class ji extends Xe{constructor(e,o,t,l,f,c,x,ne,ie,ce,rt,Et){super(e,new Ht,rt,f,x);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=f;this.cdr=c;this.translate=x;this.cmsStoreService=ne;this.router=ie;this.pageInfo=ce;this.publicHelper=rt;this.dialog=Et;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ee;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new D;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new D;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new D;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ht);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new D;t.propertyName="RecordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new D;t.propertyAnyName="LinkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new D;t.propertyAnyName="LinkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Eo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(wo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{o.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new D;f.propertyName="RecordStatus",f.value=we.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{o.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};ji.\u0275fac=function(o){return new(o||ji)(S(xt),S(j),S(Ie),S(ke),S(F),S(O),S(N),S(H),S(Ae),S(Je),S(q),S(Re))},ji.\u0275cmp=B({type:ji,selectors:[["app-coretoken-notificationlog-list"]],standalone:!1,features:[J],decls:90,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();T(0,za,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),y("optionActionGuideNoticeDisplayChange",function(c){return h(l),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return h(l),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),_(t.onActionButtonPrintRow())}),I(2,5),m(3," -------------------------------------- "),b(),re(4,6)(5,7),I(6,8),T(7,Ja,2,0,"a",9),a(8,"a",10),M("click",function(){return h(l),_(t.viewGuideNotice=!t.viewGuideNotice)}),C(9,"i",11),s(),a(10,"a",10),M("click",function(){return h(l),_(t.onActionButtonReload())}),C(11,"i",12),s(),b(),I(12,13),a(13,"a",14),M("click",function(){return h(l),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(14,"mat-slide-toggle",15),m(15),g(16,"translate"),s(),a(17,"a",14),M("click",function(){return h(l),_(t.onActionButtonStatist())}),C(18,"mat-slide-toggle",15),m(19),g(20,"translate"),s(),b(),re(21,16),I(22,17),T(23,Ka,7,3,"div",18)(24,$a,7,3,"div",18),a(25,"div",19)(26,"a",20),M("click",function(){return h(l),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),C(27,"i",21)(28,"br"),s(),a(29,"p",22),m(30),g(31,"translate"),s()(),a(32,"div",19)(33,"a",20),M("click",function(){return h(l),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),C(34,"i",23)(35,"br"),s(),a(36,"p",22),m(37),g(38,"translate"),s()(),T(39,Xa,7,3,"div",18),b(),I(40,24),a(41,"app-cms-search-list",25),y("optionsChange",function(c){return h(l),A(t.optionsSearch,c)||(t.optionsSearch=c),_(c)}),s(),a(42,"app-cms-statist-list",25),y("optionsChange",function(c){return h(l),A(t.optionsStatist,c)||(t.optionsStatist=c),_(c)}),s(),b(),I(43,26),a(44,"mat-table",27,0),M("matSortChange",function(){h(l);let c=Q(45);return _(t.onTableSortData(c))}),I(46,28),T(47,Ya,2,1,"mat-header-cell",29)(48,Za,2,1,"mat-cell",30),b(),I(49,31),T(50,es,2,1,"mat-header-cell",29)(51,ts,4,5,"mat-cell",30),b(),I(52,32),T(53,is,2,1,"mat-header-cell",29)(54,os,4,5,"mat-cell",30),b(),I(55,33),T(56,ns,2,1,"mat-header-cell",29)(57,rs,2,1,"mat-cell",30),b(),I(58,34),T(59,as,2,1,"mat-header-cell",29)(60,ls,5,7,"mat-cell",35),b(),I(61,36),T(62,cs,2,1,"mat-header-cell",29)(63,ms,3,4,"mat-cell",30),b(),I(64,37),T(65,ds,2,1,"mat-header-cell",29)(66,ps,3,4,"mat-cell",30),b(),I(67,38),T(68,us,2,1,"mat-header-cell",29)(69,fs,3,3,"mat-cell",30),b(),I(70,39),T(71,Ss,2,1,"mat-header-cell",29)(72,Cs,3,3,"mat-cell",30),b(),I(73,40),T(74,hs,2,1,"mat-header-cell",29)(75,_s,3,3,"mat-cell",30),b(),I(76,41),T(77,gs,2,1,"mat-header-cell",29)(78,vs,3,3,"mat-cell",42),b(),I(79,43),T(80,Ts,2,1,"mat-header-cell",29)(81,Is,3,6,"mat-cell",44),b(),I(82,45),T(83,bs,3,3,"mat-header-cell",46)(84,Ms,6,1,"mat-cell",47),b(),T(85,ws,1,0,"mat-header-row",48)(86,Es,1,2,"mat-row",49),s(),b(),I(87,50),a(88,"mat-paginator",51,1),M("page",function(c){return h(l),_(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(p("ngIf",t.requestLinkUserId>0),n(),p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),k("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(4),oe("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),p("checked",t.optionsSearch.data.show),n(),u("",v(16,29,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),u("",v(20,31,"ACTION.STATIST")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),u(" ",v(31,33,"ACTION.SITE")," "),n(7),u(" ",v(38,35,"ACTION.USER")," "),n(2),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),k("options",t.optionsSearch),n(),k("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(41),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(37,qa)))},dependencies:[at,P,St,ye,De,Te,xe,Le,Ue,Be,Ve,Oe,Pe,Ge,qe,He,Ne,We,Fe,je,Qe,ze,Ye,Ze,et,tt,ht,ot,Me,G,Tt,nt,Ke,it,$e,_t,gt,ct],encapsulation:2});var ko=ji;var ks=["vform"];function As(i,r){if(i&1){let e=w();a(0,"app-cms-enum-record-status-selector",8),y("modelChange",function(t){h(e);let l=d();return A(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),_(t)}),s()}if(i&2){let e=d();k("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ys(i,r){if(i&1&&(a(0,"div"),C(1,"div",9),g(2,"prettyjson"),s()),i&2){let e=d();n(),p("innerHTML",v(2,1,e.dataModel),bt)}}function Rs(i,r){if(i&1){let e=w();a(0,"div",10)(1,"button",11),M("click",function(){h(e);let t=d();return _(t.onFormCancel())}),C(2,"i",12),m(3),g(4,"translate"),s()()}i&2&&(n(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var qi=class qi extends dt{constructor(e,o,t,l,f,c,x,ne,ie,ce){super(l,new It,ie,ce);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenConnectionService=l;this.cmsToastrService=f;this.tokenHelper=c;this.cmsStoreService=x;this.cdr=ne;this.publicHelper=ie;this.translate=ce;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new yt;this.dataModel=new It;this.formInfo=new Y;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenConnectionService.setAccessLoad(),this.coreTokenConnectionService.setAccessDataType(st.Editor),this.coreTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};qi.\u0275fac=function(o){return new(o||qi)(S(ee),S(Z),S(z),S(Mt),S(j),S(F),S(H),S(O),S(q),S(N))},qi.\u0275cmp=B({type:qi,selectors:[["app-coretoken-notification-edit"]],viewQuery:function(o,t){if(o&1&&K(ks,5),o&2){let l;$(l=X())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:15,vars:18,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),C(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),g(7,"translate"),s(),T(8,As,1,5,"app-cms-enum-record-status-selector",4),C(9,"app-cms-site-selector",5),g(10,"translate"),C(11,"app-cms-user-selector",5),g(12,"translate"),T(13,ys,3,3,"div",6)(14,Rs,5,3,"div",7),s()()),o&2&&(n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",v(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,14,"TITLE.WEBSITE")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,16,"TITLE.USER")),n(2),p("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(),p("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[P,mt,Ct,pt,te,G,wt],encapsulation:2});var Wi=qi;var Ds=["vform"];function xs(i,r){if(i&1&&(a(0,"div",7),C(1,"i",11),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function Ls(i,r){if(i&1&&(a(0,"div",8),C(1,"i",13),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function Us(i,r){if(i&1&&(a(0,"div",9),C(1,"i",14),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function Bs(i,r){if(i&1&&(a(0,"div",10),C(1,"i",15),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function Vs(i,r){if(i&1&&me(0,xs,4,1,"div",7)(1,Ls,4,1,"div",8)(2,Us,4,1,"div",9)(3,Bs,4,1,"div",10),i&2){let e,o=d();de((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function Os(i,r){if(i&1){let e=w();a(0,"div",16)(1,"button",17),M("click",function(){h(e);let t=d();return _(t.onFormCancel())}),C(2,"i",18),m(3),g(4,"translate"),s()()}i&2&&(n(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Qi=class Qi{constructor(r,e,o,t,l,f,c,x,ne,ie){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreTokenConnectionService=t;this.cmsToastrService=l;this.tokenHelper=f;this.cmsStoreService=c;this.cdr=x;this.publicHelper=ne;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new lt;this.dataModelResult=new R;this.dataModel=new It;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>V(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreTokenConnectionService.setAccessLoad(),this.coreTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Qi.\u0275fac=function(e){return new(e||Qi)(S(ee),S(Z),S(z),S(Mt),S(j),S(F),S(H),S(O),S(q),S(N))},Qi.\u0275cmp=B({type:Qi,selectors:[["app-coretoken-notification-view"]],viewQuery:function(e,o){if(e&1&&K(Ds,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),C(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),me(6,Vs,4,1),s(),a(7,"div",5),T(8,Os,5,3,"div",6),s()),e&2&&(n(),u(" ",o.formInfo.formTitle," "),n(2),p("optionsInfoAreaId",o.constructorInfoAreaId),n(),p("dataModel",o.dataModel)("optionMethod",1),n(2),de((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?6:-1),n(2),p("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[P,te,ut,G],encapsulation:2});var zi=Qi;var Ps=()=>[5,10,20,100],Ns=i=>({display:i}),Gs=i=>({background:i});function Hs(i,r){if(i&1&&C(0,"app-core-user-header",52),i&2){let e=d();p("optionId",e.requestLinkUserId)}}function Fs(i,r){if(i&1){let e=w();a(0,"a",53),M("click",function(){h(e);let t=d();return _(t.onActionBackToParent())}),C(1,"i",54),s()}}function js(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",55),M("click",function(){h(e);let t=d();return _(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",56)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.EDIT")," "))}function qs(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",57),M("click",function(){h(e);let t=d();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",58)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.DELETE")," "))}function Ws(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",59),M("click",function(){h(e);let t=d();return _(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",60)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.VIEW")," "))}function Qs(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function zs(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function Js(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ks(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),u(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function $s(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Xs(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),u(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function Ys(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Zs(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),u(" ",e.linkMemberUserId," ")}}function el(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function tl(i,r){if(i&1&&C(0,"select",64),i&2){let e=d().$implicit,o=d();p("contentService",o.contentService)("row",e)("ngStyle",ve(3,Ns,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function il(i,r){if(i&1&&(a(0,"mat-cell",62),g(1,"statusCellClass"),C(2,"i",62),g(3,"statusIconClass"),T(4,tl,1,5,"select",63),s()),i&2){let e=r.$implicit,o=d();p("ngClass",v(1,3,e.recordStatus)),n(2),p("ngClass",v(3,5,e.recordStatus)),n(2),p("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function ol(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function nl(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=d();n(),u(" ",se(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function rl(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function al(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=d();n(),u(" ",se(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function sl(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function ll(i,r){if(i&1&&(a(0,"mat-cell"),C(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),p("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function cl(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function ml(i,r){if(i&1&&(a(0,"mat-cell"),C(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),p("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function dl(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function pl(i,r){if(i&1&&(a(0,"mat-cell"),C(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),p("ngClass",v(2,1,e.rememberOnDevice))}}function ul(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function fl(i,r){if(i&1&&(a(0,"mat-cell",65),m(1),g(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),u(" ",v(2,1,e.createdDate)," ")}}function Sl(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Cl(i,r){if(i&1&&(a(0,"mat-cell",66),m(1),g(2,"persianDate"),s()),i&2){let e=r.$implicit,o=d();p("ngStyle",ve(4,Gs,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),u(" ",v(2,2,e.expireDate)," ")}}function hl(i,r){i&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),s()),i&2&&(n(),u(" ",v(2,1,"TITLE.OPTION")," "))}function _l(i,r){if(i&1&&(a(0,"mat-cell",67)(1,"button",68)(2,"mat-icon"),m(3,"more_vert"),s()(),C(4,"mat-menu",null,2),s()),i&2){let e=Q(5);n(),p("matMenuTriggerFor",e)}}function gl(i,r){i&1&&C(0,"mat-header-row")}function vl(i,r){if(i&1){let e=w();a(0,"mat-row",69),M("click",function(t){let l=h(e).$implicit,f=d();return _(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,f=d();return _(f.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=d();oe("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Ji=class Ji extends Xe{constructor(e,o,t,l,f,c,x,ne,ie,ce,rt,Et){super(e,new It,rt,f,x);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=f;this.cdr=c;this.translate=x;this.cmsStoreService=ne;this.router=ie;this.pageInfo=ce;this.publicHelper=rt;this.dialog=Et;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ee;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new D;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new D;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new D;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new It);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new D;t.propertyName="RecordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new D;t.propertyAnyName="LinkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new D;t.propertyAnyName="LinkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(zi,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Wi,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{o.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new D;f.propertyName="RecordStatus",f.value=we.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{o.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ji.\u0275fac=function(o){return new(o||Ji)(S(Mt),S(j),S(Ie),S(ke),S(F),S(O),S(N),S(H),S(Ae),S(Je),S(q),S(Re))},Ji.\u0275cmp=B({type:Ji,selectors:[["app-coretoken-notification-list"]],standalone:!1,features:[J],decls:90,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();T(0,Hs,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),y("optionActionGuideNoticeDisplayChange",function(c){return h(l),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return h(l),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),_(t.onActionButtonPrintRow())}),I(2,5),m(3," -------------------------------------- "),b(),re(4,6)(5,7),I(6,8),T(7,Fs,2,0,"a",9),a(8,"a",10),M("click",function(){return h(l),_(t.viewGuideNotice=!t.viewGuideNotice)}),C(9,"i",11),s(),a(10,"a",10),M("click",function(){return h(l),_(t.onActionButtonReload())}),C(11,"i",12),s(),b(),I(12,13),a(13,"a",14),M("click",function(){return h(l),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(14,"mat-slide-toggle",15),m(15),g(16,"translate"),s(),a(17,"a",14),M("click",function(){return h(l),_(t.onActionButtonStatist())}),C(18,"mat-slide-toggle",15),m(19),g(20,"translate"),s(),b(),re(21,16),I(22,17),T(23,js,7,3,"div",18)(24,qs,7,3,"div",18),a(25,"div",19)(26,"a",20),M("click",function(){return h(l),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),C(27,"i",21)(28,"br"),s(),a(29,"p",22),m(30),g(31,"translate"),s()(),a(32,"div",19)(33,"a",20),M("click",function(){return h(l),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),C(34,"i",23)(35,"br"),s(),a(36,"p",22),m(37),g(38,"translate"),s()(),T(39,Ws,7,3,"div",18),b(),I(40,24),a(41,"app-cms-search-list",25),y("optionsChange",function(c){return h(l),A(t.optionsSearch,c)||(t.optionsSearch=c),_(c)}),s(),a(42,"app-cms-statist-list",25),y("optionsChange",function(c){return h(l),A(t.optionsStatist,c)||(t.optionsStatist=c),_(c)}),s(),b(),I(43,26),a(44,"mat-table",27,0),M("matSortChange",function(){h(l);let c=Q(45);return _(t.onTableSortData(c))}),I(46,28),T(47,Qs,2,1,"mat-header-cell",29)(48,zs,2,1,"mat-cell",30),b(),I(49,31),T(50,Js,2,1,"mat-header-cell",29)(51,Ks,4,5,"mat-cell",30),b(),I(52,32),T(53,$s,2,1,"mat-header-cell",29)(54,Xs,4,5,"mat-cell",30),b(),I(55,33),T(56,Ys,2,1,"mat-header-cell",29)(57,Zs,2,1,"mat-cell",30),b(),I(58,34),T(59,el,2,1,"mat-header-cell",29)(60,il,5,7,"mat-cell",35),b(),I(61,36),T(62,ol,2,1,"mat-header-cell",29)(63,nl,3,4,"mat-cell",30),b(),I(64,37),T(65,rl,2,1,"mat-header-cell",29)(66,al,3,4,"mat-cell",30),b(),I(67,38),T(68,sl,2,1,"mat-header-cell",29)(69,ll,3,3,"mat-cell",30),b(),I(70,39),T(71,cl,2,1,"mat-header-cell",29)(72,ml,3,3,"mat-cell",30),b(),I(73,40),T(74,dl,2,1,"mat-header-cell",29)(75,pl,3,3,"mat-cell",30),b(),I(76,41),T(77,ul,2,1,"mat-header-cell",29)(78,fl,3,3,"mat-cell",42),b(),I(79,43),T(80,Sl,2,1,"mat-header-cell",29)(81,Cl,3,6,"mat-cell",44),b(),I(82,45),T(83,hl,3,3,"mat-header-cell",46)(84,_l,6,1,"mat-cell",47),b(),T(85,gl,1,0,"mat-header-row",48)(86,vl,1,2,"mat-row",49),s(),b(),I(87,50),a(88,"mat-paginator",51,1),M("page",function(c){return h(l),_(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(p("ngIf",t.requestLinkUserId>0),n(),p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),k("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(4),oe("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),p("checked",t.optionsSearch.data.show),n(),u("",v(16,29,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),u("",v(20,31,"ACTION.STATIST")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),u(" ",v(31,33,"ACTION.SITE")," "),n(7),u(" ",v(38,35,"ACTION.USER")," "),n(2),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),k("options",t.optionsSearch),n(),k("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(41),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(37,Ps)))},dependencies:[at,P,St,ye,De,Te,xe,Le,Ue,Be,Ve,Oe,Pe,Ge,qe,He,Ne,We,Fe,je,Qe,ze,Ye,Ze,et,tt,ht,ot,Me,G,Tt,nt,Ke,it,$e,_t,gt,ct],encapsulation:2});var Ao=Ji;var Il=["vform"];function bl(i,r){if(i&1){let e=w();a(0,"app-cms-enum-record-status-selector",38),y("modelChange",function(t){h(e);let l=d();return A(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),_(t)}),s()}if(i&2){let e=d();k("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ml(i,r){if(i&1&&(a(0,"option",39),m(1),s()),i&2){let e=r.$implicit;p("value",e.value),n(),u(" ",e.description," ")}}function wl(i,r){i&1&&(a(0,"mat-error"),m(1," LinkMemberId is "),a(2,"strong"),m(3),g(4,"translate"),s()()),i&2&&(n(3),L(v(4,1,"MESSAGE.required")))}function El(i,r){if(i&1&&(a(0,"option",39),m(1),s()),i&2){let e=r.$implicit;p("value",e.value),n(),u(" ",e.description," ")}}function kl(i,r){i&1&&(a(0,"mat-error"),m(1," UserAccessAreaType is "),a(2,"strong"),m(3),g(4,"translate"),s()()),i&2&&(n(3),L(v(4,1,"MESSAGE.required")))}function Al(i,r){if(i&1){let e=w();a(0,"div",40)(1,"div",41)(2,"h5",42),m(3),s()(),a(4,"div",43)(5,"div",44)(6,"input",45),y("ngModelChange",function(t){h(e);let l=d();return A(l.dataModel.userAccessAdminAllowToAllData,t)||(l.dataModel.userAccessAdminAllowToAllData=t),_(t)}),s(),C(7,"label",46),s()()()}if(i&2){let e=d();n(3),u(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," "),n(3),k("ngModel",e.dataModel.userAccessAdminAllowToAllData)}}function yl(i,r){if(i&1){let e=w();a(0,"div",40)(1,"div",41)(2,"h5",47),m(3),s()(),a(4,"div",43)(5,"div",44)(6,"input",48),y("ngModelChange",function(t){h(e);let l=d();return A(l.dataModel.userAccessAdminAllowToProfessionalData,t)||(l.dataModel.userAccessAdminAllowToProfessionalData=t),_(t)}),s(),C(7,"label",49),s()()()}if(i&2){let e=d();n(3),u(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," "),n(3),k("ngModel",e.dataModel.userAccessAdminAllowToProfessionalData)}}function Rl(i,r){if(i&1){let e=w();a(0,"div",40)(1,"div",41)(2,"h5",50),m(3),s()(),a(4,"div",43)(5,"div",44)(6,"input",51),y("ngModelChange",function(t){h(e);let l=d();return A(l.dataModel.rememberOnDevice,t)||(l.dataModel.rememberOnDevice=t),_(t)}),s(),C(7,"label",52),s()()()}if(i&2){let e=d();n(3),u(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," "),n(3),k("ngModel",e.dataModel.rememberOnDevice)}}function Dl(i,r){if(i&1){let e=w();a(0,"div",53)(1,"label",54),m(2),s(),a(3,"input",55),y("ngModelChange",function(t){h(e);let l=d();return A(l.dataModel.tokenExpireDate,t)||(l.dataModel.tokenExpireDate=t),_(t)}),s(),C(4,"mat-datepicker-toggle",56)(5,"mat-datepicker",57,9),s()}if(i&2){let e=Q(6),o=d();n(2),L(o.fieldsInfo.tokenExpireDate==null?null:o.fieldsInfo.tokenExpireDate.fieldTitle),n(),p("matDatepicker",e),k("ngModel",o.dataModel.tokenExpireDate),n(),p("for",e)}}function xl(i,r){if(i&1&&(a(0,"div"),C(1,"div",58),g(2,"prettyjson"),s()),i&2){let e=d();n(),p("innerHTML",v(2,1,e.dataModel),bt)}}function Ll(i,r){if(i&1){let e=w();a(0,"div",59)(1,"button",60),M("click",function(){h(e);let t=d();return _(t.onFormCancel())}),C(2,"i",61),m(3),g(4,"translate"),s(),a(5,"button",62),C(6,"i",63),m(7),g(8,"translate"),s()()}if(i&2){d();let e=Q(9);n(3),u(" ",v(4,3,"ACTION.CANCEL")," "),n(2),p("disabled",!e.form.valid),n(2),u(" ",v(8,5,"ACTION.SAVE")," ")}}var Ki=class Ki extends dt{constructor(e,o,t,l,f,c,x,ne,ie,ce){super(l,new Ot,ne,ce);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenUserService=l;this.cmsToastrService=f;this.tokenHelper=c;this.cmsStoreService=x;this.publicHelper=ne;this.cdr=ie;this.translate=ce;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new yt;this.dataModel=new Ot;this.formInfo=new Y;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.setAccessDataType(st.Editor),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenUserService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorEdit(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onActionSiteSelect(e){e&&e.id>0&&(this.dataModel.linkSiteId=e.id)}onActionUserSelect(e){e&&e.id>0&&(this.dataModel.linkUserId=e.id)}onActionMemberSelect(e){e&&e.id?.length>0&&(this.dataModel.linkMemberId=e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ki.\u0275fac=function(o){return new(o||Ki)(S(ee),S(Z),S(z),S(Ut),S(j),S(F),S(H),S(q),S(O),S(N))},Ki.\u0275cmp=B({type:Ki,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&K(Il,5),o&2){let l;$(l=X())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:69,vars:45,consts:[["vform","ngForm"],["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["DeviceClientMAC",""],["Token",""],["LinkDeviceId",""],["LinkApplicationId",""],["tokenExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(o,t){if(o&1){let l=w();a(0,"div",10),C(1,"app-progress-spinner",11),a(2,"div",12)(3,"p",13),m(4),s(),a(5,"p"),m(6),g(7,"translate"),s(),a(8,"form",14,0),M("ngSubmit",function(){return h(l),_(t.onFormSubmit())}),T(10,bl,1,5,"app-cms-enum-record-status-selector",15),a(11,"div",16)(12,"select",17,1),y("ngModelChange",function(c){return h(l),A(t.dataModel.linkMemberId,c)||(t.dataModel.linkMemberId=c),_(c)}),T(14,Ml,2,2,"option",18),s(),a(15,"em"),m(16),g(17,"translate"),s(),T(18,wl,5,3,"mat-error",19),s(),a(19,"div",16)(20,"select",20,2),y("ngModelChange",function(c){return h(l),A(t.dataModel.userAccessAreaType,c)||(t.dataModel.userAccessAreaType=c),_(c)}),T(22,El,2,2,"option",18),s(),a(23,"em"),m(24),g(25,"translate"),s(),T(26,kl,5,3,"mat-error",19),s(),a(27,"app-cms-site-selector",21),g(28,"translate"),M("optionChange",function(c){return h(l),_(t.onActionSiteSelect(c))}),s(),a(29,"app-cms-user-selector",21),g(30,"translate"),M("optionChange",function(c){return h(l),_(t.onActionUserSelect(c))}),s(),a(31,"app-cms-member-selector",21),g(32,"translate"),M("optionChange",function(c){return h(l),_(t.onActionMemberSelect(c))}),s(),T(33,Al,8,2,"div",22)(34,yl,8,2,"div",22)(35,Rl,8,2,"div",22),a(36,"div",23)(37,"label",24),m(38,"BrowserLanguage"),s(),a(39,"input",25,3),y("ngModelChange",function(c){return h(l),A(t.dataModel.browserLanguage,c)||(t.dataModel.browserLanguage=c),_(c)}),s()(),a(41,"div",23)(42,"label",26),m(43,"UserLanguage"),s(),a(44,"input",27,4),y("ngModelChange",function(c){return h(l),A(t.dataModel.userLanguage,c)||(t.dataModel.userLanguage=c),_(c)}),s()(),a(46,"div",23)(47,"label",28),m(48,"DeviceClientMAC"),s(),a(49,"input",29,5),y("ngModelChange",function(c){return h(l),A(t.dataModel.deviceClientMAC,c)||(t.dataModel.deviceClientMAC=c),_(c)}),s()(),a(51,"div",23)(52,"label",30),m(53,"Token"),s(),a(54,"input",31,6),y("ngModelChange",function(c){return h(l),A(t.dataModel.token,c)||(t.dataModel.token=c),_(c)}),s()(),a(56,"div",23)(57,"label",32),m(58,"LinkDeviceId"),s(),a(59,"input",33,7),y("ngModelChange",function(c){return h(l),A(t.dataModel.linkDeviceId,c)||(t.dataModel.linkDeviceId=c),_(c)}),s()(),a(61,"div",23)(62,"label",34),m(63,"LinkApplicationId"),s(),a(64,"input",35,8),y("ngModelChange",function(c){return h(l),A(t.dataModel.linkApplicationId,c)||(t.dataModel.linkApplicationId=c),_(c)}),s()(),T(66,Dl,7,4,"div",36)(67,xl,3,3,"div",19)(68,Ll,9,7,"div",37),s()()()}if(o&2){let l=Q(13),f=Q(21);n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",v(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(2),k("ngModel",t.dataModel.linkMemberId),n(2),p("ngForOf",t.dataModelEnumManageUserAccessUserTypesResult.listItems),n(2),L(v(17,35,"TITLE.SELECT_STATUS")),n(2),p("ngIf",l.errors==null?null:l.errors.required),n(2),k("ngModel",t.dataModel.userAccessAreaType),n(2),p("ngForOf",t.dataModelEnumManageUserAccessAreaTypesResult.listItems),n(2),L(v(25,37,"TITLE.SELECT_STATUS")),n(2),p("ngIf",f.errors==null?null:f.errors.required),n(),p("optionDisabled",!1)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(28,39,"TITLE.WEBSITE")),n(2),p("optionDisabled",!1)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(30,41,"TITLE.USER")),n(2),p("optionDisabled",!1)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",v(32,43,"TITLE.Member")),n(2),p("ngIf",t.fieldsInfo.userAccessAdminAllowToAllData==null?null:t.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),n(),p("ngIf",t.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),n(),p("ngIf",t.fieldsInfo.rememberOnDevice==null?null:t.fieldsInfo.rememberOnDevice.accessWatchField),n(4),k("ngModel",t.dataModel.browserLanguage),n(5),k("ngModel",t.dataModel.userLanguage),n(5),k("ngModel",t.dataModel.deviceClientMAC),n(5),k("ngModel",t.dataModel.token),n(5),k("ngModel",t.dataModel.linkDeviceId),n(5),k("ngModel",t.dataModel.linkApplicationId),n(2),p("ngIf",t.fieldsInfo.tokenExpireDate==null?null:t.fieldsInfo.tokenExpireDate.accessWatchField),n(),p("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(),p("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[_i,P,qo,bi,Mi,gi,lo,Ii,vi,Fo,Ti,jo,mo,po,uo,wi,co,Te,mt,Ct,pt,Ei,te,G,wt],encapsulation:2});var yo=Ki;var Ul=["vform"];function Bl(i,r){if(i&1&&(a(0,"div",7),C(1,"i",11),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function Vl(i,r){if(i&1&&(a(0,"div",8),C(1,"i",13),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function Ol(i,r){if(i&1&&(a(0,"div",9),C(1,"i",14),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function Pl(i,r){if(i&1&&(a(0,"div",10),C(1,"i",15),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function Nl(i,r){if(i&1&&me(0,Bl,4,1,"div",7)(1,Vl,4,1,"div",8)(2,Ol,4,1,"div",9)(3,Pl,4,1,"div",10),i&2){let e,o=d();de((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function Gl(i,r){if(i&1){let e=w();a(0,"div",16)(1,"button",17),M("click",function(){h(e);let t=d();return _(t.onFormCancel())}),C(2,"i",18),m(3),g(4,"translate"),s()()}i&2&&(n(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var $i=class $i{constructor(r,e,o,t,l,f,c,x,ne,ie){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreTokenUserService=t;this.cmsToastrService=l;this.tokenHelper=f;this.cmsStoreService=c;this.cdr=x;this.publicHelper=ne;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new lt;this.dataModelResult=new R;this.dataModel=new Ot;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>V(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$i.\u0275fac=function(e){return new(e||$i)(S(ee),S(Z),S(z),S(Ut),S(j),S(F),S(H),S(O),S(q),S(N))},$i.\u0275cmp=B({type:$i,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&K(Ul,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),C(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),me(6,Nl,4,1),s(),a(7,"div",5),T(8,Gl,5,3,"div",6),s()),e&2&&(n(),u(" ",o.formInfo.formTitle," "),n(2),p("optionsInfoAreaId",o.constructorInfoAreaId),n(),p("dataModel",o.dataModel)("optionMethod",1),n(2),de((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?6:-1),n(2),p("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[P,te,ut,G],encapsulation:2});var Ro=$i;var Hl=()=>[5,10,20,100],Fl=i=>({display:i});function jl(i,r){if(i&1&&C(0,"app-core-user-header",53),i&2){let e=d();p("optionId",e.requestLinkUserId)}}function ql(i,r){if(i&1){let e=w();a(0,"a",54),M("click",function(){h(e);let t=d();return _(t.onActionBackToParent())}),C(1,"i",55),s()}}function Wl(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",56),M("click",function(){h(e);let t=d();return _(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",57)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.EDIT")," "))}function Ql(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",58),M("click",function(){h(e);let t=d();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",59)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.DELETE")," "))}function zl(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",60),M("click",function(){h(e);let t=d();return _(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",61)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.VIEW")," "))}function Jl(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Kl(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function $l(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Xl(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),u(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Yl(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Zl(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),u(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function ec(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function tc(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),u(" ",e.linkMemberId," ")}}function ic(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function oc(i,r){if(i&1&&C(0,"select",65),i&2){let e=d().$implicit,o=d();p("contentService",o.contentService)("row",e)("ngStyle",ve(3,Fl,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function nc(i,r){if(i&1&&(a(0,"mat-cell",63),g(1,"statusCellClass"),C(2,"i",63),g(3,"statusIconClass"),T(4,oc,1,5,"select",64),s()),i&2){let e=r.$implicit,o=d();p("ngClass",v(1,3,e.recordStatus)),n(2),p("ngClass",v(3,5,e.recordStatus)),n(2),p("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function rc(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function ac(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=d();n(),u(" ",se(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function sc(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function lc(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=d();n(),u(" ",se(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function cc(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function mc(i,r){if(i&1&&(a(0,"mat-cell"),C(1,"i",63),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),p("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function dc(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function pc(i,r){if(i&1&&(a(0,"mat-cell"),C(1,"i",63),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),p("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function uc(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function fc(i,r){if(i&1&&(a(0,"mat-cell"),C(1,"i",63),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),p("ngClass",v(2,1,e.rememberOnDevice))}}function Sc(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Cc(i,r){if(i&1&&(a(0,"mat-cell",66),m(1),g(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),u(" ",v(2,1,e.createdDate)," ")}}function hc(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.tokenExpireDate==null?null:e.fieldsInfo.tokenExpireDate.fieldTitle," ")}}function _c(i,r){if(i&1&&(a(0,"mat-cell",66),m(1),g(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),u(" ",v(2,1,e.tokenExpireDate)," ")}}function gc(i,r){i&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),s()),i&2&&(n(),u(" ",v(2,1,"TITLE.OPTION")," "))}function vc(i,r){if(i&1&&(a(0,"mat-cell",67)(1,"button",68)(2,"mat-icon"),m(3,"more_vert"),s()(),C(4,"mat-menu",null,2),s()),i&2){let e=Q(5);n(),p("matMenuTriggerFor",e)}}function Tc(i,r){i&1&&C(0,"mat-header-row")}function Ic(i,r){if(i&1){let e=w();a(0,"mat-row",69),M("click",function(t){let l=h(e).$implicit,f=d();return _(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,f=d();return _(f.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=d();oe("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Xi=class Xi extends Xe{constructor(e,o,t,l,f,c,x,ne,ie,ce,rt,Et){super(e,new Ot,rt,f,x);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=f;this.cdr=c;this.translate=x;this.cmsStoreService=ne;this.router=ie;this.pageInfo=ce;this.publicHelper=rt;this.dialog=Et;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ee;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new D;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new D;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new D;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ot);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new D;t.propertyName="RecordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new D;t.propertyAnyName="LinkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new D;t.propertyAnyName="LinkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Ro,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(yo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{o.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new D;f.propertyName="RecordStatus",f.value=we.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{o.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Xi.\u0275fac=function(o){return new(o||Xi)(S(Ut),S(j),S(Ie),S(ke),S(F),S(O),S(N),S(H),S(Ae),S(Je),S(q),S(Re))},Xi.\u0275cmp=B({type:Xi,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[J],decls:104,vars:44,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","tokenExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();T(0,jl,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),y("optionActionGuideNoticeDisplayChange",function(c){return h(l),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return h(l),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),_(t.onActionButtonPrintRow())}),I(2,5),m(3," -------------------------------------- "),b(),re(4,6)(5,7),I(6,8),T(7,ql,2,0,"a",9),a(8,"a",10),M("click",function(){return h(l),_(t.viewGuideNotice=!t.viewGuideNotice)}),C(9,"i",11),s(),a(10,"a",10),M("click",function(){return h(l),_(t.onActionButtonReload())}),C(11,"i",12),s(),b(),I(12,13),a(13,"a",14),M("click",function(){return h(l),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(14,"mat-slide-toggle",15),m(15),g(16,"translate"),s(),a(17,"a",14),M("click",function(){return h(l),_(t.onActionButtonStatist())}),C(18,"mat-slide-toggle",15),m(19),g(20,"translate"),s(),b(),re(21,16),I(22,17),T(23,Wl,7,3,"div",18)(24,Ql,7,3,"div",18),a(25,"div",19)(26,"a",20),M("click",function(){return h(l),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),C(27,"i",21)(28,"br"),s(),a(29,"p",22),m(30),g(31,"translate"),s()(),a(32,"div",19)(33,"a",20),M("click",function(){return h(l),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),C(34,"i",23)(35,"br"),s(),a(36,"p",22),m(37),g(38,"translate"),s()(),a(39,"div",19)(40,"a",20),M("click",function(){return h(l),_(t.onActionButtonViewMemberRow(t.tableRowSelected))}),C(41,"i",24)(42,"br"),s(),a(43,"p",22),m(44),g(45,"translate"),s()(),a(46,"div",19)(47,"a",20),M("click",function(){return h(l),_(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),C(48,"i",25)(49,"br"),s(),a(50,"p",22),m(51),g(52,"translate"),s()(),T(53,zl,7,3,"div",18),b(),I(54,26),a(55,"app-cms-search-list",27),y("optionsChange",function(c){return h(l),A(t.optionsSearch,c)||(t.optionsSearch=c),_(c)}),s(),a(56,"app-cms-statist-list",27),y("optionsChange",function(c){return h(l),A(t.optionsStatist,c)||(t.optionsStatist=c),_(c)}),s(),b(),I(57,28),a(58,"mat-table",29,0),M("matSortChange",function(){h(l);let c=Q(59);return _(t.onTableSortData(c))}),I(60,30),T(61,Jl,2,1,"mat-header-cell",31)(62,Kl,2,1,"mat-cell",32),b(),I(63,33),T(64,$l,2,1,"mat-header-cell",31)(65,Xl,4,5,"mat-cell",32),b(),I(66,34),T(67,Yl,2,1,"mat-header-cell",31)(68,Zl,4,5,"mat-cell",32),b(),I(69,35),T(70,ec,2,1,"mat-header-cell",31)(71,tc,2,1,"mat-cell",32),b(),I(72,36),T(73,ic,2,1,"mat-header-cell",31)(74,nc,5,7,"mat-cell",37),b(),I(75,38),T(76,rc,2,1,"mat-header-cell",31)(77,ac,3,4,"mat-cell",32),b(),I(78,39),T(79,sc,2,1,"mat-header-cell",31)(80,lc,3,4,"mat-cell",32),b(),I(81,40),T(82,cc,2,1,"mat-header-cell",31)(83,mc,3,3,"mat-cell",32),b(),I(84,41),T(85,dc,2,1,"mat-header-cell",31)(86,pc,3,3,"mat-cell",32),b(),I(87,42),T(88,uc,2,1,"mat-header-cell",31)(89,fc,3,3,"mat-cell",32),b(),I(90,43),T(91,Sc,2,1,"mat-header-cell",31)(92,Cc,3,3,"mat-cell",44),b(),I(93,45),T(94,hc,2,1,"mat-header-cell",31)(95,_c,3,3,"mat-cell",44),b(),I(96,46),T(97,gc,3,3,"mat-header-cell",47)(98,vc,6,1,"mat-cell",48),b(),T(99,Tc,1,0,"mat-header-row",49)(100,Ic,1,2,"mat-row",50),s(),b(),I(101,51),a(102,"mat-paginator",52,1),M("page",function(c){return h(l),_(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(p("ngIf",t.requestLinkUserId>0),n(),p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","report.user.list"),k("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(4),oe("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),p("checked",t.optionsSearch.data.show),n(),u("",v(16,31,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),u("",v(20,33,"ACTION.STATIST")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),u(" ",v(31,35,"ACTION.SITE")," "),n(7),u(" ",v(38,37,"ACTION.USER")," "),n(7),u(" ",v(45,39,"ACTION.MEMBER")," "),n(7),u(" ",v(52,41,"ACTION.DEVICE")," "),n(2),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),k("options",t.optionsSearch),n(),k("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(41),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(43,Hl)))},dependencies:[at,P,St,ye,De,Te,xe,Le,Ue,Be,Ve,Oe,Pe,Ge,qe,He,Ne,We,Fe,je,Qe,ze,Ye,Ze,et,tt,ht,ot,Me,G,nt,Ke,it,$e,_t,gt,ct],encapsulation:2});var pi=Xi;var bc=["vform"];function Mc(i,r){if(i&1&&(a(0,"option",27),m(1),s()),i&2){let e=r.$implicit;p("value",e.value),n(),u(" ",e.description," ")}}function wc(i,r){i&1&&(a(0,"mat-error"),m(1," UserAccessAreaType is "),a(2,"strong"),m(3),g(4,"translate"),s()()),i&2&&(n(3),L(v(4,1,"MESSAGE.required")))}function Ec(i,r){if(i&1&&(a(0,"div"),C(1,"div",28),g(2,"prettyjson"),s()),i&2){let e=d();n(),p("innerHTML",v(2,1,e.dataModel),bt)}}function kc(i,r){if(i&1){let e=w();a(0,"div",29)(1,"button",30),M("click",function(){h(e);let t=d();return _(t.onFormCancel())}),C(2,"i",31),m(3),g(4,"translate"),s()()}i&2&&(n(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Yi=class Yi extends dt{constructor(e,o,t,l,f,c,x,ne,ie,ce){super(l,new jt,ie,ce);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenUserBadLoginService=l;this.cmsToastrService=f;this.tokenHelper=c;this.cmsStoreService=x;this.cdr=ne;this.publicHelper=ie;this.translate=ce;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new R;this.dataModel=new jt;this.formInfo=new Y;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.setAccessDataType(st.Editor),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Yi.\u0275fac=function(o){return new(o||Yi)(S(ee),S(Z),S(z),S(Bt),S(j),S(F),S(H),S(O),S(q),S(N))},Yi.\u0275cmp=B({type:Yi,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&K(bc,5),o&2){let l;$(l=X())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:49,vars:33,consts:[["UsedUsername",""],["UsedPwd",""],["UserAccessAreaType","ngModel"],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.usedUsername",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedUsername","placeholder","UsedUsername","id","dataModel.usedUsername",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.usedPwd",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedPwd","placeholder","UsedPwd","id","dataModel.usedPwd",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[3,"value"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){if(o&1){let l=w();a(0,"div",6),C(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),m(4),s(),a(5,"p"),m(6),g(7,"translate"),s(),a(8,"div",10)(9,"label",11),m(10,"UsedUsername"),s(),a(11,"input",12,0),y("ngModelChange",function(c){return h(l),A(t.dataModel.usedUsername,c)||(t.dataModel.usedUsername=c),_(c)}),s()(),a(13,"div",10)(14,"label",13),m(15,"UsedPwd"),s(),a(16,"input",14,1),y("ngModelChange",function(c){return h(l),A(t.dataModel.usedPwd,c)||(t.dataModel.usedPwd=c),_(c)}),s()(),a(18,"div",15)(19,"select",16,2),y("ngModelChange",function(c){return h(l),A(t.dataModel.userAccessAreaType,c)||(t.dataModel.userAccessAreaType=c),_(c)}),T(21,Mc,2,2,"option",17),s(),a(22,"em"),m(23),g(24,"translate"),s(),T(25,wc,5,3,"mat-error",18),s(),C(26,"app-cms-site-selector",19),g(27,"translate"),C(28,"app-cms-user-selector",19),g(29,"translate"),C(30,"app-cms-member-selector",19),g(31,"translate"),a(32,"div",10)(33,"label",20),m(34,"LinkDeviceId"),s(),a(35,"input",21,3),y("ngModelChange",function(c){return h(l),A(t.dataModel.linkDeviceId,c)||(t.dataModel.linkDeviceId=c),_(c)}),s()(),a(37,"div",10)(38,"label",22),m(39,"LinkApplicationId"),s(),a(40,"input",23,4),y("ngModelChange",function(c){return h(l),A(t.dataModel.linkApplicationId,c)||(t.dataModel.linkApplicationId=c),_(c)}),s()(),a(42,"div",10)(43,"label",24),m(44,"DeviceClientMAC"),s(),a(45,"input",25,5),y("ngModelChange",function(c){return h(l),A(t.dataModel.deviceClientMAC,c)||(t.dataModel.deviceClientMAC=c),_(c)}),s()(),T(47,Ec,3,3,"div",18)(48,kc,5,3,"div",26),s()()}if(o&2){let l=Q(20);n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",v(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),n(5),k("ngModel",t.dataModel.usedUsername),n(5),k("ngModel",t.dataModel.usedPwd),n(3),k("ngModel",t.dataModel.userAccessAreaType),n(2),p("ngForOf",t.dataModelEnumManageUserAccessAreaTypesResult.listItems),n(2),L(v(24,25,"TITLE.SELECT_STATUS")),n(2),p("ngIf",l.errors==null?null:l.errors.required),n(),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(27,27,"TITLE.WEBSITE")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(29,29,"TITLE.USER")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",v(31,31,"TITLE.Member")),n(5),k("ngModel",t.dataModel.linkDeviceId),n(5),k("ngModel",t.dataModel.linkApplicationId),n(5),k("ngModel",t.dataModel.deviceClientMAC),n(2),p("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(),p("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[_i,P,bi,Mi,gi,Ii,vi,Ti,wi,Te,mt,pt,Ei,te,G,wt],encapsulation:2});var Do=Yi;var Ac=["vform"];function yc(i,r){if(i&1&&(a(0,"div",7),C(1,"i",11),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function Rc(i,r){if(i&1&&(a(0,"div",8),C(1,"i",13),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function Dc(i,r){if(i&1&&(a(0,"div",9),C(1,"i",14),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function xc(i,r){if(i&1&&(a(0,"div",10),C(1,"i",15),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function Lc(i,r){if(i&1&&me(0,yc,4,1,"div",7)(1,Rc,4,1,"div",8)(2,Dc,4,1,"div",9)(3,xc,4,1,"div",10),i&2){let e,o=d();de((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function Uc(i,r){if(i&1){let e=w();a(0,"div",16)(1,"button",17),M("click",function(){h(e);let t=d();return _(t.onFormCancel())}),C(2,"i",18),m(3),g(4,"translate"),s()()}i&2&&(n(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Zi=class Zi{constructor(r,e,o,t,l,f,c,x,ne,ie){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreTokenUserBadLoginService=t;this.cmsToastrService=l;this.tokenHelper=f;this.cmsStoreService=c;this.cdr=x;this.publicHelper=ne;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new lt;this.dataModelResult=new R;this.dataModel=new jt;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>V(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Zi.\u0275fac=function(e){return new(e||Zi)(S(ee),S(Z),S(z),S(Bt),S(j),S(F),S(H),S(O),S(q),S(N))},Zi.\u0275cmp=B({type:Zi,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&K(Ac,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),C(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),me(6,Lc,4,1),s(),a(7,"div",5),T(8,Uc,5,3,"div",6),s()),e&2&&(n(),u(" ",o.formInfo.formTitle," "),n(2),p("optionsInfoAreaId",o.constructorInfoAreaId),n(),p("dataModel",o.dataModel)("optionMethod",1),n(2),de((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?6:-1),n(2),p("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[P,te,ut,G],encapsulation:2});var xo=Zi;var Bc=()=>[5,10,20,100];function Vc(i,r){if(i&1&&C(0,"app-core-user-header",47),i&2){let e=d();p("optionId",e.requestLinkUserId)}}function Oc(i,r){if(i&1){let e=w();a(0,"a",48),M("click",function(){h(e);let t=d();return _(t.onActionBackToParent())}),C(1,"i",49),s()}}function Pc(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",50),M("click",function(){h(e);let t=d();return _(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",51)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.EDIT")," "))}function Nc(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",52),M("click",function(){h(e);let t=d();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",53)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.DELETE")," "))}function Gc(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",54),M("click",function(){h(e);let t=d();return _(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",55)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.VIEW")," "))}function Hc(i,r){if(i&1&&(a(0,"mat-header-cell",56),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Fc(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function jc(i,r){if(i&1&&(a(0,"mat-header-cell",56),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function qc(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),u(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Wc(i,r){if(i&1&&(a(0,"mat-header-cell",56),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Qc(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),u(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function zc(i,r){if(i&1&&(a(0,"mat-header-cell",56),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function Jc(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),u(" ",e.linkMemberId," ")}}function Kc(i,r){if(i&1&&(a(0,"mat-header-cell",56),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function $c(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=d();n(),u(" ",se(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Xc(i,r){if(i&1&&(a(0,"mat-header-cell",56),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.usedUsername==null?null:e.fieldsInfo.usedUsername.fieldTitle," ")}}function Yc(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),u(" ",e.usedUsername," ")}}function Zc(i,r){if(i&1&&(a(0,"mat-header-cell",56),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function em(i,r){if(i&1&&(a(0,"mat-cell",57),m(1),g(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),u(" ",v(2,1,e.createdDate)," ")}}function tm(i,r){i&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),s()),i&2&&(n(),u(" ",v(2,1,"TITLE.OPTION")," "))}function im(i,r){if(i&1&&(a(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),m(3,"more_vert"),s()(),C(4,"mat-menu",null,2),s()),i&2){let e=Q(5);n(),p("matMenuTriggerFor",e)}}function om(i,r){i&1&&C(0,"mat-header-row")}function nm(i,r){if(i&1){let e=w();a(0,"mat-row",60),M("click",function(t){let l=h(e).$implicit,f=d();return _(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,f=d();return _(f.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=d();oe("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var eo=class eo extends Xe{constructor(e,o,t,l,f,c,x,ne,ie,ce,rt,Et,E){super(o,new jt,Et,c,ne);this.coreEnumService=e;this.contentService=o;this.cmsToastrService=t;this.cmsConfirmationDialogService=l;this.activatedRoute=f;this.tokenHelper=c;this.cdr=x;this.translate=ne;this.cmsStoreService=ie;this.router=ce;this.pageInfo=rt;this.publicHelper=Et;this.dialog=E;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ee;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let vt=new D;vt.propertyName="LinkCmsSiteId",vt.value=this.requestLinkSiteId,this.filteModelContent.filters.push(vt)}if(this.requestLinkUserId>0){let vt=new D;vt.propertyName="LinkUserId",vt.value=this.requestLinkUserId,this.filteModelContent.filters.push(vt)}if(this.requestLinkDeviceId>0){let vt=new D;vt.propertyName="LinkDeviceId",vt.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(vt)}this.optionsSearch.parentMethods={onSubmit:vt=>this.onSubmitOptionsSearch(vt)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new jt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new D;t.propertyName="RecordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new D;t.propertyAnyName="LinkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new D;t.propertyAnyName="LinkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(xo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Do,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{o.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new D;f.propertyName="RecordStatus",f.value=we.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{o.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};eo.\u0275fac=function(o){return new(o||eo)(S(z),S(Bt),S(j),S(Ie),S(ke),S(F),S(O),S(N),S(H),S(Ae),S(Je),S(q),S(Re))},eo.\u0275cmp=B({type:eo,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[J],decls:89,vars:44,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UsedUsername"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();T(0,Vc,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),y("optionActionGuideNoticeDisplayChange",function(c){return h(l),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return h(l),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),_(t.onActionButtonPrintRow())}),I(2,5),m(3," -------------------------------------- "),b(),re(4,6)(5,7),I(6,8),T(7,Oc,2,0,"a",9),a(8,"a",10),M("click",function(){return h(l),_(t.viewGuideNotice=!t.viewGuideNotice)}),C(9,"i",11),s(),a(10,"a",10),M("click",function(){return h(l),_(t.onActionButtonReload())}),C(11,"i",12),s(),b(),I(12,13),a(13,"a",14),M("click",function(){return h(l),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(14,"mat-slide-toggle",15),m(15),g(16,"translate"),s(),a(17,"a",14),M("click",function(){return h(l),_(t.onActionButtonStatist())}),C(18,"mat-slide-toggle",15),m(19),g(20,"translate"),s(),b(),re(21,16),I(22,17),T(23,Pc,7,3,"div",18)(24,Nc,7,3,"div",18),a(25,"div",19)(26,"a",20),M("click",function(){return h(l),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),C(27,"i",21)(28,"br"),s(),a(29,"p",22),m(30),g(31,"translate"),s()(),a(32,"div",19)(33,"a",20),M("click",function(){return h(l),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),C(34,"i",23)(35,"br"),s(),a(36,"p",22),m(37),g(38,"translate"),s()(),a(39,"div",19)(40,"a",20),M("click",function(){return h(l),_(t.onActionButtonViewMemberRow(t.tableRowSelected))}),C(41,"i",24)(42,"br"),s(),a(43,"p",22),m(44),g(45,"translate"),s()(),a(46,"div",19)(47,"a",20),M("click",function(){return h(l),_(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),C(48,"i",25)(49,"br"),s(),a(50,"p",22),m(51),g(52,"translate"),s()(),T(53,Gc,7,3,"div",18),b(),I(54,26),a(55,"app-cms-search-list",27),y("optionsChange",function(c){return h(l),A(t.optionsSearch,c)||(t.optionsSearch=c),_(c)}),s(),a(56,"app-cms-statist-list",27),y("optionsChange",function(c){return h(l),A(t.optionsStatist,c)||(t.optionsStatist=c),_(c)}),s(),b(),I(57,28),a(58,"mat-table",29,0),M("matSortChange",function(){h(l);let c=Q(59);return _(t.onTableSortData(c))}),I(60,30),T(61,Hc,2,1,"mat-header-cell",31)(62,Fc,2,1,"mat-cell",32),b(),I(63,33),T(64,jc,2,1,"mat-header-cell",31)(65,qc,4,5,"mat-cell",32),b(),I(66,34),T(67,Wc,2,1,"mat-header-cell",31)(68,Qc,4,5,"mat-cell",32),b(),I(69,35),T(70,zc,2,1,"mat-header-cell",31)(71,Jc,2,1,"mat-cell",32),b(),I(72,36),T(73,Kc,2,1,"mat-header-cell",31)(74,$c,3,4,"mat-cell",32),b(),I(75,37),T(76,Xc,2,1,"mat-header-cell",31)(77,Yc,2,1,"mat-cell",32),b(),I(78,38),T(79,Zc,2,1,"mat-header-cell",31)(80,em,3,3,"mat-cell",39),b(),I(81,40),T(82,tm,3,3,"mat-header-cell",41)(83,im,6,1,"mat-cell",42),b(),T(84,om,1,0,"mat-header-row",43)(85,nm,1,2,"mat-row",44),s(),b(),I(86,45),a(87,"mat-paginator",46,1),M("page",function(c){return h(l),_(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(p("ngIf",t.requestLinkUserId>0),n(),p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),k("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(4),oe("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),p("checked",t.optionsSearch.data.show),n(),u("",v(16,31,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),u("",v(20,33,"ACTION.STATIST")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),u(" ",v(31,35,"ACTION.SITE")," "),n(7),u(" ",v(38,37,"ACTION.USER")," "),n(7),u(" ",v(45,39,"ACTION.MEMBER")," "),n(7),u(" ",v(52,41,"ACTION.DEVICE")," "),n(2),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),k("options",t.optionsSearch),n(),k("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(26),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(43,Bc)))},dependencies:[P,ye,De,xe,Le,Ue,Be,Ve,Oe,Pe,Ge,qe,He,Ne,We,Fe,je,Qe,ze,Ye,Ze,et,tt,ot,Me,G,nt,Ke,it,$e],encapsulation:2});var ui=eo;var rm=["vform"];function am(i,r){if(i&1){let e=w();a(0,"app-cms-enum-record-status-selector",36),y("modelChange",function(t){h(e);let l=d();return A(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),_(t)}),s()}if(i&2){let e=d();k("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function sm(i,r){if(i&1&&(a(0,"option",37),m(1),s()),i&2){let e=r.$implicit;p("value",e.value),n(),u(" ",e.description," ")}}function lm(i,r){i&1&&(a(0,"mat-error"),m(1," LinkMemberId is "),a(2,"strong"),m(3),g(4,"translate"),s()()),i&2&&(n(3),L(v(4,1,"MESSAGE.required")))}function cm(i,r){if(i&1&&(a(0,"option",37),m(1),s()),i&2){let e=r.$implicit;p("value",e.value),n(),u(" ",e.description," ")}}function mm(i,r){i&1&&(a(0,"mat-error"),m(1," UserAccessAreaType is "),a(2,"strong"),m(3),g(4,"translate"),s()()),i&2&&(n(3),L(v(4,1,"MESSAGE.required")))}function dm(i,r){if(i&1){let e=w();a(0,"div",38)(1,"div",39)(2,"h5",40),m(3),s()(),a(4,"div",41)(5,"div",42)(6,"input",43),y("ngModelChange",function(t){h(e);let l=d();return A(l.dataModel.userAccessAdminAllowToAllData,t)||(l.dataModel.userAccessAdminAllowToAllData=t),_(t)}),s(),C(7,"label",44),s()()()}if(i&2){let e=d();n(3),u(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," "),n(3),k("ngModel",e.dataModel.userAccessAdminAllowToAllData)}}function pm(i,r){if(i&1){let e=w();a(0,"div",38)(1,"div",39)(2,"h5",45),m(3),s()(),a(4,"div",41)(5,"div",42)(6,"input",46),y("ngModelChange",function(t){h(e);let l=d();return A(l.dataModel.userAccessAdminAllowToProfessionalData,t)||(l.dataModel.userAccessAdminAllowToProfessionalData=t),_(t)}),s(),C(7,"label",47),s()()()}if(i&2){let e=d();n(3),u(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," "),n(3),k("ngModel",e.dataModel.userAccessAdminAllowToProfessionalData)}}function um(i,r){if(i&1){let e=w();a(0,"div",38)(1,"div",39)(2,"h5",48),m(3),s()(),a(4,"div",41)(5,"div",42)(6,"input",49),y("ngModelChange",function(t){h(e);let l=d();return A(l.dataModel.rememberOnDevice,t)||(l.dataModel.rememberOnDevice=t),_(t)}),s(),C(7,"label",50),s()()()}if(i&2){let e=d();n(3),u(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," "),n(3),k("ngModel",e.dataModel.rememberOnDevice)}}function fm(i,r){if(i&1){let e=w();a(0,"div",51)(1,"label",52),m(2),s(),a(3,"input",53),y("ngModelChange",function(t){h(e);let l=d();return A(l.dataModel.tokenExpireDate,t)||(l.dataModel.tokenExpireDate=t),_(t)}),s(),C(4,"mat-datepicker-toggle",54)(5,"mat-datepicker",55,8),s()}if(i&2){let e=Q(6),o=d();n(2),L(o.fieldsInfo.tokenExpireDate==null?null:o.fieldsInfo.tokenExpireDate.fieldTitle),n(),p("matDatepicker",e),k("ngModel",o.dataModel.tokenExpireDate),n(),p("for",e)}}function Sm(i,r){if(i&1&&(a(0,"div"),C(1,"div",56),g(2,"prettyjson"),s()),i&2){let e=d();n(),p("innerHTML",v(2,1,e.dataModel),bt)}}function Cm(i,r){if(i&1){let e=w();a(0,"div",57)(1,"button",58),M("click",function(){h(e);let t=d();return _(t.onFormCancel())}),C(2,"i",59),m(3),g(4,"translate"),s()()}i&2&&(n(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var to=class to extends dt{constructor(e,o,t,l,f,c,x,ne,ie,ce){super(l,new Pt,ie,ce);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreLogTokenUserService=l;this.cmsToastrService=f;this.tokenHelper=c;this.cmsStoreService=x;this.cdr=ne;this.publicHelper=ie;this.translate=ce;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new yt;this.dataModel=new Pt;this.formInfo=new Y;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreLogTokenUserService.setAccessLoad(),this.coreLogTokenUserService.setAccessDataType(st.Editor),this.coreLogTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};to.\u0275fac=function(o){return new(o||to)(S(ee),S(Z),S(z),S(Rt),S(j),S(F),S(H),S(O),S(q),S(N))},to.\u0275cmp=B({type:to,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&K(rm,5),o&2){let l;$(l=X())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:67,vars:45,consts:[["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],["Token",""],["tokenExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){if(o&1){let l=w();a(0,"div",9),C(1,"app-progress-spinner",10),a(2,"div",11)(3,"p",12),m(4),s(),a(5,"p"),m(6),g(7,"translate"),s(),T(8,am,1,5,"app-cms-enum-record-status-selector",13),a(9,"div",14)(10,"select",15,0),y("ngModelChange",function(c){return h(l),A(t.dataModel.linkMemberId,c)||(t.dataModel.linkMemberId=c),_(c)}),T(12,sm,2,2,"option",16),s(),a(13,"em"),m(14),g(15,"translate"),s(),T(16,lm,5,3,"mat-error",17),s(),a(17,"div",14)(18,"select",18,1),y("ngModelChange",function(c){return h(l),A(t.dataModel.userAccessAreaType,c)||(t.dataModel.userAccessAreaType=c),_(c)}),T(20,cm,2,2,"option",16),s(),a(21,"em"),m(22),g(23,"translate"),s(),T(24,mm,5,3,"mat-error",17),s(),C(25,"app-cms-site-selector",19),g(26,"translate"),C(27,"app-cms-user-selector",19),g(28,"translate"),C(29,"app-cms-member-selector",19),g(30,"translate"),T(31,dm,8,2,"div",20)(32,pm,8,2,"div",20)(33,um,8,2,"div",20),a(34,"div",21)(35,"label",22),m(36,"BrowserLanguage"),s(),a(37,"input",23,2),y("ngModelChange",function(c){return h(l),A(t.dataModel.browserLanguage,c)||(t.dataModel.browserLanguage=c),_(c)}),s()(),a(39,"div",21)(40,"label",24),m(41,"UserLanguage"),s(),a(42,"input",25,3),y("ngModelChange",function(c){return h(l),A(t.dataModel.userLanguage,c)||(t.dataModel.userLanguage=c),_(c)}),s()(),a(44,"div",21)(45,"label",26),m(46,"LinkDeviceId"),s(),a(47,"input",27,4),y("ngModelChange",function(c){return h(l),A(t.dataModel.linkDeviceId,c)||(t.dataModel.linkDeviceId=c),_(c)}),s()(),a(49,"div",21)(50,"label",28),m(51,"LinkApplicationId"),s(),a(52,"input",29,5),y("ngModelChange",function(c){return h(l),A(t.dataModel.linkApplicationId,c)||(t.dataModel.linkApplicationId=c),_(c)}),s()(),a(54,"div",21)(55,"label",30),m(56,"DeviceClientMAC"),s(),a(57,"input",31,6),y("ngModelChange",function(c){return h(l),A(t.dataModel.deviceClientMAC,c)||(t.dataModel.deviceClientMAC=c),_(c)}),s()(),a(59,"div",21)(60,"label",32),m(61,"Token"),s(),a(62,"input",33,7),y("ngModelChange",function(c){return h(l),A(t.dataModel.token,c)||(t.dataModel.token=c),_(c)}),s()(),T(64,fm,7,4,"div",34)(65,Sm,3,3,"div",17)(66,Cm,5,3,"div",35),s()()}if(o&2){let l=Q(11),f=Q(19);n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",v(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(2),k("ngModel",t.dataModel.linkMemberId),n(2),p("ngForOf",t.dataModelEnumManageUserAccessUserTypesResult.listItems),n(2),L(v(15,35,"TITLE.SELECT_STATUS")),n(2),p("ngIf",l.errors==null?null:l.errors.required),n(2),k("ngModel",t.dataModel.userAccessAreaType),n(2),p("ngForOf",t.dataModelEnumManageUserAccessAreaTypesResult.listItems),n(2),L(v(23,37,"TITLE.SELECT_STATUS")),n(2),p("ngIf",f.errors==null?null:f.errors.required),n(),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(26,39,"TITLE.WEBSITE")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(28,41,"TITLE.USER")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",v(30,43,"TITLE.Member")),n(2),p("ngIf",t.fieldsInfo.userAccessAdminAllowToAllData==null?null:t.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),n(),p("ngIf",t.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),n(),p("ngIf",t.fieldsInfo.rememberOnDevice==null?null:t.fieldsInfo.rememberOnDevice.accessWatchField),n(4),k("ngModel",t.dataModel.browserLanguage),n(5),k("ngModel",t.dataModel.userLanguage),n(5),k("ngModel",t.dataModel.linkDeviceId),n(5),k("ngModel",t.dataModel.linkApplicationId),n(5),k("ngModel",t.dataModel.deviceClientMAC),n(5),k("ngModel",t.dataModel.token),n(2),p("ngIf",t.fieldsInfo.tokenExpireDate==null?null:t.fieldsInfo.tokenExpireDate.accessWatchField),n(),p("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(),p("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[_i,P,bi,Mi,gi,lo,Ii,vi,Ti,mo,po,uo,wi,co,Te,mt,Ct,pt,Ei,te,G,wt],encapsulation:2});var Lo=to;var hm=["vform"];function _m(i,r){if(i&1&&(a(0,"div",7),C(1,"i",11),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function gm(i,r){if(i&1&&(a(0,"div",8),C(1,"i",13),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function vm(i,r){if(i&1&&(a(0,"div",9),C(1,"i",14),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function Tm(i,r){if(i&1&&(a(0,"div",10),C(1,"i",15),a(2,"span",12),m(3),s()()),i&2){let e=d(2);n(3),L(e.formInfo.submitResultMessage)}}function Im(i,r){if(i&1&&me(0,_m,4,1,"div",7)(1,gm,4,1,"div",8)(2,vm,4,1,"div",9)(3,Tm,4,1,"div",10),i&2){let e,o=d();de((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function bm(i,r){if(i&1){let e=w();a(0,"div",16)(1,"button",17),M("click",function(){h(e);let t=d();return _(t.onFormCancel())}),C(2,"i",18),m(3),g(4,"translate"),s()()}i&2&&(n(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var io=class io{constructor(r,e,o,t,l,f,c,x,ne,ie){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreLogTokenUserService=t;this.cmsToastrService=l;this.tokenHelper=f;this.cmsStoreService=c;this.cdr=x;this.publicHelper=ne;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new lt;this.dataModelResult=new R;this.dataModel=new Pt;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>V(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreLogTokenUserService.setAccessLoad(),this.coreLogTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};io.\u0275fac=function(e){return new(e||io)(S(ee),S(Z),S(z),S(Rt),S(j),S(F),S(H),S(O),S(q),S(N))},io.\u0275cmp=B({type:io,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&K(hm,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),C(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),me(6,Im,4,1),s(),a(7,"div",5),T(8,bm,5,3,"div",6),s()),e&2&&(n(),u(" ",o.formInfo.formTitle," "),n(2),p("optionsInfoAreaId",o.constructorInfoAreaId),n(),p("dataModel",o.dataModel)("optionMethod",1),n(2),de((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?6:-1),n(2),p("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[P,te,ut,G],encapsulation:2});var Uo=io;var Mm=()=>["expandedTitle"],wm=()=>[5,10,20,100];function Em(i,r){if(i&1&&C(0,"app-core-user-header",46),i&2){let e=d();p("optionId",e.requestLinkUserId)}}function km(i,r){if(i&1){let e=w();a(0,"a",47),M("click",function(){h(e);let t=d();return _(t.onActionBackToParent())}),C(1,"i",48),s()}}function Am(i,r){if(i&1){let e=w();a(0,"div",49)(1,"a",50),M("click",function(){h(e);let t=d();return _(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",51)(3,"br"),s(),a(4,"p",52),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.EDIT")," "))}function ym(i,r){if(i&1){let e=w();a(0,"div",49)(1,"a",53),M("click",function(){h(e);let t=d();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",54)(3,"br"),s(),a(4,"p",52),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.DELETE")," "))}function Rm(i,r){if(i&1){let e=w();a(0,"div",49)(1,"a",55),M("click",function(){h(e);let t=d();return _(t.onActionButtonViewSiteRow(t.tableRowSelected))}),C(2,"i",56)(3,"br"),s(),a(4,"p",52),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.SITE")," "))}function Dm(i,r){if(i&1){let e=w();a(0,"div",49)(1,"a",55),M("click",function(){h(e);let t=d();return _(t.onActionButtonViewUserRow(t.tableRowSelected))}),C(2,"i",57)(3,"br"),s(),a(4,"p",52),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.USER")," "))}function xm(i,r){if(i&1){let e=w();a(0,"div",49)(1,"a",55),M("click",function(){h(e);let t=d();return _(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),C(2,"i",58)(3,"br"),s(),a(4,"p",52),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.DEVICE")," "))}function Lm(i,r){if(i&1){let e=w();a(0,"div",49)(1,"a",59),M("click",function(){h(e);let t=d();return _(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",60)(3,"br"),s(),a(4,"p",52),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.VIEW")," "))}function Um(i,r){if(i&1){let e=w();a(0,"mat-row",61),M("click",function(t){let l=h(e).$implicit,f=d();return _(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,f=d();return _(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=h(e).$implicit,l=d();return _(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=h(e).$implicit,l=d();return _(l.onActionTableRowMouseLeave(t))}),s()}if(i&2){let e=r.$implicit,o=d();oe("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}function Bm(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Vm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function Om(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function Pm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),u(" ",e.description," ")}}function Nm(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Gm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),u(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Hm(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Fm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),u(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function jm(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function qm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),u(" ",e.linkMemberUserId," ")}}function Wm(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Qm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=d();n(),u(" ",se(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function zm(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function Jm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=d();n(),u(" ",se(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Km(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function $m(i,r){if(i&1&&(a(0,"mat-cell"),C(1,"i",63),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),p("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function Xm(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Ym(i,r){if(i&1&&(a(0,"mat-cell"),C(1,"i",63),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),p("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function Zm(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function ed(i,r){if(i&1&&(a(0,"mat-cell"),C(1,"i",63),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),p("ngClass",v(2,1,e.rememberOnDevice))}}function td(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function id(i,r){if(i&1&&(a(0,"mat-cell",64),m(1),g(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),u(" ",v(2,1,e.createdDate)," ")}}function od(i,r){i&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),s()),i&2&&(n(),u(" ",v(2,1,"TITLE.OPTION")," "))}function nd(i,r){if(i&1&&(a(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),s()(),C(4,"mat-menu",null,2),s()),i&2){let e=Q(5);n(),p("matMenuTriggerFor",e)}}function rd(i,r){i&1&&C(0,"mat-header-row")}function ad(i,r){if(i&1){let e=w();a(0,"mat-row",67),M("click",function(t){let l=h(e).$implicit,f=d();return _(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,f=d();return _(f.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=d();oe("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}function sd(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"translate"),C(3,"br"),m(4),g(5,"translate"),C(6,"br"),m(7),g(8,"translate"),g(9,"cmssiteinfo"),g(10,"async"),C(11,"br"),m(12),g(13,"translate"),g(14,"cmsuserinfo"),g(15,"async"),C(16,"br"),m(17),g(18,"translate"),g(19,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),hi(" ",v(2,10,"TITLE.Id")," : ",e.id," "),n(3),hi(" ",v(5,12,"TITLE.Description")," : ",e.description," "),n(3),hi(" ",v(8,14,"TITLE.Site_Id")," : ",v(10,18,v(9,16,e.linkSiteId))," "),n(5),hi(" ",v(13,20,"TITLE.User_Id")," : ",v(15,24,v(14,22,e.linkUserId))," "),n(5),hi(" ",v(18,26,"TITLE.CreationDate")," : ",v(19,28,e.createdDate)," ")}}var oo=class oo extends Xe{constructor(e,o,t,l,f,c,x,ne,ie,ce,rt,Et){super(e,new Pt,rt,f,ne);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=f;this.cdr=c;this.cmsStoreService=x;this.translate=ne;this.router=ie;this.pageInfo=ce;this.publicHelper=rt;this.dialog=Et;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ee;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"];this.tabledisplayedColumnsMobileSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new D;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new D;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new D;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Pt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Uo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Lo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let f=this.constructor.name+"ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{o.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new D;f.propertyName="RecordStatus",f.value=we.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{o.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};oo.\u0275fac=function(o){return new(o||oo)(S(Rt),S(j),S(Ie),S(ke),S(F),S(O),S(H),S(N),S(Ae),S(Je),S(q),S(Re))},oo.\u0275cmp=B({type:oo,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[J],decls:79,vars:37,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],["mat-sort-header",""],[3,"ngClass"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();T(0,Em,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),y("optionActionGuideNoticeDisplayChange",function(c){return h(l),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return h(l),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),_(t.onActionButtonPrintRow())}),I(2,5),m(3," -------------------------------------- "),b(),re(4,6)(5,7),I(6,8),T(7,km,2,0,"a",9),a(8,"a",10),M("click",function(){return h(l),_(t.viewGuideNotice=!t.viewGuideNotice)}),C(9,"i",11),s(),a(10,"a",10),M("click",function(){return h(l),_(t.onActionButtonReload())}),C(11,"i",12),s(),b(),I(12,13),a(13,"a",14),M("click",function(){return h(l),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(14,"mat-slide-toggle",15),m(15),g(16,"translate"),s(),a(17,"a",14),M("click",function(){return h(l),_(t.onActionButtonStatist())}),C(18,"mat-slide-toggle",15),m(19),g(20,"translate"),s(),b(),re(21,16),I(22,17),T(23,Am,7,3,"div",18)(24,ym,7,3,"div",18)(25,Rm,7,3,"div",18)(26,Dm,7,3,"div",18)(27,xm,7,3,"div",18)(28,Lm,7,3,"div",18),b(),I(29,19),a(30,"app-cms-search-list",20),y("optionsChange",function(c){return h(l),A(t.optionsSearch,c)||(t.optionsSearch=c),_(c)}),s(),a(31,"app-cms-statist-list",20),y("optionsChange",function(c){return h(l),A(t.optionsStatist,c)||(t.optionsStatist=c),_(c)}),s(),b(),I(32,21),a(33,"mat-table",22,0),M("matSortChange",function(){h(l);let c=Q(34);return _(t.onTableSortData(c))}),T(35,Um,1,2,"mat-row",23),I(36,24),T(37,Bm,2,1,"mat-header-cell",25)(38,Vm,2,1,"mat-cell",26),b(),I(39,27),T(40,Om,2,1,"mat-header-cell",25)(41,Pm,2,1,"mat-cell",26),b(),I(42,28),T(43,Nm,2,1,"mat-header-cell",25)(44,Gm,4,5,"mat-cell",26),b(),I(45,29),T(46,Hm,2,1,"mat-header-cell",25)(47,Fm,4,5,"mat-cell",26),b(),I(48,30),T(49,jm,2,1,"mat-header-cell",25)(50,qm,2,1,"mat-cell",26),b(),I(51,31),T(52,Wm,2,1,"mat-header-cell",25)(53,Qm,3,4,"mat-cell",26),b(),I(54,32),T(55,zm,2,1,"mat-header-cell",25)(56,Jm,3,4,"mat-cell",26),b(),I(57,33),T(58,Km,2,1,"mat-header-cell",25)(59,$m,3,3,"mat-cell",26),b(),I(60,34),T(61,Xm,2,1,"mat-header-cell",25)(62,Ym,3,3,"mat-cell",26),b(),I(63,35),T(64,Zm,2,1,"mat-header-cell",25)(65,ed,3,3,"mat-cell",26),b(),I(66,36),T(67,td,2,1,"mat-header-cell",25)(68,id,3,3,"mat-cell",37),b(),I(69,38),T(70,od,3,3,"mat-header-cell",39)(71,nd,6,1,"mat-cell",40),b(),T(72,rd,1,0,"mat-header-row",41)(73,ad,1,2,"mat-row",42),I(74,43),T(75,sd,20,30,"mat-cell",26),b(),s(),b(),I(76,44),a(77,"mat-paginator",45,1),M("page",function(c){return h(l),_(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(p("ngIf",t.requestLinkUserId>0),n(),p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),k("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(4),oe("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),p("checked",t.optionsSearch.data.show),n(),u("",v(16,31,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),u("",v(20,33,"ACTION.STATIST")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0),n(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),n(),p("ngIf",(t.tableRowSelected==null||t.tableRowSelected.deviceClientMAC==null?null:t.tableRowSelected.deviceClientMAC.length)>0),n(),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),k("options",t.optionsSearch),n(),k("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(2),p("matRowDefColumns",be(35,Mm)),n(37),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(4),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(36,wm)))},dependencies:[at,P,ye,De,xe,Le,Ue,Be,Ve,Oe,Pe,Ge,qe,He,Ne,We,Fe,je,Qe,ze,Ye,Ze,et,tt,ot,Me,G,nt,Ke,it,$e,ct],encapsulation:2});var fi=oo;var ld=()=>[5,10,20,100],cd=i=>({display:i}),md=i=>({background:i});function dd(i,r){if(i&1&&C(0,"app-core-user-header",52),i&2){let e=d();p("optionId",e.requestLinkUserId)}}function pd(i,r){if(i&1){let e=w();a(0,"a",53),M("click",function(){h(e);let t=d();return _(t.onActionBackToParent())}),C(1,"i",54),s()}}function ud(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",55),M("click",function(){h(e);let t=d();return _(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",56)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.EDIT")," "))}function fd(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",57),M("click",function(){h(e);let t=d();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",58)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.DELETE")," "))}function Sd(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",59),M("click",function(){h(e);let t=d();return _(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",60)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),u(" ",v(6,1,"ACTION.VIEW")," "))}function Cd(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function hd(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function _d(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function gd(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),u(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function vd(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Td(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),u(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function Id(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function bd(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),u(" ",e.linkMemberUserId," ")}}function Md(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function wd(i,r){if(i&1&&C(0,"select",64),i&2){let e=d().$implicit,o=d();p("contentService",o.contentService)("row",e)("ngStyle",ve(3,cd,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Ed(i,r){if(i&1&&(a(0,"mat-cell",62),g(1,"statusCellClass"),C(2,"i",62),g(3,"statusIconClass"),T(4,wd,1,5,"select",63),s()),i&2){let e=r.$implicit,o=d();p("ngClass",v(1,3,e.recordStatus)),n(2),p("ngClass",v(3,5,e.recordStatus)),n(2),p("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function kd(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ad(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=d();n(),u(" ",se(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function yd(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function Rd(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=d();n(),u(" ",se(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Dd(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function xd(i,r){if(i&1&&(a(0,"mat-cell"),C(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),p("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function Ld(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Ud(i,r){if(i&1&&(a(0,"mat-cell"),C(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),p("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function Bd(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Vd(i,r){if(i&1&&(a(0,"mat-cell"),C(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),p("ngClass",v(2,1,e.rememberOnDevice))}}function Od(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Pd(i,r){if(i&1&&(a(0,"mat-cell",65),m(1),g(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),u(" ",v(2,1,e.createdDate)," ")}}function Nd(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=d();n(),u(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Gd(i,r){if(i&1&&(a(0,"mat-cell",66),m(1),g(2,"persianDate"),s()),i&2){let e=r.$implicit,o=d();p("ngStyle",ve(4,md,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),u(" ",v(2,2,e.expireDate)," ")}}function Hd(i,r){i&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),s()),i&2&&(n(),u(" ",v(2,1,"TITLE.OPTION")," "))}function Fd(i,r){if(i&1&&(a(0,"mat-cell",67)(1,"button",68)(2,"mat-icon"),m(3,"more_vert"),s()(),C(4,"mat-menu",null,2),s()),i&2){let e=Q(5);n(),p("matMenuTriggerFor",e)}}function jd(i,r){i&1&&C(0,"mat-header-row")}function qd(i,r){if(i&1){let e=w();a(0,"mat-row",69),M("click",function(t){let l=h(e).$implicit,f=d();return _(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,f=d();return _(f.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=d();oe("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var no=class no extends Xe{constructor(e,o,t,l,f,c,x,ne,ie,ce,rt,Et){super(e,new It,rt,f,x);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=f;this.cdr=c;this.translate=x;this.cmsStoreService=ne;this.router=ie;this.pageInfo=ce;this.publicHelper=rt;this.dialog=Et;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ee;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new D;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new D;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new D;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.processOrderStore).subscribe(e=>V(this,null,function*(){var o=e.find(t=>t.contentAction=="core_token_online_update_list"&&!t.isRun);o&&o?.id?.length>0&&(o.isRun=!0,this.publicHelper.setProcessOrder(o),this.DataGetAll(t=>{o.isComplate=!0,o.isSuccess=t,this.publicHelper.setProcessOrder(o)}))})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(e=()=>{}){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new It);let o=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(l=>{this.publicHelper.processService.processStart(o,l,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let l=new D;l.propertyName="RecordStatus",l.value=this.filteModelContent.filterActionSearchRecordStatus,t.filters.push(l)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let l=new D;l.propertyAnyName="LinkSiteId",l.propertyName="SiteUsers",l.value=this.filteModelContent.filterActionSearchLinkSiteId,t.filters.push(l)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let l=new D;l.propertyAnyName="LinkUserId",l.value=this.filteModelContent.filterActionSearchLinkUserId,t.filters.push(l)}this.contentService.ServiceGetAllLiveConnection(t).subscribe({next:l=>{l.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)},1e3)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(o),e&&e(!0)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(o,!1),e&&e(!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(zi,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Wi,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{o.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new D;f.propertyName="RecordStatus",f.value=we.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{o.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};no.\u0275fac=function(o){return new(o||no)(S(Mt),S(j),S(Ie),S(ke),S(F),S(O),S(N),S(H),S(Ae),S(Je),S(q),S(Re))},no.\u0275cmp=B({type:no,selectors:[["app-coretoken-notification-list-online"]],standalone:!1,features:[J],decls:90,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();T(0,dd,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),y("optionActionGuideNoticeDisplayChange",function(c){return h(l),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return h(l),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),_(t.onActionButtonPrintRow())}),I(2,5),m(3," -------------------------------------- "),b(),re(4,6)(5,7),I(6,8),T(7,pd,2,0,"a",9),a(8,"a",10),M("click",function(){return h(l),_(t.viewGuideNotice=!t.viewGuideNotice)}),C(9,"i",11),s(),a(10,"a",10),M("click",function(){return h(l),_(t.onActionButtonReload())}),C(11,"i",12),s(),b(),I(12,13),a(13,"a",14),M("click",function(){return h(l),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(14,"mat-slide-toggle",15),m(15),g(16,"translate"),s(),a(17,"a",14),M("click",function(){return h(l),_(t.onActionButtonStatist())}),C(18,"mat-slide-toggle",15),m(19),g(20,"translate"),s(),b(),re(21,16),I(22,17),T(23,ud,7,3,"div",18)(24,fd,7,3,"div",18),a(25,"div",19)(26,"a",20),M("click",function(){return h(l),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),C(27,"i",21)(28,"br"),s(),a(29,"p",22),m(30),g(31,"translate"),s()(),a(32,"div",19)(33,"a",20),M("click",function(){return h(l),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),C(34,"i",23)(35,"br"),s(),a(36,"p",22),m(37),g(38,"translate"),s()(),T(39,Sd,7,3,"div",18),b(),I(40,24),a(41,"app-cms-search-list",25),y("optionsChange",function(c){return h(l),A(t.optionsSearch,c)||(t.optionsSearch=c),_(c)}),s(),a(42,"app-cms-statist-list",25),y("optionsChange",function(c){return h(l),A(t.optionsStatist,c)||(t.optionsStatist=c),_(c)}),s(),b(),I(43,26),a(44,"mat-table",27,0),M("matSortChange",function(){h(l);let c=Q(45);return _(t.onTableSortData(c))}),I(46,28),T(47,Cd,2,1,"mat-header-cell",29)(48,hd,2,1,"mat-cell",30),b(),I(49,31),T(50,_d,2,1,"mat-header-cell",29)(51,gd,4,5,"mat-cell",30),b(),I(52,32),T(53,vd,2,1,"mat-header-cell",29)(54,Td,4,5,"mat-cell",30),b(),I(55,33),T(56,Id,2,1,"mat-header-cell",29)(57,bd,2,1,"mat-cell",30),b(),I(58,34),T(59,Md,2,1,"mat-header-cell",29)(60,Ed,5,7,"mat-cell",35),b(),I(61,36),T(62,kd,2,1,"mat-header-cell",29)(63,Ad,3,4,"mat-cell",30),b(),I(64,37),T(65,yd,2,1,"mat-header-cell",29)(66,Rd,3,4,"mat-cell",30),b(),I(67,38),T(68,Dd,2,1,"mat-header-cell",29)(69,xd,3,3,"mat-cell",30),b(),I(70,39),T(71,Ld,2,1,"mat-header-cell",29)(72,Ud,3,3,"mat-cell",30),b(),I(73,40),T(74,Bd,2,1,"mat-header-cell",29)(75,Vd,3,3,"mat-cell",30),b(),I(76,41),T(77,Od,2,1,"mat-header-cell",29)(78,Pd,3,3,"mat-cell",42),b(),I(79,43),T(80,Nd,2,1,"mat-header-cell",29)(81,Gd,3,6,"mat-cell",44),b(),I(82,45),T(83,Hd,3,3,"mat-header-cell",46)(84,Fd,6,1,"mat-cell",47),b(),T(85,jd,1,0,"mat-header-row",48)(86,qd,1,2,"mat-row",49),s(),b(),I(87,50),a(88,"mat-paginator",51,1),M("page",function(c){return h(l),_(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(p("ngIf",t.requestLinkUserId>0),n(),p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),k("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(4),oe("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),p("checked",t.optionsSearch.data.show),n(),u("",v(16,29,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),u("",v(20,31,"ACTION.STATIST")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),u(" ",v(31,33,"ACTION.SITE")," "),n(7),u(" ",v(38,35,"ACTION.USER")," "),n(2),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),k("options",t.optionsSearch),n(),k("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(41),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(37,ld)))},dependencies:[at,P,St,ye,De,Te,xe,Le,Ue,Be,Ve,Oe,Pe,Ge,qe,He,Ne,We,Fe,je,Qe,ze,Ye,Ze,et,tt,ht,ot,Me,G,Tt,nt,Ke,it,$e,_t,gt,ct],encapsulation:2});var Bo=no;var Wd=[{path:"",component:ho,data:{title:"ROUTE.CORETOKEN"},children:[{path:"user",component:pi,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkSiteId/:LinkSiteId",component:pi,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkUserId/:LinkUserId",component:pi,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkDeviceId/:LinkDeviceId",component:pi,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"userlog",component:fi,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkSiteId/:LinkSiteId",component:fi,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkUserId/:LinkUserId",component:fi,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkDeviceId/:LinkDeviceId",component:fi,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userbadlogin",component:ui,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkSiteId/:LinkSiteId",component:ui,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkUserId/:LinkUserId",component:ui,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkDeviceId/:LinkDeviceId",component:ui,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"activation",component:Co,data:{title:"ROUTE.CORETOKEN.ACTIVATION"}},{path:"microservice",component:Mo,data:{title:"ROUTE.CORETOKEN.MICROSERVICE"}},{path:"microservicelog",component:vo,data:{title:"ROUTE.CORETOKEN.MICROSERVICELOG"}},{path:"notification",component:Ao,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"online",component:Bo,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"notificationlog",component:ko,data:{title:"ROUTE.CORETOKEN.NOTIFICATIONLOG"}}]}],Si=class Si{};Si.\u0275fac=function(e){return new(e||Si)},Si.\u0275mod=so({type:Si}),Si.\u0275inj=ao({imports:[Oo.forChild(Wd),Oo]});var Vo=Si;var Ci=class Ci{};Ci.\u0275fac=function(e){return new(e||Ci)},Ci.\u0275mod=so({type:Ci}),Ci.\u0275inj=ao({providers:[No,z,Ut,Rt,Bt,Lt,Vt,Dt,Mt,xt,Go,Ie],imports:[Vo,Po,Wo,Qo.withConfig({warnOnNgModelWithFormControl:"never"}),zo,Jo]});var Yo=Ci;export{Yo as CoreTokenModule};
