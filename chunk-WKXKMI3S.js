import{a as Ne}from"./chunk-UFCWMVB6.js";import{a as Le}from"./chunk-JDJMYH2Q.js";import{b as ct}from"./chunk-3RHHJRHJ.js";import{a as Ge}from"./chunk-T2SWGMVG.js";import{a as Oe}from"./chunk-IXPEP4O3.js";import{a as He}from"./chunk-PH5IBDIY.js";import{a as P,d as Re}from"./chunk-5CUEEOJ3.js";import{b as Be,f as j}from"./chunk-NSI52VTG.js";import{$a as he,Cb as O,Db as N,ab as be,bb as Ce,cb as ge,eb as Ie,fb as _e,gb as Te,hb as Ae,ib as Me,jb as Ee,kb as ke,lb as xe,mb as ye,nb as De,pb as we,rc as L,uc as G,wc as V,zc as at}from"./chunk-WIVKQDM4.js";import{F as rt,G as st,i as ue,k as Se,n as ve}from"./chunk-QRBNL5ZA.js";import{Ta as tt,Ua as de,Va as fe,Wa as it,Wb as H,Xa as nt,Ya as ot,ba as R,d as B,f as pe,fa as et,l as Ue,q as me,xn as g}from"./chunk-2ZWWK4AL.js";import{Ab as h,Ad as Ze,Dc as a,Ec as c,Fb as p,Gb as r,Hb as s,Ib as f,Mb as k,Nb as x,Pb as $,Qa as M,Sb as y,Ub as S,Va as n,Xc as w,Yb as re,Zb as se,_b as ae,cb as l,cc as C,ec as ce,ga as ne,hc as m,ib as E,ic as Y,jb as oe,jc as d,ld as le,ob as b,pa as T,qa as A,tc as D,zb as v}from"./chunk-2AL2II5Z.js";import{i as _}from"./chunk-SEDBTTTN.js";function ut(o,t){o&1&&(r(0,"mat-header-cell"),m(1),a(2,"translate"),s()),o&2&&(n(),d(" ",c(2,1,"TITLE.Accepted")," "))}function St(o,t){if(o&1&&(r(0,"mat-cell"),f(1,"i",11),a(2,"boolclass"),s()),o&2){let e=t.$implicit;n(),p("ngClass",c(2,1,e.accepted))}}function vt(o,t){o&1&&(r(0,"mat-header-cell"),m(1),a(2,"translate"),s()),o&2&&(n(),d(" ",c(2,1,"TITLE.title")," "))}function ht(o,t){if(o&1&&(r(0,"mat-cell"),m(1),s()),o&2){let e=t.$implicit;n(),d(" ",e.title," ")}}function bt(o,t){o&1&&(r(0,"mat-header-cell"),m(1),a(2,"translate"),s()),o&2&&(n(),d(" ",c(2,1,"TITLE.Description")," "))}function Ct(o,t){if(o&1&&(r(0,"mat-cell"),m(1),s()),o&2){let e=t.$implicit;n(),d(" ",e.description," ")}}function gt(o,t){o&1&&f(0,"mat-header-row")}function It(o,t){if(o&1&&f(0,"mat-row",12),o&2){let e=t.dataIndex;ce("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}var X=class X{constructor(t,e,i,u,F,U,q,Pe,Fe){this.configService=t;this.activatedRoute=e;this.tokenHelper=i;this.cmsStoreService=u;this.publicHelper=F;this.coreEnumService=U;this.cmsToastrService=q;this.cdr=Pe;this.translate=Fe;this.requestLinkSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.unsubscribe=[];this.tokenInfo=new H;this.dataModelResult=new me;this.tableRowsSelected=[];this.tableRowSelected=new it;this.tableSource=new we;this.tabledisplayedColumns=["Accepted","title","Description"];this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.onLoadDate(),this.unsubscribe.push(this.cmsStoreService.getState(I=>I.tokenInfoStore).subscribe(I=>_(this,null,function*(){this.tokenInfo=I,this.onLoadDate()})))}ngOnInit(){}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}onLoadDate(){if((!this.requestLinkSiteId||this.requestLinkSiteId===0)&&(this.requestLinkSiteId=this.tokenInfo.access.siteId),!this.requestLinkSiteId||this.requestLinkSiteId===0)return;let t=this.constructor.name+".ServiceCheckSite";this.translate.get("MESSAGE.Check_website").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.configService.ServiceCheckSite(this.requestLinkSiteId).subscribe({next:e=>{this.publicHelper.processService.processStop(t),this.dataModelResult=e,this.tableSource.data=e.listItems,e.isSuccess||this.cmsToastrService.typeErrorGetOne(e.errorMessage)},error:e=>{this.publicHelper.processService.processStop(t),this.cmsToastrService.typeErrorGetOne(e)}})}};X.\u0275fac=function(e){return new(e||X)(l(g),l(B),l(G),l(L),l(j),l(R),l(V),l(w),l(O))},X.\u0275cmp=E({type:X,selectors:[["app-transaction-assistant-config-checksite"]],standalone:!1,decls:17,vars:8,consts:[[3,"svg"],[1,"example-container","mat-elevation-z8"],[3,"optionsInfoAreaId"],[3,"dataSource"],["matColumnDef","Accepted"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","title"],["matColumnDef","Description"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[3,"ngClass"],[1,"ntk-row-mainfild"]],template:function(e,i){e&1&&(r(0,"app-cms-html-notice",0),m(1),a(2,"translate"),s(),r(3,"div",1),f(4,"app-progress-spinner",2),r(5,"mat-table",3),k(6,4),b(7,ut,3,3,"mat-header-cell",5)(8,St,3,3,"mat-cell",6),x(),k(9,7),b(10,vt,3,3,"mat-header-cell",5)(11,ht,2,1,"mat-cell",6),x(),k(12,8),b(13,bt,3,3,"mat-header-cell",5)(14,Ct,2,1,"mat-cell",6),x(),b(15,gt,1,0,"mat-header-row",9)(16,It,1,4,"mat-row",10),s()()),e&2&&(p("svg","assets/media/svg/icons/Tools/Compass.svg"),n(),d(" ",c(2,6,"TITLE.This_section_guides_you_in_completing_and_correcting_information"),`
`),n(3),p("optionsInfoAreaId",i.constructorInfoAreaId),n(),p("dataSource",i.tableSource),n(10),p("matHeaderRowDef",i.tabledisplayedColumns),n(),p("matRowDefColumns",i.tabledisplayedColumns))},dependencies:[le,Ie,Te,ke,Ae,_e,xe,Me,Ee,ye,De,P,Ne,N,Be],encapsulation:2});var Z=X;function _t(o,t){o&1&&(r(0,"mat-header-cell"),m(1),a(2,"translate"),s()),o&2&&(n(),d(" ",c(2,1,"TITLE.Accepted")," "))}function Tt(o,t){if(o&1&&(r(0,"mat-cell"),f(1,"i",11),a(2,"boolclass"),s()),o&2){let e=t.$implicit;n(),p("ngClass",c(2,1,e.accepted))}}function At(o,t){o&1&&(r(0,"mat-header-cell"),m(1),a(2,"translate"),s()),o&2&&(n(),d(" ",c(2,1,"TITLE.title")," "))}function Mt(o,t){if(o&1&&(r(0,"mat-cell"),m(1),s()),o&2){let e=t.$implicit;n(),d(" ",e.title," ")}}function Et(o,t){o&1&&(r(0,"mat-header-cell"),m(1),a(2,"translate"),s()),o&2&&(n(),d(" ",c(2,1,"TITLE.Description")," "))}function kt(o,t){if(o&1&&(r(0,"mat-cell"),m(1),s()),o&2){let e=t.$implicit;n(),d(" ",e.description," ")}}function xt(o,t){o&1&&f(0,"mat-header-row")}function yt(o,t){if(o&1&&f(0,"mat-row",12),o&2){let e=t.dataIndex;ce("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}var W=class W{constructor(t,e,i,u,F,U,q,Pe,Fe){this.configService=t;this.activatedRoute=e;this.tokenHelper=i;this.cmsStoreService=u;this.publicHelper=F;this.coreEnumService=U;this.cmsToastrService=q;this.cdr=Pe;this.translate=Fe;this.requestLinkUserId=0;this.constructorInfoAreaId=this.constructor.name;this.unsubscribe=[];this.tokenInfo=new H;this.dataModelResult=new me;this.tableRowsSelected=[];this.tableRowSelected=new nt;this.tableSource=new we;this.tabledisplayedColumns=["Accepted","title","Description"];this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.onLoadDate(),this.unsubscribe.push(this.cmsStoreService.getState(I=>I.tokenInfoStore).subscribe(I=>_(this,null,function*(){this.tokenInfo=I,this.onLoadDate()})))}ngOnInit(){}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}onLoadDate(){if((!this.requestLinkUserId||this.requestLinkUserId===0)&&(this.requestLinkUserId=this.tokenInfo.access.userId),!this.requestLinkUserId||this.requestLinkUserId===0)return;let t=this.constructor.name+".ServiceCheckUser";this.translate.get("TITLE.Check_account").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.configService.ServiceCheckUser(this.requestLinkUserId).subscribe({next:e=>{this.publicHelper.processService.processStop(t),this.dataModelResult=e,this.tableSource.data=e.listItems,e.isSuccess||this.cmsToastrService.typeErrorGetOne(e.errorMessage)},error:e=>{this.cmsToastrService.typeErrorGetOne(e),this.publicHelper.processService.processStop(t,!1)}})}};W.\u0275fac=function(e){return new(e||W)(l(g),l(B),l(G),l(L),l(j),l(R),l(V),l(w),l(O))},W.\u0275cmp=E({type:W,selectors:[["app-transaction-assistant-config-checkuser"]],standalone:!1,decls:17,vars:8,consts:[[3,"svg"],[1,"example-container","mat-elevation-z8"],[3,"optionsInfoAreaId"],[3,"dataSource"],["matColumnDef","Accepted"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","title"],["matColumnDef","Description"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[3,"ngClass"],[1,"ntk-row-mainfild"]],template:function(e,i){e&1&&(r(0,"app-cms-html-notice",0),m(1),a(2,"translate"),s(),r(3,"div",1),f(4,"app-progress-spinner",2),r(5,"mat-table",3),k(6,4),b(7,_t,3,3,"mat-header-cell",5)(8,Tt,3,3,"mat-cell",6),x(),k(9,7),b(10,At,3,3,"mat-header-cell",5)(11,Mt,2,1,"mat-cell",6),x(),k(12,8),b(13,Et,3,3,"mat-header-cell",5)(14,kt,2,1,"mat-cell",6),x(),b(15,xt,1,0,"mat-header-row",9)(16,yt,1,4,"mat-row",10),s()()),e&2&&(p("svg","assets/media/svg/icons/Tools/Compass.svg"),n(),d(" ",c(2,6,"TITLE.This_section_guides_you_in_completing_and_correcting_information"),`
`),n(3),p("optionsInfoAreaId",i.constructorInfoAreaId),n(),p("dataSource",i.tableSource),n(10),p("matHeaderRowDef",i.tabledisplayedColumns),n(),p("matRowDefColumns",i.tabledisplayedColumns))},dependencies:[le,Ie,Te,ke,Ae,_e,xe,Me,Ee,ye,De,P,Ne,N,Be],encapsulation:2});var te=W;var Ot=["vform"];function Nt(o,t){if(o&1&&(r(0,"div"),f(1,"div",11),a(2,"prettyjson"),s()),o&2){let e=S(2);n(),p("innerHTML",c(2,1,e.dataConfigSiteValuesDefaultModel),M)}}function Lt(o,t){if(o&1){let e=$();r(0,"div",10)(1,"button",12),y("click",function(){T(e);let u=S(2);return A(u.onActionBackToParent())}),m(2),a(3,"translate"),s(),r(4,"button",13),m(5),a(6,"translate"),s(),r(7,"button",14),m(8),a(9,"translate"),s()()}if(o&2){S(2);let e=C(10);n(2),d(" ",c(3,5,"ACTION.BACK")," "),n(2),p("disabled",!e.form.valid),n(),d(" ",c(6,7,"ACTION.NEXT")," "),n(2),p("disabled",!e.form.valid),n(),d(" ",c(9,9,"ACTION.SAVE")," ")}}function Gt(o,t){if(o&1&&(r(0,"mat-step",9),a(1,"translate"),r(2,"p"),m(3),a(4,"translate"),s(),v(5,Nt,3,3,"div"),v(6,Lt,10,11,"div",10),s()),o&2){let e=S();p("label",D(c(1,5,"TITLE.Default_module_settings"))),n(3),d(" ",c(4,7,"TITLE.Settings_that_are_used_in_the_first_assignment_of_the_module_to_the_site")," "),n(2),h(e.tokenInfo.access.userAccessAdminAllowToProfessionalData?5:-1),n(),h(e.formInfo.submitButtonEnabled?6:-1)}}function Vt(o,t){if(o&1&&(r(0,"div"),f(1,"div",11),a(2,"prettyjson"),s()),o&2){let e=S(2);n(),p("innerHTML",c(2,1,e.dataConfigSiteAccessValuesDefaultModel),M)}}function jt(o,t){if(o&1&&(r(0,"div",10)(1,"button",15),m(2),a(3,"translate"),s(),r(4,"button",13),m(5),a(6,"translate"),s(),r(7,"button",14),m(8),a(9,"translate"),s()()),o&2){S(2);let e=C(10);n(2),d(" ",c(3,5,"ACTION.BEFOR")," "),n(2),p("disabled",!e.form.valid),n(),d(" ",c(6,7,"ACTION.NEXT")," "),n(2),p("disabled",!e.form.valid),n(),d(" ",c(9,9,"ACTION.SAVE")," ")}}function Pt(o,t){if(o&1&&(r(0,"mat-step",9),a(1,"translate"),r(2,"p"),m(3),a(4,"translate"),s(),v(5,Vt,3,3,"div"),v(6,jt,10,11,"div",10),s()),o&2){let e=S();p("label",D(c(1,5,"TITLE.Default_access"))),n(3),Y(c(4,7,"TITLE.Default_website_access_to_this_module")),n(2),h(e.tokenInfo.access.userAccessAdminAllowToProfessionalData?5:-1),n(),h(e.formInfo.submitButtonEnabled?6:-1)}}function Ft(o,t){if(o&1&&(r(0,"div"),f(1,"div",11),a(2,"prettyjson"),s()),o&2){let e=S();n(),p("innerHTML",c(2,1,e.dataConfigAdminMainModel),M)}}function Ut(o,t){if(o&1&&(r(0,"div",10)(1,"button",15),m(2),a(3,"translate"),s(),r(4,"button",14),m(5),a(6,"translate"),s()()),o&2){S();let e=C(10);n(2),d(" ",c(3,3,"ACTION.BEFOR")," "),n(2),p("disabled",!e.form.valid),n(),d(" ",c(6,5,"ACTION.SAVE")," ")}}var K=class K{constructor(t,e,i,u,F,U,q,Pe,Fe,I){this.configService=t;this.activatedRoute=e;this.tokenHelper=i;this.cmsStoreService=u;this.publicHelper=F;this.coreEnumService=U;this.cmsToastrService=q;this.router=Pe;this.cdr=Fe;this.translate=I;this.requestLinkSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.dataConfigSiteValuesDefaultModel=new fe;this.dataConfigSiteAccessValuesDefaultModel=new de;this.dataConfigAdminMainModel=new tt;this.tokenInfo=new H;this.formInfo=new Re;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.fileManagerOpenForm=!1;this.appLanguage="fa";this.mapOptonCenter=new Oe;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.onLoadDate(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>_(this,null,function*(){this.tokenInfo=t,this.onLoadDate()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}onLoadDate(){(!this.requestLinkSiteId||this.requestLinkSiteId===0)&&(this.requestLinkSiteId=this.tokenInfo.access.siteId),this.tokenInfo.access.userAccessAdminAllowToProfessionalData&&(this.GetServiceSiteConfigDefault(),this.GetServiceSiteAccessDefault(),this.GetServiceAdminMain())}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.tokenInfo.access.userAccessAdminAllowToProfessionalData&&(this.SetServiceSiteConfigDefaultSave(),this.SetServiceSiteAccessDefaultSave(),this.SetServiceAdminMainSave())}onStepClick(t,e){t.previouslySelectedIndex<t.selectedIndex}onActionBackToParent(){this.router.navigate(["/core/site/"])}GetServiceSiteConfigDefault(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"ServiceSiteConfigDefault";this.translate.get("MESSAGE.get_the_module_default_settings").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.configService.ServiceSiteConfigDefault().subscribe({next:e=>{this.formInfo.submitButtonEnabled=!0,e.isSuccess?this.dataConfigSiteValuesDefaultModel=e.item:this.cmsToastrService.typeErrorGetOne(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(e),this.publicHelper.processService.processStop(t,!1)}})}SetServiceSiteConfigDefaultSave(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.Saving_Information_On_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"ServiceSiteConfigDefault";this.translate.get("MESSAGE.Save_module_default_setting").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.configService.ServiceSiteConfigDefaultSave(this.dataConfigSiteValuesDefaultModel).subscribe({next:e=>{e.isSuccess?this.dataConfigSiteValuesDefaultModel=e.item:this.cmsToastrService.typeErrorGetOne(e.errorMessage),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(t)},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(e),this.publicHelper.processService.processStop(t,!1)}})}GetServiceSiteAccessDefault(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"ServiceSiteAccessDefault";this.translate.get("MESSAGE.get_the_module_default_access").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.configService.ServiceSiteAccessDefault().subscribe({next:e=>{this.formInfo.submitButtonEnabled=!0,e.isSuccess?this.dataConfigSiteAccessValuesDefaultModel=e.item:this.cmsToastrService.typeErrorGetOne(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(e),this.publicHelper.processService.processStop(t,!1)}})}SetServiceSiteAccessDefaultSave(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.Saving_Information_On_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"ServiceSiteAccessDefaultSave";this.translate.get("MESSAGE.Save_the_module_default_access").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.configService.ServiceSiteAccessDefaultSave(this.dataConfigSiteAccessValuesDefaultModel).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!0,e.isSuccess?this.dataConfigSiteAccessValuesDefaultModel=e.item:this.cmsToastrService.typeErrorGetOne(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(e),this.publicHelper.processService.processStop(t,!1)}})}GetServiceAdminMain(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"ServiceAdminMain";this.translate.get("MESSAGE.get_module_setting").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.configService.ServiceAdminMain().subscribe({next:e=>{this.formInfo.submitButtonEnabled=!0,e.isSuccess?this.dataConfigAdminMainModel=e.item:this.cmsToastrService.typeErrorGetOne(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(e),this.publicHelper.processService.processStop(t,!1)}})}SetServiceAdminMainSave(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.Saving_Information_On_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"ServiceAdminMain";this.translate.get("MESSAGE.Save_module_setting").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.configService.ServiceAdminMainSave(this.dataConfigAdminMainModel).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!0,e.isSuccess?this.dataConfigAdminMainModel=e.item:this.cmsToastrService.typeErrorGetOne(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(e),this.publicHelper.processService.processStop(t,!1)}})}};K.\u0275fac=function(e){return new(e||K)(l(g),l(B),l(G),l(L),l(j),l(R),l(V),l(pe),l(w),l(O))},K.\u0275cmp=E({type:K,selectors:[["app-transaction-assistant-config-mainadmin"]],viewQuery:function(e,i){if(e&1&&re(Ot,5),e&2){let u;se(u=ae())&&(i.formGroup=u.first)}},standalone:!1,decls:22,vars:17,consts:[["vform","ngForm"],["stepper",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[1,"ntk-button-row"],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"]],template:function(e,i){if(e&1){let u=$();r(0,"div",2),f(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),m(4),s(),r(5,"p"),m(6),a(7,"translate"),s(),f(8,"app-cms-form-result-message",6),r(9,"form",7,0),y("ngSubmit",function(){return T(u),A(i.onFormSubmit())}),r(11,"mat-vertical-stepper",8,1),y("selectionChange",function(U){T(u);let q=C(12);return A(i.onStepClick(U,q))}),v(13,Gt,7,9,"mat-step",9),v(14,Pt,7,9,"mat-step",9),r(15,"mat-step",9),a(16,"translate"),r(17,"p"),m(18),a(19,"translate"),s(),v(20,Ft,3,3,"div"),v(21,Ut,7,7,"div",10),s()()()()()}e&2&&(n(),p("optionsInfoAreaId",i.constructorInfoAreaId),n(3),d(" ",i.formInfo.formTitle," "),n(2),d(" ",c(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),p("formInfo",i.formInfo),n(5),h(i.tokenInfo.access.userAccessAdminAllowToProfessionalData?13:-1),n(),h(i.tokenInfo.access.userAccessAdminAllowToProfessionalData?14:-1),n(),p("label",D(c(16,13,"TITLE.System_management_settings"))),n(3),d(" ",c(19,15,"TITLE.The_whole_system_management_settings_for_this_module")," "),n(2),h(i.tokenInfo.access.userAccessAdminAllowToProfessionalData?20:-1),n(),h(i.formInfo.submitButtonEnabled?21:-1))},dependencies:[ve,ue,Se,he,be,Ce,ge,P,He,Le,N,Ge],encapsulation:2});var Ve=K;var qt=["vform"];function zt(o,t){if(o&1&&(r(0,"div"),f(1,"div",11),a(2,"prettyjson"),s()),o&2){let e=S();n(),p("innerHTML",c(2,1,e.dataConfigSiteValuesModel),M)}}function Qt(o,t){if(o&1){let e=$();r(0,"div",10)(1,"button",12),y("click",function(){T(e);let u=S();return A(u.onActionBackToParent())}),m(2),a(3,"translate"),s(),r(4,"button",13),m(5),a(6,"translate"),s(),r(7,"button",14),m(8),a(9,"translate"),s()()}if(o&2){S();let e=C(10);n(2),d(" ",c(3,5,"ACTION.BACK")," "),n(2),p("disabled",!e.form.valid),n(),d(" ",c(6,7,"ACTION.NEXT")," "),n(2),p("disabled",!e.form.valid),n(),d(" ",c(9,9,"ACTION.SAVE")," ")}}function $t(o,t){if(o&1&&(r(0,"div"),f(1,"div",11),a(2,"prettyjson"),s()),o&2){let e=S();n(),p("innerHTML",c(2,1,e.dataSiteStorageModel),M)}}function Xt(o,t){if(o&1&&(r(0,"div",10)(1,"button",15),m(2),a(3,"translate"),s(),r(4,"button",13),m(5),a(6,"translate"),s(),r(7,"button",14),m(8),a(9,"translate"),s()()),o&2){S();let e=C(10);n(2),d(" ",c(3,5,"ACTION.BEFOR")," "),n(2),p("disabled",!e.form.valid),n(),d(" ",c(6,7,"ACTION.NEXT")," "),n(2),p("disabled",!e.form.valid),n(),d(" ",c(9,9,"ACTION.SAVE")," ")}}function Wt(o,t){if(o&1&&(r(0,"div"),f(1,"div",11),a(2,"prettyjson"),s()),o&2){let e=S();n(),p("innerHTML",c(2,1,e.dataConfigSiteAccessValuesModel),M)}}function Kt(o,t){if(o&1&&(r(0,"div",10)(1,"button",15),m(2),a(3,"translate"),s(),r(4,"button",14),m(5),a(6,"translate"),s()()),o&2){S();let e=C(10);n(2),d(" ",c(3,3,"ACTION.BEFOR")," "),n(2),p("disabled",!e.form.valid),n(),d(" ",c(6,5,"ACTION.SAVE")," ")}}var J=class J{constructor(t,e,i,u,F,U,q,Pe,Fe,I){this.configService=t;this.tokenHelper=e;this.cmsStoreService=i;this.publicHelper=u;this.coreEnumService=F;this.cmsToastrService=U;this.router=q;this.activatedRoute=Pe;this.cdr=Fe;this.translate=I;this.requestLinkSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.dataSiteStorageModel=new ot;this.dataConfigSiteValuesModel=new fe;this.dataConfigSiteAccessValuesModel=new de;this.tokenInfo=new H;this.formInfo=new Re;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.fileManagerOpenForm=!1;this.appLanguage="fa";this.mapOptonCenter=new Oe;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.onLoadDate(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>_(this,null,function*(){this.tokenInfo=t,this.onLoadDate()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}onLoadDate(){(!this.requestLinkSiteId||this.requestLinkSiteId===0)&&(this.requestLinkSiteId=this.tokenInfo.access.siteId),this.requestLinkSiteId>0&&(this.GetServiceSiteStorage(this.requestLinkSiteId),this.GetServiceSiteConfig(this.requestLinkSiteId),this.GetServiceSiteAccess(this.requestLinkSiteId))}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.requestLinkSiteId>0&&(this.SetServiceSiteConfigSave(this.requestLinkSiteId),this.tokenInfo.access.userAccessAdminAllowToProfessionalData&&(this.SetServiceSiteStorageSave(this.requestLinkSiteId),this.SetServiceSiteAccessSave(this.requestLinkSiteId)))}onStepClick(t,e){t.previouslySelectedIndex<t.selectedIndex}onActionBackToParent(){this.router.navigate(["/core/site/"])}GetServiceSiteStorage(t){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"ServiceSiteStorage";this.translate.get("MESSAGE.get_saved_module_values").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.configService.ServiceSiteStorage(t).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,i.isSuccess?this.dataSiteStorageModel=i.item:this.cmsToastrService.typeErrorGetOne(i.errorMessage),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(i),this.publicHelper.processService.processStop(e,!1)}})}SetServiceSiteStorageSave(t){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.Saving_Information_On_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"ServiceSiteStorageSave";this.translate.get("MESSAGE.Save_the_stored_values_of_the_module").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.configService.ServiceSiteStorageSave(t,this.dataSiteStorageModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,i.isSuccess?this.dataSiteStorageModel=i.item:this.cmsToastrService.typeErrorGetOne(i.errorMessage),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(i),this.publicHelper.processService.processStop(e,!1)}})}GetServiceSiteConfig(t){if(!(t&&t>0))return;this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"ServiceSiteConfig";this.translate.get("MESSAGE.get_module_setting").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.configService.ServiceSiteConfig(t).subscribe({next:i=>{i.isSuccess?this.dataConfigSiteValuesModel=i.item:this.cmsToastrService.typeErrorGetOne(i.errorMessage),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(i),this.publicHelper.processService.processStop(e,!1)}})}SetServiceSiteConfigSave(t){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.Saving_Information_On_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"ServiceSiteConfigSave";this.translate.get("MESSAGE.Save_module_setting").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.configService.ServiceSiteConfigSave(t,this.dataConfigSiteValuesModel).subscribe({next:i=>{i.isSuccess?this.dataConfigSiteValuesModel=i.item:this.cmsToastrService.typeErrorGetOne(i.errorMessage),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(i),this.publicHelper.processService.processStop(e,!1)}})}GetServiceSiteAccess(t){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"ServiceSiteAccess";this.translate.get("MESSAGE.get_module_access").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.configService.ServiceSiteAccess(t).subscribe({next:i=>{i.isSuccess?this.dataConfigSiteAccessValuesModel=i.item:this.cmsToastrService.typeErrorGetOne(i.errorMessage),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(i),this.publicHelper.processService.processStop(e,!1)}})}SetServiceSiteAccessSave(t){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.Saving_Information_On_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"ServiceSiteAccessSave";this.translate.get("MESSAGE.Save_module_access").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.configService.ServiceSiteAccessSave(t,this.dataConfigSiteAccessValuesModel).subscribe({next:i=>{i.isSuccess?this.dataConfigSiteAccessValuesModel=i.item:this.cmsToastrService.typeErrorGetOne(i.errorMessage),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(i),this.publicHelper.processService.processStop(e,!1)}})}};J.\u0275fac=function(e){return new(e||J)(l(g),l(G),l(L),l(j),l(R),l(V),l(pe),l(B),l(w),l(O))},J.\u0275cmp=E({type:J,selectors:[["app-transaction-assistant-config-site"]],viewQuery:function(e,i){if(e&1&&re(qt,5),e&2){let u;se(u=ae())&&(i.formGroup=u.first)}},standalone:!1,decls:34,vars:33,consts:[["vform","ngForm"],["stepper",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[1,"ntk-button-row"],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"]],template:function(e,i){if(e&1){let u=$();r(0,"div",2),f(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),m(4),s(),r(5,"p"),m(6),a(7,"translate"),s(),f(8,"app-cms-form-result-message",6),r(9,"form",7,0),y("ngSubmit",function(){return T(u),A(i.onFormSubmit())}),r(11,"mat-vertical-stepper",8,1),y("selectionChange",function(U){T(u);let q=C(12);return A(i.onStepClick(U,q))}),r(13,"mat-step",9),a(14,"translate"),r(15,"p"),m(16),a(17,"translate"),s(),v(18,zt,3,3,"div"),v(19,Qt,10,11,"div",10),s(),r(20,"mat-step",9),a(21,"translate"),r(22,"p"),m(23),a(24,"translate"),s(),v(25,$t,3,3,"div"),v(26,Xt,10,11,"div",10),s(),r(27,"mat-step",9),a(28,"translate"),r(29,"p"),m(30),a(31,"translate"),s(),v(32,Wt,3,3,"div"),v(33,Kt,7,7,"div",10),s()()()()()}e&2&&(n(),p("optionsInfoAreaId",i.constructorInfoAreaId),n(3),d(" ",i.formInfo.formTitle," "),n(2),d(" ",c(7,19,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),p("formInfo",i.formInfo),n(5),p("label",D(c(14,21,"TITLE.Config_Module"))),n(3),d(" ",c(17,23,"TITLE.Settings_that_the_module_applies_to_the_site")," "),n(2),h(i.tokenInfo.access.userAccessAdminAllowToProfessionalData?18:-1),n(),h(i.formInfo.submitButtonEnabled?19:-1),n(),p("label",D(c(21,25,"TITLE.Saved_Value"))),n(3),Y(c(24,27,"TITLE.Values_saved_by_the_system")),n(2),h(i.tokenInfo.access.userAccessAdminAllowToProfessionalData?25:-1),n(),h(i.formInfo.submitButtonEnabled?26:-1),n(),p("label",D(c(28,29,"TITLE.Accessibility"))),n(3),Y(c(31,31,"TITLE.This_website_accesses_this_module")),n(2),h(i.tokenInfo.access.userAccessAdminAllowToProfessionalData?32:-1),n(),h(i.formInfo.submitButtonEnabled?33:-1))},dependencies:[ve,ue,Se,he,be,Ce,ge,P,He,Le,N,Ge],encapsulation:2});var ie=J;var Jt=[{path:"",data:{title:"ROUTE.TRANSACTIONASSISTANT"},children:[{path:"mainadmin",component:Ve,data:{title:"ROUTE.TRANSACTIONASSISTANT"}},{path:"site",component:ie,data:{title:"ROUTE.TRANSACTIONASSISTANT"}},{path:"site/:LinkSiteId",component:ie,data:{title:"ROUTE.TRANSACTIONASSISTANT"}},{path:"checkuser",component:te,data:{title:"ROUTE.TRANSACTIONASSISTANT"}},{path:"checkuser/:LinkUserId",component:te,data:{title:"ROUTE.TRANSACTIONASSISTANT"}},{path:"checksite",component:Z,data:{title:"ROUTE.TRANSACTIONASSISTANT"}},{path:"checksite/:LinkSiteId",component:Z,data:{title:"ROUTE.TRANSACTIONASSISTANT"}}]}],z=class z{};z.\u0275fac=function(e){return new(e||z)},z.\u0275mod=oe({type:z}),z.\u0275inj=ne({imports:[Ue.forChild(Jt),Ue]});var je=z;var Q=class Q{};Q.\u0275fac=function(e){return new(e||Q)},Q.\u0275mod=oe({type:Q}),Q.\u0275inj=ne({providers:[et,g],imports:[Ze,rt,je,st.withConfig({warnOnNgModelWithFormControl:"never"}),at,ct]});var lt=Q;export{lt as TransactionAssistantConfigModule};
