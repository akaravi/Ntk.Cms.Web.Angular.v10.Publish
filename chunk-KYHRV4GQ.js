import{a as Ri}from"./chunk-2PX7NTZX.js";import{b as Ar}from"./chunk-54LXKPH7.js";import{a as kr}from"./chunk-JPEPX2ZJ.js";import{a as xr}from"./chunk-623VIPYL.js";import"./chunk-GLILAB5U.js";import{a as di}from"./chunk-QL2E7QPJ.js";import{a as Et}from"./chunk-GBVGAVLG.js";import{a as Mn}from"./chunk-V7Z6HMK4.js";import{a as mi}from"./chunk-QNN4UITB.js";import{a as Dt}from"./chunk-DG3HKSVR.js";import{a as wt}from"./chunk-NLQ76RSN.js";import{c as nt,d as rt,e as at,g as st,h as lt}from"./chunk-TCMGM7JT.js";import{a as Tt}from"./chunk-YOCG6G47.js";import{a as Ie}from"./chunk-2B3SHXWO.js";import{a as yt}from"./chunk-7KFNXN7X.js";import{a as De}from"./chunk-U5LBA3P3.js";import{b as Rr}from"./chunk-JZK2NPNV.js";import{a as In}from"./chunk-IBNPJYTN.js";import"./chunk-TYLEKWIH.js";import{a as bn}from"./chunk-IK5GWPQS.js";import{a as he}from"./chunk-2PGKH5NK.js";import{a as N,d as Q}from"./chunk-XHOLWZSZ.js";import{a as wi,e as ot,f as O}from"./chunk-J2UTIVMJ.js";import{$ as ln,$a as W,A as rn,Ab as $e,Bb as et,Cb as tt,Db as it,Fc as ue,Ib as Sn,Ic as fe,J as ut,Ja as Le,Jb as gn,K as qe,Ka as j,Kb as hn,Kc as B,L as We,La as q,Lb as vn,Ma as _e,Mb as _n,N as hr,Na as br,Nb as Cn,Nc as wr,O as vr,Q as an,Qb as x,Rb as V,W as Ue,Y as sn,Ya as Mr,Za as Ve,_a as Pr,a as Di,aa as cn,ba as ke,bc as _t,cc as Dr,db as yr,eb as ze,fb as Ke,hb as Je,ia as dn,ja as mn,k as gr,ka as pn,la as _r,lb as Ye,ma as un,mb as Xe,n as Se,na as fn,nb as Be,pa as Cr,q as ge,r as Pe,sa as Ir,t as ye,tb as Tr,u as Ei,ub as Ze,v as ve,vb as Oe,w as Te,wb as Ge,x as nn,xb as Fe,yb as Ne,zb as He}from"./chunk-APGLDV74.js";import{$b as Ee,Ab as en,Ad as Ii,Aq as ci,Bb as tn,Bq as Y,Ca as ie,Db as U,Eb as z,F as zo,Fa as n,Fb as K,Fd as bi,Ha as Lt,I as Ko,Id as we,Jb as k,Jc as bt,Kc as Ci,Lb as Z,Lc as F,Ld as J,Mq as Er,Oa as f,Ob as m,Od as Me,P as Jo,Pb as w,Pc as Mt,Q as Yo,Qb as h,Rb as er,Rc as mt,Sa as A,Sb as rr,Sd as Pt,Ta as $o,Td as H,Ub as T,Uc as ar,Vb as D,Vc as sr,Wa as X,Wb as E,Xb as R,Xc as lr,Xd as $,Y as Xo,Ya as b,Yb as _i,Yd as de,Ye as mr,ac as gt,bq as Jt,cq as Vt,da as p,db as si,dc as _,de as ee,dg as li,dq as Re,ea as u,ec as C,eq as Yt,fc as Vo,fq as Bt,gq as Xt,he as dr,hq as xt,ia as Zo,iq as Bo,jq as Oo,kb as d,kq as Go,lb as a,le as Mi,lq as Fo,mb as s,mq as on,nb as v,nq as ur,oq as fr,p as Qo,pq as Sr,q as Uo,qg as pr,qq as Pi,rb as P,rd as vt,rq as yi,sb as y,sd as cr,sq as Ti,tb as be,td as xe,tq as Ot,ub as M,uq as Gt,vq as Ft,wc as L,wq as pt,xb as I,xq as Nt,yq as Ht,zb as g,zd as tr,zq as Kt}from"./chunk-7HCSBQXB.js";import{i as ne}from"./chunk-SEDBTTTN.js";function Wr(o,r){if(o&1&&(a(0,"div"),v(1,"br"),a(2,"tr")(3,"td"),m(4),_(5,"translate"),s(),a(6,"td"),m(7),_(8,"currency"),s()(),v(9,"br"),a(10,"tr")(11,"td"),m(12),_(13,"translate"),s(),a(14,"td"),m(15),_(16,"currency"),s()(),v(17,"br"),a(18,"tr")(19,"td"),m(20),_(21,"translate"),s(),a(22,"td"),m(23),_(24,"currency"),s()(),v(25,"hr"),a(26,"tr")(27,"td"),m(28),_(29,"translate"),s(),a(30,"td"),m(31),_(32,"currency"),s()()()),o&2){let e=g();n(4),h("",C(5,8,"TITLE.FEETAX"),":"),n(3),h(" ",Vo(8,10,e.dataModelCalculateResult.item.feeTax," "+e.dataModelCalculateResult.item.currency+" ")," "),n(5),h("",C(13,13,"TITLE.Amount_pure"),":"),n(3),h(" ",Vo(16,15,e.dataModelCalculateResult.item.amountPure," "+e.dataModelCalculateResult.item.currency+" ")," "),n(5),h("",C(21,18,"TITLE.Fee_transport"),":"),n(3),h(" ",Vo(24,20,e.dataModelCalculateResult.item.feeTransport," "+e.dataModelCalculateResult.item.currency+" ")," "),n(5),h("",C(29,23,"TITLE.Final_Amount"),":"),n(3),h(" ",Vo(32,25,e.dataModelCalculateResult.item.amount," "+e.dataModelCalculateResult.item.currency+" ")," ")}}function Qr(o,r){if(o&1){let e=M();a(0,"div",14)(1,"button",15),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(2,"i",16),m(3),_(4,"translate"),s(),a(5,"button",17),I("click",function(){p(e);let t=g();return u(t.onActionSelectBankPayment())}),v(6,"i",18),m(7),_(8,"translate"),s()()}if(o&2){let e=g();n(3),h(" ",C(4,4,"ACTION.CANCEL")," "),n(2),d("mat-dialog-close",!0)("disabled",!e.viewCalculate),n(2),h(" ",C(8,6,"ACTION.PAYMENT")," ")}}var Ai=class Ai{constructor(r,e,i,t,l,S,c,G){this.data=r;this.document=e;this.dialogRef=i;this.cmsToastrService=t;this.dataProviderTransactionService=l;this.translate=S;this.cdr=c;this.publicHelper=G;this.requestLinkPlanPriceId=0;this.requestLinkClientId=0;this.requestBankPrivateMaster=!1;this.constructorInfoAreaId=this.constructor.name;this.viewCalculate=!1;this.dataModelResult=new H;this.dataModelCalculateResult=new H;this.dataModelPaymentResult=new H;this.dataModelCalculate=new on;this.dataModelPayment=new ur;this.formInfo=new Q;if(this.publicHelper.processService.cdr=this.cdr,r&&(r.linkPlanPriceId&&r.linkPlanPriceId>0&&(this.requestLinkPlanPriceId=r.linkPlanPriceId),r.linkClientId&&r.linkClientId>0&&(this.requestLinkClientId=r.linkClientId)),this.requestLinkPlanPriceId===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}if(this.requestLinkClientId===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.dataModelCalculate.linkPlanPriceId=this.requestLinkPlanPriceId,this.dataModelCalculate.linkClientId=this.requestLinkClientId,this.dataModelPayment.linkPlanPriceId=this.requestLinkPlanPriceId,this.dataModelPayment.linkClientId=this.requestLinkClientId,this.dataModelPayment.lastUrlAddressInUse=this.document.location.href}ngOnInit(){this.translate.get("TITLE.Select_Payment_Gateway").subscribe(r=>{this.formInfo.formTitle=r})}DataCalculate(){this.viewCalculate=!1;let r=this.constructor.name+"ServiceOrderCalculate";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.dataProviderTransactionService.ServiceOrderCalculate(this.dataModelCalculate).subscribe({next:e=>{e.isSuccess?(this.dataModelCalculateResult=e,this.viewCalculate=!0):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}DataPayment(){this.formInfo.submitButtonEnabled=!1;let r=this.constructor.name+"ServiceOrderPayment";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.dataProviderTransactionService.ServiceOrderPayment(this.dataModelPayment).subscribe({next:e=>{e.isSuccess?(this.dataModelPaymentResult=e,this.translate.get("MESSAGE.Transferring_to_the_payment_gateway").subscribe(i=>{this.cmsToastrService.typeSuccessMessage(i)}),localStorage.setItem(Er,e.item.transactionId.toString()),this.document.location.href=this.dataModelPaymentResult.item.urlToPay):(this.cmsToastrService.typeErrorMessage(e.errorMessage),this.formInfo.submitButtonEnabled=!0),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(r)}})}onActionSelectCalculate(r){this.dataModelCalculate.bankPaymentPrivateId=r.id,this.dataModelPayment.bankPaymentPrivateId=r.id,this.DataCalculate()}onActionSelectBankPayment(){this.DataPayment()}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ai.\u0275fac=function(e){return new(e||Ai)(f(q),f(Zo),f(j),f(B),f(ci),f(x),f(L),f(O))},Ai.\u0275cmp=A({type:Ai,selectors:[["app-data-provider-client-charge-payment"]],standalone:!1,decls:22,vars:8,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"example-card"],["mat-card-md-image","",3,"optionChange","optionMasterItem"],[4,"ngIf"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click","mat-dialog-close","disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){e&1&&(a(0,"div",0),v(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"a",4),I("click",function(){return i.onFormCancel()}),v(6,"i",5),s(),v(7,"hr"),s(),a(8,"div",6)(9,"p",7),m(10),s(),a(11,"mat-card",8)(12,"mat-card-header")(13,"mat-card-title"),m(14),s()(),a(15,"app-cms-bankpayment-grid",9),I("optionChange",function(l){return i.onActionSelectCalculate(l)}),s(),a(16,"mat-card-content"),b(17,Wr,33,28,"div",10),s(),a(18,"mat-card-actions")(19,"div",11),v(20,"app-cms-form-result-message",12),s(),b(21,Qr,9,8,"div",13),s()()()()),e&2&&(n(),d("optionsInfoAreaId",i.constructorInfoAreaId),n(3),w(i.formInfo.formTitle),n(6),h(" ",i.formInfo.formDescription," "),n(4),h("",i.formInfo.formTitle," "),n(),d("optionMasterItem",i.requestBankPrivateMaster),n(2),d("ngIf",i.viewCalculate),n(3),d("formInfo",i.formInfo),n(),d("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[F,dn,un,pn,fn,Cr,mn,br,N,he,kr,sr,V],styles:[".example-card[_ngcontent-%COMP%]{max-width:200px}"]});var Pn=Ai;var xi=class xi{constructor(r,e,i,t,l,S,c,G){this.headerService=r;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.dialog=l;this.translate=S;this.cmsStoreService=c;this.tokenHelper=G;this.constructorInfoAreaId=this.constructor.name;this.optionId=0;this.dataModelResult=new H;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(()=>ne(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onActionButtonLinkTo(r=this.dataModelResult.item){if(!r||!r.id||r.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(r.recordStatus!=we.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ri,{height:"90%",width:"90%",panelClass:e,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{urlViewContentQRCodeBase64:"",urlViewContent:""}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};xi.\u0275fac=function(e){return new(e||xi)(f(pt),f(O),f(L),f(B),f(_e),f(x),f(ue),f(fe))},xi.\u0275cmp=A({type:xi,selectors:[["app-data-provider-plan-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:27,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width"],[1,"td",2,"text-align","left"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(a(0,"div",0),v(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),v(6,"span",6),s(),a(7,"div",7)(8,"h5"),m(9),_(10,"translate"),s()(),v(11,"div",8),s(),a(12,"div",4)(13,"div",5),m(14),s(),a(15,"div",7),m(16),s(),v(17,"div",9)(18,"div",10),s(),a(19,"div",4)(20,"div",5),m(21),s(),a(22,"div",7),m(23),s(),v(24,"div",9)(25,"div",10),s()()()(),v(26,"div",11)),e&2&&(n(),d("optionsInfoAreaId",i.constructorInfoAreaId),n(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),n(3),w(C(10,7,"TITLE.Selected_PLAN")),n(5),h("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," :"),n(2),w(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),n(5),h(" ",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : "),n(2),w(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[N,wi,V],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var pi=xi;function Ur(o,r){if(o&1&&v(0,"app-data-provider-plan-header",8),o&2){let e=g();d("optionId",e.requestLinkClientId)}}var ki=class ki{constructor(r,e,i,t,l,S,c){this.document=r;this.activatedRoute=e;this.dialog=i;this.coreSiteService=t;this.cmsToastrService=l;this.router=S;this.translate=c;this.requestLinkClientId=0;this.constructorInfoAreaId=this.constructor.name;this.price="";this.currency="";this.viewCalculate=!1;this.dataModelCalculate=new on;this.LinkPlanPriceId=this.dataModelCalculate.linkPlanPriceId;this.requestLinkClientId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkClientId")),this.dataModelCalculate.linkClientId=this.requestLinkClientId}ngOnInit(){this.DataGetCurrency();let r=+localStorage.getItem("TransactionId");r>0&&this.dialog.open(xr,{data:{id:r}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&localStorage.removeItem("TransactionId")})}DataGetCurrency(){this.coreSiteService.ServiceGetCurrencyMaster().subscribe({next:r=>{r.isSuccess&&(this.currency=r.item)},error:r=>{this.cmsToastrService.typeError(r)}})}onActionButtonBuy(){this.dialog.open(Pn,{height:"90%",data:{LinkPlanPriceId:this.dataModelCalculate.linkPlanPriceId,LinkClientId:this.dataModelCalculate.linkClientId}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate})}onActionBackToParent(){this.router.navigate(["/data-provider/client/"])}onInputChange(r){this.price=r.target.value}};ki.\u0275fac=function(e){return new(e||ki)(f(Zo),f(vt),f(_e),f(Mi),f(B),f(xe),f(x))},ki.\u0275cmp=A({type:ki,selectors:[["app-data-provider-client-charge"]],standalone:!1,decls:23,vars:13,consts:[[3,"optionId",4,"ngIf"],[1,"row"],["Class","col-xl-12"],[1,"col"],[1,"example-card"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],[3,"optionId"]],template:function(e,i){e&1&&(b(0,Ur,1,1,"app-data-provider-plan-header",0),a(1,"div",1)(2,"div",2)(3,"div",1)(4,"div",3)(5,"mat-card",4)(6,"mat-card-header")(7,"mat-card-title"),m(8),_(9,"translate"),s(),v(10,"mat-card-subtitle"),s(),a(11,"mat-card-content")(12,"p"),v(13,"br"),m(14),s()(),a(15,"mat-card-actions")(16,"button",5),I("click",function(){return i.onActionButtonBuy()}),m(17),_(18,"translate"),s(),a(19,"button",6),I("click",function(){return i.onActionBackToParent()}),v(20,"i",7),m(21),_(22,"translate"),s()()()()()()()),e&2&&(d("ngIf",i.requestLinkClientId>0),n(8),h(" ",C(9,7,"TITLE.Amount_payable")," "),n(6),rr(" 20000 ",i.LinkPlanPriceId," ",i.price," ",i.currency," "),n(3),h(" ",C(18,9,"ACTION.BUY")," "),n(4),h(" ",C(22,11,"ACTION.BACK")," "))},dependencies:[F,dn,un,pn,fn,_r,mn,pi,V],encapsulation:2});var yn=ki;var zr=["vform"];function Kr(o,r){if(o&1){let e=M();a(0,"app-cms-enum-record-status-selector",14),E("modelChange",function(t){p(e);let l=g();return D(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),s()}if(o&2){let e=g();T("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Jr(o,r){o&1&&(a(0,"mat-error"),m(1," Title is "),a(2,"strong"),m(3),_(4,"translate"),s()()),o&2&&(n(3),w(C(4,1,"MESSAGE.required")))}function Yr(o,r){if(o&1){let e=M();a(0,"div",15)(1,"button",16),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(2,"i",17),m(3),_(4,"translate"),s(),a(5,"button",18),v(6,"i",19),m(7),_(8,"translate"),s()()}if(o&2){g();let e=k(10);n(3),h(" ",C(4,3,"ACTION.CANCEL")," "),n(2),d("disabled",!e.form.valid),n(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var Li=class Li extends yt{constructor(e,i,t,l,S,c,G,se){super(l,new Jt,c,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderClientService=l;this.cmsToastrService=S;this.publicHelper=c;this.cdr=G;this.translate=se;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new H;this.dataModel=new Jt;this.formInfo=new Q;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0,Id:i.item.id})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Li.\u0275fac=function(i){return new(i||Li)(f(q),f(j),f(ee),f(Ot),f(B),f(O),f(L),f(x))},Li.\u0275cmp=A({type:Li,selectors:[["app-data-provider-client-add"]],viewQuery:function(i,t){if(i&1&&U(zr,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[X],decls:21,vars:14,consts:[["vform","ngForm"],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=M();a(0,"div",2),v(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),m(4),s(),a(5,"p"),m(6),_(7,"translate"),s(),v(8,"app-cms-form-result-message",6),a(9,"form",7,0),I("ngSubmit",function(){return p(l),u(t.onFormSubmit())}),b(11,Kr,1,5,"app-cms-enum-record-status-selector",8),a(12,"div",9)(13,"label",10),m(14),s(),a(15,"input",11,1),E("ngModelChange",function(c){return p(l),D(t.dataModel.title,c)||(t.dataModel.title=c),u(c)}),s(),a(17,"em"),m(18),s(),b(19,Jr,5,3,"mat-error",12),s(),b(20,Yr,9,7,"div",13),s()()()}if(i&2){let l=k(16);n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),h(" ",t.formInfo.formTitle," "),n(2),h(" ",C(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("formInfo",t.formInfo),n(3),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(3),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),n(3),h("",l.value.length," / 100"),n(),d("ngIf",l.errors==null?null:l.errors.required),n(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[F,Te,Se,ge,Pe,qe,We,ve,ye,Ue,W,De,N,he,V],encapsulation:2});var Tn=Li;var Xr=["vform"];function Zr(o,r){if(o&1){let e=M();a(0,"div",9)(1,"button",10),I("click",function(){p(e);let t=g();return u(t.onFormDelete())}),v(2,"i",11),m(3),_(4,"translate"),s(),a(5,"button",12),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(6,"i",13),m(7),_(8,"translate"),s()()}if(o&2){let e=g();n(),d("disabled",!e.formInfo.submitButtonEnabled),n(2),h(" ",C(4,3,"ACTION.DELETE")," "),n(4),h(" ",C(8,5,"ACTION.CANCEL")," ")}}var Vi=class Vi{constructor(r,e,i,t,l,S,c){this.data=r;this.dialogRef=e;this.publicHelper=i;this.dataProviderClientService=t;this.cdr=l;this.translate=S;this.cmsToastrService=c;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new H;this.formInfo=new Q;this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=+r.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.dataProviderClientService.setAccessLoad(),this.dataProviderClientService.setAccessDataType(Me.Editor),this.dataProviderClientService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(r)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.dataProviderClientService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(r)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(r)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vi.\u0275fac=function(e){return new(e||Vi)(f(q),f(j),f(O),f(Ot),f(L),f(x),f(B))},Vi.\u0275cmp=A({type:Vi,selectors:[["app-data-provider-client-delete"]],viewQuery:function(e,i){if(e&1&&U(Xr,5),e&2){let t;z(t=K())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:10,consts:[["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","title",1,"color-highlight"],["matInput","","name","title","type","text","required","","readonly","","id","title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){if(e&1){let t=M();a(0,"div",1),v(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),m(4),s(),a(5,"p"),m(6),_(7,"translate"),s(),a(8,"div",5)(9,"label",6),m(10),s(),a(11,"input",7,0),E("ngModelChange",function(S){return p(t),D(i.dataModelResultContent.item.title,S)||(i.dataModelResultContent.item.title=S),u(S)}),s()(),b(13,Zr,9,7,"div",8),s()()}e&2&&(n(),d("optionsInfoAreaId",i.constructorInfoAreaId),n(3),h(" ",i.formInfo.formTitle," "),n(2),h(" ",C(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),n(),d("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModelResultContent.item.title),n(2),d("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[F,Se,ge,ut,ve,W,N,V],encapsulation:2});var Dn=Vi;function $r(o,r){if(o&1){let e=M();a(0,"li")(1,"mat-checkbox",1),I("change",function(){let t=p(e).$implicit,l=g();return u(l.onActionSelect(t))}),m(2),s()()}if(o&2){let e=r.$implicit,i=g();n(),d("checked",i.fieldsStatus.get(e.id))("disabled",i.optionDisabled),n(),h(" ",e.title," ")}}var Bi=class Bi{constructor(r,e,i,t,l,S){this.coreEnumService=r;this.categoryService=e;this.cdr=i;this.publicHelper=t;this.translate=l;this.cmsToastrService=S;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new H;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new Ei;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new Lt;this.optionSelectAdded=new Lt;this.optionSelectRemoved=new Lt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(r){this.onActionSelectForce(r),this.onActionReSelect()}ngOnInit(){this.DataGetAll()}DataGetAll(){let r=new de;r.rowPerPage=50,r.accessLoad=!0;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(r).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataModelResult.listItems.forEach(t=>this.fieldsStatus.set(t.id,!1)),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0)),this.dataModelResult.listItems.forEach(t=>{this.fieldsStatus.get(t.id)&&this.dataModelSelect.push(t)})):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelect(r){this.fieldsStatus.get(r.id)?(this.fieldsStatus.set(r.id,!1),this.optionSelectRemoved.emit(r),this.dataModelSelect.splice(this.dataModelSelect.indexOf(r),1)):(this.fieldsStatus.set(r.id,!0),this.optionSelectAdded.emit(r),this.dataModelSelect.push(r)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(r){typeof r==typeof Array(Number)?r.forEach(e=>{this.dataIdsSelect.push(e)}):typeof r==typeof Array(Re)&&r.forEach(e=>{this.dataIdsSelect.push(e.id)}),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){this.DataGetAll()}onActionReSelect(){this.dataModelResult.listItems.forEach(r=>this.fieldsStatus.set(r.id,!1)),this.dataIdsSelect.forEach(r=>this.fieldsStatus.set(r,!0)),this.dataModelResult.listItems.forEach(r=>{this.fieldsStatus.get(r.id)&&this.dataModelSelect.push(r)})}};Bi.\u0275fac=function(e){return new(e||Bi)(f(ee),f(pt),f(L),f(O),f(x),f(B))},Bi.\u0275cmp=A({type:Bi,selectors:[["app-data-provider-plan-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(e,i){e&1&&(a(0,"ul"),b(1,$r,3,3,"li",0),s()),e&2&&(n(),d("ngForOf",i.dataModelResult.listItems))},dependencies:[Ci,Ir],encapsulation:2});var Oi=Bi;var ea=["vform"];function ta(o,r){if(o&1){let e=M();a(0,"app-cms-enum-record-status-selector",18),E("modelChange",function(t){p(e);let l=g();return D(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),s()}if(o&2){let e=g();T("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ia(o,r){o&1&&(a(0,"mat-error"),m(1," Title is "),a(2,"strong"),m(3),_(4,"translate"),s()()),o&2&&(n(3),w(C(4,1,"MESSAGE.required")))}function oa(o,r){if(o&1){let e=M();a(0,"div",19)(1,"button",20),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(2,"i",21),m(3),_(4,"translate"),s(),a(5,"button",22),v(6,"i",23),m(7),_(8,"translate"),s()()}if(o&2){g();let e=k(10);n(3),h(" ",C(4,3,"ACTION.CANCEL")," "),n(2),d("disabled",!e.form.valid),n(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var Gi=class Gi extends Tt{constructor(e,i,t,l,S,c,G,se,je,St,At,It,gu){super(l,new Jt,c,It);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderClientService=l;this.cmsToastrService=S;this.publicHelper=c;this.cdr=G;this.cmsStoreService=se;this.router=je;this.cmsConfirmationDialogService=St;this.dataProviderPlanClientService=At;this.translate=It;this.tokenHelper=gu;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.unsubscribe=[];this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Pt;this.dataModel=new Jt;this.formInfo=new Q;this.fileManagerOpenForm=!1;this.dataCoreCpMainMenuIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState($n=>$n.tokenInfoStore).subscribe($n=>ne(this,null,function*(){this.tokenInfo=$n})))}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientService.setAccessLoad(),this.dataProviderClientService.setAccessDataType(Me.Editor),this.dataProviderClientService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.DataGetAllPlanClient()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}DataGetAllPlanClient(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Getting_access_category_from_the_server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)});let i=new de,t=new $;t.propertyName="LinkClientId",t.value=this.requestId,i.filters.push(t),this.dataProviderPlanClientService.ServiceGetAll(i).subscribe({next:l=>{this.dataCoreCpMainMenuCmsUserGroupModel=l.listItems;let S=[];this.dataCoreCpMainMenuCmsUserGroupModel.forEach(c=>{S.push(c.linkPlanId)}),this.dataCoreCpMainMenuIds=S,l.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.submitResultMessage=c}),this.formInfo.submitResultMessage=l.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorPlanSelect(e){this.dataCoreCpMainMenuModel=e}onActionSelectorPlanSelectAdded(e){if(!this.tokenInfo.access.userAccessAdminAllowToProfessionalData){let S=[];this.dataCoreCpMainMenuIds.forEach(c=>{c!=e.id&&S.push(c)}),setTimeout(()=>this.dataCoreCpMainMenuIds=S,1e3);var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Would_you_like_to_buy_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Would_you_like_to_buy_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let G=this.constructor.name+"main";this.router.navigate(["/data-provider/client-charge/",e.id]),this.dialogRef.close({dialogChangedDate:!1})}});return}let l=new Vt;l.linkPlanId=e.id,l.linkClientId=this.dataModel.id,this.dataProviderPlanClientService.ServiceAdd(l).subscribe({next:S=>{if(S.isSuccess)this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(c=>{this.formInfo.submitResultMessage=c}),this.cmsToastrService.typeSuccessEdit();else{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(G=>{this.formInfo.submitResultMessage=G}),this.formInfo.submitResultMessage=S.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(S.errorMessage);let c=[];this.dataCoreCpMainMenuIds.forEach(G=>{G!=e.id&&c.push(G)}),setTimeout(()=>this.dataCoreCpMainMenuIds=c,1e3)}},error:S=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(S)}})}onActionSelectorPlanSelectRemoved(e){if(!this.tokenInfo.access.userAccessAdminAllowToProfessionalData){let t=[];this.dataCoreCpMainMenuIds.forEach(l=>{t.push(l)}),t.indexOf(e.id)<0&&t.push(e.id),setTimeout(()=>this.dataCoreCpMainMenuIds=t,1e3),this.cmsToastrService.typeErrorAccessDelete();return}let i=new Vt;i.linkPlanId=e.id,i.linkClientId=this.dataModel.id,this.dataProviderPlanClientService.ServiceDeleteEntity(i).subscribe({next:t=>{if(t.isSuccess)this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit();else{let l=[];this.dataCoreCpMainMenuIds.forEach(S=>{l.push(S)}),l.indexOf(e.id)<0&&l.push(e.id),setTimeout(()=>this.dataCoreCpMainMenuIds=l,1e3),this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(S=>{this.formInfo.submitResultMessage=S}),this.formInfo.submitResultMessage=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)}},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}};Gi.\u0275fac=function(i){return new(i||Gi)(f(q),f(j),f(ee),f(Ot),f(B),f(O),f(L),f(ue),f(xe),f(bn),f(Ft),f(x),f(fe))},Gi.\u0275cmp=A({type:Gi,selectors:[["app-data-provider-client-edit"]],viewQuery:function(i,t){if(i&1&&U(ea,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[X],decls:27,vars:20,consts:[["vform","ngForm"],["Id",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.id",1,"color-highlight"],["matInput","","type","id","name","dataModel.Id","type","text","id","dataModel.id",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=M();a(0,"div",3),v(1,"app-progress-spinner",4),a(2,"div",5)(3,"p",6),m(4),s(),a(5,"p"),m(6),_(7,"translate"),s(),v(8,"app-cms-form-result-message",7),a(9,"form",8,0),I("ngSubmit",function(){return p(l),u(t.onFormSubmit())}),b(11,ta,1,5,"app-cms-enum-record-status-selector",9),a(12,"div",10)(13,"label",11),m(14),s(),a(15,"input",12,1),E("ngModelChange",function(c){return p(l),D(t.dataModel.id,c)||(t.dataModel.id=c),u(c)}),s()(),a(17,"div",10)(18,"label",13),m(19),s(),a(20,"input",14,2),E("ngModelChange",function(c){return p(l),D(t.dataModel.title,c)||(t.dataModel.title=c),u(c)}),s(),a(22,"em"),m(23),s(),b(24,ia,5,3,"mat-error",15),s(),a(25,"app-data-provider-plan-selectionlist",16),I("optionChange",function(c){return p(l),u(t.onActionSelectorPlanSelect(c))})("optionSelectAdded",function(c){return p(l),u(t.onActionSelectorPlanSelectAdded(c))})("optionSelectRemoved",function(c){return p(l),u(t.onActionSelectorPlanSelectRemoved(c))}),s(),b(26,oa,9,7,"div",17),s()()()}if(i&2){let l=k(21);n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),h(" ",t.formInfo.formTitle," "),n(2),h(" ",C(7,18,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("formInfo",t.formInfo),n(3),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(3),w(t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle)),T("ngModel",t.dataModel.id),n(4),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),n(3),h("",l.value.length," / 100"),n(),d("ngIf",l.errors==null?null:l.errors.required),n(),d("optionSelectForce",t.dataCoreCpMainMenuIds)("optionDisabled",!1),n(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[F,Te,Se,ge,Pe,qe,We,ve,ye,Ue,W,De,N,he,Oi,V],encapsulation:2});var No=Gi;var ra=["*"];function aa(o,r){if(o&1&&(a(0,"label",14),m(1),s()),o&2){let e=g();d("for",_i("app-cms-site-selector-",e.id)),n(),w(e.optionLabel)}}function sa(o,r){if(o&1&&(v(0,"img",15),_(1,"cmsthumbnail")),o&2){let e=g();d("src",R(C(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),ie)}}function la(o,r){if(o&1&&(v(0,"img",15),_(1,"cmsthumbnail")),o&2){let e=g().$implicit;d("src",R(C(1,2,e.linkMainImageIdSrc)),ie)}}function ca(o,r){if(o&1&&(a(0,"mat-option",16),b(1,la,2,4,"img",5),a(2,"span"),m(3),s()()),o&2){let e=r.$implicit,i=g();d("value",e)("disabled",i.optionDisabled),n(),d("ngIf",e.linkMainImageIdSrc),n(2),w(i.displayOption(e))}}function da(o,r){o&1&&v(0,"i",17)}function ma(o,r){o&1&&v(0,"i",18)}function pa(o,r){if(o&1){let e=M();a(0,"i",19),I("click",function(){p(e);let t=g();return u(t.onActionSelectClear())}),s()}}function ua(o,r){o&1&&(a(0,"em"),m(1),_(2,"translate"),s()),o&2&&(n(),h("(",C(2,1,"TITLE.Necessary"),")"))}var ui=class ui{constructor(r,e,i,t,l){this.coreEnumService=r;this.cdr=e;this.publicHelper=i;this.translate=t;this.categoryService=l;this.id=++ui.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new H;this.dataModelSelect=new xt;this.formControl=new Ei;this.optionPlaceholder="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionLabel="";this.optionChange=new Lt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(r){this.onActionSelectForce(r)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Jo(""),zo(1500),Ko(),Yo(r=>typeof r=="string"||typeof r=="number"?this.DataGetAll(r||""):[]))}displayFn(r){return r?r.title:void 0}displayOption(r){return r?r.title:void 0}DataGetAll(r){return ne(this,null,function*(){let e=new de;e.rowPerPage=20,e.accessLoad=!0;let i=new $;i.propertyName="title",i.value=r,i.searchType=bi.Contains,i.clauseType=Ii.Or,e.filters.push(i),r&&typeof+r=="number"&&+r>0&&(i=new $,i.propertyName="id",i.value=r,i.searchType=bi.Equal,i.clauseType=Ii.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield Qo(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(r){this.dataModelSelect=r,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(r){return this.filteredOptions.pipe(Uo(e=>(e.find(i=>i.id===r.id)||e.push(r),e)))}onActionSelectForce(r){if(typeof r=="number"&&r>0){if(this.dataModelSelect&&this.dataModelSelect.id===r)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===r)){let e=this.dataModelResult.listItems.find(i=>i.id===r);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(r).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof r==typeof xt){this.filteredOptions=this.push(r),this.dataModelSelect=r,this.formControl.setValue(r);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new xt,this.loadOptions()}};ui.nextId=0,ui.\u0275fac=function(e){return new(e||ui)(f(ee),f(L),f(O),f(x),f(Gt))},ui.\u0275cmp=A({type:ui,selectors:[["app-data-provider-plan-category-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:ra,decls:18,vars:25,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=M();en(),a(0,"div",1),v(1,"app-progress-spinner",2),b(2,aa,2,3,"label",3),a(3,"span",4),b(4,sa,2,4,"img",5),m(5," \xA0"),s(),v(6,"input",6),a(7,"mat-autocomplete",7,0),I("optionSelected",function(S){return p(t),u(i.onActionSelect(S.option.value))}),b(9,ca,4,4,"mat-option",8),_(10,"async"),s(),b(11,da,1,0,"i",9)(12,ma,1,0,"i",10)(13,pa,1,0,"i",11),a(14,"i",12),_(15,"translate"),I("click",function(){return p(t),u(i.onActionButtonReload())}),s(),b(16,ua,3,3,"em",13),tn(17),s()}if(e&2){let t=k(8);n(),d("optionsInfoAreaId",i.constructorInfoAreaId),n(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),n(2),d("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),n(2),d("placeholder",R(i.optionPlaceholder))("id",_i("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),si("disabled",i.optionDisabled?!0:null),n(),d("displayWith",i.displayFn),n(2),d("ngForOf",C(10,21,i.filteredOptions)),n(2),d("ngIf",!i.formControl.valid),n(),d("ngIf",i.optionRequired&&i.formControl.valid),n(),d("ngIf",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),n(),Z("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),d("title",R(C(15,23,"ACTION.RELOAD"))),n(2),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id<=0))}},dependencies:[Ci,F,Se,ge,ut,rn,ln,an,cn,sn,W,N,mt,V,Ie],encapsulation:2});var Ct=ui;var fa=["vform"];function Sa(o,r){if(o&1){let e=M();a(0,"app-cms-enum-record-status-selector",23),E("modelChange",function(t){p(e);let l=g();return D(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),s()}if(o&2){let e=g();T("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ga(o,r){o&1&&(a(0,"mat-error"),m(1," Title is "),a(2,"strong"),m(3),_(4,"translate"),s()()),o&2&&(n(3),w(C(4,1,"MESSAGE.required")))}function ha(o,r){o&1&&(a(0,"mat-error"),m(1," Description is "),a(2,"strong"),m(3),_(4,"translate"),s()()),o&2&&(n(3),w(C(4,1,"MESSAGE.required")))}function va(o,r){if(o&1&&(v(0,"img",24),_(1,"cmsthumbnail")),o&2){let e=g();d("src",R(C(1,2,e.dataModel.linkMainImageIdSrc)),ie)}}function _a(o,r){if(o&1){let e=M();a(0,"div",12)(1,"label",25),I("click",function(){p(e);let t=g();return u(t.fileManagerOpenForm=!0)}),m(2),_(3,"translate"),s(),a(4,"input",26,3),_(6,"translate"),E("ngModelChange",function(t){p(e);let l=g();return D(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),u(t)}),I("click",function(){p(e);let t=g();return u(t.fileManagerOpenForm=!0)}),s(),a(7,"cms-file-manager",27),I("itemSelected",function(t){p(e);let l=g();return u(l.onActionFileSelected(t))}),E("openFormChange",function(t){p(e);let l=g();return D(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),u(t)}),s()()}if(o&2){let e=g();n(2),w(C(3,12,"TITLE.Icon_File")),n(2),d("placeholder",R(C(6,14,"TITLE.Original_File_ID"))),T("ngModel",e.dataModel.linkMainImageId),n(3),d("language",e.appLanguage)("isPopup",!0),T("openForm",e.fileManagerOpenForm),d("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Ca(o,r){if(o&1){let e=M();a(0,"div",28)(1,"button",29),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(2,"i",30),m(3),_(4,"translate"),s(),a(5,"button",31),v(6,"i",32),m(7),_(8,"translate"),s()()}if(o&2){g();let e=k(10);n(3),h(" ",C(4,3,"ACTION.CANCEL")," "),n(2),d("disabled",!e.form.valid),n(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var Fi=class Fi extends yt{constructor(e,i,t,l,S,c,G,se){super(l,new Re,c,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanService=l;this.cmsToastrService=S;this.publicHelper=c;this.cdr=G;this.translate=se;this.requestLinkPlanCategoryId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new H;this.dataModel=new Re;this.formInfo=new Q;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkPlanCategoryId=+e.linkPlanCategoryId||0),this.requestLinkPlanCategoryId>0&&(this.dataModel.linkPlanCategoryId=this.requestLinkPlanCategoryId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||e.id<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanCategoryId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Fi.\u0275fac=function(i){return new(i||Fi)(f(q),f(j),f(ee),f(pt),f(B),f(O),f(L),f(x))},Fi.\u0275cmp=A({type:Fi,selectors:[["app-data-provider-plan-add"]],viewQuery:function(i,t){if(i&1&&U(fa,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[X],decls:37,vars:30,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=M();a(0,"div",4),v(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),m(4),s(),a(5,"p"),m(6),_(7,"translate"),s(),v(8,"app-cms-form-result-message",8),a(9,"form",9,0),I("ngSubmit",function(){return p(l),u(t.onFormSubmit())}),b(11,Sa,1,5,"app-cms-enum-record-status-selector",10),a(12,"app-data-provider-plan-category-selector",11),_(13,"translate"),I("optionChange",function(c){return p(l),u(t.onActionSelectorSelect(c))}),s(),a(14,"div",12)(15,"label",13),m(16),s(),a(17,"input",14,1),E("ngModelChange",function(c){return p(l),D(t.dataModel.title,c)||(t.dataModel.title=c),u(c)}),s(),a(19,"em"),m(20),s(),b(21,ga,5,3,"mat-error",15),s(),a(22,"div",12)(23,"label",16),m(24),s(),a(25,"textarea",17,2),E("ngModelChange",function(c){return p(l),D(t.dataModel.description,c)||(t.dataModel.description=c),u(c)}),m(27,"        "),s(),a(28,"em"),m(29),s(),b(30,ha,5,3,"mat-error",15),s(),a(31,"div",18)(32,"a",19),_(33,"cmsthumbnail"),b(34,va,2,4,"img",20),s()(),b(35,_a,8,16,"div",21)(36,Ca,9,7,"div",22),s()()()}if(i&2){let l=k(18),S=k(26);n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),h(" ",t.formInfo.formTitle," "),n(2),h(" ",C(7,24,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("formInfo",t.formInfo),n(3),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),d("optionSelectForce",t.dataModel.linkPlanCategoryId)("optionPlaceholder",C(13,26,"TITLE.Category")),n(4),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),n(3),h("",l.value.length," / 100"),n(),d("ngIf",l.errors==null?null:l.errors.required),n(3),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),n(4),h("",S.value.length," / 500"),n(),d("ngIf",S.errors==null?null:S.errors.required),n(2),d("href",R(C(33,28,t.dataModel.linkMainImageIdSrc)),ie),n(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),n(),d("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),n(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[F,Te,Se,ge,Pe,qe,We,ve,ye,Ue,W,De,N,he,_t,Ct,V,Ie],encapsulation:2});var Ni=Fi;var Ia=["vform"];function ba(o,r){if(o&1){let e=M();a(0,"div",9)(1,"button",10),I("click",function(){p(e);let t=g();return u(t.onFormDelete())}),v(2,"i",11),m(3),_(4,"translate"),s(),a(5,"button",12),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(6,"i",13),m(7),_(8,"translate"),s()()}if(o&2){let e=g();n(),d("disabled",!e.formInfo.submitButtonEnabled),n(2),h(" ",C(4,3,"ACTION.DELETE")," "),n(4),h(" ",C(8,5,"ACTION.CANCEL")," ")}}var Hi=class Hi{constructor(r,e,i,t,l,S,c){this.data=r;this.dialogRef=e;this.publicHelper=i;this.dataProviderPlanService=t;this.cdr=l;this.translate=S;this.cmsToastrService=c;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new H;this.formInfo=new Q;this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=+r.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.dataProviderPlanService.setAccessLoad(),this.dataProviderPlanService.setAccessDataType(Me.Editor),this.dataProviderPlanService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(r)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.dataProviderPlanService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(r)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(r)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Hi.\u0275fac=function(e){return new(e||Hi)(f(q),f(j),f(O),f(pt),f(L),f(x),f(B))},Hi.\u0275cmp=A({type:Hi,selectors:[["app-data-provider-plan-delete"]],viewQuery:function(e,i){if(e&1&&U(Ia,5),e&2){let t;z(t=K())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:10,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","readonly","","id","dataModelResultContent.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){if(e&1){let t=M();a(0,"div",1),v(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),m(4),s(),a(5,"p"),m(6),_(7,"translate"),s(),a(8,"div",5)(9,"label",6),m(10),s(),a(11,"input",7,0),E("ngModelChange",function(S){return p(t),D(i.dataModelResultContent.item.title,S)||(i.dataModelResultContent.item.title=S),u(S)}),s()(),b(13,ba,9,7,"div",8),s()()}e&2&&(n(),d("optionsInfoAreaId",i.constructorInfoAreaId),n(3),h(" ",i.formInfo.formTitle," "),n(2),h(" ",C(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),n(),d("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModelResultContent.item.title),n(2),d("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[F,Se,ge,ut,ve,W,N,V],encapsulation:2});var ji=Hi;var Ma=["vform"];function Pa(o,r){if(o&1){let e=M();a(0,"app-cms-enum-record-status-selector",23),E("modelChange",function(t){p(e);let l=g();return D(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),s()}if(o&2){let e=g();T("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ya(o,r){o&1&&(a(0,"mat-error"),m(1," Title is "),a(2,"strong"),m(3),_(4,"translate"),s()()),o&2&&(n(3),w(C(4,1,"MESSAGE.required")))}function Ta(o,r){o&1&&(a(0,"mat-error"),m(1," Description is "),a(2,"strong"),m(3),_(4,"translate"),s()()),o&2&&(n(3),w(C(4,1,"MESSAGE.required")))}function Da(o,r){if(o&1&&(v(0,"img",24),_(1,"cmsthumbnail")),o&2){let e=g();d("src",R(C(1,2,e.dataModel.linkMainImageIdSrc)),ie)}}function Ea(o,r){if(o&1){let e=M();a(0,"div",12)(1,"label",25),I("click",function(){p(e);let t=g();return u(t.fileManagerOpenForm=!0)}),m(2),_(3,"translate"),s(),a(4,"input",26,3),_(6,"translate"),E("ngModelChange",function(t){p(e);let l=g();return D(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),u(t)}),I("click",function(){p(e);let t=g();return u(t.fileManagerOpenForm=!0)}),s(),a(7,"cms-file-manager",27),I("itemSelected",function(t){p(e);let l=g();return u(l.onActionFileSelected(t))}),E("openFormChange",function(t){p(e);let l=g();return D(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),u(t)}),s()()}if(o&2){let e=g();n(2),w(C(3,12,"TITLE.Icon_File")),n(2),d("placeholder",R(C(6,14,"TITLE.Original_File_ID"))),T("ngModel",e.dataModel.linkMainImageId),n(3),d("language",e.appLanguage)("isPopup",!0),T("openForm",e.fileManagerOpenForm),d("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function wa(o,r){if(o&1){let e=M();a(0,"div",28)(1,"button",29),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(2,"i",30),m(3),_(4,"translate"),s(),a(5,"button",31),v(6,"i",32),m(7),_(8,"translate"),s()()}if(o&2){g();let e=k(10);n(3),h(" ",C(4,3,"ACTION.CANCEL")," "),n(2),d("disabled",!e.form.valid),n(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var qi=class qi extends Tt{constructor(e,i,t,l,S,c,G,se){super(l,new Re,c,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanService=l;this.cmsToastrService=S;this.publicHelper=c;this.cdr=G;this.translate=se;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Pt;this.dataModel=new Re;this.formInfo=new Q;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanService.setAccessLoad(),this.dataProviderPlanService.setAccessDataType(Me.Editor),this.dataProviderPlanService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||e.id<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanCategoryId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};qi.\u0275fac=function(i){return new(i||qi)(f(q),f(j),f(ee),f(pt),f(B),f(O),f(L),f(x))},qi.\u0275cmp=A({type:qi,selectors:[["app-data-provider-plan-edit"]],viewQuery:function(i,t){if(i&1&&U(Ma,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[X],decls:37,vars:30,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=M();a(0,"div",4),v(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),m(4),s(),a(5,"p"),m(6),_(7,"translate"),s(),v(8,"app-cms-form-result-message",8),a(9,"form",9,0),I("ngSubmit",function(){return p(l),u(t.onFormSubmit())}),b(11,Pa,1,5,"app-cms-enum-record-status-selector",10),a(12,"app-data-provider-plan-category-selector",11),_(13,"translate"),I("optionChange",function(c){return p(l),u(t.onActionSelectorSelect(c))}),s(),a(14,"div",12)(15,"label",13),m(16),s(),a(17,"input",14,1),E("ngModelChange",function(c){return p(l),D(t.dataModel.title,c)||(t.dataModel.title=c),u(c)}),s(),a(19,"em"),m(20),s(),b(21,ya,5,3,"mat-error",15),s(),a(22,"div",12)(23,"label",16),m(24),s(),a(25,"textarea",17,2),E("ngModelChange",function(c){return p(l),D(t.dataModel.description,c)||(t.dataModel.description=c),u(c)}),m(27,"        "),s(),a(28,"em"),m(29),s(),b(30,Ta,5,3,"mat-error",15),s(),a(31,"div",18)(32,"a",19),_(33,"cmsthumbnail"),b(34,Da,2,4,"img",20),s()(),b(35,Ea,8,16,"div",21)(36,wa,9,7,"div",22),s()()()}if(i&2){let l=k(18),S=k(26);n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),h(" ",t.formInfo.formTitle," "),n(2),h(" ",C(7,24,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("formInfo",t.formInfo),n(3),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),d("optionSelectForce",t.dataModel.linkPlanCategoryId)("optionPlaceholder",C(13,26,"TITLE.Category")),n(4),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),n(3),h("",l.value.length," / 100"),n(),d("ngIf",l.errors==null?null:l.errors.required),n(3),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),n(4),h("",S.value.length," / 500"),n(),d("ngIf",S.errors==null?null:S.errors.required),n(2),d("href",R(C(33,28,t.dataModel.linkMainImageIdSrc)),ie),n(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),n(),d("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),n(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[F,Te,Se,ge,Pe,qe,We,ve,ye,Ue,W,De,N,he,_t,Ct,V,Ie],encapsulation:2});var Wi=qi;function xa(o,r){if(o&1){let e=M();a(0,"button",14),I("click",function(){p(e);let t=g();return u(t.onActionAdd())}),m(1),_(2,"translate"),s()}o&2&&(n(),h(" ",C(2,1,"ACTION.ADD")," "))}function ka(o,r){if(o&1){let e=M();a(0,"button",15),I("click",function(){p(e);let t=g();return u(t.onActionEdit())}),m(1),_(2,"translate"),s()}o&2&&(n(),h(" ",C(2,1,"ACTION.EDIT")," "))}function La(o,r){if(o&1){let e=M();a(0,"button",16),I("click",function(){p(e);let t=g();return u(t.onActionDelete())}),m(1),_(2,"translate"),s()}o&2&&(n(),h(" ",C(2,1,"ACTION.DELETE")," "))}function Va(o,r){if(o&1){let e=M();a(0,"button",17),I("click",function(){p(e);let t=g();return u(t.onActionButtonReload())}),a(1,"mat-icon",18),_(2,"translate"),m(3,"refresh"),s()()}if(o&2){let e=g();n(),Z("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),d("title",R(C(2,4,"ACTION.RELOAD")))}}function Ba(o,r){if(o&1){let e=M();a(0,"mat-tree-node",19),v(1,"button",20),a(2,"span",21),I("click",function(){let t=p(e).$implicit,l=g();return u(l.onActionSelect(t))}),m(3),s()()}if(o&2){let e=r.$implicit,i=g();Z("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===e.id),n(3),w(e.title)}}function Oa(o,r){if(o&1){let e=M();a(0,"mat-tree-node",22)(1,"button",23)(2,"mat-icon",24),m(3),s()(),a(4,"span",21),I("click",function(){let t=p(e).$implicit,l=g();return u(l.onActionSelect(t))}),m(5),s()()}if(o&2){let e=r.$implicit,i=g(),t=k(12);Z("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===e.id),d("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),n(),si("type","button")("aria-label","Toggle "+e.title),n(2),h(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),n(2),w(e.title)}}var Qi=class Qi{constructor(r,e,i,t,l,S,c,G,se){this.cmsToastrService=r;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=l;this.publicHelper=S;this.tokenHelper=c;this.cmsStoreService=G;this.translate=se;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Re;this.dataModelResult=new H;this.filterModel=new de;this.dataSource=new Cn;this.optionChange=new Lt;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(r,e)=>null;this.childrenAccessor=r=>null;this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(r){this.onActionSelectForce(r)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(()=>ne(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onActionSelect(r){this.dataModelSelect=r,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Re,this.DataGetAll()}onActionSelectForce(r){}onActionAdd(){let r=0;this.dataModelSelect&&this.dataModelSelect.id>0&&(r=this.dataModelSelect.id);let e=new Le;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={parentId:r},this.dialog.open(Ni,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let r=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(r=this.dataModelSelect.id),r===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Wi,{height:"90%",panelClass:e,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{id:r}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let r=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(r=this.dataModelSelect.id),r===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ji,{height:"90%",panelClass:e,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{id:r}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};Qi.\u0275fac=function(e){return new(e||Qi)(f(B),f(ee),f(pt),f(_e),f(L),f(O),f(fe),f(ue),f(x))},Qi.\u0275cmp=A({type:Qi,selectors:[["app-data-provider-plan-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),P(1,2),m(2),_(3,"translate"),y(),P(4,3),b(5,xa,3,3,"button",4)(6,ka,3,3,"button",5)(7,La,3,3,"button",6)(8,Va,4,6,"button",7),y(),P(9,8),v(10,"app-progress-spinner",9),a(11,"mat-tree",10,0),b(13,Ba,4,3,"mat-tree-node",11)(14,Oa,6,8,"mat-tree-node",12),s(),y(),be(15,13),s()),e&2&&(d("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),n(2),h(" ",C(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),n(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),n(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),n(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow)&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),n(),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),n(2),d("optionsInfoAreaId",i.constructorInfoAreaId),n(),d("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),n(3),d("matTreeNodeDefWhen",i.hasChild))},dependencies:[F,ke,Ve,gn,hn,_n,vn,Sn,N,Mn,V],encapsulation:2});var Ui=Qi;var Ga=()=>["expandedTitle"],Fa=()=>["expandedDetail"],Na=()=>[5,10,20,100],Gr=o=>({display:o});function Ha(o,r){if(o&1){let e=M();a(0,"div",18)(1,"a",45),I("click",function(){p(e);let t=g();return u(t.onActionButtonNewRow())}),v(2,"i",46)(3,"br"),s(),a(4,"p",21),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.ADD")," "))}function ja(o,r){if(o&1){let e=M();a(0,"div",18)(1,"a",47),I("click",function(){p(e);let t=g();return u(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",48)(3,"br"),s(),a(4,"p",21),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function qa(o,r){if(o&1){let e=M();a(0,"div",18)(1,"a",49),I("click",function(){p(e);let t=g();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",50)(3,"br"),s(),a(4,"p",21),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function Wa(o,r){if(o&1){let e=M();a(0,"div",18)(1,"a",19),I("click",function(){p(e);let t=g();return u(t.onActionButtonTransactionList(t.tableRowSelected))}),v(2,"i",51)(3,"br"),s(),a(4,"p",21),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.TRANSACTIONS")," "))}function Qa(o,r){if(o&1){let e=M();a(0,"div",18)(1,"a",19),I("click",function(){p(e);let t=g();return u(t.onActionButtonDataRow(t.tableRowSelected))}),v(2,"i",52)(3,"br"),s(),a(4,"p",21),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.DATA")," "))}function Ua(o,r){if(o&1){let e=M();a(0,"div",18)(1,"a",19),I("click",function(){p(e);let t=g();return u(t.onActionButtonClientList(t.tableRowSelected))}),v(2,"i",53)(3,"br"),s(),a(4,"p",21),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.CLIENT")," "))}function za(o,r){o&1&&(a(0,"mat-header-cell"),m(1),_(2,"translate"),s()),o&2&&(n(),h(" ",C(2,1,"TITLE.MENU")," "))}function Ka(o,r){if(o&1){let e=M();a(0,"mat-cell")(1,"button",54),I("click",function(){let t=p(e).$implicit,l=g();return u(l.onActionTableRowSelectActionMenu(t))}),v(2,"i",55),s()()}}function Ja(o,r){o&1&&(a(0,"mat-header-cell",56),m(1),_(2,"translate"),s()),o&2&&(n(),h(" ",C(2,1,"TITLE.PICTURE")," "))}function Ya(o,r){if(o&1&&(v(0,"img",58),_(1,"cmsthumbnail")),o&2){let e=g().$implicit;d("src",R(C(1,2,e.linkMainImageIdSrc)),ie)}}function Xa(o,r){if(o&1&&(a(0,"mat-cell"),b(1,Ya,2,4,"img",57),s()),o&2){let e=r.$implicit;n(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Za(o,r){if(o&1&&(a(0,"mat-header-cell",56),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function $a(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.id," ")}}function es(o,r){if(o&1&&(a(0,"mat-header-cell",56),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ts(o,r){if(o&1&&(a(0,"mat-cell"),m(1),_(2,"cmssiteinfo"),_(3,"async"),s()),o&2){let e=r.$implicit;n(),h(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function is(o,r){if(o&1&&(a(0,"mat-header-cell",56),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function os(o,r){if(o&1&&v(0,"select",61),o&2){let e=g().$implicit,i=g();d("contentService",i.contentService)("row",e)("ngStyle",gt(3,Gr,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function ns(o,r){if(o&1&&(a(0,"mat-cell"),v(1,"i",59),_(2,"statusIconClass"),b(3,os,1,5,"select",60),s()),o&2){let e=r.$implicit,i=g();n(),d("ngClass",C(2,2,e.recordStatus)),n(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function rs(o,r){if(o&1&&(a(0,"mat-header-cell",56),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function as(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.title," ")}}function ss(o,r){o&1&&(a(0,"mat-header-cell"),m(1),_(2,"translate"),s()),o&2&&(n(),h(" ",C(2,1,"TITLE.OPTION")," "))}function ls(o,r){if(o&1&&(a(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),o&2){let e=k(5);n(),d("matMenuTriggerFor",e)}}function cs(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.title," ")}}function ds(o,r){if(o&1&&(v(0,"img",67),_(1,"cmsthumbnail")),o&2){let e=g().$implicit;d("src",R(C(1,2,e.linkMainImageIdSrc)),ie)}}function ms(o,r){if(o&1){let e=M();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),b(5,ds,2,4,"img",64),s(),a(6,"th"),m(7),a(8,"span",65),I("click",function(){p(e);let t=g();return u(t.onActionCopied())}),v(9,"i",66),s()()(),a(10,"tr"),v(11,"td"),a(12,"td"),m(13),s()(),a(14,"tr"),v(15,"td")(16,"td"),s()()()()}if(o&2){let e=r.$implicit;n(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),n(2),h(" ",e.id," "),n(),d("cdkCopyToClipboard",e.id),n(5),w(e.title)}}function ps(o,r){o&1&&v(0,"mat-header-row")}function us(o,r){if(o&1){let e=M();a(0,"mat-row",68),I("click",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=g();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=g();return u(l.onActionTableRowMouseLeave(t))}),s()}if(o&2){let e=r.$implicit,i=g();Z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function fs(o,r){if(o&1){let e=M();a(0,"mat-row",69),I("click",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=g();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=g();return u(l.onActionTableRowMouseLeave(t))}),s()}if(o&2){let e=r.$implicit,i=g();Z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Ss(o,r){if(o&1){let e=M();a(0,"mat-row",70),I("click",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=g();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=g();return u(l.onActionTableRowMouseLeave(t))}),s()}if(o&2){let e=r.$implicit,i=g();Z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),d("ngStyle",gt(3,Gr,e.expanded===!0?"":"none"))}}var zi=class zi extends nt{constructor(e,i,t,l,S,c,G,se,je,St){super(e,new Jt,je,l,c);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=l;this.cdr=S;this.translate=c;this.cmsStoreService=G;this.pageInfo=se;this.publicHelper=je;this.dialog=St;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new de;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:At=>this.onSubmitOptionsSearch(At)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=J.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ne(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Jt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0){let t=new $;t.propertyName="PlanClients",t.propertyAnyName="LinkPlanId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new de,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new Le;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={},this.dialog.open(Tn,e).afterClosed().subscribe(t=>{if(t&&t.dialogChangedDate)if(t.id&&t.id>0){let l=new Le;l.disableClose=!0,l.autoFocus=!0,l.height="90%",l.data={id:t.id},this.dialog.open(No,l).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&(this.categoryModelSelected=new Re,this.DataGetAll())})}else this.categoryModelSelected=new Re,this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new Le;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id},this.dialog.open(No,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&(this.categoryModelSelected=new Re,this.DataGetAll())})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Dn,{height:"40%",panelClass:i,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),S=new $;S.propertyName="recordStatus",S.value=we.Available,l.filters.push(S),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonClientCreditAccountRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id===0||!e.linkSiteId||e.linkSiteId===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/client-charge/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/client-charge/",e.id])}onActionButtonClientList(e=this.tableRowSelected,i){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/plan-client/LinkClientId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/plan-client/LinkClientId/"+e.id])}onActionButtonDataRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.No_row_selected_for_viewing").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorAccessDelete();return}i?.ctrlKey?(this.link="/#/data-provider/log-client/LinkClientId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/log-client/LinkClientId/"+e.id])}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonTransactionList(e=this.tableRowSelected,i){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/transaction/LinkClientId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/transaction/LinkClientId/"+e.id])}};zi.\u0275fac=function(i){return new(i||zi)(f(Ot),f(B),f(xe),f(fe),f(L),f(x),f(ue),f(ot),f(O),f(_e))},zi.\u0275cmp=A({type:zi,selectors:[["app-data-provider-client-list"]],standalone:!1,features:[X],decls:71,vars:37,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-cart-shopping","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-circle-dollar","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-database","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-people","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=M();a(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(c){return p(l),D(t.viewGuideNotice,c)||(t.viewGuideNotice=c),u(c)}),I("optionOnActionButtonMemoRow",function(){return p(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),u(t.onActionButtonPrintRow())}),P(1,4),a(2,"app-data-provider-plan-tree",5),I("optionChange",function(c){return p(l),u(t.onActionSelectorSelect(c))}),s(),y(),be(3,6)(4,7),P(5,8),a(6,"a",9),I("click",function(){return p(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),v(7,"i",10),s(),a(8,"a",9),I("click",function(){return p(l),u(t.onActionButtonReload())}),v(9,"i",11),s(),y(),P(10,12),a(11,"a",13),I("click",function(){return p(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(12,"mat-slide-toggle",14),m(13),_(14,"translate"),s(),a(15,"a",13),I("click",function(){return p(l),u(t.onActionButtonStatist())}),v(16,"mat-slide-toggle",14),m(17),_(18,"translate"),s(),y(),P(19,15),b(20,Ha,7,3,"div",16),y(),P(21,17),b(22,ja,7,3,"div",16)(23,qa,7,3,"div",16)(24,Wa,7,3,"div",16),a(25,"div",18)(26,"a",19),I("click",function(){return p(l),u(t.onActionButtonClientCreditAccountRow(t.tableRowSelected))}),v(27,"i",20)(28,"br"),s(),a(29,"p",21),m(30,"client charge"),s()(),b(31,Qa,7,3,"div",16)(32,Ua,7,3,"div",16),y(),P(33,22),a(34,"app-cms-search-list",23),E("optionsChange",function(c){return p(l),D(t.optionsSearch,c)||(t.optionsSearch=c),u(c)}),s(),a(35,"app-cms-statist-list",23),E("optionsChange",function(c){return p(l),D(t.optionsStatist,c)||(t.optionsStatist=c),u(c)}),s(),y(),P(36,24),a(37,"mat-table",25,0),I("matSortChange",function(){p(l);let c=k(38);return u(t.onTableSortData(c))}),P(39,26),b(40,za,3,3,"mat-header-cell",27)(41,Ka,3,0,"mat-cell",28),y(),P(42,29),b(43,Ja,3,3,"mat-header-cell",30)(44,Xa,2,1,"mat-cell",28),y(),P(45,31),b(46,Za,2,1,"mat-header-cell",30)(47,$a,2,1,"mat-cell",28),y(),P(48,32),b(49,es,2,1,"mat-header-cell",30)(50,ts,4,5,"mat-cell",28),y(),P(51,33),b(52,is,2,1,"mat-header-cell",30)(53,ns,4,4,"mat-cell",28),y(),P(54,34),b(55,rs,2,1,"mat-header-cell",30)(56,as,2,1,"mat-cell",28),y(),P(57,35),b(58,ss,3,3,"mat-header-cell",27)(59,ls,6,1,"mat-cell",36),y(),P(60,37),b(61,cs,2,1,"mat-cell",28),y(),P(62,38),b(63,ms,17,4,"mat-cell",28),y(),b(64,ps,1,0,"mat-header-row",39)(65,us,1,2,"mat-row",40)(66,fs,1,2,"mat-row",41)(67,Ss,1,5,"mat-row",42),s(),y(),P(68,43),a(69,"mat-paginator",44,1),I("page",function(c){return p(l),u(t.onTablePageingData(c))}),s(),y(),s()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","dataprovider.client.list"),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),n(9),Z("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),d("checked",t.optionsSearch.data.show),n(),h("",C(14,30,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),h("",C(18,32,"ACTION.STATIST")," "),n(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),n(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),n(7),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),n(2),T("options",t.optionsSearch),n(),T("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(27),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",Ee(34,Ga)),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(),d("matRowDefColumns",Ee(35,Fa)),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ee(36,Na)))},dependencies:[bt,F,Mt,ke,Ve,W,ze,yr,Ke,Je,Ye,Xe,Be,Ze,Ge,$e,Fe,Oe,et,Ne,He,tt,it,Di,rt,at,st,lt,Dt,Ui,mt,V,Et,Ie,wt],encapsulation:2});var En=zi;var Xi=class Xi{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};Xi.\u0275fac=function(e){return new(e||Xi)},Xi.\u0275cmp=A({type:Xi,selectors:[["app-data-provider"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&v(0,"router-outlet")},dependencies:[cr],encapsulation:2});var wn=Xi;var gs=["vform"];function hs(o,r){if(o&1){let e=M();a(0,"div",8)(1,"button",9),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(2,"i",10),m(3),_(4,"translate"),s()()}o&2&&(n(3),h(" ",C(4,1,"ACTION.CANCEL")," "))}var Zi=class Zi{constructor(r,e,i,t,l,S,c,G,se,je){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.DataProviderLogClientService=t;this.cmsToastrService=l;this.tokenHelper=S;this.cmsStoreService=c;this.cdr=G;this.publicHelper=se;this.translate=je;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new li;this.dataModelResult=new H;this.dataModel=new Oo;this.formInfo=new Q;this.dataModelEnumSendSmsStatusTypeResult=new H;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("aaaaaaaaaTITLE.VIEWaaaaa").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>ne(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.DataProviderLogClientService.setAccessLoad(),this.DataProviderLogClientService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Zi.\u0275fac=function(e){return new(e||Zi)(f(q),f(j),f(ee),f(Pi),f(B),f(fe),f(ue),f(L),f(O),f(x))},Zi.\u0275cmp=A({type:Zi,selectors:[["app-data-provider-log-client-view"]],viewQuery:function(e,i){if(e&1&&U(gs,5),e&2){let t;z(t=K())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),v(6,"app-cms-form-result-message",5),s(),a(7,"div",6),b(8,hs,5,3,"div",7),s()),e&2&&(n(),h(" ",i.formInfo.formTitle," "),n(2),d("optionsInfoAreaId",i.constructorInfoAreaId),n(),d("dataModel",i.dataModel)("optionMethod",1),n(2),d("formInfo",i.formInfo),n(2),d("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[F,N,di,he,V],encapsulation:2});var Rn=Zi;var vs=()=>[5,10,20,100];function _s(o,r){if(o&1){let e=M();a(0,"a",34),I("click",function(){p(e);let t=g();return u(t.onActionBackToParent())}),v(1,"i",35),s()}}function Cs(o,r){if(o&1){let e=M();a(0,"div",36)(1,"a",37),I("click",function(){p(e);let t=g();return u(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",38)(3,"br"),s(),a(4,"p",39),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.VIEW")," "))}function Is(o,r){if(o&1&&(a(0,"mat-header-cell",40),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function bs(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.id," ")}}function Ms(o,r){if(o&1&&(a(0,"mat-header-cell",40),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.linkClientId==null?null:e.fieldsInfo.linkClientId.fieldTitle," ")}}function Ps(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.linkClientId," ")}}function ys(o,r){if(o&1&&(a(0,"mat-header-cell",40),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Ts(o,r){if(o&1&&(a(0,"mat-cell"),m(1),_(2,"localeDate"),s()),o&2){let e=r.$implicit;n(),h(" ",C(2,1,e.createdDate)," ")}}function Ds(o,r){o&1&&(a(0,"mat-header-cell"),m(1),_(2,"translate"),s()),o&2&&(n(),h(" ",C(2,1,"TITLE.OPTION")," "))}function Es(o,r){if(o&1&&(a(0,"mat-cell",41)(1,"button",42)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),o&2){let e=k(5);n(),d("matMenuTriggerFor",e)}}function ws(o,r){o&1&&v(0,"mat-header-row")}function Rs(o,r){if(o&1){let e=M();a(0,"mat-row",43),I("click",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))}),s()}if(o&2){let e=r.$implicit,i=g();Z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var $i=class $i extends nt{constructor(e,i,t,l,S,c,G,se,je,St,At){super(i,new Oo,St,S,G);this.activatedRoute=e;this.contentService=i;this.cmsToastrService=t;this.router=l;this.tokenHelper=S;this.cdr=c;this.translate=G;this.pageInfo=se;this.cmsStoreService=je;this.publicHelper=St;this.dialog=At;this.requestLinkClientId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new de;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","LinkClientId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","LinkClientId","createdDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:It=>this.onSubmitOptionsSearch(It)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=J.Descending}ngOnInit(){if(this.requestLinkClientId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkClientId")),this.requestLinkClientId&&this.requestLinkClientId>0){let e=new $;e.propertyName="LinkClientId",e.value=this.requestLinkClientId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ne(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Oo);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelected();return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Rn,{height:"90%",panelClass:i,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),S=new $;S.propertyName="recordStatus",S.value=we.Available,l.filters.push(S),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.requestLinkClientId>0&&this.router.navigate(["/data-provider/client/"])}};$i.\u0275fac=function(i){return new(i||$i)(f(vt),f(Pi),f(B),f(xe),f(fe),f(L),f(x),f(ot),f(ue),f(O),f(_e))},$i.\u0275cmp=A({type:$i,selectors:[["app-data-provider-log-client-list"]],standalone:!1,features:[X],decls:45,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkClientId"],["matColumnDef","createdDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["mat-sort-header",""],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=M();a(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(c){return p(l),D(t.viewGuideNotice,c)||(t.viewGuideNotice=c),u(c)}),I("optionOnActionButtonMemoRow",function(){return p(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),u(t.onActionButtonPrintRow())}),be(1,4)(2,5)(3,6),P(4,7),b(5,_s,2,0,"a",8),a(6,"a",9),I("click",function(){return p(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),v(7,"i",10),s(),a(8,"a",9),I("click",function(){return p(l),u(t.onActionButtonReload())}),v(9,"i",11),s(),y(),P(10,12),a(11,"a",13),I("click",function(){return p(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(12,"mat-slide-toggle",14),m(13),_(14,"translate"),s(),a(15,"a",13),I("click",function(){return p(l),u(t.onActionButtonStatist())}),v(16,"mat-slide-toggle",14),m(17),_(18,"translate"),s(),y(),be(19,15),P(20,16),b(21,Cs,7,3,"div",17),y(),P(22,18),a(23,"app-cms-search-list",19),E("optionsChange",function(c){return p(l),D(t.optionsSearch,c)||(t.optionsSearch=c),u(c)}),s(),a(24,"app-cms-statist-list",19),E("optionsChange",function(c){return p(l),D(t.optionsStatist,c)||(t.optionsStatist=c),u(c)}),s(),y(),P(25,20),a(26,"mat-table",21,0),I("matSortChange",function(){p(l);let c=k(27);return u(t.onTableSortData(c))}),P(28,22),b(29,Is,2,1,"mat-header-cell",23)(30,bs,2,1,"mat-cell",24),y(),P(31,25),b(32,Ms,2,1,"mat-header-cell",23)(33,Ps,2,1,"mat-cell",24),y(),P(34,26),b(35,ys,2,1,"mat-header-cell",23)(36,Ts,3,3,"mat-cell",24),y(),P(37,27),b(38,Ds,3,3,"mat-header-cell",28)(39,Es,6,1,"mat-cell",29),y(),b(40,ws,1,0,"mat-header-row",30)(41,Rs,1,2,"mat-row",31),s(),y(),P(42,32),a(43,"mat-paginator",33,1),I("page",function(c){return p(l),u(t.onTablePageingData(c))}),s(),y(),s()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(5),d("ngIf",t.requestLinkClientId>0),n(4),Z("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),d("checked",t.optionsSearch.data.show),n(),h("",C(14,24,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),h("",C(18,26,"ACTION.STATIST")," "),n(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),n(2),T("options",t.optionsSearch),n(),T("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(14),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ee(28,vs)))},dependencies:[F,ke,Ve,ze,Ke,Je,Ye,Xe,Be,Ze,Ge,$e,Fe,Oe,et,Ne,He,tt,it,rt,at,st,lt,V,mi],encapsulation:2});var eo=$i;var As=["vform"];function xs(o,r){if(o&1){let e=M();a(0,"div",8)(1,"button",9),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(2,"i",10),m(3),_(4,"translate"),s()()}o&2&&(n(3),h(" ",C(4,1,"ACTION.CANCEL")," "))}var to=class to{constructor(r,e,i,t,l,S,c,G,se,je){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.DataProviderLogPlanService=t;this.cmsToastrService=l;this.tokenHelper=S;this.cmsStoreService=c;this.cdr=G;this.publicHelper=se;this.translate=je;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new li;this.dataModelResult=new H;this.dataModel=new Go;this.formInfo=new Q;this.dataModelEnumSendSmsStatusTypeResult=new H;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("aaaaaaaaaTITLE.VIEWaaaaa").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>ne(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.DataProviderLogPlanService.setAccessLoad(),this.DataProviderLogPlanService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};to.\u0275fac=function(e){return new(e||to)(f(q),f(j),f(ee),f(yi),f(B),f(fe),f(ue),f(L),f(O),f(x))},to.\u0275cmp=A({type:to,selectors:[["app-data-provider-log-plan-view"]],viewQuery:function(e,i){if(e&1&&U(As,5),e&2){let t;z(t=K())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),v(6,"app-cms-form-result-message",5),s(),a(7,"div",6),b(8,xs,5,3,"div",7),s()),e&2&&(n(),h(" ",i.formInfo.formTitle," "),n(2),d("optionsInfoAreaId",i.constructorInfoAreaId),n(),d("dataModel",i.dataModel)("optionMethod",1),n(2),d("formInfo",i.formInfo),n(2),d("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[F,N,di,he,V],encapsulation:2});var An=to;var ks=()=>[5,10,20,100];function Ls(o,r){if(o&1){let e=M();a(0,"a",35),I("click",function(){p(e);let t=g();return u(t.onActionBackToParent())}),v(1,"i",36),s()}}function Vs(o,r){if(o&1){let e=M();a(0,"div",37)(1,"a",38),I("click",function(){p(e);let t=g();return u(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",39)(3,"br"),s(),a(4,"p",40),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.VIEW")," "))}function Bs(o,r){if(o&1&&(a(0,"mat-header-cell",41),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Os(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.id," ")}}function Gs(o,r){if(o&1&&(a(0,"mat-header-cell",41),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.linkSourceId==null?null:e.fieldsInfo.linkSourceId.fieldTitle," ")}}function Fs(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.linkSourceId," ")}}function Ns(o,r){if(o&1&&(a(0,"mat-header-cell",41),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.linkPlanId==null?null:e.fieldsInfo.linkPlanId.fieldTitle," ")}}function Hs(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.linkPlanId," ")}}function js(o,r){if(o&1&&(a(0,"mat-header-cell",41),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function qs(o,r){if(o&1&&(a(0,"mat-cell"),m(1),_(2,"localeDate"),s()),o&2){let e=r.$implicit;n(),h(" ",C(2,1,e.createdDate)," ")}}function Ws(o,r){o&1&&(a(0,"mat-header-cell"),m(1),_(2,"translate"),s()),o&2&&(n(),h(" ",C(2,1,"TITLE.OPTION")," "))}function Qs(o,r){if(o&1&&(a(0,"mat-cell",42)(1,"button",43)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),o&2){let e=k(5);n(),d("matMenuTriggerFor",e)}}function Us(o,r){o&1&&v(0,"mat-header-row")}function zs(o,r){if(o&1){let e=M();a(0,"mat-row",44),I("click",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))}),s()}if(o&2){let e=r.$implicit,i=g();Z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var io=class io extends nt{constructor(e,i,t,l,S,c,G,se,je,St,At){super(i,new Go,St,S,G);this.activatedRoute=e;this.contentService=i;this.cmsToastrService=t;this.router=l;this.tokenHelper=S;this.cdr=c;this.translate=G;this.cmsStoreService=se;this.pageInfo=je;this.publicHelper=St;this.dialog=At;this.requestLinkPlanId=0;this.requestLinkSourceId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new de;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","LinkSourceId","LinkPlanId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","LinkSourceId","LinkPlanId","createdDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:It=>this.onSubmitOptionsSearch(It)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=J.Descending}ngOnInit(){if(this.requestLinkSourceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSourceId")),this.requestLinkSourceId&&this.requestLinkSourceId>0){let e=new $;e.propertyName="LinkSourceId",e.value=this.requestLinkSourceId,this.filteModelContent.filters.push(e)}if(this.requestLinkPlanId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkPlanId")),this.requestLinkPlanId&&this.requestLinkPlanId>0){let e=new $;e.propertyName="LinkPlanId",e.value=this.requestLinkPlanId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ne(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Go);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelected();return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(An,{height:"90%",panelClass:i,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),S=new $;S.propertyName="recordStatus",S.value=we.Available,l.filters.push(S),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.requestLinkPlanId>0&&this.router.navigate(["/data-provider/plan/"]),this.requestLinkSourceId>0&&this.router.navigate(["/data-provider/source/"])}};io.\u0275fac=function(i){return new(i||io)(f(vt),f(yi),f(B),f(xe),f(fe),f(L),f(x),f(ue),f(ot),f(O),f(_e))},io.\u0275cmp=A({type:io,selectors:[["app-data-provider-log-plan-list"]],standalone:!1,features:[X],decls:48,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSourceId"],["matColumnDef","LinkPlanId"],["matColumnDef","createdDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["mat-sort-header",""],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=M();a(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(c){return p(l),D(t.viewGuideNotice,c)||(t.viewGuideNotice=c),u(c)}),I("optionOnActionButtonMemoRow",function(){return p(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),u(t.onActionButtonPrintRow())}),be(1,4)(2,5)(3,6),P(4,7),b(5,Ls,2,0,"a",8),a(6,"a",9),I("click",function(){return p(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),v(7,"i",10),s(),a(8,"a",9),I("click",function(){return p(l),u(t.onActionButtonReload())}),v(9,"i",11),s(),y(),P(10,12),a(11,"a",13),I("click",function(){return p(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(12,"mat-slide-toggle",14),m(13),_(14,"translate"),s(),a(15,"a",13),I("click",function(){return p(l),u(t.onActionButtonStatist())}),v(16,"mat-slide-toggle",14),m(17),_(18,"translate"),s(),y(),be(19,15),P(20,16),b(21,Vs,7,3,"div",17),y(),P(22,18),a(23,"app-cms-search-list",19),E("optionsChange",function(c){return p(l),D(t.optionsSearch,c)||(t.optionsSearch=c),u(c)}),s(),a(24,"app-cms-statist-list",19),E("optionsChange",function(c){return p(l),D(t.optionsStatist,c)||(t.optionsStatist=c),u(c)}),s(),y(),P(25,20),a(26,"mat-table",21,0),I("matSortChange",function(){p(l);let c=k(27);return u(t.onTableSortData(c))}),P(28,22),b(29,Bs,2,1,"mat-header-cell",23)(30,Os,2,1,"mat-cell",24),y(),P(31,25),b(32,Gs,2,1,"mat-header-cell",23)(33,Fs,2,1,"mat-cell",24),y(),P(34,26),b(35,Ns,2,1,"mat-header-cell",23)(36,Hs,2,1,"mat-cell",24),y(),P(37,27),b(38,js,2,1,"mat-header-cell",23)(39,qs,3,3,"mat-cell",24),y(),P(40,28),b(41,Ws,3,3,"mat-header-cell",29)(42,Qs,6,1,"mat-cell",30),y(),b(43,Us,1,0,"mat-header-row",31)(44,zs,1,2,"mat-row",32),s(),y(),P(45,33),a(46,"mat-paginator",34,1),I("page",function(c){return p(l),u(t.onTablePageingData(c))}),s(),y(),s()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(5),d("ngIf",t.requestLinkPlanId>0||t.requestLinkSourceId>0),n(4),Z("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),d("checked",t.optionsSearch.data.show),n(),h("",C(14,24,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),h("",C(18,26,"ACTION.STATIST")," "),n(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),n(2),T("options",t.optionsSearch),n(),T("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(17),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ee(28,ks)))},dependencies:[F,ke,Ve,ze,Ke,Je,Ye,Xe,Be,Ze,Ge,$e,Fe,Oe,et,Ne,He,tt,it,rt,at,st,lt,V,mi],encapsulation:2});var oo=io;var Ks=["vform"];function Js(o,r){if(o&1){let e=M();a(0,"div",8)(1,"button",9),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(2,"i",10),m(3),_(4,"translate"),s()()}o&2&&(n(3),h(" ",C(4,1,"ACTION.CANCEL")," "))}var no=class no{constructor(r,e,i,t,l,S,c,G,se,je){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.DataProviderLogSourceService=t;this.cmsToastrService=l;this.tokenHelper=S;this.cmsStoreService=c;this.cdr=G;this.publicHelper=se;this.translate=je;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new li;this.dataModelResult=new H;this.dataModel=new Fo;this.formInfo=new Q;this.dataModelEnumSendSmsStatusTypeResult=new H;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("aaaaaaaaaTITLE.VIEWaaaaa").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>ne(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.DataProviderLogSourceService.setAccessLoad(),this.DataProviderLogSourceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};no.\u0275fac=function(e){return new(e||no)(f(q),f(j),f(ee),f(Ti),f(B),f(fe),f(ue),f(L),f(O),f(x))},no.\u0275cmp=A({type:no,selectors:[["app-data-provider-log-source-view"]],viewQuery:function(e,i){if(e&1&&U(Ks,5),e&2){let t;z(t=K())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),v(6,"app-cms-form-result-message",5),s(),a(7,"div",6),b(8,Js,5,3,"div",7),s()),e&2&&(n(),h(" ",i.formInfo.formTitle," "),n(2),d("optionsInfoAreaId",i.constructorInfoAreaId),n(),d("dataModel",i.dataModel)("optionMethod",1),n(2),d("formInfo",i.formInfo),n(2),d("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[F,N,di,he,V],encapsulation:2});var xn=no;var Ys=()=>[5,10,20,100];function Xs(o,r){if(o&1){let e=M();a(0,"a",34),I("click",function(){p(e);let t=g();return u(t.onActionBackToParent())}),v(1,"i",35),s()}}function Zs(o,r){if(o&1){let e=M();a(0,"div",36)(1,"a",37),I("click",function(){p(e);let t=g();return u(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",38)(3,"br"),s(),a(4,"p",39),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.VIEW")," "))}function $s(o,r){if(o&1&&(a(0,"mat-header-cell",40),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function el(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.id," ")}}function tl(o,r){if(o&1&&(a(0,"mat-header-cell",40),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.linkSourceId==null?null:e.fieldsInfo.linkSourceId.fieldTitle," ")}}function il(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.linkSourceId," ")}}function ol(o,r){if(o&1&&(a(0,"mat-header-cell",40),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function nl(o,r){if(o&1&&(a(0,"mat-cell"),m(1),_(2,"localeDate"),s()),o&2){let e=r.$implicit;n(),h(" ",C(2,1,e.createdDate)," ")}}function rl(o,r){o&1&&(a(0,"mat-header-cell"),m(1),_(2,"translate"),s()),o&2&&(n(),h(" ",C(2,1,"TITLE.OPTION")," "))}function al(o,r){if(o&1&&(a(0,"mat-cell",41)(1,"button",42)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),o&2){let e=k(5);n(),d("matMenuTriggerFor",e)}}function sl(o,r){o&1&&v(0,"mat-header-row")}function ll(o,r){if(o&1){let e=M();a(0,"mat-row",43),I("click",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))}),s()}if(o&2){let e=r.$implicit,i=g();Z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var ro=class ro extends nt{constructor(e,i,t,l,S,c,G,se,je,St,At){super(i,new Fo,St,S,se);this.activatedRoute=e;this.contentService=i;this.cmsToastrService=t;this.router=l;this.tokenHelper=S;this.cdr=c;this.cmsStoreService=G;this.translate=se;this.pageInfo=je;this.publicHelper=St;this.dialog=At;this.requestLinkSourceId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new de;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","LinkSourceId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","LinkSourceId","createdDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:It=>this.onSubmitOptionsSearch(It)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=J.Descending}ngOnInit(){if(this.requestLinkSourceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSourceId")),this.requestLinkSourceId&&this.requestLinkSourceId>0){let e=new $;e.propertyName="linkSourceId",e.value=this.requestLinkSourceId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ne(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Fo);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelected();return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(xn,{height:"90%",panelClass:i,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),S=new $;S.propertyName="recordStatus",S.value=we.Available,l.filters.push(S),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.requestLinkSourceId>0&&this.router.navigate(["/data-provider/source/"])}};ro.\u0275fac=function(i){return new(i||ro)(f(vt),f(Ti),f(B),f(xe),f(fe),f(L),f(ue),f(x),f(ot),f(O),f(_e))},ro.\u0275cmp=A({type:ro,selectors:[["app-data-provider-log-source-list"]],standalone:!1,features:[X],decls:45,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSourceId"],["matColumnDef","createdDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["mat-sort-header",""],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=M();a(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(c){return p(l),D(t.viewGuideNotice,c)||(t.viewGuideNotice=c),u(c)}),I("optionOnActionButtonMemoRow",function(){return p(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),u(t.onActionButtonPrintRow())}),be(1,4)(2,5)(3,6),P(4,7),b(5,Xs,2,0,"a",8),a(6,"a",9),I("click",function(){return p(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),v(7,"i",10),s(),a(8,"a",9),I("click",function(){return p(l),u(t.onActionButtonReload())}),v(9,"i",11),s(),y(),P(10,12),a(11,"a",13),I("click",function(){return p(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(12,"mat-slide-toggle",14),m(13),_(14,"translate"),s(),a(15,"a",13),I("click",function(){return p(l),u(t.onActionButtonStatist())}),v(16,"mat-slide-toggle",14),m(17),_(18,"translate"),s(),y(),be(19,15),P(20,16),b(21,Zs,7,3,"div",17),y(),P(22,18),a(23,"app-cms-search-list",19),E("optionsChange",function(c){return p(l),D(t.optionsSearch,c)||(t.optionsSearch=c),u(c)}),s(),a(24,"app-cms-statist-list",19),E("optionsChange",function(c){return p(l),D(t.optionsStatist,c)||(t.optionsStatist=c),u(c)}),s(),y(),P(25,20),a(26,"mat-table",21,0),I("matSortChange",function(){p(l);let c=k(27);return u(t.onTableSortData(c))}),P(28,22),b(29,$s,2,1,"mat-header-cell",23)(30,el,2,1,"mat-cell",24),y(),P(31,25),b(32,tl,2,1,"mat-header-cell",23)(33,il,2,1,"mat-cell",24),y(),P(34,26),b(35,ol,2,1,"mat-header-cell",23)(36,nl,3,3,"mat-cell",24),y(),P(37,27),b(38,rl,3,3,"mat-header-cell",28)(39,al,6,1,"mat-cell",29),y(),b(40,sl,1,0,"mat-header-row",30)(41,ll,1,2,"mat-row",31),s(),y(),P(42,32),a(43,"mat-paginator",33,1),I("page",function(c){return p(l),u(t.onTablePageingData(c))}),s(),y(),s()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(5),d("ngIf",t.requestLinkSourceId>0),n(4),Z("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),d("checked",t.optionsSearch.data.show),n(),h("",C(14,24,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),h("",C(18,26,"ACTION.STATIST")," "),n(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),n(2),T("options",t.optionsSearch),n(),T("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(14),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ee(28,Ys)))},dependencies:[F,ke,Ve,ze,Ke,Je,Ye,Xe,Be,Ze,Ge,$e,Fe,Oe,et,Ne,He,tt,it,rt,at,st,lt,V,mi],encapsulation:2});var Ho=ro;var cl=["vform"];function dl(o,r){if(o&1){let e=M();a(0,"app-cms-enum-record-status-selector",10),E("modelChange",function(t){p(e);let l=g();return D(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),s()}if(o&2){let e=g();T("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ml(o,r){if(o&1){let e=M();a(0,"div",11)(1,"button",12),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(2,"i",13),m(3),_(4,"translate"),s(),a(5,"button",14),v(6,"i",15),m(7),_(8,"translate"),s()()}if(o&2){g();let e=k(10);n(3),h(" ",C(4,3,"ACTION.CANCEL")," "),n(2),d("disabled",!e.form.valid),n(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var ao=class ao extends yt{constructor(e,i,t,l,S,c,G,se){super(l,new Vt,c,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanClientService=l;this.cmsToastrService=S;this.publicHelper=c;this.cdr=G;this.translate=se;this.requestPlanId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new H;this.dataModel=new Vt;this.formInfo=new Q;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestPlanId=+e.parentId||0),this.requestPlanId>0&&(this.dataModel.linkPlanId=this.requestPlanId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanClientService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||e.id<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ao.\u0275fac=function(i){return new(i||ao)(f(q),f(j),f(ee),f(Ft),f(B),f(O),f(L),f(x))},ao.\u0275cmp=A({type:ao,selectors:[["app-data-provider-plan-client-add"]],viewQuery:function(i,t){if(i&1&&U(cl,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[X],decls:17,vars:16,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=M();a(0,"div",1),v(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),m(4),s(),a(5,"p"),m(6),_(7,"translate"),s(),v(8,"app-cms-form-result-message",5),a(9,"form",6,0),I("ngSubmit",function(){return p(l),u(t.onFormSubmit())}),b(11,dl,1,5,"app-cms-enum-record-status-selector",7),a(12,"app-data-provider-plan-category-selector",8),_(13,"translate"),I("optionChange",function(c){return p(l),u(t.onActionSelectorSelect(c))}),s(),a(14,"app-data-provider-plan-category-selector",8),_(15,"translate"),I("optionChange",function(c){return p(l),u(t.onActionSelectorSelect(c))}),s(),b(16,ml,9,7,"div",9),s()()()}i&2&&(n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),h(" ",t.formInfo.formTitle," "),n(2),h(" ",C(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("formInfo",t.formInfo),n(3),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),d("optionSelectForce",t.dataModel.linkPlanId)("optionPlaceholder",C(13,12,"TITLE.Category")),n(2),d("optionSelectForce",t.dataModel.linkClientId)("optionPlaceholder",C(15,14,"TITLE.Category")),n(2),d("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[F,Te,Pe,ye,De,N,he,Ct,V],encapsulation:2});var kn=ao;var pl=["vform"];function ul(o,r){if(o&1){let e=M();a(0,"div",9)(1,"button",10),I("click",function(){p(e);let t=g();return u(t.onFormDelete())}),v(2,"i",11),m(3),_(4,"translate"),s(),a(5,"button",12),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(6,"i",13),m(7),_(8,"translate"),s()()}if(o&2){let e=g();n(),d("disabled",!e.formInfo.submitButtonEnabled),n(2),h(" ",C(4,3,"ACTION.DELETE")," "),n(4),h(" ",C(8,5,"ACTION.CANCEL")," ")}}var so=class so{constructor(r,e,i,t,l,S,c){this.data=r;this.dialogRef=e;this.publicHelper=i;this.dataProviderPlanClientService=t;this.cdr=l;this.translate=S;this.cmsToastrService=c;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new H;this.formInfo=new Q;this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=+r.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.dataProviderPlanClientService.setAccessLoad(),this.dataProviderPlanClientService.setAccessDataType(Me.Editor),this.dataProviderPlanClientService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(r)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.dataProviderPlanClientService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(r)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(r)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};so.\u0275fac=function(e){return new(e||so)(f(q),f(j),f(O),f(Ft),f(L),f(x),f(B))},so.\u0275cmp=A({type:so,selectors:[["app-data-provider-plan-client-delete"]],viewQuery:function(e,i){if(e&1&&U(pl,5),e&2){let t;z(t=K())&&(i.formGroup=t.first)}},standalone:!1,decls:15,vars:11,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.linkPlanId",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.linkPlanId","type","text","required","","readonly","","id","dataModelResultContent.item.linkPlanId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){if(e&1){let t=M();a(0,"div",1),v(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),m(4),s(),a(5,"p"),m(6),_(7,"translate"),s(),m(8),a(9,"div",5)(10,"label",6),m(11),s(),a(12,"input",7,0),E("ngModelChange",function(S){return p(t),D(i.dataModelResultContent.item.linkPlanId,S)||(i.dataModelResultContent.item.linkPlanId=S),u(S)}),s()(),b(14,ul,9,7,"div",8),s()()}e&2&&(n(),d("optionsInfoAreaId",i.constructorInfoAreaId),n(3),h(" ",i.formInfo.formTitle," "),n(2),h(" ",C(7,9,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),h(" ",i.formInfo.formTitle," "),n(3),w(i.fieldsInfo.linkPlanId==null?null:i.fieldsInfo.linkPlanId.fieldTitle),n(),d("placeholder",R(i.fieldsInfo.linkPlanId==null?null:i.fieldsInfo.linkPlanId.fieldTitle)),T("ngModel",i.dataModelResultContent.item.linkPlanId),n(2),d("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[F,Se,ge,ut,ve,W,N,V],encapsulation:2});var Ln=so;var fl=["vform"];function Sl(o,r){if(o&1){let e=M();a(0,"app-cms-enum-record-status-selector",10),E("modelChange",function(t){p(e);let l=g();return D(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),s()}if(o&2){let e=g();T("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function gl(o,r){if(o&1){let e=M();a(0,"div",11)(1,"button",12),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(2,"i",13),m(3),_(4,"translate"),s(),a(5,"button",14),v(6,"i",15),m(7),_(8,"translate"),s()()}if(o&2){g();let e=k(10);n(3),h(" ",C(4,3,"ACTION.CANCEL")," "),n(2),d("disabled",!e.form.valid),n(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var lo=class lo extends Tt{constructor(e,i,t,l,S,c,G,se){super(l,new Vt,c,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.DataProviderPlanClientService=l;this.cmsToastrService=S;this.publicHelper=c;this.cdr=G;this.translate=se;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Pt;this.dataModel=new Vt;this.formInfo=new Q;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.DataProviderPlanClientService.setAccessLoad(),this.DataProviderPlanClientService.setAccessDataType(Me.Editor),this.DataProviderPlanClientService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.DataProviderPlanClientService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||e.id<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};lo.\u0275fac=function(i){return new(i||lo)(f(q),f(j),f(ee),f(Ft),f(B),f(O),f(L),f(x))},lo.\u0275cmp=A({type:lo,selectors:[["app-data-provider-plan-client-edit"]],viewQuery:function(i,t){if(i&1&&U(fl,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[X],decls:17,vars:16,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=M();a(0,"div",1),v(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),m(4),s(),a(5,"p"),m(6),_(7,"translate"),s(),v(8,"app-cms-form-result-message",5),a(9,"form",6,0),I("ngSubmit",function(){return p(l),u(t.onFormSubmit())}),b(11,Sl,1,5,"app-cms-enum-record-status-selector",7),a(12,"app-data-provider-plan-category-selector",8),_(13,"translate"),I("optionChange",function(c){return p(l),u(t.onActionSelectorSelect(c))}),s(),a(14,"app-data-provider-plan-category-selector",8),_(15,"translate"),I("optionChange",function(c){return p(l),u(t.onActionSelectorSelect(c))}),s(),b(16,gl,9,7,"div",9),s()()()}i&2&&(n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),h(" ",t.formInfo.formTitle," "),n(2),h(" ",C(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("formInfo",t.formInfo),n(3),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),d("optionSelectForce",t.dataModel.linkPlanId)("optionPlaceholder",C(13,12,"TITLE.Category")),n(2),d("optionSelectForce",t.dataModel.linkClientId)("optionPlaceholder",C(15,14,"TITLE.Category")),n(2),d("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[F,Te,Pe,ye,De,N,he,Ct,V],encapsulation:2});var Vn=lo;var hl=()=>[5,10,20,100],vl=o=>({display:o});function _l(o,r){if(o&1){let e=M();a(0,"div",34)(1,"a",35),I("click",function(){p(e);let t=g();return u(t.onActionButtonNewRow())}),v(2,"i",36)(3,"br"),s(),a(4,"p",37),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.ADD")," "))}function Cl(o,r){if(o&1){let e=M();a(0,"div",34)(1,"a",38),I("click",function(){p(e);let t=g();return u(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",39)(3,"br"),s(),a(4,"p",37),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function Il(o,r){if(o&1){let e=M();a(0,"div",34)(1,"a",40),I("click",function(){p(e);let t=g();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",41)(3,"br"),s(),a(4,"p",37),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function bl(o,r){if(o&1&&(a(0,"mat-header-cell",42),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ml(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.id," ")}}function Pl(o,r){if(o&1&&(a(0,"mat-header-cell",42),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function yl(o,r){if(o&1&&(a(0,"mat-cell"),m(1),_(2,"cmssiteinfo"),_(3,"async"),s()),o&2){let e=r.$implicit;n(),h(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function Tl(o,r){if(o&1&&(a(0,"mat-header-cell",42),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Dl(o,r){if(o&1&&v(0,"select",45),o&2){let e=g().$implicit,i=g();d("contentService",i.contentService)("row",e)("ngStyle",gt(3,vl,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function El(o,r){if(o&1&&(a(0,"mat-cell"),v(1,"i",43),_(2,"statusIconClass"),b(3,Dl,1,5,"select",44),s()),o&2){let e=r.$implicit,i=g();n(),d("ngClass",C(2,2,e.recordStatus)),n(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function wl(o,r){if(o&1&&(a(0,"mat-header-cell",42),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Rl(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.expireDate," ")}}function Al(o,r){o&1&&(a(0,"mat-header-cell"),m(1),_(2,"translate"),s()),o&2&&(n(),h(" ",C(2,1,"TITLE.OPTION")," "))}function xl(o,r){if(o&1&&(a(0,"mat-cell",46)(1,"button",47)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),o&2){let e=k(5);n(),d("matMenuTriggerFor",e)}}function kl(o,r){o&1&&v(0,"mat-header-row")}function Ll(o,r){if(o&1){let e=M();a(0,"mat-row",48),I("click",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))}),s()}if(o&2){let e=r.$implicit,i=g();Z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var co=class co extends nt{constructor(e,i,t,l,S,c,G,se,je,St,At){super(e,new Vt,St,S,se);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.router=l;this.tokenHelper=S;this.cmsStoreService=c;this.cdr=G;this.translate=se;this.pageInfo=je;this.publicHelper=St;this.dialog=At;this.requestLinkPlanId=0;this.requestLinkClientId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new de;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","ExpireDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:It=>this.onSubmitOptionsSearch(It)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=J.Descending}ngOnInit(){if(this.requestLinkPlanId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkPlanId")),this.requestLinkPlanId&&this.requestLinkPlanId>0){let e=new $;e.propertyName="LinkPlanId",e.value=this.requestLinkPlanId,this.filteModelContent.filters.push(e)}if(this.requestLinkClientId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkClientId")),this.requestLinkClientId&&this.requestLinkClientId>0){let e=new $;e.propertyName="LinkClientId",e.value=this.requestLinkClientId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ne(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Vt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0){let t=new $;t.propertyName="LinkCategoryId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new de,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null||this.categoryModelSelected.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new Le;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={parentId:this.categoryModelSelected.id},this.dialog.open(kn,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new Le;i.disableClose=!0,i.autoFocus=!0,i.data={id:this.tableRowSelected.id},this.dialog.open(Vn,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ln,{height:"40%",panelClass:i,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),S=new $;S.propertyName="recordStatus",S.value=we.Available,l.filters.push(S),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};co.\u0275fac=function(i){return new(i||co)(f(Ft),f(vt),f(B),f(xe),f(fe),f(ue),f(L),f(x),f(ot),f(O),f(_e))},co.\u0275cmp=A({type:co,selectors:[["app-data-provider-plan-client-list"]],standalone:!1,features:[X],decls:50,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=M();a(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(c){return p(l),D(t.viewGuideNotice,c)||(t.viewGuideNotice=c),u(c)}),I("optionOnActionButtonMemoRow",function(){return p(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),u(t.onActionButtonPrintRow())}),P(1,4),m(2," -------------------------------------- "),y(),be(3,5)(4,6),P(5,7),a(6,"a",8),I("click",function(){return p(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),v(7,"i",9),s(),a(8,"a",8),I("click",function(){return p(l),u(t.onActionButtonReload())}),v(9,"i",10),s(),y(),P(10,11),a(11,"a",12),I("click",function(){return p(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(12,"mat-slide-toggle",13),m(13),_(14,"translate"),s(),a(15,"a",12),I("click",function(){return p(l),u(t.onActionButtonStatist())}),v(16,"mat-slide-toggle",13),m(17),_(18,"translate"),s(),y(),P(19,14),b(20,_l,7,3,"div",15),y(),P(21,16),b(22,Cl,7,3,"div",15)(23,Il,7,3,"div",15),y(),P(24,17),a(25,"app-cms-search-list",18),E("optionsChange",function(c){return p(l),D(t.optionsSearch,c)||(t.optionsSearch=c),u(c)}),s(),a(26,"app-cms-statist-list",18),E("optionsChange",function(c){return p(l),D(t.optionsStatist,c)||(t.optionsStatist=c),u(c)}),s(),y(),P(27,19),a(28,"mat-table",20,0),I("matSortChange",function(){p(l);let c=k(29);return u(t.onTableSortData(c))}),P(30,21),b(31,bl,2,1,"mat-header-cell",22)(32,Ml,2,1,"mat-cell",23),y(),P(33,24),b(34,Pl,2,1,"mat-header-cell",22)(35,yl,4,5,"mat-cell",23),y(),P(36,25),b(37,Tl,2,1,"mat-header-cell",22)(38,El,4,4,"mat-cell",23),y(),P(39,26),b(40,wl,2,1,"mat-header-cell",22)(41,Rl,2,1,"mat-cell",23),y(),P(42,27),b(43,Al,3,3,"mat-header-cell",28)(44,xl,6,1,"mat-cell",29),y(),b(45,kl,1,0,"mat-header-row",30)(46,Ll,1,2,"mat-row",31),s(),y(),P(47,32),a(48,"mat-paginator",33,1),I("page",function(c){return p(l),u(t.onTablePageingData(c))}),s(),y(),s()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(9),Z("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),d("checked",t.optionsSearch.data.show),n(),h("",C(14,25,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),h("",C(18,27,"ACTION.STATIST")," "),n(3),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow)&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id)>0),n(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(2),T("options",t.optionsSearch),n(),T("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(17),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ee(29,hl)))},dependencies:[bt,F,Mt,ke,Ve,W,ze,Ke,Je,Ye,Xe,Be,Ze,Ge,$e,Fe,Oe,et,Ne,He,tt,it,rt,at,st,lt,Dt,mt,V,Et,wt],encapsulation:2});var mo=co;var Vl=["*"];function Bl(o,r){if(o&1&&(a(0,"label",14),m(1),s()),o&2){let e=g();d("for",_i("app-cms-site-selector-",e.id)),n(),w(e.optionLabel)}}function Ol(o,r){if(o&1&&(v(0,"img",15),_(1,"cmsthumbnail")),o&2){let e=g();d("src",R(C(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),ie)}}function Gl(o,r){if(o&1&&(v(0,"img",15),_(1,"cmsthumbnail")),o&2){let e=g().$implicit;d("src",R(C(1,2,e.linkMainImageIdSrc)),ie)}}function Fl(o,r){if(o&1&&(a(0,"mat-option",16),b(1,Gl,2,4,"img",5),a(2,"span"),m(3),s()()),o&2){let e=r.$implicit,i=g();d("value",e)("disabled",i.optionDisabled),n(),d("ngIf",e.linkMainImageIdSrc),n(2),w(i.displayOption(e))}}function Nl(o,r){o&1&&v(0,"i",17)}function Hl(o,r){o&1&&v(0,"i",18)}function jl(o,r){if(o&1){let e=M();a(0,"i",19),I("click",function(){p(e);let t=g();return u(t.onActionSelectClear())}),s()}}function ql(o,r){o&1&&(a(0,"em"),m(1),_(2,"translate"),s()),o&2&&(n(),h("(",C(2,1,"TITLE.Necessary"),")"))}var fi=class fi{constructor(r,e,i,t,l,S){this.coreEnumService=r;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=l;this.categoryService=S;this.id=++fi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new H;this.dataModelSelect=new Re;this.formControl=new Ei;this.optionPlaceholder="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionLabel="";this.optionChange=new Lt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(r){this.onActionSelectForce(r)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Jo(""),zo(1500),Ko(),Yo(r=>typeof r=="string"||typeof r=="number"?this.DataGetAll(r||""):[]))}displayFn(r){return r?r.title:void 0}displayOption(r){return r?r.title:void 0}DataGetAll(r){return ne(this,null,function*(){let e=new de;e.rowPerPage=20,e.accessLoad=!0;let i=new $;i.propertyName="title",i.value=r,i.searchType=bi.Contains,i.clauseType=Ii.Or,e.filters.push(i),r&&typeof+r=="number"&&+r>0&&(i=new $,i.propertyName="id",i.value=r,i.searchType=bi.Equal,i.clauseType=Ii.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield Qo(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(r){this.dataModelSelect=r,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(r){return this.filteredOptions.pipe(Uo(e=>(e.find(i=>i.id===r.id)||e.push(r),e)))}onActionSelectForce(r){if(typeof r=="number"&&r>0){if(this.dataModelSelect&&this.dataModelSelect.id===r)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===r)){let e=this.dataModelResult.listItems.find(i=>i.id===r);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(r).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof r==typeof Re){this.filteredOptions=this.push(r),this.dataModelSelect=r,this.formControl.setValue(r);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Re,this.loadOptions()}};fi.nextId=0,fi.\u0275fac=function(e){return new(e||fi)(f(ee),f(B),f(x),f(L),f(O),f(pt))},fi.\u0275cmp=A({type:fi,selectors:[["app-data-provider-plan-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Vl,decls:18,vars:25,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=M();en(),a(0,"div",1),v(1,"app-progress-spinner",2),b(2,Bl,2,3,"label",3),a(3,"span",4),b(4,Ol,2,4,"img",5),m(5," \xA0"),s(),v(6,"input",6),a(7,"mat-autocomplete",7,0),I("optionSelected",function(S){return p(t),u(i.onActionSelect(S.option.value))}),b(9,Fl,4,4,"mat-option",8),_(10,"async"),s(),b(11,Nl,1,0,"i",9)(12,Hl,1,0,"i",10)(13,jl,1,0,"i",11),a(14,"i",12),_(15,"translate"),I("click",function(){return p(t),u(i.onActionButtonReload())}),s(),b(16,ql,3,3,"em",13),tn(17),s()}if(e&2){let t=k(8);n(),d("optionsInfoAreaId",i.constructorInfoAreaId),n(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),n(2),d("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),n(2),d("placeholder",R(i.optionPlaceholder))("id",_i("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),si("disabled",i.optionDisabled?!0:null),n(),d("displayWith",i.displayFn),n(2),d("ngForOf",C(10,21,i.filteredOptions)),n(2),d("ngIf",!i.formControl.valid),n(),d("ngIf",i.optionRequired&&i.formControl.valid),n(),d("ngIf",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),n(),Z("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),d("title",R(C(15,23,"ACTION.RELOAD"))),n(2),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id<=0))}},dependencies:[Ci,F,Se,ge,ut,rn,ln,an,cn,sn,W,N,mt,V,Ie],encapsulation:2});var po=fi;var Ql=["vform"];function Ul(o,r){if(o&1){let e=M();a(0,"app-cms-enum-record-status-selector",29),E("modelChange",function(t){p(e);let l=g();return D(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),s()}if(o&2){let e=g();T("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function zl(o,r){o&1&&(a(0,"mat-error"),m(1," Title is "),a(2,"strong"),m(3),_(4,"translate"),s()()),o&2&&(n(3),w(C(4,1,"MESSAGE.required")))}function Kl(o,r){o&1&&(a(0,"mat-error"),m(1," Description is "),a(2,"strong"),m(3),_(4,"translate"),s()()),o&2&&(n(3),w(C(4,1,"MESSAGE.required")))}function Jl(o,r){if(o&1&&(v(0,"img",30),_(1,"cmsthumbnail")),o&2){let e=g();d("src",R(C(1,2,e.dataModel.linkMainImageIdSrc)),ie)}}function Yl(o,r){if(o&1){let e=M();a(0,"div",14)(1,"label",31),I("click",function(){p(e);let t=g();return u(t.fileManagerOpenForm=!0)}),m(2),_(3,"translate"),s(),a(4,"input",32,5),_(6,"translate"),E("ngModelChange",function(t){p(e);let l=g();return D(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),u(t)}),I("click",function(){p(e);let t=g();return u(t.fileManagerOpenForm=!0)}),s(),a(7,"cms-file-manager",33),I("itemSelected",function(t){p(e);let l=g();return u(l.onActionFileSelected(t))}),E("openFormChange",function(t){p(e);let l=g();return D(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),u(t)}),s()()}if(o&2){let e=g();n(2),w(C(3,12,"TITLE.Icon_File")),n(2),d("placeholder",R(C(6,14,"TITLE.Original_File_ID"))),T("ngModel",e.dataModel.linkMainImageId),n(3),d("language",e.appLanguage)("isPopup",!0),T("openForm",e.fileManagerOpenForm),d("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Xl(o,r){if(o&1){let e=M();a(0,"div",34)(1,"button",35),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(2,"i",36),m(3),_(4,"translate"),s(),a(5,"button",37),v(6,"i",38),m(7),_(8,"translate"),s()()}if(o&2){g();let e=k(10);n(3),h(" ",C(4,3,"ACTION.CANCEL")," "),n(2),d("disabled",!e.form.valid),n(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var uo=class uo extends yt{constructor(e,i,t,l,S,c,G,se,je){super(l,new Yt,G,je);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataproviderplanpriceservice=l;this.cmsToastrService=S;this.coreSiteService=c;this.publicHelper=G;this.cdr=se;this.translate=je;this.requestLinkPlanId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.currency="";this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new H;this.dataModel=new Yt;this.formInfo=new Q;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkPlanId=+e.linkPlanId||0),this.requestLinkPlanId>0&&(this.dataModel.linkPlanId=this.requestLinkPlanId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.DataGetCurrency()}DataGetCurrency(){this.coreSiteService.ServiceGetCurrencyMaster().subscribe({next:e=>{e.isSuccess?this.currency=e.item:this.cmsToastrService.typeErrorMessage(e.errorMessage)},error:e=>{this.cmsToastrService.typeError(e)}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataproviderplanpriceservice.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Information_plan_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};uo.\u0275fac=function(i){return new(i||uo)(f(q),f(j),f(ee),f(Nt),f(B),f(Mi),f(O),f(L),f(x))},uo.\u0275cmp=A({type:uo,selectors:[["app-data-provider-plan-price-add"]],viewQuery:function(i,t){if(i&1&&U(Ql,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[X],decls:47,vars:34,consts:[["vform","ngForm"],["Title",""],["Description",""],["PeriodDay",""],["Price",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.periodDay",1,"color-highlight"],["matInput","","type","number","name","dataModel.periodDay","placeholder","0","id","dataModel.periodDay",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.price",1,"color-highlight"],["matInput","","type","number","name","dataModel.price","placeholder","0","id","dataModel.price",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=M();a(0,"div",6),v(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),m(4),s(),a(5,"p"),m(6),_(7,"translate"),s(),v(8,"app-cms-form-result-message",10),a(9,"form",11,0),I("ngSubmit",function(){return p(l),u(t.onFormSubmit())}),b(11,Ul,1,5,"app-cms-enum-record-status-selector",12),a(12,"app-data-provider-plan-selector",13),_(13,"translate"),I("optionChange",function(c){return p(l),u(t.onActionSelectorSelect(c))}),s(),a(14,"div",14)(15,"label",15),m(16),s(),a(17,"input",16,1),E("ngModelChange",function(c){return p(l),D(t.dataModel.title,c)||(t.dataModel.title=c),u(c)}),s(),a(19,"em"),m(20),s(),b(21,zl,5,3,"mat-error",17),s(),a(22,"div",14)(23,"label",18),m(24),s(),a(25,"textarea",19,2),E("ngModelChange",function(c){return p(l),D(t.dataModel.description,c)||(t.dataModel.description=c),u(c)}),m(27,"        "),s(),a(28,"em"),m(29),s(),b(30,Kl,5,3,"mat-error",17),s(),a(31,"div",20)(32,"a",21),_(33,"cmsthumbnail"),b(34,Jl,2,4,"img",22),s()(),b(35,Yl,8,16,"div",23),a(36,"div",14)(37,"label",24),m(38),s(),a(39,"input",25,3),E("ngModelChange",function(c){return p(l),D(t.dataModel.periodDay,c)||(t.dataModel.periodDay=c),u(c)}),s()(),a(41,"div",14)(42,"label",26),m(43),s(),a(44,"input",27,4),E("ngModelChange",function(c){return p(l),D(t.dataModel.price,c)||(t.dataModel.price=c),u(c)}),s()(),b(46,Xl,9,7,"div",28),s()()()}if(i&2){let l=k(18),S=k(26);n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),h(" ",t.formInfo.formTitle," "),n(2),h(" ",C(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("formInfo",t.formInfo),n(3),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),d("optionSelectForce",t.dataModel.linkPlanId)("optionPlaceholder",C(13,30,"TITLE.Information_Plan")),n(4),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),n(3),h("",l.value.length," / 100"),n(),d("ngIf",l.errors==null?null:l.errors.required),n(3),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),n(4),h("",S.value.length," / 500"),n(),d("ngIf",S.errors==null?null:S.errors.required),n(2),d("href",R(C(33,32,t.dataModel.linkMainImageIdSrc)),ie),n(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),n(),d("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),n(3),w(t.fieldsInfo.periodDay==null?null:t.fieldsInfo.periodDay.fieldTitle),n(),T("ngModel",t.dataModel.periodDay),n(4),w(t.fieldsInfo.price==null?null:t.fieldsInfo.price.fieldTitle),n(),T("ngModel",t.dataModel.price),n(2),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[F,Te,Se,nn,ge,Pe,qe,We,ve,ye,Ue,W,De,N,he,In,_t,po,V,Ie],encapsulation:2});var Bn=uo;var Zl=["vform"];function $l(o,r){if(o&1){let e=M();a(0,"div",9)(1,"button",10),I("click",function(){p(e);let t=g();return u(t.onFormDelete())}),v(2,"i",11),m(3),_(4,"translate"),s(),a(5,"button",12),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(6,"i",13),m(7),_(8,"translate"),s()()}if(o&2){let e=g();n(),d("disabled",!e.formInfo.submitButtonEnabled),n(2),h(" ",C(4,3,"ACTION.DELETE")," "),n(4),h(" ",C(8,5,"ACTION.CANCEL")," ")}}var fo=class fo{constructor(r,e,i,t,l,S,c){this.data=r;this.dialogRef=e;this.publicHelper=i;this.dataproviderplanservice=t;this.cdr=l;this.translate=S;this.cmsToastrService=c;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new H;this.formInfo=new Q;this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=+r.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.dataproviderplanservice.setAccessLoad(),this.dataproviderplanservice.setAccessDataType(Me.Editor),this.dataproviderplanservice.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(r)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.dataproviderplanservice.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(r)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(r)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};fo.\u0275fac=function(e){return new(e||fo)(f(q),f(j),f(O),f(Nt),f(L),f(x),f(B))},fo.\u0275cmp=A({type:fo,selectors:[["app-data-provider-plan-price-delete"]],viewQuery:function(e,i){if(e&1&&U(Zl,5),e&2){let t;z(t=K())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:10,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","readonly","","id","dataModelResultContent.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){if(e&1){let t=M();a(0,"div",1),v(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),m(4),s(),a(5,"p"),m(6),_(7,"translate"),s(),a(8,"div",5)(9,"label",6),m(10),s(),a(11,"input",7,0),E("ngModelChange",function(S){return p(t),D(i.dataModelResultContent.item.title,S)||(i.dataModelResultContent.item.title=S),u(S)}),s()(),b(13,$l,9,7,"div",8),s()()}e&2&&(n(),d("optionsInfoAreaId",i.constructorInfoAreaId),n(3),h(" ",i.formInfo.formTitle," "),n(2),h(" ",C(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),n(),d("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModelResultContent.item.title),n(2),d("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[F,Se,ge,ut,ve,W,N,V],encapsulation:2});var On=fo;var ec=["vform"];function tc(o,r){if(o&1){let e=M();a(0,"app-cms-enum-record-status-selector",29),E("modelChange",function(t){p(e);let l=g();return D(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),s()}if(o&2){let e=g();T("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ic(o,r){o&1&&(a(0,"mat-error"),m(1," Title is "),a(2,"strong"),m(3),_(4,"translate"),s()()),o&2&&(n(3),w(C(4,1,"MESSAGE.required")))}function oc(o,r){o&1&&(a(0,"mat-error"),m(1," Description is "),a(2,"strong"),m(3),_(4,"translate"),s()()),o&2&&(n(3),w(C(4,1,"MESSAGE.required")))}function nc(o,r){if(o&1&&(v(0,"img",30),_(1,"cmsthumbnail")),o&2){let e=g();d("src",R(C(1,2,e.dataModel.linkMainImageIdSrc)),ie)}}function rc(o,r){if(o&1){let e=M();a(0,"div",14)(1,"label",31),I("click",function(){p(e);let t=g();return u(t.fileManagerOpenForm=!0)}),m(2),_(3,"translate"),s(),a(4,"input",32,5),_(6,"translate"),E("ngModelChange",function(t){p(e);let l=g();return D(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),u(t)}),I("click",function(){p(e);let t=g();return u(t.fileManagerOpenForm=!0)}),s(),a(7,"cms-file-manager",33),I("itemSelected",function(t){p(e);let l=g();return u(l.onActionFileSelected(t))}),E("openFormChange",function(t){p(e);let l=g();return D(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),u(t)}),s()()}if(o&2){let e=g();n(2),w(C(3,12,"TITLE.Icon_File")),n(2),d("placeholder",R(C(6,14,"TITLE.Original_File_ID"))),T("ngModel",e.dataModel.linkMainImageId),n(3),d("language",e.appLanguage)("isPopup",!0),T("openForm",e.fileManagerOpenForm),d("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function ac(o,r){if(o&1){let e=M();a(0,"div",34)(1,"button",35),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(2,"i",36),m(3),_(4,"translate"),s(),a(5,"button",37),v(6,"i",38),m(7),_(8,"translate"),s()()}if(o&2){g();let e=k(10);n(3),h(" ",C(4,3,"ACTION.CANCEL")," "),n(2),d("disabled",!e.form.valid),n(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var So=class So extends Tt{constructor(e,i,t,l,S,c,G,se,je){super(l,new Yt,G,je);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataproviderplanpriceservice=l;this.cmsToastrService=S;this.coreSiteService=c;this.publicHelper=G;this.cdr=se;this.translate=je;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.currency="";this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Pt;this.dataModel=new Yt;this.formInfo=new Q;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetCurrency()}DataGetCurrency(){this.coreSiteService.ServiceGetCurrencyMaster().subscribe({next:e=>{e.isSuccess&&(this.currency=e.item)},error:e=>{this.cmsToastrService.typeError(e)}})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataproviderplanpriceservice.setAccessLoad(),this.dataproviderplanpriceservice.setAccessDataType(Me.Editor),this.dataproviderplanpriceservice.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataproviderplanpriceservice.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Information_plan_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};So.\u0275fac=function(i){return new(i||So)(f(q),f(j),f(ee),f(Nt),f(B),f(Mi),f(O),f(L),f(x))},So.\u0275cmp=A({type:So,selectors:[["app-data-provider-plan-price-edit"]],viewQuery:function(i,t){if(i&1&&U(ec,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[X],decls:47,vars:34,consts:[["vform","ngForm"],["Title",""],["Description",""],["PeriodDay",""],["Price",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.periodDay",1,"color-highlight"],["matInput","","type","number","name","dataModel.periodDay","placeholder","0","id","dataModel.periodDay",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.price",1,"color-highlight"],["matInput","","type","number","name","dataModel.price","placeholder","0","id","dataModel.price",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=M();a(0,"div",6),v(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),m(4),s(),a(5,"p"),m(6),_(7,"translate"),s(),v(8,"app-cms-form-result-message",10),a(9,"form",11,0),I("ngSubmit",function(){return p(l),u(t.onFormSubmit())}),b(11,tc,1,5,"app-cms-enum-record-status-selector",12),a(12,"app-data-provider-plan-selector",13),_(13,"translate"),I("optionChange",function(c){return p(l),u(t.onActionSelectorSelect(c))}),s(),a(14,"div",14)(15,"label",15),m(16),s(),a(17,"input",16,1),E("ngModelChange",function(c){return p(l),D(t.dataModel.title,c)||(t.dataModel.title=c),u(c)}),s(),a(19,"em"),m(20),s(),b(21,ic,5,3,"mat-error",17),s(),a(22,"div",14)(23,"label",18),m(24),s(),a(25,"textarea",19,2),E("ngModelChange",function(c){return p(l),D(t.dataModel.description,c)||(t.dataModel.description=c),u(c)}),m(27,"        "),s(),a(28,"em"),m(29),s(),b(30,oc,5,3,"mat-error",17),s(),a(31,"div",20)(32,"a",21),_(33,"cmsthumbnail"),b(34,nc,2,4,"img",22),s()(),b(35,rc,8,16,"div",23),a(36,"div",14)(37,"label",24),m(38),s(),a(39,"input",25,3),E("ngModelChange",function(c){return p(l),D(t.dataModel.periodDay,c)||(t.dataModel.periodDay=c),u(c)}),s()(),a(41,"div",14)(42,"label",26),m(43),s(),a(44,"input",27,4),E("ngModelChange",function(c){return p(l),D(t.dataModel.price,c)||(t.dataModel.price=c),u(c)}),s()(),b(46,ac,9,7,"div",28),s()()()}if(i&2){let l=k(18),S=k(26);n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),h(" ",t.formInfo.formTitle," "),n(2),h(" ",C(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("formInfo",t.formInfo),n(3),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),d("optionSelectForce",t.dataModel.linkPlanId)("optionPlaceholder",C(13,30,"TITLE.Information_Plan")),n(4),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),n(3),h("",l.value.length," / 100"),n(),d("ngIf",l.errors==null?null:l.errors.required),n(3),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),n(4),h("",S.value.length," / 500"),n(),d("ngIf",S.errors==null?null:S.errors.required),n(2),d("href",R(C(33,32,t.dataModel.linkMainImageIdSrc)),ie),n(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),n(),d("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),n(3),w(t.fieldsInfo.periodDay==null?null:t.fieldsInfo.periodDay.fieldTitle),n(),T("ngModel",t.dataModel.periodDay),n(4),w(t.fieldsInfo.price==null?null:t.fieldsInfo.price.fieldTitle),n(),T("ngModel",t.dataModel.price),n(2),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[F,Te,Se,nn,ge,Pe,qe,We,ve,ye,Ue,W,De,N,he,In,_t,po,V,Ie],encapsulation:2});var Gn=So;var sc=()=>[5,10,20,100],lc=o=>({display:o});function cc(o,r){if(o&1&&v(0,"app-data-provider-plan-header",40),o&2){let e=g();d("optionId",e.requestLinkPlanId)}}function dc(o,r){if(o&1){let e=M();a(0,"a",41),I("click",function(){p(e);let t=g();return u(t.onActionBackToParent())}),v(1,"i",42),s()}}function mc(o,r){if(o&1){let e=M();a(0,"div",43)(1,"a",44),I("click",function(){p(e);let t=g();return u(t.onActionButtonNewRow())}),v(2,"i",45)(3,"br"),s(),a(4,"p",46),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.ADD")," "))}function pc(o,r){if(o&1){let e=M();a(0,"div",43)(1,"a",47),I("click",function(){p(e);let t=g();return u(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",48)(3,"br"),s(),a(4,"p",46),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function uc(o,r){if(o&1){let e=M();a(0,"div",43)(1,"a",49),I("click",function(){p(e);let t=g();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",50)(3,"br"),s(),a(4,"p",46),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function fc(o,r){if(o&1){let e=M();a(0,"div",43)(1,"a",51),I("click",function(){p(e);let t=g();return u(t.onActionButtonTransactionList(t.tableRowSelected))}),v(2,"i",52)(3,"br"),s(),a(4,"p",46),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.TRANSACTIONS")," "))}function Sc(o,r){o&1&&(a(0,"mat-header-cell",53),m(1),_(2,"translate"),s()),o&2&&(n(),h(" ",C(2,1,"TITLE.PICTURE")," "))}function gc(o,r){if(o&1&&(v(0,"img",55),_(1,"cmsthumbnail")),o&2){let e=g().$implicit;d("src",R(C(1,2,e.linkMainImageIdSrc)),ie)}}function hc(o,r){if(o&1&&(a(0,"mat-cell"),b(1,gc,2,4,"img",54),s()),o&2){let e=r.$implicit;n(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function vc(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function _c(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.id," ")}}function Cc(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ic(o,r){if(o&1&&(a(0,"mat-cell"),m(1),_(2,"cmssiteinfo"),_(3,"async"),s()),o&2){let e=r.$implicit;n(),h(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function bc(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Mc(o,r){if(o&1&&v(0,"select",58),o&2){let e=g().$implicit,i=g();d("contentService",i.contentService)("row",e)("ngStyle",gt(3,lc,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Pc(o,r){if(o&1&&(a(0,"mat-cell"),v(1,"i",56),_(2,"statusIconClass"),b(3,Mc,1,5,"select",57),s()),o&2){let e=r.$implicit,i=g();n(),d("ngClass",C(2,2,e.recordStatus)),n(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function yc(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Tc(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.title," ")}}function Dc(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function Ec(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.description," ")}}function wc(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.periodDay==null?null:e.fieldsInfo.periodDay.fieldTitle," ")}}function Rc(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.periodDay," ")}}function Ac(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.price==null?null:e.fieldsInfo.price.fieldTitle," ")}}function xc(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.price," ")}}function kc(o,r){o&1&&(a(0,"mat-header-cell"),m(1),_(2,"translate"),s()),o&2&&(n(),h(" ",C(2,1,"TITLE.OPTION")," "))}function Lc(o,r){if(o&1&&(a(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),o&2){let e=k(5);n(),d("matMenuTriggerFor",e)}}function Vc(o,r){o&1&&v(0,"mat-header-row")}function Bc(o,r){if(o&1){let e=M();a(0,"mat-row",61),I("click",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))}),s()}if(o&2){let e=r.$implicit,i=g();Z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var go=class go extends nt{constructor(e,i,t,l,S,c,G,se,je,St,At){super(e,new Yt,St,S,G);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.router=l;this.tokenHelper=S;this.cdr=c;this.translate=G;this.cmsStoreService=se;this.pageInfo=je;this.publicHelper=St;this.dialog=At;this.requestLinkPlanId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new de;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","Description","PeriodDay","Price"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","Description","PeriodDay","Price"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:It=>this.onSubmitOptionsSearch(It)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=J.Descending}ngOnInit(){if(this.requestLinkPlanId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkPlanId")),this.requestLinkPlanId&&this.requestLinkPlanId>0){let e=new $;e.propertyName="LinkPlanId",e.value=this.requestLinkPlanId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ne(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Yt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new Le;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={LinkPlanId:this.requestLinkPlanId},this.dialog.open(Bn,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new Le;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id},this.dialog.open(Gn,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(On,{height:"40%",panelClass:i,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonTransactionList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/data-provider/transaction/LinkPlanPriceId/"+e.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),S=new $;S.propertyName="recordStatus",S.value=we.Available,l.filters.push(S),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/data-provider/plan/"])}};go.\u0275fac=function(i){return new(i||go)(f(Nt),f(B),f(vt),f(xe),f(fe),f(L),f(x),f(ue),f(ot),f(O),f(_e))},go.\u0275cmp=A({type:go,selectors:[["app-data-provider-plan-price-list"]],standalone:!1,features:[X],decls:64,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","PeriodDay"],["matColumnDef","Price"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-circle-dollar","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=M();b(0,cc,1,1,"app-data-provider-plan-header",3),a(1,"app-cms-html-list",4),E("optionActionGuideNoticeDisplayChange",function(c){return p(l),D(t.viewGuideNotice,c)||(t.viewGuideNotice=c),u(c)}),I("optionOnActionButtonMemoRow",function(){return p(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),u(t.onActionButtonPrintRow())}),be(2,5)(3,6)(4,7),P(5,8),b(6,dc,2,0,"a",9),a(7,"a",10),I("click",function(){return p(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",11),s(),a(9,"a",10),I("click",function(){return p(l),u(t.onActionButtonReload())}),v(10,"i",12),s(),y(),P(11,13),a(12,"a",14),I("click",function(){return p(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",15),m(14),_(15,"translate"),s(),a(16,"a",14),I("click",function(){return p(l),u(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",15),m(18),_(19,"translate"),s(),y(),P(20,16),b(21,mc,7,3,"div",17),y(),P(22,18),b(23,pc,7,3,"div",17)(24,uc,7,3,"div",17)(25,fc,7,3,"div",17),y(),P(26,19),a(27,"app-cms-search-list",20),E("optionsChange",function(c){return p(l),D(t.optionsSearch,c)||(t.optionsSearch=c),u(c)}),s(),a(28,"app-cms-statist-list",20),E("optionsChange",function(c){return p(l),D(t.optionsStatist,c)||(t.optionsStatist=c),u(c)}),s(),y(),P(29,21),a(30,"mat-table",22,0),I("matSortChange",function(){p(l);let c=k(31);return u(t.onTableSortData(c))}),P(32,23),b(33,Sc,3,3,"mat-header-cell",24)(34,hc,2,1,"mat-cell",25),y(),P(35,26),b(36,vc,2,1,"mat-header-cell",24)(37,_c,2,1,"mat-cell",25),y(),P(38,27),b(39,Cc,2,1,"mat-header-cell",24)(40,Ic,4,5,"mat-cell",25),y(),P(41,28),b(42,bc,2,1,"mat-header-cell",24)(43,Pc,4,4,"mat-cell",25),y(),P(44,29),b(45,yc,2,1,"mat-header-cell",24)(46,Tc,2,1,"mat-cell",25),y(),P(47,30),b(48,Dc,2,1,"mat-header-cell",24)(49,Ec,2,1,"mat-cell",25),y(),P(50,31),b(51,wc,2,1,"mat-header-cell",24)(52,Rc,2,1,"mat-cell",25),y(),P(53,32),b(54,Ac,2,1,"mat-header-cell",24)(55,xc,2,1,"mat-cell",25),y(),P(56,33),b(57,kc,3,3,"mat-header-cell",34)(58,Lc,6,1,"mat-cell",35),y(),b(59,Vc,1,0,"mat-header-row",36)(60,Bc,1,2,"mat-row",37),s(),y(),P(61,38),a(62,"mat-paginator",39,1),I("page",function(c){return p(l),u(t.onTablePageingData(c))}),s(),y(),s()}i&2&&(d("ngIf",t.requestLinkPlanId>0),n(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),n(5),d("ngIf",t.requestLinkPlanId>0),n(4),Z("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),d("checked",t.optionsSearch.data.show),n(),h("",C(15,28,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),h("",C(19,30,"ACTION.STATIST")," "),n(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),n(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),n(2),T("options",t.optionsSearch),n(),T("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(29),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ee(32,sc)))},dependencies:[bt,F,Mt,ke,Ve,W,ze,Ke,Je,Ye,Xe,Be,Ze,Ge,$e,Fe,Oe,et,Ne,He,tt,it,rt,at,st,lt,Dt,pi,mt,V,Et,Ie,wt],encapsulation:2});var jo=go;var Oc=["vform"];function Gc(o,r){if(o&1){let e=M();a(0,"app-cms-enum-record-status-selector",10),E("modelChange",function(t){p(e);let l=g();return D(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),s()}if(o&2){let e=g();T("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Fc(o,r){if(o&1){let e=M();a(0,"div",11)(1,"button",12),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(2,"i",13),m(3),_(4,"translate"),s(),a(5,"button",14),v(6,"i",15),m(7),_(8,"translate"),s()()}if(o&2){g();let e=k(10);n(3),h(" ",C(4,3,"ACTION.CANCEL")," "),n(2),d("disabled",!e.form.valid),n(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var ho=class ho extends yt{constructor(e,i,t,l,S,c,G,se){super(l,new Bt,c,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanSourceService=l;this.cmsToastrService=S;this.publicHelper=c;this.cdr=G;this.translate=se;this.requestPlanId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new H;this.dataModel=new Bt;this.formInfo=new Q;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestPlanId=+e.parentId||0),this.requestPlanId>0&&(this.dataModel.linkPlanId=this.requestPlanId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanSourceService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||e.id<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ho.\u0275fac=function(i){return new(i||ho)(f(q),f(j),f(ee),f(Ht),f(B),f(O),f(L),f(x))},ho.\u0275cmp=A({type:ho,selectors:[["app-data-provider-plan-source-add"]],viewQuery:function(i,t){if(i&1&&U(Oc,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[X],decls:17,vars:16,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=M();a(0,"div",1),v(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),m(4),s(),a(5,"p"),m(6),_(7,"translate"),s(),v(8,"app-cms-form-result-message",5),a(9,"form",6,0),I("ngSubmit",function(){return p(l),u(t.onFormSubmit())}),b(11,Gc,1,5,"app-cms-enum-record-status-selector",7),a(12,"app-data-provider-plan-category-selector",8),_(13,"translate"),I("optionChange",function(c){return p(l),u(t.onActionSelectorSelect(c))}),s(),a(14,"app-data-provider-plan-category-selector",8),_(15,"translate"),I("optionChange",function(c){return p(l),u(t.onActionSelectorSelect(c))}),s(),b(16,Fc,9,7,"div",9),s()()()}i&2&&(n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),h(" ",t.formInfo.formTitle," "),n(2),h(" ",C(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("formInfo",t.formInfo),n(3),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),d("optionSelectForce",t.dataModel.linkPlanId)("optionPlaceholder",C(13,12,"TITLE.Category")),n(2),d("optionSelectForce",t.dataModel.linkSourceId)("optionPlaceholder",C(15,14,"TITLE.Category")),n(2),d("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[F,Te,Pe,ye,De,N,he,Ct,V],encapsulation:2});var Fn=ho;var Nc=["vform"];function Hc(o,r){if(o&1){let e=M();a(0,"div",9)(1,"button",10),I("click",function(){p(e);let t=g();return u(t.onFormDelete())}),v(2,"i",11),m(3),_(4,"translate"),s(),a(5,"button",12),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(6,"i",13),m(7),_(8,"translate"),s()()}if(o&2){let e=g();n(),d("disabled",!e.formInfo.submitButtonEnabled),n(2),h(" ",C(4,3,"ACTION.DELETE")," "),n(4),h(" ",C(8,5,"ACTION.CANCEL")," ")}}var vo=class vo{constructor(r,e,i,t,l,S,c){this.data=r;this.dialogRef=e;this.publicHelper=i;this.dataProviderPlanSourceService=t;this.cdr=l;this.translate=S;this.cmsToastrService=c;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new H;this.formInfo=new Q;this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=+r.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.dataProviderPlanSourceService.setAccessLoad(),this.dataProviderPlanSourceService.setAccessDataType(Me.Editor),this.dataProviderPlanSourceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(r)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.dataProviderPlanSourceService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(r)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(r)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};vo.\u0275fac=function(e){return new(e||vo)(f(q),f(j),f(O),f(Ht),f(L),f(x),f(B))},vo.\u0275cmp=A({type:vo,selectors:[["app-data-provider-plan-source-delete"]],viewQuery:function(e,i){if(e&1&&U(Nc,5),e&2){let t;z(t=K())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:10,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.linkPlanId",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.linkPlanId","type","text","required","","readonly","","id","dataModelResultContent.item.linkPlanId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){if(e&1){let t=M();a(0,"div",1),v(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),m(4),s(),a(5,"p"),m(6),_(7,"translate"),s(),a(8,"div",5)(9,"label",6),m(10),s(),a(11,"input",7,0),E("ngModelChange",function(S){return p(t),D(i.dataModelResultContent.item.linkPlanId,S)||(i.dataModelResultContent.item.linkPlanId=S),u(S)}),s()(),b(13,Hc,9,7,"div",8),s()()}e&2&&(n(),d("optionsInfoAreaId",i.constructorInfoAreaId),n(3),h(" ",i.formInfo.formTitle," "),n(2),h(" ",C(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),w(i.fieldsInfo.linkPlanId==null?null:i.fieldsInfo.linkPlanId.fieldTitle),n(),d("placeholder",R(i.fieldsInfo.linkPlanId==null?null:i.fieldsInfo.linkPlanId.fieldTitle)),T("ngModel",i.dataModelResultContent.item.linkPlanId),n(2),d("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[F,Se,ge,ut,ve,W,N,V],encapsulation:2});var Nn=vo;var jc=["vform"];function qc(o,r){if(o&1){let e=M();a(0,"app-cms-enum-record-status-selector",10),E("modelChange",function(t){p(e);let l=g();return D(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),s()}if(o&2){let e=g();T("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Wc(o,r){if(o&1){let e=M();a(0,"div",11)(1,"button",12),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(2,"i",13),m(3),_(4,"translate"),s(),a(5,"button",14),v(6,"i",15),m(7),_(8,"translate"),s()()}if(o&2){g();let e=k(10);n(3),h(" ",C(4,3,"ACTION.CANCEL")," "),n(2),d("disabled",!e.form.valid),n(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var _o=class _o extends Tt{constructor(e,i,t,l,S,c,G,se){super(l,new Bt,c,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanSourceService=l;this.cmsToastrService=S;this.publicHelper=c;this.cdr=G;this.translate=se;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Pt;this.dataModel=new Bt;this.formInfo=new Q;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanSourceService.setAccessLoad(),this.dataProviderPlanSourceService.setAccessDataType(Me.Editor),this.dataProviderPlanSourceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanSourceService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||e.id<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};_o.\u0275fac=function(i){return new(i||_o)(f(q),f(j),f(ee),f(Ht),f(B),f(O),f(L),f(x))},_o.\u0275cmp=A({type:_o,selectors:[["app-data-provider-plan-source-edit"]],viewQuery:function(i,t){if(i&1&&U(jc,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[X],decls:18,vars:16,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=M();a(0,"div",1),v(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),m(4),s(),a(5,"p"),m(6),_(7,"translate"),s(),v(8,"app-cms-form-result-message",5),a(9,"form",6,0),I("ngSubmit",function(){return p(l),u(t.onFormSubmit())}),m(11," \\ "),b(12,qc,1,5,"app-cms-enum-record-status-selector",7),a(13,"app-data-provider-plan-category-selector",8),_(14,"translate"),I("optionChange",function(c){return p(l),u(t.onActionSelectorSelect(c))}),s(),a(15,"app-data-provider-plan-category-selector",8),_(16,"translate"),I("optionChange",function(c){return p(l),u(t.onActionSelectorSelect(c))}),s(),b(17,Wc,9,7,"div",9),s()()()}i&2&&(n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),h(" ",t.formInfo.formTitle," "),n(2),h(" ",C(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("formInfo",t.formInfo),n(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),d("optionSelectForce",t.dataModel.linkPlanId)("optionPlaceholder",C(14,12,"TITLE.Category")),n(2),d("optionSelectForce",t.dataModel.linkSourceId)("optionPlaceholder",C(16,14,"TITLE.Category")),n(2),d("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[F,Te,Pe,ye,De,N,he,Ct,V],encapsulation:2});var Hn=_o;var Qc=()=>[5,10,20,100],Uc=o=>({display:o});function zc(o,r){if(o&1){let e=M();a(0,"div",34)(1,"a",35),I("click",function(){p(e);let t=g();return u(t.onActionButtonNewRow())}),v(2,"i",36)(3,"br"),s(),a(4,"p",37),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.ADD")," "))}function Kc(o,r){if(o&1){let e=M();a(0,"div",34)(1,"a",38),I("click",function(){p(e);let t=g();return u(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",39)(3,"br"),s(),a(4,"p",37),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function Jc(o,r){if(o&1){let e=M();a(0,"div",34)(1,"a",40),I("click",function(){p(e);let t=g();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",41)(3,"br"),s(),a(4,"p",37),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function Yc(o,r){if(o&1&&(a(0,"mat-header-cell",42),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Xc(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.id," ")}}function Zc(o,r){if(o&1&&(a(0,"mat-header-cell",42),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function $c(o,r){if(o&1&&(a(0,"mat-cell"),m(1),_(2,"cmssiteinfo"),_(3,"async"),s()),o&2){let e=r.$implicit;n(),h(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function ed(o,r){if(o&1&&(a(0,"mat-header-cell",42),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function td(o,r){if(o&1&&v(0,"select",45),o&2){let e=g().$implicit,i=g();d("contentService",i.contentService)("row",e)("ngStyle",gt(3,Uc,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function id(o,r){if(o&1&&(a(0,"mat-cell"),v(1,"i",43),_(2,"statusIconClass"),b(3,td,1,5,"select",44),s()),o&2){let e=r.$implicit,i=g();n(),d("ngClass",C(2,2,e.recordStatus)),n(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function od(o,r){if(o&1&&(a(0,"mat-header-cell",42),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.linkPlanId==null?null:e.fieldsInfo.linkPlanId.fieldTitle," ")}}function nd(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.linkPlanId," ")}}function rd(o,r){o&1&&(a(0,"mat-header-cell"),m(1),_(2,"translate"),s()),o&2&&(n(),h(" ",C(2,1,"TITLE.OPTION")," "))}function ad(o,r){if(o&1&&(a(0,"mat-cell",46)(1,"button",47)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),o&2){let e=k(5);n(),d("matMenuTriggerFor",e)}}function sd(o,r){o&1&&v(0,"mat-header-row")}function ld(o,r){if(o&1){let e=M();a(0,"mat-row",48),I("click",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))}),s()}if(o&2){let e=r.$implicit,i=g();Z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Co=class Co extends nt{constructor(e,i,t,l,S,c,G,se,je,St,At){super(e,new Bt,St,S,G);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.router=l;this.tokenHelper=S;this.cdr=c;this.translate=G;this.pageInfo=se;this.cmsStoreService=je;this.publicHelper=St;this.dialog=At;this.requestLinkPlanId=0;this.requestLinkSourceId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new de;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus"];this.tabledisplayedColumnsMobileSource=["id","recordStatus"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:It=>this.onSubmitOptionsSearch(It)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=J.Descending}ngOnInit(){if(this.requestLinkPlanId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkPlanId")),this.requestLinkPlanId&&this.requestLinkPlanId>0){let e=new $;e.propertyName="LinkPlanId",e.value=this.requestLinkPlanId,this.filteModelContent.filters.push(e)}if(this.requestLinkSourceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSourceId")),this.requestLinkSourceId&&this.requestLinkSourceId>0){let e=new $;e.propertyName="LinkSourceId",e.value=this.requestLinkSourceId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ne(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Bt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0){let t=new $;t.propertyName="LinkCategoryId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new de,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null||this.categoryModelSelected.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new Le;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={parentId:this.categoryModelSelected.id},this.dialog.open(Fn,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new Le;i.disableClose=!0,i.autoFocus=!0,i.data={id:this.tableRowSelected.id},this.dialog.open(Hn,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Nn,{height:"40%",panelClass:i,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),S=new $;S.propertyName="recordStatus",S.value=we.Available,l.filters.push(S),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Co.\u0275fac=function(i){return new(i||Co)(f(Ht),f(vt),f(B),f(xe),f(fe),f(L),f(x),f(ot),f(ue),f(O),f(_e))},Co.\u0275cmp=A({type:Co,selectors:[["app-data-provider-plan-source-list"]],standalone:!1,features:[X],decls:50,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","linkPlanId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=M();a(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(c){return p(l),D(t.viewGuideNotice,c)||(t.viewGuideNotice=c),u(c)}),I("optionOnActionButtonMemoRow",function(){return p(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),u(t.onActionButtonPrintRow())}),P(1,4),m(2," -------------------------------------- "),y(),be(3,5)(4,6),P(5,7),a(6,"a",8),I("click",function(){return p(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),v(7,"i",9),s(),a(8,"a",8),I("click",function(){return p(l),u(t.onActionButtonReload())}),v(9,"i",10),s(),y(),P(10,11),a(11,"a",12),I("click",function(){return p(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(12,"mat-slide-toggle",13),m(13),_(14,"translate"),s(),a(15,"a",12),I("click",function(){return p(l),u(t.onActionButtonStatist())}),v(16,"mat-slide-toggle",13),m(17),_(18,"translate"),s(),y(),P(19,14),b(20,zc,7,3,"div",15),y(),P(21,16),b(22,Kc,7,3,"div",15)(23,Jc,7,3,"div",15),y(),P(24,17),a(25,"app-cms-search-list",18),E("optionsChange",function(c){return p(l),D(t.optionsSearch,c)||(t.optionsSearch=c),u(c)}),s(),a(26,"app-cms-statist-list",18),E("optionsChange",function(c){return p(l),D(t.optionsStatist,c)||(t.optionsStatist=c),u(c)}),s(),y(),P(27,19),a(28,"mat-table",20,0),I("matSortChange",function(){p(l);let c=k(29);return u(t.onTableSortData(c))}),P(30,21),b(31,Yc,2,1,"mat-header-cell",22)(32,Xc,2,1,"mat-cell",23),y(),P(33,24),b(34,Zc,2,1,"mat-header-cell",22)(35,$c,4,5,"mat-cell",23),y(),P(36,25),b(37,ed,2,1,"mat-header-cell",22)(38,id,4,4,"mat-cell",23),y(),P(39,26),b(40,od,2,1,"mat-header-cell",22)(41,nd,2,1,"mat-cell",23),y(),P(42,27),b(43,rd,3,3,"mat-header-cell",28)(44,ad,6,1,"mat-cell",29),y(),b(45,sd,1,0,"mat-header-row",30)(46,ld,1,2,"mat-row",31),s(),y(),P(47,32),a(48,"mat-paginator",33,1),I("page",function(c){return p(l),u(t.onTablePageingData(c))}),s(),y(),s()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null?null:t.tableRowSelected.linkPlanId)>0?t.tableRowSelected==null?null:t.tableRowSelected.linkPlanId:t.tableRowSelected==null?null:t.tableRowSelected.id),n(9),Z("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),d("checked",t.optionsSearch.data.show),n(),h("",C(14,25,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),h("",C(18,27,"ACTION.STATIST")," "),n(3),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow)&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id)>0),n(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(2),T("options",t.optionsSearch),n(),T("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(17),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ee(29,Qc)))},dependencies:[bt,F,Mt,ke,Ve,W,ze,Ke,Je,Ye,Xe,Be,Ze,Ge,$e,Fe,Oe,et,Ne,He,tt,it,rt,at,st,lt,Dt,mt,V,Et,wt],encapsulation:2});var Io=Co;var cd=["vform"];function dd(o,r){o&1&&(a(0,"mat-header-cell",29),m(1),_(2,"translate"),s()),o&2&&(n(),h(" ",C(2,1,"TITLE.PICTURE")," "))}function md(o,r){if(o&1&&(v(0,"img",31),_(1,"cmsthumbnail")),o&2){let e=g().$implicit;d("src",R(C(1,2,e.linkMainImageIdSrc)),ie)}}function pd(o,r){if(o&1&&(a(0,"mat-cell"),b(1,md,2,4,"img",30),s()),o&2){let e=r.$implicit;n(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function ud(o,r){if(o&1){let e=M();a(0,"app-cms-enum-record-status-selector",32),E("modelChange",function(t){p(e);let l=g();return D(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),s()}if(o&2){let e=g();T("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function fd(o,r){o&1&&(a(0,"mat-error"),m(1," Title is "),a(2,"strong"),m(3),_(4,"translate"),s()()),o&2&&(n(3),w(C(4,1,"MESSAGE.required")))}function Sd(o,r){o&1&&(a(0,"mat-error"),m(1," Description is "),a(2,"strong"),m(3),_(4,"translate"),s()()),o&2&&(n(3),w(C(4,1,"MESSAGE.required")))}function gd(o,r){o&1&&(a(0,"mat-error"),m(1," FontIcon is "),a(2,"strong"),m(3),_(4,"translate"),s()()),o&2&&(n(3),w(C(4,1,"MESSAGE.required")))}function hd(o,r){if(o&1&&(a(0,"mat-header-cell",29),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.linkParentId==null?null:e.fieldsInfo.linkParentId.fieldTitle," ")}}function vd(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.linkParentId," ")}}function _d(o,r){if(o&1&&(v(0,"img",33),_(1,"cmsthumbnail")),o&2){let e=g();d("src",R(C(1,2,e.dataModel.linkMainImageIdSrc)),ie)}}function Cd(o,r){if(o&1){let e=M();a(0,"div",15)(1,"label",34),I("click",function(){p(e);let t=g();return u(t.fileManagerOpenForm=!0)}),m(2),_(3,"translate"),s(),a(4,"input",35,4),_(6,"translate"),E("ngModelChange",function(t){p(e);let l=g();return D(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),u(t)}),I("click",function(){p(e);let t=g();return u(t.fileManagerOpenForm=!0)}),s(),a(7,"cms-file-manager",36),I("itemSelected",function(t){p(e);let l=g();return u(l.onActionFileSelected(t))}),E("openFormChange",function(t){p(e);let l=g();return D(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),u(t)}),s()()}if(o&2){let e=g();n(2),w(C(3,12,"TITLE.Icon_File")),n(2),d("placeholder",R(C(6,14,"TITLE.Original_File_ID"))),T("ngModel",e.dataModel.linkMainImageId),n(3),d("language",e.appLanguage)("isPopup",!0),T("openForm",e.fileManagerOpenForm),d("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Id(o,r){if(o&1){let e=M();a(0,"div",37)(1,"button",38),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(2,"i",39),m(3),_(4,"translate"),s(),a(5,"button",40),v(6,"i",41),m(7),_(8,"translate"),s()()}if(o&2){g();let e=k(10);n(3),h(" ",C(4,3,"ACTION.CANCEL")," "),n(2),d("disabled",!e.form.valid),n(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var bo=class bo extends yt{constructor(e,i,t,l,S,c,G,se){super(l,new xt,c,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanCategoryService=l;this.cmsToastrService=S;this.publicHelper=c;this.cdr=G;this.translate=se;this.requestParentId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new H;this.dataModel=new xt;this.formInfo=new Q;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestParentId=+e.parentId||0),this.requestParentId>0&&(this.dataModel.linkParentId=this.requestParentId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanCategoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};bo.\u0275fac=function(i){return new(i||bo)(f(q),f(j),f(ee),f(Gt),f(B),f(O),f(L),f(x))},bo.\u0275cmp=A({type:bo,selectors:[["app-data-provider-plan-category-add"]],viewQuery:function(i,t){if(i&1&&U(cd,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[X],decls:48,vars:31,consts:[["vform","ngForm"],["Title",""],["Description",""],["FontIcon",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.fontIcon",1,"color-highlight"],["matInput","","name","dataModel.fontIcon","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.fontIcon",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["matColumnDef","LinkParentId"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=M();a(0,"div",5),v(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),m(4),s(),a(5,"p"),m(6),_(7,"translate"),s(),v(8,"app-cms-form-result-message",9),a(9,"form",10,0),I("ngSubmit",function(){return p(l),u(t.onFormSubmit())}),P(11,11),b(12,dd,3,3,"mat-header-cell",12)(13,pd,2,1,"mat-cell",13),y(),b(14,ud,1,5,"app-cms-enum-record-status-selector",14),a(15,"div",15)(16,"label",16),m(17),s(),a(18,"input",17,1),E("ngModelChange",function(c){return p(l),D(t.dataModel.title,c)||(t.dataModel.title=c),u(c)}),s(),a(20,"em"),m(21),s(),b(22,fd,5,3,"mat-error",18),s(),a(23,"div",15)(24,"label",19),m(25),s(),a(26,"textarea",20,2),E("ngModelChange",function(c){return p(l),D(t.dataModel.description,c)||(t.dataModel.description=c),u(c)}),m(28,"        "),s(),a(29,"em"),m(30),s(),b(31,Sd,5,3,"mat-error",18),s(),a(32,"div",15)(33,"label",21),m(34),s(),a(35,"textarea",22,3),E("ngModelChange",function(c){return p(l),D(t.dataModel.fontIcon,c)||(t.dataModel.fontIcon=c),u(c)}),m(37,"        "),s(),b(38,gd,5,3,"mat-error",18),s(),P(39,23),b(40,hd,2,1,"mat-header-cell",12)(41,vd,2,1,"mat-cell",13),y(),a(42,"div",24)(43,"a",25),_(44,"cmsthumbnail"),b(45,_d,2,4,"img",26),s()(),b(46,Cd,8,16,"div",27)(47,Id,9,7,"div",28),s()()()}if(i&2){let l=k(19),S=k(27),c=k(36);n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),h(" ",t.formInfo.formTitle," "),n(2),h(" ",C(7,27,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("formInfo",t.formInfo),n(6),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(3),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),n(3),h("",l.value.length," / 100"),n(),d("ngIf",l.errors==null?null:l.errors.required),n(3),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),n(4),h("",S.value.length," / 500"),n(),d("ngIf",S.errors==null?null:S.errors.required),n(3),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.fontIcon==null?null:t.fieldsInfo.fontIcon.fieldTitle)),T("ngModel",t.dataModel.fontIcon),n(3),d("ngIf",c.errors==null?null:c.errors.required),n(5),d("href",R(C(44,29,t.dataModel.linkMainImageIdSrc)),ie),n(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),n(),d("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),n(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[F,Te,Se,ge,Pe,qe,We,ve,ye,Ue,W,Be,Ge,Fe,Oe,Ne,He,De,N,he,_t,V,Ie],encapsulation:2});var jn=bo;var bd=["vform"];function Md(o,r){if(o&1){let e=M();P(0),a(1,"div",8)(2,"label",9),m(3),s(),a(4,"input",10,0),E("ngModelChange",function(t){p(e);let l=g();return D(l.dataModelResultCategory.item.title,t)||(l.dataModelResultCategory.item.title=t),u(t)}),s()(),a(6,"div",8)(7,"label",11),m(8),s(),a(9,"textarea",12,1),E("ngModelChange",function(t){p(e);let l=g();return D(l.dataModelResultCategory.item.description,t)||(l.dataModelResultCategory.item.description=t),u(t)}),s()(),v(11,"app-data-provider-plan-category-selector",13),_(12,"translate"),y()}if(o&2){let e=g();n(3),w(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),d("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),T("ngModel",e.dataModelResultCategory.item.title),n(4),w(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),d("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),T("ngModel",e.dataModelResultCategory.item.description),n(2),d("optionPlaceholder",C(12,9,"TITLE.Alternative_classification_to_move_information_to_this_branch"))}}function Pd(o,r){if(o&1){let e=M();a(0,"div",14)(1,"button",15),I("click",function(){p(e);let t=g();return u(t.onFormMove())}),v(2,"i",16),m(3),_(4,"translate"),s(),a(5,"button",17),I("click",function(){p(e);let t=g();return u(t.onFormDelete())}),v(6,"i",18),m(7),_(8,"translate"),s(),a(9,"button",19),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(10,"i",16),m(11),_(12,"translate"),s()()}if(o&2){let e=g();n(),d("disabled",!e.formInfo.submitButtonEnabled),n(2),h(" ",C(4,5,"TITLE.MOVE_DATA")," "),n(2),d("disabled",!e.formInfo.submitButtonEnabled),n(2),h(" ",C(8,7,"ACTION.DELETE")," "),n(4),h(" ",C(12,9,"ACTION.CANCEL")," ")}}var Mo=class Mo{constructor(r,e,i,t,l,S,c){this.data=r;this.dialogRef=e;this.publicHelper=i;this.dataProviderPlanCategoryService=t;this.cdr=l;this.translate=S;this.cmsToastrService=c;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultCategory=new H;this.dataModelResultCategoryAllData=new H;this.dataModel={};this.formInfo=new Q;this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=+r.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(),this.DataGetAll()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.dataProviderPlanCategoryService.setAccessLoad(),this.dataProviderPlanCategoryService.setAccessDataType(Me.Editor),this.dataProviderPlanCategoryService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultCategory=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(r)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}DataGetAll(){this.translate.get("TITLE.Loading_Information").subscribe(i=>{this.formInfo.submitResultMessage=i});let r=new de;r.rowPerPage=100;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanCategoryService.ServiceGetAll(r).subscribe({next:i=>{this.dataModelResultCategoryAllData=i,i.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetAll()),this.publicHelper.processService.processStop(e)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormMove(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(!this.formGroup.valid)return;this.formInfo.submitButtonEnabled=!0,this.dataModel.newCatId===this.requestId&&(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitButtonEnabled=!0),this.formInfo.submitButtonEnabled=!1;let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.dataProviderPlanCategoryService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(r)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(r)}})}onFormChangeNewCatId(r){if(this.formInfo.submitResultMessage="",this.requestId===0||!r||r.id<=0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.dataModel.newCatId=r.id,this.dataModel.newCatId===this.requestId?(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitButtonEnabled=!1):(this.formInfo.submitButtonEnabled=!0,this.formInfo.submitResultMessage="")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Mo.\u0275fac=function(e){return new(e||Mo)(f(q),f(j),f(O),f(Gt),f(L),f(x),f(B))},Mo.\u0275cmp=A({type:Mo,selectors:[["app-data-provider-plan-category-delete"]],viewQuery:function(e,i){if(e&1&&U(bd,5),e&2){let t;z(t=K())&&(i.formGroup=t.first)}},standalone:!1,decls:10,vars:7,consts:[["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultCategory.item.title",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.title","type","text","minlength","3","maxlength","50","required","","readonly","","id","dataModelResultCategory.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModelResultCategory.item.description",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.description","type","text","minlength","1","maxlength","100","readonly","","required","","rows","5","id","dataModelResultCategory.item.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionPlaceholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"]],template:function(e,i){e&1&&(a(0,"div",2),v(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),m(4),s(),a(5,"p"),m(6),_(7,"translate"),s(),b(8,Md,13,11,"ng-container",6)(9,Pd,13,11,"div",7),s()()),e&2&&(n(),d("optionsInfoAreaId",i.constructorInfoAreaId),n(3),h(" ",i.formInfo.formTitle," "),n(2),h(" ",C(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("ngIf",i.dataModelResultCategory==null?null:i.dataModelResultCategory.item),n(),d("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[F,Se,ge,ut,qe,We,ve,W,N,Ct,V],encapsulation:2});var qn=Mo;var yd=["vform"];function Td(o,r){o&1&&(a(0,"mat-header-cell",29),m(1),_(2,"translate"),s()),o&2&&(n(),h(" ",C(2,1,"TITLE.PICTURE")," "))}function Dd(o,r){if(o&1&&(v(0,"img",31),_(1,"cmsthumbnail")),o&2){let e=g().$implicit;d("src",R(C(1,2,e.linkMainImageIdSrc)),ie)}}function Ed(o,r){if(o&1&&(a(0,"mat-cell"),b(1,Dd,2,4,"img",30),s()),o&2){let e=r.$implicit;n(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function wd(o,r){if(o&1){let e=M();a(0,"app-cms-enum-record-status-selector",32),E("modelChange",function(t){p(e);let l=g();return D(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),s()}if(o&2){let e=g();T("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Rd(o,r){o&1&&(a(0,"mat-error"),m(1," Title is "),a(2,"strong"),m(3),_(4,"translate"),s()()),o&2&&(n(3),w(C(4,1,"MESSAGE.required")))}function Ad(o,r){o&1&&(a(0,"mat-error"),m(1," Description is "),a(2,"strong"),m(3),_(4,"translate"),s()()),o&2&&(n(3),w(C(4,1,"MESSAGE.required")))}function xd(o,r){o&1&&(a(0,"mat-error"),m(1," FontIcon is "),a(2,"strong"),m(3),_(4,"translate"),s()()),o&2&&(n(3),w(C(4,1,"MESSAGE.required")))}function kd(o,r){if(o&1&&(a(0,"mat-header-cell",29),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.linkParentId==null?null:e.fieldsInfo.linkParentId.fieldTitle," ")}}function Ld(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.linkParentId," ")}}function Vd(o,r){if(o&1&&(v(0,"img",33),_(1,"cmsthumbnail")),o&2){let e=g();d("src",R(C(1,2,e.dataModel.linkMainImageIdSrc)),ie)}}function Bd(o,r){if(o&1){let e=M();a(0,"div",15)(1,"label",34),I("click",function(){p(e);let t=g();return u(t.fileManagerOpenForm=!0)}),m(2),_(3,"translate"),s(),a(4,"input",35,4),_(6,"translate"),E("ngModelChange",function(t){p(e);let l=g();return D(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),u(t)}),I("click",function(){p(e);let t=g();return u(t.fileManagerOpenForm=!0)}),s(),a(7,"cms-file-manager",36),I("itemSelected",function(t){p(e);let l=g();return u(l.onActionFileSelected(t))}),E("openFormChange",function(t){p(e);let l=g();return D(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),u(t)}),s()()}if(o&2){let e=g();n(2),w(C(3,12,"TITLE.Icon_File")),n(2),d("placeholder",R(C(6,14,"TITLE.Original_File_ID"))),T("ngModel",e.dataModel.linkMainImageId),n(3),d("language",e.appLanguage)("isPopup",!0),T("openForm",e.fileManagerOpenForm),d("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Od(o,r){if(o&1){let e=M();a(0,"div",37)(1,"button",38),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(2,"i",39),m(3),_(4,"translate"),s(),a(5,"button",40),v(6,"i",41),m(7),_(8,"translate"),s()()}if(o&2){g();let e=k(10);n(3),h(" ",C(4,3,"ACTION.CANCEL")," "),n(2),d("disabled",!e.form.valid),n(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var Po=class Po extends Tt{constructor(e,i,t,l,S,c,G,se){super(l,new xt,c,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanCategoryService=l;this.cmsToastrService=S;this.publicHelper=c;this.cdr=G;this.translate=se;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Pt;this.dataModel=new xt;this.formInfo=new Q;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanCategoryService.setAccessLoad(),this.dataProviderPlanCategoryService.setAccessDataType(Me.Editor),this.dataProviderPlanCategoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanCategoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Po.\u0275fac=function(i){return new(i||Po)(f(q),f(j),f(ee),f(Gt),f(B),f(O),f(L),f(x))},Po.\u0275cmp=A({type:Po,selectors:[["app-data-provider-plan-category-edit"]],viewQuery:function(i,t){if(i&1&&U(yd,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[X],decls:48,vars:31,consts:[["vform","ngForm"],["Title",""],["Description",""],["FontIcon",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.fontIcon",1,"color-highlight"],["matInput","","name","dataModel.fontIcon","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.fontIcon",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["matColumnDef","LinkParentId"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=M();a(0,"div",5),v(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),m(4),s(),a(5,"p"),m(6),_(7,"translate"),s(),v(8,"app-cms-form-result-message",9),a(9,"form",10,0),I("ngSubmit",function(){return p(l),u(t.onFormSubmit())}),P(11,11),b(12,Td,3,3,"mat-header-cell",12)(13,Ed,2,1,"mat-cell",13),y(),b(14,wd,1,5,"app-cms-enum-record-status-selector",14),a(15,"div",15)(16,"label",16),m(17),s(),a(18,"input",17,1),E("ngModelChange",function(c){return p(l),D(t.dataModel.title,c)||(t.dataModel.title=c),u(c)}),s(),a(20,"em"),m(21),s(),b(22,Rd,5,3,"mat-error",18),s(),a(23,"div",15)(24,"label",19),m(25),s(),a(26,"textarea",20,2),E("ngModelChange",function(c){return p(l),D(t.dataModel.description,c)||(t.dataModel.description=c),u(c)}),m(28,"        "),s(),a(29,"em"),m(30),s(),b(31,Ad,5,3,"mat-error",18),s(),a(32,"div",15)(33,"label",21),m(34),s(),a(35,"textarea",22,3),E("ngModelChange",function(c){return p(l),D(t.dataModel.fontIcon,c)||(t.dataModel.fontIcon=c),u(c)}),m(37,"        "),s(),b(38,xd,5,3,"mat-error",18),s(),P(39,23),b(40,kd,2,1,"mat-header-cell",12)(41,Ld,2,1,"mat-cell",13),y(),a(42,"div",24)(43,"a",25),_(44,"cmsthumbnail"),b(45,Vd,2,4,"img",26),s()(),b(46,Bd,8,16,"div",27)(47,Od,9,7,"div",28),s()()()}if(i&2){let l=k(19),S=k(27),c=k(36);n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),h(" ",t.formInfo.formTitle," "),n(2),h(" ",C(7,27,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("formInfo",t.formInfo),n(6),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(3),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),n(3),h("",l.value.length," / 100"),n(),d("ngIf",l.errors==null?null:l.errors.required),n(3),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),n(4),h("",S.value.length," / 500"),n(),d("ngIf",S.errors==null?null:S.errors.required),n(3),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.fontIcon==null?null:t.fieldsInfo.fontIcon.fieldTitle)),T("ngModel",t.dataModel.fontIcon),n(3),d("ngIf",c.errors==null?null:c.errors.required),n(5),d("href",R(C(44,29,t.dataModel.linkMainImageIdSrc)),ie),n(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),n(),d("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),n(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[F,Te,Se,ge,Pe,qe,We,ve,ye,Ue,W,Be,Ge,Fe,Oe,Ne,He,De,N,he,_t,V,Ie],encapsulation:2});var Wn=Po;function Gd(o,r){if(o&1){let e=M();a(0,"button",14),I("click",function(){p(e);let t=g();return u(t.onActionAdd())}),m(1),_(2,"translate"),s()}o&2&&(n(),h(" ",C(2,1,"ACTION.ADD")," "))}function Fd(o,r){if(o&1){let e=M();a(0,"button",15),I("click",function(){p(e);let t=g();return u(t.onActionEdit())}),m(1),_(2,"translate"),s()}o&2&&(n(),h(" ",C(2,1,"ACTION.EDIT")," "))}function Nd(o,r){if(o&1){let e=M();a(0,"button",16),I("click",function(){p(e);let t=g();return u(t.onActionDelete())}),m(1),_(2,"translate"),s()}o&2&&(n(),h(" ",C(2,1,"ACTION.DELETE")," "))}function Hd(o,r){if(o&1){let e=M();a(0,"button",17),I("click",function(){p(e);let t=g();return u(t.onActionButtonReload())}),a(1,"mat-icon",18),_(2,"translate"),m(3,"refresh"),s()()}if(o&2){let e=g();n(),Z("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),d("title",R(C(2,4,"ACTION.RELOAD")))}}function jd(o,r){if(o&1){let e=M();a(0,"mat-tree-node",19),v(1,"button",20),a(2,"span",21),I("click",function(){let t=p(e).$implicit,l=g();return u(l.onActionSelect(t))}),m(3),s()()}if(o&2){let e=r.$implicit,i=g();Z("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===e.id),n(3),w(e.title)}}function qd(o,r){if(o&1){let e=M();a(0,"mat-tree-node",22)(1,"button",23)(2,"mat-icon",24),m(3),s()(),a(4,"span",21),I("click",function(){let t=p(e).$implicit,l=g();return u(l.onActionSelect(t))}),m(5),s()()}if(o&2){let e=r.$implicit,i=g(),t=k(12);Z("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===e.id),d("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),n(),si("type","button")("aria-label","Toggle "+e.title),n(2),h(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),n(2),w(e.title)}}var yo=class yo{constructor(r,e,i,t,l,S,c,G,se){this.cmsToastrService=r;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=l;this.publicHelper=S;this.tokenHelper=c;this.cmsStoreService=G;this.translate=se;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new xt;this.dataModelResult=new H;this.filterModel=new de;this.dataSource=new Cn;this.optionChange=new Lt;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(r,e)=>!!e.children&&e.children.length>0;this.childrenAccessor=r=>r.children??[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(r){this.onActionSelectForce(r)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(()=>ne(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onActionSelect(r){this.dataModelSelect=r,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new xt,this.DataGetAll()}onActionSelectForce(r){}onActionAdd(){let r=0;this.dataModelSelect&&this.dataModelSelect.id>0&&(r=this.dataModelSelect.id);let e=new Le;e.disableClose=!0,e.autoFocus=!0,e.data={parentId:r},this.dialog.open(jn,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let r=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(r=this.dataModelSelect.id),r===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Wn,{height:"90%",panelClass:e,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{id:r}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let r=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(r=this.dataModelSelect.id),r===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(qn,{height:"90%",panelClass:e,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{id:r}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};yo.\u0275fac=function(e){return new(e||yo)(f(B),f(ee),f(Gt),f(_e),f(L),f(O),f(fe),f(ue),f(x))},yo.\u0275cmp=A({type:yo,selectors:[["app-data-provider-plan-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),P(1,2),m(2),_(3,"translate"),y(),P(4,3),b(5,Gd,3,3,"button",4)(6,Fd,3,3,"button",5)(7,Nd,3,3,"button",6)(8,Hd,4,6,"button",7),y(),P(9,8),v(10,"app-progress-spinner",9),a(11,"mat-tree",10,0),b(13,jd,4,3,"mat-tree-node",11)(14,qd,6,8,"mat-tree-node",12),s(),y(),be(15,13),s()),e&2&&(d("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),n(2),h(" ",C(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),n(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),n(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),n(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow)&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),n(),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),n(2),d("optionsInfoAreaId",i.constructorInfoAreaId),n(),d("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),n(3),d("matTreeNodeDefWhen",i.hasChild))},dependencies:[F,ke,Ve,gn,hn,_n,vn,Sn,N,Mn,V],encapsulation:2});var Qn=yo;var Qd=()=>["expandedTitle"],Ud=()=>["expandedDetail"],zd=()=>[5,10,20,100],Nr=o=>({display:o});function Kd(o,r){if(o&1){let e=M();a(0,"div",21)(1,"a",47),I("click",function(){p(e);let t=g();return u(t.onActionButtonNewRow())}),v(2,"i",48)(3,"br"),s(),a(4,"p",23),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.ADD")," "))}function Jd(o,r){if(o&1){let e=M();a(0,"div",21)(1,"a",49),I("click",function(){p(e);let t=g();return u(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",50)(3,"br"),s(),a(4,"p",23),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function Yd(o,r){if(o&1){let e=M();a(0,"div",21)(1,"a",51),I("click",function(){p(e);let t=g();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",52)(3,"br"),s(),a(4,"p",23),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function Xd(o,r){if(o&1){let e=M();a(0,"div",21)(1,"a",12),I("click",function(){p(e);let t=g();return u(t.onActionButtonPriceList(t.tableRowSelected))}),v(2,"i",53)(3,"br"),s(),a(4,"p",23),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.PRICE")," "))}function Zd(o,r){if(o&1){let e=M();a(0,"div",21)(1,"a",12),I("click",function(){p(e);let t=g();return u(t.onActionButtonSourceList(t.tableRowSelected))}),v(2,"i",54)(3,"br"),s(),a(4,"p",23),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.SOURCE")," "))}function $d(o,r){if(o&1){let e=M();a(0,"div",21)(1,"a",12),I("click",function(){p(e);let t=g();return u(t.onActionButtonClientList(t.tableRowSelected))}),v(2,"i",55)(3,"br"),s(),a(4,"p",23),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.CLIENT")," "))}function em(o,r){if(o&1){let e=M();a(0,"a",12),I("click",function(){p(e);let t=g();return u(t.onActionButtonTransactionList(t.tableRowSelected))}),v(1,"i",56)(2,"br"),s()}}function tm(o,r){if(o&1){let e=M();a(0,"div",21)(1,"a",12),I("click",function(){p(e);let t=g();return u(t.onActionButtonDataRow(t.tableRowSelected))}),v(2,"i",57)(3,"br"),s(),a(4,"p",23),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.DATA")," "))}function im(o,r){o&1&&(a(0,"mat-header-cell"),m(1),_(2,"translate"),s()),o&2&&(n(),h(" ",C(2,1,"TITLE.MENU")," "))}function om(o,r){if(o&1){let e=M();a(0,"mat-cell")(1,"button",58),I("click",function(){let t=p(e).$implicit,l=g();return u(l.onActionTableRowSelectActionMenu(t))}),v(2,"i",59),s()()}}function nm(o,r){o&1&&(a(0,"mat-header-cell",60),m(1),_(2,"translate"),s()),o&2&&(n(),h(" ",C(2,1,"TITLE.PICTURE")," "))}function rm(o,r){if(o&1&&(v(0,"img",62),_(1,"cmsthumbnail")),o&2){let e=g().$implicit;d("src",R(C(1,2,e.linkMainImageIdSrc)),ie)}}function am(o,r){if(o&1&&(a(0,"mat-cell"),b(1,rm,2,4,"img",61),s()),o&2){let e=r.$implicit;n(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function sm(o,r){if(o&1&&(a(0,"mat-header-cell",60),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function lm(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.id," ")}}function cm(o,r){if(o&1&&(a(0,"mat-header-cell",60),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function dm(o,r){if(o&1&&(a(0,"mat-cell"),m(1),_(2,"cmssiteinfo"),_(3,"async"),s()),o&2){let e=r.$implicit;n(),h(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function mm(o,r){if(o&1&&(a(0,"mat-header-cell",60),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function pm(o,r){if(o&1&&v(0,"select",65),o&2){let e=g().$implicit,i=g();d("contentService",i.contentService)("row",e)("ngStyle",gt(3,Nr,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function um(o,r){if(o&1&&(a(0,"mat-cell"),v(1,"i",63),_(2,"statusIconClass"),b(3,pm,1,5,"select",64),s()),o&2){let e=r.$implicit,i=g();n(),d("ngClass",C(2,2,e.recordStatus)),n(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function fm(o,r){if(o&1&&(a(0,"mat-header-cell",60),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Sm(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.title," ")}}function gm(o,r){o&1&&(a(0,"mat-header-cell"),m(1),_(2,"translate"),s()),o&2&&(n(),h(" ",C(2,1,"TITLE.OPTION")," "))}function hm(o,r){if(o&1&&(a(0,"mat-cell",66)(1,"button",67)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),o&2){let e=k(5);n(),d("matMenuTriggerFor",e)}}function vm(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.title," ")}}function _m(o,r){if(o&1&&(v(0,"img",71),_(1,"cmsthumbnail")),o&2){let e=g().$implicit;d("src",R(C(1,2,e.linkMainImageIdSrc)),ie)}}function Cm(o,r){if(o&1){let e=M();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),b(5,_m,2,4,"img",68),s(),a(6,"th")(7,"span",69),I("click",function(){p(e);let t=g();return u(t.onActionCopied())}),v(8,"i",70),s(),m(9),s()(),a(10,"tr"),v(11,"td"),a(12,"td"),m(13),s()(),a(14,"tr"),v(15,"td"),a(16,"td"),m(17),s()(),a(18,"tr"),v(19,"td")(20,"td"),s()()()()}if(o&2){let e=r.$implicit,i=g();n(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),n(2),d("cdkCopyToClipboard",e.id),n(2),h(" ",e.id," "),n(4),er("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : ",e.title),n(4),er(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function Im(o,r){o&1&&v(0,"mat-header-row")}function bm(o,r){if(o&1){let e=M();a(0,"mat-row",72),I("click",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=g();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=g();return u(l.onActionTableRowMouseLeave(t))}),s()}if(o&2){let e=r.$implicit,i=g();Z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Mm(o,r){if(o&1){let e=M();a(0,"mat-row",73),I("click",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=g();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=g();return u(l.onActionTableRowMouseLeave(t))}),s()}if(o&2){let e=r.$implicit,i=g();Z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Pm(o,r){if(o&1){let e=M();a(0,"mat-row",74),I("click",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=g();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=g();return u(l.onActionTableRowMouseLeave(t))}),s()}if(o&2){let e=r.$implicit,i=g();Z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),d("ngStyle",gt(3,Nr,e.expanded===!0?"":"none"))}}var To=class To extends nt{constructor(e,i,t,l,S,c,G,se,je,St){super(e,new Re,se,l,c);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=l;this.cdr=S;this.translate=c;this.pageInfo=G;this.publicHelper=se;this.cmsStoreService=je;this.dialog=St;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new de;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:At=>this.onSubmitOptionsSearch(At)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=J.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ne(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Re);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0){let t=new $;t.propertyName="LinkPlanCategoryId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new de,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null||this.categoryModelSelected.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new Le;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={LinkPlanCategoryId:this.categoryModelSelected.id},this.dialog.open(Ni,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new Le;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id},this.dialog.open(Wi,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ji,{height:"40%",panelClass:i,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDataRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.No_row_selected_for_viewing").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/log-plan/LinkPlanId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/log-plan/LinkPlanId/"+e.id])}onActionButtonPriceList(e=this.tableRowSelected,i){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/plan-price/LinkPlanId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/plan-price/LinkPlanId/"+e.id])}onActionButtonSourceList(e=this.tableRowSelected,i){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/plan-source/LinkPlanId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/plan-source/LinkPlanId/"+e.id])}onActionButtonClientList(e=this.tableRowSelected,i){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/plan-client/LinkPlanId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/plan-client/LinkPlanId/"+e.id])}onActionButtonTransactionList(e=this.tableRowSelected,i){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/transaction/LinkPlanId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/transaction/LinkPlanId/"+e.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),S=new $;S.propertyName="recordStatus",S.value=we.Available,l.filters.push(S),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionTableRowMouseEnter(e){this.onActionTableRowSelect(e),e.expanded=!0}onActionTableRowMouseLeave(e){e.expanded=!1}};To.\u0275fac=function(i){return new(i||To)(f(pt),f(B),f(xe),f(fe),f(L),f(x),f(ot),f(O),f(ue),f(_e))},To.\u0275cmp=A({type:To,selectors:[["app-data-provider-plan-list"]],standalone:!1,features:[X],decls:75,vars:42,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","target","_blank",3,"click",4,"ngIf"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-credit-card","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-people","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-circle-dollar","font-18"],[1,"fa-solid","fa-database","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=M();a(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(c){return p(l),D(t.viewGuideNotice,c)||(t.viewGuideNotice=c),u(c)}),I("optionOnActionButtonMemoRow",function(){return p(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),u(t.onActionButtonPrintRow())}),P(1,4),a(2,"app-data-provider-plan-category-tree",5),I("optionChange",function(c){return p(l),u(t.onActionSelectorSelect(c))}),s(),y(),be(3,6)(4,7),P(5,8),a(6,"a",9),I("click",function(){return p(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),v(7,"i",10),s(),a(8,"a",9),I("click",function(){return p(l),u(t.onActionButtonReload())}),v(9,"i",11),s(),a(10,"a",12),I("click",function(){return p(l),u(t.onActionGridExpandRows(!0))}),v(11,"i",13),s(),a(12,"a",12),I("click",function(){return p(l),u(t.onActionGridExpandRows(!1))}),v(13,"i",14),s(),y(),P(14,15),a(15,"a",16),I("click",function(){return p(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(16,"mat-slide-toggle",17),m(17),_(18,"translate"),s(),a(19,"a",16),I("click",function(){return p(l),u(t.onActionButtonStatist())}),v(20,"mat-slide-toggle",17),m(21),_(22,"translate"),s(),y(),P(23,18),b(24,Kd,7,3,"div",19),y(),P(25,20),b(26,Jd,7,3,"div",19)(27,Yd,7,3,"div",19)(28,Xd,7,3,"div",19)(29,Zd,7,3,"div",19)(30,$d,7,3,"div",19),a(31,"div",21),b(32,em,3,0,"a",22),a(33,"p",23),m(34),_(35,"translate"),s()(),b(36,tm,7,3,"div",19),y(),P(37,24),a(38,"app-cms-search-list",25),E("optionsChange",function(c){return p(l),D(t.optionsSearch,c)||(t.optionsSearch=c),u(c)}),s(),a(39,"app-cms-statist-list",25),E("optionsChange",function(c){return p(l),D(t.optionsStatist,c)||(t.optionsStatist=c),u(c)}),s(),y(),P(40,26),a(41,"mat-table",27,0),I("matSortChange",function(){p(l);let c=k(42);return u(t.onTableSortData(c))}),P(43,28),b(44,im,3,3,"mat-header-cell",29)(45,om,3,0,"mat-cell",30),y(),P(46,31),b(47,nm,3,3,"mat-header-cell",32)(48,am,2,1,"mat-cell",30),y(),P(49,33),b(50,sm,2,1,"mat-header-cell",32)(51,lm,2,1,"mat-cell",30),y(),P(52,34),b(53,cm,2,1,"mat-header-cell",32)(54,dm,4,5,"mat-cell",30),y(),P(55,35),b(56,mm,2,1,"mat-header-cell",32)(57,um,4,4,"mat-cell",30),y(),P(58,36),b(59,fm,2,1,"mat-header-cell",32)(60,Sm,2,1,"mat-cell",30),y(),P(61,37),b(62,gm,3,3,"mat-header-cell",29)(63,hm,6,1,"mat-cell",38),y(),P(64,39),b(65,vm,2,1,"mat-cell",30),y(),P(66,40),b(67,Cm,21,7,"mat-cell",30),y(),b(68,Im,1,0,"mat-header-row",41)(69,bm,1,2,"mat-row",42)(70,Mm,1,2,"mat-row",43)(71,Pm,1,5,"mat-row",44),s(),y(),P(72,45),a(73,"mat-paginator",46,1),I("page",function(c){return p(l),u(t.onTablePageingData(c))}),s(),y(),s()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","dataprovider.plan.list"),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),n(9),Z("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(7),d("checked",t.optionsSearch.data.show),n(),h("",C(18,33,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),h("",C(22,35,"ACTION.STATIST")," "),n(3),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow)&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id)>0),n(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),n(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),n(2),h(" ",C(35,37,"ACTION.TRANSACTIONS")," "),n(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(2),T("options",t.optionsSearch),n(),T("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(27),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",Ee(39,Qd)),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(),d("matRowDefColumns",Ee(40,Ud)),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ee(41,zd)))},dependencies:[bt,F,Mt,ke,Ve,W,ze,Ke,Je,Ye,Xe,Be,Ze,Ge,$e,Fe,Oe,et,Ne,He,tt,it,Di,rt,at,st,lt,Dt,Qn,mt,V,Et,Ie,wt],styles:[".pointer[_ngcontent-%COMP%]{cursor:pointer}"]});var qo=To;var ym=["vform"];function Tm(o,r){if(o&1){let e=M();a(0,"app-cms-enum-record-status-selector",25),E("modelChange",function(t){p(e);let l=g();return D(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),s()}if(o&2){let e=g();T("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Dm(o,r){o&1&&(a(0,"mat-error"),m(1," Title is "),a(2,"strong"),m(3),_(4,"translate"),s()()),o&2&&(n(3),w(C(4,1,"MESSAGE.required")))}function Em(o,r){o&1&&(a(0,"mat-error"),m(1," Description is "),a(2,"strong"),m(3),_(4,"translate"),s()()),o&2&&(n(3),w(C(4,1,"MESSAGE.required")))}function wm(o,r){if(o&1&&(v(0,"img",26),_(1,"cmsthumbnail")),o&2){let e=g();d("src",R(C(1,2,e.dataModel.linkMainImageIdSrc)),ie)}}function Rm(o,r){if(o&1){let e=M();a(0,"div",12)(1,"label",27),I("click",function(){p(e);let t=g();return u(t.fileManagerOpenForm=!0)}),m(2),_(3,"translate"),s(),a(4,"input",28,4),_(6,"translate"),E("ngModelChange",function(t){p(e);let l=g();return D(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),u(t)}),I("click",function(){p(e);let t=g();return u(t.fileManagerOpenForm=!0)}),s(),a(7,"cms-file-manager",29),I("itemSelected",function(t){p(e);let l=g();return u(l.onActionFileSelected(t))}),E("openFormChange",function(t){p(e);let l=g();return D(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),u(t)}),s()()}if(o&2){let e=g();n(2),w(C(3,12,"TITLE.Icon_File")),n(2),d("placeholder",R(C(6,14,"TITLE.Original_File_ID"))),T("ngModel",e.dataModel.linkMainImageId),n(3),d("language",e.appLanguage)("isPopup",!0),T("openForm",e.fileManagerOpenForm),d("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Am(o,r){if(o&1){let e=M();a(0,"div",30)(1,"button",31),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(2,"i",32),m(3),_(4,"translate"),s(),a(5,"button",33),v(6,"i",34),m(7),_(8,"translate"),s()()}if(o&2){g();let e=k(10);n(3),h(" ",C(4,3,"ACTION.CANCEL")," "),n(2),d("disabled",!e.form.valid),n(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var Do=class Do extends yt{constructor(e,i,t,l,S,c,G,se){super(l,new Xt,c,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderSourceService=l;this.cmsToastrService=S;this.publicHelper=c;this.cdr=G;this.translate=se;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new H;this.dataModel=new Xt;this.formInfo=new Q;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourceService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0,Id:i.item.id})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Do.\u0275fac=function(i){return new(i||Do)(f(q),f(j),f(ee),f(Kt),f(B),f(O),f(L),f(x))},Do.\u0275cmp=A({type:Do,selectors:[["app-data-provider-source-add"]],viewQuery:function(i,t){if(i&1&&U(ym,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[X],decls:42,vars:29,consts:[["vform","ngForm"],["Title",""],["Description",""],["KeyCode",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.keyCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.keyCode","placeholder","....","minlength","0","maxlength","100","id","dataModel.keyCode",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=M();a(0,"div",5),v(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),m(4),s(),a(5,"p"),m(6),_(7,"translate"),s(),v(8,"app-cms-form-result-message",9),a(9,"form",10,0),I("ngSubmit",function(){return p(l),u(t.onFormSubmit())}),b(11,Tm,1,5,"app-cms-enum-record-status-selector",11),a(12,"div",12)(13,"label",13),m(14),s(),a(15,"input",14,1),E("ngModelChange",function(c){return p(l),D(t.dataModel.title,c)||(t.dataModel.title=c),u(c)}),s(),a(17,"em"),m(18),s(),b(19,Dm,5,3,"mat-error",15),s(),a(20,"div",12)(21,"label",16),m(22),s(),a(23,"textarea",17,2),E("ngModelChange",function(c){return p(l),D(t.dataModel.description,c)||(t.dataModel.description=c),u(c)}),m(25,"        "),s(),a(26,"em"),m(27),s(),b(28,Em,5,3,"mat-error",15),s(),a(29,"div",18)(30,"a",19),_(31,"cmsthumbnail"),b(32,wm,2,4,"img",20),s()(),b(33,Rm,8,16,"div",21),a(34,"div",12)(35,"label",22),m(36),s(),a(37,"input",23,3),E("ngModelChange",function(c){return p(l),D(t.dataModel.keyCode,c)||(t.dataModel.keyCode=c),u(c)}),s(),a(39,"em"),m(40),s()(),b(41,Am,9,7,"div",24),s()()()}if(i&2){let l=k(16),S=k(24),c=k(38);n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),h(" ",t.formInfo.formTitle," "),n(2),h(" ",C(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("formInfo",t.formInfo),n(3),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(3),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),n(3),h("",l.value.length," / 100"),n(),d("ngIf",l.errors==null?null:l.errors.required),n(3),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),n(4),h("",S.value.length," / 500"),n(),d("ngIf",S.errors==null?null:S.errors.required),n(2),d("href",R(C(31,27,t.dataModel.linkMainImageIdSrc)),ie),n(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),n(),d("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),n(3),w(t.fieldsInfo.keyCode==null?null:t.fieldsInfo.keyCode.fieldTitle),n(),T("ngModel",t.dataModel.keyCode),n(3),h("",c.value.length," / 100"),n(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[F,Te,Se,ge,Pe,qe,We,ve,ye,Ue,W,De,N,he,_t,V,Ie],encapsulation:2});var Un=Do;var xm=["vform"];function km(o,r){if(o&1){let e=M();a(0,"div",9)(1,"button",10),I("click",function(){p(e);let t=g();return u(t.onFormDelete())}),v(2,"i",11),m(3),_(4,"translate"),s(),a(5,"button",12),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(6,"i",13),m(7),_(8,"translate"),s()()}if(o&2){let e=g();n(),d("disabled",!e.formInfo.submitButtonEnabled),n(2),h(" ",C(4,3,"ACTION.DELETE")," "),n(4),h(" ",C(8,5,"ACTION.CANCEL")," ")}}var Eo=class Eo{constructor(r,e,i,t,l,S,c){this.data=r;this.dialogRef=e;this.publicHelper=i;this.dataProviderSourceService=t;this.cdr=l;this.translate=S;this.cmsToastrService=c;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new H;this.formInfo=new Q;this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=+r.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.dataProviderSourceService.setAccessLoad(),this.dataProviderSourceService.setAccessDataType(Me.Editor),this.dataProviderSourceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(r)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.dataProviderSourceService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(r)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(r)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Eo.\u0275fac=function(e){return new(e||Eo)(f(q),f(j),f(O),f(Kt),f(L),f(x),f(B))},Eo.\u0275cmp=A({type:Eo,selectors:[["app-data-provider-source-delete"]],viewQuery:function(e,i){if(e&1&&U(xm,5),e&2){let t;z(t=K())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:10,consts:[["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","title",1,"color-highlight"],["matInput","","name","title","type","text","required","","readonly","","id","title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){if(e&1){let t=M();a(0,"div",1),v(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),m(4),s(),a(5,"p"),m(6),_(7,"translate"),s(),a(8,"div",5)(9,"label",6),m(10),s(),a(11,"input",7,0),E("ngModelChange",function(S){return p(t),D(i.dataModelResultContent.item.title,S)||(i.dataModelResultContent.item.title=S),u(S)}),s()(),b(13,km,9,7,"div",8),s()()}e&2&&(n(),d("optionsInfoAreaId",i.constructorInfoAreaId),n(3),h(" ",i.formInfo.formTitle," "),n(2),h(" ",C(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),n(),d("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModelResultContent.item.title),n(2),d("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[F,Se,ge,ut,ve,W,N,V],encapsulation:2});var zn=Eo;var Lm=["vform"];function Vm(o,r){if(o&1){let e=M();a(0,"app-cms-enum-record-status-selector",29),E("modelChange",function(t){p(e);let l=g();return D(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),s()}if(o&2){let e=g();T("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Bm(o,r){o&1&&(a(0,"mat-error"),m(1," Title is "),a(2,"strong"),m(3),_(4,"translate"),s()()),o&2&&(n(3),w(C(4,1,"MESSAGE.required")))}function Om(o,r){o&1&&(a(0,"mat-error"),m(1," Description is "),a(2,"strong"),m(3),_(4,"translate"),s()()),o&2&&(n(3),w(C(4,1,"MESSAGE.required")))}function Gm(o,r){if(o&1&&(v(0,"img",30),_(1,"cmsthumbnail")),o&2){let e=g();d("src",R(C(1,2,e.dataModel.linkMainImageIdSrc)),ie)}}function Fm(o,r){if(o&1){let e=M();a(0,"div",13)(1,"label",31),I("click",function(){p(e);let t=g();return u(t.fileManagerOpenForm=!0)}),m(2),_(3,"translate"),s(),a(4,"input",32,5),_(6,"translate"),E("ngModelChange",function(t){p(e);let l=g();return D(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),u(t)}),I("click",function(){p(e);let t=g();return u(t.fileManagerOpenForm=!0)}),s(),a(7,"cms-file-manager",33),I("itemSelected",function(t){p(e);let l=g();return u(l.onActionFileSelected(t))}),E("openFormChange",function(t){p(e);let l=g();return D(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),u(t)}),s()()}if(o&2){let e=g();n(2),w(C(3,12,"TITLE.Icon_File")),n(2),d("placeholder",R(C(6,14,"TITLE.Original_File_ID"))),T("ngModel",e.dataModel.linkMainImageId),n(3),d("language",e.appLanguage)("isPopup",!0),T("openForm",e.fileManagerOpenForm),d("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Nm(o,r){if(o&1){let e=M();a(0,"div",34)(1,"button",35),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(2,"i",36),m(3),_(4,"translate"),s(),a(5,"button",37),v(6,"i",38),m(7),_(8,"translate"),s()()}if(o&2){g();let e=k(10);n(3),h(" ",C(4,3,"ACTION.CANCEL")," "),n(2),d("disabled",!e.form.valid),n(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var wo=class wo extends Tt{constructor(e,i,t,l,S,c,G,se,je){super(l,new Xt,G,je);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderSourceService=l;this.dataProviderPlanSourceService=S;this.cmsToastrService=c;this.publicHelper=G;this.cdr=se;this.translate=je;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Pt;this.dataModel=new Xt;this.formInfo=new Q;this.fileManagerOpenForm=!1;this.dataCoreCpMainMenuIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourceService.setAccessLoad(),this.dataProviderSourceService.setAccessDataType(Me.Editor),this.dataProviderSourceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.DataGetAllPlanSource()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourceService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}DataGetAllPlanSource(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Getting_access_category_from_the_server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)});let i=new de,t=new $;t.propertyName="LinkSourceId",t.value=this.requestId,i.filters.push(t),this.dataProviderPlanSourceService.ServiceGetAll(i).subscribe({next:l=>{this.dataCoreCpMainMenuCmsUserGroupModel=l.listItems;let S=[];this.dataCoreCpMainMenuCmsUserGroupModel.forEach(c=>{S.push(c.linkPlanId)}),this.dataCoreCpMainMenuIds=S,l.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.submitResultMessage=c}),this.formInfo.submitResultMessage=l.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorPlanSelect(e){this.dataCoreCpMainMenuModel=e}onActionSelectorPlanSelectAdded(e){let i=new Bt;i.linkPlanId=e.id,i.linkSourceId=this.dataModel.id,this.dataProviderPlanSourceService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorPlanSelectRemoved(e){let i=new Bt;i.linkPlanId=e.id,i.linkSourceId=this.dataModel.id,this.dataProviderPlanSourceService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}};wo.\u0275fac=function(i){return new(i||wo)(f(q),f(j),f(ee),f(Kt),f(Ht),f(B),f(O),f(L),f(x))},wo.\u0275cmp=A({type:wo,selectors:[["app-data-provider-source-edit"]],viewQuery:function(i,t){if(i&1&&U(Lm,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[X],decls:48,vars:35,consts:[["vform","ngForm"],["Id",""],["Title",""],["Description",""],["KeyCode",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.id",1,"color-highlight"],["matInput","","type","id","name","dataModel.id","id","dataModel.id",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.keyCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.keyCode","placeholder","....","minlength","0","maxlength","100","id","dataModel.keyCode",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=M();a(0,"div",6),v(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),m(4),s(),a(5,"p"),m(6),_(7,"translate"),s(),v(8,"app-cms-form-result-message",10),a(9,"form",11,0),I("ngSubmit",function(){return p(l),u(t.onFormSubmit())}),b(11,Vm,1,5,"app-cms-enum-record-status-selector",12),a(12,"div",13)(13,"label",14),m(14),s(),a(15,"input",15,1),E("ngModelChange",function(c){return p(l),D(t.dataModel.id,c)||(t.dataModel.id=c),u(c)}),s()(),a(17,"div",13)(18,"label",16),m(19),s(),a(20,"input",17,2),E("ngModelChange",function(c){return p(l),D(t.dataModel.title,c)||(t.dataModel.title=c),u(c)}),s(),a(22,"em"),m(23),s(),b(24,Bm,5,3,"mat-error",18),s(),a(25,"div",13)(26,"label",19),m(27),s(),a(28,"textarea",20,3),E("ngModelChange",function(c){return p(l),D(t.dataModel.description,c)||(t.dataModel.description=c),u(c)}),m(30,"        "),s(),a(31,"em"),m(32),s(),b(33,Om,5,3,"mat-error",18),s(),a(34,"div",21)(35,"a",22),_(36,"cmsthumbnail"),b(37,Gm,2,4,"img",23),s()(),b(38,Fm,8,16,"div",24),a(39,"div",13)(40,"label",25),m(41),s(),a(42,"input",26,4),E("ngModelChange",function(c){return p(l),D(t.dataModel.keyCode,c)||(t.dataModel.keyCode=c),u(c)}),s(),a(44,"em"),m(45),s()(),a(46,"app-data-provider-plan-selectionlist",27),I("optionChange",function(c){return p(l),u(t.onActionSelectorPlanSelect(c))})("optionSelectAdded",function(c){return p(l),u(t.onActionSelectorPlanSelectAdded(c))})("optionSelectRemoved",function(c){return p(l),u(t.onActionSelectorPlanSelectRemoved(c))}),s(),b(47,Nm,9,7,"div",28),s()()()}if(i&2){let l=k(21),S=k(29),c=k(43);n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),h(" ",t.formInfo.formTitle," "),n(2),h(" ",C(7,31,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("formInfo",t.formInfo),n(3),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(3),w(t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle)),T("ngModel",t.dataModel.id),n(4),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),n(3),h("",l.value.length," / 100"),n(),d("ngIf",l.errors==null?null:l.errors.required),n(3),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),n(),d("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),n(4),h("",S.value.length," / 500"),n(),d("ngIf",S.errors==null?null:S.errors.required),n(2),d("href",R(C(36,33,t.dataModel.linkMainImageIdSrc)),ie),n(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),n(),d("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),n(3),w(t.fieldsInfo.keyCode==null?null:t.fieldsInfo.keyCode.fieldTitle),n(),T("ngModel",t.dataModel.keyCode),n(3),h("",c.value.length," / 100"),n(),d("optionSelectForce",t.dataCoreCpMainMenuIds)("optionDisabled",!1),n(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[F,Te,Se,ge,Pe,qe,We,ve,ye,Ue,W,De,N,he,_t,Oi,V,Ie],encapsulation:2});var Wo=wo;var Hm=()=>["expandedTitle"],jm=()=>["expandedDetail"],qm=()=>[5,10,20,100],Hr=o=>({display:o});function Wm(o,r){if(o&1){let e=M();a(0,"div",44)(1,"a",45),I("click",function(){p(e);let t=g();return u(t.onActionButtonNewRow())}),v(2,"i",46)(3,"br"),s(),a(4,"p",47),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.ADD")," "))}function Qm(o,r){if(o&1){let e=M();a(0,"div",44)(1,"a",48),I("click",function(){p(e);let t=g();return u(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",49)(3,"br"),s(),a(4,"p",47),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function Um(o,r){if(o&1){let e=M();a(0,"div",44)(1,"a",50),I("click",function(){p(e);let t=g();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",51)(3,"br"),s(),a(4,"p",47),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function zm(o,r){if(o&1){let e=M();a(0,"div",44)(1,"a",52),I("click",function(){p(e);let t=g();return u(t.onActionButtonDataRow(t.tableRowSelected))}),v(2,"i",53)(3,"br"),s(),a(4,"p",47),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.DATA")," "))}function Km(o,r){if(o&1){let e=M();a(0,"div",44)(1,"a",52),I("click",function(){p(e);let t=g();return u(t.onActionButtonSourceList(t.tableRowSelected))}),v(2,"i",54)(3,"br"),s(),a(4,"p",47),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.SOURCE")," "))}function Jm(o,r){o&1&&(a(0,"mat-header-cell"),m(1),_(2,"translate"),s()),o&2&&(n(),h(" ",C(2,1,"TITLE.MENU")," "))}function Ym(o,r){if(o&1){let e=M();a(0,"mat-cell")(1,"button",55),I("click",function(){let t=p(e).$implicit,l=g();return u(l.onActionTableRowSelectActionMenu(t))}),v(2,"i",56),s()()}}function Xm(o,r){o&1&&(a(0,"mat-header-cell",57),m(1),_(2,"translate"),s()),o&2&&(n(),h(" ",C(2,1,"TITLE.PICTURE")," "))}function Zm(o,r){if(o&1&&(v(0,"img",59),_(1,"cmsthumbnail")),o&2){let e=g().$implicit;d("src",R(C(1,2,e.linkMainImageIdSrc)),ie)}}function $m(o,r){if(o&1&&(a(0,"mat-cell"),b(1,Zm,2,4,"img",58),s()),o&2){let e=r.$implicit;n(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function ep(o,r){if(o&1&&(a(0,"mat-header-cell",57),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function tp(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.id," ")}}function ip(o,r){if(o&1&&(a(0,"mat-header-cell",57),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function op(o,r){if(o&1&&(a(0,"mat-cell"),m(1),_(2,"cmssiteinfo"),_(3,"async"),s()),o&2){let e=r.$implicit;n(),h(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function np(o,r){if(o&1&&(a(0,"mat-header-cell",57),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function rp(o,r){if(o&1&&v(0,"select",62),o&2){let e=g().$implicit,i=g();d("contentService",i.contentService)("row",e)("ngStyle",gt(3,Hr,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function ap(o,r){if(o&1&&(a(0,"mat-cell"),v(1,"i",60),_(2,"statusIconClass"),b(3,rp,1,5,"select",61),s()),o&2){let e=r.$implicit,i=g();n(),d("ngClass",C(2,2,e.recordStatus)),n(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function sp(o,r){if(o&1&&(a(0,"mat-header-cell",57),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function lp(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.title," ")}}function cp(o,r){if(o&1&&(a(0,"mat-header-cell",57),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function dp(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.description," ")}}function mp(o,r){if(o&1&&(a(0,"mat-header-cell",57),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.hashMd5==null?null:e.fieldsInfo.hashMd5.fieldTitle," ")}}function pp(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.hashMd5," ")}}function up(o,r){if(o&1&&(a(0,"mat-header-cell",57),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.keyCode==null?null:e.fieldsInfo.keyCode.fieldTitle," ")}}function fp(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.keyCode," ")}}function Sp(o,r){o&1&&(a(0,"mat-header-cell"),m(1),_(2,"translate"),s()),o&2&&(n(),h(" ",C(2,1,"TITLE.OPTION")," "))}function gp(o,r){if(o&1&&(a(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),o&2){let e=k(5);n(),d("matMenuTriggerFor",e)}}function hp(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.title," ")}}function vp(o,r){if(o&1&&(v(0,"img",68),_(1,"cmsthumbnail")),o&2){let e=g().$implicit;d("src",R(C(1,2,e.linkMainImageIdSrc)),ie)}}function _p(o,r){if(o&1){let e=M();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),b(5,vp,2,4,"img",65),s(),a(6,"th"),m(7),a(8,"span",66),I("click",function(){p(e);let t=g();return u(t.onActionCopied())}),v(9,"i",67),s()()(),a(10,"tr"),v(11,"td"),a(12,"td"),m(13),s()(),a(14,"tr"),v(15,"td"),a(16,"td"),m(17),s()(),a(18,"tr"),v(19,"td")(20,"td"),s()()()()}if(o&2){let e=r.$implicit;n(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),n(2),h(" ",e.id," "),n(),d("cdkCopyToClipboard",e.id),n(5),w(e.title),n(4),w(e.description)}}function Cp(o,r){o&1&&v(0,"mat-header-row")}function Ip(o,r){if(o&1){let e=M();a(0,"mat-row",69),I("click",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=g();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=g();return u(l.onActionTableRowMouseLeave(t))}),s()}if(o&2){let e=r.$implicit,i=g();Z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function bp(o,r){if(o&1){let e=M();a(0,"mat-row",70),I("click",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=g();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=g();return u(l.onActionTableRowMouseLeave(t))}),s()}if(o&2){let e=r.$implicit,i=g();Z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Mp(o,r){if(o&1){let e=M();a(0,"mat-row",71),I("click",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=g();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=g();return u(l.onActionTableRowMouseLeave(t))}),s()}if(o&2){let e=r.$implicit,i=g();Z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),d("ngStyle",gt(3,Hr,e.expanded===!0?"":"none"))}}var Ro=class Ro extends nt{constructor(e,i,t,l,S,c,G,se,je,St){super(e,new Xt,je,l,G);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=l;this.cdr=S;this.cmsStoreService=c;this.translate=G;this.pageInfo=se;this.publicHelper=je;this.dialog=St;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new de;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","Description","HashMd5","KeyCode","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","Description","HashMd5","KeyCode","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:At=>this.onSubmitOptionsSearch(At)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=J.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ne(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Xt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0){let t=new $;t.propertyName="PlanSources",t.propertyAnyName="LinkPlanId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new de,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new Le;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={parentId:this.categoryModelSelected.id},this.dialog.open(Un,e).afterClosed().subscribe(t=>{if(t&&t.dialogChangedDate)if(t.id&&t.id>0){let l=new Le;l.disableClose=!0,l.autoFocus=!0,l.height="90%",l.data={id:t.id},this.dialog.open(Wo,l).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&(this.categoryModelSelected=new Re,this.DataGetAll())})}else this.categoryModelSelected=new Re,this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new Le;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id},this.dialog.open(Wo,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&(this.categoryModelSelected=new Re,this.DataGetAll())})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(zn,{height:"40%",panelClass:i,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonSourceList(e=this.tableRowSelected,i){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/plan-source/LinkSourceId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/plan-source/LinkSourceId/"+e.id])}onActionButtonDataRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.No_row_selected_for_viewing").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorAccessDelete();return}i?.ctrlKey?(this.link="/#/data-provider/log-source/LinkSourceId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/log-source/LinkSourceId/"+e.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),S=new $;S.propertyName="recordStatus",S.value=we.Available,l.filters.push(S),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Ro.\u0275fac=function(i){return new(i||Ro)(f(Kt),f(B),f(xe),f(fe),f(L),f(ue),f(x),f(ot),f(O),f(_e))},Ro.\u0275cmp=A({type:Ro,selectors:[["app-data-provider-source-list"]],standalone:!1,features:[X],decls:73,vars:37,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","HashMd5"],["matColumnDef","KeyCode"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-database","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=M();a(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(c){return p(l),D(t.viewGuideNotice,c)||(t.viewGuideNotice=c),u(c)}),I("optionOnActionButtonMemoRow",function(){return p(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),u(t.onActionButtonPrintRow())}),P(1,4),a(2,"app-data-provider-plan-tree",5),I("optionChange",function(c){return p(l),u(t.onActionSelectorSelect(c))}),s(),y(),be(3,6)(4,7),P(5,8),a(6,"a",9),I("click",function(){return p(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),v(7,"i",10),s(),a(8,"a",9),I("click",function(){return p(l),u(t.onActionButtonReload())}),v(9,"i",11),s(),y(),P(10,12),a(11,"a",13),I("click",function(){return p(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(12,"mat-slide-toggle",14),m(13),_(14,"translate"),s(),a(15,"a",13),I("click",function(){return p(l),u(t.onActionButtonStatist())}),v(16,"mat-slide-toggle",14),m(17),_(18,"translate"),s(),y(),P(19,15),b(20,Wm,7,3,"div",16),y(),P(21,17),b(22,Qm,7,3,"div",16)(23,Um,7,3,"div",16)(24,zm,7,3,"div",16)(25,Km,7,3,"div",16),y(),P(26,18),a(27,"app-cms-search-list",19),E("optionsChange",function(c){return p(l),D(t.optionsSearch,c)||(t.optionsSearch=c),u(c)}),s(),a(28,"app-cms-statist-list",19),E("optionsChange",function(c){return p(l),D(t.optionsStatist,c)||(t.optionsStatist=c),u(c)}),s(),y(),P(29,20),a(30,"mat-table",21,0),I("matSortChange",function(){p(l);let c=k(31);return u(t.onTableSortData(c))}),P(32,22),b(33,Jm,3,3,"mat-header-cell",23)(34,Ym,3,0,"mat-cell",24),y(),P(35,25),b(36,Xm,3,3,"mat-header-cell",26)(37,$m,2,1,"mat-cell",24),y(),P(38,27),b(39,ep,2,1,"mat-header-cell",26)(40,tp,2,1,"mat-cell",24),y(),P(41,28),b(42,ip,2,1,"mat-header-cell",26)(43,op,4,5,"mat-cell",24),y(),P(44,29),b(45,np,2,1,"mat-header-cell",26)(46,ap,4,4,"mat-cell",24),y(),P(47,30),b(48,sp,2,1,"mat-header-cell",26)(49,lp,2,1,"mat-cell",24),y(),P(50,31),b(51,cp,2,1,"mat-header-cell",26)(52,dp,2,1,"mat-cell",24),y(),P(53,32),b(54,mp,2,1,"mat-header-cell",26)(55,pp,2,1,"mat-cell",24),y(),P(56,33),b(57,up,2,1,"mat-header-cell",26)(58,fp,2,1,"mat-cell",24),y(),P(59,34),b(60,Sp,3,3,"mat-header-cell",23)(61,gp,6,1,"mat-cell",35),y(),P(62,36),b(63,hp,2,1,"mat-cell",24),y(),P(64,37),b(65,_p,21,5,"mat-cell",24),y(),b(66,Cp,1,0,"mat-header-row",38)(67,Ip,1,2,"mat-row",39)(68,bp,1,2,"mat-row",40)(69,Mp,1,5,"mat-row",41),s(),y(),P(70,42),a(71,"mat-paginator",43,1),I("page",function(c){return p(l),u(t.onTablePageingData(c))}),s(),y(),s()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","dataprovider.source.list"),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),n(9),Z("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),d("checked",t.optionsSearch.data.show),n(),h("",C(14,30,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),h("",C(18,32,"ACTION.STATIST")," "),n(3),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow)&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id)>0),n(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),n(2),T("options",t.optionsSearch),n(),T("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(36),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",Ee(34,Hm)),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(),d("matRowDefColumns",Ee(35,jm)),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ee(36,qm)))},dependencies:[bt,F,Mt,ke,Ve,W,ze,Ke,Je,Ye,Xe,Be,Ze,Ge,$e,Fe,Oe,et,Ne,He,tt,it,Di,rt,at,st,lt,Dt,Ui,mt,V,Et,Ie,wt],encapsulation:2});var Kn=Ro;var Pp=["vform"];function yp(o,r){if(o&1){let e=M();a(0,"div",8)(1,"button",9),I("click",function(){p(e);let t=g();return u(t.onFormCancel())}),v(2,"i",10),m(3),_(4,"translate"),s()()}o&2&&(n(3),h(" ",C(4,1,"ACTION.CANCEL")," "))}var Ao=class Ao{constructor(r,e,i,t,l,S,c,G,se,je){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.DataProviderTransactionService=t;this.cmsToastrService=l;this.tokenHelper=S;this.cmsStoreService=c;this.cdr=G;this.publicHelper=se;this.translate=je;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new li;this.dataModelResult=new H;this.dataModel=new Bo;this.formInfo=new Q;this.dataModelEnumSendSmsStatusTypeResult=new H;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id||0)}ngOnInit(){if(this.translate.get("aaaaaaaaaTITLE.VIEWaaaaa").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId<=0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>ne(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.DataProviderTransactionService.setAccessLoad(),this.DataProviderTransactionService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ao.\u0275fac=function(e){return new(e||Ao)(f(q),f(j),f(ee),f(ci),f(B),f(fe),f(ue),f(L),f(O),f(x))},Ao.\u0275cmp=A({type:Ao,selectors:[["app-donate-transaction-view"]],viewQuery:function(e,i){if(e&1&&U(Pp,5),e&2){let t;z(t=K())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),v(6,"app-cms-form-result-message",5),s(),a(7,"div",6),b(8,yp,5,3,"div",7),s()),e&2&&(n(),h(" ",i.formInfo.formTitle," "),n(2),d("optionsInfoAreaId",i.constructorInfoAreaId),n(),d("dataModel",i.dataModel)("optionMethod",1),n(2),d("formInfo",i.formInfo),n(2),d("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[F,N,di,he,V],encapsulation:2});var Jn=Ao;var xo=class xo{constructor(r,e,i,t,l,S,c,G){this.headerService=r;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.dialog=l;this.translate=S;this.cmsStoreService=c;this.tokenHelper=G;this.constructorInfoAreaId=this.constructor.name;this.optionId=0;this.dataModelResult=new H;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(()=>ne(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onActionButtonLinkTo(r=this.dataModelResult.item){if(!r||!r.id||r.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(r.recordStatus!=we.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ri,{height:"90%",width:"90%",panelClass:e,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{urlViewContentQRCodeBase64:"",urlViewContent:""}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};xo.\u0275fac=function(e){return new(e||xo)(f(Ot),f(O),f(L),f(B),f(_e),f(x),f(ue),f(fe))},xo.\u0275cmp=A({type:xo,selectors:[["app-data-provider-client-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:27,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(a(0,"div",0),v(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),v(6,"span",6),s(),a(7,"div",7)(8,"h5"),m(9),_(10,"translate"),s()(),v(11,"div",8),s(),a(12,"div",4)(13,"div",5),m(14),s(),a(15,"div",7),m(16),s(),v(17,"div",8)(18,"div",9),s(),a(19,"div",4)(20,"div",5),m(21),s(),a(22,"div",7),m(23),s(),v(24,"div",8)(25,"div",9),s()()()(),v(26,"div",10)),e&2&&(n(),d("optionsInfoAreaId",i.constructorInfoAreaId),n(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),n(3),w(C(10,7,"TITLE.Selected_SPONSER")),n(5),h("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," :"),n(2),w(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),n(5),h(" ",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : "),n(2),w(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[N,wi,V],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Yn=xo;var ko=class ko{constructor(r,e,i,t,l,S,c,G){this.headerService=r;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.translate=l;this.cmsStoreService=S;this.dialog=c;this.tokenHelper=G;this.constructorInfoAreaId=this.constructor.name;this.optionId=0;this.dataModelResult=new H;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(()=>ne(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onActionButtonLinkTo(r=this.dataModelResult.item){if(!r||!r.id||r.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(r.recordStatus!=we.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ri,{height:"90%",width:"90%",panelClass:e,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{urlViewContentQRCodeBase64:"",urlViewContent:""}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};ko.\u0275fac=function(e){return new(e||ko)(f(Nt),f(O),f(L),f(B),f(x),f(ue),f(_e),f(fe))},ko.\u0275cmp=A({type:ko,selectors:[["app-data-provider-plan-price-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:27,vars:9,consts:[[1,"card","card-style","loader-container"],[1,"content"],[3,"optionsInfoAreaId"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1),v(2,"app-progress-spinner",2),a(3,"div",3)(4,"div",4)(5,"div",5),v(6,"span",6),s(),a(7,"div",7)(8,"h5"),m(9),_(10,"translate"),s()(),v(11,"div",8),s(),a(12,"div",4)(13,"div",5),m(14),s(),a(15,"div",7),m(16),s(),v(17,"div",8)(18,"div",9),s(),a(19,"div",4)(20,"div",5),m(21),s(),a(22,"div",7),m(23),s(),v(24,"div",8)(25,"div",9),s()()()(),v(26,"div",10)),e&2&&(n(2),d("optionsInfoAreaId",i.constructorInfoAreaId),n(4),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),n(3),w(C(10,7,"TITLE.Selected_SPONSER")),n(5),h("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," :"),n(2),w(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),n(5),h(" ",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : "),n(2),w(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[N,wi,V],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Xn=ko;var Ep=()=>[5,10,20,100],wp=o=>({display:o});function Rp(o,r){if(o&1&&v(0,"app-data-provider-plan-header",46),o&2){let e=g();d("optionId",e.requestLinkPlanId)}}function Ap(o,r){if(o&1&&v(0,"app-data-provider-plan-price-header",46),o&2){let e=g();d("optionId",e.requestLinkPlanPriceId)}}function xp(o,r){if(o&1&&v(0,"app-data-provider-client-header",46),o&2){let e=g();d("optionId",e.requestLinkClientId)}}function kp(o,r){if(o&1){let e=M();a(0,"a",47),I("click",function(){p(e);let t=g();return u(t.onActionBackToParent())}),v(1,"i",48),s()}}function Lp(o,r){if(o&1){let e=M();a(0,"div",49)(1,"a",50),I("click",function(){p(e);let t=g();return u(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",51)(3,"br"),s(),a(4,"p",52),m(5),_(6,"translate"),s()()}o&2&&(n(5),h(" ",C(6,1,"ACTION.VIEW")," "))}function Vp(o,r){o&1&&(a(0,"mat-header-cell",53),m(1),_(2,"translate"),s()),o&2&&(n(),h(" ",C(2,1,"TITLE.PICTURE")," "))}function Bp(o,r){if(o&1&&(v(0,"img",55),_(1,"cmsthumbnail")),o&2){let e=g().$implicit;d("src",R(C(1,2,e.linkMainImageIdSrc)),ie)}}function Op(o,r){if(o&1&&(a(0,"mat-cell"),b(1,Bp,2,4,"img",54),s()),o&2){let e=r.$implicit;n(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Gp(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Fp(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.id," ")}}function Np(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Hp(o,r){if(o&1&&(a(0,"mat-cell"),m(1),_(2,"cmssiteinfo"),_(3,"async"),s()),o&2){let e=r.$implicit;n(),h(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function jp(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function qp(o,r){if(o&1&&v(0,"select",58),o&2){let e=g().$implicit,i=g();d("contentService",i.contentService)("row",e)("ngStyle",gt(3,wp,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Wp(o,r){if(o&1&&(a(0,"mat-cell"),v(1,"i",56),_(2,"statusIconClass"),b(3,qp,1,5,"select",57),s()),o&2){let e=r.$implicit,i=g();n(),d("ngClass",C(2,2,e.recordStatus)),n(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Qp(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.linkClientId==null?null:e.fieldsInfo.linkClientId.fieldTitle," ")}}function Up(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.linkClientId," ")}}function zp(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.linkPlanId==null?null:e.fieldsInfo.linkPlanId.fieldTitle," ")}}function Kp(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.linkPlanId," ")}}function Jp(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.linkPlanPriceId==null?null:e.fieldsInfo.linkPlanPriceId.fieldTitle," ")}}function Yp(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.linkPlanPriceId," ")}}function Xp(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.systemTransactionId==null?null:e.fieldsInfo.systemTransactionId.fieldTitle," ")}}function Zp(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.systemTransactionId," ")}}function $p(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.systemPaymentisSuccess==null?null:e.fieldsInfo.systemPaymentisSuccess.fieldTitle," ")}}function eu(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.systemPaymentisSuccess," ")}}function tu(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.amountPure==null?null:e.fieldsInfo.amountPure.fieldTitle," ")}}function iu(o,r){if(o&1&&(a(0,"mat-cell"),m(1),_(2,"number"),s()),o&2){let e=r.$implicit;n(),h(" ",C(2,1,e.amountPure)," ")}}function ou(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.feeTransport==null?null:e.fieldsInfo.feeTransport.fieldTitle," ")}}function nu(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.feeTransport," ")}}function ru(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.feeTax==null?null:e.fieldsInfo.feeTax.fieldTitle," ")}}function au(o,r){if(o&1&&(a(0,"mat-cell"),m(1),s()),o&2){let e=r.$implicit;n(),h(" ",e.feeTax," ")}}function su(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.amount==null?null:e.fieldsInfo.amount.fieldTitle," ")}}function lu(o,r){if(o&1&&(a(0,"mat-cell"),m(1),_(2,"number"),s()),o&2){let e=r.$implicit;n(),h(" ",C(2,1,e.amount)," ")}}function cu(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),s()),o&2){let e=g();n(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function du(o,r){if(o&1&&(a(0,"mat-cell"),m(1),_(2,"localeDate"),s()),o&2){let e=r.$implicit;n(),h(" ",C(2,1,e.createdDate)," ")}}function mu(o,r){o&1&&(a(0,"mat-header-cell"),m(1),_(2,"translate"),s()),o&2&&(n(),h(" ",C(2,1,"TITLE.OPTION")," "))}function pu(o,r){if(o&1&&(a(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),o&2){let e=k(5);n(),d("matMenuTriggerFor",e)}}function uu(o,r){o&1&&v(0,"mat-header-row")}function fu(o,r){if(o&1){let e=M();a(0,"mat-row",61),I("click",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,S=g();return u(S.onActionTableRowSelect(l,t))}),s()}if(o&2){let e=r.$implicit,i=g();Z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Lo=class Lo extends nt{constructor(e,i,t,l,S,c,G,se,je,St,At){super(i,new Bo,St,S,se);this.activatedRoute=e;this.contentService=i;this.cmsToastrService=t;this.router=l;this.tokenHelper=S;this.cdr=c;this.cmsStoreService=G;this.translate=se;this.pageInfo=je;this.publicHelper=St;this.dialog=At;this.requestLinkCmsUserId=0;this.requestLinkPlanId=0;this.requestLinkPlanPriceId=0;this.requestLinkClientId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new de;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","recordStatus","LinkClientId","LinkPlanId","LinkPlanPriceId","SystemTransactionId","SystemPaymentisSuccess","AmountPure","FeeTransport","FeeTax","Amount","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","recordStatus","LinkClientId","LinkPlanId","LinkPlanPriceId","SystemTransactionId","SystemPaymentisSuccess","AmountPure","FeeTransport","FeeTax","Amount","createdDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:It=>this.onSubmitOptionsSearch(It)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=J.Descending}ngOnInit(){if(this.requestLinkCmsUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkCmsUserId")),this.requestLinkCmsUserId&&this.requestLinkCmsUserId>0){let e=new $;e.propertyName="LinkCmsUserId",e.value=this.requestLinkCmsUserId,this.filteModelContent.filters.push(e)}if(this.requestLinkPlanId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkPlanId")),this.requestLinkPlanId&&this.requestLinkPlanId>0){let e=new $;e.propertyName="LinkPlanId",e.value=this.requestLinkPlanId,this.filteModelContent.filters.push(e)}if(this.requestLinkClientId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkClientId")),this.requestLinkClientId&&this.requestLinkClientId>0){let e=new $;e.propertyName="LinkClientId",e.value=this.requestLinkClientId,this.filteModelContent.filters.push(e)}if(this.requestLinkPlanPriceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkPlanPriceId")),this.requestLinkPlanPriceId&&this.requestLinkPlanPriceId>0){let e=new $;e.propertyName="LinkPlanPriceId",e.value=this.requestLinkPlanPriceId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ne(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Bo);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id>0){this.cmsToastrService.typeErrorSelected();return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Jn,{height:"90%",panelClass:i,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),S=new $;S.propertyName="recordStatus",S.value=we.Available,l.filters.push(S),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.requestLinkCmsUserId>0?this.router.navigate(["/data-provider/plan/"]):this.requestLinkPlanId>0?this.router.navigate(["/data-provider/plan/"]):this.requestLinkPlanPriceId>0?this.router.navigate(["/data-provider/plan-price/"]):this.requestLinkClientId>0&&this.router.navigate(["/data-provider/client/"])}};Lo.\u0275fac=function(i){return new(i||Lo)(f(vt),f(ci),f(B),f(xe),f(fe),f(L),f(ue),f(x),f(ot),f(O),f(_e))},Lo.\u0275cmp=A({type:Lo,selectors:[["app-donate-transaction-list"]],standalone:!1,features:[X],decls:81,vars:32,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","LinkClientId"],["matColumnDef","LinkPlanId"],["matColumnDef","LinkPlanPriceId"],["matColumnDef","SystemTransactionId"],["matColumnDef","SystemPaymentisSuccess"],["matColumnDef","AmountPure"],["matColumnDef","FeeTransport"],["matColumnDef","FeeTax"],["matColumnDef","Amount"],["matColumnDef","createdDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=M();b(0,Rp,1,1,"app-data-provider-plan-header",3)(1,Ap,1,1,"app-data-provider-plan-price-header",3)(2,xp,1,1,"app-data-provider-client-header",3),a(3,"app-cms-html-list",4),E("optionActionGuideNoticeDisplayChange",function(c){return p(l),D(t.viewGuideNotice,c)||(t.viewGuideNotice=c),u(c)}),I("optionOnActionButtonMemoRow",function(){return p(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),u(t.onActionButtonPrintRow())}),be(4,5)(5,6)(6,7),P(7,8),b(8,kp,2,0,"a",9),a(9,"a",10),I("click",function(){return p(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),v(10,"i",11),s(),a(11,"a",10),I("click",function(){return p(l),u(t.onActionButtonReload())}),v(12,"i",12),s(),y(),P(13,13),a(14,"a",14),I("click",function(){return p(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(15,"mat-slide-toggle",15),m(16),_(17,"translate"),s(),a(18,"a",14),I("click",function(){return p(l),u(t.onActionButtonStatist())}),v(19,"mat-slide-toggle",15),m(20),_(21,"translate"),s(),y(),be(22,16),P(23,17),b(24,Lp,7,3,"div",18),y(),P(25,19),a(26,"app-cms-search-list",20),E("optionsChange",function(c){return p(l),D(t.optionsSearch,c)||(t.optionsSearch=c),u(c)}),s(),a(27,"app-cms-statist-list",20),E("optionsChange",function(c){return p(l),D(t.optionsStatist,c)||(t.optionsStatist=c),u(c)}),s(),y(),P(28,21),a(29,"mat-table",22,0),I("matSortChange",function(){p(l);let c=k(30);return u(t.onTableSortData(c))}),P(31,23),b(32,Vp,3,3,"mat-header-cell",24)(33,Op,2,1,"mat-cell",25),y(),P(34,26),b(35,Gp,2,1,"mat-header-cell",24)(36,Fp,2,1,"mat-cell",25),y(),P(37,27),b(38,Np,2,1,"mat-header-cell",24)(39,Hp,4,5,"mat-cell",25),y(),P(40,28),b(41,jp,2,1,"mat-header-cell",24)(42,Wp,4,4,"mat-cell",25),y(),P(43,29),b(44,Qp,2,1,"mat-header-cell",24)(45,Up,2,1,"mat-cell",25),y(),P(46,30),b(47,zp,2,1,"mat-header-cell",24)(48,Kp,2,1,"mat-cell",25),y(),P(49,31),b(50,Jp,2,1,"mat-header-cell",24)(51,Yp,2,1,"mat-cell",25),y(),P(52,32),b(53,Xp,2,1,"mat-header-cell",24)(54,Zp,2,1,"mat-cell",25),y(),P(55,33),b(56,$p,2,1,"mat-header-cell",24)(57,eu,2,1,"mat-cell",25),y(),P(58,34),b(59,tu,2,1,"mat-header-cell",24)(60,iu,3,3,"mat-cell",25),y(),P(61,35),b(62,ou,2,1,"mat-header-cell",24)(63,nu,2,1,"mat-cell",25),y(),P(64,36),b(65,ru,2,1,"mat-header-cell",24)(66,au,2,1,"mat-cell",25),y(),P(67,37),b(68,su,2,1,"mat-header-cell",24)(69,lu,3,3,"mat-cell",25),y(),P(70,38),b(71,cu,2,1,"mat-header-cell",24)(72,du,3,3,"mat-cell",25),y(),P(73,39),b(74,mu,3,3,"mat-header-cell",40)(75,pu,6,1,"mat-cell",41),y(),b(76,uu,1,0,"mat-header-row",42)(77,fu,1,2,"mat-row",43),s(),y(),P(78,44),a(79,"mat-paginator",45,1),I("page",function(c){return p(l),u(t.onTablePageingData(c))}),s(),y(),s()}i&2&&(d("ngIf",t.requestLinkPlanId>0),n(),d("ngIf",t.requestLinkPlanPriceId>0),n(),d("ngIf",t.requestLinkClientId>0),n(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(5),d("ngIf",t.requestLinkPlanId>0||t.requestLinkPlanPriceId>0||t.requestLinkClientId>0),n(4),Z("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),d("checked",t.optionsSearch.data.show),n(),h("",C(17,27,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),h("",C(21,29,"ACTION.STATIST")," "),n(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),n(2),T("options",t.optionsSearch),n(),T("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(47),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ee(31,Ep)))},dependencies:[bt,F,Mt,ke,Ve,W,ze,Ke,Je,Ye,Xe,Be,Ze,Ge,$e,Fe,Oe,et,Ne,He,tt,it,rt,at,st,lt,Dt,pi,Yn,Xn,mt,ar,V,Et,Ie,mi,wt],encapsulation:2});var ai=Lo;var Su=[{path:"",component:wn,data:{title:"ROUTE.DATAPROVIDER"},children:[{path:"config",loadChildren:()=>import("./chunk-ENGQPOBS.js").then(o=>o.DataProviderConfigModule),data:{title:"ROUTE.DATAPROVIDER"}},{path:"log-client",component:eo,data:{title:"ROUTE.DATAPROVIDER.LOGCLIENT"}},{path:"log-client/LinkClientId/:LinkClientId",component:eo,data:{title:"ROUTE.DATAPROVIDER.LOGCLIENT"}},{path:"log-client/LinkPlanId/:LinkPlanId",component:eo,data:{title:"ROUTE.DATAPROVIDER.LOGCLIENT"}},{path:"log-plan",component:oo,data:{title:"ROUTE.DATAPROVIDER.LOGPLAN"}},{path:"log-plan/LinkSourceId/:LinkSourceId",component:oo,data:{title:"ROUTE.DATAPROVIDER.LOGPLAN"}},{path:"log-plan/LinkPlanId/:LinkPlanId",component:oo,data:{title:"ROUTE.DATAPROVIDER.LOGPLAN"}},{path:"log-source",component:Ho,data:{title:"ROUTE.DATAPROVIDER.LOGSOURCE"}},{path:"log-source/LinkSourceId/:LinkSourceId",component:Ho,data:{title:"ROUTE.DATAPROVIDER.LOGSOURCE"}},{path:"client",component:En,data:{title:"ROUTE.DATAPROVIDER.CLIENT"}},{path:"client-charge/:LinkClientId",component:yn,data:{title:"ROUTE.DATAPROVIDER.CLIENTCHARGE"}},{path:"source",component:Kn,data:{title:"ROUTE.DATAPROVIDER.SOURCE"}},{path:"plan-client",component:mo,data:{title:"ROUTE.DATAPROVIDER.PLANCLIENT"}},{path:"plan-client/LinkPlanId/:LinkPlanId",component:mo,data:{title:"ROUTE.DATAPROVIDER.PLANCLIENT"}},{path:"plan-client/LinkClientId/:LinkClientId",component:mo,data:{title:"ROUTE.DATAPROVIDER.PLANCLIENT"}},{path:"plan",component:qo,data:{title:"ROUTE.DATAPROVIDER.PLAN"}},{path:"plan/LinkPlanCategory/:LinkPlanCategory",component:qo,data:{title:"ROUTE.DATAPROVIDER.PLAN"}},{path:"plan-source",component:Io,data:{title:"ROUTE.DATAPROVIDER.PLANSOURCE"}},{path:"plan-source/LinkPlanId/:LinkPlanId",component:Io,data:{title:"ROUTE.DATAPROVIDER.PLANSOURCE"}},{path:"plan-source/LinkSourceId/:LinkSourceId",component:Io,data:{title:"ROUTE.DATAPROVIDER.PLANSOURCE"}},{path:"plan-price",component:jo,data:{title:"ROUTE.DATAPROVIDER.PLANPRICE"}},{path:"plan-price/LinkPlanId/:LinkPlanId",component:jo,data:{title:"ROUTE.DATAPROVIDER.PLANPRICE"}},{path:"transaction",component:ai,data:{title:"ROUTE.DATAPROVIDER.TRANSACTION"}},{path:"transaction/LinkPlanId/:LinkPlanId",component:ai,data:{title:"ROUTE.DATAPROVIDER.TRANSACTION"}},{path:"transaction/LinkCmsUserId/:LinkCmsUserId",component:ai,data:{title:"ROUTE.DATAPROVIDER.TRANSACTION"}},{path:"transaction/LinkClientId/:LinkClientId",component:ai,data:{title:"ROUTE.DATAPROVIDER.TRANSACTION"}},{path:"transaction/LinkSponsorId/:LinkSponsorId",component:ai,data:{title:"ROUTE.DATAPROVIDER.TRANSACTION"}},{path:"transaction/LinkPlanPriceId/:LinkPlanPriceId",component:ai,data:{title:"ROUTE.DATAPROVIDER.TRANSACTION"}}]}],hi=class hi{};hi.\u0275fac=function(e){return new(e||hi)},hi.\u0275mod=$o({type:hi}),hi.\u0275inj=Xo({imports:[tr.forChild(Su),tr]});var Zn=hi;var vi=class vi{};vi.\u0275fac=function(e){return new(e||vi)},vi.\u0275mod=$o({type:vi}),vi.\u0275inj=Xo({providers:[dr,ee,mr,fr,Sr,Ti,yi,Pi,pt,Kt,ci,Ot,Gt,Ft,Nt,Ht,bn,pr],imports:[lr,Zn,hr,vr.withConfig({warnOnNgModelWithFormControl:"never"}),wr,Rr,Pr,Mr,Tr,Ar,gr,Dr]});var jr=vi;export{jr as DataProviderModule};
