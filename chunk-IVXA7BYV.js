import{a as Mr,b as Xr,c as Mn}from"./chunk-FCAK7JAS.js";import{a as Yr}from"./chunk-R2APBEVH.js";import{a as Kr,b as Jr}from"./chunk-TWSHGTKE.js";import{a as Oo}from"./chunk-7AFW7B3E.js";import{a as jt}from"./chunk-WOJGHSGN.js";import{a as qt}from"./chunk-WG5RFXLR.js";import{a as zr}from"./chunk-GLILAB5U.js";import{a as qr}from"./chunk-QL2E7QPJ.js";import{a as Qr}from"./chunk-3EWDJMY5.js";import{a as Ri}from"./chunk-GBVGAVLG.js";import{a as Go}from"./chunk-REMMUJIM.js";import{a as Fo}from"./chunk-V7Z6HMK4.js";import{a as jr}from"./chunk-EI3MZ3VP.js";import{a as Lt}from"./chunk-QNN4UITB.js";import{a as yt}from"./chunk-G432CLP3.js";import{a as _t}from"./chunk-NLQ76RSN.js";import{c as ft,d as St,e as ht,g as gt,h as Mt}from"./chunk-TCMGM7JT.js";import{a as ut,b as It}from"./chunk-YOCG6G47.js";import{a as dt,b as Ut,c as gn,d as Wr}from"./chunk-2B3SHXWO.js";import{a as pt}from"./chunk-7KFNXN7X.js";import{a as fe}from"./chunk-U5LBA3P3.js";import{b as Ur}from"./chunk-JZK2NPNV.js";import{a as ii}from"./chunk-IBNPJYTN.js";import{a as We}from"./chunk-IK5GWPQS.js";import{a as me}from"./chunk-2PGKH5NK.js";import{a as q,d as re}from"./chunk-XHOLWZSZ.js";import{a as No,b as Bo,e as mt,f as B}from"./chunk-J2UTIVMJ.js";import{$ as Sn,$a as J,A as un,Ab as at,B as Nr,Ba as xt,Bb as st,Ca as Dt,Cb as lt,D as bi,Da as kt,Db as ct,E as vi,Fc as Re,G as Ii,Ib as Ro,Ic as xe,J as _e,Ja as lo,Jb as xo,K as Ae,Ka as ne,Kb as Do,Kc as N,L as Ee,La as oe,Lb as ko,Ma as Pe,Mb as Lo,N as Br,Nb as Vo,Nc as Hr,O as Fr,Q as fn,Qb as L,Rb as F,V as yi,W as ue,Y as wo,Z as Rt,Za as Te,_ as Ai,aa as hn,ba as Ge,bc as Wt,c as Lr,cc as Gr,d as Io,eb as Ke,f as yo,fb as Je,g as Ao,hb as Xe,i as Eo,j as To,k as Vr,lb as Ye,m as Le,mb as Ze,n as z,nb as $e,q as K,r as se,sa as Po,t as le,tc as Or,u as ei,ua as Ei,ub as et,v as ie,va as Ti,vb as tt,w as ce,wb as it,x as ti,xa as wi,xb as nt,ya as Pi,yb as ot,zb as rt}from"./chunk-APGLDV74.js";import{$b as Ne,Ab as ln,Ad as Si,Ak as kr,Bb as cn,Bk as ke,Bq as U,Ca as Ce,Cd as dn,Db as $,Eb as ee,F as on,Fa as o,Fb as te,Fd as Jt,Ha as qe,I as rn,Id as Be,Ik as Ft,Jb as R,Jc as je,Jk as gi,Kc as we,Kk as Gt,Lb as X,Lc as O,Ld as j,Lk as vo,Mk as Ot,Nk as Mi,Oa as C,Ob as d,Od as Fe,Ok as pn,P as an,Pb as T,Pc as fi,Pk as $t,Q as sn,Qb as g,Qk as _i,Rb as be,Rc as Tt,Rk as Ht,Sa as D,Sd as ze,Sk as Ci,Ta as Co,Td as G,Ub as y,Va as yr,Vb as A,Wa as W,Wb as E,X as vr,Xb as x,Xc as Ar,Xd as Q,Y as _o,Ya as b,Yb as ri,Yd as Y,Zd as Tr,ac as ui,ae as bo,da as p,db as Zt,dc as h,de as Ie,ea as u,ec as M,fc as mn,fe as wr,he as Pr,ia as Ir,jk as Bt,kb as m,kk as Pt,lb as r,lk as ai,mb as a,mk as Xt,nb as _,ok as gr,p as tn,pk as si,q as nn,qk as li,rb as w,rd as wt,rk as hi,sb as P,sd as Er,sk as Rr,tb as Ve,td as Qe,tk as ci,ub as I,uk as At,vk as mi,wc as V,wk as xr,xb as v,zb as S,zd as hr,zk as Dr}from"./chunk-7HCSBQXB.js";import{i as ve}from"./chunk-SEDBTTTN.js";var sa=["*"];function la(n,l){if(n&1&&(r(0,"label",12),d(1),a()),n&2){let e=S();m("for",ri("app-cms-site-selector-",e.id)),o(),T(e.optionLabel)}}function ca(n,l){if(n&1&&(r(0,"mat-option",13)(1,"span"),d(2),a()()),n&2){let e=l.$implicit,i=S();m("value",e)("disabled",i.optionDisabled),o(2),T(i.displayOption(e))}}function ma(n,l){n&1&&_(0,"i",14)}function da(n,l){n&1&&_(0,"i",15)}function pa(n,l){if(n&1){let e=I();r(0,"i",16),v("click",function(){p(e);let t=S();return u(t.onActionSelectClear())}),a()}}function ua(n,l){n&1&&(r(0,"em"),d(1),h(2,"translate"),a()),n&2&&(o(),g("(",M(2,1,"TITLE.Necessary"),")"))}var xi=class xi{constructor(l,e,i,t,s,f){this.coreEnumService=l;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=s;this.categoryService=f;this.id=++xi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new Pt;this.formControl=new ei;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionSelectFirstItemOnChangeApi=!1;this.optionPlaceholder="";this.optionLabel="";this.optionSelectForSendMessage=!1;this.optionChange=new qe;this.optionReload=()=>this.onActionButtonReload();this.privateLinkApiPathId="";this.privateLinkApiPathIdLast="";this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}set optionLinkApiPathId(l){l!=this.privateLinkApiPathId&&(this.privateLinkApiPathId!=""&&this.onActionSelectClear(),this.privateLinkApiPathId=l,this.privateLinkApiPathId!=this.privateLinkApiPathIdLast&&(this.optionSelectFirstItem=this.optionSelectFirstItemOnChangeApi),this.privateLinkApiPathIdLast=l,this.optionChange.emit(this.dataModelSelect),this.loadOptions())}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(an(""),on(1500),rn(),sn(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.numberChar:void 0}displayOption(l){return l?l.numberChar:void 0}DataGetAll(l){return ve(this,null,function*(){let e=new Y;e.rowPerPage=20,e.accessLoad=!0;let i=new Q;i.propertyName="NumberChar",i.value=l,i.searchType=Jt.Contains,i.clauseType=Si.Or,e.filters.push(i),this.privateLinkApiPathId?.length>0&&(i=new Q,i.propertyName="ApiPathAndApiNumbers",i.propertyAnyName="LinkApiPathId",i.value=this.privateLinkApiPathId,i.searchType=Jt.Equal,e.filters.push(i)),this.optionSelectForSendMessage&&(i=new Q,i.propertyName="recordStatus",i.value=Be.Available,i.searchType=Jt.Equal,e.filters.push(i)),this.optionAccessDataType&&this.categoryService.setAccessDataType(this.optionAccessDataType);let t=this.constructor.name+"main";return this.translate.get("MESSAGE.get_information_list").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.optionAccessDataType&&this.categoryService.setAccessDataType(this.optionAccessDataType),yield tn(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0]),this.onActionSelect(this.dataModelResult.listItems[0])},1e3)),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=new Pt,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(nn(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.numberChar===l)){let e=this.dataModelResult.listItems.find(i=>i.numberChar===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Pt){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Pt,this.onActionSelectClear(),this.loadOptions()}};xi.nextId=0,xi.\u0275fac=function(e){return new(e||xi)(C(Ie),C(N),C(L),C(V),C(B),C(Ft))},xi.\u0275cmp=D({type:xi,selectors:[["app-sms-api-number-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionSelectFirstItemOnChangeApi:"optionSelectFirstItemOnChangeApi",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectForSendMessage:"optionSelectForSendMessage",optionAccessDataType:"optionAccessDataType",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionLinkApiPathId:"optionLinkApiPathId"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:sa,decls:15,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();ln(),r(0,"div",1),_(1,"app-progress-spinner",2),b(2,la,2,3,"label",3),_(3,"input",4),r(4,"mat-autocomplete",5,0),v("optionSelected",function(f){return p(t),u(i.onActionSelect(f.option.value))}),b(6,ca,3,3,"mat-option",6),h(7,"async"),a(),b(8,ma,1,0,"i",7)(9,da,1,0,"i",8)(10,pa,1,0,"i",9),r(11,"i",10),h(12,"translate"),v("click",function(){return p(t),u(i.onActionButtonReload())}),a(),b(13,ua,3,3,"em",11),cn(14),a()}if(e&2){let t=R(5);o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(),m("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),m("placeholder",x(i.optionPlaceholder))("id",ri("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Zt("disabled",i.optionDisabled?!0:null),o(),m("displayWith",i.displayFn),o(2),m("ngForOf",M(7,20,i.filteredOptions)),o(2),m("ngIf",!i.formControl.valid),o(),m("ngIf",i.optionRequired&&i.formControl.valid),o(),m("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),X("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),m("title",x(M(12,22,"ACTION.RELOAD"))),o(2),m("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0))}},dependencies:[we,O,z,K,_e,un,Sn,fn,hn,J,q,Tt,F],encapsulation:2});var _n=xi;var fa=["vform"];function Sa(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",29),E("modelChange",function(t){p(e);let s=S();return A(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();y("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ha(n,l){if(n&1){let e=I();r(0,"div",30)(1,"div",31)(2,"h5",32),d(3),a()(),r(4,"div",33)(5,"div",34)(6,"input",35),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.hasInherits,t)||(s.dataModel.hasInherits=t),u(t)}),a(),_(7,"label",36),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle," "),o(3),y("ngModel",e.dataModel.hasInherits)}}function ga(n,l){if(n&1&&(r(0,"option",37),d(1),a()),n&2){let e=l.$implicit;m("ngValue",e.value),o(),g(" ",e.description," ")}}function Ma(n,l){n&1&&(r(0,"mat-error"),d(1," AccessStatus is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function _a(n,l){if(n&1&&(r(0,"option",37),d(1),a()),n&2){let e=l.$implicit;m("ngValue",e.value),o(),g(" ",e.description," ")}}function Ca(n,l){n&1&&(r(0,"mat-error"),d(1," Action is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function ba(n,l){if(n&1){let e=I();r(0,"div",21)(1,"label",38),d(2),h(3,"translate"),a(),r(4,"input",39),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),u(t)}),a(),_(5,"mat-datepicker-toggle",24)(6,"mat-datepicker",25,4),a()}if(n&2){let e=R(7),i=S();o(2),T(M(3,4,"TITLE.Expire_Date")),o(2),y("ngModel",i.dataModel.expireDate),m("matDatepicker",e),o(),m("for",e)}}function va(n,l){if(n&1){let e=I();r(0,"div",40)(1,"button",41),v("click",function(){p(e);let t=S();return u(t.onFormCancel())}),_(2,"i",42),d(3),h(4,"translate"),a(),r(5,"button",43),_(6,"i",44),d(7),h(8,"translate"),a()()}if(n&2){S();let e=R(10);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var Cn=class Cn extends pt{constructor(e,i,t,s,f,c,k,H){super(s,new ai,c,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiNumberPermissionService=s;this.cmsToastrService=f;this.publicHelper=c;this.cdr=k;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new ai;this.formInfo=new re;this.dataModelEnumApiNumberPermissionAccessStatusResult=new G;this.dataModelEnumApiNumberPermissionActionResult=new G;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&e.linkApiNumberId&&(this.dataModel.linkApiNumberId=e.linkApiNumberId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.getEnumApiNumberPermissionAccessStatus(),this.getEnumApiNumberPermissionAction(),this.DataGetAccess()}getEnumApiNumberPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiNumberPermissionAccessStatusEnum().subscribe(e=>{this.dataModelEnumApiNumberPermissionAccessStatusResult=e})}getEnumApiNumberPermissionAction(){this.smsEnumService.ServiceSmsApiNumberPermissionActionEnum().subscribe(e=>{this.dataModelEnumApiNumberPermissionActionResult=e})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberPermissionService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiNumberId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiNumberId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Cn.\u0275fac=function(i){return new(i||Cn)(C(oe),C(ne),C(ke),C(gi),C(N),C(B),C(V),C(L))},Cn.\u0275cmp=D({type:Cn,selectors:[["app-sms-api-number-permission-add"]],viewQuery:function(i,t){if(i&1&&$(fa,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:50,vars:51,consts:[["vform","ngForm"],["AccessStatus","ngModel"],["Action","ngModel"],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accessStatus","name","dataModel.accessStatus","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"mt-n3"],[4,"ngIf"],["id","dataModel.action","name","dataModel.action","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[1,"pb-5"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.hasInherits",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.hasInherits","name","dataModel.hasInherits",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasInherits",1,"custom-control-label"],[3,"ngValue"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",5),_(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),d(4),a(),r(5,"p"),d(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",9),r(9,"form",10,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(11,Sa,1,5,"app-cms-enum-record-status-selector",11),d(12),r(13,"app-sms-api-number-selector",12),h(14,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorSelectLinkApiNumberId(c))}),a(),r(15,"app-cms-user-selector",13),h(16,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCmsUser(c))}),a(),r(17,"app-cms-site-selector",13),h(18,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCmsSite(c))}),a(),r(19,"app-cms-usergroup-selector",13),h(20,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCoreUserGroup(c))}),a(),r(21,"app-cms-sitecategory-selector",13),h(22,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCoreSiteCategory(c))}),a(),b(23,ha,8,2,"div",14),r(24,"div",15)(25,"select",16,1),E("ngModelChange",function(c){return p(s),A(t.dataModel.accessStatus,c)||(t.dataModel.accessStatus=c),u(c)}),b(27,ga,2,2,"option",17),a(),r(28,"em",18),d(29),h(30,"translate"),a(),b(31,Ma,5,3,"mat-error",19),a(),r(32,"div",15)(33,"select",20,2),E("ngModelChange",function(c){return p(s),A(t.dataModel.action,c)||(t.dataModel.action=c),u(c)}),b(35,_a,2,2,"option",17),a(),r(36,"em",18),d(37),h(38,"translate"),a(),b(39,Ca,5,3,"mat-error",19),a(),r(40,"div",21)(41,"label",22),d(42),a(),r(43,"input",23),E("ngModelChange",function(c){return p(s),A(t.dataModel.fromDate,c)||(t.dataModel.fromDate=c),u(c)}),a(),_(44,"mat-datepicker-toggle",24)(45,"mat-datepicker",25,3),a(),b(47,ba,8,6,"div",26),_(48,"hr",27),b(49,va,9,7,"div",28),a()()()}if(i&2){let s=R(26),f=R(34),c=R(46);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,35,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(3),m("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),g(" aaaa ",t.dataModel.linkApiNumberId," bbb "),o(),m("optionSelectForce",t.dataModel.linkApiNumberId)("optionPlaceholder",M(14,37,"TITLE.No")),o(2),m("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",M(16,39,"TITLE.USER")),o(2),m("optionDisabled",!(t.fieldsInfo.linkCoreSiteId!=null&&t.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",M(18,41,"TITLE.SITE")),o(2),m("optionDisabled",!(t.fieldsInfo.linkCoreUserGroupId!=null&&t.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",M(20,43,"TITLE.Type_Usage")),o(2),m("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",M(22,45,"TITLE.Site_Type")),o(2),m("ngIf",t.fieldsInfo.hasInherits==null?null:t.fieldsInfo.hasInherits.accessWatchField),o(2),y("ngModel",t.dataModel.accessStatus),o(2),m("ngForOf",t.dataModelEnumApiNumberPermissionAccessStatusResult.listItems),o(2),g("",M(30,47,"TITLE.Select_type_of_content")," "),o(2),m("ngIf",s.errors==null?null:s.errors.required),o(2),y("ngModel",t.dataModel.action),o(2),m("ngForOf",t.dataModelEnumApiNumberPermissionActionResult.listItems),o(2),g("",M(38,49,"TITLE.Select_type_of_content")," "),o(2),m("ngIf",f.errors==null?null:f.errors.required),o(3),T(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),y("ngModel",t.dataModel.fromDate),m("matDatepicker",c),o(),m("for",c),o(3),m("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(2),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[we,O,ce,vi,Ii,z,Le,bi,K,se,_e,ie,le,xt,Dt,kt,ue,Rt,J,Ut,fe,qt,It,jt,q,me,_n,F],encapsulation:2});var Ho=Cn;var Ia=["vform"];function ya(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",29),E("modelChange",function(t){p(e);let s=S();return A(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();y("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Aa(n,l){if(n&1){let e=I();r(0,"div",30)(1,"div",31)(2,"h5",32),d(3),a()(),r(4,"div",33)(5,"div",34)(6,"input",35),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.hasInherits,t)||(s.dataModel.hasInherits=t),u(t)}),a(),_(7,"label",36),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle," "),o(3),y("ngModel",e.dataModel.hasInherits)}}function Ea(n,l){if(n&1&&(r(0,"option",37),d(1),a()),n&2){let e=l.$implicit;m("ngValue",e.value),o(),g(" ",e.description," ")}}function Ta(n,l){n&1&&(r(0,"mat-error"),d(1," AccessStatus is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function wa(n,l){if(n&1&&(r(0,"option",37),d(1),a()),n&2){let e=l.$implicit;m("ngValue",e.value),o(),g(" ",e.description," ")}}function Pa(n,l){n&1&&(r(0,"mat-error"),d(1," Action is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Ra(n,l){if(n&1){let e=I();r(0,"div",21)(1,"label",38),d(2),a(),r(3,"input",39),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),u(t)}),a(),_(4,"mat-datepicker-toggle",24)(5,"mat-datepicker",25,4),a()}if(n&2){let e=R(6),i=S();o(2),T(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),y("ngModel",i.dataModel.expireDate),m("matDatepicker",e),o(),m("for",e)}}function xa(n,l){if(n&1){let e=I();r(0,"div",40)(1,"button",41),v("click",function(){p(e);let t=S();return u(t.onFormCancel())}),_(2,"i",42),d(3),h(4,"translate"),a(),r(5,"button",43),_(6,"i",44),d(7),h(8,"translate"),a()()}if(n&2){S();let e=R(10);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var vn=class vn extends ut{constructor(e,i,t,s,f,c,k,H){super(s,new ai,c,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiNumberPermissionService=s;this.cmsToastrService=f;this.publicHelper=c;this.cdr=k;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ze;this.dataModel=new ai;this.formInfo=new re;this.dataModelEnumApiNumberPermissionAccessStatusResult=new G;this.dataModelEnumApiNumberPermissionActionResult=new G;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getEnumApiNumberPermissionAccessStatus(),this.getEnumApiNumberPermissionAction()}getEnumApiNumberPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiNumberPermissionAccessStatusEnum().subscribe(e=>{this.dataModelEnumApiNumberPermissionAccessStatusResult=e})}getEnumApiNumberPermissionAction(){this.smsEnumService.ServiceSmsApiNumberPermissionActionEnum().subscribe(e=>{this.dataModelEnumApiNumberPermissionActionResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberPermissionService.setAccessLoad(),this.smsMainApiNumberPermissionService.setAccessDataType(Fe.Editor),this.smsMainApiNumberPermissionService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberPermissionService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiNumberId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiNumberId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};vn.\u0275fac=function(i){return new(i||vn)(C(oe),C(ne),C(ke),C(gi),C(N),C(B),C(V),C(L))},vn.\u0275cmp=D({type:vn,selectors:[["app-sms-api-number-permission-edit"]],viewQuery:function(i,t){if(i&1&&$(Ia,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:49,vars:50,consts:[["vform","ngForm"],["AccessStatus","ngModel"],["Action","ngModel"],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accessStatus","name","dataModel.accessStatus","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"mt-n3"],[4,"ngIf"],["id","dataModel.action","name","dataModel.action","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[1,"pb-5"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.hasInherits",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.hasInherits","name","dataModel.hasInherits",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasInherits",1,"custom-control-label"],[3,"ngValue"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",5),_(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),d(4),a(),r(5,"p"),d(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",9),r(9,"form",10,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(11,ya,1,5,"app-cms-enum-record-status-selector",11),r(12,"app-sms-api-number-selector",12),h(13,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorSelectLinkApiNumberId(c))}),a(),r(14,"app-cms-user-selector",13),h(15,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCmsUser(c))}),a(),r(16,"app-cms-site-selector",13),h(17,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCmsSite(c))}),a(),r(18,"app-cms-usergroup-selector",13),h(19,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCoreUserGroup(c))}),a(),r(20,"app-cms-sitecategory-selector",13),h(21,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCoreSiteCategory(c))}),a(),b(22,Aa,8,2,"div",14),r(23,"div",15)(24,"select",16,1),E("ngModelChange",function(c){return p(s),A(t.dataModel.accessStatus,c)||(t.dataModel.accessStatus=c),u(c)}),b(26,Ea,2,2,"option",17),a(),r(27,"em",18),d(28),h(29,"translate"),a(),b(30,Ta,5,3,"mat-error",19),a(),r(31,"div",15)(32,"select",20,2),E("ngModelChange",function(c){return p(s),A(t.dataModel.action,c)||(t.dataModel.action=c),u(c)}),b(34,wa,2,2,"option",17),a(),r(35,"em",18),d(36),h(37,"translate"),a(),b(38,Pa,5,3,"mat-error",19),a(),r(39,"div",21)(40,"label",22),d(41),a(),r(42,"input",23),E("ngModelChange",function(c){return p(s),A(t.dataModel.fromDate,c)||(t.dataModel.fromDate=c),u(c)}),a(),_(43,"mat-datepicker-toggle",24)(44,"mat-datepicker",25,3),a(),b(46,Ra,7,4,"div",26),_(47,"hr",27),b(48,xa,9,7,"div",28),a()()()}if(i&2){let s=R(25),f=R(33),c=R(45);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,34,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(3),m("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),m("optionSelectForce",t.dataModel.linkApiNumberId)("optionPlaceholder",M(13,36,"TITLE.No")),o(2),m("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",M(15,38,"TITLE.USER")),o(2),m("optionDisabled",!(t.fieldsInfo.linkCoreSiteId!=null&&t.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",M(17,40,"TITLE.SITE")),o(2),m("optionDisabled",!(t.fieldsInfo.linkCoreUserGroupId!=null&&t.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",M(19,42,"TITLE.Type_Usage")),o(2),m("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",M(21,44,"TITLE.Site_Type")),o(2),m("ngIf",t.fieldsInfo.hasInherits==null?null:t.fieldsInfo.hasInherits.accessWatchField),o(2),y("ngModel",t.dataModel.accessStatus),o(2),m("ngForOf",t.dataModelEnumApiNumberPermissionAccessStatusResult.listItems),o(2),g("",M(29,46,"TITLE.Select_type_of_content")," "),o(2),m("ngIf",s.errors==null?null:s.errors.required),o(2),y("ngModel",t.dataModel.action),o(2),m("ngForOf",t.dataModelEnumApiNumberPermissionActionResult.listItems),o(2),g("",M(37,48,"TITLE.Select_type_of_content")," "),o(2),m("ngIf",f.errors==null?null:f.errors.required),o(3),T(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),y("ngModel",t.dataModel.fromDate),m("matDatepicker",c),o(),m("for",c),o(3),m("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(2),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[we,O,ce,vi,Ii,z,Le,bi,K,se,_e,ie,le,xt,Dt,kt,ue,Rt,J,Ut,fe,qt,It,jt,q,me,_n,F],encapsulation:2});var Wo=vn;var In=class In{constructor(l,e,i,t,s,f,c,k){this.headerService=l;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.dialog=s;this.translate=f;this.cmsStoreService=c;this.tokenHelper=k;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new G;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>ve(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};In.\u0275fac=function(e){return new(e||In)(C(Ft),C(B),C(V),C(N),C(Pe),C(L),C(Re),C(xe))},In.\u0275cmp=D({type:In,selectors:[["app-api-number-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:32,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"td","large-width","cell-ltr"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(r(0,"div",0),_(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),_(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),d(10),h(11,"translate"),a()()(),_(12,"div",8),a(),r(13,"div",4)(14,"div",5)(15,"b"),d(16),a(),d(17,": "),a(),r(18,"div",9),d(19),a(),_(20,"div",10)(21,"div",11),a(),r(22,"div",4)(23,"div",5)(24,"b"),d(25),a(),d(26,": "),a(),r(27,"div",12),d(28),a(),_(29,"div",8)(30,"div",11),a()()()(),_(31,"div",13)),e&2&&(o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(5),m("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),g(" ",M(11,7,"TITLE.Selected_Api_Number")," "),o(6),g("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),T(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),g("",i.fieldsInfo.numberChar==null?null:i.fieldsInfo.numberChar.fieldTitle," "),o(3),g(" ",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.numberChar," "))},dependencies:[q,No,F],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Uo=In;var Va=()=>["expandedDetail"],Na=()=>[5,10,20,100],Ba=n=>({display:n});function Fa(n,l){if(n&1&&_(0,"app-api-number-header",46),n&2){let e=S();m("optionId",e.requestLinkApiNumberId)}}function Ga(n,l){if(n&1){let e=I();r(0,"a",47),v("click",function(){p(e);let t=S();return u(t.onActionBackToParent())}),_(1,"i",48),a()}}function Oa(n,l){if(n&1){let e=I();r(0,"div",49)(1,"a",50),v("click",function(){p(e);let t=S();return u(t.onActionButtonNewRow())}),_(2,"i",51)(3,"br"),a(),r(4,"p",52),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.ADD")," "))}function Ha(n,l){if(n&1){let e=I();r(0,"div",49)(1,"a",53),v("click",function(){p(e);let t=S();return u(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",54)(3,"br"),a(),r(4,"p",52),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.EDIT")," "))}function Wa(n,l){if(n&1){let e=I();r(0,"div",49)(1,"a",55),v("click",function(){p(e);let t=S();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",56)(3,"br"),a(),r(4,"p",52),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DELETE")," "))}function Ua(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function qa(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.id," ")}}function ja(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Qa(n,l){if(n&1&&(r(0,"mat-cell",58),h(1,"statusCellClass"),_(2,"i",58),h(3,"statusIconClass"),a()),n&2){let e=l.$implicit;m("ngClass",M(1,2,e.recordStatus)),o(2),m("ngClass",M(3,4,e.recordStatus))}}function za(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.linkApiNumberId==null?null:e.fieldsInfo.linkApiNumberId.fieldTitle," ")}}function Ka(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.linkApiNumberId," ")}}function Ja(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Xa(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",M(2,1,e.createdDate)," ")}}function Ya(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle," ")}}function Za(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",M(2,1,e.fromDate)," ")}}function $a(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function es(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",M(2,1,e.expireDate)," ")}}function ts(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function is(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",M(2,1,e.updatedDate)," ")}}function ns(n,l){if(n&1&&(r(0,"mat-header-cell",59),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.hasAccess==null?null:e.fieldsInfo.hasAccess.fieldTitle," ")}}function os(n,l){if(n&1&&(r(0,"mat-cell"),_(1,"i",58),h(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),m("ngClass",M(2,1,e.hasAccess))}}function rs(n,l){if(n&1&&(r(0,"mat-header-cell",59),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle," ")}}function as(n,l){if(n&1&&(r(0,"mat-cell"),_(1,"i",58),h(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),m("ngClass",M(2,1,e.hasInherits))}}function ss(n,l){n&1&&(r(0,"mat-header-cell"),d(1),h(2,"translate"),a()),n&2&&(o(),g(" ",M(2,1,"TITLE.OPTION")," "))}function ls(n,l){if(n&1&&(r(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),d(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),m("matMenuTriggerFor",e)}}function cs(n,l){if(n&1&&(r(0,"tr"),_(1,"td"),r(2,"td"),d(3),h(4,"cmsuserinfo"),h(5,"async"),a()()),n&2){let e=S().$implicit,i=S();o(3),be(" ",i.fieldsInfo.linkCoreUserId==null?null:i.fieldsInfo.linkCoreUserId.fieldTitle," : ",M(5,4,M(4,2,e.linkCoreUserId))," ")}}function ms(n,l){if(n&1&&(r(0,"tr"),_(1,"td"),r(2,"td"),d(3),h(4,"cmssiteinfo"),h(5,"async"),a()()),n&2){let e=S().$implicit,i=S();o(3),be(" ",i.fieldsInfo.linkCoreSiteId==null?null:i.fieldsInfo.linkCoreSiteId.fieldTitle," : ",M(5,4,M(4,2,e.linkCoreSiteId))," ")}}function ds(n,l){if(n&1&&(r(0,"tr"),_(1,"td"),r(2,"td"),d(3),a()()),n&2){let e=S().$implicit,i=S();o(3),be(" ",i.fieldsInfo.linkCoreUserGroupId==null?null:i.fieldsInfo.linkCoreUserGroupId.fieldTitle," : ",e.linkCoreUserGroupId," ")}}function ps(n,l){if(n&1&&(r(0,"tr"),_(1,"td"),r(2,"td"),d(3),a()()),n&2){let e=S().$implicit,i=S();o(3),be(" ",i.fieldsInfo.linkCoreSiteCategoryId==null?null:i.fieldsInfo.linkCoreSiteCategoryId.fieldTitle," : ",e.linkCoreSiteCategoryId," ")}}function us(n,l){if(n&1&&(r(0,"tr"),_(1,"td"),r(2,"td"),d(3),h(4,"localeDate"),a()()),n&2){let e=S().$implicit,i=S();o(3),be(" ",i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle," : ",M(4,2,e.fromDate)," ")}}function fs(n,l){if(n&1&&(r(0,"tr"),_(1,"td"),r(2,"td"),d(3),h(4,"localeDate"),a()()),n&2){let e=S().$implicit,i=S();o(3),be(" ",i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle," : ",M(4,2,e.expireDate)," ")}}function Ss(n,l){if(n&1&&(r(0,"tr"),_(1,"td"),r(2,"td"),d(3),h(4,"localeDate"),a()()),n&2){let e=S().$implicit,i=S();o(3),be(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle," : ",M(4,2,e.createdDate)," ")}}function hs(n,l){if(n&1&&(r(0,"tr"),_(1,"td"),r(2,"td"),d(3),h(4,"localeDate"),a()()),n&2){let e=S().$implicit,i=S();o(3),be(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",M(4,2,e.updatedDate)," ")}}function gs(n,l){if(n&1&&(r(0,"mat-cell")(1,"div")(2,"table"),b(3,cs,6,6,"tr",62)(4,ms,6,6,"tr",62)(5,ds,4,2,"tr",62)(6,ps,4,2,"tr",62)(7,us,5,4,"tr",62)(8,fs,5,4,"tr",62)(9,Ss,5,4,"tr",62)(10,hs,5,4,"tr",62),r(11,"tr"),_(12,"td")(13,"td"),a()()()()),n&2){let e=l.$implicit;o(3),m("ngIf",e.linkCoreUserId),o(),m("ngIf",e.linkCoreSiteId),o(),m("ngIf",e.linkCoreUserGroupId),o(),m("ngIf",e.linkCoreSiteCategoryId),o(),m("ngIf",e.fromDate),o(),m("ngIf",e.expireDate),o(),m("ngIf",e.createdDate),o(),m("ngIf",e.updatedDate)}}function Ms(n,l){n&1&&_(0,"mat-header-row")}function _s(n,l){if(n&1){let e=I();r(0,"mat-row",63),v("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Cs(n,l){if(n&1){let e=I();r(0,"mat-row",64),v("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=p(e).$implicit,s=S();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,s=S();return u(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),m("ngStyle",ui(3,Ba,e.expanded===!0?"":"none"))}}var yn=class yn extends ft{constructor(e,i,t,s,f,c,k,H,Nt,Yt,Et,oi){super(e,new ai,Et,c,Nt);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=s;this.router=f;this.tokenHelper=c;this.cmsStoreService=k;this.cdr=H;this.translate=Nt;this.pageInfo=Yt;this.publicHelper=Et;this.dialog=oi;this.requestLinkApiNumberId="";this.requestLinkCoreUserId=0;this.requestLinkCoreSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","linkApiNumberId","hasAccess","hasInherits","fromDate","expireDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","linkApiNumberId","hasAccess","hasInherits","fromDate","expireDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ae=>this.onSubmitOptionsSearch(ae)},this.requestLinkCoreUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkCoreSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkApiNumberId=this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId"),this.requestLinkCoreUserId>0){let ae=new Q;ae.propertyName="LinkCoreUserId",ae.value=this.requestLinkCoreUserId,this.filteModelContent.filters.push(ae)}if(this.requestLinkApiNumberId?.length>0){let ae=new Q;ae.propertyName="LinkApiPathId",ae.value=this.requestLinkApiNumberId,this.filteModelContent.filters.push(ae)}this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=j.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ve(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ai);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ho,{height:"90%",panelClass:e,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{linkApiNumberId:this.requestLinkApiNumberId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Wo,{height:"90%",panelClass:i,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Q;f.propertyName="recordStatus",f.value=Be.Available,s.filters.push(f),this.contentService.ServiceGetCount(s).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};yn.\u0275fac=function(i){return new(i||yn)(C(gi),C(N),C(wt),C(We),C(Qe),C(xe),C(Re),C(V),C(L),C(mt),C(B),C(Pe))},yn.\u0275cmp=D({type:yn,selectors:[["app-sms-api-number-permission-list"]],standalone:!1,features:[W],decls:69,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"checked"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkApiNumberId"],["matColumnDef","createdDate"],["matColumnDef","fromDate"],["matColumnDef","expireDate"],["matColumnDef","updatedDate"],["matColumnDef","hasAccess"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","hasInherits"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["mat-sort-header","",1,"form-label"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[4,"ngIf"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=I();b(0,Fa,1,1,"app-api-number-header",3),r(1,"app-cms-html-list",4),E("optionActionGuideNoticeDisplayChange",function(c){return p(s),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),u(c)}),v("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),Ve(2,5)(3,6)(4,7),w(5,8),b(6,Ga,2,0,"a",9),r(7,"a",10),v("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",11),a(),r(9,"a",10),v("click",function(){return p(s),u(t.onActionButtonReload())}),_(10,"i",12),a(),P(),w(11,13),r(12,"a",14),_(13,"mat-slide-toggle",15),d(14),h(15,"translate"),a(),r(16,"a",16),v("click",function(){return p(s),u(t.onActionButtonStatist())}),_(17,"mat-slide-toggle",15),d(18),h(19,"translate"),a(),P(),w(20,17),b(21,Oa,7,3,"div",18),P(),w(22,19),b(23,Ha,7,3,"div",18)(24,Wa,7,3,"div",18),P(),w(25,20),r(26,"app-cms-search-list",21),E("optionsChange",function(c){return p(s),A(t.optionsSearch,c)||(t.optionsSearch=c),u(c)}),a(),r(27,"app-cms-statist-list",21),E("optionsChange",function(c){return p(s),A(t.optionsStatist,c)||(t.optionsStatist=c),u(c)}),a(),P(),w(28,22),r(29,"mat-table",23,0),v("matSortChange",function(){p(s);let c=R(30);return u(t.onTableSortData(c))}),w(31,24),b(32,Ua,2,1,"mat-header-cell",25)(33,qa,2,1,"mat-cell",26),P(),w(34,27),b(35,ja,2,1,"mat-header-cell",25)(36,Qa,4,6,"mat-cell",28),P(),w(37,29),b(38,za,2,1,"mat-header-cell",25)(39,Ka,2,1,"mat-cell",26),P(),w(40,30),b(41,Ja,2,1,"mat-header-cell",25)(42,Xa,3,3,"mat-cell",26),P(),w(43,31),b(44,Ya,2,1,"mat-header-cell",25)(45,Za,3,3,"mat-cell",26),P(),w(46,32),b(47,$a,2,1,"mat-header-cell",25)(48,es,3,3,"mat-cell",26),P(),w(49,33),b(50,ts,2,1,"mat-header-cell",25)(51,is,3,3,"mat-cell",26),P(),w(52,34),b(53,ns,2,1,"mat-header-cell",35)(54,os,3,3,"mat-cell",26),P(),w(55,36),b(56,rs,2,1,"mat-header-cell",35)(57,as,3,3,"mat-cell",26),P(),w(58,37),b(59,ss,3,3,"mat-header-cell",38)(60,ls,6,1,"mat-cell",39),P(),w(61,40),b(62,gs,14,8,"mat-cell",26),P(),b(63,Ms,1,0,"mat-header-row",41)(64,_s,1,2,"mat-row",42)(65,Cs,1,5,"mat-row",43),a(),P(),w(66,44),r(67,"mat-paginator",45,1),v("page",function(c){return p(s),u(t.onTablePageingData(c))}),a(),P(),a()}i&2&&(m("ngIf",(t.requestLinkApiNumberId==null?null:t.requestLinkApiNumberId.length)>0),o(),m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(5),m("ngIf",(t.requestLinkApiNumberId==null?null:t.requestLinkApiNumberId.length)>0),o(4),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),m("checked",t.optionsSearch.data.show),o(),g("",M(15,28,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),g("",M(19,30,"ACTION.STATIST")," "),o(3),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),m("dataSource",t.tableSource),o(34),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(),m("matRowDefColumns",Ne(32,Va)),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ne(33,Na)))},dependencies:[je,O,fi,Ge,Te,Ke,Je,Xe,Ye,Ze,$e,et,it,at,nt,tt,st,ot,rt,lt,ct,St,ht,gt,Mt,Uo,Tt,F,gn,Ri,Lt,_t,yt,Bo],encapsulation:2});var Xi=yn;var bs=["vform"];function vs(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",11),E("modelChange",function(t){p(e);let s=S();return A(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();y("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Is(n,l){if(n&1){let e=I();r(0,"div",12)(1,"label",13),d(2),a(),r(3,"input",14,1),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.numberChar,t)||(s.dataModel.numberChar=t),u(t)}),a(),r(5,"em"),d(6),a()()}if(n&2){let e=R(4),i=S();o(2),T(i.fieldsInfo.numberChar==null?null:i.fieldsInfo.numberChar.fieldTitle),o(),m("disabled",x(!(i.fieldsInfo.numberChar!=null&&i.fieldsInfo.numberChar.accessAddField))),y("ngModel",i.dataModel.numberChar),o(3),g("",e.value.length," / 100")}}function ys(n,l){if(n&1){let e=I();r(0,"div",15)(1,"button",16),v("click",function(){p(e);let t=S();return u(t.onFormCancel())}),_(2,"i",17),d(3),h(4,"translate"),a(),r(5,"button",18),_(6,"i",19),d(7),h(8,"translate"),a()()}if(n&2){S();let e=R(10);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var En=class En extends pt{constructor(e,i,t,s,f,c,k,H){super(s,new Pt,c,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiNumberService=s;this.cmsToastrService=f;this.publicHelper=c;this.cdr=k;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new Pt;this.formInfo=new re;this.dataModelEnumApiNumberAccessStatusResult=new G;this.dataModelEnumApiNumberActionResult=new G;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0,model:i.item})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};En.\u0275fac=function(i){return new(i||En)(C(oe),C(ne),C(ke),C(Ft),C(N),C(B),C(V),C(L))},En.\u0275cmp=D({type:En,selectors:[["app-sms-api-number-add"]],viewQuery:function(i,t){if(i&1&&$(bs,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:14,vars:9,consts:[["vform","ngForm"],["NumberChar",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.numberChar",1,"color-highlight"],["matInput","","type","text","name","dataModel.numberChar","placeholder","123","id","dataModel.numberChar",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",2),_(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),d(4),a(),r(5,"p"),d(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",6),r(9,"form",7,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(11,vs,1,5,"app-cms-enum-record-status-selector",8)(12,Is,7,5,"div",9)(13,ys,9,7,"div",10),a()()()}i&2&&(o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(3),m("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),m("ngIf",t.fieldsInfo.numberChar==null?null:t.fieldsInfo.numberChar.accessWatchField),o(),m("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[O,ce,z,K,se,ie,le,J,fe,q,me,F],encapsulation:2});var qo=En;function Es(n,l){if(n&1){let e=I();r(0,"li")(1,"mat-checkbox",1),v("change",function(){let t=p(e).$implicit,s=S();return u(s.onActionSelect(t))}),d(2),a()()}if(n&2){let e=l.$implicit,i=S();o(),m("checked",i.fieldsStatus.get(e.id))("disabled",i.optionDisabled),o(),g(" ",e.title," ")}}var Tn=class Tn{constructor(l,e,i,t,s,f){this.coreEnumService=l;this.categoryService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.cmsToastrService=f;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new ei;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new qe;this.optionSelectAdded=new qe;this.optionSelectRemoved=new qe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.DataGetAll()}DataGetAll(){let l=new Y;l.rowPerPage=50,l.accessLoad=!0;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(l).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataModelResult.listItems.forEach(t=>this.fieldsStatus.set(t.id,!1)),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0)),this.dataModelResult.listItems.forEach(t=>{this.fieldsStatus.get(t.id)&&this.dataModelSelect.push(t)})):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelect(l){this.fieldsStatus.get(l.id)?(this.fieldsStatus.set(l.id,!1),this.optionSelectRemoved.emit(l),this.dataModelSelect.splice(this.dataModelSelect.indexOf(l),1)):(this.fieldsStatus.set(l.id,!0),this.optionSelectAdded.emit(l),this.dataModelSelect.push(l)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(l){typeof l==typeof Array(String)?l.forEach(e=>{this.dataIdsSelect.push(e)}):typeof l==typeof Array(Xt)&&l.forEach(e=>{this.dataIdsSelect.push(e.id)}),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){this.DataGetAll()}};Tn.\u0275fac=function(e){return new(e||Tn)(C(Ie),C(Gt),C(V),C(B),C(L),C(N))},Tn.\u0275cmp=D({type:Tn,selectors:[["app-sms-apipath-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(e,i){e&1&&(r(0,"ul"),b(1,Es,3,3,"li",0),a()),e&2&&(o(),m("ngForOf",i.dataModelResult.listItems))},dependencies:[we,Po],encapsulation:2});var jo=Tn;var ws=["vform"];function Ps(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",39),E("modelChange",function(t){p(e);let s=S();return A(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();y("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Rs(n,l){if(n&1){let e=I();r(0,"div",27)(1,"label",40),d(2),a(),r(3,"input",41,6),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.numberChar,t)||(s.dataModel.numberChar=t),u(t)}),a(),r(5,"em"),d(6),a()()}if(n&2){let e=R(4),i=S();o(2),T(i.fieldsInfo.numberChar==null?null:i.fieldsInfo.numberChar.fieldTitle),o(),m("disabled",x(!(i.fieldsInfo.numberChar!=null&&i.fieldsInfo.numberChar.accessEditField))),y("ngModel",i.dataModel.numberChar),o(3),g("",e.value.length," / 100")}}function xs(n,l){if(n&1){let e=I();r(0,"div",42)(1,"div",43)(2,"h5",44),d(3),a()(),r(4,"div",45)(5,"div",46)(6,"input",47),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.isPublic,t)||(s.dataModel.isPublic=t),u(t)}),a(),_(7,"label",48),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.isPublic==null?null:e.fieldsInfo.isPublic.fieldTitle," "),o(3),y("ngModel",e.dataModel.isPublic)}}function Ds(n,l){if(n&1){let e=I();r(0,"div",42)(1,"div",43)(2,"h5",49),d(3),a()(),r(4,"div",45)(5,"div",46)(6,"input",50),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.saleStatus,t)||(s.dataModel.saleStatus=t),u(t)}),a(),_(7,"label",51),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.saleStatus==null?null:e.fieldsInfo.saleStatus.fieldTitle," "),o(3),y("ngModel",e.dataModel.saleStatus)}}function ks(n,l){if(n&1){let e=I();r(0,"div",27)(1,"label",52),d(2),a(),r(3,"input",53,7),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.priority,t)||(s.dataModel.priority=t),u(t)}),a(),r(5,"em"),d(6),a()()}if(n&2){let e=R(4),i=S();o(2),T(i.fieldsInfo.priority==null?null:i.fieldsInfo.priority.fieldTitle),o(),m("disabled",x(!(i.fieldsInfo.priority!=null&&i.fieldsInfo.priority.accessEditField))),y("ngModel",i.dataModel.priority),o(3),g("",e.value.length," / 100")}}function Ls(n,l){if(n&1){let e=I();r(0,"div",42)(1,"div",43)(2,"h5",54),d(3),a()(),r(4,"div",45)(5,"div",46)(6,"input",55),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.deliveryRelayStatus,t)||(s.dataModel.deliveryRelayStatus=t),u(t)}),a(),_(7,"label",56),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.deliveryRelayStatus==null?null:e.fieldsInfo.deliveryRelayStatus.fieldTitle," "),o(3),y("ngModel",e.dataModel.deliveryRelayStatus)}}function Vs(n,l){if(n&1){let e=I();r(0,"div",27)(1,"label",57),d(2),a(),r(3,"input",58,8),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.deliveryRelayUrl,t)||(s.dataModel.deliveryRelayUrl=t),u(t)}),a()()}if(n&2){let e=S();o(2),T(e.fieldsInfo.deliveryRelayUrl==null?null:e.fieldsInfo.deliveryRelayUrl.fieldTitle),o(),y("ngModel",e.dataModel.deliveryRelayUrl),m("readonly",!e.dataModel.deliveryRelayStatus)("disabled",!(e.fieldsInfo.deliveryRelayUrl!=null&&e.fieldsInfo.deliveryRelayUrl.accessEditField))}}function Ns(n,l){if(n&1){let e=I();r(0,"div",42)(1,"div",43)(2,"h5",59),d(3),a()(),r(4,"div",45)(5,"div",46)(6,"input",60),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.smsRelayStatus,t)||(s.dataModel.smsRelayStatus=t),u(t)}),a(),_(7,"label",61),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.smsRelayStatus==null?null:e.fieldsInfo.smsRelayStatus.fieldTitle," "),o(3),y("ngModel",e.dataModel.smsRelayStatus)}}function Bs(n,l){if(n&1){let e=I();r(0,"div",27)(1,"label",62),d(2),a(),r(3,"input",63,9),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.smsRelayUrl,t)||(s.dataModel.smsRelayUrl=t),u(t)}),a()()}if(n&2){let e=S();o(2),T(e.fieldsInfo.smsRelayUrl==null?null:e.fieldsInfo.smsRelayUrl.fieldTitle),o(),y("ngModel",e.dataModel.smsRelayUrl),m("readonly",!e.dataModel.smsRelayStatus)("disabled",!(e.fieldsInfo.smsRelayUrl!=null&&e.fieldsInfo.smsRelayUrl.accessEditField))}}function Fs(n,l){if(n&1){let e=I();r(0,"div",21)(1,"label",64),d(2),a(),r(3,"input",65),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),u(t)}),a(),_(4,"mat-datepicker-toggle",24)(5,"mat-datepicker",25,10),a()}if(n&2){let e=R(6),i=S();o(2),T(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),y("ngModel",i.dataModel.expireDate),m("matDatepicker",e),o(),m("for",e)}}function Gs(n,l){n&1&&(r(0,"mat-error"),d(1," apiSendMessageAddTextFirst is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Os(n,l){n&1&&(r(0,"mat-error"),d(1," apiSendMessageAddTextEnd is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Hs(n,l){n&1&&(r(0,"mat-error"),d(1," sendMessageAddTextFirst is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Ws(n,l){n&1&&(r(0,"mat-error"),d(1," sendMessageAddTextEnd is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Us(n,l){if(n&1){let e=I();r(0,"div",27)(1,"label",66),d(2),a(),r(3,"input",67,11),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.actionMemo,t)||(s.dataModel.actionMemo=t),u(t)}),a()()}if(n&2){let e=S();o(2),T(e.fieldsInfo.actionMemo==null?null:e.fieldsInfo.actionMemo.fieldTitle),o(),y("ngModel",e.dataModel.actionMemo),m("disabled",!(e.fieldsInfo.actionMemo!=null&&e.fieldsInfo.actionMemo.accessEditField))}}function qs(n,l){if(n&1){let e=I();r(0,"div",68)(1,"button",69),v("click",function(){p(e);let t=S();return u(t.onFormCancel())}),_(2,"i",70),d(3),h(4,"translate"),a(),r(5,"button",71),_(6,"i",72),d(7),h(8,"translate"),a()()}if(n&2){S();let e=R(10);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var wn=class wn extends ut{constructor(e,i,t,s,f,c,k,H,Nt){super(s,new Pt,k,Nt);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiNumberService=s;this.smsMainApiPathAndApiNumberService=f;this.cmsToastrService=c;this.publicHelper=k;this.cdr=H;this.translate=Nt;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ze;this.dataModel=new Pt;this.formInfo=new re;this.dataModelEnumApiNumberAccessStatusResult=new G;this.dataModelEnumApiNumberActionResult=new G;this.fileManagerOpenForm=!1;this.dataCoreCpMainMenuIds=[];this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberService.setAccessLoad(),this.smsMainApiNumberService.setAccessDataType(Fe.Editor),this.smsMainApiNumberService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.DataGetAllMenuCoreUserGroup(),this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllMenuCoreUserGroup(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Getting_access_category_from_the_server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new Y,t=new Q;t.propertyName="LinkApiNumberId",t.value=this.requestId,i.filters.push(t),this.smsMainApiPathAndApiNumberService.ServiceGetAll(i).subscribe({next:s=>{this.dataCoreCpMainMenuCmsUserGroupModel=s.listItems;let f=[];this.dataCoreCpMainMenuCmsUserGroupModel.forEach(c=>{f.push(c.linkApiPathId)}),this.dataCoreCpMainMenuIds=f,s.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.submitResultMessage=c}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorUserCategorySelect(e){this.dataCoreCpMainMenuModel=e}onActionSelectorUserCategorySelectAdded(e){let i=new gr;i.linkApiPathId=e.id,i.linkApiNumberId=this.dataModel.id,this.smsMainApiPathAndApiNumberService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorUserCategorySelectRemoved(e){let i=new gr;i.linkApiPathId=e.id,i.linkApiNumberId=this.dataModel.id,this.smsMainApiPathAndApiNumberService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}};wn.\u0275fac=function(i){return new(i||wn)(C(oe),C(ne),C(ke),C(Ft),C(vo),C(N),C(B),C(V),C(L))},wn.\u0275cmp=D({type:wn,selectors:[["app-sms-api-number-edit"]],viewQuery:function(i,t){if(i&1&&$(ws,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:63,vars:48,consts:[["vform","ngForm"],["accessUseStartDate",""],["apiSendMessageAddTextFirst",""],["apiSendMessageAddTextEnd",""],["sendMessageAddTextFirst",""],["sendMessageAddTextEnd",""],["NumberChar",""],["Priority",""],["DeliveryRelayUrl",""],["SmsRelayUrl",""],["ExpireDate",""],["ActionMemo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.accessUseStartDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.accessUseStartDate","id","dataModel.accessUseStartDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.apiSendMessageAddTextFirst",1,"color-highlight"],["matInput","","name","dataModel.apiSendMessageAddTextFirst","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.apiSendMessageAddTextFirst",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.apiSendMessageAddTextEnd",1,"color-highlight"],["matInput","","name","dataModel.apiSendMessageAddTextEnd","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.apiSendMessageAddTextEnd",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.sendMessageAddTextFirst",1,"color-highlight"],["matInput","","name","dataModel.sendMessageAddTextFirst","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.sendMessageAddTextFirst",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.sendMessageAddTextEnd",1,"color-highlight"],["matInput","","name","dataModel.sendMessageAddTextEnd","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.sendMessageAddTextEnd",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.numberChar",1,"color-highlight"],["matInput","","type","text","name","dataModel.numberChar","placeholder","123","id","dataModel.numberChar",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isPublic",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isPublic","name","dataModel.isPublic",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublic",1,"custom-control-label"],["data-trigger-switch","dataModel.saleStatus",1,"font-600","font-14"],["type","checkbox","id","dataModel.saleStatus","name","dataModel.saleStatus",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.saleStatus",1,"custom-control-label"],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","placeholder","1","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","dataModel.deliveryRelayStatus",1,"font-600","font-14"],["type","checkbox","id","dataModel.deliveryRelayStatus","name","dataModel.deliveryRelayStatus",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.deliveryRelayStatus",1,"custom-control-label"],["for","dataModel.deliveryRelayUrl",1,"color-highlight"],["matInput","","type","text","name","dataModel.deliveryRelayUrl","placeholder","1","id","dataModel.deliveryRelayUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel","readonly","disabled"],["data-trigger-switch","dataModel.smsRelayStatus",1,"font-600","font-14"],["type","checkbox","id","dataModel.smsRelayStatus","name","dataModel.smsRelayStatus",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.smsRelayStatus",1,"custom-control-label"],["for","dataModel.smsRelayUrl",1,"color-highlight"],["matInput","","type","text","name","dataModel.smsRelayUrl","placeholder","1","id","dataModel.smsRelayUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel","readonly","disabled"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["for","dataModel.actionMemo",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionMemo","placeholder","1","id","dataModel.actionMemo",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",12),_(1,"app-progress-spinner",13),r(2,"div",14)(3,"p",15),d(4),a(),r(5,"p"),d(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",16),r(9,"form",17,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(11,Ps,1,5,"app-cms-enum-record-status-selector",18)(12,Rs,7,5,"div",19)(13,xs,8,2,"div",20)(14,Ds,8,2,"div",20)(15,ks,7,5,"div",19)(16,Ls,8,2,"div",20)(17,Vs,5,4,"div",19)(18,Ns,8,2,"div",20)(19,Bs,5,4,"div",19),r(20,"div",21)(21,"label",22),d(22),a(),r(23,"input",23),E("ngModelChange",function(c){return p(s),A(t.dataModel.accessUseStartDate,c)||(t.dataModel.accessUseStartDate=c),u(c)}),a(),_(24,"mat-datepicker-toggle",24)(25,"mat-datepicker",25,1),a(),b(27,Fs,7,4,"div",26),r(28,"div",27)(29,"label",28),d(30),a(),r(31,"textarea",29,2),E("ngModelChange",function(c){return p(s),A(t.dataModel.apiSendMessageAddTextFirst,c)||(t.dataModel.apiSendMessageAddTextFirst=c),u(c)}),a(),r(33,"em"),d(34),a(),b(35,Gs,5,3,"mat-error",30),a(),r(36,"div",27)(37,"label",31),d(38),a(),r(39,"textarea",32,3),E("ngModelChange",function(c){return p(s),A(t.dataModel.apiSendMessageAddTextEnd,c)||(t.dataModel.apiSendMessageAddTextEnd=c),u(c)}),a(),r(41,"em"),d(42),a(),b(43,Os,5,3,"mat-error",30),a(),r(44,"div",27)(45,"label",33),d(46),a(),r(47,"textarea",34,4),E("ngModelChange",function(c){return p(s),A(t.dataModel.sendMessageAddTextFirst,c)||(t.dataModel.sendMessageAddTextFirst=c),u(c)}),a(),r(49,"em"),d(50),a(),b(51,Hs,5,3,"mat-error",30),a(),r(52,"div",27)(53,"label",35),d(54),a(),r(55,"textarea",36,5),E("ngModelChange",function(c){return p(s),A(t.dataModel.sendMessageAddTextEnd,c)||(t.dataModel.sendMessageAddTextEnd=c),u(c)}),a(),r(57,"em"),d(58),a(),b(59,Ws,5,3,"mat-error",30),a(),b(60,Us,5,3,"div",19),r(61,"app-sms-apipath-selectionlist",37),v("optionChange",function(c){return p(s),u(t.onActionSelectorUserCategorySelect(c))})("optionSelectAdded",function(c){return p(s),u(t.onActionSelectorUserCategorySelectAdded(c))})("optionSelectRemoved",function(c){return p(s),u(t.onActionSelectorUserCategorySelectRemoved(c))}),a(),b(62,qs,9,7,"div",38),a()()()}if(i&2){let s=R(26),f=R(32),c=R(40),k=R(48),H=R(56);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,46,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(3),m("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),m("ngIf",t.fieldsInfo.numberChar==null?null:t.fieldsInfo.numberChar.accessWatchField),o(),m("ngIf",t.fieldsInfo.isPublic==null?null:t.fieldsInfo.isPublic.accessWatchField),o(),m("ngIf",t.fieldsInfo.saleStatus==null?null:t.fieldsInfo.saleStatus.accessWatchField),o(),m("ngIf",t.fieldsInfo.priority==null?null:t.fieldsInfo.priority.accessWatchField),o(),m("ngIf",t.fieldsInfo.deliveryRelayStatus==null?null:t.fieldsInfo.deliveryRelayStatus.accessWatchField),o(),m("ngIf",t.fieldsInfo.deliveryRelayUrl==null?null:t.fieldsInfo.deliveryRelayUrl.accessWatchField),o(),m("ngIf",t.fieldsInfo.smsRelayStatus==null?null:t.fieldsInfo.smsRelayStatus.accessWatchField),o(),m("ngIf",t.fieldsInfo.smsRelayUrl==null?null:t.fieldsInfo.smsRelayUrl.accessWatchField),o(3),T(t.fieldsInfo.accessUseStartDate==null?null:t.fieldsInfo.accessUseStartDate.fieldTitle),o(),m("matDatepicker",s),y("ngModel",t.dataModel.accessUseStartDate),o(),m("for",s),o(3),m("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(3),T(t.fieldsInfo.apiSendMessageAddTextFirst==null?null:t.fieldsInfo.apiSendMessageAddTextFirst.fieldTitle),o(),m("placeholder",x(t.fieldsInfo.apiSendMessageAddTextFirst==null?null:t.fieldsInfo.apiSendMessageAddTextFirst.fieldTitle)),y("ngModel",t.dataModel.apiSendMessageAddTextFirst),o(3),g("",f.value.length," / 500"),o(),m("ngIf",f.errors==null?null:f.errors.required),o(3),T(t.fieldsInfo.apiSendMessageAddTextEnd==null?null:t.fieldsInfo.apiSendMessageAddTextEnd.fieldTitle),o(),m("placeholder",x(t.fieldsInfo.apiSendMessageAddTextEnd==null?null:t.fieldsInfo.apiSendMessageAddTextEnd.fieldTitle)),y("ngModel",t.dataModel.apiSendMessageAddTextEnd),o(3),g("",c.value.length," / 500"),o(),m("ngIf",c.errors==null?null:c.errors.required),o(3),T(t.fieldsInfo.sendMessageAddTextFirst==null?null:t.fieldsInfo.sendMessageAddTextFirst.fieldTitle),o(),m("placeholder",x(t.fieldsInfo.sendMessageAddTextFirst==null?null:t.fieldsInfo.sendMessageAddTextFirst.fieldTitle)),y("ngModel",t.dataModel.sendMessageAddTextFirst),o(3),g("",k.value.length," / 500"),o(),m("ngIf",k.errors==null?null:k.errors.required),o(3),T(t.fieldsInfo.sendMessageAddTextEnd==null?null:t.fieldsInfo.sendMessageAddTextEnd.fieldTitle),o(),m("placeholder",x(t.fieldsInfo.sendMessageAddTextEnd==null?null:t.fieldsInfo.sendMessageAddTextEnd.fieldTitle)),y("ngModel",t.dataModel.sendMessageAddTextEnd),o(3),g("",H.value.length," / 500"),o(),m("ngIf",H.errors==null?null:H.errors.required),o(),m("ngIf",t.fieldsInfo.actionMemo==null?null:t.fieldsInfo.actionMemo.accessWatchField),o(),m("optionSelectForce",t.dataCoreCpMainMenuIds)("optionDisabled",!1),o(),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,ce,z,ti,Le,K,se,Ae,Ee,ie,le,xt,Dt,kt,ue,Rt,J,fe,q,me,ii,jo,F],encapsulation:2});var Qo=wn;var pi=class pi{constructor(l){this.persianCalendarService=l}transform(l){if(typeof l=="string"){if(!l||l.length===0)return"";let e=new Date(l),i=new Date;if(!e||e.getFullYear()<i.getFullYear()-1e3)return"";let t=new Date;return t.setFullYear(t.getFullYear()-100),e<t?"":e.getHours()+":"+e.getMinutes()}if(typeof l==typeof Date){if(!l)return"";let e=new Date;return e.setFullYear(e.getFullYear()-100),l<e?"":l.getHours()+":"+l.getMinutes()}return""}};pi.\u0275fac=function(e){return new(e||pi)(C(Wr,16))},pi.\u0275pipe=yr({name:"localeTime",type:pi,pure:!0,standalone:!1}),pi.\u0275prov=vr({token:pi,factory:pi.\u0275fac});var Ko=pi;var zs=()=>[5,10,20,100];function Ks(n,l){if(n&1){let e=I();r(0,"a",51),v("click",function(){p(e);let t=S();return u(t.onActionBackToParent())}),_(1,"i",52),a()}}function Js(n,l){if(n&1){let e=I();r(0,"div",19)(1,"a",53),v("click",function(){p(e);let t=S();return u(t.onActionButtonNewRow())}),_(2,"i",54),a(),r(3,"p",22),d(4),h(5,"translate"),a()()}n&2&&(o(4),g(" ",M(5,1,"ACTION.ADD")," "))}function Xs(n,l){if(n&1){let e=I();r(0,"div",19)(1,"a",55),v("click",function(){p(e);let t=S();return u(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",56)(3,"br"),a(),r(4,"p",22),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.EDIT")," "))}function Ys(n,l){if(n&1){let e=I();r(0,"div",19)(1,"a",57),v("click",function(){p(e);let t=S();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",58)(3,"br"),a(),r(4,"p",22),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DELETE")," "))}function Zs(n,l){if(n&1&&(r(0,"mat-header-cell",59),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function $s(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.id," ")}}function el(n,l){if(n&1&&(r(0,"mat-header-cell",59),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function tl(n,l){if(n&1&&(r(0,"mat-cell",60),h(1,"statusCellClass"),_(2,"i",60),h(3,"statusIconClass"),a()),n&2){let e=l.$implicit;m("ngClass",M(1,2,e.recordStatus)),o(2),m("ngClass",M(3,4,e.recordStatus))}}function il(n,l){if(n&1&&(r(0,"mat-header-cell",59),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.numberChar==null?null:e.fieldsInfo.numberChar.fieldTitle," ")}}function nl(n,l){if(n&1&&(r(0,"mat-cell",61),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.numberChar," ")}}function ol(n,l){if(n&1&&(r(0,"mat-header-cell",59),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.isPublic==null?null:e.fieldsInfo.isPublic.fieldTitle," ")}}function rl(n,l){if(n&1&&(r(0,"mat-cell"),_(1,"i",60),h(2,"statusIconClass"),a()),n&2){let e=l.$implicit;o(),m("ngClass",M(2,1,e.isPublic))}}function al(n,l){if(n&1&&(r(0,"mat-header-cell",59),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.saleStatus==null?null:e.fieldsInfo.saleStatus.fieldTitle," ")}}function sl(n,l){if(n&1&&(r(0,"mat-cell"),_(1,"i",60),h(2,"statusIconClass"),a()),n&2){let e=l.$implicit;o(),m("ngClass",M(2,1,e.saleStatus))}}function ll(n,l){if(n&1&&(r(0,"mat-header-cell",59),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.accessUseStartDate==null?null:e.fieldsInfo.accessUseStartDate.fieldTitle," ")}}function cl(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",M(2,1,e.accessUseStartDate)," ")}}function ml(n,l){if(n&1&&(r(0,"mat-header-cell",59),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function dl(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",M(2,1,e.expireDate)," ")}}function pl(n,l){if(n&1&&(r(0,"mat-header-cell",59),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.lastUseOfDate==null?null:e.fieldsInfo.lastUseOfDate.fieldTitle," ")}}function ul(n,l){if(n&1&&(r(0,"mat-cell",62),d(1),h(2,"localeDate"),h(3,"localeTime"),a()),n&2){let e=l.$implicit;o(),be(" ",M(2,2,e.lastUseOfDate)," ",M(3,4,e.lastUseOfDate)," ")}}function fl(n,l){if(n&1&&(r(0,"mat-header-cell",59),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Sl(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",M(2,1,e.createdDate)," ")}}function hl(n,l){if(n&1&&(r(0,"mat-header-cell",59),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function gl(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",M(2,1,e.updatedDate)," ")}}function Ml(n,l){n&1&&(r(0,"mat-header-cell"),d(1),h(2,"translate"),a()),n&2&&(o(),g(" ",M(2,1,"TITLE.OPTION")," "))}function _l(n,l){if(n&1&&(r(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),d(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),m("matMenuTriggerFor",e)}}function Cl(n,l){n&1&&(r(0,"mat-header-cell",59),d(1,". "),a())}function bl(n,l){n&1&&(r(0,"mat-cell")(1,"mat-icon",65),d(2,"reorder"),a()())}function vl(n,l){n&1&&_(0,"mat-header-row")}function Il(n,l){n&1&&_(0,"div",68)}function yl(n,l){if(n&1){let e=I();r(0,"mat-row",66),v("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))}),b(1,Il,1,0,"div",67),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),m("cdkDragData",e)}}var Pn=class Pn extends ft{constructor(e,i,t,s,f,c,k,H,Nt,Yt,Et,oi){super(e,new Pt,Et,c,Nt);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=s;this.router=f;this.tokenHelper=c;this.cdr=k;this.cmsStoreService=H;this.translate=Nt;this.pageInfo=Yt;this.publicHelper=Et;this.dialog=oi;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","NumberChar","accessUseStartDate","expireDate","lastUseOfDate","isPublic","SaleStatus","createdDate","updatedDate","position"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","NumberChar","accessUseStartDate","isPublic","lastUseOfDate","SaleStatus","createdDate","updatedDate","position"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ae=>this.onSubmitOptionsSearch(ae)},this.filteModelContent.sortColumn="priority",this.filteModelContent.sortType=j.Ascending}ngOnInit(){if(this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")),this.requestLinkApiPathId?.length>0){let e=new Q;e.propertyName="ApiPathAndApiNumbers",e.propertyAnyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ve(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Pt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id?.length>0){let t=new Q;t.propertyName="ApiPathAndApiNumbers",t.propertyAnyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(s=>s===e.item.data),t=new bo;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=dn.GoUp:t.actionGo=dn.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:s=>{s.isSuccess?(Io(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(s.errorMessage)},error:s=>{this.cmsToastrService.typeError(s)}})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.filteModelContent.sortColumn="priority",this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.requestLinkApiPathId;this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(qo,{height:"90%",width:"60%",panelClass:i,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:e}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&(this.onActionButtonEditRow(s.model),this.DataGetAll())})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Qo,{height:"90%",panelClass:i,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Q;f.propertyName="recordStatus",f.value=Be.Available,s.filters.push(f),this.contentService.ServiceGetCount(s).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPermissionList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-number-permission/LinkApiNumberId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-number-permission/LinkApiNumberId/",this.tableRowSelected.id])}onActionButtonInboxList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/log/inbox/list/ReceiverNumber/"+this.tableRowSelected.numberChar;window.open(t,"_blank")}else this.router.navigate(["/sms/log/inbox/list/ReceiverNumber",this.tableRowSelected.numberChar])}onActionButtonOutboxList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/log/outbox/list/SenderNumber/"+this.tableRowSelected.numberChar;window.open(t,"_blank")}else this.router.navigate(["/sms/log/outbox/list/SenderNumber",this.tableRowSelected.numberChar])}onActionButtonSendMessage(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/action/send-message/LinkApiNumberId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/action/send-message/LinkApiNumberId",this.tableRowSelected.id])}onActionButtonReload(){this.filteModelContent.sortColumn="priority",this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};Pn.\u0275fac=function(i){return new(i||Pn)(C(Ft),C(N),C(wt),C(We),C(Qe),C(xe),C(V),C(Re),C(L),C(mt),C(B),C(Pe))},Pn.\u0275cmp=D({type:Pn,selectors:[["app-sms-api-number-list"]],standalone:!1,features:[W],decls:100,vars:44,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-receipt","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-paper-plane-top","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","NumberChar"],["class","input-ltr",4,"matCellDef"],["matColumnDef","isPublic"],["matColumnDef","SaleStatus"],["matColumnDef","accessUseStartDate"],["matColumnDef","expireDate"],["matColumnDef","lastUseOfDate"],["dir","ltr",4,"matCellDef"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild","cdkDrag","",3,"ntk-row-selected","cdkDragData","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"input-ltr"],["dir","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],["cdkDrag","",1,"ntk-row-mainfild",3,"click","rtclick","cdkDragData"],["class","ntk-row-placeholder",4,"cdkDragPlaceholder"],[1,"ntk-row-placeholder"]],template:function(i,t){if(i&1){let s=I();r(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(c){return p(s),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),u(c)}),v("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),w(1,4),r(2,"app-sms-apipath-tree",5),v("optionChange",function(c){return p(s),u(t.onActionSelectorSelect(c))}),a(),P(),Ve(3,6)(4,7),w(5,8),b(6,Ks,2,0,"a",9),r(7,"a",10),v("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",11),a(),r(9,"a",10),v("click",function(){return p(s),u(t.onActionButtonReload())}),_(10,"i",12),a(),P(),w(11,13),r(12,"a",14),v("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(13,"mat-slide-toggle",15),d(14),h(15,"translate"),a(),r(16,"a",14),v("click",function(){return p(s),u(t.onActionButtonStatist())}),_(17,"mat-slide-toggle",15),d(18),h(19,"translate"),a(),P(),w(20,16),b(21,Js,6,3,"div",17),P(),w(22,18),b(23,Xs,7,3,"div",17)(24,Ys,7,3,"div",17),r(25,"div",19)(26,"a",20),v("click",function(c){return p(s),u(t.onActionButtonSendMessage(t.tableRowSelected,c))}),_(27,"i",21)(28,"br"),a(),r(29,"p",22),d(30),h(31,"translate"),a()(),r(32,"div",19)(33,"a",20),v("click",function(c){return p(s),u(t.onActionButtonInboxList(t.tableRowSelected,c))}),_(34,"i",21)(35,"br"),a(),r(36,"p",22),d(37),h(38,"translate"),a()(),r(39,"div",19)(40,"a",20),v("click",function(c){return p(s),u(t.onActionButtonOutboxList(t.tableRowSelected,c))}),_(41,"i",23)(42,"br"),a(),r(43,"p",22),d(44),h(45,"translate"),a()(),r(46,"div",19)(47,"a",20),v("click",function(c){return p(s),u(t.onActionButtonPermissionList(t.tableRowSelected,c))}),_(48,"i",21)(49,"br"),a(),r(50,"p",22),d(51),h(52,"translate"),a()(),P(),w(53,24),r(54,"app-cms-search-list",25),E("optionsChange",function(c){return p(s),A(t.optionsSearch,c)||(t.optionsSearch=c),u(c)}),a(),r(55,"app-cms-statist-list",25),E("optionsChange",function(c){return p(s),A(t.optionsStatist,c)||(t.optionsStatist=c),u(c)}),a(),P(),w(56,26),r(57,"mat-table",27,0),v("matSortChange",function(){p(s);let c=R(58);return u(t.onTableSortData(c))})("cdkDropListDropped",function(c){return p(s),u(t.onTableDropRow(c))}),w(59,28),b(60,Zs,2,1,"mat-header-cell",29)(61,$s,2,1,"mat-cell",30),P(),w(62,31),b(63,el,2,1,"mat-header-cell",29)(64,tl,4,6,"mat-cell",32),P(),w(65,33),b(66,il,2,1,"mat-header-cell",29)(67,nl,2,1,"mat-cell",34),P(),w(68,35),b(69,ol,2,1,"mat-header-cell",29)(70,rl,3,3,"mat-cell",30),P(),w(71,36),b(72,al,2,1,"mat-header-cell",29)(73,sl,3,3,"mat-cell",30),P(),w(74,37),b(75,ll,2,1,"mat-header-cell",29)(76,cl,3,3,"mat-cell",30),P(),w(77,38),b(78,ml,2,1,"mat-header-cell",29)(79,dl,3,3,"mat-cell",30),P(),w(80,39),b(81,pl,2,1,"mat-header-cell",29)(82,ul,4,6,"mat-cell",40),P(),w(83,41),b(84,fl,2,1,"mat-header-cell",29)(85,Sl,3,3,"mat-cell",30),P(),w(86,42),b(87,hl,2,1,"mat-header-cell",29)(88,gl,3,3,"mat-cell",30),P(),w(89,43),b(90,Ml,3,3,"mat-header-cell",44)(91,_l,6,1,"mat-cell",45),P(),w(92,46),b(93,Cl,2,0,"mat-header-cell",29)(94,bl,3,0,"mat-cell",30),P(),b(95,vl,1,0,"mat-header-row",47)(96,yl,2,3,"mat-row",48),a(),P(),w(97,49),r(98,"mat-paginator",50,1),v("page",function(c){return p(s),u(t.onTablePageingData(c))}),a(),P(),a()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!t.requestLinkApiPathId||t.requestLinkApiPathId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.numberChar),o(6),m("ngIf",(t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0),o(4),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),m("checked",t.optionsSearch.data.show),o(),g("",M(15,31,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),g("",M(19,33,"ACTION.STATIST")," "),o(3),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),g(" ",M(31,35,"ACTION.SEND_MESSAGE")," "),o(7),g(" ",M(38,37,"ACTION.RECEIPTS")," "),o(7),g(" ",M(45,39,"ACTION.SUBMISSIONS")," "),o(7),g(" ",M(52,41,"ACTION.Permission")," "),o(3),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),m("dataSource",t.tableSource)("cdkDropListData",t.tableSource),o(38),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ne(43,zs)))},dependencies:[je,O,Lr,Ge,Te,Ke,Je,Xe,Ye,Ze,$e,et,it,at,nt,tt,st,ot,rt,lt,ct,St,ht,gt,Mt,Mn,Eo,Ao,yo,To,F,Lt,Ko,_t,yt],encapsulation:2});var uo=Pn;var Al=["vform"];function El(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",28),E("modelChange",function(t){p(e);let s=S();return A(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();y("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Tl(n,l){n&1&&_(0,"i",33)}function wl(n,l){n&1&&_(0,"i",34)}function Pl(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Rl(n,l){if(n&1){let e=I();r(0,"div",17)(1,"label",29),d(2),a(),r(3,"input",30,3),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),a(),b(5,Tl,1,0,"i",31)(6,wl,1,0,"i",32),r(7,"em"),d(8),a(),b(9,Pl,5,3,"mat-error",20),a()}if(n&2){let e=R(4),i=S();o(2),T(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.title),o(2),m("ngIf",!e.value),o(),m("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function xl(n,l){if(n&1){let e=I();r(0,"div",35)(1,"div",36)(2,"h5",37),d(3),a()(),r(4,"div",38)(5,"div",39)(6,"input",40),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.checkCredit,t)||(s.dataModel.checkCredit=t),u(t)}),a(),_(7,"label",41),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.checkCredit==null?null:e.fieldsInfo.checkCredit.fieldTitle," "),o(3),y("ngModel",e.dataModel.checkCredit)}}function Dl(n,l){if(n&1){let e=I();r(0,"div",35)(1,"div",36)(2,"h5",42),d(3),a()(),r(4,"div",38)(5,"div",39)(6,"input",43),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.calculateCredit,t)||(s.dataModel.calculateCredit=t),u(t)}),a(),_(7,"label",44),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.calculateCredit==null?null:e.fieldsInfo.calculateCredit.fieldTitle," "),o(3),y("ngModel",e.dataModel.calculateCredit)}}function kl(n,l){n&1&&_(0,"i",33)}function Ll(n,l){n&1&&_(0,"i",34)}function Vl(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2){let e=S(2);o(),g(" ",e.fieldsInfo.serviceAvailableCredit==null?null:e.fieldsInfo.serviceAvailableCredit.fieldTitle," is "),o(2),T(M(4,2,"MESSAGE.required"))}}function Nl(n,l){if(n&1){let e=I();r(0,"div",17)(1,"label",45),d(2),a(),r(3,"input",46,4),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.serviceAvailableCredit,t)||(s.dataModel.serviceAvailableCredit=t),u(t)}),a(),b(5,kl,1,0,"i",31)(6,Ll,1,0,"i",32)(7,Vl,5,4,"mat-error",20),a()}if(n&2){let e=R(4),i=S();o(2),T(i.fieldsInfo.serviceAvailableCredit==null?null:i.fieldsInfo.serviceAvailableCredit.fieldTitle),o(),y("ngModel",i.dataModel.serviceAvailableCredit),m("disabled",!(i.fieldsInfo.serviceAvailableCredit!=null&&i.fieldsInfo.serviceAvailableCredit.accessAddField)),o(2),m("ngIf",!e.value),o(),m("ngIf",e.value),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function Bl(n,l){n&1&&_(0,"i",33)}function Fl(n,l){n&1&&_(0,"i",34)}function Gl(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2){let e=S(2);o(),g(" ",e.fieldsInfo.serviceSumCredit==null?null:e.fieldsInfo.serviceSumCredit.fieldTitle," is "),o(2),T(M(4,2,"MESSAGE.required"))}}function Ol(n,l){if(n&1){let e=I();r(0,"div",17)(1,"label",47),d(2),a(),r(3,"input",48,5),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.serviceSumCredit,t)||(s.dataModel.serviceSumCredit=t),u(t)}),a(),b(5,Bl,1,0,"i",31)(6,Fl,1,0,"i",32)(7,Gl,5,4,"mat-error",20),a()}if(n&2){let e=R(4),i=S();o(2),T(i.fieldsInfo.serviceSumCredit==null?null:i.fieldsInfo.serviceSumCredit.fieldTitle),o(),y("ngModel",i.dataModel.serviceSumCredit),m("disabled",!(i.fieldsInfo.serviceSumCredit!=null&&i.fieldsInfo.serviceSumCredit.accessAddField)),o(2),m("ngIf",!e.value),o(),m("ngIf",e.value),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function Hl(n,l){n&1&&_(0,"i",33)}function Wl(n,l){n&1&&_(0,"i",34)}function Ul(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2){let e=S(2);o(),g(" ",e.fieldsInfo.userAvailableCredit==null?null:e.fieldsInfo.userAvailableCredit.fieldTitle," is "),o(2),T(M(4,2,"MESSAGE.required"))}}function ql(n,l){if(n&1){let e=I();r(0,"div",17)(1,"label",49),d(2),a(),r(3,"input",50,6),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.userAvailableCredit,t)||(s.dataModel.userAvailableCredit=t),u(t)}),a(),b(5,Hl,1,0,"i",31)(6,Wl,1,0,"i",32)(7,Ul,5,4,"mat-error",20),a()}if(n&2){let e=R(4),i=S();o(2),T(i.fieldsInfo.userAvailableCredit==null?null:i.fieldsInfo.userAvailableCredit.fieldTitle),o(),y("ngModel",i.dataModel.userAvailableCredit),m("disabled",!(i.fieldsInfo.userAvailableCredit!=null&&i.fieldsInfo.userAvailableCredit.accessAddField)),o(2),m("ngIf",!e.value),o(),m("ngIf",e.value),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function jl(n,l){n&1&&_(0,"i",33)}function Ql(n,l){n&1&&_(0,"i",34)}function zl(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2){let e=S(2);o(),g(" ",e.fieldsInfo.userSumCredit==null?null:e.fieldsInfo.userSumCredit.fieldTitle," is "),o(2),T(M(4,2,"MESSAGE.required"))}}function Kl(n,l){if(n&1){let e=I();r(0,"div",17)(1,"label",51),d(2),a(),r(3,"input",52,7),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.userSumCredit,t)||(s.dataModel.userSumCredit=t),u(t)}),a(),b(5,jl,1,0,"i",31)(6,Ql,1,0,"i",32)(7,zl,5,4,"mat-error",20),a()}if(n&2){let e=R(4),i=S();o(2),T(i.fieldsInfo.userSumCredit==null?null:i.fieldsInfo.userSumCredit.fieldTitle),o(),y("ngModel",i.dataModel.userSumCredit),m("disabled",!(i.fieldsInfo.userSumCredit!=null&&i.fieldsInfo.userSumCredit.accessAddField)),o(2),m("ngIf",!e.value),o(),m("ngIf",e.value),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function Jl(n,l){n&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Xl(n,l){if(n&1&&(_(0,"img",53),h(1,"cmsthumbnail")),n&2){let e=S();m("src",x(M(1,2,e.dataModel.linkMainImageIdSrc)),Ce)}}function Yl(n,l){if(n&1){let e=I();r(0,"div",54)(1,"button",55),v("click",function(){p(e);let t=S();return u(t.onFormCancel())}),_(2,"i",56),d(3),h(4,"translate"),a(),r(5,"button",57),_(6,"i",58),d(7),h(8,"translate"),a()()}if(n&2){S();let e=R(13);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var Rn=class Rn extends pt{constructor(e,i,t,s,f,c,k,H){super(s,new Bt,c,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainApiPathCompanyService=s;this.cmsToastrService=f;this.publicHelper=c;this.cdr=k;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new Bt;this.formInfo=new re;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathCompanyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Rn.\u0275fac=function(i){return new(i||Rn)(C(oe),C(ne),C(Ie),C(Ot),C(N),C(B),C(V),C(L))},Rn.\u0275cmp=D({type:Rn,selectors:[["app-sms-apipathcompany-add"]],viewQuery:function(i,t){if(i&1&&$(Al,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:43,vars:45,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["ServiceAvailableCredit",""],["ServiceSumCredit",""],["UserAvailableCredit",""],["UserSumCredit",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.checkCredit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.checkCredit","name","dataModel.checkCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.checkCredit",1,"custom-control-label"],["data-trigger-switch","dataModel.calculateCredit",1,"font-600","font-14"],["type","checkbox","id","dataModel.calculateCredit","name","dataModel.calculateCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.calculateCredit",1,"custom-control-label"],["for","dataModel.serviceAvailableCredit",1,"color-highlight"],["matInput","","type","text","currencyMask","","name","dataModel.serviceAvailableCredit","type","number","placeholder","0","required","","id","dataModel.serviceAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.serviceSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceSumCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.serviceSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userAvailableCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.userAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userSumCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.userSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",8),_(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),d(4),a(),r(5,"h4"),d(6),h(7,"translate"),a(),r(8,"p"),d(9),h(10,"translate"),a(),_(11,"app-cms-form-result-message",12),r(12,"form",13,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(14,El,1,5,"app-cms-enum-record-status-selector",14)(15,Rl,10,8,"div",15)(16,xl,8,2,"div",16)(17,Dl,8,2,"div",16)(18,Nl,8,6,"div",15)(19,Ol,8,6,"div",15)(20,ql,8,6,"div",15)(21,Kl,8,6,"div",15),r(22,"div",17)(23,"label",18),d(24),a(),r(25,"textarea",19,1),E("ngModelChange",function(c){return p(s),A(t.dataModel.description,c)||(t.dataModel.description=c),u(c)}),a(),r(27,"em"),d(28),a(),b(29,Jl,5,3,"mat-error",20),a(),r(30,"div",21)(31,"a",22),h(32,"cmsthumbnail"),b(33,Xl,2,4,"img",23),a()(),r(34,"div",17)(35,"label",24),v("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),d(36),h(37,"translate"),a(),r(38,"input",25,2),h(40,"translate"),E("ngModelChange",function(c){return p(s),A(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),u(c)}),v("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),a(),r(41,"cms-file-manager",26),v("itemSelected",function(c){return p(s),u(t.onActionFileSelected(c))}),E("openFormChange",function(c){return p(s),A(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),u(c)}),a()(),b(42,Yl,9,7,"div",27),a()()()}if(i&2){let s=R(26);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),T(M(7,35,"TITLE.SERVICE_PROVIDER_COMPANIES")),o(3),g(" ",M(10,37,"TITLE.SERVICE_PROVIDER_COMPANIES_DESCRIPTION")," "),o(2),m("formInfo",t.formInfo),o(3),m("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),m("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),m("ngIf",t.fieldsInfo.checkCredit==null?null:t.fieldsInfo.checkCredit.accessWatchField),o(),m("ngIf",t.fieldsInfo.calculateCredit==null?null:t.fieldsInfo.calculateCredit.accessWatchField),o(),m("ngIf",t.fieldsInfo.serviceAvailableCredit==null?null:t.fieldsInfo.serviceAvailableCredit.accessWatchField),o(),m("ngIf",t.fieldsInfo.serviceSumCredit==null?null:t.fieldsInfo.serviceSumCredit.accessWatchField),o(),m("ngIf",t.fieldsInfo.userAvailableCredit==null?null:t.fieldsInfo.userAvailableCredit.accessWatchField),o(),m("ngIf",t.fieldsInfo.userSumCredit==null?null:t.fieldsInfo.userSumCredit.accessWatchField),o(3),T(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),y("ngModel",t.dataModel.description),o(3),g("",s.value.length," / 500"),o(),m("ngIf",s.errors==null?null:s.errors.required),o(2),m("href",x(M(32,39,t.dataModel.linkMainImageIdSrc)),Ce),o(2),m("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),T(M(37,41,"TITLE.Icon_File")),o(2),m("placeholder",x(M(40,43,"TITLE.Original_File_ID"))),y("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("isPopup",!0),y("openForm",t.fileManagerOpenForm),m("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,ce,z,ti,Le,K,se,_e,Ae,Ee,ie,le,ue,J,fe,q,me,ii,Wt,F,dt],encapsulation:2});var xn=Rn;var Zl=["vform"];function $l(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",28),E("modelChange",function(t){p(e);let s=S();return A(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();y("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ec(n,l){n&1&&_(0,"i",33)}function tc(n,l){n&1&&_(0,"i",34)}function ic(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function nc(n,l){if(n&1){let e=I();r(0,"div",17)(1,"label",29),d(2),a(),r(3,"input",30,3),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),a(),b(5,ec,1,0,"i",31)(6,tc,1,0,"i",32),r(7,"em"),d(8),a(),b(9,ic,5,3,"mat-error",20),a()}if(n&2){let e=R(4),i=S();o(2),T(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.title),o(2),m("ngIf",!e.value),o(),m("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function oc(n,l){if(n&1){let e=I();r(0,"div",35)(1,"div",36)(2,"h5",37),d(3),a()(),r(4,"div",38)(5,"div",39)(6,"input",40),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.checkCredit,t)||(s.dataModel.checkCredit=t),u(t)}),a(),_(7,"label",41),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.checkCredit==null?null:e.fieldsInfo.checkCredit.fieldTitle," "),o(3),y("ngModel",e.dataModel.checkCredit)}}function rc(n,l){if(n&1){let e=I();r(0,"div",35)(1,"div",36)(2,"h5",42),d(3),a()(),r(4,"div",38)(5,"div",39)(6,"input",43),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.calculateCredit,t)||(s.dataModel.calculateCredit=t),u(t)}),a(),_(7,"label",44),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.calculateCredit==null?null:e.fieldsInfo.calculateCredit.fieldTitle," "),o(3),y("ngModel",e.dataModel.calculateCredit)}}function ac(n,l){n&1&&_(0,"i",33)}function sc(n,l){n&1&&_(0,"i",34)}function lc(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2){let e=S(2);o(),g(" ",e.fieldsInfo.serviceAvailableCredit==null?null:e.fieldsInfo.serviceAvailableCredit.fieldTitle," is "),o(2),T(M(4,2,"MESSAGE.required"))}}function cc(n,l){if(n&1){let e=I();r(0,"div",17)(1,"label",45),d(2),a(),r(3,"input",46,4),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.serviceAvailableCredit,t)||(s.dataModel.serviceAvailableCredit=t),u(t)}),a(),b(5,ac,1,0,"i",31)(6,sc,1,0,"i",32)(7,lc,5,4,"mat-error",20),a()}if(n&2){let e=R(4),i=S();o(2),T(i.fieldsInfo.serviceAvailableCredit==null?null:i.fieldsInfo.serviceAvailableCredit.fieldTitle),o(),y("ngModel",i.dataModel.serviceAvailableCredit),m("disabled",!(i.fieldsInfo.serviceAvailableCredit!=null&&i.fieldsInfo.serviceAvailableCredit.accessEditField)),o(2),m("ngIf",!e.value),o(),m("ngIf",e.value),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function mc(n,l){n&1&&_(0,"i",33)}function dc(n,l){n&1&&_(0,"i",34)}function pc(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2){let e=S(2);o(),g(" ",e.fieldsInfo.serviceSumCredit==null?null:e.fieldsInfo.serviceSumCredit.fieldTitle," is "),o(2),T(M(4,2,"MESSAGE.required"))}}function uc(n,l){if(n&1){let e=I();r(0,"div",17)(1,"label",47),d(2),a(),r(3,"input",48,5),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.serviceSumCredit,t)||(s.dataModel.serviceSumCredit=t),u(t)}),a(),b(5,mc,1,0,"i",31)(6,dc,1,0,"i",32)(7,pc,5,4,"mat-error",20),a()}if(n&2){let e=R(4),i=S();o(2),T(i.fieldsInfo.serviceSumCredit==null?null:i.fieldsInfo.serviceSumCredit.fieldTitle),o(),y("ngModel",i.dataModel.serviceSumCredit),m("disabled",!(i.fieldsInfo.serviceSumCredit!=null&&i.fieldsInfo.serviceSumCredit.accessEditField)),o(2),m("ngIf",!e.value),o(),m("ngIf",e.value),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function fc(n,l){n&1&&_(0,"i",33)}function Sc(n,l){n&1&&_(0,"i",34)}function hc(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2){let e=S(2);o(),g(" ",e.fieldsInfo.userAvailableCredit==null?null:e.fieldsInfo.userAvailableCredit.fieldTitle," is "),o(2),T(M(4,2,"MESSAGE.required"))}}function gc(n,l){if(n&1){let e=I();r(0,"div",17)(1,"label",49),d(2),a(),r(3,"input",50,6),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.userAvailableCredit,t)||(s.dataModel.userAvailableCredit=t),u(t)}),a(),b(5,fc,1,0,"i",31)(6,Sc,1,0,"i",32)(7,hc,5,4,"mat-error",20),a()}if(n&2){let e=R(4),i=S();o(2),T(i.fieldsInfo.userAvailableCredit==null?null:i.fieldsInfo.userAvailableCredit.fieldTitle),o(),y("ngModel",i.dataModel.userAvailableCredit),m("disabled",!(i.fieldsInfo.userAvailableCredit!=null&&i.fieldsInfo.userAvailableCredit.accessEditField)),o(2),m("ngIf",!e.value),o(),m("ngIf",e.value),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function Mc(n,l){n&1&&_(0,"i",33)}function _c(n,l){n&1&&_(0,"i",34)}function Cc(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2){let e=S(2);o(),g(" ",e.fieldsInfo.userSumCredit==null?null:e.fieldsInfo.userSumCredit.fieldTitle," is "),o(2),T(M(4,2,"MESSAGE.required"))}}function bc(n,l){if(n&1){let e=I();r(0,"div",17)(1,"label",51),d(2),a(),r(3,"input",52,7),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.userSumCredit,t)||(s.dataModel.userSumCredit=t),u(t)}),a(),b(5,Mc,1,0,"i",31)(6,_c,1,0,"i",32)(7,Cc,5,4,"mat-error",20),a()}if(n&2){let e=R(4),i=S();o(2),T(i.fieldsInfo.userSumCredit==null?null:i.fieldsInfo.userSumCredit.fieldTitle),o(),y("ngModel",i.dataModel.userSumCredit),m("disabled",!(i.fieldsInfo.userSumCredit!=null&&i.fieldsInfo.userSumCredit.accessEditField)),o(2),m("ngIf",!e.value),o(),m("ngIf",e.value),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function vc(n,l){n&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Ic(n,l){if(n&1&&(_(0,"img",53),h(1,"cmsthumbnail")),n&2){let e=S();m("src",x(M(1,2,e.dataModel.linkMainImageIdSrc)),Ce)}}function yc(n,l){if(n&1){let e=I();r(0,"div",54)(1,"button",55),v("click",function(){p(e);let t=S();return u(t.onFormCancel())}),_(2,"i",56),d(3),h(4,"translate"),a(),r(5,"button",57),_(6,"i",58),d(7),h(8,"translate"),a()()}if(n&2){S();let e=R(13);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var Dn=class Dn extends ut{constructor(e,i,t,s,f,c,k,H){super(s,new Bt,c,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainApiPathCompanyService=s;this.cmsToastrService=f;this.publicHelper=c;this.cdr=k;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ze;this.dataModel=new Bt;this.formInfo=new re;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathCompanyService.setAccessLoad(),this.smsMainApiPathCompanyService.setAccessDataType(Fe.Editor),this.smsMainApiPathCompanyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathCompanyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Dn.\u0275fac=function(i){return new(i||Dn)(C(oe),C(ne),C(Ie),C(Ot),C(N),C(B),C(V),C(L))},Dn.\u0275cmp=D({type:Dn,selectors:[["app-sms-apipathcompany-edit"]],viewQuery:function(i,t){if(i&1&&$(Zl,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:43,vars:45,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["ServiceAvailableCredit",""],["ServiceSumCredit",""],["UserAvailableCredit",""],["UserSumCredit",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.checkCredit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.checkCredit","name","dataModel.checkCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.checkCredit",1,"custom-control-label"],["data-trigger-switch","dataModel.calculateCredit",1,"font-600","font-14"],["type","checkbox","id","dataModel.calculateCredit","name","dataModel.calculateCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.calculateCredit",1,"custom-control-label"],["for","dataModel.serviceAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceAvailableCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.serviceAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.serviceSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceSumCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.serviceSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userAvailableCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.userAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userSumCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.userSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",8),_(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),d(4),a(),r(5,"h4"),d(6),h(7,"translate"),a(),r(8,"p"),d(9),h(10,"translate"),a(),_(11,"app-cms-form-result-message",12),r(12,"form",13,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(14,$l,1,5,"app-cms-enum-record-status-selector",14)(15,nc,10,8,"div",15)(16,oc,8,2,"div",16)(17,rc,8,2,"div",16)(18,cc,8,6,"div",15)(19,uc,8,6,"div",15)(20,gc,8,6,"div",15)(21,bc,8,6,"div",15),r(22,"div",17)(23,"label",18),d(24),a(),r(25,"textarea",19,1),E("ngModelChange",function(c){return p(s),A(t.dataModel.description,c)||(t.dataModel.description=c),u(c)}),a(),r(27,"em"),d(28),a(),b(29,vc,5,3,"mat-error",20),a(),r(30,"div",21)(31,"a",22),h(32,"cmsthumbnail"),b(33,Ic,2,4,"img",23),a()(),r(34,"div",17)(35,"label",24),v("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),d(36),h(37,"translate"),a(),r(38,"input",25,2),h(40,"translate"),E("ngModelChange",function(c){return p(s),A(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),u(c)}),v("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),a(),r(41,"cms-file-manager",26),v("itemSelected",function(c){return p(s),u(t.onActionFileSelected(c))}),E("openFormChange",function(c){return p(s),A(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),u(c)}),a()(),b(42,yc,9,7,"div",27),a()()()}if(i&2){let s=R(26);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),T(M(7,35,"TITLE.SERVICE_PROVIDER_COMPANIES")),o(3),g(" ",M(10,37,"TITLE.SERVICE_PROVIDER_COMPANIES_DESCRIPTION")," "),o(2),m("formInfo",t.formInfo),o(3),m("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),m("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),m("ngIf",t.fieldsInfo.checkCredit==null?null:t.fieldsInfo.checkCredit.accessWatchField),o(),m("ngIf",t.fieldsInfo.calculateCredit==null?null:t.fieldsInfo.calculateCredit.accessWatchField),o(),m("ngIf",t.fieldsInfo.serviceAvailableCredit==null?null:t.fieldsInfo.serviceAvailableCredit.accessWatchField),o(),m("ngIf",t.fieldsInfo.serviceSumCredit==null?null:t.fieldsInfo.serviceSumCredit.accessWatchField),o(),m("ngIf",t.fieldsInfo.userAvailableCredit==null?null:t.fieldsInfo.userAvailableCredit.accessWatchField),o(),m("ngIf",t.fieldsInfo.userSumCredit==null?null:t.fieldsInfo.userSumCredit.accessWatchField),o(3),T(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),y("ngModel",t.dataModel.description),o(3),g("",s.value.length," / 500"),o(),m("ngIf",s.errors==null?null:s.errors.required),o(2),m("href",x(M(32,39,t.dataModel.linkMainImageIdSrc)),Ce),o(2),m("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),T(M(37,41,"TITLE.Icon_File")),o(2),m("placeholder",x(M(40,43,"TITLE.Original_File_ID"))),y("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("isPopup",!0),y("openForm",t.fileManagerOpenForm),m("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,ce,z,ti,Le,K,se,_e,Ae,Ee,ie,le,ue,J,fe,q,me,ii,Wt,F,dt],encapsulation:2});var kn=Dn;var Ac=()=>[5,10,20,100];function Ec(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",39),v("click",function(){p(e);let t=S();return u(t.onActionButtonNewRow())}),_(2,"i",40)(3,"br"),a(),r(4,"p",20),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.ADD")," "))}function Tc(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",41),v("click",function(){p(e);let t=S();return u(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",42)(3,"br"),a(),r(4,"p",20),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.EDIT")," "))}function wc(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",43),v("click",function(){p(e);let t=S();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",44)(3,"br"),a(),r(4,"p",20),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DELETE")," "))}function Pc(n,l){n&1&&(r(0,"mat-header-cell",45),d(1),h(2,"translate"),a()),n&2&&(o(),g(" ",M(2,1,"TITLE.PICTURE")," "))}function Rc(n,l){if(n&1&&_(0,"img",47),n&2){let e=S().$implicit;m("src",x(e.linkMainImageIdSrc),Ce)}}function xc(n,l){if(n&1&&(r(0,"mat-cell"),b(1,Rc,1,2,"img",46),a()),n&2){let e=l.$implicit;o(),m("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Dc(n,l){if(n&1&&(r(0,"mat-header-cell",45),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function kc(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.id," ")}}function Lc(n,l){if(n&1&&(r(0,"mat-header-cell",45),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Vc(n,l){if(n&1&&(r(0,"mat-cell",48),h(1,"statusCellClass"),_(2,"i",48),h(3,"statusIconClass"),a()),n&2){let e=l.$implicit;m("ngClass",M(1,2,e.recordStatus)),o(2),m("ngClass",M(3,4,e.recordStatus))}}function Nc(n,l){if(n&1&&(r(0,"mat-header-cell",45),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Bc(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.title," ")}}function Fc(n,l){n&1&&(r(0,"mat-header-cell"),d(1),h(2,"translate"),a()),n&2&&(o(),g(" ",M(2,1,"TITLE.OPTION")," "))}function Gc(n,l){if(n&1&&(r(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),d(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),m("matMenuTriggerFor",e)}}function Oc(n,l){n&1&&_(0,"mat-header-row")}function Hc(n,l){if(n&1){let e=I();r(0,"mat-row",51),v("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ln=class Ln extends ft{constructor(e,i,t,s,f,c,k,H,Nt,Yt,Et){super(e,new Bt,Yt,f,k);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.router=s;this.tokenHelper=f;this.cdr=c;this.translate=k;this.cmsStoreService=H;this.pageInfo=Nt;this.publicHelper=Yt;this.dialog=Et;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","title"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","title"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:oi=>this.onSubmitOptionsSearch(oi)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=j.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ve(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Bt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(xn,{height:"90%",panelClass:e,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(kn,{height:"90%",panelClass:i,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Q;f.propertyName="recordStatus",f.value=Be.Available,s.filters.push(f),this.contentService.ServiceGetCount(s).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonApiList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-path/list/LinkCompanyId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-path/list/LinkCompanyId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Ln.\u0275fac=function(i){return new(i||Ln)(C(Ot),C(N),C(We),C(Qe),C(xe),C(V),C(L),C(Re),C(mt),C(B),C(Pe))},Ln.\u0275cmp=D({type:Ln,selectors:[["app-sms-apipathcompany-list"]],standalone:!1,features:[W],decls:57,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=I();r(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(c){return p(s),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),u(c)}),v("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),w(1,4),d(2," -------------------------------------- "),P(),Ve(3,5)(4,6),w(5,7),r(6,"a",8),v("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),_(7,"i",9),a(),r(8,"a",8),v("click",function(){return p(s),u(t.onActionButtonReload())}),_(9,"i",10),a(),P(),w(10,11),r(11,"a",12),v("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(12,"mat-slide-toggle",13),d(13),h(14,"translate"),a(),r(15,"a",12),v("click",function(){return p(s),u(t.onActionButtonStatist())}),_(16,"mat-slide-toggle",13),d(17),h(18,"translate"),a(),P(),w(19,14),b(20,Ec,7,3,"div",15),P(),w(21,16),b(22,Tc,7,3,"div",15)(23,wc,7,3,"div",15),r(24,"div",17)(25,"a",18),v("click",function(c){return p(s),u(t.onActionButtonApiList(t.tableRowSelected,c))}),_(26,"i",19)(27,"br"),a(),r(28,"p",20),d(29),h(30,"translate"),a()(),P(),w(31,21),r(32,"app-cms-search-list",22),E("optionsChange",function(c){return p(s),A(t.optionsSearch,c)||(t.optionsSearch=c),u(c)}),a(),r(33,"app-cms-statist-list",22),E("optionsChange",function(c){return p(s),A(t.optionsStatist,c)||(t.optionsStatist=c),u(c)}),a(),P(),w(34,23),r(35,"mat-table",24,0),v("matSortChange",function(){p(s);let c=R(36);return u(t.onTableSortData(c))}),w(37,25),b(38,Pc,3,3,"mat-header-cell",26)(39,xc,2,1,"mat-cell",27),P(),w(40,28),b(41,Dc,2,1,"mat-header-cell",26)(42,kc,2,1,"mat-cell",27),P(),w(43,29),b(44,Lc,2,1,"mat-header-cell",26)(45,Vc,4,6,"mat-cell",30),P(),w(46,31),b(47,Nc,2,1,"mat-header-cell",26)(48,Bc,2,1,"mat-cell",27),P(),w(49,32),b(50,Fc,3,3,"mat-header-cell",33)(51,Gc,6,1,"mat-cell",34),P(),b(52,Oc,1,0,"mat-header-row",35)(53,Hc,1,2,"mat-row",36),a(),P(),w(54,37),r(55,"mat-paginator",38,1),v("page",function(c){return p(s),u(t.onTablePageingData(c))}),a(),P(),a()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),m("checked",t.optionsSearch.data.show),o(),g("",M(14,26,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),g("",M(18,28,"ACTION.STATIST")," "),o(3),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),g(" ",M(30,30,"ACTION.ROUTES")," "),o(3),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),m("dataSource",t.tableSource),o(17),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ne(32,Ac)))},dependencies:[je,O,Ge,Te,Ke,Je,Xe,Ye,Ze,$e,et,it,at,nt,tt,st,ot,rt,lt,ct,St,ht,gt,Mt,F,_t,yt],encapsulation:2});var Jo=Ln;var Wc=["*"];function Uc(n,l){if(n&1&&(r(0,"label",14),d(1),a()),n&2){let e=S();m("for",ri("app-cms-site-selector-",e.id)),o(),T(e.optionLabel)}}function qc(n,l){if(n&1&&(_(0,"img",15),h(1,"cmsthumbnail")),n&2){let e=S();m("src",x(M(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),Ce)}}function jc(n,l){if(n&1&&(_(0,"img",15),h(1,"cmsthumbnail")),n&2){let e=S().$implicit;m("src",x(M(1,2,e.linkMainImageIdSrc)),Ce)}}function Qc(n,l){if(n&1&&(r(0,"mat-option",16),b(1,jc,2,4,"img",5),r(2,"span"),d(3),a()()),n&2){let e=l.$implicit,i=S();m("value",e)("disabled",i.optionDisabled),o(),m("ngIf",e.linkMainImageIdSrc),o(2),T(i.displayOption(e))}}function zc(n,l){n&1&&_(0,"i",17)}function Kc(n,l){n&1&&_(0,"i",18)}function Jc(n,l){if(n&1){let e=I();r(0,"i",19),v("click",function(){p(e);let t=S();return u(t.onActionSelectClear())}),a()}}function Xc(n,l){n&1&&(r(0,"em"),d(1),h(2,"translate"),a()),n&2&&(o(),g("(",M(2,1,"TITLE.Necessary"),")"))}var ji=class ji{constructor(l,e,i,t,s,f){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.categoryService=f;this.id=++ji.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new Xt;this.formControl=new ei;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionSelectForSendMessage=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new qe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(an(""),on(1500),rn(),sn(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return ve(this,null,function*(){let e=new Y;e.rowPerPage=20,e.accessLoad=!0;let i=new Q;i.propertyName="title",i.value=l,i.searchType=Jt.Contains,i.clauseType=Si.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new Q,i.propertyName="id",i.value=l,i.searchType=Jt.Equal,i.clauseType=Si.Or,e.filters.push(i)),this.optionSelectForSendMessage&&(i=new Q,i.propertyName="recordStatus",i.value=Be.Available,i.searchType=Jt.Equal,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.get_information_list").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),e.sortColumn="priority",e.sortType=j.Ascending,this.optionAccessDataType&&this.categoryService.setAccessDataType(this.optionAccessDataType),yield tn(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,this.formControl.setValue(this.dataModelResult.listItems[0]),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(nn(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Xt){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Xt,this.onActionSelectClear(),this.loadOptions()}};ji.nextId=0,ji.\u0275fac=function(e){return new(e||ji)(C(Ie),C(N),C(V),C(B),C(L),C(Gt))},ji.\u0275cmp=D({type:ji,selectors:[["app-sms-apipath-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionSelectForSendMessage:"optionSelectForSendMessage",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionAccessDataType:"optionAccessDataType",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Wc,decls:18,vars:25,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();ln(),r(0,"div",1),_(1,"app-progress-spinner",2),b(2,Uc,2,3,"label",3),r(3,"span",4),b(4,qc,2,4,"img",5),d(5," \xA0"),a(),_(6,"input",6),r(7,"mat-autocomplete",7,0),v("optionSelected",function(f){return p(t),u(i.onActionSelect(f.option.value))}),b(9,Qc,4,4,"mat-option",8),h(10,"async"),a(),b(11,zc,1,0,"i",9)(12,Kc,1,0,"i",10)(13,Jc,1,0,"i",11),r(14,"i",12),h(15,"translate"),v("click",function(){return p(t),u(i.onActionButtonReload())}),a(),b(16,Xc,3,3,"em",13),cn(17),a()}if(e&2){let t=R(8);o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(),m("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),m("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),m("placeholder",x(i.optionPlaceholder))("id",ri("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Zt("disabled",i.optionDisabled?!0:null),o(),m("displayWith",i.displayFn),o(2),m("ngForOf",M(10,21,i.filteredOptions)),o(2),m("ngIf",!i.formControl.valid),o(),m("ngIf",i.optionRequired&&i.formControl.valid),o(),m("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),X("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),m("title",x(M(15,23,"ACTION.RELOAD"))),o(2),m("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0))}},dependencies:[we,O,z,K,_e,un,Sn,fn,hn,wo,J,q,Tt,F,dt],encapsulation:2});var Kt=ji;var Yc=["vform"];function Zc(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",27),E("modelChange",function(t){p(e);let s=S();return A(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();y("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function $c(n,l){if(n&1){let e=I();r(0,"div",28)(1,"div",29)(2,"h5",30),d(3),a()(),r(4,"div",31)(5,"div",32)(6,"input",33),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.hasInherits,t)||(s.dataModel.hasInherits=t),u(t)}),a(),_(7,"label",34),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle," "),o(3),y("ngModel",e.dataModel.hasInherits)}}function em(n,l){if(n&1&&(r(0,"option",35),d(1),a()),n&2){let e=l.$implicit;m("ngValue",e.value),o(),g(" ",e.description," ")}}function tm(n,l){n&1&&(r(0,"mat-error"),d(1," AccessStatus is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function im(n,l){if(n&1&&(r(0,"option",35),d(1),a()),n&2){let e=l.$implicit;m("ngValue",e.value),o(),g(" ",e.description," ")}}function nm(n,l){n&1&&(r(0,"mat-error"),d(1," Action is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function om(n,l){if(n&1){let e=I();r(0,"div",20)(1,"label",36),d(2),h(3,"translate"),a(),r(4,"input",37),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),u(t)}),a(),_(5,"mat-datepicker-toggle",23)(6,"mat-datepicker",24,4),a()}if(n&2){let e=R(7),i=S();o(2),T(M(3,4,"TITLE.Expire_Date")),o(2),y("ngModel",i.dataModel.expireDate),m("matDatepicker",e),o(),m("for",e)}}function rm(n,l){if(n&1){let e=I();r(0,"div",38)(1,"button",39),v("click",function(){p(e);let t=S();return u(t.onFormCancel())}),_(2,"i",40),d(3),h(4,"translate"),a(),r(5,"button",41),_(6,"i",42),d(7),h(8,"translate"),a()()}if(n&2){S();let e=R(10);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var Vn=class Vn extends pt{constructor(e,i,t,s,f,c,k,H){super(s,new si,c,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiPathPermissionService=s;this.cmsToastrService=f;this.publicHelper=c;this.cdr=k;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new si;this.formInfo=new re;this.dataModelEnumApiPathPermissionAccessStatusResult=new G;this.dataModelEnumApiPathPermissionActionResult=new G;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.getEnumApiPathPermissionAccessStatus(),this.getEnumApiPathPermissionAction(),this.DataGetAccess()}getEnumApiPathPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiPathPermissionAccessStatusEnum().subscribe(e=>{this.dataModelEnumApiPathPermissionAccessStatusResult=e})}getEnumApiPathPermissionAction(){this.smsEnumService.ServiceSmsApiPathPermissionActionEnum().subscribe(e=>{this.dataModelEnumApiPathPermissionActionResult=e})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPermissionService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiPathId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiPathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vn.\u0275fac=function(i){return new(i||Vn)(C(oe),C(ne),C(ke),C(Mi),C(N),C(B),C(V),C(L))},Vn.\u0275cmp=D({type:Vn,selectors:[["app-sms-apipathpermission-add"]],viewQuery:function(i,t){if(i&1&&$(Yc,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:48,vars:50,consts:[["vform","ngForm"],["AccessStatus","ngModel"],["Action","ngModel"],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accessStatus","name","dataModel.accessStatus","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.action","name","dataModel.action","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.hasInherits",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.hasInherits","name","dataModel.hasInherits",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasInherits",1,"custom-control-label"],[3,"ngValue"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",5),_(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),d(4),a(),r(5,"p"),d(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",9),r(9,"form",10,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(11,Zc,1,5,"app-cms-enum-record-status-selector",11),r(12,"app-cms-user-selector",12),h(13,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCmsUser(c))}),a(),r(14,"app-cms-site-selector",12),h(15,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCmsSite(c))}),a(),r(16,"app-cms-usergroup-selector",12),h(17,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCoreUserGroup(c))}),a(),r(18,"app-cms-sitecategory-selector",12),h(19,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCoreSiteCategory(c))}),a(),r(20,"app-sms-apipath-selector",13),h(21,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorSelectLinkApiPathId(c))}),a(),b(22,$c,8,2,"div",14),r(23,"div",15)(24,"select",16,1),E("ngModelChange",function(c){return p(s),A(t.dataModel.accessStatus,c)||(t.dataModel.accessStatus=c),u(c)}),b(26,em,2,2,"option",17),a(),r(27,"em"),d(28),h(29,"translate"),a(),b(30,tm,5,3,"mat-error",18),a(),r(31,"div",15)(32,"select",19,2),E("ngModelChange",function(c){return p(s),A(t.dataModel.action,c)||(t.dataModel.action=c),u(c)}),b(34,im,2,2,"option",17),a(),r(35,"em"),d(36),h(37,"translate"),a(),b(38,nm,5,3,"mat-error",18),a(),r(39,"div",20)(40,"label",21),d(41),a(),r(42,"input",22),E("ngModelChange",function(c){return p(s),A(t.dataModel.fromDate,c)||(t.dataModel.fromDate=c),u(c)}),a(),_(43,"mat-datepicker-toggle",23)(44,"mat-datepicker",24,3),a(),b(46,om,8,6,"div",25)(47,rm,9,7,"div",26),a()()()}if(i&2){let s=R(25),f=R(33),c=R(45);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,34,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(3),m("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),m("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",M(13,36,"TITLE.USER")),o(2),m("optionDisabled",!(t.fieldsInfo.linkCoreSiteId!=null&&t.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",M(15,38,"TITLE.SITE")),o(2),m("optionDisabled",!(t.fieldsInfo.linkCoreUserGroupId!=null&&t.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",M(17,40,"TITLE.Type_Usage")),o(2),m("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",M(19,42,"TITLE.Site_Type")),o(2),m("optionSelectForce",t.dataModel.linkApiPathId)("optionPlaceholder",M(21,44,"TITLE.Direction")),o(2),m("ngIf",t.fieldsInfo.hasInherits==null?null:t.fieldsInfo.hasInherits.accessWatchField),o(2),y("ngModel",t.dataModel.accessStatus),o(2),m("ngForOf",t.dataModelEnumApiPathPermissionAccessStatusResult.listItems),o(2),g("",M(29,46,"TITLE.Select_type_of_content")," "),o(2),m("ngIf",s.errors==null?null:s.errors.required),o(2),y("ngModel",t.dataModel.action),o(2),m("ngForOf",t.dataModelEnumApiPathPermissionActionResult.listItems),o(2),g("",M(37,48,"TITLE.Select_type_of_content")," "),o(2),m("ngIf",f.errors==null?null:f.errors.required),o(3),T(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),y("ngModel",t.dataModel.fromDate),m("matDatepicker",c),o(),m("for",c),o(3),m("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[we,O,ce,vi,Ii,z,Le,bi,K,se,_e,ie,le,xt,Dt,kt,ue,Rt,J,Ut,fe,qt,It,jt,q,me,Kt,F],encapsulation:2});var Xo=Vn;var am=["vform"];function sm(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",27),E("modelChange",function(t){p(e);let s=S();return A(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();y("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function lm(n,l){if(n&1){let e=I();r(0,"div",28)(1,"div",29)(2,"h5",30),d(3),a()(),r(4,"div",31)(5,"div",32)(6,"input",33),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.hasInherits,t)||(s.dataModel.hasInherits=t),u(t)}),a(),_(7,"label",34),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle," "),o(3),y("ngModel",e.dataModel.hasInherits)}}function cm(n,l){if(n&1&&(r(0,"option",35),d(1),a()),n&2){let e=l.$implicit;m("ngValue",e.value),o(),g(" ",e.description," ")}}function mm(n,l){n&1&&(r(0,"mat-error"),d(1," AccessStatus is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function dm(n,l){if(n&1&&(r(0,"option",35),d(1),a()),n&2){let e=l.$implicit;m("ngValue",e.value),o(),g(" ",e.description," ")}}function pm(n,l){n&1&&(r(0,"mat-error"),d(1," Action is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function um(n,l){if(n&1){let e=I();r(0,"div",20)(1,"label",36),d(2),h(3,"translate"),a(),r(4,"input",37),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),u(t)}),a(),_(5,"mat-datepicker-toggle",23)(6,"mat-datepicker",24,4),a()}if(n&2){let e=R(7),i=S();o(2),T(M(3,4,"TITLE.Expire_Date")),o(2),y("ngModel",i.dataModel.expireDate),m("matDatepicker",e),o(),m("for",e)}}function fm(n,l){if(n&1){let e=I();r(0,"div",38)(1,"button",39),v("click",function(){p(e);let t=S();return u(t.onFormCancel())}),_(2,"i",40),d(3),h(4,"translate"),a(),r(5,"button",41),_(6,"i",42),d(7),h(8,"translate"),a()()}if(n&2){S();let e=R(10);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var Nn=class Nn extends ut{constructor(e,i,t,s,f,c,k,H){super(s,new si,c,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiPathPermissionService=s;this.cmsToastrService=f;this.publicHelper=c;this.cdr=k;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ze;this.dataModel=new si;this.formInfo=new re;this.dataModelEnumApiPathPermissionAccessStatusResult=new G;this.dataModelEnumApiPathPermissionActionResult=new G;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getEnumApiPathPermissionAccessStatus(),this.getEnumApiPathPermissionAction()}getEnumApiPathPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiPathPermissionAccessStatusEnum().subscribe(e=>{this.dataModelEnumApiPathPermissionAccessStatusResult=e})}getEnumApiPathPermissionAction(){this.smsEnumService.ServiceSmsApiPathPermissionActionEnum().subscribe(e=>{this.dataModelEnumApiPathPermissionActionResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPermissionService.setAccessLoad(),this.smsMainApiPathPermissionService.setAccessDataType(Fe.Editor),this.smsMainApiPathPermissionService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPermissionService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiPathId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiPathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Nn.\u0275fac=function(i){return new(i||Nn)(C(oe),C(ne),C(ke),C(Mi),C(N),C(B),C(V),C(L))},Nn.\u0275cmp=D({type:Nn,selectors:[["app-sms-apipathpermission-edit"]],viewQuery:function(i,t){if(i&1&&$(am,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:48,vars:50,consts:[["vform","ngForm"],["AccessStatus","ngModel"],["Action","ngModel"],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accessStatus","name","dataModel.accessStatus","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.action","name","dataModel.action","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.hasInherits",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.hasInherits","name","dataModel.hasInherits",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasInherits",1,"custom-control-label"],[3,"ngValue"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",5),_(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),d(4),a(),r(5,"p"),d(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",9),r(9,"form",10,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(11,sm,1,5,"app-cms-enum-record-status-selector",11),r(12,"app-cms-user-selector",12),h(13,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCmsUser(c))}),a(),r(14,"app-cms-site-selector",12),h(15,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCmsSite(c))}),a(),r(16,"app-cms-usergroup-selector",12),h(17,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCoreUserGroup(c))}),a(),r(18,"app-cms-sitecategory-selector",12),h(19,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCoreSiteCategory(c))}),a(),r(20,"app-sms-apipath-selector",13),h(21,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorSelectLinkApiPathId(c))}),a(),b(22,lm,8,2,"div",14),r(23,"div",15)(24,"select",16,1),E("ngModelChange",function(c){return p(s),A(t.dataModel.accessStatus,c)||(t.dataModel.accessStatus=c),u(c)}),b(26,cm,2,2,"option",17),a(),r(27,"em"),d(28),h(29,"translate"),a(),b(30,mm,5,3,"mat-error",18),a(),r(31,"div",15)(32,"select",19,2),E("ngModelChange",function(c){return p(s),A(t.dataModel.action,c)||(t.dataModel.action=c),u(c)}),b(34,dm,2,2,"option",17),a(),r(35,"em"),d(36),h(37,"translate"),a(),b(38,pm,5,3,"mat-error",18),a(),r(39,"div",20)(40,"label",21),d(41),a(),r(42,"input",22),E("ngModelChange",function(c){return p(s),A(t.dataModel.fromDate,c)||(t.dataModel.fromDate=c),u(c)}),a(),_(43,"mat-datepicker-toggle",23)(44,"mat-datepicker",24,3),a(),b(46,um,8,6,"div",25)(47,fm,9,7,"div",26),a()()()}if(i&2){let s=R(25),f=R(33),c=R(45);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,34,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(3),m("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),m("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",M(13,36,"TITLE.USER")),o(2),m("optionDisabled",!(t.fieldsInfo.linkCoreSiteId!=null&&t.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",M(15,38,"TITLE.SITE")),o(2),m("optionDisabled",!(t.fieldsInfo.linkCoreUserGroupId!=null&&t.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",M(17,40,"TITLE.Type_Usage")),o(2),m("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",M(19,42,"TITLE.Site_Type")),o(2),m("optionSelectForce",t.dataModel.linkApiPathId)("optionPlaceholder",M(21,44,"TITLE.Direction")),o(2),m("ngIf",t.fieldsInfo.hasInherits==null?null:t.fieldsInfo.hasInherits.accessWatchField),o(2),y("ngModel",t.dataModel.accessStatus),o(2),m("ngForOf",t.dataModelEnumApiPathPermissionAccessStatusResult.listItems),o(2),g("",M(29,46,"TITLE.Select_type_of_content")," "),o(2),m("ngIf",s.errors==null?null:s.errors.required),o(2),y("ngModel",t.dataModel.action),o(2),m("ngForOf",t.dataModelEnumApiPathPermissionActionResult.listItems),o(2),g("",M(37,48,"TITLE.Select_type_of_content")," "),o(2),m("ngIf",f.errors==null?null:f.errors.required),o(3),T(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),y("ngModel",t.dataModel.fromDate),m("matDatepicker",c),o(),m("for",c),o(3),m("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[we,O,ce,vi,Ii,z,Le,bi,K,se,_e,ie,le,xt,Dt,kt,ue,Rt,J,Ut,fe,qt,It,jt,q,me,Kt,F],encapsulation:2});var Yo=Nn;var Bn=class Bn{constructor(l,e,i,t,s,f,c,k){this.headerService=l;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.dialog=s;this.translate=f;this.cmsStoreService=c;this.tokenHelper=k;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new G;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>ve(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};Bn.\u0275fac=function(e){return new(e||Bn)(C(Gt),C(B),C(V),C(N),C(Pe),C(L),C(Re),C(xe))},Bn.\u0275cmp=D({type:Bn,selectors:[["app-sms-apipath-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:31,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(r(0,"div",0),_(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),_(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),d(10),h(11,"translate"),a()()(),_(12,"div",8),a(),r(13,"div",4)(14,"div",5)(15,"b"),d(16),a(),d(17,": "),a(),r(18,"div",9),d(19),a(),_(20,"div",10)(21,"div",11),a(),r(22,"div",4)(23,"div",5)(24,"b"),d(25),a(),d(26,": "),a(),r(27,"div",9),d(28),a(),_(29,"div",11),a()()()(),_(30,"div",12)),e&2&&(o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(5),m("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),g(" ",M(11,7,"TITLE.Selected_Route")," "),o(6),g("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),T(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),g("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," "),o(3),T(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[q,No,F],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Fn=Bn;var Sm=()=>["expandedDetail"],hm=()=>[5,10,20,100],gm=n=>({display:n});function Mm(n,l){if(n&1&&_(0,"app-sms-apipath-header",46),n&2){let e=S();m("optionId",e.requestLinkApiPathId)}}function _m(n,l){if(n&1){let e=I();r(0,"a",47),v("click",function(){p(e);let t=S();return u(t.onActionBackToParent())}),_(1,"i",48),a()}}function Cm(n,l){if(n&1){let e=I();r(0,"div",49)(1,"a",50),v("click",function(){p(e);let t=S();return u(t.onActionButtonNewRow())}),_(2,"i",51)(3,"br"),a(),r(4,"p",52),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.ADD")," "))}function bm(n,l){if(n&1){let e=I();r(0,"div",49)(1,"a",53),v("click",function(){p(e);let t=S();return u(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",54)(3,"br"),a(),r(4,"p",52),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.EDIT")," "))}function vm(n,l){if(n&1){let e=I();r(0,"div",49)(1,"a",55),v("click",function(){p(e);let t=S();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",56)(3,"br"),a(),r(4,"p",52),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DELETE")," "))}function Im(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ym(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.id," ")}}function Am(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Em(n,l){if(n&1&&(r(0,"mat-cell",58),h(1,"statusCellClass"),_(2,"i",58),h(3,"statusIconClass"),a()),n&2){let e=l.$implicit;m("ngClass",M(1,2,e.recordStatus)),o(2),m("ngClass",M(3,4,e.recordStatus))}}function Tm(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.linkApiPathId==null?null:e.fieldsInfo.linkApiPathId.fieldTitle," ")}}function wm(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.linkApiPathId," ")}}function Pm(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle," ")}}function Rm(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",M(2,1,e.fromDate)," ")}}function xm(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Dm(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",M(2,1,e.expireDate)," ")}}function km(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Lm(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",M(2,1,e.createdDate)," ")}}function Vm(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Nm(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",M(2,1,e.updatedDate)," ")}}function Bm(n,l){if(n&1&&(r(0,"mat-header-cell",59),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.hasAccess==null?null:e.fieldsInfo.hasAccess.fieldTitle," ")}}function Fm(n,l){if(n&1&&(r(0,"mat-cell"),_(1,"i",58),h(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),m("ngClass",M(2,1,e.hasAccess))}}function Gm(n,l){if(n&1&&(r(0,"mat-header-cell",59),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle," ")}}function Om(n,l){if(n&1&&(r(0,"mat-cell"),_(1,"i",58),h(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),m("ngClass",M(2,1,e.hasInherits))}}function Hm(n,l){n&1&&(r(0,"mat-header-cell"),d(1),h(2,"translate"),a()),n&2&&(o(),g(" ",M(2,1,"TITLE.OPTION")," "))}function Wm(n,l){if(n&1&&(r(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),d(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),m("matMenuTriggerFor",e)}}function Um(n,l){if(n&1&&(r(0,"tr"),_(1,"td"),r(2,"td"),d(3),h(4,"cmsuserinfo"),h(5,"async"),a()()),n&2){let e=S().$implicit,i=S();o(3),be(" ",i.fieldsInfo.linkCoreUserId==null?null:i.fieldsInfo.linkCoreUserId.fieldTitle," : ",M(5,4,M(4,2,e.linkCoreUserId))," ")}}function qm(n,l){if(n&1&&(r(0,"tr"),_(1,"td"),r(2,"td"),d(3),h(4,"cmssiteinfo"),h(5,"async"),a()()),n&2){let e=S().$implicit,i=S();o(3),be(" ",i.fieldsInfo.linkCoreSiteId==null?null:i.fieldsInfo.linkCoreSiteId.fieldTitle," : ",M(5,4,M(4,2,e.linkCoreSiteId))," ")}}function jm(n,l){if(n&1&&(r(0,"tr"),_(1,"td"),r(2,"td"),d(3),a()()),n&2){let e=S().$implicit,i=S();o(3),be(" ",i.fieldsInfo.linkCoreUserGroupId==null?null:i.fieldsInfo.linkCoreUserGroupId.fieldTitle," : ",e.linkCoreUserGroupId," ")}}function Qm(n,l){if(n&1&&(r(0,"tr"),_(1,"td"),r(2,"td"),d(3),a()()),n&2){let e=S().$implicit,i=S();o(3),be(" ",i.fieldsInfo.linkCoreSiteCategoryId==null?null:i.fieldsInfo.linkCoreSiteCategoryId.fieldTitle," : ",e.linkCoreSiteCategoryId," ")}}function zm(n,l){if(n&1&&(r(0,"tr"),_(1,"td"),r(2,"td"),d(3),h(4,"localeDate"),a()()),n&2){let e=S().$implicit,i=S();o(3),be(" ",i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle," : ",M(4,2,e.fromDate)," ")}}function Km(n,l){if(n&1&&(r(0,"tr"),_(1,"td"),r(2,"td"),d(3),h(4,"localeDate"),a()()),n&2){let e=S().$implicit,i=S();o(3),be(" ",i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle," : ",M(4,2,e.expireDate)," ")}}function Jm(n,l){if(n&1&&(r(0,"tr"),_(1,"td"),r(2,"td"),d(3),h(4,"localeDate"),a()()),n&2){let e=S().$implicit,i=S();o(3),be(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle," : ",M(4,2,e.createdDate)," ")}}function Xm(n,l){if(n&1&&(r(0,"tr"),_(1,"td"),r(2,"td"),d(3),h(4,"localeDate"),a()()),n&2){let e=S().$implicit,i=S();o(3),be(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",M(4,2,e.updatedDate)," ")}}function Ym(n,l){if(n&1&&(r(0,"mat-cell")(1,"div")(2,"table"),b(3,Um,6,6,"tr",62)(4,qm,6,6,"tr",62)(5,jm,4,2,"tr",62)(6,Qm,4,2,"tr",62)(7,zm,5,4,"tr",62)(8,Km,5,4,"tr",62)(9,Jm,5,4,"tr",62)(10,Xm,5,4,"tr",62),r(11,"tr"),_(12,"td")(13,"td"),a()()()()),n&2){let e=l.$implicit;o(3),m("ngIf",e.linkCoreUserId),o(),m("ngIf",e.linkCoreSiteId),o(),m("ngIf",e.linkCoreUserGroupId),o(),m("ngIf",e.linkCoreSiteCategoryId),o(),m("ngIf",e.fromDate),o(),m("ngIf",e.expireDate),o(),m("ngIf",e.createdDate),o(),m("ngIf",e.updatedDate)}}function Zm(n,l){n&1&&_(0,"mat-header-row")}function $m(n,l){if(n&1){let e=I();r(0,"mat-row",63),v("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function ed(n,l){if(n&1){let e=I();r(0,"mat-row",64),v("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=p(e).$implicit,s=S();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,s=S();return u(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),m("ngStyle",ui(3,gm,e.expanded===!0?"":"none"))}}var Gn=class Gn extends ft{constructor(e,i,t,s,f,c,k,H,Nt,Yt,Et,oi){super(e,new si,Et,c,H);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=s;this.router=f;this.tokenHelper=c;this.cdr=k;this.translate=H;this.cmsStoreService=Nt;this.pageInfo=Yt;this.publicHelper=Et;this.dialog=oi;this.requestLinkApiPathId="";this.requestLinkCoreUserId=0;this.requestLinkCoreSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","linkApiPathId","hasAccess","hasInherits","fromDate","expireDate"];this.tabledisplayedColumnsMobileSource=["recordStatus","linkApiPathId","hasAccess","hasInherits","fromDate","expireDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ae=>this.onSubmitOptionsSearch(ae)},this.requestLinkCoreUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkCoreSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId"),this.requestLinkCoreUserId>0){let ae=new Q;ae.propertyName="LinkCoreUserId",ae.value=this.requestLinkCoreUserId,this.filteModelContent.filters.push(ae)}if(this.requestLinkApiPathId?.length>0){let ae=new Q;ae.propertyName="LinkApiPathId",ae.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(ae)}this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=j.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ve(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new si);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new Q;t.propertyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Xo,{height:"90%",panelClass:e,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Yo,{height:"90%",panelClass:i,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Q;f.propertyName="recordStatus",f.value=Be.Available,s.filters.push(f),this.contentService.ServiceGetCount(s).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};Gn.\u0275fac=function(i){return new(i||Gn)(C(Mi),C(N),C(wt),C(We),C(Qe),C(xe),C(V),C(L),C(Re),C(mt),C(B),C(Pe))},Gn.\u0275cmp=D({type:Gn,selectors:[["app-sms-apipathpermission-list"]],standalone:!1,features:[W],decls:70,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkApiPathId"],["matColumnDef","fromDate"],["matColumnDef","expireDate"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","hasAccess"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","hasInherits"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["mat-sort-header","",1,"form-label"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[4,"ngIf"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=I();b(0,Mm,1,1,"app-sms-apipath-header",3),r(1,"app-cms-html-list",4),E("optionActionGuideNoticeDisplayChange",function(c){return p(s),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),u(c)}),v("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),w(2,5),r(3,"app-sms-apipath-tree",6),v("optionChange",function(c){return p(s),u(t.onActionSelectorSelect(c))}),a(),P(),Ve(4,7)(5,8),w(6,9),b(7,_m,2,0,"a",10),r(8,"a",11),v("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),_(9,"i",12),a(),r(10,"a",11),v("click",function(){return p(s),u(t.onActionButtonReload())}),_(11,"i",13),a(),P(),w(12,14),r(13,"a",15),v("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(14,"mat-slide-toggle",16),d(15),h(16,"translate"),a(),r(17,"a",15),v("click",function(){return p(s),u(t.onActionButtonStatist())}),_(18,"mat-slide-toggle",16),d(19),h(20,"translate"),a(),P(),w(21,17),b(22,Cm,7,3,"div",18),P(),w(23,19),b(24,bm,7,3,"div",18)(25,vm,7,3,"div",18),P(),w(26,20),r(27,"app-cms-search-list",21),E("optionsChange",function(c){return p(s),A(t.optionsSearch,c)||(t.optionsSearch=c),u(c)}),a(),r(28,"app-cms-statist-list",21),E("optionsChange",function(c){return p(s),A(t.optionsStatist,c)||(t.optionsStatist=c),u(c)}),a(),P(),w(29,22),r(30,"mat-table",23,0),v("matSortChange",function(){p(s);let c=R(31);return u(t.onTableSortData(c))}),w(32,24),b(33,Im,2,1,"mat-header-cell",25)(34,ym,2,1,"mat-cell",26),P(),w(35,27),b(36,Am,2,1,"mat-header-cell",25)(37,Em,4,6,"mat-cell",28),P(),w(38,29),b(39,Tm,2,1,"mat-header-cell",25)(40,wm,2,1,"mat-cell",26),P(),w(41,30),b(42,Pm,2,1,"mat-header-cell",25)(43,Rm,3,3,"mat-cell",26),P(),w(44,31),b(45,xm,2,1,"mat-header-cell",25)(46,Dm,3,3,"mat-cell",26),P(),w(47,32),b(48,km,2,1,"mat-header-cell",25)(49,Lm,3,3,"mat-cell",26),P(),w(50,33),b(51,Vm,2,1,"mat-header-cell",25)(52,Nm,3,3,"mat-cell",26),P(),w(53,34),b(54,Bm,2,1,"mat-header-cell",35)(55,Fm,3,3,"mat-cell",26),P(),w(56,36),b(57,Gm,2,1,"mat-header-cell",35)(58,Om,3,3,"mat-cell",26),P(),w(59,37),b(60,Hm,3,3,"mat-header-cell",38)(61,Wm,6,1,"mat-cell",39),P(),w(62,40),b(63,Ym,14,8,"mat-cell",26),P(),b(64,Zm,1,0,"mat-header-row",41)(65,$m,1,2,"mat-row",42)(66,ed,1,5,"mat-row",43),a(),P(),w(67,44),r(68,"mat-paginator",45,1),v("page",function(c){return p(s),u(t.onTablePageingData(c))}),a(),P(),a()}i&2&&(m("ngIf",(t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0),o(),m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!t.requestLinkApiPathId||t.requestLinkApiPathId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),m("ngIf",(t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0),o(4),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),m("checked",t.optionsSearch.data.show),o(),g("",M(16,28,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),g("",M(20,30,"ACTION.STATIST")," "),o(3),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),m("dataSource",t.tableSource),o(34),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(),m("matRowDefColumns",Ne(32,Sm)),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ne(33,hm)))},dependencies:[je,O,fi,Ge,Te,Ke,Je,Xe,Ye,Ze,$e,et,it,at,nt,tt,st,ot,rt,lt,ct,St,ht,gt,Mt,Mn,Fn,Tt,F,gn,Ri,Lt,_t,yt,Bo],encapsulation:2});var Zi=Gn;function td(n,l){if(n&1){let e=I();r(0,"li")(1,"mat-checkbox",1),v("change",function(){let t=p(e).$implicit,s=S();return u(s.onActionSelect(t))}),d(2),a()()}if(n&2){let e=l.$implicit,i=S();o(),m("checked",i.fieldsStatus.get(e.value))("disabled",i.optionDisabled),o(),g(" ",e.title," ")}}var Qi=class Qi{constructor(l){this.translate=l;this.id=++Qi.nextId;this.modelChange=new qe;this.dataModelResult=new G;this.optionDisabled=!1;this.optionLabel="";this.optionRequired=!1;this.dataIdsSelect=[];this.formControl=new ei;this.fieldsStatus=new Map;this.optionPlaceholder="";this.optionSelectAdded=new qe;this.optionSelectRemoved=new qe;this.optionReload=()=>this.onActionButtonReload()}set model(l){this.onActionSelectForce(l)}set optionDataListResult(l){this.dataModelResult=l,this.dataModelResult.listItems.forEach(e=>this.fieldsStatus.set(e.value,!1)),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0)),this.dataModelResult.listItems.forEach(e=>{this.fieldsStatus.get(e.value)&&this.dataIdsSelect.push(e.value)})}ngOnInit(){}onActionSelect(l){this.fieldsStatus.get(l.value)?(this.fieldsStatus.set(l.value,!1),this.optionSelectRemoved.emit(l),this.dataIdsSelect.splice(this.dataIdsSelect.indexOf(l.value),1)):(this.fieldsStatus.set(l.value,!0),this.optionSelectAdded.emit(l),this.dataIdsSelect.push(l.value)),this.modelChange.emit(this.dataIdsSelect)}onActionSelectForce(l){typeof l==typeof Array(Number)?l.forEach(e=>{this.dataIdsSelect.indexOf(e)<0&&this.dataIdsSelect.push(e)}):typeof l==typeof Array(Tr)&&l.forEach(e=>{this.dataIdsSelect.push(e.value)}),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){}};Qi.nextId=0,Qi.\u0275fac=function(e){return new(e||Qi)(C(L))},Qi.\u0275cmp=D({type:Qi,selectors:[["app-cms-enum-x-selectionlist"]],inputs:{model:"model",optionDisabled:"optionDisabled",optionLabel:"optionLabel",optionRequired:"optionRequired",optionDataListResult:"optionDataListResult",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload"},outputs:{modelChange:"modelChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(e,i){e&1&&(r(0,"ul"),b(1,td,3,3,"li",0),a()),e&2&&(o(),m("ngForOf",i.dataModelResult.listItems))},dependencies:[we,Po],encapsulation:2});var On=Qi;var nd=["vform"];function od(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",35),E("modelChange",function(t){p(e);let s=S();return A(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();y("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function rd(n,l){n&1&&_(0,"i",36)}function ad(n,l){n&1&&_(0,"i",37)}function sd(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function ld(n,l){if(n&1){let e=I();r(0,"app-cms-enum-x-selector",38),E("modelChange",function(t){p(e);let s=S();return A(s.dataModel.messageType,t)||(s.dataModel.messageType=t),u(t)}),a()}if(n&2){let e=S();m("optionDataListResult",e.dataModelSmsMessageTypeEnumResult),y("model",e.dataModel.messageType),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.messageType==null?null:e.fieldsInfo.messageType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function cd(n,l){if(n&1){let e=I();r(0,"div",39)(1,"div",40)(2,"h5",41),d(3),a()(),r(4,"div",42)(5,"div",43)(6,"input",44),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.serviceDeliveryCostBase,t)||(s.dataModel.serviceDeliveryCostBase=t),u(t)}),a(),_(7,"label",45),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.serviceDeliveryCostBase==null?null:e.fieldsInfo.serviceDeliveryCostBase.fieldTitle," "),o(3),y("ngModel",e.dataModel.serviceDeliveryCostBase)}}function md(n,l){if(n&1){let e=I();r(0,"div",39)(1,"div",40)(2,"h5",46),d(3),a()(),r(4,"div",42)(5,"div",43)(6,"input",47),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.endUserDeliveryCostBase,t)||(s.dataModel.endUserDeliveryCostBase=t),u(t)}),a(),_(7,"label",48),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.endUserDeliveryCostBase==null?null:e.fieldsInfo.endUserDeliveryCostBase.fieldTitle," "),o(3),y("ngModel",e.dataModel.endUserDeliveryCostBase)}}function dd(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",49),d(2),a(),r(3,"input",50,6),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.servicePricePerPage,t)||(s.dataModel.servicePricePerPage=t),u(t)}),a()()}if(n&2){let e=S();o(2),T(e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle),o(),y("ngModel",e.dataModel.servicePricePerPage),m("disabled",!(e.fieldsInfo.servicePricePerPage!=null&&e.fieldsInfo.servicePricePerPage.accessAddField))}}function pd(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",51),d(2),a(),r(3,"input",52,7),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.endUserPricePerPage,t)||(s.dataModel.endUserPricePerPage=t),u(t)}),a()()}if(n&2){let e=S();o(2),T(e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle),o(),y("ngModel",e.dataModel.endUserPricePerPage),m("disabled",!(e.fieldsInfo.endUserPricePerPage!=null&&e.fieldsInfo.endUserPricePerPage.accessAddField))}}function ud(n,l){if(n&1){let e=I();r(0,"mat-chip",53),v("removed",function(){let t=p(e).$implicit,s=S();return u(s.removeTagRegulatorNumberList(t))}),r(1,"div",54),d(2),a(),r(3,"button",55)(4,"mat-icon"),d(5,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(2),T(e)}}function fd(n,l){if(n&1&&(r(0,"div"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e," ")}}function Sd(n,l){if(n&1){let e=I();r(0,"mat-chip",53),v("removed",function(){let t=p(e).$implicit,s=S();return u(s.removeTagServicePagination(t))}),d(1),r(2,"button",55)(3,"mat-icon"),d(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),g(" ",e," ")}}function hd(n,l){if(n&1&&(r(0,"div"),d(1),a()),n&2){let e=l.$implicit,i=l.index;o(),be(" ",i+1," - ",e," ")}}function gd(n,l){if(n&1){let e=I();r(0,"mat-chip",53),v("removed",function(){let t=p(e).$implicit,s=S();return u(s.removeTagEndUserPagination(t))}),d(1),r(2,"button",55)(3,"mat-icon"),d(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),g(" ",e," ")}}function Md(n,l){if(n&1&&(r(0,"div"),d(1),a()),n&2){let e=l.$implicit,i=l.index;o(),be(" ",i+1," - ",e," ")}}function _d(n,l){if(n&1){let e=I();r(0,"app-cms-enum-x-selectionlist",56),E("modelChange",function(t){p(e);let s=S();return A(s.dataModel.outBoxTypeList,t)||(s.dataModel.outBoxTypeList=t),u(t)}),a()}if(n&2){let e=S();m("optionDataListResult",e.dataModelSmsOutBoxTypeEnumResult),y("model",e.dataModel.outBoxTypeList),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.outBoxTypeJson==null?null:e.fieldsInfo.outBoxTypeJson.fieldTitle)("optionRequired",!0)}}function Cd(n,l){if(n&1){let e=I();r(0,"div",57)(1,"button",58),v("click",function(){p(e);let t=S();return u(t.onFormCancel())}),_(2,"i",59),d(3),h(4,"translate"),a(),r(5,"button",60),_(6,"i",61),d(7),h(8,"translate"),a()()}if(n&2){S();let e=R(10);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var Hn=class Hn extends pt{constructor(e,i,t,s,f,c,k,H){super(s,new li,c,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiPathPriceServiceService=s;this.cmsToastrService=f;this.publicHelper=c;this.cdr=k;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.requestId="";this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new li;this.formInfo=new re;this.dataModelSmsMessageTypeEnumResult=new G;this.dataModelSmsOutBoxTypeEnumResult=new G;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(e.linkApiPathId?.length>0&&(this.dataModel.linkApiPathId=e.linkApiPathId),e.id&&(this.requestId=e.id))}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.requestId?this.DataGetOneContent():this.DataGetAccess(),this.getSmsMessageTypeEnum(),this.getSmsOutBoxTypeEnum()}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPriceServiceService.setAccessLoad(),this.smsMainApiPathPriceServiceService.setAccessDataType(Fe.Editor),this.smsMainApiPathPriceServiceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.dataModel.title=this.dataModel.title+" (COPY)",this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPriceServiceService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiPathId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiPathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTagRegulatorNumberList(e){let i=(e.value||"").trim();this.dataModel.regulatorNumberList||(this.dataModel.regulatorNumberList=[]),i&&this.dataModel.regulatorNumberList.push(i),e.chipInput.clear()}removeTagRegulatorNumberList(e){let i=this.dataModel.regulatorNumberList.indexOf(e);i>=0&&this.dataModel.regulatorNumberList.splice(i,1)}addTagServicePagination(e){var t=+(e.value||"").trim()||-1;this.dataModel.serviceMessageLengthPaginationList||(this.dataModel.serviceMessageLengthPaginationList=[]),t>=0&&this.dataModel.serviceMessageLengthPaginationList.push(t),e.chipInput.clear()}removeTagServicePagination(e){let i=this.dataModel.serviceMessageLengthPaginationList.indexOf(e);i>=0&&this.dataModel.serviceMessageLengthPaginationList.splice(i,1)}addTagEndUserPagination(e){let i=(e.value||"").trim();this.dataModel.endUserMessageLengthPaginationList||(this.dataModel.endUserMessageLengthPaginationList=[]);var t=+i||-1;t>=0&&this.dataModel.endUserMessageLengthPaginationList.push(t),e.chipInput.clear()}removeTagEndUserPagination(e){let i=this.dataModel.endUserMessageLengthPaginationList.indexOf(e);i>=0&&this.dataModel.endUserMessageLengthPaginationList.splice(i,1)}};Hn.\u0275fac=function(i){return new(i||Hn)(C(oe),C(ne),C(ke),C(pn),C(N),C(B),C(V),C(L))},Hn.\u0275cmp=D({type:Hn,selectors:[["app-sms-apipathpriceservice-add"]],viewQuery:function(i,t){if(i&1&&$(nd,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:99,vars:97,consts:[["vform","ngForm"],["Title",""],["chipListRegulatorNumberList",""],["tagInput",""],["chipListServicePagination",""],["chipListEndUserPagination",""],["servicePricePerPage",""],["endUserPricePerPage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"divider","mt-3","mb-3"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.Number'|translate"],[3,"removed",4,"ngFor","ngForOf"],[1,"input-ltr",3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","modelChange",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.serviceDeliveryCostBase",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.serviceDeliveryCostBase","name","dataModel.serviceDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.serviceDeliveryCostBase",1,"custom-control-label"],["data-trigger-switch","dataModel.endUserDeliveryCostBase",1,"font-600","font-14"],["type","checkbox","id","dataModel.endUserDeliveryCostBase","name","dataModel.endUserDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.endUserDeliveryCostBase",1,"custom-control-label"],["for","dataModel.servicePricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.servicePricePerPage","placeholder","0","id","dataModel.servicePricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.endUserPricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.endUserPricePerPage","placeholder","0","id","dataModel.endUserPricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[3,"removed"],[1,"input-ltr"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",8),_(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),d(4),a(),r(5,"p"),d(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",12),r(9,"form",13,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(11,od,1,5,"app-cms-enum-record-status-selector",14),r(12,"div",15)(13,"label",16),d(14),a(),r(15,"input",17,1),E("ngModelChange",function(c){return p(s),A(t.dataModel.title,c)||(t.dataModel.title=c),u(c)}),a(),b(17,rd,1,0,"i",18)(18,ad,1,0,"i",19),r(19,"em"),d(20),a(),b(21,sd,5,3,"mat-error",20),a(),r(22,"app-sms-apipath-selector",21),h(23,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorSelectLinkApiPathId(c))}),b(24,ld,1,6,"app-cms-enum-x-selector",22),a(),r(25,"app-cms-user-selector",23),h(26,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCmsUser(c))}),a(),r(27,"app-cms-site-selector",23),h(28,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCmsSite(c))}),a(),r(29,"app-cms-usergroup-selector",23),h(30,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCoreUserGroup(c))}),a(),r(31,"app-cms-sitecategory-selector",23),h(32,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCoreSiteCategory(c))}),a(),_(33,"div",24),b(34,cd,8,2,"div",25)(35,md,8,2,"div",25),_(36,"div",24),b(37,dd,5,3,"div",26)(38,pd,5,3,"div",26),r(39,"b"),d(40),h(41,"translate"),a(),r(42,"mat-form-field",27)(43,"mat-label"),d(44),h(45,"translate"),a(),r(46,"mat-chip-grid",28,2),b(48,ud,6,1,"mat-chip",29),r(49,"input",30,3),h(51,"translate"),v("matChipInputTokenEnd",function(c){return p(s),u(t.addTagRegulatorNumberList(c))}),a()()(),d(52," \u0645\u062B\u0627\u0644 :00983 009715 0098930 "),r(53,"div"),d(54),h(55,"translate"),_(56,"br"),b(57,fd,2,1,"div",31),a(),_(58,"br"),r(59,"b"),d(60),h(61,"translate"),a(),r(62,"mat-form-field",27)(63,"mat-label"),d(64),h(65,"translate"),a(),r(66,"mat-chip-grid",28,4),b(68,Sd,5,1,"mat-chip",29),r(69,"input",32,3),h(71,"translate"),v("matChipInputTokenEnd",function(c){return p(s),u(t.addTagServicePagination(c))}),a()()(),r(72,"div"),d(73),h(74,"translate"),_(75,"br"),b(76,hd,2,2,"div",31),a(),_(77,"br"),r(78,"b"),d(79),h(80,"translate"),a(),r(81,"mat-form-field",27)(82,"mat-label"),d(83),h(84,"translate"),a(),r(85,"mat-chip-grid",28,5),b(87,gd,5,1,"mat-chip",29),r(88,"input",32,3),h(90,"translate"),v("matChipInputTokenEnd",function(c){return p(s),u(t.addTagEndUserPagination(c))}),a()()(),r(91,"div"),d(92),h(93,"translate"),_(94,"br"),b(95,Md,2,2,"div",31),a(),_(96,"br"),b(97,_d,1,5,"app-cms-enum-x-selectionlist",33)(98,Cd,9,7,"div",34),a()()()}if(i&2){let s=R(16),f=R(47),c=R(67),k=R(86);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,61,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(3),m("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(3),T(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),m("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),y("ngModel",t.dataModel.title),o(2),m("ngIf",!s.value),o(),m("ngIf",s.value),o(2),g("",s.value.length," / 100"),o(),m("ngIf",s.errors==null?null:s.errors.required),o(),m("optionSelectForce",t.dataModel.linkApiPathId)("optionPlaceholder",M(23,63,"TITLE.Direction")),o(2),m("ngIf",t.fieldsInfo.messageType==null?null:t.fieldsInfo.messageType.accessWatchField),o(),m("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",M(26,65,"TITLE.USER")),o(2),m("optionDisabled",!(t.fieldsInfo.linkCoreSiteId!=null&&t.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",M(28,67,"TITLE.SITE")),o(2),m("optionDisabled",!(t.fieldsInfo.linkCoreUserGroupId!=null&&t.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",M(30,69,"TITLE.Type_Usage")),o(2),m("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",M(32,71,"TITLE.Site_Type")),o(3),m("ngIf",t.fieldsInfo.serviceDeliveryCostBase==null?null:t.fieldsInfo.serviceDeliveryCostBase.accessWatchField),o(),m("ngIf",t.fieldsInfo.endUserDeliveryCostBase==null?null:t.fieldsInfo.endUserDeliveryCostBase.accessWatchField),o(2),m("ngIf",t.fieldsInfo.servicePricePerPage==null?null:t.fieldsInfo.servicePricePerPage.accessWatchField),o(),m("ngIf",t.fieldsInfo.endUserPricePerPage==null?null:t.fieldsInfo.endUserPricePerPage.accessWatchField),o(2),T(M(41,73,"TITLE.ACCEPTABLE_PREFIXES")),o(4),T(M(45,75,"TITLE.ACCEPTABLE_PREFIXES")),o(4),m("ngForOf",t.dataModel.regulatorNumberList),o(),m("placeholder",M(51,77,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",f)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(5),g(" ",M(55,79,"TITLE.ACCEPTABLE_PREFIXES")," "),o(3),m("ngForOf",t.dataModel.regulatorNumberList),o(3),T(M(61,81,"TITLE.PROVIDER_PAGINATION")),o(4),T(M(65,83,"TITLE.PROVIDER_PAGINATION")),o(4),m("ngForOf",t.dataModel.serviceMessageLengthPaginationList),o(),m("placeholder",M(71,85,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",c)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),g(" ",M(74,87,"TITLE.PROVIDER_PAGINATION")," "),o(3),m("ngForOf",t.dataModel.serviceMessageLengthPaginationList),o(3),T(M(80,89,"TITLE.RECIPIENT_PAGINATION")),o(4),T(M(84,91,"TITLE.RECIPIENT_PAGINATION")),o(4),m("ngForOf",t.dataModel.endUserMessageLengthPaginationList),o(),m("placeholder",M(90,93,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",k)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),g(" ",M(93,95,"TITLE.RECIPIENT_PAGINATION")," "),o(3),m("ngForOf",t.dataModel.endUserMessageLengthPaginationList),o(2),m("ngIf",t.fieldsInfo.outBoxTypeJson==null?null:t.fieldsInfo.outBoxTypeJson.accessWatchField),o(),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[we,O,ce,z,ti,Le,K,se,_e,Ae,Ee,ie,le,Ti,wi,Pi,Ei,Ai,yi,ue,Te,J,Ut,fe,Oo,On,qt,It,jt,q,me,ii,Kt,F],encapsulation:2});var ho=Hn;var bd=["vform"];function vd(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",29),E("modelChange",function(t){p(e);let s=S();return A(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();y("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Id(n,l){n&1&&_(0,"i",36)}function yd(n,l){n&1&&_(0,"i",37)}function Ad(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Ed(n,l){if(n&1){let e=I();r(0,"div",30)(1,"label",31),d(2),a(),r(3,"input",32,5),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),a(),b(5,Id,1,0,"i",33)(6,yd,1,0,"i",34),r(7,"em"),d(8),a(),b(9,Ad,5,3,"mat-error",35),a()}if(n&2){let e=R(4),i=S();o(2),T(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.title),m("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),m("ngIf",!e.value),o(),m("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function Td(n,l){if(n&1){let e=I();r(0,"app-cms-enum-x-selector",38),E("modelChange",function(t){p(e);let s=S();return A(s.dataModel.messageType,t)||(s.dataModel.messageType=t),u(t)}),a()}if(n&2){let e=S();m("optionDataListResult",e.dataModelSmsMessageTypeEnumResult),y("model",e.dataModel.messageType),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.messageType==null?null:e.fieldsInfo.messageType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function wd(n,l){if(n&1){let e=I();r(0,"div",39)(1,"div",40)(2,"h5",41),d(3),a()(),r(4,"div",42)(5,"div",43)(6,"input",44),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.serviceDeliveryCostBase,t)||(s.dataModel.serviceDeliveryCostBase=t),u(t)}),a(),_(7,"label",45),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.serviceDeliveryCostBase==null?null:e.fieldsInfo.serviceDeliveryCostBase.fieldTitle," "),o(3),y("ngModel",e.dataModel.serviceDeliveryCostBase)}}function Pd(n,l){if(n&1){let e=I();r(0,"div",39)(1,"div",40)(2,"h5",46),d(3),a()(),r(4,"div",42)(5,"div",43)(6,"input",47),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.endUserDeliveryCostBase,t)||(s.dataModel.endUserDeliveryCostBase=t),u(t)}),a(),_(7,"label",48),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.endUserDeliveryCostBase==null?null:e.fieldsInfo.endUserDeliveryCostBase.fieldTitle," "),o(3),y("ngModel",e.dataModel.endUserDeliveryCostBase)}}function Rd(n,l){if(n&1){let e=I();r(0,"div",30)(1,"label",49),d(2),a(),r(3,"input",50,6),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.servicePricePerPage,t)||(s.dataModel.servicePricePerPage=t),u(t)}),a()()}if(n&2){let e=S();o(2),T(e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle),o(),y("ngModel",e.dataModel.servicePricePerPage),m("disabled",!(e.fieldsInfo.servicePricePerPage!=null&&e.fieldsInfo.servicePricePerPage.accessEditField))}}function xd(n,l){if(n&1){let e=I();r(0,"div",30)(1,"label",51),d(2),a(),r(3,"input",52,7),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.endUserPricePerPage,t)||(s.dataModel.endUserPricePerPage=t),u(t)}),a()()}if(n&2){let e=S();o(2),T(e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle),o(),y("ngModel",e.dataModel.endUserPricePerPage),m("disabled",!(e.fieldsInfo.endUserPricePerPage!=null&&e.fieldsInfo.endUserPricePerPage.accessEditField))}}function Dd(n,l){if(n&1){let e=I();r(0,"mat-chip",53),v("removed",function(){let t=p(e).$implicit,s=S();return u(s.removeTagRegulatorNumberList(t))}),r(1,"div",54),d(2),a(),r(3,"button",55)(4,"mat-icon"),d(5,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(2),T(e)}}function kd(n,l){if(n&1&&(r(0,"div"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e," ")}}function Ld(n,l){if(n&1){let e=I();r(0,"mat-chip",53),v("removed",function(){let t=p(e).$implicit,s=S();return u(s.removeTagServicePagination(t))}),d(1),r(2,"button",55)(3,"mat-icon"),d(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),g(" ",e," ")}}function Vd(n,l){if(n&1&&(r(0,"div"),d(1),a()),n&2){let e=l.$implicit,i=l.index;o(),be(" ",i+1," - ",e," ")}}function Nd(n,l){if(n&1){let e=I();r(0,"mat-chip",53),v("removed",function(){let t=p(e).$implicit,s=S();return u(s.removeTagEndUserPagination(t))}),d(1),r(2,"button",55)(3,"mat-icon"),d(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),g(" ",e," ")}}function Bd(n,l){if(n&1&&(r(0,"div"),d(1),a()),n&2){let e=l.$implicit,i=l.index;o(),be(" ",i+1," - ",e," ")}}function Fd(n,l){if(n&1){let e=I();r(0,"app-cms-enum-x-selectionlist",56),E("modelChange",function(t){p(e);let s=S();return A(s.dataModel.outBoxTypeList,t)||(s.dataModel.outBoxTypeList=t),u(t)}),a()}if(n&2){let e=S();m("optionDataListResult",e.dataModelSmsOutBoxTypeEnumResult),y("model",e.dataModel.outBoxTypeList),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.outBoxTypeJson==null?null:e.fieldsInfo.outBoxTypeJson.fieldTitle)("optionRequired",!0)}}function Gd(n,l){if(n&1){let e=I();r(0,"div",57)(1,"button",58),v("click",function(){p(e);let t=S();return u(t.onFormCancel())}),_(2,"i",59),d(3),h(4,"translate"),a(),r(5,"button",60),_(6,"i",61),d(7),h(8,"translate"),a()()}if(n&2){S();let e=R(10);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var Wn=class Wn extends ut{constructor(e,i,t,s,f,c,k,H){super(s,new li,c,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiPathPriceServiceService=s;this.cmsToastrService=f;this.publicHelper=c;this.cdr=k;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ze;this.dataModel=new li;this.formInfo=new re;this.dataModelSmsMessageTypeEnumResult=new G;this.dataModelSmsOutBoxTypeEnumResult=new G;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getSmsMessageTypeEnum(),this.getSmsOutBoxTypeEnum()}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPriceServiceService.setAccessLoad(),this.smsMainApiPathPriceServiceService.setAccessDataType(Fe.Editor),this.smsMainApiPathPriceServiceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPriceServiceService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiPathId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiPathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTagRegulatorNumberList(e){let i=(e.value||"").trim();this.dataModel.regulatorNumberList||(this.dataModel.regulatorNumberList=[]),i&&this.dataModel.regulatorNumberList.push(i),e.chipInput.clear()}removeTagRegulatorNumberList(e){let i=this.dataModel.regulatorNumberList.indexOf(e);i>=0&&this.dataModel.regulatorNumberList.splice(i,1)}addTagServicePagination(e){let i=(e.value||"").trim();this.dataModel.serviceMessageLengthPaginationList||(this.dataModel.serviceMessageLengthPaginationList=[]);var t=+i||-1;t>=0&&this.dataModel.serviceMessageLengthPaginationList.push(t),e.chipInput.clear()}removeTagServicePagination(e){let i=this.dataModel.serviceMessageLengthPaginationList.indexOf(e);i>=0&&this.dataModel.serviceMessageLengthPaginationList.splice(i,1)}addTagEndUserPagination(e){let i=(e.value||"").trim();this.dataModel.endUserMessageLengthPaginationList||(this.dataModel.endUserMessageLengthPaginationList=[]);var t=+i||-1;t>=0&&this.dataModel.endUserMessageLengthPaginationList.push(t),e.chipInput.clear()}removeTagEndUserPagination(e){let i=this.dataModel.endUserMessageLengthPaginationList.indexOf(e);i>=0&&this.dataModel.endUserMessageLengthPaginationList.splice(i,1)}};Wn.\u0275fac=function(i){return new(i||Wn)(C(oe),C(ne),C(ke),C(pn),C(N),C(B),C(V),C(L))},Wn.\u0275cmp=D({type:Wn,selectors:[["app-sms-apipathpriceservice-edit"]],viewQuery:function(i,t){if(i&1&&$(bd,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:90,vars:90,consts:[["vform","ngForm"],["chipListRegulatorNumberList",""],["tagInput",""],["chipListServicePagination",""],["chipListEndUserPagination",""],["Title",""],["servicePricePerPage",""],["endUserPricePerPage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"divider","mt-3","mb-3"],["class","d-flex mb-3",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.Number'|translate"],[3,"removed",4,"ngFor","ngForOf"],[1,"input-ltr",3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","modelChange",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.serviceDeliveryCostBase",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.serviceDeliveryCostBase","name","dataModel.serviceDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.serviceDeliveryCostBase",1,"custom-control-label"],["data-trigger-switch","dataModel.endUserDeliveryCostBase",1,"font-600","font-14"],["type","checkbox","id","dataModel.endUserDeliveryCostBase","name","dataModel.endUserDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.endUserDeliveryCostBase",1,"custom-control-label"],["for","dataModel.servicePricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.servicePricePerPage","placeholder","0","id","dataModel.servicePricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.endUserPricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.endUserPricePerPage","placeholder","0","id","dataModel.endUserPricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[3,"removed"],[1,"input-ltr"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",8),_(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),d(4),a(),r(5,"p"),d(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",12),r(9,"form",13,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(11,vd,1,5,"app-cms-enum-record-status-selector",14)(12,Ed,10,9,"div",15),r(13,"app-sms-apipath-selector",16),h(14,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorSelectLinkApiPathId(c))}),a(),b(15,Td,1,6,"app-cms-enum-x-selector",17),r(16,"app-cms-user-selector",18),h(17,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCmsUser(c))}),a(),r(18,"app-cms-site-selector",18),h(19,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCmsSite(c))}),a(),r(20,"app-cms-usergroup-selector",18),h(21,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCoreUserGroup(c))}),a(),r(22,"app-cms-sitecategory-selector",18),h(23,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCoreSiteCategory(c))}),a(),_(24,"div",19),b(25,wd,8,2,"div",20)(26,Pd,8,2,"div",20),_(27,"div",19),b(28,Rd,5,3,"div",15)(29,xd,5,3,"div",15),_(30,"br"),r(31,"b"),d(32),h(33,"translate"),a(),r(34,"mat-form-field",21)(35,"mat-label"),d(36),h(37,"translate"),a(),r(38,"mat-chip-grid",22,1),b(40,Dd,6,1,"mat-chip",23),r(41,"input",24,2),h(43,"translate"),v("matChipInputTokenEnd",function(c){return p(s),u(t.addTagRegulatorNumberList(c))}),a()()(),r(44,"div"),d(45),h(46,"translate"),_(47,"br"),b(48,kd,2,1,"div",25),a(),_(49,"br"),r(50,"b"),d(51),h(52,"translate"),a(),r(53,"mat-form-field",21)(54,"mat-label"),d(55),h(56,"translate"),a(),r(57,"mat-chip-grid",22,3),b(59,Ld,5,1,"mat-chip",23),r(60,"input",26,2),h(62,"translate"),v("matChipInputTokenEnd",function(c){return p(s),u(t.addTagServicePagination(c))}),a()()(),r(63,"div"),d(64),h(65,"translate"),_(66,"br"),b(67,Vd,2,2,"div",25),a(),_(68,"br"),r(69,"b"),d(70),h(71,"translate"),a(),r(72,"mat-form-field",21)(73,"mat-label"),d(74),h(75,"translate"),a(),r(76,"mat-chip-grid",22,4),b(78,Nd,5,1,"mat-chip",23),r(79,"input",26,2),h(81,"translate"),v("matChipInputTokenEnd",function(c){return p(s),u(t.addTagEndUserPagination(c))}),a()()(),r(82,"div"),d(83),h(84,"translate"),_(85,"br"),b(86,Bd,2,2,"div",25),a(),_(87,"br"),b(88,Fd,1,5,"app-cms-enum-x-selectionlist",27)(89,Gd,9,7,"div",28),a()()()}if(i&2){let s=R(39),f=R(58),c=R(77);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,54,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(3),m("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),m("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),m("optionSelectForce",t.dataModel.linkApiPathId)("optionPlaceholder",M(14,56,"TITLE.Direction")),o(2),m("ngIf",t.fieldsInfo.messageType==null?null:t.fieldsInfo.messageType.accessWatchField),o(),m("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",M(17,58,"TITLE.USER")),o(2),m("optionDisabled",!(t.fieldsInfo.linkCoreSiteId!=null&&t.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",M(19,60,"TITLE.SITE")),o(2),m("optionDisabled",!(t.fieldsInfo.linkCoreUserGroupId!=null&&t.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",M(21,62,"TITLE.Type_Usage")),o(2),m("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",M(23,64,"TITLE.Site_Type")),o(3),m("ngIf",t.fieldsInfo.serviceDeliveryCostBase==null?null:t.fieldsInfo.serviceDeliveryCostBase.accessWatchField),o(),m("ngIf",t.fieldsInfo.endUserDeliveryCostBase==null?null:t.fieldsInfo.endUserDeliveryCostBase.accessWatchField),o(2),m("ngIf",t.fieldsInfo.servicePricePerPage==null?null:t.fieldsInfo.servicePricePerPage.accessWatchField),o(),m("ngIf",t.fieldsInfo.endUserPricePerPage==null?null:t.fieldsInfo.endUserPricePerPage.accessWatchField),o(3),T(M(33,66,"TITLE.ACCEPTABLE_PREFIXES")),o(4),T(M(37,68,"TITLE.ACCEPTABLE_PREFIXES")),o(4),m("ngForOf",t.dataModel.regulatorNumberList),o(),m("placeholder",M(43,70,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",s)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),g(" ",M(46,72,"TITLE.ACCEPTABLE_PREFIXES")," "),o(3),m("ngForOf",t.dataModel.regulatorNumberList),o(3),T(M(52,74,"TITLE.PROVIDER_PAGINATION")),o(4),T(M(56,76,"TITLE.PROVIDER_PAGINATION")),o(4),m("ngForOf",t.dataModel.serviceMessageLengthPaginationList),o(),m("placeholder",M(62,78,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",f)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),g(" ",M(65,80,"TITLE.PROVIDER_PAGINATION")," "),o(3),m("ngForOf",t.dataModel.serviceMessageLengthPaginationList),o(3),T(M(71,82,"TITLE.RECIPIENT_PAGINATION")),o(4),T(M(75,84,"TITLE.RECIPIENT_PAGINATION")),o(4),m("ngForOf",t.dataModel.endUserMessageLengthPaginationList),o(),m("placeholder",M(81,86,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",c)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),g(" ",M(84,88,"TITLE.RECIPIENT_PAGINATION")," "),o(3),m("ngForOf",t.dataModel.endUserMessageLengthPaginationList),o(2),m("ngIf",t.fieldsInfo.outBoxTypeJson==null?null:t.fieldsInfo.outBoxTypeJson.accessWatchField),o(),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[we,O,ce,z,ti,Le,K,se,_e,Ae,Ee,ie,le,Ti,wi,Pi,Ei,Ai,yi,ue,Te,J,Ut,fe,Oo,On,qt,It,jt,q,me,ii,Kt,F],encapsulation:2});var Zo=Wn;var Hd=()=>["expandedDetail"],Wd=()=>[5,10,20,100],Ud=n=>({display:n});function qd(n,l){if(n&1&&_(0,"app-sms-apipath-header",49),n&2){let e=S();m("optionId",e.requestLinkApiPathId)}}function jd(n,l){if(n&1){let e=I();r(0,"a",50),v("click",function(){p(e);let t=S();return u(t.onActionBackToParent())}),_(1,"i",51),a()}}function Qd(n,l){if(n&1){let e=I();r(0,"div",52)(1,"a",53),v("click",function(){p(e);let t=S();return u(t.onActionButtonNewRow())}),_(2,"i",54)(3,"br"),a(),r(4,"p",55),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.ADD")," "))}function zd(n,l){if(n&1){let e=I();r(0,"div",52)(1,"a",56),v("click",function(){p(e);let t=S();return u(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",57)(3,"br"),a(),r(4,"p",55),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.EDIT")," "))}function Kd(n,l){if(n&1){let e=I();r(0,"div",52)(1,"a",58),v("click",function(){p(e);let t=S();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",59)(3,"br"),a(),r(4,"p",55),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DELETE")," "))}function Jd(n,l){if(n&1){let e=I();r(0,"div",52)(1,"a",60),v("click",function(){p(e);let t=S();return u(t.onActionButtonCopyRow(t.tableRowSelected))}),_(2,"i",61)(3,"br"),a(),r(4,"p",55),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.COPY")," "))}function Xd(n,l){if(n&1&&(r(0,"mat-header-cell",62),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Yd(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.id," ")}}function Zd(n,l){if(n&1&&(r(0,"mat-header-cell",62),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function $d(n,l){if(n&1&&(r(0,"mat-cell",63),h(1,"statusCellClass"),_(2,"i",63),h(3,"statusIconClass"),a()),n&2){let e=l.$implicit;m("ngClass",M(1,2,e.recordStatus)),o(2),m("ngClass",M(3,4,e.recordStatus))}}function ep(n,l){if(n&1&&(r(0,"mat-header-cell",62),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function tp(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.title," ")}}function ip(n,l){if(n&1&&(r(0,"mat-header-cell",62),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.linkApiPathId==null?null:e.fieldsInfo.linkApiPathId.fieldTitle," ")}}function np(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=S();o(),T(mn(2,1,e.linkApiPathId,i.dataModelPrivateResult.listItems))}}function op(n,l){if(n&1&&(r(0,"mat-header-cell",62),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.regulatorNumber==null?null:e.fieldsInfo.regulatorNumber.fieldTitle," ")}}function rp(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.regulatorNumber," ")}}function ap(n,l){n&1&&(r(0,"mat-header-cell",62),d(1),h(2,"translate"),a()),n&2&&(o(),g(" ",M(2,1,"TITLE.ServiceMaxPage")," "))}function sp(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.serviceMessageLengthPaginationList==null?null:e.serviceMessageLengthPaginationList.length," ")}}function lp(n,l){n&1&&(r(0,"mat-header-cell",62),d(1),h(2,"translate"),a()),n&2&&(o(),g(" ",M(2,1,"TITLE.endUserMaxPage")," "))}function cp(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.endUserMessageLengthPaginationList==null?null:e.endUserMessageLengthPaginationList.length," ")}}function mp(n,l){if(n&1&&(r(0,"mat-header-cell",62),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle," ")}}function dp(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.servicePricePerPage," ")}}function pp(n,l){if(n&1&&(r(0,"mat-header-cell",62),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle," ")}}function up(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.endUserPricePerPage," ")}}function fp(n,l){if(n&1&&(r(0,"mat-header-cell",62),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.messageType==null?null:e.fieldsInfo.messageType.fieldTitle," ")}}function Sp(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"enums"),a()),n&2){let e=l.$implicit,i=S();o(),g(" ",mn(2,1,e.messageType,i.dataModelSmsMessageTypeEnumResult.listItems)," ")}}function hp(n,l){n&1&&(r(0,"mat-header-cell"),d(1),h(2,"translate"),a()),n&2&&(o(),g(" ",M(2,1,"TITLE.OPTION")," "))}function gp(n,l){if(n&1&&(r(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),d(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),m("matMenuTriggerFor",e)}}function Mp(n,l){n&1&&_(0,"mat-header-row")}function _p(n,l){if(n&1){let e=I();r(0,"mat-row",66),v("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Cp(n,l){if(n&1){let e=I();r(0,"mat-row",67),v("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=p(e).$implicit,s=S();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,s=S();return u(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),m("ngStyle",ui(3,Ud,e.expanded===!0?"":"none"))}}function bp(n,l){if(n&1&&(r(0,"mat-cell")(1,"div")(2,"table")(3,"tr"),_(4,"th")(5,"th",68),a(),r(6,"tr")(7,"td"),d(8),a(),r(9,"td",68),d(10),a()(),r(11,"tr")(12,"td"),d(13),a(),r(14,"td",68),d(15),a()(),r(16,"tr")(17,"td"),d(18),a(),r(19,"td",68),d(20),a()(),r(21,"tr"),_(22,"td")(23,"td"),a()()()()),n&2){let e=l.$implicit,i=S();o(8),T(i.fieldsInfo.regulatorNumberJson==null?null:i.fieldsInfo.regulatorNumberJson.fieldTitle),o(2),T(e.regulatorNumberJson),o(3),g(" ",i.fieldsInfo.serviceMessageLengthPaginationJson==null?null:i.fieldsInfo.serviceMessageLengthPaginationJson.fieldTitle," "),o(2),g(" ",e.serviceMessageLengthPaginationJson," "),o(3),g(" ",i.fieldsInfo.endUserMessageLengthPaginationJson==null?null:i.fieldsInfo.endUserMessageLengthPaginationJson.fieldTitle," "),o(2),g(" ",e.endUserMessageLengthPaginationJson," ")}}var Un=class Un extends ft{constructor(e,i,t,s,f,c,k,H,Nt,Yt,Et,oi,ae,aa){super(e,new li,ae,c,H);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=s;this.router=f;this.tokenHelper=c;this.cdr=k;this.translate=H;this.smsMainApiPathService=Nt;this.cmsStoreService=Yt;this.smsEnumService=Et;this.pageInfo=oi;this.publicHelper=ae;this.dialog=aa;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.dataModelSmsMessageTypeEnumResult=new G;this.dataModelSmsOutBoxTypeEnumResult=new G;this.dataModelPrivateResult=new G;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","title","LinkApiPathId","messageType","serviceMaxPage","endUserMaxPage","servicePricePerPage","endUserPricePerPage"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","LinkApiPathId","messageType","servicePricePerPage","endUserPricePerPage"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Sr=>this.onSubmitOptionsSearch(Sr)},this.filteModelContent.sortColumn="LinkApiPathId",this.filteModelContent.sortType=j.Ascending}ngOnInit(){if(this.filteModelContent.sortColumn="LinkApiPathId",this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")),this.requestLinkApiPathId?.length>0){let e=new Q;e.propertyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ve(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getPrivateConfig(),this.getSmsMessageTypeEnum()}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getPrivateConfig(){let e=new Y;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new li);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new Q;t.propertyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ho,{height:"90%",panelClass:e,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:this.categoryModelSelected?.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Zo,{height:"90%",panelClass:i,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonCopyRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ho,{height:"90%",panelClass:i,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Q;f.propertyName="recordStatus",f.value=Be.Available,s.filters.push(f),this.contentService.ServiceGetCount(s).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};Un.\u0275fac=function(i){return new(i||Un)(C(pn),C(N),C(wt),C(We),C(Qe),C(xe),C(V),C(L),C(Gt),C(Re),C(ke),C(mt),C(B),C(Pe))},Un.\u0275cmp=D({type:Un,selectors:[["app-sms-apipathpriceservice-list"]],standalone:!1,features:[W],decls:78,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","LinkApiPathId"],["matColumnDef","RegulatorNumber"],["matColumnDef","serviceMaxPage"],["matColumnDef","endUserMaxPage"],["matColumnDef","servicePricePerPage"],["matColumnDef","endUserPricePerPage"],["matColumnDef","messageType"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedDetail"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"],[1,"col-form-label"]],template:function(i,t){if(i&1){let s=I();b(0,qd,1,1,"app-sms-apipath-header",3),r(1,"app-cms-html-list",4),E("optionActionGuideNoticeDisplayChange",function(c){return p(s),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),u(c)}),v("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),w(2,5),r(3,"app-sms-apipath-tree",6),v("optionChange",function(c){return p(s),u(t.onActionSelectorSelect(c))}),a(),P(),Ve(4,7)(5,8),w(6,9),b(7,jd,2,0,"a",10),r(8,"a",11),v("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),_(9,"i",12),a(),r(10,"a",11),v("click",function(){return p(s),u(t.onActionButtonReload())}),_(11,"i",13),a(),r(12,"a",14),v("click",function(){return p(s),u(t.onActionGridExpandRows(!0))}),_(13,"i",15),a(),r(14,"a",14),v("click",function(){return p(s),u(t.onActionGridExpandRows(!1))}),_(15,"i",16),a(),P(),w(16,17),r(17,"a",18),v("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(18,"mat-slide-toggle",19),d(19),h(20,"translate"),a(),r(21,"a",18),v("click",function(){return p(s),u(t.onActionButtonStatist())}),_(22,"mat-slide-toggle",19),d(23),h(24,"translate"),a(),P(),w(25,20),b(26,Qd,7,3,"div",21),P(),w(27,22),b(28,zd,7,3,"div",21)(29,Kd,7,3,"div",21)(30,Jd,7,3,"div",21),P(),w(31,23),r(32,"app-cms-search-list",24),E("optionsChange",function(c){return p(s),A(t.optionsSearch,c)||(t.optionsSearch=c),u(c)}),a(),r(33,"app-cms-statist-list",24),E("optionsChange",function(c){return p(s),A(t.optionsStatist,c)||(t.optionsStatist=c),u(c)}),a(),P(),w(34,25),r(35,"mat-table",26,0),v("matSortChange",function(){p(s);let c=R(36);return u(t.onTableSortData(c))}),w(37,27),b(38,Xd,2,1,"mat-header-cell",28)(39,Yd,2,1,"mat-cell",29),P(),w(40,30),b(41,Zd,2,1,"mat-header-cell",28)(42,$d,4,6,"mat-cell",31),P(),w(43,32),b(44,ep,2,1,"mat-header-cell",28)(45,tp,2,1,"mat-cell",29),P(),w(46,33),b(47,ip,2,1,"mat-header-cell",28)(48,np,3,4,"mat-cell",29),P(),w(49,34),b(50,op,2,1,"mat-header-cell",28)(51,rp,2,1,"mat-cell",29),P(),w(52,35),b(53,ap,3,3,"mat-header-cell",28)(54,sp,2,1,"mat-cell",29),P(),w(55,36),b(56,lp,3,3,"mat-header-cell",28)(57,cp,2,1,"mat-cell",29),P(),w(58,37),b(59,mp,2,1,"mat-header-cell",28)(60,dp,2,1,"mat-cell",29),P(),w(61,38),b(62,pp,2,1,"mat-header-cell",28)(63,up,2,1,"mat-cell",29),P(),w(64,39),b(65,fp,2,1,"mat-header-cell",28)(66,Sp,3,4,"mat-cell",29),P(),w(67,40),b(68,hp,3,3,"mat-header-cell",41)(69,gp,6,1,"mat-cell",42),P(),b(70,Mp,1,0,"mat-header-row",43)(71,_p,1,2,"mat-row",44)(72,Cp,1,5,"mat-row",45),w(73,46),b(74,bp,24,6,"mat-cell",29),P(),a(),P(),w(75,47),r(76,"mat-paginator",48,1),v("page",function(c){return p(s),u(t.onTablePageingData(c))}),a(),P(),a()}i&2&&(m("ngIf",(t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0),o(),m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!t.requestLinkApiPathId||t.requestLinkApiPathId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),m("ngIf",(t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0),o(4),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),m("checked",t.optionsSearch.data.show),o(),g("",M(20,29,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),g("",M(24,31,"ACTION.STATIST")," "),o(3),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),m("dataSource",t.tableSource),o(35),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(),m("matRowDefColumns",Ne(33,Hd)),o(4),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ne(34,Wd)))},dependencies:[je,O,fi,Ge,Te,Ke,Je,Xe,Ye,Ze,$e,et,it,at,nt,tt,st,ot,rt,lt,ct,St,ht,gt,Mt,Mn,Fn,F,zr,Go,_t,yt],encapsulation:2});var go=Un;var vp=["vform"];function Ip(n,l){n&1&&(r(0,"mat-error"),d(1),h(2,"translate"),r(3,"strong"),d(4),h(5,"translate"),a()()),n&2&&(o(),g(" ",M(2,2,"MESSAGE.Message_Text")," "),o(3),T(M(5,4,"MESSAGE.required")))}function yp(n,l){if(n&1&&_(0,"app-cms-json-list",31),n&2){let e=S();m("dataModel",e.dataModelResult.item)("optionMethod",1)}}function Ap(n,l){if(n&1&&(r(0,"button",36),_(1,"i",37),d(2),h(3,"translate"),a()),n&2){S(2);let e=R(10);m("disabled",!e.valid),o(2),g(" ",M(3,2,"ACTION.Send_Message")," ")}}function Ep(n,l){if(n&1){let e=I();r(0,"div",32)(1,"button",33),v("click",function(){p(e);let t=S();return u(t.onFormCancel())}),_(2,"i",34),d(3),h(4,"translate"),a(),b(5,Ap,4,4,"button",35),a()}if(n&2){let e=S();o(3),g(" ",M(4,2,"ACTION.CANCEL")," "),o(2),m("ngIf",!e.publicHelper.processService.process.inRunAll)}}var qn=class qn{constructor(l,e,i,t,s,f,c,k,H){this.data=l;this.document=e;this.dialogRef=i;this.coreEnumService=t;this.cmsToastrService=s;this.cdr=f;this.publicHelper=c;this.translate=k;this.smsActionService=H;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelParentSelected=new Xt;this.dataModel=new Dr;this.dataModelResult=new G;this.formInfo=new re;this.sendByShow=!1;this.publicHelper.processService.cdr=this.cdr,l&&l.linkApiPathId&&(this.requestLinkApiPathId=l.linkApiPathId)}ngOnInit(){if(this.requestLinkApiPathId.length<=0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.dataModel.linkApiPathId=this.requestLinkApiPathId}onActionSelectPrivateSiteConfig(l){this.dataModel.linkApiPathId=this.requestLinkApiPathId,this.dataModelParentSelected=l,l&&l.id?.length>0&&(this.dataModel.linkApiPathId=l.id,this.sendByShow=!1,l.apiAbilitySendByDirect&&(this.dataModel.sendByQueue=!1),l.apiAbilitySendByQueue&&(this.dataModel.sendByQueue=!0),l.apiAbilitySendByQueue&&l.apiAbilitySendByDirect&&(this.sendByShow=!0))}onFormSubmit(){if(!this.formGroup.valid)return;(!this.dataModel.linkApiPathId||this.dataModel.linkApiPathId.length<=0)&&this.cmsToastrService.typeErrorFormInvalid(),this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.smsActionService.ServiceSendMessageTest(this.dataModel).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=e,e.isSuccess?(this.translate.get("MESSAGE.Submit_request_was_successfully_registered").subscribe(i=>{this.formInfo.submitResultMessage=i,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.translate.get("MESSAGE.Send_request_was_successfully_registered").subscribe(i=>{this.cmsToastrService.typeSuccessMessage(i)})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};qn.\u0275fac=function(e){return new(e||qn)(C(oe),C(Ir),C(ne),C(Ie),C(N),C(V),C(B),C(L),C(kr))},qn.\u0275cmp=D({type:qn,selectors:[["app-sms-privateconfig-sendtest"]],viewQuery:function(e,i){if(e&1&&$(vp,5),e&2){let t;ee(t=te())&&(i.formGroup=t.first)}},standalone:!1,decls:58,vars:35,consts:[["vform","ngForm"],["FromNumber",""],["ToNumber",""],["Message",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"optionChange","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.fromNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromNumber","minlength","0","maxlength","50","id","dataModel.fromNumber","placeholder","10000118",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.toNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.toNumber","minlength","0","maxlength","100","id","dataModel.toNumber","placeholder","0912",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.message",1,"color-highlight"],["matInput","","type","text","name","dataModel.message","minlength","1","maxlength","500","id","dataModel.message","placeholder","...",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[4,"ngIf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isFlash",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isFlash","name","dataModel.isFlash",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isFlash",1,"custom-control-label"],["data-trigger-switch","dataModel.sendByQueue",1,"font-600","font-14"],["type","checkbox","id","dataModel.sendByQueue","name","dataModel.sendByQueue",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.sendByQueue",1,"custom-control-label"],[3,"dataModel","optionMethod",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"dataModel","optionMethod"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){if(e&1){let t=I();r(0,"div",4),_(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),d(4),a(),r(5,"p"),d(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",8),r(9,"form",9,0),v("ngSubmit",function(){return p(t),u(i.onFormSubmit())}),r(11,"app-sms-apipath-selector",10),h(12,"translate"),v("optionChange",function(f){return p(t),u(i.onActionSelectPrivateSiteConfig(f))}),a(),r(13,"div",11)(14,"label",12),d(15),h(16,"translate"),a(),r(17,"input",13,1),E("ngModelChange",function(f){return p(t),A(i.dataModel.fromNumber,f)||(i.dataModel.fromNumber=f),u(f)}),a(),r(19,"em"),d(20),a()(),r(21,"div",11)(22,"label",14),d(23),h(24,"translate"),a(),r(25,"input",15,2),E("ngModelChange",function(f){return p(t),A(i.dataModel.toNumber,f)||(i.dataModel.toNumber=f),u(f)}),a(),r(27,"em"),d(28),a()(),r(29,"div",11)(30,"label",16),d(31),h(32,"translate"),a(),r(33,"input",17,3),E("ngModelChange",function(f){return p(t),A(i.dataModel.message,f)||(i.dataModel.message=f),u(f)}),a(),r(35,"em"),d(36),a(),b(37,Ip,6,6,"mat-error",18),a(),r(38,"div",19)(39,"div",20)(40,"h5",21),d(41),h(42,"translate"),a()(),r(43,"div",22)(44,"div",23)(45,"input",24),E("ngModelChange",function(f){return p(t),A(i.dataModel.isFlash,f)||(i.dataModel.isFlash=f),u(f)}),a(),_(46,"label",25),a()()(),r(47,"div",19)(48,"div",20)(49,"h5",26),d(50),h(51,"translate"),a()(),r(52,"div",22)(53,"div",23)(54,"input",27),E("ngModelChange",function(f){return p(t),A(i.dataModel.sendByQueue,f)||(i.dataModel.sendByQueue=f),u(f)}),a(),_(55,"label",28),a()()(),b(56,yp,1,2,"app-cms-json-list",29)(57,Ep,6,4,"div",30),a()()()}if(e&2){let t=R(18),s=R(26),f=R(34);o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(3),g(" ",i.formInfo.formTitle," "),o(2),g(" ",M(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",i.formInfo),o(3),m("optionPlaceholder",M(12,23,"TITLE.Direction")),o(4),T(M(16,25,"TITLE.sender_number")),o(2),y("ngModel",i.dataModel.fromNumber),o(3),g("",t.value.length," / 50"),o(3),T(M(24,27,"TITLE.Receiver_number")),o(2),y("ngModel",i.dataModel.toNumber),o(3),g("",s.value.length," / 100"),o(3),T(M(32,29,"MESSAGE.Message_Text")),o(2),y("ngModel",i.dataModel.message),o(3),g("",f.value.length," / 500"),o(),m("ngIf",f.errors==null?null:f.errors.required),o(4),g(" ",M(42,31,"TITLE.Send_as_flash")," "),o(4),y("ngModel",i.dataModel.isFlash),o(5),g(" ",M(51,33,"TITLE.Send_in_queue")," "),o(4),y("ngModel",i.dataModel.sendByQueue),o(2),m("ngIf",i.dataModelResult==null?null:i.dataModelResult.item),o(),m("ngIf",i.formInfo.submitButtonEnabled)}},dependencies:[O,ce,z,Le,K,se,Ae,Ee,ie,le,ue,J,q,qr,me,Kt,F],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var $o=qn;function Pp(n,l){if(n&1){let e=I();r(0,"button",13),v("click",function(){p(e);let t=S();return u(t.onActionAdd())}),d(1),h(2,"translate"),a()}n&2&&(o(),g(" ",M(2,1,"ACTION.ADD")," "))}function Rp(n,l){if(n&1){let e=I();r(0,"button",14),v("click",function(){p(e);let t=S();return u(t.onActionEdit())}),d(1),h(2,"translate"),a()}n&2&&(o(),g(" ",M(2,1,"ACTION.EDIT")," "))}function xp(n,l){if(n&1){let e=I();r(0,"button",15),v("click",function(){p(e);let t=S();return u(t.onActionButtonReload())}),r(1,"mat-icon",16),h(2,"translate"),d(3,"refresh"),a()()}if(n&2){let e=S();o(),X("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),m("title",x(M(2,4,"ACTION.RELOAD")))}}function Dp(n,l){if(n&1){let e=I();r(0,"mat-tree-node",17),_(1,"button",18),r(2,"span",19),v("click",function(){let t=p(e).$implicit,s=S();return u(s.onActionSelect(t))}),_(3,"img",20),d(4),a()()}if(n&2){let e=l.$implicit,i=S();X("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===e.id),o(3),m("src",x(e.linkMainImageIdSrc),Ce),o(),g("\xA0",e.title)}}function kp(n,l){if(n&1){let e=I();r(0,"mat-tree-node",21)(1,"button",22)(2,"mat-icon",23),d(3),a()(),r(4,"span",19),v("click",function(){let t=p(e).$implicit,s=S();return u(s.onActionSelect(t))}),_(5,"img",20),d(6),a()()}if(n&2){let e=l.$implicit,i=S(),t=R(11);X("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===e.id),m("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),Zt("type","button")("aria-label","Toggle "+e.title),o(2),g(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),m("src",x(e.linkMainImageIdSrc),Ce),o(),g("\xA0",e.title)}}var jn=class jn{constructor(l,e,i,t,s,f,c,k,H){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=s;this.publicHelper=f;this.tokenHelper=c;this.cmsStoreService=k;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Bt;this.dataModelResult=new G;this.filterModel=new Y;this.dataSource=new Vo;this.optionChange=new qe;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!1;this.childrenAccessor=l=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>ve(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Bt,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){var l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(xn,{height:"90%",panelClass:l,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l="";if(this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(l=this.dataModelSelect.id),l.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(kn,{height:"90%",panelClass:e,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};jn.\u0275fac=function(e){return new(e||jn)(C(N),C(Ie),C(Ot),C(Pe),C(V),C(B),C(xe),C(Re),C(L))},jn.\u0275cmp=D({type:jn,selectors:[["app-sms-apipathcompany-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:15,vars:13,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),w(1,2),d(2),h(3,"translate"),P(),w(4,3),b(5,Pp,3,3,"button",4)(6,Rp,3,3,"button",5)(7,xp,4,6,"button",6),P(),w(8,7),_(9,"app-progress-spinner",8),r(10,"mat-tree",9,0),b(12,Dp,5,5,"mat-tree-node",10)(13,kp,7,10,"mat-tree-node",11),a(),P(),Ve(14,12),a()),e&2&&(m("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),g(" ",M(3,11,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),m("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),m("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),m("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),o(2),m("optionsInfoAreaId",i.constructorInfoAreaId),o(),m("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),m("matTreeNodeDefWhen",i.hasChild))},dependencies:[O,Ge,Te,xo,Do,Lo,ko,Ro,q,Fo,F],encapsulation:2});var er=jn;var Vp=()=>[5,10,20,100];function Np(n,l){if(n&1){let e=I();r(0,"a",52),v("click",function(){p(e);let t=S();return u(t.onActionBackToParent())}),_(1,"i",53),a()}}function Bp(n,l){if(n&1){let e=I();r(0,"div",19)(1,"a",23),v("click",function(){p(e);let t=S();return u(t.onActionButtonNewRow())}),_(2,"i",54)(3,"br"),a(),r(4,"p",21),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.ADD")," "))}function Fp(n,l){if(n&1){let e=I();r(0,"div",19)(1,"a",55),v("click",function(){p(e);let t=S();return u(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",56)(3,"br"),a(),r(4,"p",21),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.EDIT")," "))}function Gp(n,l){if(n&1){let e=I();r(0,"div",19)(1,"a",57),v("click",function(){p(e);let t=S();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",58)(3,"br"),a(),r(4,"p",21),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DELETE")," "))}function Op(n,l){if(n&1){let e=I();r(0,"div",19)(1,"a",20),v("click",function(){p(e);let t=S();return u(t.onActionButtonCopy(t.tableRowSelected))}),_(2,"i",59)(3,"br"),a(),r(4,"p",21),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.COPY")," "))}function Hp(n,l){if(n&1){let e=I();r(0,"div",19)(1,"a",10),v("click",function(){p(e);let t=S();return u(t.onActionButtonSendTest(t.tableRowSelected))}),_(2,"i",60)(3,"br"),a(),r(4,"p",21),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.SEND_TEST")," "))}function Wp(n,l){if(n&1){let e=I();r(0,"div",19)(1,"a",10),v("click",function(){p(e);let t=S();return u(t.onActionButtonReportsRow(t.tableRowSelected))}),_(2,"i",61)(3,"br"),a(),r(4,"p",21),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.REPORTS")," "))}function Up(n,l){n&1&&(r(0,"mat-header-cell",62),d(1),h(2,"translate"),a()),n&2&&(o(),g(" ",M(2,1,"TITLE.PICTURE")," "))}function qp(n,l){if(n&1&&(_(0,"img",64),h(1,"cmsthumbnail")),n&2){let e=S().$implicit;m("src",x(M(1,2,e.linkMainImageIdSrc)),Ce)}}function jp(n,l){if(n&1&&(r(0,"mat-cell"),b(1,qp,2,4,"img",63),a()),n&2){let e=l.$implicit;o(),m("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Qp(n,l){if(n&1&&(r(0,"mat-header-cell",62),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function zp(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.id," ")}}function Kp(n,l){if(n&1&&(r(0,"mat-header-cell",62),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Jp(n,l){if(n&1&&(r(0,"mat-cell",65),h(1,"statusCellClass"),_(2,"i",65),h(3,"statusIconClass"),a()),n&2){let e=l.$implicit;m("ngClass",M(1,2,e.recordStatus)),o(2),m("ngClass",M(3,4,e.recordStatus))}}function Xp(n,l){if(n&1&&(r(0,"mat-header-cell",62),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Yp(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.title," ")}}function Zp(n,l){if(n&1&&(r(0,"mat-header-cell",62),d(1),a()),n&2){let e=S();o(),g("",e.fieldsInfo.linkApiPathCompanyId==null?null:e.fieldsInfo.linkApiPathCompanyId.fieldTitle," ")}}function $p(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=S();o(),g(" ",mn(2,1,e.linkApiPathCompanyId,i.dataModelCompanyResult.listItems)," ")}}function eu(n,l){if(n&1&&(r(0,"mat-header-cell",62),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.linkPublicConfigId==null?null:e.fieldsInfo.linkPublicConfigId.fieldTitle," ")}}function tu(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=S();o(),g(" ",mn(2,1,e.linkPublicConfigId,i.dataModelPublicResult.listItems)," ")}}function iu(n,l){if(n&1&&(r(0,"mat-header-cell",62),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function nu(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",M(2,1,e.updatedDate)," ")}}function ou(n,l){n&1&&(r(0,"mat-header-cell"),d(1),h(2,"translate"),a()),n&2&&(o(),g(" ",M(2,1,"TITLE.OPTION")," "))}function ru(n,l){if(n&1&&(r(0,"mat-cell",66)(1,"button",67)(2,"mat-icon"),d(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),m("matMenuTriggerFor",e)}}function au(n,l){n&1&&(r(0,"mat-header-cell",62),d(1,". "),a())}function su(n,l){n&1&&(r(0,"mat-cell")(1,"mat-icon",68),d(2,"reorder"),a()())}function lu(n,l){n&1&&_(0,"mat-header-row")}function cu(n,l){n&1&&_(0,"div",71)}function mu(n,l){if(n&1){let e=I();r(0,"mat-row",69),v("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))}),b(1,cu,1,0,"div",70),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),m("cdkDragData",e)}}var Qn=class Qn extends ft{constructor(e,i,t,s,f,c,k,H,Nt,Yt,Et,oi,ae,aa){super(e,new Xt,ae,H,Yt);this.contentService=e;this.smsMainApiPathCompanyService=i;this.smsMainApiPathPublicConfigService=t;this.activatedRoute=s;this.cmsToastrService=f;this.cmsConfirmationDialogService=c;this.router=k;this.tokenHelper=H;this.cdr=Nt;this.translate=Yt;this.cmsStoreService=Et;this.pageInfo=oi;this.publicHelper=ae;this.dialog=aa;this.requestLinkSiteId=0;this.requestLinkCompanyId="";this.requestLinkPublicConfigId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new G;this.dataModelCompanyResult=new G;this.dataModelPublicResult=new G;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","title","LinkApiPathCompanyId","LinkPublicConfigId","updatedDate","position"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","title","LinkApiPathCompanyId","LinkPublicConfigId","position"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Sr=>this.onSubmitOptionsSearch(Sr)},this.filteModelContent.sortColumn="priority",this.filteModelContent.sortType=j.Ascending}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")&&(this.requestLinkCompanyId=this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")),this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId")&&(this.requestLinkPublicConfigId=this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId"));let e=new Q;if(this.requestLinkPublicConfigId?.length>0&&(e.propertyName="LinkPublicConfigId",e.value=this.requestLinkPublicConfigId,this.filteModelContent.filters.push(e)),this.requestLinkCompanyId.length>0){let i=new Q;i.propertyName="LinkApiPathCompanyId",i.value=this.requestLinkCompanyId,this.filteModelContent.filters.push(i)}if(this.requestLinkSiteId>0){let i=new Q;i.propertyName="linkSiteId",i.value=this.requestLinkSiteId,this.filteModelContent.filters.push(i)}this.filteModelContent.sortColumn="priority",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>ve(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getApiCopmanyList(),this.getPublicConfig()}getPublicConfig(){let e=new Y;e.rowPerPage=100,this.smsMainApiPathPublicConfigService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPublicResult=i}})}getApiCopmanyList(){let e=new Y;e.rowPerPage=100,this.smsMainApiPathCompanyService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCompanyResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,["position"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Xt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new Q;t.propertyName="LinkApiPathCompanyId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(s=>s===e.item.data),t=new bo;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=dn.GoUp:t.actionGo=dn.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:s=>{s.isSuccess?(Io(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(s.errorMessage)},error:s=>{this.cmsToastrService.typeError(s)}})}onActionButtonNewRow(){if((!this.requestLinkCompanyId||this.requestLinkCompanyId&&this.requestLinkCompanyId.length==0)&&(this.categoryModelSelected==null||this.categoryModelSelected.id.length===0)){this.translate.get("MESSAGE.Company_not_selected").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id),this.requestLinkCompanyId&&this.requestLinkCompanyId.length>0&&(e=this.requestLinkCompanyId);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Mr,{height:"90%",panelClass:i,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{linkApiPathCompanyId:e}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/sms/main/api-path/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.filteModelContent.sortColumn="priority",this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Q;f.propertyName="recordStatus",f.value=Be.Available,s.filters.push(f),this.contentService.ServiceGetCount(s).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonGetBalance(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=this.constructor.name+"GetBalance";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.ServiceGetBalance(e.id).subscribe({next:t=>{t.isSuccess?this.cmsToastrService.typeSuccessMessage(t.item.info+" "+t.item.status+" "+t.item.credit):this.cmsToastrService.typeErrorMessage(t.errorMessage+t.item.info+" "+t.item.status),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonSendMessage(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/action/send-message/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/action/send-message/LinkApiPathId",this.tableRowSelected.id])}onActionButtonSupersedesList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/bankpayment/privatesiteconfig/LinkPublicConfigId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/privatesiteconfig/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonMustSupersedesList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/bankpayment/privatesiteconfig/LinkPublicConfigId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/privatesiteconfig/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonNumbersList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-number/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-number/LinkApiPathId",this.tableRowSelected.id])}onActionButtonPermitionList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path-permission/LinkApiPathId",this.tableRowSelected.id])}onActionButtonOutBoxQueue(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/log/outbox-queue/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/log/outbox-queue/LinkApiPathId",this.tableRowSelected.id])}onActionButtonCopy(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Mr,{height:"90%",panelClass:i,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonPriceServicesList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-path-price-service/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-path-price-service/LinkApiPathId",this.tableRowSelected.id])}onActionButtonSendTest(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}this.onActionTableRowSelect(e);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open($o,{height:"90%",panelClass:i,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonReportsRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}if(i?.ctrlKey){let t="/#/sms/log/api-path/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/log/api-path/LinkApiPathId",this.tableRowSelected.id])}onActionButtonReload(){this.filteModelContent.sortColumn="priority",this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path-company"])}};Qn.\u0275fac=function(i){return new(i||Qn)(C(Gt),C(Ot),C($t),C(wt),C(N),C(We),C(Qe),C(xe),C(V),C(L),C(Re),C(mt),C(B),C(Pe))},Qn.\u0275cmp=D({type:Qn,selectors:[["app-sms-apipath-list"]],standalone:!1,features:[W],decls:129,vars:62,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-receipt","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-dollar","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-phone","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-universal-access","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list-ol","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","LinkApiPathCompanyId"],["matColumnDef","LinkPublicConfigId"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild","cdkDrag","",3,"ntk-row-selected","cdkDragData","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-paper-plane-top","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file-chart-column","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],["cdkDrag","",1,"ntk-row-mainfild",3,"click","rtclick","cdkDragData"],["class","ntk-row-placeholder",4,"cdkDragPlaceholder"],[1,"ntk-row-placeholder"]],template:function(i,t){if(i&1){let s=I();r(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(c){return p(s),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),u(c)}),v("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),w(1,4),r(2,"app-sms-apipathcompany-tree",5),v("optionChange",function(c){return p(s),u(t.onActionSelectorSelect(c))}),a(),P(),Ve(3,6)(4,7),w(5,8),b(6,Np,2,0,"a",9),r(7,"a",10),v("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",11),a(),r(9,"a",10),v("click",function(){return p(s),u(t.onActionButtonReload())}),_(10,"i",12),a(),P(),w(11,13),r(12,"a",14),v("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(13,"mat-slide-toggle",15),d(14),h(15,"translate"),a(),r(16,"a",14),v("click",function(){return p(s),u(t.onActionButtonStatist())}),_(17,"mat-slide-toggle",15),d(18),h(19,"translate"),a(),P(),w(20,16),b(21,Bp,7,3,"div",17),P(),w(22,18),b(23,Fp,7,3,"div",17)(24,Gp,7,3,"div",17),r(25,"div",19)(26,"a",20),v("click",function(){return p(s),u(t.onActionButtonSendTest(t.tableRowSelected))}),r(27,"mat-icon"),d(28,"payment"),a()(),r(29,"p",21),d(30),h(31,"translate"),a()(),r(32,"div",19)(33,"a",20),v("click",function(c){return p(s),u(t.onActionButtonSendMessage(t.tableRowSelected,c))}),_(34,"i",22)(35,"br"),a(),r(36,"p",21),d(37),h(38,"translate"),a()(),r(39,"div",19)(40,"a",23),v("click",function(){return p(s),u(t.onActionButtonGetBalance(t.tableRowSelected))}),_(41,"i",24)(42,"br"),a(),r(43,"p",21),d(44),h(45,"translate"),a()(),r(46,"div",19)(47,"a",20),v("click",function(c){return p(s),u(t.onActionButtonSupersedesList(t.tableRowSelected,c))}),_(48,"i",25)(49,"br"),a(),r(50,"p",21),d(51),h(52,"translate"),a()(),r(53,"div",19)(54,"a",20),v("click",function(c){return p(s),u(t.onActionButtonMustSupersedesList(t.tableRowSelected,c))}),_(55,"i",25)(56,"br"),a(),r(57,"p",21),d(58),h(59,"translate"),a()(),r(60,"div",19)(61,"a",20),v("click",function(c){return p(s),u(t.onActionButtonNumbersList(t.tableRowSelected,c))}),_(62,"i",26)(63,"br"),a(),r(64,"p",21),d(65),h(66,"translate"),a()(),r(67,"div",19)(68,"a",20),v("click",function(c){return p(s),u(t.onActionButtonPriceServicesList(t.tableRowSelected,c))}),_(69,"i",27)(70,"br"),a(),r(71,"p",21),d(72),h(73,"translate"),a()(),r(74,"div",19)(75,"a",20),v("click",function(c){return p(s),u(t.onActionButtonPermitionList(t.tableRowSelected,c))}),_(76,"i",28)(77,"br"),a(),r(78,"p",21),d(79),h(80,"translate"),a()(),r(81,"div",19)(82,"a",20),v("click",function(c){return p(s),u(t.onActionButtonOutBoxQueue(t.tableRowSelected,c))}),_(83,"i",29)(84,"br"),a(),r(85,"p",21),d(86),h(87,"translate"),a()(),b(88,Op,7,3,"div",17)(89,Hp,7,3,"div",17)(90,Wp,7,3,"div",17),P(),w(91,30),r(92,"app-cms-search-list",31),E("optionsChange",function(c){return p(s),A(t.optionsSearch,c)||(t.optionsSearch=c),u(c)}),a(),r(93,"app-cms-statist-list",31),E("optionsChange",function(c){return p(s),A(t.optionsStatist,c)||(t.optionsStatist=c),u(c)}),a(),P(),w(94,32),r(95,"mat-table",33,0),v("matSortChange",function(){p(s);let c=R(96);return u(t.onTableSortData(c))})("cdkDropListDropped",function(c){return p(s),u(t.onTableDropRow(c))}),w(97,34),b(98,Up,3,3,"mat-header-cell",35)(99,jp,2,1,"mat-cell",36),P(),w(100,37),b(101,Qp,2,1,"mat-header-cell",35)(102,zp,2,1,"mat-cell",36),P(),w(103,38),b(104,Kp,2,1,"mat-header-cell",35)(105,Jp,4,6,"mat-cell",39),P(),w(106,40),b(107,Xp,2,1,"mat-header-cell",35)(108,Yp,2,1,"mat-cell",36),P(),w(109,41),b(110,Zp,2,1,"mat-header-cell",35)(111,$p,3,4,"mat-cell",36),P(),w(112,42),b(113,eu,2,1,"mat-header-cell",35)(114,tu,3,4,"mat-cell",36),P(),w(115,43),b(116,iu,2,1,"mat-header-cell",35)(117,nu,3,3,"mat-cell",36),P(),w(118,44),b(119,ou,3,3,"mat-header-cell",45)(120,ru,6,1,"mat-cell",46),P(),w(121,47),b(122,au,2,0,"mat-header-cell",35)(123,su,3,0,"mat-cell",36),P(),b(124,lu,1,0,"mat-header-row",48)(125,mu,2,3,"mat-row",49),a(),P(),w(126,50),r(127,"mat-paginator",51,1),v("page",function(c){return p(s),u(t.onTablePageingData(c))}),a(),P(),a()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!t.requestLinkCompanyId||t.requestLinkCompanyId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),m("ngIf",(t.requestLinkCompanyId==null?null:t.requestLinkCompanyId.length)>0),o(4),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),m("checked",t.optionsSearch.data.show),o(),g("",M(15,39,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),g("",M(19,41,"ACTION.STATIST")," "),o(3),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),g(" ",M(31,43,"ACTION.SEND_TEST")," "),o(7),g(" ",M(38,45,"ACTION.SEND_MESSAGE")," "),o(7),g(" ",M(45,47,"ACTION.GET_BALANCE")," "),o(7),g(" ",M(52,49,"ACTION.BACKUP_ROUTES")," "),o(7),g(" ",M(59,51,"ACTION.SUPPORTED_ROUTES")," "),o(7),g(" ",M(66,53,"ACTION.SPECIFIC_NUMBERS")," "),o(7),g(" ",M(73,55,"ACTION.PRICE_LIST")," "),o(7),g(" ",M(80,57,"ACTION.ACEESS")," "),o(7),g(" ",M(87,59,"ACTION.QUEUE")," "),o(2),m("ngIf",t.categoryModelSelected&&t.categoryModelSelected.id.length>0),o(),m("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),o(),m("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),o(2),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),m("dataSource",t.tableSource)("cdkDropListData",t.tableSource),o(29),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ne(61,Vp)))},dependencies:[je,O,Ge,Te,Ke,Je,Xe,Ye,Ze,$e,et,it,at,nt,tt,st,ot,rt,lt,ct,St,ht,gt,Mt,Eo,Ao,yo,To,er,F,Go,dt,Lt,_t,yt],encapsulation:2});var zi=Qn;var du=["vform"];function pu(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",30),E("modelChange",function(t){p(e);let s=S();return A(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();y("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function uu(n,l){if(n&1){let e=I();r(0,"mat-chip",31),v("removed",function(){let t=p(e).$implicit,s=S();return u(s.removeTagFirewallAllowIPList(t))}),r(1,"div",32),d(2),a(),r(3,"button",33)(4,"mat-icon"),d(5,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(2),T(e)}}function fu(n,l){if(n&1&&(r(0,"div"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e," ")}}function Su(n,l){n&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function hu(n,l){if(n&1){let e=I();r(0,"div",23)(1,"label",34),d(2),h(3,"translate"),a(),r(4,"input",35),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),u(t)}),a(),_(5,"mat-datepicker-toggle",26)(6,"mat-datepicker",27,5),a()}if(n&2){let e=R(7),i=S();o(2),T(M(3,4,"TITLE.Expire_Date")),o(2),y("ngModel",i.dataModel.expireDate),m("matDatepicker",e),o(),m("for",e)}}function gu(n,l){if(n&1){let e=I();r(0,"div",36)(1,"button",37),v("click",function(){p(e);let t=S();return u(t.onFormCancel())}),_(2,"i",38),d(3),h(4,"translate"),a(),r(5,"button",39),_(6,"i",40),d(7),h(8,"translate"),a()()}if(n&2){S();let e=R(10);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var zn=class zn extends pt{constructor(e,i,t,s,f,c,k,H){super(s,new ci,c,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainClientPermissionService=s;this.cmsToastrService=f;this.publicHelper=c;this.cdr=k;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new ci;this.formInfo=new re;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainClientPermissionService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}addTagFirewallAllowIPList(e){let i=(e.value||"").trim();this.dataModel.firewallAllowIPList||(this.dataModel.firewallAllowIPList=[]),i&&this.dataModel.firewallAllowIPList.push(i),e.chipInput.clear()}removeTagFirewallAllowIPList(e){let i=this.dataModel.firewallAllowIPList.indexOf(e);i>=0&&this.dataModel.firewallAllowIPList.splice(i,1)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};zn.\u0275fac=function(i){return new(i||zn)(C(oe),C(ne),C(ke),C(_i),C(N),C(B),C(V),C(L))},zn.\u0275cmp=D({type:zn,selectors:[["app-sms-client-add"]],viewQuery:function(i,t){if(i&1&&$(du,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:50,vars:41,consts:[["vform","ngForm"],["chipListRegulatorNumberList",""],["tagInput",""],["Description",""],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.IP'|translate"],[3,"removed",4,"ngFor","ngForOf"],[1,"input-ltr",3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[4,"ngFor","ngForOf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"removed"],[1,"input-ltr"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",6),_(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),d(4),a(),r(5,"p"),d(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",10),r(9,"form",11,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(11,pu,1,5,"app-cms-enum-record-status-selector",12),r(12,"app-cms-user-selector",13),h(13,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCmsUser(c))}),a(),r(14,"b"),d(15),h(16,"translate"),a(),r(17,"mat-form-field",14)(18,"mat-label"),d(19),h(20,"translate"),a(),r(21,"mat-chip-grid",15,1),b(23,uu,6,1,"mat-chip",16),r(24,"input",17,2),h(26,"translate"),v("matChipInputTokenEnd",function(c){return p(s),u(t.addTagFirewallAllowIPList(c))}),a()()(),r(27,"div"),d(28),h(29,"translate"),_(30,"br"),b(31,fu,2,1,"div",18),a(),_(32,"br"),r(33,"div",19)(34,"label",20),d(35),a(),r(36,"textarea",21,3),E("ngModelChange",function(c){return p(s),A(t.dataModel.description,c)||(t.dataModel.description=c),u(c)}),a(),r(38,"em"),d(39),a(),b(40,Su,5,3,"mat-error",22),a(),r(41,"div",23)(42,"label",24),d(43),a(),r(44,"input",25),E("ngModelChange",function(c){return p(s),A(t.dataModel.fromDate,c)||(t.dataModel.fromDate=c),u(c)}),a(),_(45,"mat-datepicker-toggle",26)(46,"mat-datepicker",27,4),a(),b(48,hu,8,6,"div",28)(49,gu,9,7,"div",29),a()()()}if(i&2){let s=R(22),f=R(37),c=R(47);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,29,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(3),m("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),m("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",M(13,31,"TITLE.USER")),o(3),T(M(16,33,"MESSAGE.firewallAllowIP")),o(4),T(M(20,35,"TITLE.firewallAllowIPList")),o(4),m("ngForOf",t.dataModel.firewallAllowIPList),o(),m("placeholder",M(26,37,"TITLE.IP"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",s)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),g(" ",M(29,39,"TITLE.firewallAllowIPList")," "),o(3),m("ngForOf",t.dataModel.firewallAllowIPList),o(4),T(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),y("ngModel",t.dataModel.description),o(3),g("",f.value.length," / 500"),o(),m("ngIf",f.errors==null?null:f.errors.required),o(3),T(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),y("ngModel",t.dataModel.fromDate),m("matDatepicker",c),o(),m("for",c),o(3),m("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[we,O,ce,z,K,se,Ae,Ee,ie,le,Ti,wi,Pi,Ei,xt,Dt,kt,Ai,yi,ue,Rt,Te,J,fe,It,q,me,F],encapsulation:2});var tr=zn;var Mu=["vform"];function _u(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",32),E("modelChange",function(t){p(e);let s=S();return A(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();y("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Cu(n,l){if(n&1){let e=I();r(0,"div",21)(1,"label",33),d(2),a(),r(3,"input",34,5),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.apiKey,t)||(s.dataModel.apiKey=t),u(t)}),a()()}if(n&2){let e=S();o(2),T(e.fieldsInfo.apiKey==null?null:e.fieldsInfo.apiKey.fieldTitle),o(),y("ngModel",e.dataModel.apiKey),m("disabled",!(e.fieldsInfo.apiKey!=null&&e.fieldsInfo.apiKey.accessEditField))}}function bu(n,l){if(n&1){let e=I();r(0,"mat-chip",35),v("removed",function(){let t=p(e).$implicit,s=S();return u(s.removeTagFirewallAllowIPList(t))}),r(1,"div",36),d(2),a(),r(3,"button",37)(4,"mat-icon"),d(5,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(2),T(e)}}function vu(n,l){if(n&1&&(r(0,"div"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e," ")}}function Iu(n,l){n&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function yu(n,l){if(n&1){let e=I();r(0,"div",25)(1,"label",38),d(2),h(3,"translate"),a(),r(4,"input",39),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),u(t)}),a(),_(5,"mat-datepicker-toggle",28)(6,"mat-datepicker",29,6),a()}if(n&2){let e=R(7),i=S();o(2),T(M(3,4,"TITLE.Expire_Date")),o(2),y("ngModel",i.dataModel.expireDate),m("matDatepicker",e),o(),m("for",e)}}function Au(n,l){if(n&1){let e=I();r(0,"div",40)(1,"button",41),v("click",function(){p(e);let t=S();return u(t.onFormCancel())}),_(2,"i",42),d(3),h(4,"translate"),a(),r(5,"button",43),_(6,"i",44),d(7),h(8,"translate"),a()()}if(n&2){S();let e=R(10);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var Kn=class Kn extends ut{constructor(e,i,t,s,f,c,k,H){super(s,new ci,c,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainClientPermissionService=s;this.cmsToastrService=f;this.publicHelper=c;this.cdr=k;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ze;this.dataModel=new ci;this.formInfo=new re;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainClientPermissionService.setAccessLoad(),this.smsMainClientPermissionService.setAccessDataType(Fe.Editor),this.smsMainClientPermissionService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainClientPermissionService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}addTagFirewallAllowIPList(e){let i=(e.value||"").trim();this.dataModel.firewallAllowIPList||(this.dataModel.firewallAllowIPList=[]),i&&this.dataModel.firewallAllowIPList.push(i),e.chipInput.clear()}removeTagFirewallAllowIPList(e){let i=this.dataModel.firewallAllowIPList.indexOf(e);i>=0&&this.dataModel.firewallAllowIPList.splice(i,1)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Kn.\u0275fac=function(i){return new(i||Kn)(C(oe),C(ne),C(ke),C(_i),C(N),C(B),C(V),C(L))},Kn.\u0275cmp=D({type:Kn,selectors:[["app-sms-client-edit"]],viewQuery:function(i,t){if(i&1&&$(Mu,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:51,vars:42,consts:[["vform","ngForm"],["chipListRegulatorNumberList",""],["tagInput",""],["Description",""],["FromDate",""],["apiKey",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.IP'|translate"],[3,"removed",4,"ngFor","ngForOf"],[1,"input-ltr",3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[4,"ngFor","ngForOf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.apiKey",1,"color-highlight"],["matInput","","name","dataModel.apiKey","type","text","placeholder","1","id","dataModel.apiKey",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[3,"removed"],[1,"input-ltr"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",7),_(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),d(4),a(),r(5,"p"),d(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",11),r(9,"form",12,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(11,_u,1,5,"app-cms-enum-record-status-selector",13),r(12,"app-cms-user-selector",14),h(13,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectorCmsUser(c))}),a(),b(14,Cu,5,3,"div",15),r(15,"b"),d(16),h(17,"translate"),a(),r(18,"mat-form-field",16)(19,"mat-label"),d(20),h(21,"translate"),a(),r(22,"mat-chip-grid",17,1),b(24,bu,6,1,"mat-chip",18),r(25,"input",19,2),h(27,"translate"),v("matChipInputTokenEnd",function(c){return p(s),u(t.addTagFirewallAllowIPList(c))}),a()()(),r(28,"div"),d(29),h(30,"translate"),_(31,"br"),b(32,vu,2,1,"div",20),a(),_(33,"br"),r(34,"div",21)(35,"label",22),d(36),a(),r(37,"textarea",23,3),E("ngModelChange",function(c){return p(s),A(t.dataModel.description,c)||(t.dataModel.description=c),u(c)}),a(),r(39,"em"),d(40),a(),b(41,Iu,5,3,"mat-error",24),a(),r(42,"div",25)(43,"label",26),d(44),a(),r(45,"input",27),E("ngModelChange",function(c){return p(s),A(t.dataModel.fromDate,c)||(t.dataModel.fromDate=c),u(c)}),a(),_(46,"mat-datepicker-toggle",28)(47,"mat-datepicker",29,4),a(),b(49,yu,8,6,"div",30)(50,Au,9,7,"div",31),a()()()}if(i&2){let s=R(23),f=R(38),c=R(48);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,30,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(3),m("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),m("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",M(13,32,"TITLE.USER")),o(2),m("ngIf",t.fieldsInfo.apiKey==null?null:t.fieldsInfo.apiKey.accessWatchField),o(2),T(M(17,34,"MESSAGE.firewallAllowIP")),o(4),T(M(21,36,"TITLE.firewallAllowIPList")),o(4),m("ngForOf",t.dataModel.firewallAllowIPList),o(),m("placeholder",M(27,38,"TITLE.IP"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",s)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),g(" ",M(30,40,"TITLE.firewallAllowIPList")," "),o(3),m("ngForOf",t.dataModel.firewallAllowIPList),o(4),T(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),y("ngModel",t.dataModel.description),o(3),g("",f.value.length," / 500"),o(),m("ngIf",f.errors==null?null:f.errors.required),o(3),T(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),y("ngModel",t.dataModel.fromDate),m("matDatepicker",c),o(),m("for",c),o(3),m("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[we,O,ce,z,K,se,Ae,Ee,ie,le,Ti,wi,Pi,Ei,xt,Dt,kt,Ai,yi,ue,Rt,Te,J,fe,It,q,me,F],encapsulation:2});var ir=Kn;var Eu=()=>["expandedDetail"],Tu=()=>[5,10,20,100],wu=n=>({display:n});function Pu(n,l){if(n&1&&_(0,"app-core-user-header",41),n&2){let e=S();m("optionId",e.requestLinkUserId)}}function Ru(n,l){if(n&1){let e=I();r(0,"div",42)(1,"a",43),v("click",function(){p(e);let t=S();return u(t.onActionButtonNewRow())}),_(2,"i",44)(3,"br"),a(),r(4,"p",45),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.ADD")," "))}function xu(n,l){if(n&1){let e=I();r(0,"div",42)(1,"a",46),v("click",function(){p(e);let t=S();return u(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",47)(3,"br"),a(),r(4,"p",45),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.EDIT")," "))}function Du(n,l){if(n&1){let e=I();r(0,"div",42)(1,"a",48),v("click",function(){p(e);let t=S();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",49)(3,"br"),a(),r(4,"p",45),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DELETE")," "))}function ku(n,l){if(n&1&&(r(0,"mat-header-cell",50),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Lu(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.id," ")}}function Vu(n,l){if(n&1&&(r(0,"mat-header-cell",50),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Nu(n,l){if(n&1&&(r(0,"mat-cell",51),h(1,"statusCellClass"),_(2,"i",51),h(3,"statusIconClass"),a()),n&2){let e=l.$implicit;m("ngClass",M(1,2,e.recordStatus)),o(2),m("ngClass",M(3,4,e.recordStatus))}}function Bu(n,l){if(n&1&&(r(0,"mat-header-cell",50),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.linkCoreUserId==null?null:e.fieldsInfo.linkCoreUserId.fieldTitle," ")}}function Fu(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"cmsuserinfo"),h(3,"async"),a()),n&2){let e=l.$implicit;o(),g(" ",M(3,3,M(2,1,e.linkCoreUserId))," ")}}function Gu(n,l){if(n&1&&(r(0,"mat-header-cell",50),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle," ")}}function Ou(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",M(2,1,e.fromDate)," ")}}function Hu(n,l){if(n&1&&(r(0,"mat-header-cell",50),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Wu(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",M(2,1,e.expireDate)," ")}}function Uu(n,l){if(n&1&&(r(0,"mat-header-cell",50),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function qu(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",M(2,1,e.createdDate)," ")}}function ju(n,l){if(n&1&&(r(0,"mat-header-cell",50),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Qu(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",M(2,1,e.updatedDate)," ")}}function zu(n,l){n&1&&(r(0,"mat-header-cell"),d(1),h(2,"translate"),a()),n&2&&(o(),g(" ",M(2,1,"TITLE.OPTION")," "))}function Ku(n,l){if(n&1&&(r(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),d(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),m("matMenuTriggerFor",e)}}function Ju(n,l){if(n&1&&(r(0,"tr"),_(1,"td"),r(2,"td"),d(3),h(4,"cmsuserinfo"),h(5,"async"),a()()),n&2){let e=S().$implicit,i=S();o(3),be(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",M(5,4,M(4,2,e.description))," ")}}function Xu(n,l){if(n&1&&(r(0,"tr"),_(1,"td"),r(2,"td"),d(3),h(4,"cmssiteinfo"),h(5,"async"),a()()),n&2){let e=S().$implicit,i=S();o(3),be(" ",i.fieldsInfo.linkCoreSiteId==null?null:i.fieldsInfo.linkCoreSiteId.fieldTitle," : ",M(5,4,M(4,2,e.linkCoreSiteId))," ")}}function Yu(n,l){if(n&1&&(r(0,"tr"),_(1,"td"),r(2,"td"),d(3),h(4,"localeDate"),a()()),n&2){let e=S().$implicit,i=S();o(3),be(" ",i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle," : ",M(4,2,e.fromDate)," ")}}function Zu(n,l){if(n&1&&(r(0,"tr"),_(1,"td"),r(2,"td"),d(3),h(4,"localeDate"),a()()),n&2){let e=S().$implicit,i=S();o(3),be(" ",i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle," : ",M(4,2,e.expireDate)," ")}}function $u(n,l){if(n&1&&(r(0,"tr"),_(1,"td"),r(2,"td"),d(3),h(4,"localeDate"),a()()),n&2){let e=S().$implicit,i=S();o(3),be(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle," : ",M(4,2,e.createdDate)," ")}}function e0(n,l){if(n&1&&(r(0,"tr"),_(1,"td"),r(2,"td"),d(3),h(4,"localeDate"),a()()),n&2){let e=S().$implicit,i=S();o(3),be(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",M(4,2,e.updatedDate)," ")}}function t0(n,l){if(n&1&&(r(0,"mat-cell")(1,"div")(2,"table"),b(3,Ju,6,6,"tr",54)(4,Xu,6,6,"tr",54)(5,Yu,5,4,"tr",54)(6,Zu,5,4,"tr",54)(7,$u,5,4,"tr",54)(8,e0,5,4,"tr",54),r(9,"tr"),_(10,"td")(11,"td"),a()()()()),n&2){let e=l.$implicit;o(3),m("ngIf",e.description),o(),m("ngIf",e.linkCoreSiteId),o(),m("ngIf",e.fromDate),o(),m("ngIf",e.expireDate),o(),m("ngIf",e.createdDate),o(),m("ngIf",e.updatedDate)}}function i0(n,l){n&1&&_(0,"mat-header-row")}function n0(n,l){if(n&1){let e=I();r(0,"mat-row",55),v("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function o0(n,l){if(n&1){let e=I();r(0,"mat-row",56),v("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=p(e).$implicit,s=S();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,s=S();return u(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),m("ngStyle",ui(3,wu,e.expanded===!0?"":"none"))}}var Jn=class Jn extends ft{constructor(e,i,t,s,f,c,k,H,Nt,Yt,Et,oi){super(e,new ci,Et,c,H);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=s;this.router=f;this.tokenHelper=c;this.cdr=k;this.translate=H;this.cmsStoreService=Nt;this.pageInfo=Yt;this.publicHelper=Et;this.dialog=oi;this.requestLinkUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","linkCoreUserId","fromDate","expireDate"];this.tabledisplayedColumnsMobileSource=["recordStatus","linkCoreUserId","fromDate","expireDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ae=>this.onSubmitOptionsSearch(ae)},this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkUserId>0){let ae=new Q;ae.propertyName="LinkCoreUserId",ae.value=this.requestLinkUserId,this.filteModelContent.filters.push(ae)}this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=j.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ve(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ci);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(tr,{height:"90%",panelClass:e,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ir,{height:"90%",panelClass:i,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Q;f.propertyName="recordStatus",f.value=Be.Available,s.filters.push(f),this.contentService.ServiceGetCount(s).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Jn.\u0275fac=function(i){return new(i||Jn)(C(_i),C(N),C(wt),C(We),C(Qe),C(xe),C(V),C(L),C(Re),C(mt),C(B),C(Pe))},Jn.\u0275cmp=D({type:Jn,selectors:[["app-sms-client-list"]],standalone:!1,features:[W],decls:63,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkCoreUserId"],["matColumnDef","fromDate"],["matColumnDef","expireDate"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[4,"ngIf"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=I();b(0,Pu,1,1,"app-core-user-header",3),r(1,"app-cms-html-list",4),E("optionActionGuideNoticeDisplayChange",function(c){return p(s),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),u(c)}),v("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),w(2,5),d(3," -------------------------------------- "),P(),Ve(4,6)(5,7),w(6,8),r(7,"a",9),v("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",10),a(),r(9,"a",9),v("click",function(){return p(s),u(t.onActionButtonReload())}),_(10,"i",11),a(),P(),w(11,12),r(12,"a",13),v("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(13,"mat-slide-toggle",14),d(14),h(15,"translate"),a(),r(16,"a",13),v("click",function(){return p(s),u(t.onActionButtonStatist())}),_(17,"mat-slide-toggle",14),d(18),h(19,"translate"),a(),P(),w(20,15),b(21,Ru,7,3,"div",16),P(),w(22,17),b(23,xu,7,3,"div",16)(24,Du,7,3,"div",16),P(),w(25,18),r(26,"app-cms-search-list",19),E("optionsChange",function(c){return p(s),A(t.optionsSearch,c)||(t.optionsSearch=c),u(c)}),a(),r(27,"app-cms-statist-list",19),E("optionsChange",function(c){return p(s),A(t.optionsStatist,c)||(t.optionsStatist=c),u(c)}),a(),P(),w(28,20),r(29,"mat-table",21,0),v("matSortChange",function(){p(s);let c=R(30);return u(t.onTableSortData(c))}),w(31,22),b(32,ku,2,1,"mat-header-cell",23)(33,Lu,2,1,"mat-cell",24),P(),w(34,25),b(35,Vu,2,1,"mat-header-cell",23)(36,Nu,4,6,"mat-cell",26),P(),w(37,27),b(38,Bu,2,1,"mat-header-cell",23)(39,Fu,4,5,"mat-cell",24),P(),w(40,28),b(41,Gu,2,1,"mat-header-cell",23)(42,Ou,3,3,"mat-cell",24),P(),w(43,29),b(44,Hu,2,1,"mat-header-cell",23)(45,Wu,3,3,"mat-cell",24),P(),w(46,30),b(47,Uu,2,1,"mat-header-cell",23)(48,qu,3,3,"mat-cell",24),P(),w(49,31),b(50,ju,2,1,"mat-header-cell",23)(51,Qu,3,3,"mat-cell",24),P(),w(52,32),b(53,zu,3,3,"mat-header-cell",33)(54,Ku,6,1,"mat-cell",34),P(),w(55,35),b(56,t0,12,6,"mat-cell",24),P(),b(57,i0,1,0,"mat-header-row",36)(58,n0,1,2,"mat-row",37)(59,o0,1,5,"mat-row",38),a(),P(),w(60,39),r(61,"mat-paginator",40,1),v("page",function(c){return p(s),u(t.onTablePageingData(c))}),a(),P(),a()}i&2&&(m("ngIf",t.requestLinkUserId>0),o(),m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),m("checked",t.optionsSearch.data.show),o(),g("",M(15,27,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),g("",M(19,29,"ACTION.STATIST")," "),o(3),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),m("dataSource",t.tableSource),o(28),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(),m("matRowDefColumns",Ne(31,Eu)),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ne(32,Tu)))},dependencies:[je,O,fi,Ge,Te,Ke,Je,Xe,Ye,Ze,$e,et,it,at,nt,tt,st,ot,rt,lt,ct,St,ht,gt,Mt,Qr,Tt,F,gn,Ri,Lt,_t,yt],encapsulation:2});var Mo=Jn;var r0=["*"];function a0(n,l){if(n&1&&(r(0,"label",14),d(1),a()),n&2){let e=S();m("for",ri("app-cms-site-selector-",e.id)),o(),T(e.optionLabel)}}function s0(n,l){if(n&1&&(_(0,"img",15),h(1,"cmsthumbnail")),n&2){let e=S();m("src",x(M(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),Ce)}}function l0(n,l){if(n&1&&(_(0,"img",15),h(1,"cmsthumbnail")),n&2){let e=S().$implicit;m("src",x(M(1,2,e.linkMainImageIdSrc)),Ce)}}function c0(n,l){if(n&1&&(r(0,"mat-option",16),b(1,l0,2,4,"img",5),r(2,"span"),d(3),a()()),n&2){let e=l.$implicit,i=S();m("value",e)("disabled",i.optionDisabled),o(),m("ngIf",e.linkMainImageIdSrc),o(2),T(i.displayOption(e))}}function m0(n,l){n&1&&_(0,"i",17)}function d0(n,l){n&1&&_(0,"i",18)}function p0(n,l){if(n&1){let e=I();r(0,"i",19),v("click",function(){p(e);let t=S();return u(t.onActionSelectClear())}),a()}}function u0(n,l){n&1&&(r(0,"em"),d(1),h(2,"translate"),a()),n&2&&(o(),g("(",M(2,1,"TITLE.Necessary"),")"))}var Ki=class Ki{constructor(l,e,i,t,s,f){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.categoryService=f;this.id=++Ki.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new At;this.formControl=new ei;this.optionPlaceholder="";this.optionRequired=!1;this.optionDisabled=!1;this.optionLabel="";this.optionSelectFirstItem=!1;this.optionChange=new qe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(an(""),on(1500),rn(),sn(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return ve(this,null,function*(){let e=new Y;e.rowPerPage=20,e.accessLoad=!0;let i=new Q;l&&l.length>0&&(i.propertyName="title",i.value=l,i.searchType=Jt.Contains,i.clauseType=Si.Or,e.filters.push(i)),l&&typeof l=="string"&&l.length>10&&(i=new Q,i.propertyName="id",i.value=l,i.searchType=Jt.Equal,i.clauseType=Si.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield tn(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length==0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(nn(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof At){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new At,this.loadOptions()}};Ki.nextId=0,Ki.\u0275fac=function(e){return new(e||Ki)(C(Ie),C(N),C(V),C(B),C(L),C(Ht))},Ki.\u0275cmp=D({type:Ki,selectors:[["app-sms-main-message-category-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionRequired:"optionRequired",optionDisabled:"optionDisabled",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:r0,decls:18,vars:25,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();ln(),r(0,"div",1),_(1,"app-progress-spinner",2),b(2,a0,2,3,"label",3),r(3,"span",4),b(4,s0,2,4,"img",5),d(5," \xA0"),a(),_(6,"input",6),r(7,"mat-autocomplete",7,0),v("optionSelected",function(f){return p(t),u(i.onActionSelect(f.option.value))}),b(9,c0,4,4,"mat-option",8),h(10,"async"),a(),b(11,m0,1,0,"i",9)(12,d0,1,0,"i",10)(13,p0,1,0,"i",11),r(14,"i",12),h(15,"translate"),v("click",function(){return p(t),u(i.onActionButtonReload())}),a(),b(16,u0,3,3,"em",13),cn(17),a()}if(e&2){let t=R(8);o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(),m("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),m("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),m("placeholder",x(i.optionPlaceholder))("id",ri("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Zt("disabled",i.optionDisabled?!0:null),o(),m("displayWith",i.displayFn),o(2),m("ngForOf",M(10,21,i.filteredOptions)),o(2),m("ngIf",!i.formControl.valid),o(),m("ngIf",i.optionRequired&&i.formControl.valid),o(),m("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),X("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),m("title",x(M(15,23,"ACTION.RELOAD"))),o(2),m("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[we,O,z,K,_e,un,Sn,fn,hn,wo,J,q,Tt,F,dt],encapsulation:2});var Xn=Ki;var f0=["vform"];function S0(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",17),E("modelChange",function(t){p(e);let s=S();return A(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();y("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function h0(n,l){n&1&&_(0,"i",22)}function g0(n,l){n&1&&_(0,"i",23)}function M0(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function _0(n,l){if(n&1){let e=I();r(0,"div",12)(1,"label",18),d(2),a(),r(3,"input",19,2),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),a(),b(5,h0,1,0,"i",20)(6,g0,1,0,"i",21),r(7,"em"),d(8),a(),b(9,M0,5,3,"mat-error",15),a()}if(n&2){let e=R(4),i=S();o(2),T(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.title),o(2),m("ngIf",!e.value),o(),m("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function C0(n,l){n&1&&(r(0,"mat-error"),d(1," messageBody is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function b0(n,l){if(n&1){let e=I();r(0,"div",24)(1,"button",25),v("click",function(){p(e);let t=S();return u(t.onFormCancel())}),_(2,"i",26),d(3),h(4,"translate"),a(),r(5,"button",27),_(6,"i",28),d(7),h(8,"translate"),a()()}if(n&2){S();let e=R(10);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var Yn=class Yn extends pt{constructor(e,i,t,s,f,c,k,H){super(s,new mi,c,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.SmsMainMessageContentService=s;this.cmsToastrService=f;this.publicHelper=c;this.cdr=k;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new mi;this.formInfo=new re;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.linkCategoryId&&e.linkCategoryId.length>0&&(this.dataModel.linkCategoryId=e.linkCategoryId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.SmsMainMessageContentService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){if(this.formGroup.valid){if(!this.dataModel.linkCategoryId||this.dataModel.linkCategoryId.length==0){this.cmsToastrService.typeErrorSelected("\u062F\u0633\u062A \u0628\u0646\u062F\u06CC   \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.formInfo.submitButtonEnabled=!1,this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(e){if(!e||e.id?.length==0){this.translate.get("MESSAGE.Category_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkCategoryId=e.id}};Yn.\u0275fac=function(i){return new(i||Yn)(C(oe),C(ne),C(Ie),C(Ci),C(N),C(B),C(V),C(L))},Yn.\u0275cmp=D({type:Yn,selectors:[["app-sms-main-message-content-add"]],viewQuery:function(i,t){if(i&1&&$(f0,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:24,vars:19,consts:[["vform","ngForm"],["messageBody",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.messageBody",1,"color-highlight"],["matInput","","name","dataModel.messageBody","type","text","minlength","1","maxlength","5000","rows","5","id","dataModel.messageBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",3),_(1,"app-progress-spinner",4),r(2,"div",5)(3,"p",6),d(4),a(),r(5,"p"),d(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",7),r(9,"form",8,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(11,S0,1,5,"app-cms-enum-record-status-selector",9),r(12,"app-sms-main-message-category-selector",10),h(13,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectCategory(c))}),a(),b(14,_0,10,8,"div",11),r(15,"div",12)(16,"label",13),d(17),a(),r(18,"textarea",14,1),E("ngModelChange",function(c){return p(s),A(t.dataModel.messageBody,c)||(t.dataModel.messageBody=c),u(c)}),a(),r(20,"em"),d(21),a(),b(22,C0,5,3,"mat-error",15),a(),b(23,b0,9,7,"div",16),a()()()}if(i&2){let s=R(19);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,15,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(3),m("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),m("optionSelectForce",t.dataModel.linkCategoryId)("optionPlaceholder",M(13,17,"TITLE.Category")),o(2),m("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),T(t.fieldsInfo.messageBody==null?null:t.fieldsInfo.messageBody.fieldTitle),o(),m("placeholder",x(t.fieldsInfo.messageBody==null?null:t.fieldsInfo.messageBody.fieldTitle)),y("ngModel",t.dataModel.messageBody),o(3),g("",s.value.length," / 5000"),o(),m("ngIf",s.errors==null?null:s.errors.required),o(),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,ce,z,K,se,_e,Ae,Ee,ie,le,ue,J,fe,q,me,Xn,F],encapsulation:2});var nr=Yn;var v0=["vform"];function I0(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",17),E("modelChange",function(t){p(e);let s=S();return A(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();y("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function y0(n,l){n&1&&_(0,"i",22)}function A0(n,l){n&1&&_(0,"i",23)}function E0(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function T0(n,l){if(n&1){let e=I();r(0,"div",12)(1,"label",18),d(2),a(),r(3,"input",19,2),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),a(),b(5,y0,1,0,"i",20)(6,A0,1,0,"i",21),r(7,"em"),d(8),a(),b(9,E0,5,3,"mat-error",15),a()}if(n&2){let e=R(4),i=S();o(2),T(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.title),o(2),m("ngIf",!e.value),o(),m("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function w0(n,l){n&1&&(r(0,"mat-error"),d(1," messageBody is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function P0(n,l){if(n&1){let e=I();r(0,"div",24)(1,"button",25),v("click",function(){p(e);let t=S();return u(t.onFormCancel())}),_(2,"i",26),d(3),h(4,"translate"),a(),r(5,"button",27),_(6,"i",28),d(7),h(8,"translate"),a()()}if(n&2){S();let e=R(10);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var Zn=class Zn extends ut{constructor(e,i,t,s,f,c,k,H){super(s,new mi,c,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.SmsMainMessageContentService=s;this.cmsToastrService=f;this.publicHelper=c;this.cdr=k;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ze;this.dataModel=new mi;this.formInfo=new re;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.SmsMainMessageContentService.setAccessLoad(),this.SmsMainMessageContentService.setAccessDataType(Fe.Editor),this.SmsMainMessageContentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.SmsMainMessageContentService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){if(this.formGroup.valid){if(!this.dataModel.linkCategoryId||this.dataModel.linkCategoryId.length==0){this.translate.get("MESSAGE.Category_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.formInfo.submitButtonEnabled=!1,this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(e){if(!e||e.id.length==0){this.translate.get("MESSAGE.Category_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkCategoryId=e.id}};Zn.\u0275fac=function(i){return new(i||Zn)(C(oe),C(ne),C(Ie),C(Ci),C(N),C(B),C(V),C(L))},Zn.\u0275cmp=D({type:Zn,selectors:[["app-sms-main-message-content-edit"]],viewQuery:function(i,t){if(i&1&&$(v0,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:24,vars:19,consts:[["vform","ngForm"],["messageBody",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.messageBody",1,"color-highlight"],["matInput","","name","dataModel.messageBody","type","text","minlength","1","maxlength","5000","rows","5","id","dataModel.messageBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",3),_(1,"app-progress-spinner",4),r(2,"div",5)(3,"p",6),d(4),a(),r(5,"p"),d(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",7),r(9,"form",8,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(11,I0,1,5,"app-cms-enum-record-status-selector",9),r(12,"app-sms-main-message-category-selector",10),h(13,"translate"),v("optionChange",function(c){return p(s),u(t.onActionSelectCategory(c))}),a(),b(14,T0,10,8,"div",11),r(15,"div",12)(16,"label",13),d(17),a(),r(18,"textarea",14,1),E("ngModelChange",function(c){return p(s),A(t.dataModel.messageBody,c)||(t.dataModel.messageBody=c),u(c)}),a(),r(20,"em"),d(21),a(),b(22,w0,5,3,"mat-error",15),a(),b(23,P0,9,7,"div",16),a()()()}if(i&2){let s=R(19);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,15,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(3),m("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),m("optionSelectForce",t.dataModel.linkCategoryId)("optionPlaceholder",M(13,17,"TITLE.Category")),o(2),m("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),T(t.fieldsInfo.messageBody==null?null:t.fieldsInfo.messageBody.fieldTitle),o(),m("placeholder",x(t.fieldsInfo.messageBody==null?null:t.fieldsInfo.messageBody.fieldTitle)),y("ngModel",t.dataModel.messageBody),o(3),g("",s.value.length," / 5000"),o(),m("ngIf",s.errors==null?null:s.errors.required),o(),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,ce,z,K,se,_e,Ae,Ee,ie,le,ue,J,fe,q,me,Xn,F],encapsulation:2});var or=Zn;var R0=["vform"];function x0(n,l){if(n&1){let e=I();w(0),r(1,"div",6)(2,"label",10),d(3),a(),r(4,"input",11,0),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModelResultCategory.item.title,t)||(s.dataModelResultCategory.item.title=t),u(t)}),a()(),r(6,"div",6)(7,"label",7),d(8),a(),r(9,"textarea",8,0),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModelResultCategory.item.description,t)||(s.dataModelResultCategory.item.description=t),u(t)}),d(11,"        "),a()(),P()}if(n&2){let e=S();o(3),T(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),y("ngModel",e.dataModelResultCategory.item.title),o(4),T(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),y("ngModel",e.dataModelResultCategory.item.description)}}function D0(n,l){if(n&1){let e=I();r(0,"div",12)(1,"button",13),v("click",function(){p(e);let t=S();return u(t.onFormMove())}),_(2,"i",14),d(3),h(4,"translate"),a(),r(5,"button",15),v("click",function(){p(e);let t=S();return u(t.onFormDelete())}),_(6,"i",16),d(7),h(8,"translate"),a(),r(9,"button",17),v("click",function(){p(e);let t=S();return u(t.onFormCancel())}),_(10,"i",14),d(11),h(12,"translate"),a()()}if(n&2){let e=S();o(),m("disabled",!e.formInfo.submitButtonEnabled),o(2),g(" ",M(4,5,"TITLE.MOVE_DATA")," "),o(2),m("disabled",!e.formInfo.submitButtonEnabled),o(2),g(" ",M(8,7,"ACTION.DELETE")," "),o(4),g(" ",M(12,9,"ACTION.CANCEL")," ")}}var $n=class $n{constructor(l,e,i,t,s,f,c){this.data=l;this.dialogRef=e;this.publicHelper=i;this.smsMainMessageCategoryService=t;this.cdr=s;this.translate=f;this.cmsToastrService=c;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultCategory=new G;this.dataModelResultCategoryAllData=new G;this.dataModel={};this.formInfo=new re;this.publicHelper.processService.cdr=this.cdr,l&&l.id&&l.id.length>0&&(this.requestId=l.id)}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(),this.DataGetAll()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.setAccessLoad(),this.smsMainMessageCategoryService.setAccessDataType(Fe.Editor),this.smsMainMessageCategoryService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultCategory=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}DataGetAll(){this.translate.get("TITLE.Loading_Information").subscribe(i=>{this.formInfo.submitResultMessage=i});let l=new Y;l.rowPerPage=100;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceGetAll(l).subscribe({next:i=>{this.dataModelResultCategoryAllData=i,i.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetAll()),this.publicHelper.processService.processStop(e)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormMove(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(!this.formGroup.valid)return;this.formInfo.submitButtonEnabled=!0,this.dataModel.newCatId===this.requestId&&(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitButtonEnabled=!0),this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceMove(this.requestId,this.dataModel.newCatId).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.The_Transfer_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessMove()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMove()),this.formInfo.submitButtonEnabled=!0,this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormChangeNewCatId(l){if(this.formInfo.submitResultMessage="",this.requestId.length===0||!l||l.id.length<=0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.dataModel.newCatId=l.id,this.dataModel.newCatId===this.requestId?(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitButtonEnabled=!1):(this.formInfo.submitButtonEnabled=!0,this.formInfo.submitResultMessage="")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$n.\u0275fac=function(e){return new(e||$n)(C(oe),C(ne),C(B),C(Ht),C(V),C(L),C(N))},$n.\u0275cmp=D({type:$n,selectors:[["app-sms-main-message-category-delete"]],viewQuery:function(e,i){if(e&1&&$(R0,5),e&2){let t;ee(t=te())&&(i.formGroup=t.first)}},standalone:!1,decls:16,vars:9,consts:[["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultCategory.item.description",1,"color-highlight"],["matInput","","type","text","name","dataModelResultCategory.item.description","minlength","1","maxlength","100","rows","5","id","dataModelResultCategory.item.description","placeholder","0",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],["for","dataModelResultCategory.item.title",1,"color-highlight"],["matInput","","type","text","name","dataModelResultCategory.item.title","minlength","3","maxlength","50","id","dataModelResultCategory.item.title","placeholder","0",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"]],template:function(e,i){if(e&1){let t=I();r(0,"div",1),_(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),d(4),a(),r(5,"p"),d(6),h(7,"translate"),a(),b(8,x0,12,4,"ng-container",5),r(9,"div",6)(10,"label",7),d(11),a(),r(12,"textarea",8,0),E("ngModelChange",function(f){return p(t),A(i.dataModelResultCategory.item.description,f)||(i.dataModelResultCategory.item.description=f),u(f)}),d(14,"      "),a()(),b(15,D0,13,11,"div",9),a()()}e&2&&(o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(3),g(" ",i.formInfo.formTitle," "),o(2),g(" ",M(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("ngIf",i.dataModelResultCategory==null?null:i.dataModelResultCategory.item),o(3),T(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),y("ngModel",i.dataModelResultCategory.item.description),o(3),m("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[O,z,K,Ae,Ee,ie,J,q,F],encapsulation:2});var rr=$n;var k0=["vform"];function L0(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",23),E("modelChange",function(t){p(e);let s=S();return A(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();y("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function V0(n,l){n&1&&_(0,"i",28)}function N0(n,l){n&1&&_(0,"i",29)}function B0(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function F0(n,l){if(n&1){let e=I();r(0,"div",12)(1,"label",24),d(2),a(),r(3,"input",25,3),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),a(),b(5,V0,1,0,"i",26)(6,N0,1,0,"i",27),r(7,"em"),d(8),a(),b(9,B0,5,3,"mat-error",15),a()}if(n&2){let e=R(4),i=S();o(2),T(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.title),o(2),m("ngIf",!e.value),o(),m("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function G0(n,l){n&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function O0(n,l){if(n&1&&(_(0,"img",30),h(1,"cmsthumbnail")),n&2){let e=S();m("src",x(M(1,2,e.dataModel.linkMainImageIdSrc)),Ce)}}function H0(n,l){if(n&1){let e=I();r(0,"div",31)(1,"button",32),v("click",function(){p(e);let t=S();return u(t.onFormCancel())}),_(2,"i",33),d(3),h(4,"translate"),a(),r(5,"button",34),_(6,"i",35),d(7),h(8,"translate"),a()()}if(n&2){S();let e=R(10);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var eo=class eo extends ut{constructor(e,i,t,s,f,c,k,H){super(s,new At,c,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainMessageCategoryService=s;this.cmsToastrService=f;this.publicHelper=c;this.cdr=k;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ze;this.dataModel=new At;this.formInfo=new re;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&e.id.length>0&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId.length==0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.setAccessLoad(),this.smsMainMessageCategoryService.setAccessDataType(Fe.Editor),this.smsMainMessageCategoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};eo.\u0275fac=function(i){return new(i||eo)(C(oe),C(ne),C(Ie),C(Ht),C(N),C(B),C(V),C(L))},eo.\u0275cmp=D({type:eo,selectors:[["app-sms-main-message-category-edit"]],viewQuery:function(i,t){if(i&1&&$(k0,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:34,vars:36,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",4),_(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),d(4),a(),r(5,"p"),d(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",8),r(9,"form",9,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(11,L0,1,5,"app-cms-enum-record-status-selector",10)(12,F0,10,8,"div",11),r(13,"div",12)(14,"label",13),d(15),a(),r(16,"textarea",14,1),E("ngModelChange",function(c){return p(s),A(t.dataModel.description,c)||(t.dataModel.description=c),u(c)}),a(),r(18,"em"),d(19),a(),b(20,G0,5,3,"mat-error",15),a(),r(21,"div",16)(22,"a",17),h(23,"cmsthumbnail"),b(24,O0,2,4,"img",18),a()(),r(25,"div",12)(26,"label",19),v("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),d(27),h(28,"translate"),a(),r(29,"input",20,2),h(31,"translate"),E("ngModelChange",function(c){return p(s),A(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),u(c)}),v("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),a(),r(32,"cms-file-manager",21),v("itemSelected",function(c){return p(s),u(t.onActionFileSelected(c))}),E("openFormChange",function(c){return p(s),A(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),u(c)}),a()(),b(33,H0,9,7,"div",22),a()()()}if(i&2){let s=R(17);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(3),m("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),m("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),T(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),y("ngModel",t.dataModel.description),o(3),g("",s.value.length," / 500"),o(),m("ngIf",s.errors==null?null:s.errors.required),o(2),m("href",x(M(23,30,t.dataModel.linkMainImageIdSrc)),Ce),o(2),m("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),T(M(28,32,"TITLE.Icon_File")),o(2),m("placeholder",x(M(31,34,"TITLE.Original_File_ID"))),y("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("isPopup",!0),y("openForm",t.fileManagerOpenForm),m("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,ce,z,K,se,_e,Ae,Ee,ie,le,ue,J,fe,q,me,Wt,F,dt],encapsulation:2});var ar=eo;var W0=["vform"];function U0(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",23),E("modelChange",function(t){p(e);let s=S();return A(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();y("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function q0(n,l){n&1&&_(0,"i",28)}function j0(n,l){n&1&&_(0,"i",29)}function Q0(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function z0(n,l){if(n&1){let e=I();r(0,"div",12)(1,"label",24),d(2),a(),r(3,"input",25,3),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),a(),b(5,q0,1,0,"i",26)(6,j0,1,0,"i",27),r(7,"em"),d(8),a(),b(9,Q0,5,3,"mat-error",15),a()}if(n&2){let e=R(4),i=S();o(2),T(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.title),o(2),m("ngIf",!e.value),o(),m("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function K0(n,l){n&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function J0(n,l){if(n&1&&(_(0,"img",30),h(1,"cmsthumbnail")),n&2){let e=S();m("src",x(M(1,2,e.dataModel.linkMainImageIdSrc)),Ce)}}function X0(n,l){if(n&1){let e=I();r(0,"div",31)(1,"button",32),v("click",function(){p(e);let t=S();return u(t.onFormCancel())}),_(2,"i",33),d(3),h(4,"translate"),a(),r(5,"button",34),_(6,"i",35),d(7),h(8,"translate"),a()()}if(n&2){S();let e=R(10);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var to=class to extends pt{constructor(e,i,t,s,f,c,k,H){super(s,new At,c,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainMessageCategoryService=s;this.cmsToastrService=f;this.publicHelper=c;this.cdr=k;this.translate=H;this.requestParentId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new At;this.formInfo=new re;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.parentId&&e.parentId.length>0&&(this.requestParentId=e.parentId),this.requestParentId.length>0&&(this.dataModel.linkParentId=this.requestParentId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};to.\u0275fac=function(i){return new(i||to)(C(oe),C(ne),C(Ie),C(Ht),C(N),C(B),C(V),C(L))},to.\u0275cmp=D({type:to,selectors:[["app-sms-main-message-category-add"]],viewQuery:function(i,t){if(i&1&&$(W0,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:34,vars:36,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",4),_(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),d(4),a(),r(5,"p"),d(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",8),r(9,"form",9,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(11,U0,1,5,"app-cms-enum-record-status-selector",10)(12,z0,10,8,"div",11),r(13,"div",12)(14,"label",13),d(15),a(),r(16,"textarea",14,1),E("ngModelChange",function(c){return p(s),A(t.dataModel.description,c)||(t.dataModel.description=c),u(c)}),a(),r(18,"em"),d(19),a(),b(20,K0,5,3,"mat-error",15),a(),r(21,"div",16)(22,"a",17),h(23,"cmsthumbnail"),b(24,J0,2,4,"img",18),a()(),r(25,"div",12)(26,"label",19),v("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),d(27),h(28,"translate"),a(),r(29,"input",20,2),h(31,"translate"),E("ngModelChange",function(c){return p(s),A(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),u(c)}),v("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),a(),r(32,"cms-file-manager",21),v("itemSelected",function(c){return p(s),u(t.onActionFileSelected(c))}),E("openFormChange",function(c){return p(s),A(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),u(c)}),a()(),b(33,X0,9,7,"div",22),a()()()}if(i&2){let s=R(17);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(3),m("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),m("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),T(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),y("ngModel",t.dataModel.description),o(3),g("",s.value.length," / 500"),o(),m("ngIf",s.errors==null?null:s.errors.required),o(2),m("href",x(M(23,30,t.dataModel.linkMainImageIdSrc)),Ce),o(2),m("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),T(M(28,32,"TITLE.Icon_File")),o(2),m("placeholder",x(M(31,34,"TITLE.Original_File_ID"))),y("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("isPopup",!0),y("openForm",t.fileManagerOpenForm),m("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,ce,z,K,se,_e,Ae,Ee,ie,le,ue,J,fe,q,me,Wt,F,dt],encapsulation:2});var sr=to;function Y0(n,l){if(n&1){let e=I();r(0,"button",14),v("click",function(){p(e);let t=S();return u(t.onActionAdd())}),d(1),h(2,"translate"),a()}n&2&&(o(),g(" ",M(2,1,"ACTION.ADD")," "))}function Z0(n,l){if(n&1){let e=I();r(0,"button",15),v("click",function(){p(e);let t=S();return u(t.onActionEdit())}),d(1),h(2,"translate"),a()}n&2&&(o(),g(" ",M(2,1,"ACTION.EDIT")," "))}function $0(n,l){if(n&1){let e=I();r(0,"button",16),v("click",function(){p(e);let t=S();return u(t.onActionDelete())}),d(1),h(2,"translate"),a()}n&2&&(o(),g(" ",M(2,1,"ACTION.DELETE")," "))}function ef(n,l){if(n&1){let e=I();r(0,"button",17),v("click",function(){p(e);let t=S();return u(t.onActionButtonReload())}),r(1,"mat-icon",18),h(2,"translate"),d(3,"refresh"),a()()}if(n&2){let e=S();o(),X("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),m("title",x(M(2,4,"ACTION.RELOAD")))}}function tf(n,l){if(n&1){let e=I();r(0,"mat-tree-node",19),_(1,"button",20),r(2,"span",21),v("click",function(){let t=p(e).$implicit,s=S();return u(s.onActionSelect(t))}),d(3),a()()}if(n&2){let e=l.$implicit,i=S();X("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===e.id),o(3),T(e.title)}}function nf(n,l){if(n&1){let e=I();r(0,"mat-tree-node",22)(1,"button",23)(2,"mat-icon",24),d(3),a()(),r(4,"span",21),v("click",function(){let t=p(e).$implicit,s=S();return u(s.onActionSelect(t))}),d(5),a()()}if(n&2){let e=l.$implicit,i=S(),t=R(12);X("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===e.id),m("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),Zt("type","button")("aria-label","Toggle "+e.title),o(2),g(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),T(e.title)}}var io=class io{constructor(l,e,i,t,s,f,c,k,H){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=s;this.publicHelper=f;this.tokenHelper=c;this.cmsStoreService=k;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new At;this.dataModelResult=new G;this.filterModel=new Y;this.dataSource=new Vo;this.optionChange=new qe;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!!e.children&&e.children.length>0;this.childrenAccessor=l=>l.children??[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>ve(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new At,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){let l="";this.dataModelSelect&&this.dataModelSelect.id?.length>0&&(l=this.dataModelSelect.id);let e=new lo;e.disableClose=!0,e.autoFocus=!0,e.data={parentId:l},this.dialog.open(sr,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ar,{height:"90%",panelClass:e,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(rr,{height:"90%",panelClass:e,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};io.\u0275fac=function(e){return new(e||io)(C(N),C(Ie),C(Ht),C(Pe),C(V),C(B),C(xe),C(Re),C(L))},io.\u0275cmp=D({type:io,selectors:[["app-sms-main-message-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),w(1,2),d(2),h(3,"translate"),P(),w(4,3),b(5,Y0,3,3,"button",4)(6,Z0,3,3,"button",5)(7,$0,3,3,"button",6)(8,ef,4,6,"button",7),P(),w(9,8),_(10,"app-progress-spinner",9),r(11,"mat-tree",10,0),b(13,tf,4,3,"mat-tree-node",11)(14,nf,6,8,"mat-tree-node",12),a(),P(),Ve(15,13),a()),e&2&&(m("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),g(" ",M(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),m("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),m("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),m("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow)&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),m("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),o(2),m("optionsInfoAreaId",i.constructorInfoAreaId),o(),m("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),m("matTreeNodeDefWhen",i.hasChild))},dependencies:[O,Ge,Te,xo,Do,Lo,ko,Ro,q,Fo,F],encapsulation:2});var lr=io;var rf=()=>[5,10,20,100];function af(n,l){if(n&1){let e=I();r(0,"div",37)(1,"a",38),v("click",function(){p(e);let t=S();return u(t.onActionButtonNewRow())}),_(2,"i",39)(3,"br"),a(),r(4,"p",40),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.ADD")," "))}function sf(n,l){if(n&1){let e=I();r(0,"div",37)(1,"a",41),v("click",function(){p(e);let t=S();return u(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",42)(3,"br"),a(),r(4,"p",40),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.EDIT")," "))}function lf(n,l){if(n&1){let e=I();r(0,"div",37)(1,"a",43),v("click",function(){p(e);let t=S();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",44)(3,"br"),a(),r(4,"p",40),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DELETE")," "))}function cf(n,l){if(n&1&&(r(0,"mat-header-cell",45),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function mf(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.id," ")}}function df(n,l){if(n&1&&(r(0,"mat-header-cell",45),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function pf(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"cmssiteinfo"),h(3,"async"),a()),n&2){let e=l.$implicit;o(),g(" ",M(3,3,M(2,1,e.linkSiteId))," ")}}function uf(n,l){if(n&1&&(r(0,"mat-header-cell",45),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ff(n,l){if(n&1&&(r(0,"mat-cell"),_(1,"i",46),h(2,"statusIconClass"),a()),n&2){let e=l.$implicit;o(),m("ngClass",M(2,1,e.recordStatus))}}function Sf(n,l){if(n&1&&(r(0,"mat-header-cell",45),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function hf(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.title," ")}}function gf(n,l){if(n&1&&(r(0,"mat-header-cell",45),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Mf(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",M(2,1,e.createdDate)," ")}}function _f(n,l){if(n&1&&(r(0,"mat-header-cell",45),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Cf(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",M(2,1,e.updatedDate)," ")}}function bf(n,l){n&1&&(r(0,"mat-header-cell"),d(1),h(2,"translate"),a()),n&2&&(o(),g(" ",M(2,1,"TITLE.OPTION")," "))}function vf(n,l){if(n&1&&(r(0,"mat-cell",47)(1,"button",48)(2,"mat-icon"),d(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),m("matMenuTriggerFor",e)}}function If(n,l){n&1&&_(0,"mat-header-row")}function yf(n,l){if(n&1){let e=I();r(0,"mat-row",49),v("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var no=class no extends ft{constructor(e,i,t,s,f,c,k,H,Nt,Yt,Et,oi){super(e,new mi,Et,c,H);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.router=s;this.activatedRoute=f;this.tokenHelper=c;this.cmsStoreService=k;this.translate=H;this.cdr=Nt;this.pageInfo=Yt;this.publicHelper=Et;this.dialog=oi;this.requestLinkCategoryId="";this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.categoryModelSelected=new At;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","title","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","createdDate","updatedDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkCategoryId=this.activatedRoute.snapshot.paramMap.get("LinkCategoryId"),this.optionsSearch.parentMethods={onSubmit:ae=>this.onSubmitOptionsSearch(ae)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=j.Descending,this.requestLinkCategoryId&&this.requestLinkCategoryId.length>0){let ae=new Q;ae.propertyName="LinkCategoryId",ae.value=this.requestLinkCategoryId,this.filteModelContent.filters.push(ae)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ve(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new mi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id?.length>0){let t=new Q;t.propertyName="LinkCategoryId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){let e=new lo;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={linkCategoryId:this.categoryModelSelected?.id},this.dialog.open(nr,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new lo;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id},this.dialog.open(or,i).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Q;f.propertyName="recordStatus",f.value=Be.Available,s.filters.push(f),this.contentService.ServiceGetCount(s).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}};no.\u0275fac=function(i){return new(i||no)(C(Ci),C(N),C(We),C(Qe),C(wt),C(xe),C(Re),C(L),C(V),C(mt),C(B),C(Pe))},no.\u0275cmp=D({type:no,selectors:[["app-sms-main-message-content-list"]],standalone:!1,features:[W],decls:56,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=I();r(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(c){return p(s),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),u(c)}),v("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),w(1,4),r(2,"app-sms-main-message-category-tree",5),v("optionChange",function(c){return p(s),u(t.onActionSelectorSelect(c))}),a(),P(),Ve(3,6)(4,7),w(5,8),r(6,"a",9),v("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),_(7,"i",10),a(),r(8,"a",9),v("click",function(){return p(s),u(t.onActionButtonReload())}),_(9,"i",11),a(),P(),w(10,12),r(11,"a",13),v("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(12,"mat-slide-toggle",14),d(13),h(14,"translate"),a(),r(15,"a",13),v("click",function(){return p(s),u(t.onActionButtonStatist())}),_(16,"mat-slide-toggle",14),d(17),h(18,"translate"),a(),P(),w(19,15),b(20,af,7,3,"div",16),P(),w(21,17),b(22,sf,7,3,"div",16)(23,lf,7,3,"div",16),P(),w(24,18),r(25,"app-cms-search-list",19),E("optionsChange",function(c){return p(s),A(t.optionsSearch,c)||(t.optionsSearch=c),u(c)}),a(),r(26,"app-cms-statist-list",19),E("optionsChange",function(c){return p(s),A(t.optionsStatist,c)||(t.optionsStatist=c),u(c)}),a(),P(),w(27,20),r(28,"mat-table",21,0),v("matSortChange",function(){p(s);let c=R(29);return u(t.onTableSortData(c))}),w(30,22),b(31,cf,2,1,"mat-header-cell",23)(32,mf,2,1,"mat-cell",24),P(),w(33,25),b(34,df,2,1,"mat-header-cell",23)(35,pf,4,5,"mat-cell",24),P(),w(36,26),b(37,uf,2,1,"mat-header-cell",23)(38,ff,3,3,"mat-cell",24),P(),w(39,27),b(40,Sf,2,1,"mat-header-cell",23)(41,hf,2,1,"mat-cell",24),P(),w(42,28),b(43,gf,2,1,"mat-header-cell",23)(44,Mf,3,3,"mat-cell",24),P(),w(45,29),b(46,_f,2,1,"mat-header-cell",23)(47,Cf,3,3,"mat-cell",24),P(),w(48,30),b(49,bf,3,3,"mat-header-cell",31)(50,vf,6,1,"mat-cell",32),P(),b(51,If,1,0,"mat-header-row",33)(52,yf,1,2,"mat-row",34),a(),P(),w(53,35),r(54,"mat-paginator",36,1),v("page",function(c){return p(s),u(t.onTablePageingData(c))}),a(),P(),a()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","sms.message.content.list"),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!t.requestLinkCategoryId||t.requestLinkCategoryId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),m("checked",t.optionsSearch.data.show),o(),g("",M(14,25,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),g("",M(18,27,"ACTION.STATIST")," "),o(3),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),m("dataSource",t.tableSource),o(23),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ne(29,rf)))},dependencies:[je,O,Ge,Te,Ke,Je,Xe,Ye,Ze,$e,et,it,at,nt,tt,st,ot,rt,lt,ct,St,ht,gt,Mt,lr,Tt,F,Ri,Lt,_t],encapsulation:2});var cr=no;var Af=["vform"];function Ef(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",29),E("modelChange",function(t){p(e);let s=S();return A(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();y("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Tf(n,l){n&1&&_(0,"i",32)}function wf(n,l){n&1&&_(0,"i",33)}function Pf(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Rf(n,l){if(n&1){let e=I();r(0,"div",13)(1,"label",30),d(2),a(),r(3,"input",31,4),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),a(),b(5,Tf,1,0,"i",16)(6,wf,1,0,"i",17),r(7,"em"),d(8),a(),b(9,Pf,5,3,"mat-error",18),a()}if(n&2){let e=R(4),i=S();o(2),T(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.title),o(2),m("ngIf",!e.value),o(),m("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function xf(n,l){n&1&&_(0,"i",32)}function Df(n,l){n&1&&_(0,"i",33)}function kf(n,l){n&1&&(r(0,"mat-error"),d(1," ClassName is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Lf(n,l){if(n&1){let e=I();r(0,"div",34)(1,"div",35)(2,"h5",36),d(3),a()(),r(4,"div",37)(5,"div",38)(6,"input",39),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.abilityCreditCheck,t)||(s.dataModel.abilityCreditCheck=t),u(t)}),a(),_(7,"label",40),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.abilityCreditCheck==null?null:e.fieldsInfo.abilityCreditCheck.fieldTitle," "),o(3),y("ngModel",e.dataModel.abilityCreditCheck)}}function Vf(n,l){if(n&1){let e=I();r(0,"div",34)(1,"div",35)(2,"h5",41),d(3),a()(),r(4,"div",37)(5,"div",38)(6,"input",42),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.abilityDelivery,t)||(s.dataModel.abilityDelivery=t),u(t)}),a(),_(7,"label",43),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.abilityDelivery==null?null:e.fieldsInfo.abilityDelivery.fieldTitle," "),o(3),y("ngModel",e.dataModel.abilityDelivery)}}function Nf(n,l){if(n&1){let e=I();r(0,"div",34)(1,"div",35)(2,"h5",44),d(3),a()(),r(4,"div",37)(5,"div",38)(6,"input",45),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.abilityReceive,t)||(s.dataModel.abilityReceive=t),u(t)}),a(),_(7,"label",46),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.abilityReceive==null?null:e.fieldsInfo.abilityReceive.fieldTitle," "),o(3),y("ngModel",e.dataModel.abilityReceive)}}function Bf(n,l){n&1&&(r(0,"mat-error"),d(1," Memo is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Ff(n,l){if(n&1&&(_(0,"img",47),h(1,"cmsthumbnail")),n&2){let e=S();m("src",x(M(1,2,e.dataModel.linkMainImageIdSrc)),Ce)}}function Gf(n,l){if(n&1){let e=I();r(0,"div",48)(1,"button",49),v("click",function(){p(e);let t=S();return u(t.onFormCancel())}),_(2,"i",50),d(3),h(4,"translate"),a(),r(5,"button",51),_(6,"i",52),d(7),h(8,"translate"),a()()}if(n&2){S();let e=R(13);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var oo=class oo extends pt{constructor(e,i,t,s,f,c,k,H){super(s,new hi,c,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainApiPathPublicConfigService=s;this.cmsToastrService=f;this.publicHelper=c;this.cdr=k;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new hi;this.formInfo=new re;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPublicConfigService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};oo.\u0275fac=function(i){return new(i||oo)(C(oe),C(ne),C(Ie),C($t),C(N),C(B),C(V),C(L))},oo.\u0275cmp=D({type:oo,selectors:[["app-sms-publicconfig-add"]],viewQuery:function(i,t){if(i&1&&$(Af,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:50,vars:48,consts:[["vform","ngForm"],["ClassName",""],["Memo",""],["LinkMainImageId",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.className",1,"color-highlight"],["matInput","","type","text","name","dataModel.className","placeholder","ClassName","minlength","3","maxlength","100","required","","id","dataModel.className",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.abilityCreditCheck",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.abilityCreditCheck","name","dataModel.abilityCreditCheck",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityCreditCheck",1,"custom-control-label"],["data-trigger-switch","dataModel.abilityDelivery",1,"font-600","font-14"],["type","checkbox","id","dataModel.abilityDelivery","name","dataModel.abilityDelivery",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityDelivery",1,"custom-control-label"],["data-trigger-switch","dataModel.abilityReceive",1,"font-600","font-14"],["type","checkbox","id","dataModel.abilityReceive","name","dataModel.abilityReceive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityReceive",1,"custom-control-label"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",5),_(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),d(4),a(),r(5,"h4"),d(6),h(7,"translate"),a(),r(8,"p"),d(9),h(10,"translate"),a(),_(11,"app-cms-form-result-message",9),r(12,"form",10,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(14,Ef,1,5,"app-cms-enum-record-status-selector",11)(15,Rf,10,8,"div",12),r(16,"div",13)(17,"label",14),d(18),a(),r(19,"input",15,1),E("ngModelChange",function(c){return p(s),A(t.dataModel.className,c)||(t.dataModel.className=c),u(c)}),a(),b(21,xf,1,0,"i",16)(22,Df,1,0,"i",17),r(23,"em"),d(24),a(),b(25,kf,5,3,"mat-error",18),a(),b(26,Lf,8,2,"div",19)(27,Vf,8,2,"div",19)(28,Nf,8,2,"div",19),r(29,"div",13)(30,"label",20),d(31),a(),r(32,"textarea",21,2),E("ngModelChange",function(c){return p(s),A(t.dataModel.memo,c)||(t.dataModel.memo=c),u(c)}),a(),r(34,"em"),d(35),a(),b(36,Bf,5,3,"mat-error",18),a(),r(37,"div",22)(38,"a",23),h(39,"cmsthumbnail"),b(40,Ff,2,4,"img",24),a()(),r(41,"div",13)(42,"label",25),v("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),d(43),h(44,"translate"),a(),r(45,"input",26,3),h(47,"translate"),E("ngModelChange",function(c){return p(s),A(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),u(c)}),v("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),a(),r(48,"cms-file-manager",27),v("itemSelected",function(c){return p(s),u(t.onActionFileSelected(c))}),E("openFormChange",function(c){return p(s),A(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),u(c)}),a()(),b(49,Gf,9,7,"div",28),a()()()}if(i&2){let s=R(20),f=R(33);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),T(M(7,38,"TITLE.BASIC_SERVICE_SETTINGS")),o(3),g(" ",M(10,40,"TITLE.BASIC_SERVICE_SETTINGS_DESCRIPTION")," "),o(2),m("formInfo",t.formInfo),o(3),m("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),m("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),T(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),y("ngModel",t.dataModel.className),o(2),m("ngIf",!s.value),o(),m("ngIf",s.value),o(2),g("",s.value.length," / 100"),o(),m("ngIf",s.errors==null?null:s.errors.required),o(),m("ngIf",t.fieldsInfo.abilityCreditCheck==null?null:t.fieldsInfo.abilityCreditCheck.accessWatchField),o(),m("ngIf",t.fieldsInfo.abilityDelivery==null?null:t.fieldsInfo.abilityDelivery.accessWatchField),o(),m("ngIf",t.fieldsInfo.abilityReceive==null?null:t.fieldsInfo.abilityReceive.accessWatchField),o(3),T(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),y("ngModel",t.dataModel.memo),o(3),g("",f.value.length," / 500"),o(),m("ngIf",f.errors==null?null:f.errors.required),o(2),m("href",x(M(39,42,t.dataModel.linkMainImageIdSrc)),Ce),o(2),m("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),T(M(44,44,"TITLE.Icon_File")),o(2),m("placeholder",x(M(47,46,"TITLE.Original_File_ID"))),y("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("isPopup",!0),y("openForm",t.fileManagerOpenForm),m("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,ce,z,Le,K,se,_e,Ae,Ee,ie,le,ue,J,fe,q,me,Wt,F,dt],encapsulation:2});var mr=oo;var Of=["vform"];function Hf(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",30),E("modelChange",function(t){p(e);let s=S();return A(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=S();y("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Wf(n,l){n&1&&_(0,"i",33)}function Uf(n,l){n&1&&_(0,"i",34)}function qf(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function jf(n,l){if(n&1){let e=I();r(0,"div",13)(1,"label",31),d(2),a(),r(3,"input",32,4),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),a(),b(5,Wf,1,0,"i",16)(6,Uf,1,0,"i",17),r(7,"em"),d(8),a(),b(9,qf,5,3,"mat-error",18),a()}if(n&2){let e=R(4),i=S();o(2),T(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.title),o(2),m("ngIf",!e.value),o(),m("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function Qf(n,l){n&1&&_(0,"i",33)}function zf(n,l){n&1&&_(0,"i",34)}function Kf(n,l){n&1&&(r(0,"mat-error"),d(1," ClassName is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Jf(n,l){if(n&1){let e=I();r(0,"div",35)(1,"div",36)(2,"h5",37),d(3),a()(),r(4,"div",38)(5,"div",39)(6,"input",40),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.abilityCreditCheck,t)||(s.dataModel.abilityCreditCheck=t),u(t)}),a(),_(7,"label",41),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.abilityCreditCheck==null?null:e.fieldsInfo.abilityCreditCheck.fieldTitle," "),o(3),y("ngModel",e.dataModel.abilityCreditCheck)}}function Xf(n,l){if(n&1){let e=I();r(0,"div",35)(1,"div",36)(2,"h5",42),d(3),a()(),r(4,"div",38)(5,"div",39)(6,"input",43),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.abilityDelivery,t)||(s.dataModel.abilityDelivery=t),u(t)}),a(),_(7,"label",44),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.abilityDelivery==null?null:e.fieldsInfo.abilityDelivery.fieldTitle," "),o(3),y("ngModel",e.dataModel.abilityDelivery)}}function Yf(n,l){if(n&1){let e=I();r(0,"div",35)(1,"div",36)(2,"h5",45),d(3),a()(),r(4,"div",38)(5,"div",39)(6,"input",46),E("ngModelChange",function(t){p(e);let s=S();return A(s.dataModel.abilityReceive,t)||(s.dataModel.abilityReceive=t),u(t)}),a(),_(7,"label",47),a()()()}if(n&2){let e=S();o(3),g(" ",e.fieldsInfo.abilityReceive==null?null:e.fieldsInfo.abilityReceive.fieldTitle," "),o(3),y("ngModel",e.dataModel.abilityReceive)}}function Zf(n,l){n&1&&(r(0,"mat-error"),d(1," Memo is "),r(2,"strong"),d(3),h(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function $f(n,l){if(n&1&&(_(0,"img",48),h(1,"cmsthumbnail")),n&2){let e=S();m("src",x(M(1,2,e.dataModel.linkMainImageIdSrc)),Ce)}}function eS(n,l){if(n&1){let e=I();r(0,"div",49)(1,"button",50),v("click",function(){p(e);let t=S();return u(t.onFormCancel())}),_(2,"i",51),d(3),h(4,"translate"),a(),r(5,"button",52),_(6,"i",53),d(7),h(8,"translate"),a()()}if(n&2){S();let e=R(13);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var ro=class ro extends ut{constructor(e,i,t,s,f,c,k,H){super(s,new hi,c,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainApiPathPublicConfigService=s;this.cmsToastrService=f;this.publicHelper=c;this.cdr=k;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ze;this.dataModel=new Rr;this.formInfo=new re;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPublicConfigService.setAccessLoad(),this.smsMainApiPathPublicConfigService.setAccessDataType(Fe.Editor),this.smsMainApiPathPublicConfigService.ServiceGetOneWithJsonFormatter(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPublicConfigService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ro.\u0275fac=function(i){return new(i||ro)(C(oe),C(ne),C(Ie),C($t),C(N),C(B),C(V),C(L))},ro.\u0275cmp=D({type:ro,selectors:[["app-sms-publicconfig-edit"]],viewQuery:function(i,t){if(i&1&&$(Of,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:51,vars:51,consts:[["vform","ngForm"],["ClassName",""],["Memo",""],["LinkMainImageId",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.className",1,"color-highlight"],["matInput","","type","text","name","dataModel.className","placeholder","ClassName","minlength","3","maxlength","100","required","","id","dataModel.className",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"jsonValueChange","formGroup","jsonValue","propertiesInfos"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.abilityCreditCheck",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.abilityCreditCheck","name","dataModel.abilityCreditCheck",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityCreditCheck",1,"custom-control-label"],["data-trigger-switch","dataModel.abilityDelivery",1,"font-600","font-14"],["type","checkbox","id","dataModel.abilityDelivery","name","dataModel.abilityDelivery",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityDelivery",1,"custom-control-label"],["data-trigger-switch","dataModel.abilityReceive",1,"font-600","font-14"],["type","checkbox","id","dataModel.abilityReceive","name","dataModel.abilityReceive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityReceive",1,"custom-control-label"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",5),_(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),d(4),a(),r(5,"h4"),d(6),h(7,"translate"),a(),r(8,"p"),d(9),h(10,"translate"),a(),_(11,"app-cms-form-result-message",9),r(12,"form",10,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(14,Hf,1,5,"app-cms-enum-record-status-selector",11)(15,jf,10,8,"div",12),r(16,"div",13)(17,"label",14),d(18),a(),r(19,"input",15,1),E("ngModelChange",function(c){return p(s),A(t.dataModel.className,c)||(t.dataModel.className=c),u(c)}),a(),b(21,Qf,1,0,"i",16)(22,zf,1,0,"i",17),r(23,"em"),d(24),a(),b(25,Kf,5,3,"mat-error",18),a(),b(26,Jf,8,2,"div",19)(27,Xf,8,2,"div",19)(28,Yf,8,2,"div",19),r(29,"dynamic-form-builder-cms",20),E("jsonValueChange",function(c){return p(s),A(t.dataModel.publicConfigJsonValues,c)||(t.dataModel.publicConfigJsonValues=c),u(c)}),a(),r(30,"div",13)(31,"label",21),d(32),a(),r(33,"textarea",22,2),E("ngModelChange",function(c){return p(s),A(t.dataModel.memo,c)||(t.dataModel.memo=c),u(c)}),a(),r(35,"em"),d(36),a(),b(37,Zf,5,3,"mat-error",18),a(),r(38,"div",23)(39,"a",24),h(40,"cmsthumbnail"),b(41,$f,2,4,"img",25),a()(),r(42,"div",13)(43,"label",26),v("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),d(44),h(45,"translate"),a(),r(46,"input",27,3),h(48,"translate"),E("ngModelChange",function(c){return p(s),A(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),u(c)}),v("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),a(),r(49,"cms-file-manager",28),v("itemSelected",function(c){return p(s),u(t.onActionFileSelected(c))}),E("openFormChange",function(c){return p(s),A(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),u(c)}),a()(),b(50,eS,9,7,"div",29),a()()()}if(i&2){let s=R(13),f=R(20),c=R(34);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),T(M(7,41,"TITLE.BASIC_SERVICE_SETTINGS")),o(3),g(" ",M(10,43,"TITLE.BASIC_SERVICE_SETTINGS_DESCRIPTION")," "),o(2),m("formInfo",t.formInfo),o(3),m("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),m("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),T(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),y("ngModel",t.dataModel.className),o(2),m("ngIf",!f.value),o(),m("ngIf",f.value),o(2),g("",f.value.length," / 100"),o(),m("ngIf",f.errors==null?null:f.errors.required),o(),m("ngIf",t.fieldsInfo.abilityCreditCheck==null?null:t.fieldsInfo.abilityCreditCheck.accessWatchField),o(),m("ngIf",t.fieldsInfo.abilityDelivery==null?null:t.fieldsInfo.abilityDelivery.accessWatchField),o(),m("ngIf",t.fieldsInfo.abilityReceive==null?null:t.fieldsInfo.abilityReceive.accessWatchField),o(),m("formGroup",s.form),y("jsonValue",t.dataModel.publicConfigJsonValues),m("propertiesInfos",t.dataModel.publicConfigJsonFormatter),o(3),T(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),y("ngModel",t.dataModel.memo),o(3),g("",c.value.length," / 500"),o(),m("ngIf",c.errors==null?null:c.errors.required),o(2),m("href",x(M(40,45,t.dataModel.linkMainImageIdSrc)),Ce),o(2),m("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),T(M(45,47,"TITLE.Icon_File")),o(2),m("placeholder",x(M(48,49,"TITLE.Original_File_ID"))),y("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("isPopup",!0),y("openForm",t.fileManagerOpenForm),m("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,ce,z,Le,K,se,_e,Ae,Ee,ie,le,Nr,ue,J,fe,q,me,Wt,Kr,F,dt],encapsulation:2});var dr=ro;var tS=()=>[5,10,20,100];function iS(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",41),v("click",function(){p(e);let t=S();return u(t.onActionButtonNewRow())}),_(2,"i",42)(3,"br"),a(),r(4,"p",20),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.ADD")," "))}function nS(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",41),v("click",function(){p(e);let t=S();return u(t.onActionButtonNewRowAuto())}),_(2,"i",42)(3,"br"),a(),r(4,"p",20),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.AUTOADD")," "))}function oS(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",43),v("click",function(){p(e);let t=S();return u(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",44)(3,"br"),a(),r(4,"p",20),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.EDIT")," "))}function rS(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",45),v("click",function(){p(e);let t=S();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",46)(3,"br"),a(),r(4,"p",20),d(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DELETE")," "))}function aS(n,l){n&1&&(r(0,"mat-header-cell",47),d(1),h(2,"translate"),a()),n&2&&(o(),g(" ",M(2,1,"TITLE.PICTURE")," "))}function sS(n,l){if(n&1&&_(0,"img",49),n&2){let e=S().$implicit;m("src",x(e.linkMainImageIdSrc),Ce)}}function lS(n,l){if(n&1&&(r(0,"mat-cell"),b(1,sS,1,2,"img",48),a()),n&2){let e=l.$implicit;o(),m("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function cS(n,l){if(n&1&&(r(0,"mat-header-cell",47),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function mS(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.id," ")}}function dS(n,l){if(n&1&&(r(0,"mat-header-cell",47),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function pS(n,l){if(n&1&&(r(0,"mat-cell",50),h(1,"statusCellClass"),_(2,"i",50),h(3,"statusIconClass"),a()),n&2){let e=l.$implicit;m("ngClass",M(1,2,e.recordStatus)),o(2),m("ngClass",M(3,4,e.recordStatus))}}function uS(n,l){if(n&1&&(r(0,"mat-header-cell",47),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function fS(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.title," ")}}function SS(n,l){if(n&1&&(r(0,"mat-header-cell",47),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.className==null?null:e.fieldsInfo.className.fieldTitle," ")}}function hS(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),g(" ",e.className," ")}}function gS(n,l){if(n&1&&(r(0,"mat-header-cell",47),d(1),a()),n&2){let e=S();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function MS(n,l){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),g(" ",M(2,1,e.updatedDate)," ")}}function _S(n,l){n&1&&(r(0,"mat-header-cell"),d(1),h(2,"translate"),a()),n&2&&(o(),g(" ",M(2,1,"TITLE.OPTION")," "))}function CS(n,l){if(n&1&&(r(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),d(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),m("matMenuTriggerFor",e)}}function bS(n,l){n&1&&_(0,"mat-header-row")}function vS(n,l){if(n&1){let e=I();r(0,"mat-row",53),v("click",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,f=S();return u(f.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=S();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var ao=class ao extends ft{constructor(e,i,t,s,f,c,k,H,Nt,Yt,Et,oi){super(e,new hi,Et,k,Nt);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.coreCurrencyService=s;this.cmsStoreService=f;this.router=c;this.tokenHelper=k;this.cdr=H;this.translate=Nt;this.pageInfo=Yt;this.publicHelper=Et;this.dialog=oi;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new G;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","ClassName","updatedDate"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","ClassName","updatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ae=>this.onSubmitOptionsSearch(ae)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=j.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ve(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getCurrency()}getCurrency(){let e=new Y;e.rowPerPage=100,this.coreCurrencyService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreCurrencyResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new hi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(mr,{height:"90%",panelClass:e,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(dr,{height:"90%",panelClass:i,enterAnimationDuration:U.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:U.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonNewRowAuto(){let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.ServiceAutoAdd().subscribe({next:i=>{i.isSuccess?(this.cmsToastrService.typeSuccessAdd(),this.DataGetAll()):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Q;f.propertyName="recordStatus",f.value=Be.Available,s.filters.push(f),this.contentService.ServiceGetCount(s).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPrivateList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path/list/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};ao.\u0275fac=function(i){return new(i||ao)(C($t),C(N),C(We),C(wr),C(Re),C(Qe),C(xe),C(V),C(L),C(mt),C(B),C(Pe))},ao.\u0275cmp=D({type:ao,selectors:[["app-sms-publicconfig-list"]],standalone:!1,features:[W],decls:64,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","ClassName"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=I();r(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(c){return p(s),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),u(c)}),v("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),w(1,4),d(2," -------------------------------------- "),P(),Ve(3,5)(4,6),w(5,7),r(6,"a",8),v("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),_(7,"i",9),a(),r(8,"a",8),v("click",function(){return p(s),u(t.onActionButtonReload())}),_(9,"i",10),a(),P(),w(10,11),r(11,"a",12),v("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(12,"mat-slide-toggle",13),d(13),h(14,"translate"),a(),r(15,"a",12),v("click",function(){return p(s),u(t.onActionButtonStatist())}),_(16,"mat-slide-toggle",13),d(17),h(18,"translate"),a(),P(),w(19,14),b(20,iS,7,3,"div",15)(21,nS,7,3,"div",15),P(),w(22,16),b(23,oS,7,3,"div",15)(24,rS,7,3,"div",15),r(25,"div",17)(26,"a",18),v("click",function(){return p(s),u(t.onActionButtonPrivateList(t.tableRowSelected))}),_(27,"i",19)(28,"br"),a(),r(29,"p",20),d(30),h(31,"translate"),a()(),P(),w(32,21),r(33,"app-cms-search-list",22),E("optionsChange",function(c){return p(s),A(t.optionsSearch,c)||(t.optionsSearch=c),u(c)}),a(),r(34,"app-cms-statist-list",22),E("optionsChange",function(c){return p(s),A(t.optionsStatist,c)||(t.optionsStatist=c),u(c)}),a(),P(),w(35,23),r(36,"mat-table",24,0),v("matSortChange",function(){p(s);let c=R(37);return u(t.onTableSortData(c))}),w(38,25),b(39,aS,3,3,"mat-header-cell",26)(40,lS,2,1,"mat-cell",27),P(),w(41,28),b(42,cS,2,1,"mat-header-cell",26)(43,mS,2,1,"mat-cell",27),P(),w(44,29),b(45,dS,2,1,"mat-header-cell",26)(46,pS,4,6,"mat-cell",30),P(),w(47,31),b(48,uS,2,1,"mat-header-cell",26)(49,fS,2,1,"mat-cell",27),P(),w(50,32),b(51,SS,2,1,"mat-header-cell",26)(52,hS,2,1,"mat-cell",27),P(),w(53,33),b(54,gS,2,1,"mat-header-cell",26)(55,MS,3,3,"mat-cell",27),P(),w(56,34),b(57,_S,3,3,"mat-header-cell",35)(58,CS,6,1,"mat-cell",36),P(),b(59,bS,1,0,"mat-header-row",37)(60,vS,1,2,"mat-row",38),a(),P(),w(61,39),r(62,"mat-paginator",40,1),v("page",function(c){return p(s),u(t.onTablePageingData(c))}),a(),P(),a()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),m("checked",t.optionsSearch.data.show),o(),g("",M(14,27,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),g("",M(18,29,"ACTION.STATIST")," "),o(3),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),g(" ",M(31,31,"ACTION.ROUTES")," "),o(3),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),m("dataSource",t.tableSource),o(23),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ne(33,tS)))},dependencies:[je,O,Ge,Te,Ke,Je,Xe,Ye,Ze,$e,et,it,at,nt,tt,st,ot,rt,lt,ct,St,ht,gt,Mt,F,Lt,_t,yt],encapsulation:2});var pr=ao;var so=class so{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};so.\u0275fac=function(e){return new(e||so)},so.\u0275cmp=D({type:so,selectors:[["app-sms-main"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&_(0,"router-outlet")},dependencies:[Er],encapsulation:2});var ur=so;var IS=[{path:"",component:ur,data:{title:"ROUTE.SMS.MAIN"},children:[{path:"api-path-company",component:Jo,data:{title:"ROUTE.SMS.MAIN"}},{path:"publicconfig",component:pr,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path",component:zi,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/list",component:zi,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/list/LinkCompanyId/:LinkCompanyId",component:zi,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/list/LinkPublicConfigId/:LinkPublicConfigId",component:zi,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/list/LinkSiteId/:LinkSiteId",component:zi,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/edit/:Id",component:Xr,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-permission",component:Zi,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-permission/LinkApiPathId/:LinkApiPathId",component:Zi,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-permission/LinkUserId/:LinkUserId",component:Zi,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-permission/LinkSiteId/:LinkSiteId",component:Zi,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-price-service",component:go,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-price-service/LinkApiPathId/:LinkApiPathId",component:go,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number",component:uo,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number/LinkApiPathId/:LinkApiPathId",component:uo,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number-permission",component:Xi,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number-permission/LinkApiNumberId/:LinkApiNumberId",component:Xi,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number-permission/LinkUserId/:LinkUserId",component:Xi,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number-permission/LinkSiteId/:LinkSiteId",component:Xi,data:{title:"ROUTE.SMS.MAIN"}},{path:"client-permission",component:Mo,data:{title:"ROUTE.SMS.MAIN"}},{path:"client-permission/LinkUserId/:LinkUserId",component:Mo,data:{title:"ROUTE.SMS.MAIN"}},{path:"message",component:cr,data:{title:"ROUTE.SMS.MAIN"}}]}],$i=class $i{};$i.\u0275fac=function(e){return new(e||$i)},$i.\u0275mod=Co({type:$i}),$i.\u0275inj=_o({imports:[hr.forChild(IS),hr]});var fr=$i;var en=class en{};en.\u0275fac=function(e){return new(e||en)},en.\u0275mod=Co({type:en}),en.\u0275inj=_o({providers:[Pr,Ie,ke,We,xr,Gt,Ot,Mi,gi,$t,Ft,vo,Ci,Ht,_i],imports:[Ar,fr,Br,Fr.withConfig({warnOnNgModelWithFormControl:"never"}),Hr,jr,Ur,Gr,Jr,Or,Yr,Vr]});var ra=en;export{_n as a,Kt as b,Xn as c,ra as d};
