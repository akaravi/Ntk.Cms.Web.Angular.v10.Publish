import{a as Bn}from"./chunk-Y7D3MG4X.js";import{a as Gr}from"./chunk-UCX7E4IB.js";import{a as Va}from"./chunk-IBUNJLMV.js";import{a as Or}from"./chunk-6PKJ5UWT.js";import{a as La}from"./chunk-J3B2CJCZ.js";import{a as Ei}from"./chunk-IK5S6L5X.js";import{a as Ai}from"./chunk-SL7O3HE2.js";import{a as Fr}from"./chunk-IH72WVQT.js";import{a as Vr}from"./chunk-SXAIYPZT.js";import{a as Br}from"./chunk-CLFVUVK4.js";import{a as sn}from"./chunk-EEIJQEQ3.js";import{a as ln}from"./chunk-2UBVCYDX.js";import{a as ka}from"./chunk-ZRJDZEMA.js";import{a as Nr}from"./chunk-LVLBUU5Z.js";import{a as Ye}from"./chunk-EGBMIRON.js";import{a as oi}from"./chunk-3IDV2HIZ.js";import{a as We}from"./chunk-5PGIHI7G.js";import{c as Oe,d as Ge,e as He,g as Gt,h as Ht}from"./chunk-35JUN3LB.js";import{a as ht}from"./chunk-7HF25NU4.js";import{a as ni}from"./chunk-E5FIWGWV.js";import{a as vi}from"./chunk-KNTHX32W.js";import{a as Je,b as Ii,c as Dr}from"./chunk-QQASZTWY.js";import{a as St}from"./chunk-Q2QA4ZTY.js";import{a as Lr}from"./chunk-JHUBPGKZ.js";import{a as De}from"./chunk-UQN3BTYH.js";import{b as kr}from"./chunk-GNDDMYF7.js";import{a as mi}from"./chunk-HTLJNZF6.js";import{a as Ve}from"./chunk-IPNZEP47.js";import{a as Te}from"./chunk-WFUYKU73.js";import{a as z,d as Me}from"./chunk-5K55RFP4.js";import{a as xa,b as Da,e as Fe,f as G}from"./chunk-EF7DKNFT.js";import{$ as Wi,$a as ne,A as Gi,Ab as xt,B as Ia,Ba as ei,Bb as Dt,Ca as ti,Cb as kt,D as Ki,Da as ii,Db as Lt,E as Ji,Eb as Vt,Fb as Nt,G as Zi,Gb as Bt,Hb as Ft,Ib as Ot,J as Ie,Ja as ia,K as Ue,Ka as Ae,L as qe,La as Ee,Lc as ge,Ma as he,N as Mr,O as _r,Ob as Ea,Oc as Ce,Pb as Ta,Q as Hi,Qb as ya,Qc as O,Rb as wa,Sb as Pa,Tb as Ra,Tc as xr,V as $i,W as xe,Wb as B,Xb as U,Y as en,Z as $t,Za as Xe,_ as tn,aa as Ui,ba as ct,c as gr,d as Nn,eb as Et,f as Ma,fb as Tt,g as _a,hc as bi,i as ba,ib as Be,ic as Tr,j as va,k as Cr,m as et,n as te,nb as yt,pb as wt,q as ie,qb as Pt,r as _e,sa as Aa,t as be,tb as br,u as ci,ua as nn,ub as vr,v as Se,va as on,vb as Ir,w as ve,wb as Ar,wc as yr,x as di,xa as an,xb as Er,xc as wr,ya as rn,yc as Pr,zb as Rt,zc as Rr}from"./chunk-4ZDW4SNU.js";import{$d as at,$k as Oi,Ab as m,Ak as hi,Bb as Li,Bk as gi,Ca as me,Cb as Vi,Cd as $a,Ck as ai,Dd as Pe,Dk as fr,Eb as pe,Ek as Ci,F as Pi,Fa as o,Fb as ue,Fk as jt,Gb as fe,Gd as ut,Gk as Mi,Ha as st,Hd as X,I as Ri,Ik as Sr,Jk as hr,Kb as P,Kk as $e,Lb as Ze,Lc as Ne,Ld as Q,Mb as V,Md as J,Nd as dr,Oa as _,P as xi,Pb as d,Pd as si,Q as Di,Qb as E,Rb as M,Rc as zi,Rd as ji,Rk as li,Sa as N,Sb as je,Sk as Ni,Ta as ha,Tc as ot,Tk as ft,Ud as Ut,Uk as Ca,Va as sr,Vb as T,Vk as At,Wa as K,Wb as y,Wk as Bi,X as ar,Xb as w,Xk as Yi,Y as Sa,Ya as L,Yb as k,Yd as q,Yk as Zt,Zb as Wt,Zk as Fi,_c as lr,_k as _i,ac as we,bc as Xi,cb as ki,da as u,db as W,ea as f,fb as b,fc as S,gb as v,gc as h,hc as fi,hk as pr,ia as rr,ib as de,jb as Z,kb as $,lb as C,mb as a,mr as j,nb as s,ob as g,oe as Vn,p as yi,q as wi,re as Re,sb as R,tb as x,te as ga,ub as lt,ud as ze,uk as _t,vb as A,vd as cr,ve as mr,vk as qt,wd as Le,wk as Si,xk as bt,yb as I,yc as F,yk as ur,zk as er}from"./chunk-GC7IBVIU.js";import{i as ee}from"./chunk-SEDBTTTN.js";var Jr=["*"];function Zr(n,l){if(n&1&&(a(0,"label",3),d(1),s()),n&2){let e=m();C("for",Wt("app-cms-site-selector-",e.id)),o(),E(e.optionLabel)}}function $r(n,l){if(n&1&&(a(0,"mat-option",6)(1,"span"),d(2),s()()),n&2){let e=l.$implicit,i=m();C("value",e)("disabled",i.optionDisabled),o(2),E(i.displayOption(e))}}function es(n,l){n&1&&g(0,"i",7)}function ts(n,l){n&1&&g(0,"i",8)}function is(n,l){if(n&1){let e=A();a(0,"i",11),I("click",function(){u(e);let t=m();return f(t.onActionSelectClear())}),s()}}function ns(n,l){n&1&&(a(0,"em"),d(1),S(2,"translate"),s()),n&2&&(o(),M("(",h(2,1,"TITLE.Necessary"),")"))}var cn=class cn{constructor(l,e,i,t,r,p){this.coreEnumService=l;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=r;this.categoryService=p;this.id=++cn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new X;this.dataModelSelect=new qt;this.formControl=new ci;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionSelectFirstItemOnChangeApi=!1;this.optionPlaceholder="";this.optionLabel="";this.optionSelectForSendMessage=!1;this.optionChange=new st;this.optionReload=()=>this.onActionButtonReload();this.privateLinkApiPathId="";this.privateLinkApiPathIdLast="";this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}set optionLinkApiPathId(l){l!=this.privateLinkApiPathId&&(this.privateLinkApiPathId!=""&&this.onActionSelectClear(),this.privateLinkApiPathId=l,this.privateLinkApiPathId!=this.privateLinkApiPathIdLast&&(this.optionSelectFirstItem=this.optionSelectFirstItemOnChangeApi),this.privateLinkApiPathIdLast=l,this.optionChange.emit(this.dataModelSelect),this.loadOptions())}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(xi(""),Pi(1500),Ri(),Di(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.numberChar:void 0}displayOption(l){return l?l.numberChar:void 0}DataGetAll(l){return ee(this,null,function*(){let e=new J;e.rowPerPage=20,e.accessLoad=!0;let i=new Q;i.propertyName="NumberChar",i.value=l,i.searchType=Ut.Contains,i.clauseType=si.Or,e.filters.push(i),this.privateLinkApiPathId?.length>0&&(i=new Q,i.propertyName="ApiPathAndApiNumbers",i.propertyAnyName="LinkApiPathId",i.value=this.privateLinkApiPathId,i.searchType=Ut.Equal,e.filters.push(i)),this.optionSelectForSendMessage&&(i=new Q,i.propertyName="recordStatus",i.value=Pe.Available,i.searchType=Ut.Equal,e.filters.push(i)),this.optionAccessDataType&&this.categoryService.setAccessDataType(this.optionAccessDataType);let t=this.constructor.name+"main";return this.translate.get("MESSAGE.get_information_list").subscribe(r=>{this.publicHelper.processService.processStart(t,r,this.constructorInfoAreaId)}),this.optionAccessDataType&&this.categoryService.setAccessDataType(this.optionAccessDataType),yield yi(this.categoryService.ServiceGetAll(e)).then(r=>(this.dataModelResult=r,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0]),this.onActionSelect(this.dataModelResult.listItems[0])},1e3)),this.publicHelper.processService.processStop(t),r.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=new qt,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(wi(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.numberChar===l)){let e=this.dataModelResult.listItems.find(i=>i.numberChar===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof qt){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new qt,this.onActionSelectClear(),this.loadOptions()}};cn.nextId=0,cn.\u0275fac=function(e){return new(e||cn)(_(Re),_(O),_(B),_(F),_(G),_(li))},cn.\u0275cmp=N({type:cn,selectors:[["app-sms-api-number-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionSelectFirstItemOnChangeApi:"optionSelectFirstItemOnChangeApi",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectForSendMessage:"optionSelectForSendMessage",optionAccessDataType:"optionAccessDataType",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionLinkApiPathId:"optionLinkApiPathId"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Jr,decls:16,vars:23,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=A();Li(),a(0,"div",1),g(1,"app-progress-spinner",2),b(2,Zr,2,3,"label",3),g(3,"input",4),a(4,"mat-autocomplete",5,0),I("optionSelected",function(p){return u(t),f(i.onActionSelect(p.option.value))}),Z(6,$r,3,3,"mat-option",6,de),S(8,"async"),s(),b(9,es,1,0,"i",7),b(10,ts,1,0,"i",8),b(11,is,1,0,"i",9),a(12,"i",10),S(13,"translate"),I("click",function(){return u(t),f(i.onActionButtonReload())}),s(),b(14,ns,3,3,"em"),Vi(15),s()}if(e&2){let t=P(5);o(),C("optionsInfoAreaId",i.constructorInfoAreaId),o(),v((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(),C("placeholder",k(i.optionPlaceholder))("id",Wt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),W("disabled",i.optionDisabled?!0:null),o(),C("displayWith",i.displayFn),o(2),$(h(8,19,i.filteredOptions)),o(3),v(i.formControl.valid?-1:9),o(),v(i.optionRequired&&i.formControl.valid?10:-1),o(),v((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?11:-1),o(),V("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),C("title",k(h(13,21,"ACTION.RELOAD"))),o(2),v(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0)?14:-1)}},dependencies:[te,ie,Ie,Gi,Wi,Hi,Ui,ne,z,ot,U],encapsulation:2});var Fn=cn;var os=["vform"];function as(n,l){if(n&1){let e=A();a(0,"app-cms-enum-record-status-selector",27),w("modelChange",function(t){u(e);let r=m();return y(r.dataModel.recordStatus,t)||(r.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();T("model",e.dataModel.recordStatus),C("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function rs(n,l){if(n&1){let e=A();a(0,"div",14)(1,"div",28)(2,"h5",29),d(3),s()(),a(4,"div",30)(5,"div",31)(6,"input",32),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.hasInherits,t)||(r.dataModel.hasInherits=t),f(t)}),s(),g(7,"label",33),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle," "),o(3),T("ngModel",e.dataModel.hasInherits)}}function ss(n,l){if(n&1&&(a(0,"option",17),d(1),s()),n&2){let e=l.$implicit;C("ngValue",e.value),o(),M(" ",e.description," ")}}function ls(n,l){n&1&&(a(0,"mat-error"),d(1," AccessStatus is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function cs(n,l){if(n&1&&(a(0,"option",17),d(1),s()),n&2){let e=l.$implicit;C("ngValue",e.value),o(),M(" ",e.description," ")}}function ds(n,l){n&1&&(a(0,"mat-error"),d(1," Action is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function ms(n,l){if(n&1){let e=A();a(0,"div",20)(1,"label",34),d(2),S(3,"translate"),s(),a(4,"input",35),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.expireDate,t)||(r.dataModel.expireDate=t),f(t)}),s(),g(5,"mat-datepicker-toggle",23)(6,"mat-datepicker",24,4),s()}if(n&2){let e=P(7),i=m();o(2),E(h(3,4,"TITLE.Expire_Date")),o(2),T("ngModel",i.dataModel.expireDate),C("matDatepicker",e),o(),C("for",e)}}function ps(n,l){if(n&1){let e=A();a(0,"div",26)(1,"button",36),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",37),d(3),S(4,"translate"),s(),a(5,"button",38),g(6,"i",39),d(7),S(8,"translate"),s()()}if(n&2){m();let e=P(10);o(3),M(" ",h(4,3,"ACTION.CANCEL")," "),o(2),C("disabled",!e.form.valid),o(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var On=class On extends St{constructor(e,i,t,r,p,c,D,H){super(r,new Si,c,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiNumberPermissionService=r;this.cmsToastrService=p;this.publicHelper=c;this.cdr=D;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new X;this.dataModel=new Si;this.formInfo=new Me;this.dataModelEnumApiNumberPermissionAccessStatusResult=new X;this.dataModelEnumApiNumberPermissionActionResult=new X;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&e.linkApiNumberId&&(this.dataModel.linkApiNumberId=e.linkApiNumberId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.getEnumApiNumberPermissionAccessStatus(),this.getEnumApiNumberPermissionAction(),this.DataGetAccess()}getEnumApiNumberPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiNumberPermissionAccessStatusEnum().subscribe(e=>{this.dataModelEnumApiNumberPermissionAccessStatusResult=e})}getEnumApiNumberPermissionAction(){this.smsEnumService.ServiceSmsApiNumberPermissionActionEnum().subscribe(e=>{this.dataModelEnumApiNumberPermissionActionResult=e})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberPermissionService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiNumberId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiNumberId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};On.\u0275fac=function(i){return new(i||On)(_(Ee),_(Ae),_($e),_(Ni),_(O),_(G),_(F),_(B))},On.\u0275cmp=N({type:On,selectors:[["app-sms-api-number-permission-add"]],viewQuery:function(i,t){if(i&1&&pe(os,5),i&2){let r;ue(r=fe())&&(t.formGroup=r.first)}},standalone:!1,features:[K],decls:52,vars:49,consts:[["vform","ngForm"],["AccessStatus","ngModel"],["Action","ngModel"],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accessStatus","name","dataModel.accessStatus","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"mt-n3"],["id","dataModel.action","name","dataModel.action","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],[1,"pb-5"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"pt-1"],["data-trigger-switch","dataModel.hasInherits",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.hasInherits","name","dataModel.hasInherits",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasInherits",1,"custom-control-label"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let r=A();a(0,"div",5),g(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),d(4),s(),a(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",9),a(9,"form",10,0),I("ngSubmit",function(){return u(r),f(t.onFormSubmit())}),b(11,as,1,5,"app-cms-enum-record-status-selector",11),d(12),a(13,"app-sms-api-number-selector",12),S(14,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorSelectLinkApiNumberId(c))}),s(),a(15,"app-cms-user-selector",13),S(16,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCmsUser(c))}),s(),a(17,"app-cms-site-selector",13),S(18,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCmsSite(c))}),s(),a(19,"app-cms-usergroup-selector",13),S(20,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCoreUserGroup(c))}),s(),a(21,"app-cms-sitecategory-selector",13),S(22,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCoreSiteCategory(c))}),s(),b(23,rs,8,2,"div",14),a(24,"div",15)(25,"select",16,1),w("ngModelChange",function(c){return u(r),y(t.dataModel.accessStatus,c)||(t.dataModel.accessStatus=c),f(c)}),Z(27,ss,2,2,"option",17,de),s(),a(29,"em",18),d(30),S(31,"translate"),s(),b(32,ls,5,3,"mat-error"),s(),a(33,"div",15)(34,"select",19,2),w("ngModelChange",function(c){return u(r),y(t.dataModel.action,c)||(t.dataModel.action=c),f(c)}),Z(36,cs,2,2,"option",17,de),s(),a(38,"em",18),d(39),S(40,"translate"),s(),b(41,ds,5,3,"mat-error"),s(),a(42,"div",20)(43,"label",21),d(44),s(),a(45,"input",22),w("ngModelChange",function(c){return u(r),y(t.dataModel.fromDate,c)||(t.dataModel.fromDate=c),f(c)}),s(),g(46,"mat-datepicker-toggle",23)(47,"mat-datepicker",24,3),s(),b(49,ms,8,6,"div",20),g(50,"hr",25),b(51,ps,9,7,"div",26),s()()()}if(i&2){let r=P(26),p=P(35),c=P(48);o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",h(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),C("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),M(" aaaa ",t.dataModel.linkApiNumberId," bbb "),o(),C("optionSelectForce",t.dataModel.linkApiNumberId)("optionPlaceholder",h(14,35,"TITLE.No")),o(2),C("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",h(16,37,"TITLE.USER")),o(2),C("optionDisabled",!(t.fieldsInfo.linkCoreSiteId!=null&&t.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",h(18,39,"TITLE.SITE")),o(2),C("optionDisabled",!(t.fieldsInfo.linkCoreUserGroupId!=null&&t.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",h(20,41,"TITLE.Type_Usage")),o(2),C("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",h(22,43,"TITLE.Site_Type")),o(2),v(t.fieldsInfo.hasInherits!=null&&t.fieldsInfo.hasInherits.accessWatchField?23:-1),o(2),T("ngModel",t.dataModel.accessStatus),o(2),$(t.dataModelEnumApiNumberPermissionAccessStatusResult.listItems),o(3),M("",h(31,45,"TITLE.Select_type_of_content")," "),o(2),v(r.errors!=null&&r.errors.required?32:-1),o(2),T("ngModel",t.dataModel.action),o(2),$(t.dataModelEnumApiNumberPermissionActionResult.listItems),o(3),M("",h(40,47,"TITLE.Select_type_of_content")," "),o(2),v(p.errors!=null&&p.errors.required?41:-1),o(3),E(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),T("ngModel",t.dataModel.fromDate),C("matDatepicker",c),o(),C("for",c),o(3),v(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?49:-1),o(2),v(t.formInfo.submitButtonEnabled?51:-1)}},dependencies:[ve,Ji,Zi,te,et,Ki,ie,_e,Ie,Se,be,ei,ti,ii,xe,$t,ne,vi,De,Ai,ni,Ei,z,Te,Fn,U],encapsulation:2});var Gn=On;var us=["vform"];function fs(n,l){if(n&1){let e=A();a(0,"app-cms-enum-record-status-selector",27),w("modelChange",function(t){u(e);let r=m();return y(r.dataModel.recordStatus,t)||(r.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();T("model",e.dataModel.recordStatus),C("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ss(n,l){if(n&1){let e=A();a(0,"div",14)(1,"div",28)(2,"h5",29),d(3),s()(),a(4,"div",30)(5,"div",31)(6,"input",32),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.hasInherits,t)||(r.dataModel.hasInherits=t),f(t)}),s(),g(7,"label",33),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle," "),o(3),T("ngModel",e.dataModel.hasInherits)}}function hs(n,l){if(n&1&&(a(0,"option",17),d(1),s()),n&2){let e=l.$implicit;C("ngValue",e.value),o(),M(" ",e.description," ")}}function gs(n,l){n&1&&(a(0,"mat-error"),d(1," AccessStatus is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function Cs(n,l){if(n&1&&(a(0,"option",17),d(1),s()),n&2){let e=l.$implicit;C("ngValue",e.value),o(),M(" ",e.description," ")}}function Ms(n,l){n&1&&(a(0,"mat-error"),d(1," Action is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function _s(n,l){if(n&1){let e=A();a(0,"div",20)(1,"label",34),d(2),s(),a(3,"input",35),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.expireDate,t)||(r.dataModel.expireDate=t),f(t)}),s(),g(4,"mat-datepicker-toggle",23)(5,"mat-datepicker",24,4),s()}if(n&2){let e=P(6),i=m();o(2),E(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),T("ngModel",i.dataModel.expireDate),C("matDatepicker",e),o(),C("for",e)}}function bs(n,l){if(n&1){let e=A();a(0,"div",26)(1,"button",36),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",37),d(3),S(4,"translate"),s(),a(5,"button",38),g(6,"i",39),d(7),S(8,"translate"),s()()}if(n&2){m();let e=P(10);o(3),M(" ",h(4,3,"ACTION.CANCEL")," "),o(2),C("disabled",!e.form.valid),o(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Hn=class Hn extends ht{constructor(e,i,t,r,p,c,D,H){super(r,new Si,c,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiNumberPermissionService=r;this.cmsToastrService=p;this.publicHelper=c;this.cdr=D;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ut;this.dataModel=new Si;this.formInfo=new Me;this.dataModelEnumApiNumberPermissionAccessStatusResult=new X;this.dataModelEnumApiNumberPermissionActionResult=new X;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getEnumApiNumberPermissionAccessStatus(),this.getEnumApiNumberPermissionAction()}getEnumApiNumberPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiNumberPermissionAccessStatusEnum().subscribe(e=>{this.dataModelEnumApiNumberPermissionAccessStatusResult=e})}getEnumApiNumberPermissionAction(){this.smsEnumService.ServiceSmsApiNumberPermissionActionEnum().subscribe(e=>{this.dataModelEnumApiNumberPermissionActionResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberPermissionService.setAccessLoad(),this.smsMainApiNumberPermissionService.setAccessDataType(at.Editor),this.smsMainApiNumberPermissionService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberPermissionService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiNumberId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiNumberId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Hn.\u0275fac=function(i){return new(i||Hn)(_(Ee),_(Ae),_($e),_(Ni),_(O),_(G),_(F),_(B))},Hn.\u0275cmp=N({type:Hn,selectors:[["app-sms-api-number-permission-edit"]],viewQuery:function(i,t){if(i&1&&pe(us,5),i&2){let r;ue(r=fe())&&(t.formGroup=r.first)}},standalone:!1,features:[K],decls:51,vars:48,consts:[["vform","ngForm"],["AccessStatus","ngModel"],["Action","ngModel"],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accessStatus","name","dataModel.accessStatus","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"mt-n3"],["id","dataModel.action","name","dataModel.action","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],[1,"pb-5"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"pt-1"],["data-trigger-switch","dataModel.hasInherits",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.hasInherits","name","dataModel.hasInherits",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasInherits",1,"custom-control-label"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let r=A();a(0,"div",5),g(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),d(4),s(),a(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",9),a(9,"form",10,0),I("ngSubmit",function(){return u(r),f(t.onFormSubmit())}),b(11,fs,1,5,"app-cms-enum-record-status-selector",11),a(12,"app-sms-api-number-selector",12),S(13,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorSelectLinkApiNumberId(c))}),s(),a(14,"app-cms-user-selector",13),S(15,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCmsUser(c))}),s(),a(16,"app-cms-site-selector",13),S(17,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCmsSite(c))}),s(),a(18,"app-cms-usergroup-selector",13),S(19,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCoreUserGroup(c))}),s(),a(20,"app-cms-sitecategory-selector",13),S(21,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCoreSiteCategory(c))}),s(),b(22,Ss,8,2,"div",14),a(23,"div",15)(24,"select",16,1),w("ngModelChange",function(c){return u(r),y(t.dataModel.accessStatus,c)||(t.dataModel.accessStatus=c),f(c)}),Z(26,hs,2,2,"option",17,de),s(),a(28,"em",18),d(29),S(30,"translate"),s(),b(31,gs,5,3,"mat-error"),s(),a(32,"div",15)(33,"select",19,2),w("ngModelChange",function(c){return u(r),y(t.dataModel.action,c)||(t.dataModel.action=c),f(c)}),Z(35,Cs,2,2,"option",17,de),s(),a(37,"em",18),d(38),S(39,"translate"),s(),b(40,Ms,5,3,"mat-error"),s(),a(41,"div",20)(42,"label",21),d(43),s(),a(44,"input",22),w("ngModelChange",function(c){return u(r),y(t.dataModel.fromDate,c)||(t.dataModel.fromDate=c),f(c)}),s(),g(45,"mat-datepicker-toggle",23)(46,"mat-datepicker",24,3),s(),b(48,_s,7,4,"div",20),g(49,"hr",25),b(50,bs,9,7,"div",26),s()()()}if(i&2){let r=P(25),p=P(34),c=P(47);o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",h(7,32,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),C("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),C("optionSelectForce",t.dataModel.linkApiNumberId)("optionPlaceholder",h(13,34,"TITLE.No")),o(2),C("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",h(15,36,"TITLE.USER")),o(2),C("optionDisabled",!(t.fieldsInfo.linkCoreSiteId!=null&&t.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",h(17,38,"TITLE.SITE")),o(2),C("optionDisabled",!(t.fieldsInfo.linkCoreUserGroupId!=null&&t.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",h(19,40,"TITLE.Type_Usage")),o(2),C("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",h(21,42,"TITLE.Site_Type")),o(2),v(t.fieldsInfo.hasInherits!=null&&t.fieldsInfo.hasInherits.accessWatchField?22:-1),o(2),T("ngModel",t.dataModel.accessStatus),o(2),$(t.dataModelEnumApiNumberPermissionAccessStatusResult.listItems),o(3),M("",h(30,44,"TITLE.Select_type_of_content")," "),o(2),v(r.errors!=null&&r.errors.required?31:-1),o(2),T("ngModel",t.dataModel.action),o(2),$(t.dataModelEnumApiNumberPermissionActionResult.listItems),o(3),M("",h(39,46,"TITLE.Select_type_of_content")," "),o(2),v(p.errors!=null&&p.errors.required?40:-1),o(3),E(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),T("ngModel",t.dataModel.fromDate),C("matDatepicker",c),o(),C("for",c),o(3),v(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?48:-1),o(2),v(t.formInfo.submitButtonEnabled?50:-1)}},dependencies:[ve,Ji,Zi,te,et,Ki,ie,_e,Ie,Se,be,ei,ti,ii,xe,$t,ne,vi,De,Ai,ni,Ei,z,Te,Fn,U],encapsulation:2});var Wn=Hn;var vs=()=>[5,10,20,100],Is=(n,l)=>l.id;function As(n,l){if(n&1){let e=A();a(0,"button",21),S(1,"translate"),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),g(2,"i",22),s()}n&2&&ki("aria-label",k(h(1,2,"ACTION.BACK")))}function Es(n,l){if(n&1){let e=A();a(0,"div",12)(1,"app-cms-search-list",23),w("optionsChange",function(t){u(e);let r=m();return y(r.optionsSearch,t)||(r.optionsSearch=t),f(t)}),s()()}if(n&2){let e=m();o(),T("options",e.optionsSearch)}}function Ts(n,l){if(n&1){let e=A();a(0,"div",13)(1,"app-cms-statist-list",23),w("optionsChange",function(t){u(e);let r=m();return y(r.optionsStatist,t)||(r.optionsStatist=t),f(t)}),s()()}if(n&2){let e=m();o(),T("options",e.optionsStatist)}}function ys(n,l){if(n&1&&(a(0,"div",24),g(1,"i",10),a(2,"span"),d(3),S(4,"translate"),S(5,"translate"),s()()),n&2){let e=m();Ze("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),V("refreshing",e.pullToRefreshState.isRefreshing),o(),V("rotation360",e.pullToRefreshState.isRefreshing),o(2),E(e.pullToRefreshState.isRefreshing?h(4,7,"ACTION.RELOADING"):h(5,9,"ACTION.PULL_TO_REFRESH"))}}function ws(n,l){if(n&1&&(a(0,"div",32),g(1,"i",43),a(2,"span"),d(3),S(4,"cmsuserinfo"),S(5,"async"),s()()),n&2){let e=m().$implicit;o(3),E(h(5,3,h(4,1,e.linkCoreUserId)))}}function Ps(n,l){if(n&1&&(a(0,"div",32),g(1,"i",44),a(2,"span"),d(3),s()()),n&2){let e=m().$implicit;o(3),E(e.linkApiNumberId)}}function Rs(n,l){n&1&&(a(0,"span",36),g(1,"i",45),d(2),S(3,"translate"),s()),n&2&&(o(2),M(" ",h(3,1,"MESSAGE.Access")," "))}function xs(n,l){if(n&1&&(a(0,"div",37),g(1,"i",46),a(2,"span"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit;o(3),E(h(4,1,e.expireDate))}}function Ds(n,l){if(n&1){let e=A();a(0,"button",47),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonEditRow(r),f(t.stopPropagation())}),g(2,"i",48),s()}n&2&&W("aria-label",h(1,1,"ACTION.EDIT"))}function ks(n,l){if(n&1){let e=A();a(0,"button",49),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonDeleteRow(r),f(t.stopPropagation())}),g(2,"i",50),s()}n&2&&W("aria-label",h(1,1,"ACTION.DELETE"))}function Ls(n,l){if(n&1){let e=A();a(0,"button",51),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonDeleteRow(r),f(t.stopPropagation())}),g(2,"i",50),s()}n&2&&W("aria-label",h(1,1,"ACTION.DELETE"))}function Vs(n,l){if(n&1){let e=A();a(0,"div",26)(1,"div",27),I("click",function(){let t=u(e).$implicit,r=m(2);return f(r.onActionTableRowSelect(t))})("touchstart",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchStart(t,r.id))})("touchmove",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchMove(t,r.id))})("touchend",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchEnd(t,r.id))}),a(2,"div",28),g(3,"i",29),s(),a(4,"div",30)(5,"div",31),d(6),s(),b(7,ws,6,5,"div",32),b(8,Ps,4,1,"div",32),a(9,"div",33)(10,"div",34),g(11,"i",35),S(12,"statusIconClass"),b(13,Rs,4,3,"span",36),s(),b(14,xs,5,3,"div",37),s()(),a(15,"div",38),b(16,Ds,3,3,"button",39),b(17,ks,3,3,"button",40),s()(),a(18,"div",41),b(19,Ls,3,3,"button",42),s()()}if(n&2){let e,i=l.$implicit,t=m(2);Ze("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),o(),V("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),W("aria-label",i.id),o(5),M(" ",i.id," "),o(),v(i.linkCoreUserId?7:-1),o(),v(i.linkApiNumberId?8:-1),o(3),C("ngClass",h(12,14,i.recordStatus)),o(2),v(i.hasAccess?13:-1),o(),v(i.expireDate?14:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?16:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?17:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?19:-1)}}function Ns(n,l){if(n&1&&(a(0,"div",16),Z(1,Vs,20,16,"div",25,Is),s()),n&2){let e=m();o(),$(e.dataModelResult.listItems)}}function Bs(n,l){n&1&&(a(0,"div",17)(1,"div",52),g(2,"i",53),s(),a(3,"div",54),d(4),S(5,"translate"),s()()),n&2&&(o(4),M(" ",h(5,1,"MESSAGE.no_information")," "))}function Fs(n,l){if(n&1){let e=A();a(0,"button",55),S(1,"translate"),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",56),s()}n&2&&W("aria-label",h(1,1,"ACTION.ADD"))}function Os(n,l){if(n&1){let e=A();a(0,"div",20)(1,"mat-paginator",57,0),I("page",function(t){u(e);let r=m();return f(r.onTablePageingData(t))}),s()()}if(n&2){let e=m();o(),C("length",(e.dataModelResult==null?null:e.dataModelResult.totalRowCount)||0)("pageIndex",((e.dataModelResult==null?null:e.dataModelResult.currentPageNumber)||1)-1)("pageSize",(e.dataModelResult==null?null:e.dataModelResult.rowPerPage)||10)("pageSizeOptions",we(4,vs))}}var Un=class Un extends Oe{constructor(e,i,t,r,p,c,D,H,Ke,nt,Qe,Mt){super(e,new Si,Qe,c,Ke);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=r;this.router=p;this.tokenHelper=c;this.cmsStoreService=D;this.cdr=H;this.translate=Ke;this.pageInfo=nt;this.publicHelper=Qe;this.dialog=Mt;this.requestLinkApiNumberId="";this.requestLinkCoreUserId=0;this.requestLinkCoreSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","linkApiNumberId","linkCoreUserId","linkCoreUserGroupId","hasAccess","hasInherits","fromDate","expireDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","linkApiNumberId","linkCoreUserId","linkCoreUserGroupId","hasAccess","hasInherits","fromDate","expireDate"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Y=>this.onSubmitOptionsSearch(Y)},this.requestLinkCoreUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkCoreSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkApiNumberId=this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId"),this.requestLinkCoreUserId>0){let Y=new Q;Y.propertyName="LinkCoreUserId",Y.value=this.requestLinkCoreUserId,this.filteModelContent.filters.push(Y)}if(this.requestLinkApiNumberId?.length>0){let Y=new Q;Y.propertyName="LinkApiNumberId",Y.value=this.requestLinkApiNumberId,this.filteModelContent.filters.push(Y)}this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=q.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Si);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Gn,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Wn,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],t=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(r=>{if(r){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let r=JSON.parse(JSON.stringify(this.filteModelContent)),p=new Q;p.propertyName="recordStatus",p.value=Pe.Available,r.filters.push(p),this.contentService.ServiceGetCount(r).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let r=e.touches[0];t.currentX=r.clientX;let p=t.currentX-t.startX,c=document.documentElement.dir==="rtl",D=c?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,H=c?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(H,Math.min(D,p))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let r=document.documentElement.dir==="rtl",p=r?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;r&&t.offset>p||!r&&t.offset<p||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-number"])}onActionTableRowSelect(e){this.tableRowSelected=e}};Un.\u0275fac=function(i){return new(i||Un)(_(Ni),_(O),_(ze),_(Ve),_(Le),_(Ce),_(ge),_(F),_(B),_(Fe),_(G),_(he))},Un.\u0275cmp=N({type:Un,selectors:[["app-sms-api-number-permission-list-mobile"]],standalone:!1,features:[K],decls:27,vars:26,consts:[["paginator",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"aria-label"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["aria-hidden","true",1,"fa-solid","fa-chart-bar"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-statist-area","safe-area-content"],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content","safe-area-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],[1,"cms-m-footer","safe-area-bottom"],[1,"cms-m-fab"],[1,"cms-m-pagination-wrapper"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[3,"optionsChange","options"],[1,"cms-m-pull-refresh-indicator"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-shield-halved"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-footer"],[1,"cms-m-list-item-status"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-badge","public"],[1,"cms-m-list-item-date"],[1,"cms-m-list-item-actions"],[1,"cms-m-action-btn","edit"],[1,"cms-m-action-btn","delete"],[1,"cms-m-list-item-swipe-actions"],[1,"cms-m-swipe-action-btn","delete"],["aria-hidden","true",1,"fa-solid","fa-user"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-check"],["aria-hidden","true",1,"fa-solid","fa-clock"],[1,"cms-m-action-btn","edit",3,"click"],["aria-hidden","true",1,"fa-solid","fa-pen"],[1,"cms-m-action-btn","delete",3,"click"],["aria-hidden","true",1,"fa-solid","fa-trash"],[1,"cms-m-swipe-action-btn","delete",3,"click"],[1,"cms-m-empty-state-icon"],["aria-hidden","true",1,"fa-solid","fa-inbox"],[1,"cms-m-empty-state-text"],[1,"cms-m-fab",3,"click"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"]],template:function(i,t){i&1&&(a(0,"div",1),g(1,"app-progress-spinner",2),a(2,"div",3)(3,"div",4),b(4,As,3,4,"button",5),a(5,"h1",6),d(6),S(7,"translate"),s(),a(8,"div",7)(9,"button",8),S(10,"translate"),I("click",function(){return t.optionsSearch.data.show=!t.optionsSearch.data.show}),g(11,"i",9),s(),a(12,"button",8),S(13,"translate"),I("click",function(){return t.onActionButtonReload()}),g(14,"i",10),s(),a(15,"button",8),S(16,"translate"),I("click",function(){return t.onActionButtonStatist()}),g(17,"i",11),s()()()(),b(18,Es,2,1,"div",12),b(19,Ts,2,1,"div",13),b(20,ys,6,11,"div",14),a(21,"div",15),I("touchstart",function(p){return t.onTouchStart(p)})("touchmove",function(p){return t.onTouchMove(p)})("touchend",function(p){return t.onTouchEnd(p)}),b(22,Ns,3,0,"div",16)(23,Bs,6,3,"div",17),s(),a(24,"div",18),b(25,Fs,3,3,"button",19),b(26,Os,3,5,"div",20),s()()),i&2&&(o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v((t.requestLinkApiNumberId==null?null:t.requestLinkApiNumberId.length)>0?4:-1),o(2),M(" ",h(7,18,"ROUTE.SMS.MAIN")," "),o(3),V("active",t.optionsSearch.data.show),W("aria-label",h(10,20,"ACTION.SEARCH")),o(3),W("aria-label",h(13,22,"ACTION.RELOAD")),o(2),V("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(),V("active",t.optionsStatist==null||t.optionsStatist.data==null?null:t.optionsStatist.data.show),W("aria-label",h(16,24,"ACTION.STATIST")),o(3),v(t.optionsSearch.data.show?18:-1),o(),v(!(t.optionsStatist==null||t.optionsStatist.data==null)&&t.optionsStatist.data.show?19:-1),o(),v(t.pullToRefreshState.pullDistance>0?20:-1),o(2),v(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?22:23),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?25:-1),o(),v((t.dataModelResult==null?null:t.dataModelResult.totalRowCount)>0?26:-1))},dependencies:[Ne,Be,Ge,He,z,ot,U,Ii,Ye,We],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var yn=Un;var Gs=["vform"];function Hs(n,l){if(n&1){let e=A();a(0,"app-cms-enum-record-status-selector",11),w("modelChange",function(t){u(e);let r=m();return y(r.dataModel.recordStatus,t)||(r.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();T("model",e.dataModel.recordStatus),C("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ws(n,l){if(n&1){let e=A();a(0,"div",9)(1,"label",12),d(2),s(),a(3,"input",13,1),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.numberChar,t)||(r.dataModel.numberChar=t),f(t)}),s(),a(5,"em"),d(6),s()()}if(n&2){let e=P(4),i=m();o(2),E(i.fieldsInfo.numberChar==null?null:i.fieldsInfo.numberChar.fieldTitle),o(),C("disabled",k(!(i.fieldsInfo.numberChar!=null&&i.fieldsInfo.numberChar.accessAddField))),T("ngModel",i.dataModel.numberChar),o(3),M("",e.value.length," / 100")}}function Us(n,l){if(n&1){let e=A();a(0,"div",10)(1,"button",14),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",15),d(3),S(4,"translate"),s(),a(5,"button",16),g(6,"i",17),d(7),S(8,"translate"),s()()}if(n&2){m();let e=P(10);o(3),M(" ",h(4,3,"ACTION.CANCEL")," "),o(2),C("disabled",!e.form.valid),o(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var qn=class qn extends St{constructor(e,i,t,r,p,c,D,H){super(r,new qt,c,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiNumberService=r;this.cmsToastrService=p;this.publicHelper=c;this.cdr=D;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new X;this.dataModel=new qt;this.formInfo=new Me;this.dataModelEnumApiNumberAccessStatusResult=new X;this.dataModelEnumApiNumberActionResult=new X;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0,model:i.item})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};qn.\u0275fac=function(i){return new(i||qn)(_(Ee),_(Ae),_($e),_(li),_(O),_(G),_(F),_(B))},qn.\u0275cmp=N({type:qn,selectors:[["app-sms-api-number-add"]],viewQuery:function(i,t){if(i&1&&pe(Gs,5),i&2){let r;ue(r=fe())&&(t.formGroup=r.first)}},standalone:!1,features:[K],decls:14,vars:9,consts:[["vform","ngForm"],["NumberChar",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.numberChar",1,"color-highlight"],["matInput","","type","text","name","dataModel.numberChar","placeholder","123","id","dataModel.numberChar",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let r=A();a(0,"div",2),g(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),d(4),s(),a(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",6),a(9,"form",7,0),I("ngSubmit",function(){return u(r),f(t.onFormSubmit())}),b(11,Hs,1,5,"app-cms-enum-record-status-selector",8),b(12,Ws,7,5,"div",9),b(13,Us,9,7,"div",10),s()()()}i&2&&(o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",h(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),C("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),v(t.fieldsInfo.numberChar!=null&&t.fieldsInfo.numberChar.accessWatchField?12:-1),o(),v(t.formInfo.submitButtonEnabled?13:-1))},dependencies:[ve,te,ie,_e,Se,be,ne,De,z,Te,U],encapsulation:2});var jn=qn;function js(n,l){if(n&1){let e=A();a(0,"li")(1,"mat-checkbox",0),I("change",function(){let t=u(e).$implicit,r=m();return f(r.onActionSelect(t))}),d(2),s()()}if(n&2){let e=l.$implicit,i=m();o(),C("checked",i.fieldsStatus.get(e.id))("disabled",i.optionDisabled),o(),M(" ",e.title," ")}}var Qn=class Qn{constructor(l,e,i,t,r,p){this.coreEnumService=l;this.categoryService=e;this.cdr=i;this.publicHelper=t;this.translate=r;this.cmsToastrService=p;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new X;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new ci;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new st;this.optionSelectAdded=new st;this.optionSelectRemoved=new st;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.DataGetAll()}DataGetAll(){let l=new J;l.rowPerPage=50,l.accessLoad=!0;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(l).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataModelResult.listItems.forEach(t=>this.fieldsStatus.set(t.id,!1)),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0)),this.dataModelResult.listItems.forEach(t=>{this.fieldsStatus.get(t.id)&&this.dataModelSelect.push(t)})):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelect(l){this.fieldsStatus.get(l.id)?(this.fieldsStatus.set(l.id,!1),this.optionSelectRemoved.emit(l),this.dataModelSelect.splice(this.dataModelSelect.indexOf(l),1)):(this.fieldsStatus.set(l.id,!0),this.optionSelectAdded.emit(l),this.dataModelSelect.push(l)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(l){typeof l==typeof Array(String)?l.forEach(e=>{this.dataIdsSelect.push(e)}):typeof l==typeof Array(bt)&&l.forEach(e=>{this.dataIdsSelect.push(e.id)}),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){this.DataGetAll()}};Qn.\u0275fac=function(e){return new(e||Qn)(_(Re),_(ft),_(F),_(G),_(B),_(O))},Qn.\u0275cmp=N({type:Qn,selectors:[["app-sms-apipath-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:3,vars:0,consts:[[3,"change","checked","disabled"]],template:function(e,i){e&1&&(a(0,"ul"),Z(1,js,3,3,"li",null,de),s()),e&2&&(o(),$(i.dataModelResult.listItems))},dependencies:[Aa],encapsulation:2});var Ba=Qn;var Xs=["vform"];function zs(n,l){if(n&1){let e=A();a(0,"app-cms-enum-record-status-selector",36),w("modelChange",function(t){u(e);let r=m();return y(r.dataModel.recordStatus,t)||(r.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();T("model",e.dataModel.recordStatus),C("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ys(n,l){if(n&1){let e=A();a(0,"div",19)(1,"label",37),d(2),s(),a(3,"input",38,6),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.numberChar,t)||(r.dataModel.numberChar=t),f(t)}),s(),a(5,"em"),d(6),s()()}if(n&2){let e=P(4),i=m();o(2),E(i.fieldsInfo.numberChar==null?null:i.fieldsInfo.numberChar.fieldTitle),o(),C("disabled",k(!(i.fieldsInfo.numberChar!=null&&i.fieldsInfo.numberChar.accessEditField))),T("ngModel",i.dataModel.numberChar),o(3),M("",e.value.length," / 100")}}function Ks(n,l){if(n&1){let e=A();a(0,"div",20)(1,"div",39)(2,"h5",40),d(3),s()(),a(4,"div",41)(5,"div",42)(6,"input",43),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.isPublic,t)||(r.dataModel.isPublic=t),f(t)}),s(),g(7,"label",44),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.isPublic==null?null:e.fieldsInfo.isPublic.fieldTitle," "),o(3),T("ngModel",e.dataModel.isPublic)}}function Js(n,l){if(n&1){let e=A();a(0,"div",20)(1,"div",39)(2,"h5",45),d(3),s()(),a(4,"div",41)(5,"div",42)(6,"input",46),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.saleStatus,t)||(r.dataModel.saleStatus=t),f(t)}),s(),g(7,"label",47),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.saleStatus==null?null:e.fieldsInfo.saleStatus.fieldTitle," "),o(3),T("ngModel",e.dataModel.saleStatus)}}function Zs(n,l){if(n&1){let e=A();a(0,"div",19)(1,"label",48),d(2),s(),a(3,"input",49,7),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.priority,t)||(r.dataModel.priority=t),f(t)}),s(),a(5,"em"),d(6),s()()}if(n&2){let e=P(4),i=m();o(2),E(i.fieldsInfo.priority==null?null:i.fieldsInfo.priority.fieldTitle),o(),C("disabled",k(!(i.fieldsInfo.priority!=null&&i.fieldsInfo.priority.accessEditField))),T("ngModel",i.dataModel.priority),o(3),M("",e.value.length," / 100")}}function $s(n,l){if(n&1){let e=A();a(0,"div",20)(1,"div",39)(2,"h5",50),d(3),s()(),a(4,"div",41)(5,"div",42)(6,"input",51),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.deliveryRelayStatus,t)||(r.dataModel.deliveryRelayStatus=t),f(t)}),s(),g(7,"label",52),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.deliveryRelayStatus==null?null:e.fieldsInfo.deliveryRelayStatus.fieldTitle," "),o(3),T("ngModel",e.dataModel.deliveryRelayStatus)}}function el(n,l){if(n&1){let e=A();a(0,"div",19)(1,"label",53),d(2),s(),a(3,"input",54,8),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.deliveryRelayUrl,t)||(r.dataModel.deliveryRelayUrl=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.deliveryRelayUrl==null?null:e.fieldsInfo.deliveryRelayUrl.fieldTitle),o(),T("ngModel",e.dataModel.deliveryRelayUrl),C("readonly",!e.dataModel.deliveryRelayStatus)("disabled",!(e.fieldsInfo.deliveryRelayUrl!=null&&e.fieldsInfo.deliveryRelayUrl.accessEditField))}}function tl(n,l){if(n&1){let e=A();a(0,"div",20)(1,"div",39)(2,"h5",55),d(3),s()(),a(4,"div",41)(5,"div",42)(6,"input",56),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.smsRelayStatus,t)||(r.dataModel.smsRelayStatus=t),f(t)}),s(),g(7,"label",57),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.smsRelayStatus==null?null:e.fieldsInfo.smsRelayStatus.fieldTitle," "),o(3),T("ngModel",e.dataModel.smsRelayStatus)}}function il(n,l){if(n&1){let e=A();a(0,"div",19)(1,"label",58),d(2),s(),a(3,"input",59,9),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.smsRelayUrl,t)||(r.dataModel.smsRelayUrl=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.smsRelayUrl==null?null:e.fieldsInfo.smsRelayUrl.fieldTitle),o(),T("ngModel",e.dataModel.smsRelayUrl),C("readonly",!e.dataModel.smsRelayStatus)("disabled",!(e.fieldsInfo.smsRelayUrl!=null&&e.fieldsInfo.smsRelayUrl.accessEditField))}}function nl(n,l){if(n&1){let e=A();a(0,"div",21)(1,"label",60),d(2),s(),a(3,"input",61),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.expireDate,t)||(r.dataModel.expireDate=t),f(t)}),s(),g(4,"mat-datepicker-toggle",24)(5,"mat-datepicker",25,10),s()}if(n&2){let e=P(6),i=m();o(2),E(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),T("ngModel",i.dataModel.expireDate),C("matDatepicker",e),o(),C("for",e)}}function ol(n,l){n&1&&(a(0,"mat-error"),d(1," apiSendMessageAddTextFirst is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function al(n,l){n&1&&(a(0,"mat-error"),d(1," apiSendMessageAddTextEnd is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function rl(n,l){n&1&&(a(0,"mat-error"),d(1," sendMessageAddTextFirst is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function sl(n,l){n&1&&(a(0,"mat-error"),d(1," sendMessageAddTextEnd is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function ll(n,l){if(n&1){let e=A();a(0,"div",19)(1,"label",62),d(2),s(),a(3,"input",63,11),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.actionMemo,t)||(r.dataModel.actionMemo=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.actionMemo==null?null:e.fieldsInfo.actionMemo.fieldTitle),o(),T("ngModel",e.dataModel.actionMemo),C("disabled",!(e.fieldsInfo.actionMemo!=null&&e.fieldsInfo.actionMemo.accessEditField))}}function cl(n,l){if(n&1){let e=A();a(0,"div",35)(1,"button",64),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",65),d(3),S(4,"translate"),s(),a(5,"button",66),g(6,"i",67),d(7),S(8,"translate"),s()()}if(n&2){m();let e=P(10);o(3),M(" ",h(4,3,"ACTION.CANCEL")," "),o(2),C("disabled",!e.form.valid),o(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Xn=class Xn extends ht{constructor(e,i,t,r,p,c,D,H,Ke){super(r,new qt,D,Ke);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiNumberService=r;this.smsMainApiPathAndApiNumberService=p;this.cmsToastrService=c;this.publicHelper=D;this.cdr=H;this.translate=Ke;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ut;this.dataModel=new qt;this.formInfo=new Me;this.dataModelEnumApiNumberAccessStatusResult=new X;this.dataModelEnumApiNumberActionResult=new X;this.fileManagerOpenForm=!1;this.dataCoreCpMainMenuIds=[];this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberService.setAccessLoad(),this.smsMainApiNumberService.setAccessDataType(at.Editor),this.smsMainApiNumberService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.DataGetAllMenuCoreUserGroup(),this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllMenuCoreUserGroup(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Getting_access_category_from_the_server").subscribe(r=>{this.formInfo.submitResultMessage=r}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(r=>{this.publicHelper.processService.processStart(e,r,this.constructorInfoAreaId)});let i=new J,t=new Q;t.propertyName="LinkApiNumberId",t.value=this.requestId,i.filters.push(t),this.smsMainApiPathAndApiNumberService.ServiceGetAll(i).subscribe({next:r=>{this.dataCoreCpMainMenuCmsUserGroupModel=r.listItems;let p=[];this.dataCoreCpMainMenuCmsUserGroupModel.forEach(c=>{p.push(c.linkApiPathId)}),this.dataCoreCpMainMenuIds=p,r.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.submitResultMessage=c}),this.formInfo.submitResultMessage=r.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(r.errorMessage)),this.publicHelper.processService.processStop(e)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorUserCategorySelect(e){this.dataCoreCpMainMenuModel=e}onActionSelectorUserCategorySelectAdded(e){let i=new er;i.linkApiPathId=e.id,i.linkApiNumberId=this.dataModel.id,this.smsMainApiPathAndApiNumberService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(r=>{this.formInfo.submitResultMessage=r,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(r=>{this.formInfo.submitResultMessage=r}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorUserCategorySelectRemoved(e){let i=new er;i.linkApiPathId=e.id,i.linkApiNumberId=this.dataModel.id,this.smsMainApiPathAndApiNumberService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(r=>{this.formInfo.submitResultMessage=r}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(r=>{this.formInfo.submitResultMessage=r}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}};Xn.\u0275fac=function(i){return new(i||Xn)(_(Ee),_(Ae),_($e),_(li),_(Ca),_(O),_(G),_(F),_(B))},Xn.\u0275cmp=N({type:Xn,selectors:[["app-sms-api-number-edit"]],viewQuery:function(i,t){if(i&1&&pe(Xs,5),i&2){let r;ue(r=fe())&&(t.formGroup=r.first)}},standalone:!1,features:[K],decls:63,vars:48,consts:[["vform","ngForm"],["accessUseStartDate",""],["apiSendMessageAddTextFirst",""],["apiSendMessageAddTextEnd",""],["sendMessageAddTextFirst",""],["sendMessageAddTextEnd",""],["NumberChar",""],["Priority",""],["DeliveryRelayUrl",""],["SmsRelayUrl",""],["ExpireDate",""],["ActionMemo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"d-flex","mb-3"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.accessUseStartDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.accessUseStartDate","id","dataModel.accessUseStartDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.apiSendMessageAddTextFirst",1,"color-highlight"],["matInput","","name","dataModel.apiSendMessageAddTextFirst","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.apiSendMessageAddTextFirst",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.apiSendMessageAddTextEnd",1,"color-highlight"],["matInput","","name","dataModel.apiSendMessageAddTextEnd","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.apiSendMessageAddTextEnd",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.sendMessageAddTextFirst",1,"color-highlight"],["matInput","","name","dataModel.sendMessageAddTextFirst","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.sendMessageAddTextFirst",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.sendMessageAddTextEnd",1,"color-highlight"],["matInput","","name","dataModel.sendMessageAddTextEnd","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.sendMessageAddTextEnd",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.numberChar",1,"color-highlight"],["matInput","","type","text","name","dataModel.numberChar","placeholder","123","id","dataModel.numberChar",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","disabled"],[1,"pt-1"],["data-trigger-switch","dataModel.isPublic",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isPublic","name","dataModel.isPublic",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublic",1,"custom-control-label"],["data-trigger-switch","dataModel.saleStatus",1,"font-600","font-14"],["type","checkbox","id","dataModel.saleStatus","name","dataModel.saleStatus",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.saleStatus",1,"custom-control-label"],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","placeholder","1","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","dataModel.deliveryRelayStatus",1,"font-600","font-14"],["type","checkbox","id","dataModel.deliveryRelayStatus","name","dataModel.deliveryRelayStatus",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.deliveryRelayStatus",1,"custom-control-label"],["for","dataModel.deliveryRelayUrl",1,"color-highlight"],["matInput","","type","text","name","dataModel.deliveryRelayUrl","placeholder","1","id","dataModel.deliveryRelayUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel","readonly","disabled"],["data-trigger-switch","dataModel.smsRelayStatus",1,"font-600","font-14"],["type","checkbox","id","dataModel.smsRelayStatus","name","dataModel.smsRelayStatus",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.smsRelayStatus",1,"custom-control-label"],["for","dataModel.smsRelayUrl",1,"color-highlight"],["matInput","","type","text","name","dataModel.smsRelayUrl","placeholder","1","id","dataModel.smsRelayUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel","readonly","disabled"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["for","dataModel.actionMemo",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionMemo","placeholder","1","id","dataModel.actionMemo",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let r=A();a(0,"div",12),g(1,"app-progress-spinner",13),a(2,"div",14)(3,"p",15),d(4),s(),a(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",16),a(9,"form",17,0),I("ngSubmit",function(){return u(r),f(t.onFormSubmit())}),b(11,zs,1,5,"app-cms-enum-record-status-selector",18),b(12,Ys,7,5,"div",19),b(13,Ks,8,2,"div",20),b(14,Js,8,2,"div",20),b(15,Zs,7,5,"div",19),b(16,$s,8,2,"div",20),b(17,el,5,4,"div",19),b(18,tl,8,2,"div",20),b(19,il,5,4,"div",19),a(20,"div",21)(21,"label",22),d(22),s(),a(23,"input",23),w("ngModelChange",function(c){return u(r),y(t.dataModel.accessUseStartDate,c)||(t.dataModel.accessUseStartDate=c),f(c)}),s(),g(24,"mat-datepicker-toggle",24)(25,"mat-datepicker",25,1),s(),b(27,nl,7,4,"div",21),a(28,"div",19)(29,"label",26),d(30),s(),a(31,"textarea",27,2),w("ngModelChange",function(c){return u(r),y(t.dataModel.apiSendMessageAddTextFirst,c)||(t.dataModel.apiSendMessageAddTextFirst=c),f(c)}),s(),a(33,"em"),d(34),s(),b(35,ol,5,3,"mat-error"),s(),a(36,"div",19)(37,"label",28),d(38),s(),a(39,"textarea",29,3),w("ngModelChange",function(c){return u(r),y(t.dataModel.apiSendMessageAddTextEnd,c)||(t.dataModel.apiSendMessageAddTextEnd=c),f(c)}),s(),a(41,"em"),d(42),s(),b(43,al,5,3,"mat-error"),s(),a(44,"div",19)(45,"label",30),d(46),s(),a(47,"textarea",31,4),w("ngModelChange",function(c){return u(r),y(t.dataModel.sendMessageAddTextFirst,c)||(t.dataModel.sendMessageAddTextFirst=c),f(c)}),s(),a(49,"em"),d(50),s(),b(51,rl,5,3,"mat-error"),s(),a(52,"div",19)(53,"label",32),d(54),s(),a(55,"textarea",33,5),w("ngModelChange",function(c){return u(r),y(t.dataModel.sendMessageAddTextEnd,c)||(t.dataModel.sendMessageAddTextEnd=c),f(c)}),s(),a(57,"em"),d(58),s(),b(59,sl,5,3,"mat-error"),s(),b(60,ll,5,3,"div",19),a(61,"app-sms-apipath-selectionlist",34),I("optionChange",function(c){return u(r),f(t.onActionSelectorUserCategorySelect(c))})("optionSelectAdded",function(c){return u(r),f(t.onActionSelectorUserCategorySelectAdded(c))})("optionSelectRemoved",function(c){return u(r),f(t.onActionSelectorUserCategorySelectRemoved(c))}),s(),b(62,cl,9,7,"div",35),s()()()}if(i&2){let r=P(26),p=P(32),c=P(40),D=P(48),H=P(56);o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",h(7,46,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),C("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),v(t.fieldsInfo.numberChar!=null&&t.fieldsInfo.numberChar.accessWatchField?12:-1),o(),v(t.fieldsInfo.isPublic!=null&&t.fieldsInfo.isPublic.accessWatchField?13:-1),o(),v(t.fieldsInfo.saleStatus!=null&&t.fieldsInfo.saleStatus.accessWatchField?14:-1),o(),v(t.fieldsInfo.priority!=null&&t.fieldsInfo.priority.accessWatchField?15:-1),o(),v(t.fieldsInfo.deliveryRelayStatus!=null&&t.fieldsInfo.deliveryRelayStatus.accessWatchField?16:-1),o(),v(t.fieldsInfo.deliveryRelayUrl!=null&&t.fieldsInfo.deliveryRelayUrl.accessWatchField?17:-1),o(),v(t.fieldsInfo.smsRelayStatus!=null&&t.fieldsInfo.smsRelayStatus.accessWatchField?18:-1),o(),v(t.fieldsInfo.smsRelayUrl!=null&&t.fieldsInfo.smsRelayUrl.accessWatchField?19:-1),o(3),E(t.fieldsInfo.accessUseStartDate==null?null:t.fieldsInfo.accessUseStartDate.fieldTitle),o(),C("matDatepicker",r),T("ngModel",t.dataModel.accessUseStartDate),o(),C("for",r),o(3),v(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?27:-1),o(3),E(t.fieldsInfo.apiSendMessageAddTextFirst==null?null:t.fieldsInfo.apiSendMessageAddTextFirst.fieldTitle),o(),C("placeholder",k(t.fieldsInfo.apiSendMessageAddTextFirst==null?null:t.fieldsInfo.apiSendMessageAddTextFirst.fieldTitle)),T("ngModel",t.dataModel.apiSendMessageAddTextFirst),o(3),M("",p.value.length," / 500"),o(),v(p.errors!=null&&p.errors.required?35:-1),o(3),E(t.fieldsInfo.apiSendMessageAddTextEnd==null?null:t.fieldsInfo.apiSendMessageAddTextEnd.fieldTitle),o(),C("placeholder",k(t.fieldsInfo.apiSendMessageAddTextEnd==null?null:t.fieldsInfo.apiSendMessageAddTextEnd.fieldTitle)),T("ngModel",t.dataModel.apiSendMessageAddTextEnd),o(3),M("",c.value.length," / 500"),o(),v(c.errors!=null&&c.errors.required?43:-1),o(3),E(t.fieldsInfo.sendMessageAddTextFirst==null?null:t.fieldsInfo.sendMessageAddTextFirst.fieldTitle),o(),C("placeholder",k(t.fieldsInfo.sendMessageAddTextFirst==null?null:t.fieldsInfo.sendMessageAddTextFirst.fieldTitle)),T("ngModel",t.dataModel.sendMessageAddTextFirst),o(3),M("",D.value.length," / 500"),o(),v(D.errors!=null&&D.errors.required?51:-1),o(3),E(t.fieldsInfo.sendMessageAddTextEnd==null?null:t.fieldsInfo.sendMessageAddTextEnd.fieldTitle),o(),C("placeholder",k(t.fieldsInfo.sendMessageAddTextEnd==null?null:t.fieldsInfo.sendMessageAddTextEnd.fieldTitle)),T("ngModel",t.dataModel.sendMessageAddTextEnd),o(3),M("",H.value.length," / 500"),o(),v(H.errors!=null&&H.errors.required?59:-1),o(),v(t.fieldsInfo.actionMemo!=null&&t.fieldsInfo.actionMemo.accessWatchField?60:-1),o(),C("optionSelectForce",t.dataCoreCpMainMenuIds)("optionDisabled",!1),o(),v(t.formInfo.submitButtonEnabled?62:-1)}},dependencies:[ve,te,di,et,ie,_e,Ue,qe,Se,be,ei,ti,ii,xe,$t,ne,De,z,Te,mi,Ba,U],encapsulation:2});var zn=Xn;var dl=()=>[5,10,20,100],ml=(n,l)=>l.id;function pl(n,l){if(n&1){let e=A();a(0,"button",21),S(1,"translate"),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),g(2,"i",22),s()}n&2&&ki("aria-label",k(h(1,2,"ACTION.BACK")))}function ul(n,l){if(n&1){let e=A();a(0,"div",12)(1,"app-cms-search-list",23),w("optionsChange",function(t){u(e);let r=m();return y(r.optionsSearch,t)||(r.optionsSearch=t),f(t)}),s()()}if(n&2){let e=m();o(),T("options",e.optionsSearch)}}function fl(n,l){if(n&1){let e=A();a(0,"div",13)(1,"app-cms-statist-list",23),w("optionsChange",function(t){u(e);let r=m();return y(r.optionsStatist,t)||(r.optionsStatist=t),f(t)}),s()()}if(n&2){let e=m();o(),T("options",e.optionsStatist)}}function Sl(n,l){if(n&1&&(a(0,"div",24),g(1,"i",10),a(2,"span"),d(3),S(4,"translate"),S(5,"translate"),s()()),n&2){let e=m();Ze("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),V("refreshing",e.pullToRefreshState.isRefreshing),o(),V("rotation360",e.pullToRefreshState.isRefreshing),o(2),E(e.pullToRefreshState.isRefreshing?h(4,7,"ACTION.RELOADING"):h(5,9,"ACTION.PULL_TO_REFRESH"))}}function hl(n,l){if(n&1&&(a(0,"span",35),g(1,"i",46),d(2),S(3,"translate"),S(4,"translate"),s()),n&2){let e=m().$implicit;o(2),M(" ",e.saleStatus?h(3,1,"MESSAGE.Sale"):h(4,3,"MESSAGE.NotSale")," ")}}function gl(n,l){if(n&1&&(a(0,"div",39),g(1,"i",47),a(2,"span"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit;o(3),E(h(4,1,e.lastUseOfDate))}}function Cl(n,l){if(n&1){let e=A();a(0,"button",48),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonEditRow(r),f(t.stopPropagation())}),g(2,"i",49),s()}n&2&&W("aria-label",h(1,1,"ACTION.EDIT"))}function Ml(n,l){if(n&1){let e=A();a(0,"button",50),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonDeleteRow(r),f(t.stopPropagation())}),g(2,"i",51),s()}n&2&&W("aria-label",h(1,1,"ACTION.DELETE"))}function _l(n,l){if(n&1){let e=A();a(0,"button",52),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonPermissionList(r),f(t.stopPropagation())}),g(2,"i",53),s()}n&2&&W("aria-label",h(1,1,"ACTION.PERMISSION"))}function bl(n,l){if(n&1){let e=A();a(0,"button",54),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonDeleteRow(r),f(t.stopPropagation())}),g(2,"i",51),s()}n&2&&W("aria-label",h(1,1,"ACTION.DELETE"))}function vl(n,l){if(n&1){let e=A();a(0,"div",26)(1,"div",27),I("click",function(){let t=u(e).$implicit,r=m(2);return f(r.onActionTableRowSelect(t))})("touchstart",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchStart(t,r.id))})("touchmove",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchMove(t,r.id))})("touchend",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchEnd(t,r.id))}),a(2,"div",28),g(3,"i",29),s(),a(4,"div",30)(5,"div",31),d(6),s(),a(7,"div",32)(8,"span",33),g(9,"i",34),d(10),S(11,"translate"),S(12,"translate"),s(),b(13,hl,5,5,"span",35),s(),a(14,"div",36)(15,"div",37),g(16,"i",38),S(17,"statusIconClass"),s(),b(18,gl,5,3,"div",39),s()(),a(19,"div",40),b(20,Cl,3,3,"button",41),b(21,Ml,3,3,"button",42),b(22,_l,3,3,"button",43),s()(),a(23,"div",44),b(24,bl,3,3,"button",45),s()()}if(n&2){let e,i=l.$implicit,t=m(2);Ze("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),o(),V("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),W("aria-label",i.numberChar),o(5),M(" ",i.numberChar," "),o(2),V("public",i.isPublic),o(),C("ngClass",i.isPublic?"fa-globe":"fa-lock"),o(),M(" ",i.isPublic?h(11,17,"MESSAGE.Public"):h(12,19,"MESSAGE.Private")," "),o(3),v(i.saleStatus?13:-1),o(3),C("ngClass",h(17,21,i.recordStatus)),o(2),v(i.lastUseOfDate?18:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?20:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?21:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?22:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1)}}function Il(n,l){if(n&1&&(a(0,"div",16),Z(1,vl,25,23,"div",25,ml),s()),n&2){let e=m();o(),$(e.dataModelResult.listItems)}}function Al(n,l){n&1&&(a(0,"div",17)(1,"div",55),g(2,"i",56),s(),a(3,"div",57),d(4),S(5,"translate"),s()()),n&2&&(o(4),M(" ",h(5,1,"MESSAGE.no_information")," "))}function El(n,l){if(n&1){let e=A();a(0,"button",58),S(1,"translate"),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",59),s()}n&2&&W("aria-label",h(1,1,"ACTION.ADD"))}function Tl(n,l){if(n&1){let e=A();a(0,"div",20)(1,"mat-paginator",60,0),I("page",function(t){u(e);let r=m();return f(r.onTablePageingData(t))}),s()()}if(n&2){let e=m();o(),C("length",(e.dataModelResult==null?null:e.dataModelResult.totalRowCount)||0)("pageIndex",((e.dataModelResult==null?null:e.dataModelResult.currentPageNumber)||1)-1)("pageSize",(e.dataModelResult==null?null:e.dataModelResult.rowPerPage)||10)("pageSizeOptions",we(4,dl))}}var Kn=class Kn extends Oe{constructor(e,i,t,r,p,c,D,H,Ke,nt,Qe,Mt){super(e,new qt,Qe,c,Ke);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=r;this.router=p;this.tokenHelper=c;this.cdr=D;this.cmsStoreService=H;this.translate=Ke;this.pageInfo=nt;this.publicHelper=Qe;this.dialog=Mt;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","NumberChar","accessUseStartDate","isPublic","lastUseOfDate","SaleStatus","createdDate","updatedDate","position"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","NumberChar","accessUseStartDate","isPublic","lastUseOfDate","SaleStatus","createdDate","updatedDate","position"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Y=>this.onSubmitOptionsSearch(Y)},this.filteModelContent.sortColumn="priority",this.filteModelContent.sortType=q.Ascending}ngOnInit(){if(this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")),this.requestLinkApiPathId?.length>0){let e=new Q;e.propertyName="ApiPathAndApiNumbers",e.propertyAnyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new qt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id?.length>0){let t=new Q;t.propertyName="ApiPathAndApiNumbers",t.propertyAnyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new J,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.filteModelContent.sortColumn="priority",this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.requestLinkApiPathId;this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(jn,{height:"90%",width:"60%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:e}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&(this.onActionButtonEditRow(r.model),this.DataGetAll())})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(zn,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],t=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(r=>{if(r){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let r=JSON.parse(JSON.stringify(this.filteModelContent)),p=new Q;p.propertyName="recordStatus",p.value=Pe.Available,r.filters.push(p),this.contentService.ServiceGetCount(r).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPermissionList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-number-permission/LinkApiNumberId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-number-permission/LinkApiNumberId/",this.tableRowSelected.id])}onActionButtonReload(){this.filteModelContent.sortColumn="priority",this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let r=e.touches[0];t.currentX=r.clientX;let p=t.currentX-t.startX,c=document.documentElement.dir==="rtl",D=c?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,H=c?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(H,Math.min(D,p))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let r=document.documentElement.dir==="rtl",p=r?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;r&&t.offset>p||!r&&t.offset<p||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}onActionTableRowSelect(e){this.tableRowSelected=e}};Kn.\u0275fac=function(i){return new(i||Kn)(_(li),_(O),_(ze),_(Ve),_(Le),_(Ce),_(F),_(ge),_(B),_(Fe),_(G),_(he))},Kn.\u0275cmp=N({type:Kn,selectors:[["app-sms-api-number-list-mobile"]],standalone:!1,features:[K],decls:27,vars:26,consts:[["paginator",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"aria-label"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["aria-hidden","true",1,"fa-solid","fa-chart-bar"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-statist-area","safe-area-content"],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content","safe-area-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],[1,"cms-m-footer","safe-area-bottom"],[1,"cms-m-fab"],[1,"cms-m-pagination-wrapper"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[3,"optionsChange","options"],[1,"cms-m-pull-refresh-indicator"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-phone"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-badge"],["aria-hidden","true",1,"fa-solid",3,"ngClass"],[1,"cms-m-badge","sale"],[1,"cms-m-list-item-footer"],[1,"cms-m-list-item-status"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-date"],[1,"cms-m-list-item-actions"],[1,"cms-m-action-btn","edit"],[1,"cms-m-action-btn","delete"],[1,"cms-m-action-btn","permission"],[1,"cms-m-list-item-swipe-actions"],[1,"cms-m-swipe-action-btn","delete"],["aria-hidden","true",1,"fa-solid","fa-tag"],["aria-hidden","true",1,"fa-solid","fa-clock"],[1,"cms-m-action-btn","edit",3,"click"],["aria-hidden","true",1,"fa-solid","fa-pen"],[1,"cms-m-action-btn","delete",3,"click"],["aria-hidden","true",1,"fa-solid","fa-trash"],[1,"cms-m-action-btn","permission",3,"click"],["aria-hidden","true",1,"fa-solid","fa-key"],[1,"cms-m-swipe-action-btn","delete",3,"click"],[1,"cms-m-empty-state-icon"],["aria-hidden","true",1,"fa-solid","fa-inbox"],[1,"cms-m-empty-state-text"],[1,"cms-m-fab",3,"click"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"]],template:function(i,t){i&1&&(a(0,"div",1),g(1,"app-progress-spinner",2),a(2,"div",3)(3,"div",4),b(4,pl,3,4,"button",5),a(5,"h1",6),d(6),S(7,"translate"),s(),a(8,"div",7)(9,"button",8),S(10,"translate"),I("click",function(){return t.optionsSearch.data.show=!t.optionsSearch.data.show}),g(11,"i",9),s(),a(12,"button",8),S(13,"translate"),I("click",function(){return t.onActionButtonReload()}),g(14,"i",10),s(),a(15,"button",8),S(16,"translate"),I("click",function(){return t.onActionButtonStatist()}),g(17,"i",11),s()()()(),b(18,ul,2,1,"div",12),b(19,fl,2,1,"div",13),b(20,Sl,6,11,"div",14),a(21,"div",15),I("touchstart",function(p){return t.onTouchStart(p)})("touchmove",function(p){return t.onTouchMove(p)})("touchend",function(p){return t.onTouchEnd(p)}),b(22,Il,3,0,"div",16)(23,Al,6,3,"div",17),s(),a(24,"div",18),b(25,El,3,3,"button",19),b(26,Tl,3,5,"div",20),s()()),i&2&&(o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v((t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0?4:-1),o(2),M(" ",h(7,18,"ROUTE.SMS.MAIN")," "),o(3),V("active",t.optionsSearch.data.show),W("aria-label",h(10,20,"ACTION.SEARCH")),o(3),W("aria-label",h(13,22,"ACTION.RELOAD")),o(2),V("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(),V("active",t.optionsStatist==null||t.optionsStatist.data==null?null:t.optionsStatist.data.show),W("aria-label",h(16,24,"ACTION.STATIST")),o(3),v(t.optionsSearch.data.show?18:-1),o(),v(!(t.optionsStatist==null||t.optionsStatist.data==null)&&t.optionsStatist.data.show?19:-1),o(),v(t.pullToRefreshState.pullDistance>0?20:-1),o(2),v(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?22:23),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?25:-1),o(),v((t.dataModelResult==null?null:t.dataModelResult.totalRowCount)>0?26:-1))},dependencies:[Ne,Be,Ge,He,z,U,Ye,We],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var sa=Kn;var yl=["vform"];function wl(n,l){if(n&1){let e=A();a(0,"app-cms-enum-record-status-selector",26),w("modelChange",function(t){u(e);let r=m();return y(r.dataModel.recordStatus,t)||(r.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();T("model",e.dataModel.recordStatus),C("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Pl(n,l){n&1&&g(0,"i",29)}function Rl(n,l){n&1&&g(0,"i",30)}function xl(n,l){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function Dl(n,l){if(n&1){let e=A();a(0,"div",15)(1,"label",27),d(2),s(),a(3,"input",28,3),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.title,t)||(r.dataModel.title=t),f(t)}),s(),b(5,Pl,1,0,"i",29),b(6,Rl,1,0,"i",30),a(7,"em"),d(8),s(),b(9,xl,5,3,"mat-error"),s()}if(n&2){let e=P(4),i=m();o(2),E(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),C("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModel.title),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(2),M("",e.value.length," / 100"),o(),v(e.errors!=null&&e.errors.required?9:-1)}}function kl(n,l){if(n&1){let e=A();a(0,"div",16)(1,"div",31)(2,"h5",32),d(3),s()(),a(4,"div",33)(5,"div",34)(6,"input",35),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.checkCredit,t)||(r.dataModel.checkCredit=t),f(t)}),s(),g(7,"label",36),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.checkCredit==null?null:e.fieldsInfo.checkCredit.fieldTitle," "),o(3),T("ngModel",e.dataModel.checkCredit)}}function Ll(n,l){if(n&1){let e=A();a(0,"div",16)(1,"div",31)(2,"h5",37),d(3),s()(),a(4,"div",33)(5,"div",34)(6,"input",38),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.calculateCredit,t)||(r.dataModel.calculateCredit=t),f(t)}),s(),g(7,"label",39),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.calculateCredit==null?null:e.fieldsInfo.calculateCredit.fieldTitle," "),o(3),T("ngModel",e.dataModel.calculateCredit)}}function Vl(n,l){n&1&&g(0,"i",29)}function Nl(n,l){n&1&&g(0,"i",30)}function Bl(n,l){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2){let e=m(2);o(),M(" ",e.fieldsInfo.serviceAvailableCredit==null?null:e.fieldsInfo.serviceAvailableCredit.fieldTitle," is "),o(2),E(h(4,2,"MESSAGE.required"))}}function Fl(n,l){if(n&1){let e=A();a(0,"div",15)(1,"label",40),d(2),s(),a(3,"input",41,4),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.serviceAvailableCredit,t)||(r.dataModel.serviceAvailableCredit=t),f(t)}),s(),b(5,Vl,1,0,"i",29),b(6,Nl,1,0,"i",30),b(7,Bl,5,4,"mat-error"),s()}if(n&2){let e=P(4),i=m();o(2),E(i.fieldsInfo.serviceAvailableCredit==null?null:i.fieldsInfo.serviceAvailableCredit.fieldTitle),o(),T("ngModel",i.dataModel.serviceAvailableCredit),C("disabled",!(i.fieldsInfo.serviceAvailableCredit!=null&&i.fieldsInfo.serviceAvailableCredit.accessAddField)),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(),v(e.errors!=null&&e.errors.required?7:-1)}}function Ol(n,l){n&1&&g(0,"i",29)}function Gl(n,l){n&1&&g(0,"i",30)}function Hl(n,l){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2){let e=m(2);o(),M(" ",e.fieldsInfo.serviceSumCredit==null?null:e.fieldsInfo.serviceSumCredit.fieldTitle," is "),o(2),E(h(4,2,"MESSAGE.required"))}}function Wl(n,l){if(n&1){let e=A();a(0,"div",15)(1,"label",42),d(2),s(),a(3,"input",43,5),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.serviceSumCredit,t)||(r.dataModel.serviceSumCredit=t),f(t)}),s(),b(5,Ol,1,0,"i",29),b(6,Gl,1,0,"i",30),b(7,Hl,5,4,"mat-error"),s()}if(n&2){let e=P(4),i=m();o(2),E(i.fieldsInfo.serviceSumCredit==null?null:i.fieldsInfo.serviceSumCredit.fieldTitle),o(),T("ngModel",i.dataModel.serviceSumCredit),C("disabled",!(i.fieldsInfo.serviceSumCredit!=null&&i.fieldsInfo.serviceSumCredit.accessAddField)),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(),v(e.errors!=null&&e.errors.required?7:-1)}}function Ul(n,l){n&1&&g(0,"i",29)}function ql(n,l){n&1&&g(0,"i",30)}function jl(n,l){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2){let e=m(2);o(),M(" ",e.fieldsInfo.userAvailableCredit==null?null:e.fieldsInfo.userAvailableCredit.fieldTitle," is "),o(2),E(h(4,2,"MESSAGE.required"))}}function Ql(n,l){if(n&1){let e=A();a(0,"div",15)(1,"label",44),d(2),s(),a(3,"input",45,6),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.userAvailableCredit,t)||(r.dataModel.userAvailableCredit=t),f(t)}),s(),b(5,Ul,1,0,"i",29),b(6,ql,1,0,"i",30),b(7,jl,5,4,"mat-error"),s()}if(n&2){let e=P(4),i=m();o(2),E(i.fieldsInfo.userAvailableCredit==null?null:i.fieldsInfo.userAvailableCredit.fieldTitle),o(),T("ngModel",i.dataModel.userAvailableCredit),C("disabled",!(i.fieldsInfo.userAvailableCredit!=null&&i.fieldsInfo.userAvailableCredit.accessAddField)),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(),v(e.errors!=null&&e.errors.required?7:-1)}}function Xl(n,l){n&1&&g(0,"i",29)}function zl(n,l){n&1&&g(0,"i",30)}function Yl(n,l){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2){let e=m(2);o(),M(" ",e.fieldsInfo.userSumCredit==null?null:e.fieldsInfo.userSumCredit.fieldTitle," is "),o(2),E(h(4,2,"MESSAGE.required"))}}function Kl(n,l){if(n&1){let e=A();a(0,"div",15)(1,"label",46),d(2),s(),a(3,"input",47,7),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.userSumCredit,t)||(r.dataModel.userSumCredit=t),f(t)}),s(),b(5,Xl,1,0,"i",29),b(6,zl,1,0,"i",30),b(7,Yl,5,4,"mat-error"),s()}if(n&2){let e=P(4),i=m();o(2),E(i.fieldsInfo.userSumCredit==null?null:i.fieldsInfo.userSumCredit.fieldTitle),o(),T("ngModel",i.dataModel.userSumCredit),C("disabled",!(i.fieldsInfo.userSumCredit!=null&&i.fieldsInfo.userSumCredit.accessAddField)),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(),v(e.errors!=null&&e.errors.required?7:-1)}}function Jl(n,l){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function Zl(n,l){if(n&1&&(g(0,"img",21),S(1,"cmsthumbnail")),n&2){let e=m();C("src",k(h(1,2,e.dataModel.linkMainImageIdSrc)),me)}}function $l(n,l){if(n&1){let e=A();a(0,"div",25)(1,"button",48),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",49),d(3),S(4,"translate"),s(),a(5,"button",50),g(6,"i",51),d(7),S(8,"translate"),s()()}if(n&2){m();let e=P(13);o(3),M(" ",h(4,3,"ACTION.CANCEL")," "),o(2),C("disabled",!e.form.valid),o(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Jn=class Jn extends St{constructor(e,i,t,r,p,c,D,H){super(r,new _t,c,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainApiPathCompanyService=r;this.cmsToastrService=p;this.publicHelper=c;this.cdr=D;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new X;this.dataModel=new _t;this.formInfo=new Me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathCompanyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Jn.\u0275fac=function(i){return new(i||Jn)(_(Ee),_(Ae),_(Re),_(At),_(O),_(G),_(F),_(B))},Jn.\u0275cmp=N({type:Jn,selectors:[["app-sms-apipathcompany-add"]],viewQuery:function(i,t){if(i&1&&pe(yl,5),i&2){let r;ue(r=fe())&&(t.formGroup=r.first)}},standalone:!1,features:[K],decls:43,vars:45,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["ServiceAvailableCredit",""],["ServiceSumCredit",""],["UserAvailableCredit",""],["UserSumCredit",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"d-flex","mb-3"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"pt-1"],["data-trigger-switch","dataModel.checkCredit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.checkCredit","name","dataModel.checkCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.checkCredit",1,"custom-control-label"],["data-trigger-switch","dataModel.calculateCredit",1,"font-600","font-14"],["type","checkbox","id","dataModel.calculateCredit","name","dataModel.calculateCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.calculateCredit",1,"custom-control-label"],["for","dataModel.serviceAvailableCredit",1,"color-highlight"],["matInput","","type","text","currencyMask","","name","dataModel.serviceAvailableCredit","type","number","placeholder","0","required","","id","dataModel.serviceAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.serviceSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceSumCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.serviceSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userAvailableCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.userAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userSumCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.userSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let r=A();a(0,"div",8),g(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),d(4),s(),a(5,"h4"),d(6),S(7,"translate"),s(),a(8,"p"),d(9),S(10,"translate"),s(),g(11,"app-cms-form-result-message",12),a(12,"form",13,0),I("ngSubmit",function(){return u(r),f(t.onFormSubmit())}),b(14,wl,1,5,"app-cms-enum-record-status-selector",14),b(15,Dl,10,8,"div",15),b(16,kl,8,2,"div",16),b(17,Ll,8,2,"div",16),b(18,Fl,8,6,"div",15),b(19,Wl,8,6,"div",15),b(20,Ql,8,6,"div",15),b(21,Kl,8,6,"div",15),a(22,"div",15)(23,"label",17),d(24),s(),a(25,"textarea",18,1),w("ngModelChange",function(c){return u(r),y(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),s(),a(27,"em"),d(28),s(),b(29,Jl,5,3,"mat-error"),s(),a(30,"div",19)(31,"a",20),S(32,"cmsthumbnail"),b(33,Zl,2,4,"img",21),s()(),a(34,"div",15)(35,"label",22),I("click",function(){return u(r),f(t.fileManagerOpenForm=!0)}),d(36),S(37,"translate"),s(),a(38,"input",23,2),S(40,"translate"),w("ngModelChange",function(c){return u(r),y(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),I("click",function(){return u(r),f(t.fileManagerOpenForm=!0)}),s(),a(41,"cms-file-manager",24),I("itemSelected",function(c){return u(r),f(t.onActionFileSelected(c))}),w("openFormChange",function(c){return u(r),y(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),s()(),b(42,$l,9,7,"div",25),s()()()}if(i&2){let r=P(26);o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),E(h(7,35,"TITLE.SERVICE_PROVIDER_COMPANIES")),o(3),M(" ",h(10,37,"TITLE.SERVICE_PROVIDER_COMPANIES_DESCRIPTION")," "),o(2),C("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(),v(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?15:-1),o(),v(t.fieldsInfo.checkCredit!=null&&t.fieldsInfo.checkCredit.accessWatchField?16:-1),o(),v(t.fieldsInfo.calculateCredit!=null&&t.fieldsInfo.calculateCredit.accessWatchField?17:-1),o(),v(t.fieldsInfo.serviceAvailableCredit!=null&&t.fieldsInfo.serviceAvailableCredit.accessWatchField?18:-1),o(),v(t.fieldsInfo.serviceSumCredit!=null&&t.fieldsInfo.serviceSumCredit.accessWatchField?19:-1),o(),v(t.fieldsInfo.userAvailableCredit!=null&&t.fieldsInfo.userAvailableCredit.accessWatchField?20:-1),o(),v(t.fieldsInfo.userSumCredit!=null&&t.fieldsInfo.userSumCredit.accessWatchField?21:-1),o(3),E(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),C("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),o(3),M("",r.value.length," / 500"),o(),v(r.errors!=null&&r.errors.required?29:-1),o(2),C("href",k(h(32,39,t.dataModel.linkMainImageIdSrc)),me),o(2),v((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?33:-1),o(3),E(h(37,41,"TITLE.Icon_File")),o(2),C("placeholder",k(h(40,43,"TITLE.Original_File_ID"))),T("ngModel",t.dataModel.linkMainImageId),o(3),C("language",t.appLanguage)("isPopup",!0),T("openForm",t.fileManagerOpenForm),C("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),v(t.formInfo.submitButtonEnabled?42:-1)}},dependencies:[ve,te,di,et,ie,_e,Ie,Ue,qe,Se,be,xe,ne,De,z,Te,mi,bi,U,Je],encapsulation:2});var Zn=Jn;var ec=["vform"];function tc(n,l){if(n&1){let e=A();a(0,"app-cms-enum-record-status-selector",26),w("modelChange",function(t){u(e);let r=m();return y(r.dataModel.recordStatus,t)||(r.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();T("model",e.dataModel.recordStatus),C("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ic(n,l){n&1&&g(0,"i",29)}function nc(n,l){n&1&&g(0,"i",30)}function oc(n,l){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function ac(n,l){if(n&1){let e=A();a(0,"div",15)(1,"label",27),d(2),s(),a(3,"input",28,3),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.title,t)||(r.dataModel.title=t),f(t)}),s(),b(5,ic,1,0,"i",29),b(6,nc,1,0,"i",30),a(7,"em"),d(8),s(),b(9,oc,5,3,"mat-error"),s()}if(n&2){let e=P(4),i=m();o(2),E(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),C("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModel.title),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(2),M("",e.value.length," / 100"),o(),v(e.errors!=null&&e.errors.required?9:-1)}}function rc(n,l){if(n&1){let e=A();a(0,"div",16)(1,"div",31)(2,"h5",32),d(3),s()(),a(4,"div",33)(5,"div",34)(6,"input",35),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.checkCredit,t)||(r.dataModel.checkCredit=t),f(t)}),s(),g(7,"label",36),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.checkCredit==null?null:e.fieldsInfo.checkCredit.fieldTitle," "),o(3),T("ngModel",e.dataModel.checkCredit)}}function sc(n,l){if(n&1){let e=A();a(0,"div",16)(1,"div",31)(2,"h5",37),d(3),s()(),a(4,"div",33)(5,"div",34)(6,"input",38),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.calculateCredit,t)||(r.dataModel.calculateCredit=t),f(t)}),s(),g(7,"label",39),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.calculateCredit==null?null:e.fieldsInfo.calculateCredit.fieldTitle," "),o(3),T("ngModel",e.dataModel.calculateCredit)}}function lc(n,l){n&1&&g(0,"i",29)}function cc(n,l){n&1&&g(0,"i",30)}function dc(n,l){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2){let e=m(2);o(),M(" ",e.fieldsInfo.serviceAvailableCredit==null?null:e.fieldsInfo.serviceAvailableCredit.fieldTitle," is "),o(2),E(h(4,2,"MESSAGE.required"))}}function mc(n,l){if(n&1){let e=A();a(0,"div",15)(1,"label",40),d(2),s(),a(3,"input",41,4),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.serviceAvailableCredit,t)||(r.dataModel.serviceAvailableCredit=t),f(t)}),s(),b(5,lc,1,0,"i",29),b(6,cc,1,0,"i",30),b(7,dc,5,4,"mat-error"),s()}if(n&2){let e=P(4),i=m();o(2),E(i.fieldsInfo.serviceAvailableCredit==null?null:i.fieldsInfo.serviceAvailableCredit.fieldTitle),o(),T("ngModel",i.dataModel.serviceAvailableCredit),C("disabled",!(i.fieldsInfo.serviceAvailableCredit!=null&&i.fieldsInfo.serviceAvailableCredit.accessEditField)),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(),v(e.errors!=null&&e.errors.required?7:-1)}}function pc(n,l){n&1&&g(0,"i",29)}function uc(n,l){n&1&&g(0,"i",30)}function fc(n,l){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2){let e=m(2);o(),M(" ",e.fieldsInfo.serviceSumCredit==null?null:e.fieldsInfo.serviceSumCredit.fieldTitle," is "),o(2),E(h(4,2,"MESSAGE.required"))}}function Sc(n,l){if(n&1){let e=A();a(0,"div",15)(1,"label",42),d(2),s(),a(3,"input",43,5),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.serviceSumCredit,t)||(r.dataModel.serviceSumCredit=t),f(t)}),s(),b(5,pc,1,0,"i",29),b(6,uc,1,0,"i",30),b(7,fc,5,4,"mat-error"),s()}if(n&2){let e=P(4),i=m();o(2),E(i.fieldsInfo.serviceSumCredit==null?null:i.fieldsInfo.serviceSumCredit.fieldTitle),o(),T("ngModel",i.dataModel.serviceSumCredit),C("disabled",!(i.fieldsInfo.serviceSumCredit!=null&&i.fieldsInfo.serviceSumCredit.accessEditField)),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(),v(e.errors!=null&&e.errors.required?7:-1)}}function hc(n,l){n&1&&g(0,"i",29)}function gc(n,l){n&1&&g(0,"i",30)}function Cc(n,l){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2){let e=m(2);o(),M(" ",e.fieldsInfo.userAvailableCredit==null?null:e.fieldsInfo.userAvailableCredit.fieldTitle," is "),o(2),E(h(4,2,"MESSAGE.required"))}}function Mc(n,l){if(n&1){let e=A();a(0,"div",15)(1,"label",44),d(2),s(),a(3,"input",45,6),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.userAvailableCredit,t)||(r.dataModel.userAvailableCredit=t),f(t)}),s(),b(5,hc,1,0,"i",29),b(6,gc,1,0,"i",30),b(7,Cc,5,4,"mat-error"),s()}if(n&2){let e=P(4),i=m();o(2),E(i.fieldsInfo.userAvailableCredit==null?null:i.fieldsInfo.userAvailableCredit.fieldTitle),o(),T("ngModel",i.dataModel.userAvailableCredit),C("disabled",!(i.fieldsInfo.userAvailableCredit!=null&&i.fieldsInfo.userAvailableCredit.accessEditField)),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(),v(e.errors!=null&&e.errors.required?7:-1)}}function _c(n,l){n&1&&g(0,"i",29)}function bc(n,l){n&1&&g(0,"i",30)}function vc(n,l){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2){let e=m(2);o(),M(" ",e.fieldsInfo.userSumCredit==null?null:e.fieldsInfo.userSumCredit.fieldTitle," is "),o(2),E(h(4,2,"MESSAGE.required"))}}function Ic(n,l){if(n&1){let e=A();a(0,"div",15)(1,"label",46),d(2),s(),a(3,"input",47,7),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.userSumCredit,t)||(r.dataModel.userSumCredit=t),f(t)}),s(),b(5,_c,1,0,"i",29),b(6,bc,1,0,"i",30),b(7,vc,5,4,"mat-error"),s()}if(n&2){let e=P(4),i=m();o(2),E(i.fieldsInfo.userSumCredit==null?null:i.fieldsInfo.userSumCredit.fieldTitle),o(),T("ngModel",i.dataModel.userSumCredit),C("disabled",!(i.fieldsInfo.userSumCredit!=null&&i.fieldsInfo.userSumCredit.accessEditField)),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(),v(e.errors!=null&&e.errors.required?7:-1)}}function Ac(n,l){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function Ec(n,l){if(n&1&&(g(0,"img",21),S(1,"cmsthumbnail")),n&2){let e=m();C("src",k(h(1,2,e.dataModel.linkMainImageIdSrc)),me)}}function Tc(n,l){if(n&1){let e=A();a(0,"div",25)(1,"button",48),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",49),d(3),S(4,"translate"),s(),a(5,"button",50),g(6,"i",51),d(7),S(8,"translate"),s()()}if(n&2){m();let e=P(13);o(3),M(" ",h(4,3,"ACTION.CANCEL")," "),o(2),C("disabled",!e.form.valid),o(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var $n=class $n extends ht{constructor(e,i,t,r,p,c,D,H){super(r,new _t,c,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainApiPathCompanyService=r;this.cmsToastrService=p;this.publicHelper=c;this.cdr=D;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ut;this.dataModel=new _t;this.formInfo=new Me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathCompanyService.setAccessLoad(),this.smsMainApiPathCompanyService.setAccessDataType(at.Editor),this.smsMainApiPathCompanyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathCompanyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$n.\u0275fac=function(i){return new(i||$n)(_(Ee),_(Ae),_(Re),_(At),_(O),_(G),_(F),_(B))},$n.\u0275cmp=N({type:$n,selectors:[["app-sms-apipathcompany-edit"]],viewQuery:function(i,t){if(i&1&&pe(ec,5),i&2){let r;ue(r=fe())&&(t.formGroup=r.first)}},standalone:!1,features:[K],decls:43,vars:45,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["ServiceAvailableCredit",""],["ServiceSumCredit",""],["UserAvailableCredit",""],["UserSumCredit",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"d-flex","mb-3"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"pt-1"],["data-trigger-switch","dataModel.checkCredit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.checkCredit","name","dataModel.checkCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.checkCredit",1,"custom-control-label"],["data-trigger-switch","dataModel.calculateCredit",1,"font-600","font-14"],["type","checkbox","id","dataModel.calculateCredit","name","dataModel.calculateCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.calculateCredit",1,"custom-control-label"],["for","dataModel.serviceAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceAvailableCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.serviceAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.serviceSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceSumCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.serviceSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userAvailableCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.userAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userSumCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.userSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let r=A();a(0,"div",8),g(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),d(4),s(),a(5,"h4"),d(6),S(7,"translate"),s(),a(8,"p"),d(9),S(10,"translate"),s(),g(11,"app-cms-form-result-message",12),a(12,"form",13,0),I("ngSubmit",function(){return u(r),f(t.onFormSubmit())}),b(14,tc,1,5,"app-cms-enum-record-status-selector",14),b(15,ac,10,8,"div",15),b(16,rc,8,2,"div",16),b(17,sc,8,2,"div",16),b(18,mc,8,6,"div",15),b(19,Sc,8,6,"div",15),b(20,Mc,8,6,"div",15),b(21,Ic,8,6,"div",15),a(22,"div",15)(23,"label",17),d(24),s(),a(25,"textarea",18,1),w("ngModelChange",function(c){return u(r),y(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),s(),a(27,"em"),d(28),s(),b(29,Ac,5,3,"mat-error"),s(),a(30,"div",19)(31,"a",20),S(32,"cmsthumbnail"),b(33,Ec,2,4,"img",21),s()(),a(34,"div",15)(35,"label",22),I("click",function(){return u(r),f(t.fileManagerOpenForm=!0)}),d(36),S(37,"translate"),s(),a(38,"input",23,2),S(40,"translate"),w("ngModelChange",function(c){return u(r),y(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),I("click",function(){return u(r),f(t.fileManagerOpenForm=!0)}),s(),a(41,"cms-file-manager",24),I("itemSelected",function(c){return u(r),f(t.onActionFileSelected(c))}),w("openFormChange",function(c){return u(r),y(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),s()(),b(42,Tc,9,7,"div",25),s()()()}if(i&2){let r=P(26);o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),E(h(7,35,"TITLE.SERVICE_PROVIDER_COMPANIES")),o(3),M(" ",h(10,37,"TITLE.SERVICE_PROVIDER_COMPANIES_DESCRIPTION")," "),o(2),C("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(),v(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?15:-1),o(),v(t.fieldsInfo.checkCredit!=null&&t.fieldsInfo.checkCredit.accessWatchField?16:-1),o(),v(t.fieldsInfo.calculateCredit!=null&&t.fieldsInfo.calculateCredit.accessWatchField?17:-1),o(),v(t.fieldsInfo.serviceAvailableCredit!=null&&t.fieldsInfo.serviceAvailableCredit.accessWatchField?18:-1),o(),v(t.fieldsInfo.serviceSumCredit!=null&&t.fieldsInfo.serviceSumCredit.accessWatchField?19:-1),o(),v(t.fieldsInfo.userAvailableCredit!=null&&t.fieldsInfo.userAvailableCredit.accessWatchField?20:-1),o(),v(t.fieldsInfo.userSumCredit!=null&&t.fieldsInfo.userSumCredit.accessWatchField?21:-1),o(3),E(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),C("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),o(3),M("",r.value.length," / 500"),o(),v(r.errors!=null&&r.errors.required?29:-1),o(2),C("href",k(h(32,39,t.dataModel.linkMainImageIdSrc)),me),o(2),v((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?33:-1),o(3),E(h(37,41,"TITLE.Icon_File")),o(2),C("placeholder",k(h(40,43,"TITLE.Original_File_ID"))),T("ngModel",t.dataModel.linkMainImageId),o(3),C("language",t.appLanguage)("isPopup",!0),T("openForm",t.fileManagerOpenForm),C("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),v(t.formInfo.submitButtonEnabled?42:-1)}},dependencies:[ve,te,di,et,ie,_e,Ie,Ue,qe,Se,be,xe,ne,De,z,Te,mi,bi,U,Je],encapsulation:2});var eo=$n;var yc=()=>[5,10,20,100],wc=(n,l)=>l.id;function Pc(n,l){if(n&1){let e=A();a(0,"div",11)(1,"app-cms-search-list",20),w("optionsChange",function(t){u(e);let r=m();return y(r.optionsSearch,t)||(r.optionsSearch=t),f(t)}),s()()}if(n&2){let e=m();o(),T("options",e.optionsSearch)}}function Rc(n,l){if(n&1){let e=A();a(0,"div",12)(1,"app-cms-statist-list",20),w("optionsChange",function(t){u(e);let r=m();return y(r.optionsStatist,t)||(r.optionsStatist=t),f(t)}),s()()}if(n&2){let e=m();o(),T("options",e.optionsStatist)}}function xc(n,l){if(n&1&&(a(0,"div",21),g(1,"i",9),a(2,"span"),d(3),S(4,"translate"),S(5,"translate"),s()()),n&2){let e=m();Ze("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),V("refreshing",e.pullToRefreshState.isRefreshing),o(),V("rotation360",e.pullToRefreshState.isRefreshing),o(2),E(e.pullToRefreshState.isRefreshing?h(4,7,"ACTION.RELOADING"):h(5,9,"ACTION.PULL_TO_REFRESH"))}}function Dc(n,l){if(n&1&&(a(0,"div",25),g(1,"img",40),S(2,"cmsthumbnail"),s()),n&2){let e=m().$implicit;o(),C("src",h(2,2,e.linkMainImageIdSrc),me)("alt",e.title)}}function kc(n,l){n&1&&(a(0,"div",26),g(1,"i",41),s())}function Lc(n,l){if(n&1&&(a(0,"div",32),g(1,"i",42),a(2,"span"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit;o(3),E(h(4,1,e.updatedDate))}}function Vc(n,l){if(n&1){let e=A();a(0,"button",43),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonEditRow(r),f(t.stopPropagation())}),g(2,"i",44),s()}n&2&&W("aria-label",h(1,1,"ACTION.EDIT"))}function Nc(n,l){if(n&1){let e=A();a(0,"button",45),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonDeleteRow(r),f(t.stopPropagation())}),g(2,"i",46),s()}n&2&&W("aria-label",h(1,1,"ACTION.DELETE"))}function Bc(n,l){if(n&1){let e=A();a(0,"button",47),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonDeleteRow(r),f(t.stopPropagation())}),g(2,"i",46),s()}n&2&&W("aria-label",h(1,1,"ACTION.DELETE"))}function Fc(n,l){if(n&1){let e=A();a(0,"div",23)(1,"div",24),I("click",function(){let t=u(e).$implicit,r=m(2);return f(r.onActionTableRowSelect(t))})("touchstart",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchStart(t,r.id))})("touchmove",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchMove(t,r.id))})("touchend",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchEnd(t,r.id))}),b(2,Dc,3,4,"div",25)(3,kc,2,0,"div",26),a(4,"div",27)(5,"div",28),d(6),s(),a(7,"div",29)(8,"div",30),g(9,"i",31),S(10,"statusIconClass"),s(),b(11,Lc,5,3,"div",32),s()(),a(12,"div",33),b(13,Vc,3,3,"button",34),b(14,Nc,3,3,"button",35),a(15,"button",36),S(16,"translate"),I("click",function(t){let r=u(e).$implicit;return m(2).onActionButtonApiList(r),f(t.stopPropagation())}),g(17,"i",37),s()()(),a(18,"div",38),b(19,Bc,3,3,"button",39),s()()}if(n&2){let e,i=l.$implicit,t=m(2);Ze("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),o(),V("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),W("aria-label",i.title),o(),v((i==null||i.linkMainImageIdSrc==null?null:i.linkMainImageIdSrc.length)>0?2:3),o(4),M(" ",i.title," "),o(3),C("ngClass",h(10,13,i.recordStatus)),o(2),v(i.updatedDate?11:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?13:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?14:-1),o(),W("aria-label",h(16,15,"ACTION.ROUTES")),o(4),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?19:-1)}}function Oc(n,l){if(n&1&&(a(0,"div",15),Z(1,Fc,20,17,"div",22,wc),s()),n&2){let e=m();o(),$(e.dataModelResult.listItems)}}function Gc(n,l){n&1&&(a(0,"div",16)(1,"div",48),g(2,"i",49),s(),a(3,"div",50),d(4),S(5,"translate"),s()()),n&2&&(o(4),M(" ",h(5,1,"MESSAGE.no_information")," "))}function Hc(n,l){if(n&1){let e=A();a(0,"button",51),S(1,"translate"),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",52),s()}n&2&&W("aria-label",h(1,1,"ACTION.ADD"))}function Wc(n,l){if(n&1){let e=A();a(0,"div",19)(1,"mat-paginator",53,0),I("page",function(t){u(e);let r=m();return f(r.onTablePageingData(t))}),s()()}if(n&2){let e=m();o(),C("length",(e.dataModelResult==null?null:e.dataModelResult.totalRowCount)||0)("pageIndex",((e.dataModelResult==null?null:e.dataModelResult.currentPageNumber)||1)-1)("pageSize",(e.dataModelResult==null?null:e.dataModelResult.rowPerPage)||10)("pageSizeOptions",we(4,yc))}}var to=class to extends Oe{constructor(e,i,t,r,p,c,D,H,Ke,nt,Qe){super(e,new _t,nt,p,D);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.router=r;this.tokenHelper=p;this.cdr=c;this.translate=D;this.cmsStoreService=H;this.pageInfo=Ke;this.publicHelper=nt;this.dialog=Qe;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","title"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","title"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Mt=>this.onSubmitOptionsSearch(Mt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=q.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new _t);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Zn,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(eo,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],t=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(r=>{if(r){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let r=JSON.parse(JSON.stringify(this.filteModelContent)),p=new Q;p.propertyName="recordStatus",p.value=Pe.Available,r.filters.push(p),this.contentService.ServiceGetCount(r).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonApiList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-path/list/LinkCompanyId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-path/list/LinkCompanyId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let r=e.touches[0];t.currentX=r.clientX;let p=t.currentX-t.startX,c=document.documentElement.dir==="rtl",D=c?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,H=c?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(H,Math.min(D,p))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let r=document.documentElement.dir==="rtl",p=r?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;r&&t.offset>p||!r&&t.offset<p||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionTableRowSelect(e){this.tableRowSelected=e}};to.\u0275fac=function(i){return new(i||to)(_(At),_(O),_(Ve),_(Le),_(Ce),_(F),_(B),_(ge),_(Fe),_(G),_(he))},to.\u0275cmp=N({type:to,selectors:[["app-sms-apipathcompany-list-mobile"]],standalone:!1,features:[K],decls:26,vars:25,consts:[["paginator",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["aria-hidden","true",1,"fa-solid","fa-chart-bar"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-statist-area","safe-area-content"],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content","safe-area-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],[1,"cms-m-footer","safe-area-bottom"],[1,"cms-m-fab"],[1,"cms-m-pagination-wrapper"],[3,"optionsChange","options"],[1,"cms-m-pull-refresh-indicator"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image"],[1,"cms-m-list-item-image-placeholder"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-footer"],[1,"cms-m-list-item-status"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-date"],[1,"cms-m-list-item-actions"],[1,"cms-m-action-btn","edit"],[1,"cms-m-action-btn","delete"],[1,"cms-m-action-btn","route",3,"click"],["aria-hidden","true",1,"fa-solid","fa-route"],[1,"cms-m-list-item-swipe-actions"],[1,"cms-m-swipe-action-btn","delete"],["loading","lazy",3,"src","alt"],["aria-hidden","true",1,"fa-solid","fa-building"],["aria-hidden","true",1,"fa-solid","fa-clock"],[1,"cms-m-action-btn","edit",3,"click"],["aria-hidden","true",1,"fa-solid","fa-pen"],[1,"cms-m-action-btn","delete",3,"click"],["aria-hidden","true",1,"fa-solid","fa-trash"],[1,"cms-m-swipe-action-btn","delete",3,"click"],[1,"cms-m-empty-state-icon"],["aria-hidden","true",1,"fa-solid","fa-inbox"],[1,"cms-m-empty-state-text"],[1,"cms-m-fab",3,"click"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"]],template:function(i,t){i&1&&(a(0,"div",1),g(1,"app-progress-spinner",2),a(2,"div",3)(3,"div",4)(4,"h1",5),d(5),S(6,"translate"),s(),a(7,"div",6)(8,"button",7),S(9,"translate"),I("click",function(){return t.optionsSearch.data.show=!t.optionsSearch.data.show}),g(10,"i",8),s(),a(11,"button",7),S(12,"translate"),I("click",function(){return t.onActionButtonReload()}),g(13,"i",9),s(),a(14,"button",7),S(15,"translate"),I("click",function(){return t.onActionButtonStatist()}),g(16,"i",10),s()()()(),b(17,Pc,2,1,"div",11),b(18,Rc,2,1,"div",12),b(19,xc,6,11,"div",13),a(20,"div",14),I("touchstart",function(p){return t.onTouchStart(p)})("touchmove",function(p){return t.onTouchMove(p)})("touchend",function(p){return t.onTouchEnd(p)}),b(21,Oc,3,0,"div",15)(22,Gc,6,3,"div",16),s(),a(23,"div",17),b(24,Hc,3,3,"button",18),b(25,Wc,3,5,"div",19),s()()),i&2&&(o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(4),M(" ",h(6,17,"ROUTE.SMS.MAIN")," "),o(3),V("active",t.optionsSearch.data.show),W("aria-label",h(9,19,"ACTION.SEARCH")),o(3),W("aria-label",h(12,21,"ACTION.RELOAD")),o(2),V("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(),V("active",t.optionsStatist==null||t.optionsStatist.data==null?null:t.optionsStatist.data.show),W("aria-label",h(15,23,"ACTION.STATIST")),o(3),v(t.optionsSearch.data.show?17:-1),o(),v(!(t.optionsStatist==null||t.optionsStatist.data==null)&&t.optionsStatist.data.show?18:-1),o(),v(t.pullToRefreshState.pullDistance>0?19:-1),o(2),v(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?21:22),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?24:-1),o(),v((t.dataModelResult==null?null:t.dataModelResult.totalRowCount)>0?25:-1))},dependencies:[Ne,Be,Ge,He,z,U,Je,Ye,We],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var Fa=to;var Uc=["*"];function qc(n,l){if(n&1&&(a(0,"label",3),d(1),s()),n&2){let e=m();C("for",Wt("app-cms-site-selector-",e.id)),o(),E(e.optionLabel)}}function jc(n,l){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=m();C("src",k(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),me)}}function Qc(n,l){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=m().$implicit;C("src",k(h(1,2,e.linkMainImageIdSrc)),me)}}function Xc(n,l){if(n&1&&(a(0,"mat-option",8),b(1,Qc,2,4,"img",5),a(2,"span"),d(3),s()()),n&2){let e=l.$implicit,i=m();C("value",e)("disabled",i.optionDisabled),o(),v(e.linkMainImageIdSrc?1:-1),o(2),E(i.displayOption(e))}}function zc(n,l){n&1&&g(0,"i",9)}function Yc(n,l){n&1&&g(0,"i",10)}function Kc(n,l){if(n&1){let e=A();a(0,"i",13),I("click",function(){u(e);let t=m();return f(t.onActionSelectClear())}),s()}}function Jc(n,l){n&1&&(a(0,"em"),d(1),S(2,"translate"),s()),n&2&&(o(),M("(",h(2,1,"TITLE.Necessary"),")"))}var dn=class dn{constructor(l,e,i,t,r,p){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=r;this.categoryService=p;this.id=++dn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new X;this.dataModelSelect=new bt;this.formControl=new ci;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionSelectForSendMessage=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new st;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(xi(""),Pi(1500),Ri(),Di(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return ee(this,null,function*(){let e=new J;e.rowPerPage=20,e.accessLoad=!0;let i=new Q;i.propertyName="title",i.value=l,i.searchType=Ut.Contains,i.clauseType=si.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new Q,i.propertyName="id",i.value=l,i.searchType=Ut.Equal,i.clauseType=si.Or,e.filters.push(i)),this.optionSelectForSendMessage&&(i=new Q,i.propertyName="recordStatus",i.value=Pe.Available,i.searchType=Ut.Equal,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.get_information_list").subscribe(r=>{this.publicHelper.processService.processStart(t,r,this.constructorInfoAreaId)}),e.sortColumn="priority",e.sortType=q.Ascending,this.optionAccessDataType&&this.categoryService.setAccessDataType(this.optionAccessDataType),yield yi(this.categoryService.ServiceGetAll(e)).then(r=>(this.dataModelResult=r,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,this.formControl.setValue(this.dataModelResult.listItems[0]),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),r.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(wi(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof bt){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new bt,this.onActionSelectClear(),this.loadOptions()}};dn.nextId=0,dn.\u0275fac=function(e){return new(e||dn)(_(Re),_(O),_(F),_(G),_(B),_(ft))},dn.\u0275cmp=N({type:dn,selectors:[["app-sms-apipath-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionSelectForSendMessage:"optionSelectForSendMessage",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionAccessDataType:"optionAccessDataType",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Uc,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=A();Li(),a(0,"div",1),g(1,"app-progress-spinner",2),b(2,qc,2,3,"label",3),a(3,"span",4),b(4,jc,2,4,"img",5),s(),g(5,"input",6),a(6,"mat-autocomplete",7,0),I("optionSelected",function(p){return u(t),f(i.onActionSelect(p.option.value))}),Z(8,Xc,4,4,"mat-option",8,de),S(10,"async"),s(),b(11,zc,1,0,"i",9),b(12,Yc,1,0,"i",10),b(13,Kc,1,0,"i",11),a(14,"i",12),S(15,"translate"),I("click",function(){return u(t),f(i.onActionButtonReload())}),s(),b(16,Jc,3,3,"em"),Vi(17),s()}if(e&2){let t=P(7);o(),C("optionsInfoAreaId",i.constructorInfoAreaId),o(),v((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),v(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),C("placeholder",k(i.optionPlaceholder))("id",Wt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),W("disabled",i.optionDisabled?!0:null),o(),C("displayWith",i.displayFn),o(2),$(h(10,20,i.filteredOptions)),o(3),v(i.formControl.valid?-1:11),o(),v(i.optionRequired&&i.formControl.valid?12:-1),o(),v((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),V("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),C("title",k(h(15,22,"ACTION.RELOAD"))),o(2),v(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0)?16:-1)}},dependencies:[te,ie,Ie,Gi,Wi,Hi,Ui,en,ne,z,ot,U,Je],encapsulation:2});var Ti=dn;var Zc=["vform"];function $c(n,l){if(n&1){let e=A();a(0,"app-cms-enum-record-status-selector",25),w("modelChange",function(t){u(e);let r=m();return y(r.dataModel.recordStatus,t)||(r.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();T("model",e.dataModel.recordStatus),C("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ed(n,l){if(n&1){let e=A();a(0,"div",14)(1,"div",26)(2,"h5",27),d(3),s()(),a(4,"div",28)(5,"div",29)(6,"input",30),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.hasInherits,t)||(r.dataModel.hasInherits=t),f(t)}),s(),g(7,"label",31),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle," "),o(3),T("ngModel",e.dataModel.hasInherits)}}function td(n,l){if(n&1&&(a(0,"option",17),d(1),s()),n&2){let e=l.$implicit;C("ngValue",e.value),o(),M(" ",e.description," ")}}function id(n,l){n&1&&(a(0,"mat-error"),d(1," AccessStatus is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function nd(n,l){if(n&1&&(a(0,"option",17),d(1),s()),n&2){let e=l.$implicit;C("ngValue",e.value),o(),M(" ",e.description," ")}}function od(n,l){n&1&&(a(0,"mat-error"),d(1," Action is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function ad(n,l){if(n&1){let e=A();a(0,"div",19)(1,"label",32),d(2),S(3,"translate"),s(),a(4,"input",33),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.expireDate,t)||(r.dataModel.expireDate=t),f(t)}),s(),g(5,"mat-datepicker-toggle",22)(6,"mat-datepicker",23,4),s()}if(n&2){let e=P(7),i=m();o(2),E(h(3,4,"TITLE.Expire_Date")),o(2),T("ngModel",i.dataModel.expireDate),C("matDatepicker",e),o(),C("for",e)}}function rd(n,l){if(n&1){let e=A();a(0,"div",24)(1,"button",34),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",35),d(3),S(4,"translate"),s(),a(5,"button",36),g(6,"i",37),d(7),S(8,"translate"),s()()}if(n&2){m();let e=P(10);o(3),M(" ",h(4,3,"ACTION.CANCEL")," "),o(2),C("disabled",!e.form.valid),o(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var io=class io extends St{constructor(e,i,t,r,p,c,D,H){super(r,new hi,c,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiPathPermissionService=r;this.cmsToastrService=p;this.publicHelper=c;this.cdr=D;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new X;this.dataModel=new hi;this.formInfo=new Me;this.dataModelEnumApiPathPermissionAccessStatusResult=new X;this.dataModelEnumApiPathPermissionActionResult=new X;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.getEnumApiPathPermissionAccessStatus(),this.getEnumApiPathPermissionAction(),this.DataGetAccess()}getEnumApiPathPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiPathPermissionAccessStatusEnum().subscribe(e=>{this.dataModelEnumApiPathPermissionAccessStatusResult=e})}getEnumApiPathPermissionAction(){this.smsEnumService.ServiceSmsApiPathPermissionActionEnum().subscribe(e=>{this.dataModelEnumApiPathPermissionActionResult=e})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPermissionService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiPathId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiPathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};io.\u0275fac=function(i){return new(i||io)(_(Ee),_(Ae),_($e),_(Bi),_(O),_(G),_(F),_(B))},io.\u0275cmp=N({type:io,selectors:[["app-sms-apipathpermission-add"]],viewQuery:function(i,t){if(i&1&&pe(Zc,5),i&2){let r;ue(r=fe())&&(t.formGroup=r.first)}},standalone:!1,features:[K],decls:50,vars:48,consts:[["vform","ngForm"],["AccessStatus","ngModel"],["Action","ngModel"],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accessStatus","name","dataModel.accessStatus","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue"],["id","dataModel.action","name","dataModel.action","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"pt-1"],["data-trigger-switch","dataModel.hasInherits",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.hasInherits","name","dataModel.hasInherits",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasInherits",1,"custom-control-label"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let r=A();a(0,"div",5),g(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),d(4),s(),a(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",9),a(9,"form",10,0),I("ngSubmit",function(){return u(r),f(t.onFormSubmit())}),b(11,$c,1,5,"app-cms-enum-record-status-selector",11),a(12,"app-cms-user-selector",12),S(13,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCmsUser(c))}),s(),a(14,"app-cms-site-selector",12),S(15,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCmsSite(c))}),s(),a(16,"app-cms-usergroup-selector",12),S(17,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCoreUserGroup(c))}),s(),a(18,"app-cms-sitecategory-selector",12),S(19,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCoreSiteCategory(c))}),s(),a(20,"app-sms-apipath-selector",13),S(21,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorSelectLinkApiPathId(c))}),s(),b(22,ed,8,2,"div",14),a(23,"div",15)(24,"select",16,1),w("ngModelChange",function(c){return u(r),y(t.dataModel.accessStatus,c)||(t.dataModel.accessStatus=c),f(c)}),Z(26,td,2,2,"option",17,de),s(),a(28,"em"),d(29),S(30,"translate"),s(),b(31,id,5,3,"mat-error"),s(),a(32,"div",15)(33,"select",18,2),w("ngModelChange",function(c){return u(r),y(t.dataModel.action,c)||(t.dataModel.action=c),f(c)}),Z(35,nd,2,2,"option",17,de),s(),a(37,"em"),d(38),S(39,"translate"),s(),b(40,od,5,3,"mat-error"),s(),a(41,"div",19)(42,"label",20),d(43),s(),a(44,"input",21),w("ngModelChange",function(c){return u(r),y(t.dataModel.fromDate,c)||(t.dataModel.fromDate=c),f(c)}),s(),g(45,"mat-datepicker-toggle",22)(46,"mat-datepicker",23,3),s(),b(48,ad,8,6,"div",19),b(49,rd,9,7,"div",24),s()()()}if(i&2){let r=P(25),p=P(34),c=P(47);o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",h(7,32,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),C("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),C("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",h(13,34,"TITLE.USER")),o(2),C("optionDisabled",!(t.fieldsInfo.linkCoreSiteId!=null&&t.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",h(15,36,"TITLE.SITE")),o(2),C("optionDisabled",!(t.fieldsInfo.linkCoreUserGroupId!=null&&t.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",h(17,38,"TITLE.Type_Usage")),o(2),C("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",h(19,40,"TITLE.Site_Type")),o(2),C("optionSelectForce",t.dataModel.linkApiPathId)("optionPlaceholder",h(21,42,"TITLE.Direction")),o(2),v(t.fieldsInfo.hasInherits!=null&&t.fieldsInfo.hasInherits.accessWatchField?22:-1),o(2),T("ngModel",t.dataModel.accessStatus),o(2),$(t.dataModelEnumApiPathPermissionAccessStatusResult.listItems),o(3),M("",h(30,44,"TITLE.Select_type_of_content")," "),o(2),v(r.errors!=null&&r.errors.required?31:-1),o(2),T("ngModel",t.dataModel.action),o(2),$(t.dataModelEnumApiPathPermissionActionResult.listItems),o(3),M("",h(39,46,"TITLE.Select_type_of_content")," "),o(2),v(p.errors!=null&&p.errors.required?40:-1),o(3),E(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),T("ngModel",t.dataModel.fromDate),C("matDatepicker",c),o(),C("for",c),o(3),v(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?48:-1),o(),v(t.formInfo.submitButtonEnabled?49:-1)}},dependencies:[ve,Ji,Zi,te,et,Ki,ie,_e,Ie,Se,be,ei,ti,ii,xe,$t,ne,vi,De,Ai,ni,Ei,z,Te,Ti,U],encapsulation:2});var no=io;var sd=["vform"];function ld(n,l){if(n&1){let e=A();a(0,"app-cms-enum-record-status-selector",25),w("modelChange",function(t){u(e);let r=m();return y(r.dataModel.recordStatus,t)||(r.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();T("model",e.dataModel.recordStatus),C("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function cd(n,l){if(n&1){let e=A();a(0,"div",14)(1,"div",26)(2,"h5",27),d(3),s()(),a(4,"div",28)(5,"div",29)(6,"input",30),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.hasInherits,t)||(r.dataModel.hasInherits=t),f(t)}),s(),g(7,"label",31),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle," "),o(3),T("ngModel",e.dataModel.hasInherits)}}function dd(n,l){if(n&1&&(a(0,"option",17),d(1),s()),n&2){let e=l.$implicit;C("ngValue",e.value),o(),M(" ",e.description," ")}}function md(n,l){n&1&&(a(0,"mat-error"),d(1," AccessStatus is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function pd(n,l){if(n&1&&(a(0,"option",17),d(1),s()),n&2){let e=l.$implicit;C("ngValue",e.value),o(),M(" ",e.description," ")}}function ud(n,l){n&1&&(a(0,"mat-error"),d(1," Action is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function fd(n,l){if(n&1){let e=A();a(0,"div",19)(1,"label",32),d(2),S(3,"translate"),s(),a(4,"input",33),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.expireDate,t)||(r.dataModel.expireDate=t),f(t)}),s(),g(5,"mat-datepicker-toggle",22)(6,"mat-datepicker",23,4),s()}if(n&2){let e=P(7),i=m();o(2),E(h(3,4,"TITLE.Expire_Date")),o(2),T("ngModel",i.dataModel.expireDate),C("matDatepicker",e),o(),C("for",e)}}function Sd(n,l){if(n&1){let e=A();a(0,"div",24)(1,"button",34),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",35),d(3),S(4,"translate"),s(),a(5,"button",36),g(6,"i",37),d(7),S(8,"translate"),s()()}if(n&2){m();let e=P(10);o(3),M(" ",h(4,3,"ACTION.CANCEL")," "),o(2),C("disabled",!e.form.valid),o(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var oo=class oo extends ht{constructor(e,i,t,r,p,c,D,H){super(r,new hi,c,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiPathPermissionService=r;this.cmsToastrService=p;this.publicHelper=c;this.cdr=D;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ut;this.dataModel=new hi;this.formInfo=new Me;this.dataModelEnumApiPathPermissionAccessStatusResult=new X;this.dataModelEnumApiPathPermissionActionResult=new X;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getEnumApiPathPermissionAccessStatus(),this.getEnumApiPathPermissionAction()}getEnumApiPathPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiPathPermissionAccessStatusEnum().subscribe(e=>{this.dataModelEnumApiPathPermissionAccessStatusResult=e})}getEnumApiPathPermissionAction(){this.smsEnumService.ServiceSmsApiPathPermissionActionEnum().subscribe(e=>{this.dataModelEnumApiPathPermissionActionResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPermissionService.setAccessLoad(),this.smsMainApiPathPermissionService.setAccessDataType(at.Editor),this.smsMainApiPathPermissionService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPermissionService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiPathId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiPathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};oo.\u0275fac=function(i){return new(i||oo)(_(Ee),_(Ae),_($e),_(Bi),_(O),_(G),_(F),_(B))},oo.\u0275cmp=N({type:oo,selectors:[["app-sms-apipathpermission-edit"]],viewQuery:function(i,t){if(i&1&&pe(sd,5),i&2){let r;ue(r=fe())&&(t.formGroup=r.first)}},standalone:!1,features:[K],decls:50,vars:48,consts:[["vform","ngForm"],["AccessStatus","ngModel"],["Action","ngModel"],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accessStatus","name","dataModel.accessStatus","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue"],["id","dataModel.action","name","dataModel.action","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"pt-1"],["data-trigger-switch","dataModel.hasInherits",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.hasInherits","name","dataModel.hasInherits",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasInherits",1,"custom-control-label"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let r=A();a(0,"div",5),g(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),d(4),s(),a(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",9),a(9,"form",10,0),I("ngSubmit",function(){return u(r),f(t.onFormSubmit())}),b(11,ld,1,5,"app-cms-enum-record-status-selector",11),a(12,"app-cms-user-selector",12),S(13,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCmsUser(c))}),s(),a(14,"app-cms-site-selector",12),S(15,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCmsSite(c))}),s(),a(16,"app-cms-usergroup-selector",12),S(17,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCoreUserGroup(c))}),s(),a(18,"app-cms-sitecategory-selector",12),S(19,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCoreSiteCategory(c))}),s(),a(20,"app-sms-apipath-selector",13),S(21,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorSelectLinkApiPathId(c))}),s(),b(22,cd,8,2,"div",14),a(23,"div",15)(24,"select",16,1),w("ngModelChange",function(c){return u(r),y(t.dataModel.accessStatus,c)||(t.dataModel.accessStatus=c),f(c)}),Z(26,dd,2,2,"option",17,de),s(),a(28,"em"),d(29),S(30,"translate"),s(),b(31,md,5,3,"mat-error"),s(),a(32,"div",15)(33,"select",18,2),w("ngModelChange",function(c){return u(r),y(t.dataModel.action,c)||(t.dataModel.action=c),f(c)}),Z(35,pd,2,2,"option",17,de),s(),a(37,"em"),d(38),S(39,"translate"),s(),b(40,ud,5,3,"mat-error"),s(),a(41,"div",19)(42,"label",20),d(43),s(),a(44,"input",21),w("ngModelChange",function(c){return u(r),y(t.dataModel.fromDate,c)||(t.dataModel.fromDate=c),f(c)}),s(),g(45,"mat-datepicker-toggle",22)(46,"mat-datepicker",23,3),s(),b(48,fd,8,6,"div",19),b(49,Sd,9,7,"div",24),s()()()}if(i&2){let r=P(25),p=P(34),c=P(47);o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",h(7,32,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),C("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),C("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",h(13,34,"TITLE.USER")),o(2),C("optionDisabled",!(t.fieldsInfo.linkCoreSiteId!=null&&t.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",h(15,36,"TITLE.SITE")),o(2),C("optionDisabled",!(t.fieldsInfo.linkCoreUserGroupId!=null&&t.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",h(17,38,"TITLE.Type_Usage")),o(2),C("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",h(19,40,"TITLE.Site_Type")),o(2),C("optionSelectForce",t.dataModel.linkApiPathId)("optionPlaceholder",h(21,42,"TITLE.Direction")),o(2),v(t.fieldsInfo.hasInherits!=null&&t.fieldsInfo.hasInherits.accessWatchField?22:-1),o(2),T("ngModel",t.dataModel.accessStatus),o(2),$(t.dataModelEnumApiPathPermissionAccessStatusResult.listItems),o(3),M("",h(30,44,"TITLE.Select_type_of_content")," "),o(2),v(r.errors!=null&&r.errors.required?31:-1),o(2),T("ngModel",t.dataModel.action),o(2),$(t.dataModelEnumApiPathPermissionActionResult.listItems),o(3),M("",h(39,46,"TITLE.Select_type_of_content")," "),o(2),v(p.errors!=null&&p.errors.required?40:-1),o(3),E(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),T("ngModel",t.dataModel.fromDate),C("matDatepicker",c),o(),C("for",c),o(3),v(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?48:-1),o(),v(t.formInfo.submitButtonEnabled?49:-1)}},dependencies:[ve,Ji,Zi,te,et,Ki,ie,_e,Ie,Se,be,ei,ti,ii,xe,$t,ne,vi,De,Ai,ni,Ei,z,Te,Ti,U],encapsulation:2});var ao=oo;var hd=()=>[5,10,20,100],gd=(n,l)=>l.id;function Cd(n,l){if(n&1){let e=A();a(0,"button",21),S(1,"translate"),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),g(2,"i",22),s()}n&2&&ki("aria-label",k(h(1,2,"ACTION.BACK")))}function Md(n,l){if(n&1){let e=A();a(0,"div",12)(1,"app-cms-search-list",23),w("optionsChange",function(t){u(e);let r=m();return y(r.optionsSearch,t)||(r.optionsSearch=t),f(t)}),s()()}if(n&2){let e=m();o(),T("options",e.optionsSearch)}}function _d(n,l){if(n&1){let e=A();a(0,"div",13)(1,"app-cms-statist-list",23),w("optionsChange",function(t){u(e);let r=m();return y(r.optionsStatist,t)||(r.optionsStatist=t),f(t)}),s()()}if(n&2){let e=m();o(),T("options",e.optionsStatist)}}function bd(n,l){if(n&1&&(a(0,"div",24),g(1,"i",10),a(2,"span"),d(3),S(4,"translate"),S(5,"translate"),s()()),n&2){let e=m();Ze("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),V("refreshing",e.pullToRefreshState.isRefreshing),o(),V("rotation360",e.pullToRefreshState.isRefreshing),o(2),E(e.pullToRefreshState.isRefreshing?h(4,7,"ACTION.RELOADING"):h(5,9,"ACTION.PULL_TO_REFRESH"))}}function vd(n,l){if(n&1&&(a(0,"div",32),g(1,"i",43),a(2,"span"),d(3),S(4,"cmsuserinfo"),S(5,"async"),s()()),n&2){let e=m().$implicit;o(3),E(h(5,3,h(4,1,e.linkCoreUserId)))}}function Id(n,l){if(n&1&&(a(0,"div",32),g(1,"i",44),a(2,"span"),d(3),s()()),n&2){let e=m().$implicit;o(3),E(e.linkApiPathId)}}function Ad(n,l){n&1&&(a(0,"span",36),g(1,"i",45),d(2),S(3,"translate"),s()),n&2&&(o(2),M(" ",h(3,1,"MESSAGE.Access")," "))}function Ed(n,l){if(n&1&&(a(0,"div",37),g(1,"i",46),a(2,"span"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit;o(3),E(h(4,1,e.expireDate))}}function Td(n,l){if(n&1){let e=A();a(0,"button",47),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonEditRow(r),f(t.stopPropagation())}),g(2,"i",48),s()}n&2&&W("aria-label",h(1,1,"ACTION.EDIT"))}function yd(n,l){if(n&1){let e=A();a(0,"button",49),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonDeleteRow(r),f(t.stopPropagation())}),g(2,"i",50),s()}n&2&&W("aria-label",h(1,1,"ACTION.DELETE"))}function wd(n,l){if(n&1){let e=A();a(0,"button",51),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonDeleteRow(r),f(t.stopPropagation())}),g(2,"i",50),s()}n&2&&W("aria-label",h(1,1,"ACTION.DELETE"))}function Pd(n,l){if(n&1){let e=A();a(0,"div",26)(1,"div",27),I("click",function(){let t=u(e).$implicit,r=m(2);return f(r.onActionTableRowSelect(t))})("touchstart",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchStart(t,r.id))})("touchmove",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchMove(t,r.id))})("touchend",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchEnd(t,r.id))}),a(2,"div",28),g(3,"i",29),s(),a(4,"div",30)(5,"div",31),d(6),s(),b(7,vd,6,5,"div",32),b(8,Id,4,1,"div",32),a(9,"div",33)(10,"div",34),g(11,"i",35),S(12,"statusIconClass"),b(13,Ad,4,3,"span",36),s(),b(14,Ed,5,3,"div",37),s()(),a(15,"div",38),b(16,Td,3,3,"button",39),b(17,yd,3,3,"button",40),s()(),a(18,"div",41),b(19,wd,3,3,"button",42),s()()}if(n&2){let e,i=l.$implicit,t=m(2);Ze("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),o(),V("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),W("aria-label",i.id),o(5),M(" ",i.id," "),o(),v(i.linkCoreUserId?7:-1),o(),v(i.linkApiPathId?8:-1),o(3),C("ngClass",h(12,14,i.recordStatus)),o(2),v(i.hasAccess?13:-1),o(),v(i.expireDate?14:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?16:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?17:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?19:-1)}}function Rd(n,l){if(n&1&&(a(0,"div",16),Z(1,Pd,20,16,"div",25,gd),s()),n&2){let e=m();o(),$(e.dataModelResult.listItems)}}function xd(n,l){n&1&&(a(0,"div",17)(1,"div",52),g(2,"i",53),s(),a(3,"div",54),d(4),S(5,"translate"),s()()),n&2&&(o(4),M(" ",h(5,1,"MESSAGE.no_information")," "))}function Dd(n,l){if(n&1){let e=A();a(0,"button",55),S(1,"translate"),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",56),s()}n&2&&W("aria-label",h(1,1,"ACTION.ADD"))}function kd(n,l){if(n&1){let e=A();a(0,"div",20)(1,"mat-paginator",57,0),I("page",function(t){u(e);let r=m();return f(r.onTablePageingData(t))}),s()()}if(n&2){let e=m();o(),C("length",(e.dataModelResult==null?null:e.dataModelResult.totalRowCount)||0)("pageIndex",((e.dataModelResult==null?null:e.dataModelResult.currentPageNumber)||1)-1)("pageSize",(e.dataModelResult==null?null:e.dataModelResult.rowPerPage)||10)("pageSizeOptions",we(4,hd))}}var ro=class ro extends Oe{constructor(e,i,t,r,p,c,D,H,Ke,nt,Qe,Mt){super(e,new hi,Qe,c,H);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=r;this.router=p;this.tokenHelper=c;this.cdr=D;this.translate=H;this.cmsStoreService=Ke;this.pageInfo=nt;this.publicHelper=Qe;this.dialog=Mt;this.requestLinkApiPathId="";this.requestLinkCoreUserId=0;this.requestLinkCoreSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","linkApiPathId","linkCoreUserId","linkCoreUserGroupId","hasAccess","hasInherits","fromDate","expireDate"];this.tabledisplayedColumnsMobileSource=["recordStatus","linkApiPathId","linkCoreUserId","linkCoreUserGroupId","hasAccess","hasInherits","fromDate","expireDate"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Y=>this.onSubmitOptionsSearch(Y)},this.requestLinkCoreUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkCoreSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId"),this.requestLinkCoreUserId>0){let Y=new Q;Y.propertyName="LinkCoreUserId",Y.value=this.requestLinkCoreUserId,this.filteModelContent.filters.push(Y)}if(this.requestLinkApiPathId?.length>0){let Y=new Q;Y.propertyName="LinkApiPathId",Y.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(Y)}this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=q.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new hi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new Q;t.propertyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(no,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ao,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],t=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(r=>{if(r){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let r=JSON.parse(JSON.stringify(this.filteModelContent)),p=new Q;p.propertyName="recordStatus",p.value=Pe.Available,r.filters.push(p),this.contentService.ServiceGetCount(r).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let r=e.touches[0];t.currentX=r.clientX;let p=t.currentX-t.startX,c=document.documentElement.dir==="rtl",D=c?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,H=c?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(H,Math.min(D,p))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let r=document.documentElement.dir==="rtl",p=r?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;r&&t.offset>p||!r&&t.offset<p||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}onActionTableRowSelect(e){this.tableRowSelected=e}};ro.\u0275fac=function(i){return new(i||ro)(_(Bi),_(O),_(ze),_(Ve),_(Le),_(Ce),_(F),_(B),_(ge),_(Fe),_(G),_(he))},ro.\u0275cmp=N({type:ro,selectors:[["app-sms-apipathpermission-list-mobile"]],standalone:!1,features:[K],decls:27,vars:26,consts:[["paginator",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"aria-label"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["aria-hidden","true",1,"fa-solid","fa-chart-bar"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-statist-area","safe-area-content"],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content","safe-area-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],[1,"cms-m-footer","safe-area-bottom"],[1,"cms-m-fab"],[1,"cms-m-pagination-wrapper"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[3,"optionsChange","options"],[1,"cms-m-pull-refresh-indicator"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-shield-halved"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-footer"],[1,"cms-m-list-item-status"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-badge","public"],[1,"cms-m-list-item-date"],[1,"cms-m-list-item-actions"],[1,"cms-m-action-btn","edit"],[1,"cms-m-action-btn","delete"],[1,"cms-m-list-item-swipe-actions"],[1,"cms-m-swipe-action-btn","delete"],["aria-hidden","true",1,"fa-solid","fa-user"],["aria-hidden","true",1,"fa-solid","fa-link"],["aria-hidden","true",1,"fa-solid","fa-check"],["aria-hidden","true",1,"fa-solid","fa-clock"],[1,"cms-m-action-btn","edit",3,"click"],["aria-hidden","true",1,"fa-solid","fa-pen"],[1,"cms-m-action-btn","delete",3,"click"],["aria-hidden","true",1,"fa-solid","fa-trash"],[1,"cms-m-swipe-action-btn","delete",3,"click"],[1,"cms-m-empty-state-icon"],["aria-hidden","true",1,"fa-solid","fa-inbox"],[1,"cms-m-empty-state-text"],[1,"cms-m-fab",3,"click"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"]],template:function(i,t){i&1&&(a(0,"div",1),g(1,"app-progress-spinner",2),a(2,"div",3)(3,"div",4),b(4,Cd,3,4,"button",5),a(5,"h1",6),d(6),S(7,"translate"),s(),a(8,"div",7)(9,"button",8),S(10,"translate"),I("click",function(){return t.optionsSearch.data.show=!t.optionsSearch.data.show}),g(11,"i",9),s(),a(12,"button",8),S(13,"translate"),I("click",function(){return t.onActionButtonReload()}),g(14,"i",10),s(),a(15,"button",8),S(16,"translate"),I("click",function(){return t.onActionButtonStatist()}),g(17,"i",11),s()()()(),b(18,Md,2,1,"div",12),b(19,_d,2,1,"div",13),b(20,bd,6,11,"div",14),a(21,"div",15),I("touchstart",function(p){return t.onTouchStart(p)})("touchmove",function(p){return t.onTouchMove(p)})("touchend",function(p){return t.onTouchEnd(p)}),b(22,Rd,3,0,"div",16)(23,xd,6,3,"div",17),s(),a(24,"div",18),b(25,Dd,3,3,"button",19),b(26,kd,3,5,"div",20),s()()),i&2&&(o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v((t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0?4:-1),o(2),M(" ",h(7,18,"ROUTE.SMS.MAIN")," "),o(3),V("active",t.optionsSearch.data.show),W("aria-label",h(10,20,"ACTION.SEARCH")),o(3),W("aria-label",h(13,22,"ACTION.RELOAD")),o(2),V("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(),V("active",t.optionsStatist==null||t.optionsStatist.data==null?null:t.optionsStatist.data.show),W("aria-label",h(16,24,"ACTION.STATIST")),o(3),v(t.optionsSearch.data.show?18:-1),o(),v(!(t.optionsStatist==null||t.optionsStatist.data==null)&&t.optionsStatist.data.show?19:-1),o(),v(t.pullToRefreshState.pullDistance>0?20:-1),o(2),v(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?22:23),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?25:-1),o(),v((t.dataModelResult==null?null:t.dataModelResult.totalRowCount)>0?26:-1))},dependencies:[Ne,Be,Ge,He,z,ot,U,Ii,Ye,We],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var wn=ro;function Ld(n,l){if(n&1){let e=A();a(0,"li")(1,"mat-checkbox",0),I("change",function(){let t=u(e).$implicit,r=m();return f(r.onActionSelect(t))}),d(2),s()()}if(n&2){let e=l.$implicit,i=m();o(),C("checked",i.fieldsStatus.get(e.value))("disabled",i.optionDisabled),o(),M(" ",e.title," ")}}var mn=class mn{constructor(l){this.translate=l;this.id=++mn.nextId;this.modelChange=new st;this.dataModelResult=new X;this.optionDisabled=!1;this.optionLabel="";this.optionRequired=!1;this.dataIdsSelect=[];this.formControl=new ci;this.fieldsStatus=new Map;this.optionPlaceholder="";this.optionSelectAdded=new st;this.optionSelectRemoved=new st;this.optionReload=()=>this.onActionButtonReload()}set model(l){this.onActionSelectForce(l)}set optionDataListResult(l){this.dataModelResult=l,this.dataModelResult.listItems.forEach(e=>this.fieldsStatus.set(e.value,!1)),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0)),this.dataModelResult.listItems.forEach(e=>{this.fieldsStatus.get(e.value)&&this.dataIdsSelect.push(e.value)})}ngOnInit(){}onActionSelect(l){this.fieldsStatus.get(l.value)?(this.fieldsStatus.set(l.value,!1),this.optionSelectRemoved.emit(l),this.dataIdsSelect.splice(this.dataIdsSelect.indexOf(l.value),1)):(this.fieldsStatus.set(l.value,!0),this.optionSelectAdded.emit(l),this.dataIdsSelect.push(l.value)),this.modelChange.emit(this.dataIdsSelect)}onActionSelectForce(l){typeof l==typeof Array(Number)?l.forEach(e=>{this.dataIdsSelect.indexOf(e)<0&&this.dataIdsSelect.push(e)}):typeof l==typeof Array(dr)&&l.forEach(e=>{this.dataIdsSelect.push(e.value)}),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){}};mn.nextId=0,mn.\u0275fac=function(e){return new(e||mn)(_(B))},mn.\u0275cmp=N({type:mn,selectors:[["app-cms-enum-x-selectionlist"]],inputs:{model:"model",optionDisabled:"optionDisabled",optionLabel:"optionLabel",optionRequired:"optionRequired",optionDataListResult:"optionDataListResult",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload"},outputs:{modelChange:"modelChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:3,vars:0,consts:[[3,"change","checked","disabled"]],template:function(e,i){e&1&&(a(0,"ul"),Z(1,Ld,3,3,"li",null,de),s()),e&2&&(o(),$(i.dataModelResult.listItems))},dependencies:[Aa],encapsulation:2});var so=mn;var Nd=["vform"];function Bd(n,l){if(n&1){let e=A();a(0,"app-cms-enum-record-status-selector",31),w("modelChange",function(t){u(e);let r=m();return y(r.dataModel.recordStatus,t)||(r.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();T("model",e.dataModel.recordStatus),C("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Fd(n,l){n&1&&g(0,"i",18)}function Od(n,l){n&1&&g(0,"i",19)}function Gd(n,l){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function Hd(n,l){if(n&1){let e=A();a(0,"app-cms-enum-x-selector",32),w("modelChange",function(t){u(e);let r=m();return y(r.dataModel.messageType,t)||(r.dataModel.messageType=t),f(t)}),s()}if(n&2){let e=m();C("optionDataListResult",e.dataModelSmsMessageTypeEnumResult),T("model",e.dataModel.messageType),C("optionDisabled",!1)("optionLabel",e.fieldsInfo.messageType==null?null:e.fieldsInfo.messageType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Wd(n,l){if(n&1){let e=A();a(0,"div",24)(1,"div",33)(2,"h5",34),d(3),s()(),a(4,"div",35)(5,"div",36)(6,"input",37),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.serviceDeliveryCostBase,t)||(r.dataModel.serviceDeliveryCostBase=t),f(t)}),s(),g(7,"label",38),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.serviceDeliveryCostBase==null?null:e.fieldsInfo.serviceDeliveryCostBase.fieldTitle," "),o(3),T("ngModel",e.dataModel.serviceDeliveryCostBase)}}function Ud(n,l){if(n&1){let e=A();a(0,"div",24)(1,"div",33)(2,"h5",39),d(3),s()(),a(4,"div",35)(5,"div",36)(6,"input",40),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.endUserDeliveryCostBase,t)||(r.dataModel.endUserDeliveryCostBase=t),f(t)}),s(),g(7,"label",41),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.endUserDeliveryCostBase==null?null:e.fieldsInfo.endUserDeliveryCostBase.fieldTitle," "),o(3),T("ngModel",e.dataModel.endUserDeliveryCostBase)}}function qd(n,l){if(n&1){let e=A();a(0,"div",15)(1,"label",42),d(2),s(),a(3,"input",43,6),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.servicePricePerPage,t)||(r.dataModel.servicePricePerPage=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle),o(),T("ngModel",e.dataModel.servicePricePerPage),C("disabled",!(e.fieldsInfo.servicePricePerPage!=null&&e.fieldsInfo.servicePricePerPage.accessAddField))}}function jd(n,l){if(n&1){let e=A();a(0,"div",15)(1,"label",44),d(2),s(),a(3,"input",45,7),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.endUserPricePerPage,t)||(r.dataModel.endUserPricePerPage=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle),o(),T("ngModel",e.dataModel.endUserPricePerPage),C("disabled",!(e.fieldsInfo.endUserPricePerPage!=null&&e.fieldsInfo.endUserPricePerPage.accessAddField))}}function Qd(n,l){if(n&1){let e=A();a(0,"mat-chip",46),I("removed",function(){let t=u(e).$implicit,r=m();return f(r.removeTagRegulatorNumberList(t))}),a(1,"div",47),d(2),s(),a(3,"button",48)(4,"mat-icon"),d(5,"cancel"),s()()()}if(n&2){let e=l.$implicit;o(2),E(e)}}function Xd(n,l){if(n&1&&(a(0,"div"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e," ")}}function zd(n,l){if(n&1){let e=A();a(0,"mat-chip",46),I("removed",function(){let t=u(e).$implicit,r=m();return f(r.removeTagServicePagination(t))}),d(1),a(2,"button",48)(3,"mat-icon"),d(4,"cancel"),s()()()}if(n&2){let e=l.$implicit;o(),M(" ",e," ")}}function Yd(n,l){if(n&1&&(a(0,"div"),d(1),s()),n&2){let e=l.$implicit,i=l.$index;o(),je(" ",i+1," - ",e," ")}}function Kd(n,l){if(n&1){let e=A();a(0,"mat-chip",46),I("removed",function(){let t=u(e).$implicit,r=m();return f(r.removeTagEndUserPagination(t))}),d(1),a(2,"button",48)(3,"mat-icon"),d(4,"cancel"),s()()()}if(n&2){let e=l.$implicit;o(),M(" ",e," ")}}function Jd(n,l){if(n&1&&(a(0,"div"),d(1),s()),n&2){let e=l.$implicit,i=l.$index;o(),je(" ",i+1," - ",e," ")}}function Zd(n,l){if(n&1){let e=A();a(0,"app-cms-enum-x-selectionlist",49),w("modelChange",function(t){u(e);let r=m();return y(r.dataModel.outBoxTypeList,t)||(r.dataModel.outBoxTypeList=t),f(t)}),s()}if(n&2){let e=m();C("optionDataListResult",e.dataModelSmsOutBoxTypeEnumResult),T("model",e.dataModel.outBoxTypeList),C("optionDisabled",!1)("optionLabel",e.fieldsInfo.outBoxTypeJson==null?null:e.fieldsInfo.outBoxTypeJson.fieldTitle)("optionRequired",!0)}}function $d(n,l){if(n&1){let e=A();a(0,"div",30)(1,"button",50),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",51),d(3),S(4,"translate"),s(),a(5,"button",52),g(6,"i",53),d(7),S(8,"translate"),s()()}if(n&2){m();let e=P(10);o(3),M(" ",h(4,3,"ACTION.CANCEL")," "),o(2),C("disabled",!e.form.valid),o(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var lo=class lo extends St{constructor(e,i,t,r,p,c,D,H){super(r,new gi,c,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiPathPriceServiceService=r;this.cmsToastrService=p;this.publicHelper=c;this.cdr=D;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.requestId="";this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new X;this.dataModel=new gi;this.formInfo=new Me;this.dataModelSmsMessageTypeEnumResult=new X;this.dataModelSmsOutBoxTypeEnumResult=new X;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(e.linkApiPathId?.length>0&&(this.dataModel.linkApiPathId=e.linkApiPathId),e.id&&(this.requestId=e.id))}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.requestId?this.DataGetOneContent():this.DataGetAccess(),this.getSmsMessageTypeEnum(),this.getSmsOutBoxTypeEnum()}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPriceServiceService.setAccessLoad(),this.smsMainApiPathPriceServiceService.setAccessDataType(at.Editor),this.smsMainApiPathPriceServiceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.dataModel.title=this.dataModel.title+" (COPY)",this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPriceServiceService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiPathId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiPathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTagRegulatorNumberList(e){let i=(e.value||"").trim();this.dataModel.regulatorNumberList||(this.dataModel.regulatorNumberList=[]),i&&this.dataModel.regulatorNumberList.push(i),e.chipInput.clear()}removeTagRegulatorNumberList(e){let i=this.dataModel.regulatorNumberList.indexOf(e);i>=0&&this.dataModel.regulatorNumberList.splice(i,1)}addTagServicePagination(e){var t=+(e.value||"").trim()||-1;this.dataModel.serviceMessageLengthPaginationList||(this.dataModel.serviceMessageLengthPaginationList=[]),t>=0&&this.dataModel.serviceMessageLengthPaginationList.push(t),e.chipInput.clear()}removeTagServicePagination(e){let i=this.dataModel.serviceMessageLengthPaginationList.indexOf(e);i>=0&&this.dataModel.serviceMessageLengthPaginationList.splice(i,1)}addTagEndUserPagination(e){let i=(e.value||"").trim();this.dataModel.endUserMessageLengthPaginationList||(this.dataModel.endUserMessageLengthPaginationList=[]);var t=+i||-1;t>=0&&this.dataModel.endUserMessageLengthPaginationList.push(t),e.chipInput.clear()}removeTagEndUserPagination(e){let i=this.dataModel.endUserMessageLengthPaginationList.indexOf(e);i>=0&&this.dataModel.endUserMessageLengthPaginationList.splice(i,1)}};lo.\u0275fac=function(i){return new(i||lo)(_(Ee),_(Ae),_($e),_(Yi),_(O),_(G),_(F),_(B))},lo.\u0275cmp=N({type:lo,selectors:[["app-sms-apipathpriceservice-add"]],viewQuery:function(i,t){if(i&1&&pe(Nd,5),i&2){let r;ue(r=fe())&&(t.formGroup=r.first)}},standalone:!1,features:[K],decls:105,vars:91,consts:[["vform","ngForm"],["Title",""],["chipListRegulatorNumberList",""],["tagInput",""],["chipListServicePagination",""],["chipListEndUserPagination",""],["servicePricePerPage",""],["endUserPricePerPage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"divider","mt-3","mb-3"],[1,"d-flex","mb-3"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.Number'|translate"],[1,"input-ltr",3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"pt-1"],["data-trigger-switch","dataModel.serviceDeliveryCostBase",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.serviceDeliveryCostBase","name","dataModel.serviceDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.serviceDeliveryCostBase",1,"custom-control-label"],["data-trigger-switch","dataModel.endUserDeliveryCostBase",1,"font-600","font-14"],["type","checkbox","id","dataModel.endUserDeliveryCostBase","name","dataModel.endUserDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.endUserDeliveryCostBase",1,"custom-control-label"],["for","dataModel.servicePricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.servicePricePerPage","placeholder","0","id","dataModel.servicePricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.endUserPricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.endUserPricePerPage","placeholder","0","id","dataModel.endUserPricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[3,"removed"],[1,"input-ltr"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let r=A();a(0,"div",8),g(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),d(4),s(),a(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",12),a(9,"form",13,0),I("ngSubmit",function(){return u(r),f(t.onFormSubmit())}),b(11,Bd,1,5,"app-cms-enum-record-status-selector",14),a(12,"div",15)(13,"label",16),d(14),s(),a(15,"input",17,1),w("ngModelChange",function(c){return u(r),y(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),s(),b(17,Fd,1,0,"i",18),b(18,Od,1,0,"i",19),a(19,"em"),d(20),s(),b(21,Gd,5,3,"mat-error"),s(),a(22,"app-sms-apipath-selector",20),S(23,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorSelectLinkApiPathId(c))}),b(24,Hd,1,6,"app-cms-enum-x-selector",21),s(),a(25,"app-cms-user-selector",22),S(26,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCmsUser(c))}),s(),a(27,"app-cms-site-selector",22),S(28,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCmsSite(c))}),s(),a(29,"app-cms-usergroup-selector",22),S(30,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCoreUserGroup(c))}),s(),a(31,"app-cms-sitecategory-selector",22),S(32,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCoreSiteCategory(c))}),s(),g(33,"div",23),b(34,Wd,8,2,"div",24),b(35,Ud,8,2,"div",24),g(36,"div",23),b(37,qd,5,3,"div",15),b(38,jd,5,3,"div",15),a(39,"b"),d(40),S(41,"translate"),s(),a(42,"mat-form-field",25)(43,"mat-label"),d(44),S(45,"translate"),s(),a(46,"mat-chip-grid",26,2),Z(48,Qd,6,1,"mat-chip",null,de),a(50,"input",27,3),S(52,"translate"),I("matChipInputTokenEnd",function(c){return u(r),f(t.addTagRegulatorNumberList(c))}),s()()(),d(53," \u0645\u062B\u0627\u0644 :00983 009715 0098930 "),a(54,"div"),d(55),S(56,"translate"),g(57,"br"),Z(58,Xd,2,1,"div",null,de),s(),g(60,"br"),a(61,"b"),d(62),S(63,"translate"),s(),a(64,"mat-form-field",25)(65,"mat-label"),d(66),S(67,"translate"),s(),a(68,"mat-chip-grid",26,4),Z(70,zd,5,1,"mat-chip",null,de),a(72,"input",28,3),S(74,"translate"),I("matChipInputTokenEnd",function(c){return u(r),f(t.addTagServicePagination(c))}),s()()(),a(75,"div"),d(76),S(77,"translate"),g(78,"br"),Z(79,Yd,2,2,"div",null,de),s(),g(81,"br"),a(82,"b"),d(83),S(84,"translate"),s(),a(85,"mat-form-field",25)(86,"mat-label"),d(87),S(88,"translate"),s(),a(89,"mat-chip-grid",26,5),Z(91,Kd,5,1,"mat-chip",null,de),a(93,"input",28,3),S(95,"translate"),I("matChipInputTokenEnd",function(c){return u(r),f(t.addTagEndUserPagination(c))}),s()()(),a(96,"div"),d(97),S(98,"translate"),g(99,"br"),Z(100,Jd,2,2,"div",null,de),s(),g(102,"br"),b(103,Zd,1,5,"app-cms-enum-x-selectionlist",29),b(104,$d,9,7,"div",30),s()()()}if(i&2){let r=P(16),p=P(47),c=P(69),D=P(90);o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",h(7,55,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),C("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(3),E(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),C("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),o(2),v(r.value?-1:17),o(),v(r.value?18:-1),o(2),M("",r.value.length," / 100"),o(),v(r.errors!=null&&r.errors.required?21:-1),o(),C("optionSelectForce",t.dataModel.linkApiPathId)("optionPlaceholder",h(23,57,"TITLE.Direction")),o(2),v(t.fieldsInfo.messageType!=null&&t.fieldsInfo.messageType.accessWatchField?24:-1),o(),C("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",h(26,59,"TITLE.USER")),o(2),C("optionDisabled",!(t.fieldsInfo.linkCoreSiteId!=null&&t.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",h(28,61,"TITLE.SITE")),o(2),C("optionDisabled",!(t.fieldsInfo.linkCoreUserGroupId!=null&&t.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",h(30,63,"TITLE.Type_Usage")),o(2),C("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",h(32,65,"TITLE.Site_Type")),o(3),v(t.fieldsInfo.serviceDeliveryCostBase!=null&&t.fieldsInfo.serviceDeliveryCostBase.accessWatchField?34:-1),o(),v(t.fieldsInfo.endUserDeliveryCostBase!=null&&t.fieldsInfo.endUserDeliveryCostBase.accessWatchField?35:-1),o(2),v(t.fieldsInfo.servicePricePerPage!=null&&t.fieldsInfo.servicePricePerPage.accessWatchField?37:-1),o(),v(t.fieldsInfo.endUserPricePerPage!=null&&t.fieldsInfo.endUserPricePerPage.accessWatchField?38:-1),o(2),E(h(41,67,"TITLE.ACCEPTABLE_PREFIXES")),o(4),E(h(45,69,"TITLE.ACCEPTABLE_PREFIXES")),o(4),$(t.dataModel.regulatorNumberList),o(2),C("placeholder",h(52,71,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",p)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(5),M(" ",h(56,73,"TITLE.ACCEPTABLE_PREFIXES")," "),o(3),$(t.dataModel.regulatorNumberList),o(4),E(h(63,75,"TITLE.PROVIDER_PAGINATION")),o(4),E(h(67,77,"TITLE.PROVIDER_PAGINATION")),o(4),$(t.dataModel.serviceMessageLengthPaginationList),o(2),C("placeholder",h(74,79,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",c)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),M(" ",h(77,81,"TITLE.PROVIDER_PAGINATION")," "),o(3),$(t.dataModel.serviceMessageLengthPaginationList),o(4),E(h(84,83,"TITLE.RECIPIENT_PAGINATION")),o(4),E(h(88,85,"TITLE.RECIPIENT_PAGINATION")),o(4),$(t.dataModel.endUserMessageLengthPaginationList),o(2),C("placeholder",h(95,87,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",D)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),M(" ",h(98,89,"TITLE.RECIPIENT_PAGINATION")," "),o(3),$(t.dataModel.endUserMessageLengthPaginationList),o(3),v(t.fieldsInfo.outBoxTypeJson!=null&&t.fieldsInfo.outBoxTypeJson.accessWatchField?103:-1),o(),v(t.formInfo.submitButtonEnabled?104:-1)}},dependencies:[ve,te,di,et,ie,_e,Ie,Ue,qe,Se,be,on,an,rn,nn,tn,$i,xe,Xe,ne,vi,De,La,so,Ai,ni,Ei,z,Te,mi,Ti,U],encapsulation:2});var Pn=lo;var em=["vform"];function tm(n,l){if(n&1){let e=A();a(0,"app-cms-enum-record-status-selector",27),w("modelChange",function(t){u(e);let r=m();return y(r.dataModel.recordStatus,t)||(r.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();T("model",e.dataModel.recordStatus),C("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function im(n,l){n&1&&g(0,"i",30)}function nm(n,l){n&1&&g(0,"i",31)}function om(n,l){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function am(n,l){if(n&1){let e=A();a(0,"div",15)(1,"label",28),d(2),s(),a(3,"input",29,5),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.title,t)||(r.dataModel.title=t),f(t)}),s(),b(5,im,1,0,"i",30),b(6,nm,1,0,"i",31),a(7,"em"),d(8),s(),b(9,om,5,3,"mat-error"),s()}if(n&2){let e=P(4),i=m();o(2),E(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),C("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModel.title),C("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(2),M("",e.value.length," / 100"),o(),v(e.errors!=null&&e.errors.required?9:-1)}}function rm(n,l){if(n&1){let e=A();a(0,"app-cms-enum-x-selector",32),w("modelChange",function(t){u(e);let r=m();return y(r.dataModel.messageType,t)||(r.dataModel.messageType=t),f(t)}),s()}if(n&2){let e=m();C("optionDataListResult",e.dataModelSmsMessageTypeEnumResult),T("model",e.dataModel.messageType),C("optionDisabled",!1)("optionLabel",e.fieldsInfo.messageType==null?null:e.fieldsInfo.messageType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function sm(n,l){if(n&1){let e=A();a(0,"div",20)(1,"div",33)(2,"h5",34),d(3),s()(),a(4,"div",35)(5,"div",36)(6,"input",37),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.serviceDeliveryCostBase,t)||(r.dataModel.serviceDeliveryCostBase=t),f(t)}),s(),g(7,"label",38),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.serviceDeliveryCostBase==null?null:e.fieldsInfo.serviceDeliveryCostBase.fieldTitle," "),o(3),T("ngModel",e.dataModel.serviceDeliveryCostBase)}}function lm(n,l){if(n&1){let e=A();a(0,"div",20)(1,"div",33)(2,"h5",39),d(3),s()(),a(4,"div",35)(5,"div",36)(6,"input",40),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.endUserDeliveryCostBase,t)||(r.dataModel.endUserDeliveryCostBase=t),f(t)}),s(),g(7,"label",41),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.endUserDeliveryCostBase==null?null:e.fieldsInfo.endUserDeliveryCostBase.fieldTitle," "),o(3),T("ngModel",e.dataModel.endUserDeliveryCostBase)}}function cm(n,l){if(n&1){let e=A();a(0,"div",15)(1,"label",42),d(2),s(),a(3,"input",43,6),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.servicePricePerPage,t)||(r.dataModel.servicePricePerPage=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle),o(),T("ngModel",e.dataModel.servicePricePerPage),C("disabled",!(e.fieldsInfo.servicePricePerPage!=null&&e.fieldsInfo.servicePricePerPage.accessEditField))}}function dm(n,l){if(n&1){let e=A();a(0,"div",15)(1,"label",44),d(2),s(),a(3,"input",45,7),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.endUserPricePerPage,t)||(r.dataModel.endUserPricePerPage=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle),o(),T("ngModel",e.dataModel.endUserPricePerPage),C("disabled",!(e.fieldsInfo.endUserPricePerPage!=null&&e.fieldsInfo.endUserPricePerPage.accessEditField))}}function mm(n,l){if(n&1){let e=A();a(0,"mat-chip",46),I("removed",function(){let t=u(e).$implicit,r=m();return f(r.removeTagRegulatorNumberList(t))}),a(1,"div",47),d(2),s(),a(3,"button",48)(4,"mat-icon"),d(5,"cancel"),s()()()}if(n&2){let e=l.$implicit;o(2),E(e)}}function pm(n,l){if(n&1&&(a(0,"div"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e," ")}}function um(n,l){if(n&1){let e=A();a(0,"mat-chip",46),I("removed",function(){let t=u(e).$implicit,r=m();return f(r.removeTagServicePagination(t))}),d(1),a(2,"button",48)(3,"mat-icon"),d(4,"cancel"),s()()()}if(n&2){let e=l.$implicit;o(),M(" ",e," ")}}function fm(n,l){if(n&1&&(a(0,"div"),d(1),s()),n&2){let e=l.$implicit,i=l.$index;o(),je(" ",i+1," - ",e," ")}}function Sm(n,l){if(n&1){let e=A();a(0,"mat-chip",46),I("removed",function(){let t=u(e).$implicit,r=m();return f(r.removeTagEndUserPagination(t))}),d(1),a(2,"button",48)(3,"mat-icon"),d(4,"cancel"),s()()()}if(n&2){let e=l.$implicit;o(),M(" ",e," ")}}function hm(n,l){if(n&1&&(a(0,"div"),d(1),s()),n&2){let e=l.$implicit,i=l.$index;o(),je(" ",i+1," - ",e," ")}}function gm(n,l){if(n&1){let e=A();a(0,"app-cms-enum-x-selectionlist",49),w("modelChange",function(t){u(e);let r=m();return y(r.dataModel.outBoxTypeList,t)||(r.dataModel.outBoxTypeList=t),f(t)}),s()}if(n&2){let e=m();C("optionDataListResult",e.dataModelSmsOutBoxTypeEnumResult),T("model",e.dataModel.outBoxTypeList),C("optionDisabled",!1)("optionLabel",e.fieldsInfo.outBoxTypeJson==null?null:e.fieldsInfo.outBoxTypeJson.fieldTitle)("optionRequired",!0)}}function Cm(n,l){if(n&1){let e=A();a(0,"div",26)(1,"button",50),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",51),d(3),S(4,"translate"),s(),a(5,"button",52),g(6,"i",53),d(7),S(8,"translate"),s()()}if(n&2){m();let e=P(10);o(3),M(" ",h(4,3,"ACTION.CANCEL")," "),o(2),C("disabled",!e.form.valid),o(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var co=class co extends ht{constructor(e,i,t,r,p,c,D,H){super(r,new gi,c,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiPathPriceServiceService=r;this.cmsToastrService=p;this.publicHelper=c;this.cdr=D;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ut;this.dataModel=new gi;this.formInfo=new Me;this.dataModelSmsMessageTypeEnumResult=new X;this.dataModelSmsOutBoxTypeEnumResult=new X;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getSmsMessageTypeEnum(),this.getSmsOutBoxTypeEnum()}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPriceServiceService.setAccessLoad(),this.smsMainApiPathPriceServiceService.setAccessDataType(at.Editor),this.smsMainApiPathPriceServiceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPriceServiceService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiPathId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiPathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTagRegulatorNumberList(e){let i=(e.value||"").trim();this.dataModel.regulatorNumberList||(this.dataModel.regulatorNumberList=[]),i&&this.dataModel.regulatorNumberList.push(i),e.chipInput.clear()}removeTagRegulatorNumberList(e){let i=this.dataModel.regulatorNumberList.indexOf(e);i>=0&&this.dataModel.regulatorNumberList.splice(i,1)}addTagServicePagination(e){let i=(e.value||"").trim();this.dataModel.serviceMessageLengthPaginationList||(this.dataModel.serviceMessageLengthPaginationList=[]);var t=+i||-1;t>=0&&this.dataModel.serviceMessageLengthPaginationList.push(t),e.chipInput.clear()}removeTagServicePagination(e){let i=this.dataModel.serviceMessageLengthPaginationList.indexOf(e);i>=0&&this.dataModel.serviceMessageLengthPaginationList.splice(i,1)}addTagEndUserPagination(e){let i=(e.value||"").trim();this.dataModel.endUserMessageLengthPaginationList||(this.dataModel.endUserMessageLengthPaginationList=[]);var t=+i||-1;t>=0&&this.dataModel.endUserMessageLengthPaginationList.push(t),e.chipInput.clear()}removeTagEndUserPagination(e){let i=this.dataModel.endUserMessageLengthPaginationList.indexOf(e);i>=0&&this.dataModel.endUserMessageLengthPaginationList.splice(i,1)}};co.\u0275fac=function(i){return new(i||co)(_(Ee),_(Ae),_($e),_(Yi),_(O),_(G),_(F),_(B))},co.\u0275cmp=N({type:co,selectors:[["app-sms-apipathpriceservice-edit"]],viewQuery:function(i,t){if(i&1&&pe(em,5),i&2){let r;ue(r=fe())&&(t.formGroup=r.first)}},standalone:!1,features:[K],decls:96,vars:84,consts:[["vform","ngForm"],["chipListRegulatorNumberList",""],["tagInput",""],["chipListServicePagination",""],["chipListEndUserPagination",""],["Title",""],["servicePricePerPage",""],["endUserPricePerPage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"divider","mt-3","mb-3"],[1,"d-flex","mb-3"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.Number'|translate"],[1,"input-ltr",3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"pt-1"],["data-trigger-switch","dataModel.serviceDeliveryCostBase",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.serviceDeliveryCostBase","name","dataModel.serviceDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.serviceDeliveryCostBase",1,"custom-control-label"],["data-trigger-switch","dataModel.endUserDeliveryCostBase",1,"font-600","font-14"],["type","checkbox","id","dataModel.endUserDeliveryCostBase","name","dataModel.endUserDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.endUserDeliveryCostBase",1,"custom-control-label"],["for","dataModel.servicePricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.servicePricePerPage","placeholder","0","id","dataModel.servicePricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.endUserPricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.endUserPricePerPage","placeholder","0","id","dataModel.endUserPricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[3,"removed"],[1,"input-ltr"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let r=A();a(0,"div",8),g(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),d(4),s(),a(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",12),a(9,"form",13,0),I("ngSubmit",function(){return u(r),f(t.onFormSubmit())}),b(11,tm,1,5,"app-cms-enum-record-status-selector",14),b(12,am,10,9,"div",15),a(13,"app-sms-apipath-selector",16),S(14,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorSelectLinkApiPathId(c))}),s(),b(15,rm,1,6,"app-cms-enum-x-selector",17),a(16,"app-cms-user-selector",18),S(17,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCmsUser(c))}),s(),a(18,"app-cms-site-selector",18),S(19,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCmsSite(c))}),s(),a(20,"app-cms-usergroup-selector",18),S(21,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCoreUserGroup(c))}),s(),a(22,"app-cms-sitecategory-selector",18),S(23,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCoreSiteCategory(c))}),s(),g(24,"div",19),b(25,sm,8,2,"div",20),b(26,lm,8,2,"div",20),g(27,"div",19),b(28,cm,5,3,"div",15),b(29,dm,5,3,"div",15),g(30,"br"),a(31,"b"),d(32),S(33,"translate"),s(),a(34,"mat-form-field",21)(35,"mat-label"),d(36),S(37,"translate"),s(),a(38,"mat-chip-grid",22,1),Z(40,mm,6,1,"mat-chip",null,de),a(42,"input",23,2),S(44,"translate"),I("matChipInputTokenEnd",function(c){return u(r),f(t.addTagRegulatorNumberList(c))}),s()()(),a(45,"div"),d(46),S(47,"translate"),g(48,"br"),Z(49,pm,2,1,"div",null,de),s(),g(51,"br"),a(52,"b"),d(53),S(54,"translate"),s(),a(55,"mat-form-field",21)(56,"mat-label"),d(57),S(58,"translate"),s(),a(59,"mat-chip-grid",22,3),Z(61,um,5,1,"mat-chip",null,de),a(63,"input",24,2),S(65,"translate"),I("matChipInputTokenEnd",function(c){return u(r),f(t.addTagServicePagination(c))}),s()()(),a(66,"div"),d(67),S(68,"translate"),g(69,"br"),Z(70,fm,2,2,"div",null,de),s(),g(72,"br"),a(73,"b"),d(74),S(75,"translate"),s(),a(76,"mat-form-field",21)(77,"mat-label"),d(78),S(79,"translate"),s(),a(80,"mat-chip-grid",22,4),Z(82,Sm,5,1,"mat-chip",null,de),a(84,"input",24,2),S(86,"translate"),I("matChipInputTokenEnd",function(c){return u(r),f(t.addTagEndUserPagination(c))}),s()()(),a(87,"div"),d(88),S(89,"translate"),g(90,"br"),Z(91,hm,2,2,"div",null,de),s(),g(93,"br"),b(94,gm,1,5,"app-cms-enum-x-selectionlist",25),b(95,Cm,9,7,"div",26),s()()()}if(i&2){let r=P(39),p=P(60),c=P(81);o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",h(7,48,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),C("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),v(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(),C("optionSelectForce",t.dataModel.linkApiPathId)("optionPlaceholder",h(14,50,"TITLE.Direction")),o(2),v(t.fieldsInfo.messageType!=null&&t.fieldsInfo.messageType.accessWatchField?15:-1),o(),C("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",h(17,52,"TITLE.USER")),o(2),C("optionDisabled",!(t.fieldsInfo.linkCoreSiteId!=null&&t.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",h(19,54,"TITLE.SITE")),o(2),C("optionDisabled",!(t.fieldsInfo.linkCoreUserGroupId!=null&&t.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",h(21,56,"TITLE.Type_Usage")),o(2),C("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",h(23,58,"TITLE.Site_Type")),o(3),v(t.fieldsInfo.serviceDeliveryCostBase!=null&&t.fieldsInfo.serviceDeliveryCostBase.accessWatchField?25:-1),o(),v(t.fieldsInfo.endUserDeliveryCostBase!=null&&t.fieldsInfo.endUserDeliveryCostBase.accessWatchField?26:-1),o(2),v(t.fieldsInfo.servicePricePerPage!=null&&t.fieldsInfo.servicePricePerPage.accessWatchField?28:-1),o(),v(t.fieldsInfo.endUserPricePerPage!=null&&t.fieldsInfo.endUserPricePerPage.accessWatchField?29:-1),o(3),E(h(33,60,"TITLE.ACCEPTABLE_PREFIXES")),o(4),E(h(37,62,"TITLE.ACCEPTABLE_PREFIXES")),o(4),$(t.dataModel.regulatorNumberList),o(2),C("placeholder",h(44,64,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",r)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),M(" ",h(47,66,"TITLE.ACCEPTABLE_PREFIXES")," "),o(3),$(t.dataModel.regulatorNumberList),o(4),E(h(54,68,"TITLE.PROVIDER_PAGINATION")),o(4),E(h(58,70,"TITLE.PROVIDER_PAGINATION")),o(4),$(t.dataModel.serviceMessageLengthPaginationList),o(2),C("placeholder",h(65,72,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",p)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),M(" ",h(68,74,"TITLE.PROVIDER_PAGINATION")," "),o(3),$(t.dataModel.serviceMessageLengthPaginationList),o(4),E(h(75,76,"TITLE.RECIPIENT_PAGINATION")),o(4),E(h(79,78,"TITLE.RECIPIENT_PAGINATION")),o(4),$(t.dataModel.endUserMessageLengthPaginationList),o(2),C("placeholder",h(86,80,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",c)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),M(" ",h(89,82,"TITLE.RECIPIENT_PAGINATION")," "),o(3),$(t.dataModel.endUserMessageLengthPaginationList),o(3),v(t.fieldsInfo.outBoxTypeJson!=null&&t.fieldsInfo.outBoxTypeJson.accessWatchField?94:-1),o(),v(t.formInfo.submitButtonEnabled?95:-1)}},dependencies:[ve,te,di,et,ie,_e,Ie,Ue,qe,Se,be,on,an,rn,nn,tn,$i,xe,Xe,ne,vi,De,La,so,Ai,ni,Ei,z,Te,mi,Ti,U],encapsulation:2});var mo=co;var Mm=()=>[5,10,20,100],_m=(n,l)=>l.id;function bm(n,l){if(n&1){let e=A();a(0,"button",21),S(1,"translate"),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),g(2,"i",22),s()}n&2&&ki("aria-label",k(h(1,2,"ACTION.BACK")))}function vm(n,l){if(n&1){let e=A();a(0,"div",12)(1,"app-cms-search-list",23),w("optionsChange",function(t){u(e);let r=m();return y(r.optionsSearch,t)||(r.optionsSearch=t),f(t)}),s()()}if(n&2){let e=m();o(),T("options",e.optionsSearch)}}function Im(n,l){if(n&1){let e=A();a(0,"div",13)(1,"app-cms-statist-list",23),w("optionsChange",function(t){u(e);let r=m();return y(r.optionsStatist,t)||(r.optionsStatist=t),f(t)}),s()()}if(n&2){let e=m();o(),T("options",e.optionsStatist)}}function Am(n,l){if(n&1&&(a(0,"div",24),g(1,"i",10),a(2,"span"),d(3),S(4,"translate"),S(5,"translate"),s()()),n&2){let e=m();Ze("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),V("refreshing",e.pullToRefreshState.isRefreshing),o(),V("rotation360",e.pullToRefreshState.isRefreshing),o(2),E(e.pullToRefreshState.isRefreshing?h(4,7,"ACTION.RELOADING"):h(5,9,"ACTION.PULL_TO_REFRESH"))}}function Em(n,l){if(n&1&&(a(0,"div",32),g(1,"i",43),a(2,"span"),d(3),S(4,"cmstitle"),s()()),n&2){let e=m().$implicit,i=m(2);o(3),E(fi(4,1,e.linkApiPathId,i.dataModelPrivateResult.listItems))}}function Tm(n,l){if(n&1&&(a(0,"div",32),g(1,"i",44),a(2,"span"),d(3),S(4,"cmstitle"),s()()),n&2){let e=m().$implicit,i=m(2);o(3),E(fi(4,1,e.messageType,i.dataModelSmsMessageTypeEnumResult.listItems))}}function ym(n,l){if(n&1&&(a(0,"span",36),g(1,"i",45),d(2),s()),n&2){let e=m().$implicit;o(2),M(" ",e.servicePricePerPage," ")}}function wm(n,l){if(n&1&&(a(0,"div",37),g(1,"i",46),a(2,"span"),d(3),s()()),n&2){let e=m().$implicit;o(3),E(e.endUserPricePerPage)}}function Pm(n,l){if(n&1){let e=A();a(0,"button",47),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonEditRow(r),f(t.stopPropagation())}),g(2,"i",48),s()}n&2&&W("aria-label",h(1,1,"ACTION.EDIT"))}function Rm(n,l){if(n&1){let e=A();a(0,"button",49),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonDeleteRow(r),f(t.stopPropagation())}),g(2,"i",50),s()}n&2&&W("aria-label",h(1,1,"ACTION.DELETE"))}function xm(n,l){if(n&1){let e=A();a(0,"button",51),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonDeleteRow(r),f(t.stopPropagation())}),g(2,"i",50),s()}n&2&&W("aria-label",h(1,1,"ACTION.DELETE"))}function Dm(n,l){if(n&1){let e=A();a(0,"div",26)(1,"div",27),I("click",function(){let t=u(e).$implicit,r=m(2);return f(r.onActionTableRowSelect(t))})("touchstart",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchStart(t,r.id))})("touchmove",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchMove(t,r.id))})("touchend",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchEnd(t,r.id))}),a(2,"div",28),g(3,"i",29),s(),a(4,"div",30)(5,"div",31),d(6),s(),b(7,Em,5,4,"div",32),b(8,Tm,5,4,"div",32),a(9,"div",33)(10,"div",34),g(11,"i",35),S(12,"statusIconClass"),b(13,ym,3,1,"span",36),s(),b(14,wm,4,1,"div",37),s()(),a(15,"div",38),b(16,Pm,3,3,"button",39),b(17,Rm,3,3,"button",40),s()(),a(18,"div",41),b(19,xm,3,3,"button",42),s()()}if(n&2){let e,i=l.$implicit,t=m(2);Ze("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),o(),V("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),W("aria-label",i.title),o(5),M(" ",i.title," "),o(),v(i.linkApiPathId?7:-1),o(),v(i.messageType?8:-1),o(3),C("ngClass",h(12,14,i.recordStatus)),o(2),v(i.servicePricePerPage?13:-1),o(),v(i.endUserPricePerPage?14:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?16:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?17:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?19:-1)}}function km(n,l){if(n&1&&(a(0,"div",16),Z(1,Dm,20,16,"div",25,_m),s()),n&2){let e=m();o(),$(e.dataModelResult.listItems)}}function Lm(n,l){n&1&&(a(0,"div",17)(1,"div",52),g(2,"i",53),s(),a(3,"div",54),d(4),S(5,"translate"),s()()),n&2&&(o(4),M(" ",h(5,1,"MESSAGE.no_information")," "))}function Vm(n,l){if(n&1){let e=A();a(0,"button",55),S(1,"translate"),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",56),s()}n&2&&W("aria-label",h(1,1,"ACTION.ADD"))}function Nm(n,l){if(n&1){let e=A();a(0,"div",20)(1,"mat-paginator",57,0),I("page",function(t){u(e);let r=m();return f(r.onTablePageingData(t))}),s()()}if(n&2){let e=m();o(),C("length",(e.dataModelResult==null?null:e.dataModelResult.totalRowCount)||0)("pageIndex",((e.dataModelResult==null?null:e.dataModelResult.currentPageNumber)||1)-1)("pageSize",(e.dataModelResult==null?null:e.dataModelResult.rowPerPage)||10)("pageSizeOptions",we(4,Mm))}}var po=class po extends Oe{constructor(e,i,t,r,p,c,D,H,Ke,nt,Qe,Mt,Y,Za){super(e,new gi,Y,c,H);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=r;this.router=p;this.tokenHelper=c;this.cdr=D;this.translate=H;this.smsMainApiPathService=Ke;this.cmsStoreService=nt;this.smsEnumService=Qe;this.pageInfo=Mt;this.publicHelper=Y;this.dialog=Za;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.dataModelSmsMessageTypeEnumResult=new X;this.dataModelSmsOutBoxTypeEnumResult=new X;this.dataModelPrivateResult=new X;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","title","LinkApiPathId","messageType","serviceMaxPage","endUserMaxPage","servicePricePerPage","endUserPricePerPage"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","LinkApiPathId","messageType","servicePricePerPage","endUserPricePerPage"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:An=>this.onSubmitOptionsSearch(An)},this.filteModelContent.sortColumn="LinkApiPathId",this.filteModelContent.sortType=q.Ascending}ngOnInit(){if(this.filteModelContent.sortColumn="LinkApiPathId",this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")),this.requestLinkApiPathId?.length>0){let e=new Q;e.propertyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getPrivateConfig(),this.getSmsMessageTypeEnum()}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getPrivateConfig(){let e=new J;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new gi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new Q;t.propertyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Pn,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:this.categoryModelSelected?.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(mo,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],t=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(r=>{if(r){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let r=JSON.parse(JSON.stringify(this.filteModelContent)),p=new Q;p.propertyName="recordStatus",p.value=Pe.Available,r.filters.push(p),this.contentService.ServiceGetCount(r).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let r=e.touches[0];t.currentX=r.clientX;let p=t.currentX-t.startX,c=document.documentElement.dir==="rtl",D=c?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,H=c?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(H,Math.min(D,p))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let r=document.documentElement.dir==="rtl",p=r?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;r&&t.offset>p||!r&&t.offset<p||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}onActionTableRowSelect(e){this.tableRowSelected=e}};po.\u0275fac=function(i){return new(i||po)(_(Yi),_(O),_(ze),_(Ve),_(Le),_(Ce),_(F),_(B),_(ft),_(ge),_($e),_(Fe),_(G),_(he))},po.\u0275cmp=N({type:po,selectors:[["app-sms-apipathpriceservice-list-mobile"]],standalone:!1,features:[K],decls:27,vars:26,consts:[["paginator",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"aria-label"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["aria-hidden","true",1,"fa-solid","fa-chart-bar"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-statist-area","safe-area-content"],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content","safe-area-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],[1,"cms-m-footer","safe-area-bottom"],[1,"cms-m-fab"],[1,"cms-m-pagination-wrapper"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[3,"optionsChange","options"],[1,"cms-m-pull-refresh-indicator"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-dollar-sign"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-footer"],[1,"cms-m-list-item-status"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-badge","public"],[1,"cms-m-list-item-date"],[1,"cms-m-list-item-actions"],[1,"cms-m-action-btn","edit"],[1,"cms-m-action-btn","delete"],[1,"cms-m-list-item-swipe-actions"],[1,"cms-m-swipe-action-btn","delete"],["aria-hidden","true",1,"fa-solid","fa-link"],["aria-hidden","true",1,"fa-solid","fa-envelope"],["aria-hidden","true",1,"fa-solid","fa-coins"],["aria-hidden","true",1,"fa-solid","fa-user"],[1,"cms-m-action-btn","edit",3,"click"],["aria-hidden","true",1,"fa-solid","fa-pen"],[1,"cms-m-action-btn","delete",3,"click"],["aria-hidden","true",1,"fa-solid","fa-trash"],[1,"cms-m-swipe-action-btn","delete",3,"click"],[1,"cms-m-empty-state-icon"],["aria-hidden","true",1,"fa-solid","fa-inbox"],[1,"cms-m-empty-state-text"],[1,"cms-m-fab",3,"click"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"]],template:function(i,t){i&1&&(a(0,"div",1),g(1,"app-progress-spinner",2),a(2,"div",3)(3,"div",4),b(4,bm,3,4,"button",5),a(5,"h1",6),d(6),S(7,"translate"),s(),a(8,"div",7)(9,"button",8),S(10,"translate"),I("click",function(){return t.optionsSearch.data.show=!t.optionsSearch.data.show}),g(11,"i",9),s(),a(12,"button",8),S(13,"translate"),I("click",function(){return t.onActionButtonReload()}),g(14,"i",10),s(),a(15,"button",8),S(16,"translate"),I("click",function(){return t.onActionButtonStatist()}),g(17,"i",11),s()()()(),b(18,vm,2,1,"div",12),b(19,Im,2,1,"div",13),b(20,Am,6,11,"div",14),a(21,"div",15),I("touchstart",function(p){return t.onTouchStart(p)})("touchmove",function(p){return t.onTouchMove(p)})("touchend",function(p){return t.onTouchEnd(p)}),b(22,km,3,0,"div",16)(23,Lm,6,3,"div",17),s(),a(24,"div",18),b(25,Vm,3,3,"button",19),b(26,Nm,3,5,"div",20),s()()),i&2&&(o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v((t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0?4:-1),o(2),M(" ",h(7,18,"ROUTE.SMS.MAIN")," "),o(3),V("active",t.optionsSearch.data.show),W("aria-label",h(10,20,"ACTION.SEARCH")),o(3),W("aria-label",h(13,22,"ACTION.RELOAD")),o(2),V("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(),V("active",t.optionsStatist==null||t.optionsStatist.data==null?null:t.optionsStatist.data.show),W("aria-label",h(16,24,"ACTION.STATIST")),o(3),v(t.optionsSearch.data.show?18:-1),o(),v(!(t.optionsStatist==null||t.optionsStatist.data==null)&&t.optionsStatist.data.show?19:-1),o(),v(t.pullToRefreshState.pullDistance>0?20:-1),o(2),v(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?22:23),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?25:-1),o(),v((t.dataModelResult==null?null:t.dataModelResult.totalRowCount)>0?26:-1))},dependencies:[Ne,Be,Ge,He,z,U,ln,We],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var da=po;var Bm=["*"];function Fm(n,l){if(n&1&&(a(0,"label",3),d(1),s()),n&2){let e=m();C("for",Wt("app-cms-site-selector-",e.id)),o(),E(e.optionLabel)}}function Om(n,l){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=m();C("src",k(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),me)}}function Gm(n,l){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=m().$implicit;C("src",k(h(1,2,e.linkMainImageIdSrc)),me)}}function Hm(n,l){if(n&1&&(a(0,"mat-option",8),b(1,Gm,2,4,"img",5),a(2,"span"),d(3),s()()),n&2){let e=l.$implicit,i=m();C("value",e)("disabled",i.optionDisabled),o(),v(e.linkMainImageIdSrc?1:-1),o(2),E(i.displayOption(e))}}function Wm(n,l){n&1&&g(0,"i",9)}function Um(n,l){n&1&&g(0,"i",10)}function qm(n,l){if(n&1){let e=A();a(0,"i",13),I("click",function(){u(e);let t=m();return f(t.onActionSelectClear())}),s()}}function jm(n,l){n&1&&(a(0,"em"),d(1),S(2,"translate"),s()),n&2&&(o(),M("(",h(2,1,"TITLE.Necessary"),")"))}var pn=class pn{constructor(l,e,i,t,r,p){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=r;this.categoryService=p;this.id=++pn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new X;this.dataModelSelect=new ai;this.formControl=new ci;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new st;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(xi(""),Pi(1500),Ri(),Di(l=>typeof l=="string"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title+" | "+l.id:void 0}displayOption(l){return l?l.title+" | "+l.id:void 0}DataGetAll(l){return ee(this,null,function*(){let e=new J;e.rowPerPage=20,e.accessLoad=!0;let i=new Q;l&&l.length>0&&(i.propertyName="title",i.value=l,i.searchType=Ut.Contains,i.clauseType=si.Or,e.filters.push(i)),l&&typeof l=="string"&&l.length>10&&(i=new Q,i.propertyName="id",i.value=l,i.searchType=Ut.Equal,i.clauseType=si.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(r=>{this.publicHelper.processService.processStart(t,r,this.constructorInfoAreaId)}),yield yi(this.categoryService.ServiceGetAll(e)).then(r=>(this.dataModelResult=r,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),r.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(wi(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof ai){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new ai,this.loadOptions()}};pn.nextId=0,pn.\u0275fac=function(e){return new(e||pn)(_(Re),_(O),_(F),_(G),_(B),_(Zt))},pn.\u0275cmp=N({type:pn,selectors:[["app-sms-publicconfig-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Bm,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=A();Li(),a(0,"div",1),g(1,"app-progress-spinner",2),b(2,Fm,2,3,"label",3),a(3,"span",4),b(4,Om,2,4,"img",5),s(),g(5,"input",6),a(6,"mat-autocomplete",7,0),I("optionSelected",function(p){return u(t),f(i.onActionSelect(p.option.value))}),Z(8,Hm,4,4,"mat-option",8,de),S(10,"async"),s(),b(11,Wm,1,0,"i",9),b(12,Um,1,0,"i",10),b(13,qm,1,0,"i",11),a(14,"i",12),S(15,"translate"),I("click",function(){return u(t),f(i.onActionButtonReload())}),s(),b(16,jm,3,3,"em"),Vi(17),s()}if(e&2){let t=P(7);o(),C("optionsInfoAreaId",i.constructorInfoAreaId),o(),v((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),v(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),C("placeholder",k(i.optionPlaceholder))("id",Wt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),W("disabled",i.optionDisabled?!0:null),o(),C("displayWith",i.displayFn),o(2),$(h(10,20,i.filteredOptions)),o(3),v(i.formControl.valid?-1:11),o(),v(i.optionRequired&&i.formControl.valid?12:-1),o(),v((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),V("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),C("title",k(h(15,22,"ACTION.RELOAD"))),o(2),v(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0)?16:-1)}},dependencies:[te,ie,Ie,Gi,Wi,Hi,Ui,en,ne,z,ot,U,Je],encapsulation:2});var uo=pn;var Qm=["*"];function Xm(n,l){if(n&1&&(a(0,"label",3),d(1),s()),n&2){let e=m();C("for",Wt("app-cms-site-selector-",e.id)),o(),E(e.optionLabel)}}function zm(n,l){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=m();C("src",k(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),me)}}function Ym(n,l){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=m().$implicit;C("src",k(h(1,2,e.linkMainImageIdSrc)),me)}}function Km(n,l){if(n&1&&(a(0,"mat-option",8),b(1,Ym,2,4,"img",5),a(2,"span"),d(3),s()()),n&2){let e=l.$implicit,i=m();C("value",e)("disabled",i.optionDisabled),o(),v(e.linkMainImageIdSrc?1:-1),o(2),E(i.displayOption(e))}}function Jm(n,l){n&1&&g(0,"i",9)}function Zm(n,l){n&1&&g(0,"i",10)}function $m(n,l){if(n&1){let e=A();a(0,"i",13),I("click",function(){u(e);let t=m();return f(t.onActionSelectClear())}),s()}}function ep(n,l){n&1&&(a(0,"em"),d(1),S(2,"translate"),s()),n&2&&(o(),M("(",h(2,1,"TITLE.Necessary"),")"))}var un=class un{constructor(l,e,i,t,r,p){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=r;this.categoryService=p;this.id=++un.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new X;this.dataModelSelect=new _t;this.formControl=new ci;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new st;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(xi(""),Pi(1500),Ri(),Di(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return ee(this,null,function*(){let e=new J;e.rowPerPage=20,e.accessLoad=!0;let i=new Q;i.propertyName="title",i.value=l,i.searchType=Ut.Contains,i.clauseType=si.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new Q,i.propertyName="id",i.value=l,i.searchType=Ut.Equal,i.clauseType=si.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.get_information_list").subscribe(r=>{this.publicHelper.processService.processStart(t,r,this.constructorInfoAreaId)}),yield yi(this.categoryService.ServiceGetAll(e)).then(r=>(this.dataModelResult=r,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),r.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(wi(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof _t){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new _t,this.loadOptions()}};un.nextId=0,un.\u0275fac=function(e){return new(e||un)(_(Re),_(O),_(F),_(G),_(B),_(At))},un.\u0275cmp=N({type:un,selectors:[["app-sms-apipathcompany-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Qm,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=A();Li(),a(0,"div",1),g(1,"app-progress-spinner",2),b(2,Xm,2,3,"label",3),a(3,"span",4),b(4,zm,2,4,"img",5),s(),g(5,"input",6),a(6,"mat-autocomplete",7,0),I("optionSelected",function(p){return u(t),f(i.onActionSelect(p.option.value))}),Z(8,Km,4,4,"mat-option",8,de),S(10,"async"),s(),b(11,Jm,1,0,"i",9),b(12,Zm,1,0,"i",10),b(13,$m,1,0,"i",11),a(14,"i",12),S(15,"translate"),I("click",function(){return u(t),f(i.onActionButtonReload())}),s(),b(16,ep,3,3,"em"),Vi(17),s()}if(e&2){let t=P(7);o(),C("optionsInfoAreaId",i.constructorInfoAreaId),o(),v((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),v(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),C("placeholder",k(i.optionPlaceholder))("id",Wt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),W("disabled",i.optionDisabled?!0:null),o(),C("displayWith",i.displayFn),o(2),$(h(10,20,i.filteredOptions)),o(3),v(i.formControl.valid?-1:11),o(),v(i.optionRequired&&i.formControl.valid?12:-1),o(),v((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),V("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),C("title",k(h(15,22,"ACTION.RELOAD"))),o(2),v(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0)?16:-1)}},dependencies:[te,ie,Ie,Gi,Wi,Hi,Ui,en,ne,z,ot,U,Je],encapsulation:2});var fo=un;var ip=["vform"];function np(n,l){if(n&1){let e=A();a(0,"app-cms-enum-record-status-selector",70),w("modelChange",function(t){u(e);let r=m();return y(r.dataModel.recordStatus,t)||(r.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();T("model",e.dataModel.recordStatus),C("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function op(n,l){n&1&&g(0,"i",73)}function ap(n,l){n&1&&g(0,"i",74)}function rp(n,l){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function sp(n,l){if(n&1){let e=A();a(0,"div",38)(1,"label",71),d(2),s(),a(3,"input",72,9),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.title,t)||(r.dataModel.title=t),f(t)}),s(),b(5,op,1,0,"i",73),b(6,ap,1,0,"i",74),a(7,"em"),d(8),s(),b(9,rp,5,3,"mat-error"),s()}if(n&2){let e=P(4),i=m();o(2),E(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),C("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModel.title),C("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(2),M("",e.value.length," / 100"),o(),v(e.errors!=null&&e.errors.required?9:-1)}}function lp(n,l){if(n&1){let e=A();a(0,"div",38)(1,"label",75),d(2),s(),a(3,"input",76,10),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.apiIdentity,t)||(r.dataModel.apiIdentity=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.apiIdentity==null?null:e.fieldsInfo.apiIdentity.fieldTitle),o(),T("ngModel",e.dataModel.apiIdentity),C("disabled",!(e.fieldsInfo.apiIdentity!=null&&e.fieldsInfo.apiIdentity.accessEditField))}}function cp(n,l){if(n&1){let e=A();a(0,"div",38)(1,"label",77),d(2),s(),a(3,"input",78,11),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.apiMinPathNeedToCheck,t)||(r.dataModel.apiMinPathNeedToCheck=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.apiMinPathNeedToCheck==null?null:e.fieldsInfo.apiMinPathNeedToCheck.fieldTitle),o(),T("ngModel",e.dataModel.apiMinPathNeedToCheck),C("disabled",!(e.fieldsInfo.apiMinPathNeedToCheck!=null&&e.fieldsInfo.apiMinPathNeedToCheck.accessEditField))}}function dp(n,l){if(n&1){let e=A();a(0,"div",38)(1,"label",79),d(2),s(),a(3,"input",80,12),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.apiReceiveKey,t)||(r.dataModel.apiReceiveKey=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.apiReceiveKey==null?null:e.fieldsInfo.apiReceiveKey.fieldTitle),o(),T("ngModel",e.dataModel.apiReceiveKey),C("disabled",!(e.fieldsInfo.apiReceiveKey!=null&&e.fieldsInfo.apiReceiveKey.accessEditField))}}function mp(n,l){if(n&1){let e=A();a(0,"div",38)(1,"label",81),d(2),s(),a(3,"input",82,13),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.hookAddressReceiveMessageAPIById,t)||(r.dataModel.hookAddressReceiveMessageAPIById=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.hookAddressReceiveMessageAPIById==null?null:e.fieldsInfo.hookAddressReceiveMessageAPIById.fieldTitle),o(),T("ngModel",e.dataModel.hookAddressReceiveMessageAPIById)}}function pp(n,l){if(n&1){let e=A();a(0,"div",38)(1,"label",83),d(2),s(),a(3,"input",84,14),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.hookAddressReceiveDeliveryStatusAPIById,t)||(r.dataModel.hookAddressReceiveDeliveryStatusAPIById=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.hookAddressReceiveDeliveryStatusAPIById==null?null:e.fieldsInfo.hookAddressReceiveDeliveryStatusAPIById.fieldTitle),o(),T("ngModel",e.dataModel.hookAddressReceiveDeliveryStatusAPIById)}}function up(n,l){if(n&1){let e=A();a(0,"div",38)(1,"label",85),d(2),s(),a(3,"input",86,15),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.apiAbilityLengthMinToSend,t)||(r.dataModel.apiAbilityLengthMinToSend=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.apiAbilityLengthMinToSend==null?null:e.fieldsInfo.apiAbilityLengthMinToSend.fieldTitle),o(),T("ngModel",e.dataModel.apiAbilityLengthMinToSend),C("disabled",!(e.fieldsInfo.apiAbilityLengthMinToSend!=null&&e.fieldsInfo.apiAbilityLengthMinToSend.accessEditField))}}function fp(n,l){if(n&1){let e=A();a(0,"div",38)(1,"label",87),d(2),s(),a(3,"input",88,16),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.apiAbilityLengthMaxToSend,t)||(r.dataModel.apiAbilityLengthMaxToSend=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.apiAbilityLengthMaxToSend==null?null:e.fieldsInfo.apiAbilityLengthMaxToSend.fieldTitle),o(),T("ngModel",e.dataModel.apiAbilityLengthMaxToSend),C("disabled",!(e.fieldsInfo.apiAbilityLengthMaxToSend!=null&&e.fieldsInfo.apiAbilityLengthMaxToSend.accessEditField))}}function Sp(n,l){if(n&1){let e=A();a(0,"div",38)(1,"label",89),d(2),s(),a(3,"input",90,17),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.priority,t)||(r.dataModel.priority=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.priority==null?null:e.fieldsInfo.priority.fieldTitle),o(),T("ngModel",e.dataModel.priority),C("disabled",!(e.fieldsInfo.priority!=null&&e.fieldsInfo.priority.accessEditField))}}function hp(n,l){if(n&1){let e=A();a(0,"div",38)(1,"label",91),d(2),s(),a(3,"input",92,18),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.maxProcessFlowAmount,t)||(r.dataModel.maxProcessFlowAmount=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.maxProcessFlowAmount==null?null:e.fieldsInfo.maxProcessFlowAmount.fieldTitle),o(),T("ngModel",e.dataModel.maxProcessFlowAmount),C("disabled",!(e.fieldsInfo.maxProcessFlowAmount!=null&&e.fieldsInfo.maxProcessFlowAmount.accessEditField))}}function gp(n,l){if(n&1){let e=A();a(0,"div",38)(1,"label",93),d(2),s(),a(3,"input",94,19),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.minProcessFlowAmount,t)||(r.dataModel.minProcessFlowAmount=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.minProcessFlowAmount==null?null:e.fieldsInfo.minProcessFlowAmount.fieldTitle),o(),T("ngModel",e.dataModel.minProcessFlowAmount),C("disabled",!(e.fieldsInfo.minProcessFlowAmount!=null&&e.fieldsInfo.minProcessFlowAmount.accessEditField))}}function Cp(n,l){if(n&1){let e=A();a(0,"div",38)(1,"label",95),d(2),s(),a(3,"input",96,20),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.fixFeeProcessFlowAmount,t)||(r.dataModel.fixFeeProcessFlowAmount=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.fixFeeProcessFlowAmount==null?null:e.fieldsInfo.fixFeeProcessFlowAmount.fieldTitle),o(),T("ngModel",e.dataModel.fixFeeProcessFlowAmount),C("disabled",!(e.fieldsInfo.fixFeeProcessFlowAmount!=null&&e.fieldsInfo.fixFeeProcessFlowAmount.accessEditField))}}function Mp(n,l){if(n&1){let e=A();a(0,"div",38)(1,"label",97),d(2),s(),a(3,"input",98,21),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.percentFeeProcessFlowAmount,t)||(r.dataModel.percentFeeProcessFlowAmount=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.percentFeeProcessFlowAmount==null?null:e.fieldsInfo.percentFeeProcessFlowAmount.fieldTitle),o(),T("ngModel",e.dataModel.percentFeeProcessFlowAmount),C("disabled",!(e.fieldsInfo.percentFeeProcessFlowAmount!=null&&e.fieldsInfo.percentFeeProcessFlowAmount.accessEditField))}}function _p(n,l){if(n&1){let e=A();a(0,"div",41)(1,"label",99),d(2),s(),a(3,"input",100),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.perriodStartWorkTime,t)||(r.dataModel.perriodStartWorkTime=t),f(t)}),s(),g(4,"ngx-material-timepicker-toggle",62)(5,"ngx-material-timepicker",101,22),s()}if(n&2){let e=P(6),i=m();o(2),E(i.fieldsInfo.perriodStartWorkTime==null?null:i.fieldsInfo.perriodStartWorkTime.fieldTitle),o(),C("ngxTimepicker",e),T("ngModel",i.dataModel.perriodStartWorkTime),C("format",24),o(),C("for",e)}}function bp(n,l){if(n&1){let e=A();a(0,"div",41)(1,"label",102),d(2),s(),a(3,"input",103),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.perriodEndWorkTime,t)||(r.dataModel.perriodEndWorkTime=t),f(t)}),s(),g(4,"ngx-material-timepicker-toggle",62)(5,"ngx-material-timepicker",101,23),s()}if(n&2){let e=P(6),i=m();o(2),E(i.fieldsInfo.perriodEndWorkTime==null?null:i.fieldsInfo.perriodEndWorkTime.fieldTitle),o(),C("ngxTimepicker",e),T("ngModel",i.dataModel.perriodEndWorkTime),C("format",24),o(),C("for",e)}}function vp(n,l){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function Ip(n,l){if(n&1){let e=A();a(0,"div",46)(1,"button",104),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),d(2),S(3,"translate"),s(),a(4,"button",105),d(5),S(6,"translate"),s(),a(7,"button",106),d(8),S(9,"translate"),s()()}if(n&2){m();let e=P(13);o(2),M(" ",h(3,5,"ACTION.BACK")," "),o(2),C("disabled",!e.form.valid),o(),M(" ",h(6,7,"ACTION.NEXT")," "),o(2),C("disabled",!e.form.valid),o(),M(" ",h(9,9,"ACTION.SAVE")," ")}}function Ap(n,l){if(n&1){let e=A();a(0,"div",49)(1,"button",107),I("click",function(){u(e);let t=m();return f(t.onActionButtonGetToken())}),d(2),S(3,"translate"),s(),a(4,"button",107),I("click",function(){u(e);let t=m();return f(t.onActionButtonGetBalance())}),d(5),S(6,"translate"),s(),g(7,"br"),a(8,"button",104),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),d(9),S(10,"translate"),s(),a(11,"button",108),d(12),S(13,"translate"),s(),a(14,"button",105),d(15),S(16,"translate"),s(),a(17,"button",106),d(18),S(19,"translate"),s()()}if(n&2){m();let e=P(13);o(2),M(" ",h(3,8,"ACTION.CHECK_ROUTE_TOKEN")," "),o(3),M(" ",h(6,10,"ACTION.CHECK_ROUTE_BALANCE")," "),o(4),M(" ",h(10,12,"ACTION.BACK")," "),o(3),M(" ",h(13,14,"ACTION.BEFOR")," "),o(2),C("disabled",!e.form.valid),o(),M(" ",h(16,16,"ACTION.NEXT")," "),o(2),C("disabled",!e.form.valid),o(),M(" ",h(19,18,"ACTION.SAVE")," ")}}function Ep(n,l){if(n&1){let e=A();a(0,"div",50)(1,"div",109)(2,"h5",110),d(3),s()(),a(4,"div",111)(5,"div",112)(6,"input",113),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.apiSendMessageIsOn,t)||(r.dataModel.apiSendMessageIsOn=t),f(t)}),s(),g(7,"label",114),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.apiSendMessageIsOn==null?null:e.fieldsInfo.apiSendMessageIsOn.fieldTitle," "),o(3),T("ngModel",e.dataModel.apiSendMessageIsOn)}}function Tp(n,l){n&1&&(a(0,"mat-error"),d(1," apiSendMessageAddTextFirst is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function yp(n,l){n&1&&(a(0,"mat-error"),d(1," apiSendMessageAddTextEnd is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function wp(n,l){n&1&&(a(0,"mat-error"),d(1," sendMessageAddTextFirst is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function Pp(n,l){n&1&&(a(0,"mat-error"),d(1," sendMessageAddTextEnd is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function Rp(n,l){if(n&1){let e=A();a(0,"div",50)(1,"div",109)(2,"h5",115),d(3),s()(),a(4,"div",111)(5,"div",112)(6,"input",116),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.apiAbilitySendUnicodeMessage,t)||(r.dataModel.apiAbilitySendUnicodeMessage=t),f(t)}),s(),g(7,"label",117),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.apiAbilitySendUnicodeMessage==null?null:e.fieldsInfo.apiAbilitySendUnicodeMessage.fieldTitle," "),o(3),T("ngModel",e.dataModel.apiAbilitySendUnicodeMessage)}}function xp(n,l){if(n&1){let e=A();a(0,"div",50)(1,"div",109)(2,"h5",118),d(3),s()(),a(4,"div",111)(5,"div",112)(6,"input",119),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.apiAbilitySendNormalMessage,t)||(r.dataModel.apiAbilitySendNormalMessage=t),f(t)}),s(),g(7,"label",120),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.apiAbilitySendNormalMessage==null?null:e.fieldsInfo.apiAbilitySendNormalMessage.fieldTitle," "),o(3),T("ngModel",e.dataModel.apiAbilitySendNormalMessage)}}function Dp(n,l){if(n&1){let e=A();a(0,"div",50)(1,"div",109)(2,"h5",121),d(3),s()(),a(4,"div",111)(5,"div",112)(6,"input",122),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.apiAllowSupersede,t)||(r.dataModel.apiAllowSupersede=t),f(t)}),s(),g(7,"label",123),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.apiAllowSupersede==null?null:e.fieldsInfo.apiAllowSupersede.fieldTitle," "),o(3),T("ngModel",e.dataModel.apiAllowSupersede)}}function kp(n,l){if(n&1){let e=A();a(0,"div",50)(1,"div",109)(2,"h5",124),d(3),s()(),a(4,"div",111)(5,"div",112)(6,"input",125),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.apiAbilityUseWebservice,t)||(r.dataModel.apiAbilityUseWebservice=t),f(t)}),s(),g(7,"label",126),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.apiAbilityUseWebservice==null?null:e.fieldsInfo.apiAbilityUseWebservice.fieldTitle," "),o(3),T("ngModel",e.dataModel.apiAbilityUseWebservice)}}function Lp(n,l){if(n&1){let e=A();a(0,"div",50)(1,"div",109)(2,"h5",127),d(3),s()(),a(4,"div",111)(5,"div",112)(6,"input",128),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.apiAbilityUseInside,t)||(r.dataModel.apiAbilityUseInside=t),f(t)}),s(),g(7,"label",129),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.apiAbilityUseInside==null?null:e.fieldsInfo.apiAbilityUseInside.fieldTitle," "),o(3),T("ngModel",e.dataModel.apiAbilityUseInside)}}function Vp(n,l){if(n&1){let e=A();a(0,"div",50)(1,"div",109)(2,"h5",130),d(3),s()(),a(4,"div",111)(5,"div",112)(6,"input",131),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.apiAbilitySendByQueue,t)||(r.dataModel.apiAbilitySendByQueue=t),f(t)}),s(),g(7,"label",132),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.apiAbilitySendByQueue==null?null:e.fieldsInfo.apiAbilitySendByQueue.fieldTitle," "),o(3),T("ngModel",e.dataModel.apiAbilitySendByQueue)}}function Np(n,l){if(n&1){let e=A();a(0,"div",50)(1,"div",109)(2,"h5",133),d(3),s()(),a(4,"div",111)(5,"div",112)(6,"input",134),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.apiAbilitySendByDirect,t)||(r.dataModel.apiAbilitySendByDirect=t),f(t)}),s(),g(7,"label",135),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.apiAbilitySendByDirect==null?null:e.fieldsInfo.apiAbilitySendByDirect.fieldTitle," "),o(3),T("ngModel",e.dataModel.apiAbilitySendByDirect)}}function Bp(n,l){if(n&1){let e=A();a(0,"div",46)(1,"button",104),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),d(2),S(3,"translate"),s(),a(4,"button",108),d(5),S(6,"translate"),s(),a(7,"button",105),d(8),S(9,"translate"),s(),a(10,"button",106),d(11),S(12,"translate"),s()()}if(n&2){m();let e=P(13);o(2),M(" ",h(3,6,"ACTION.BACK")," "),o(3),M(" ",h(6,8,"ACTION.BEFOR")," "),o(2),C("disabled",!e.form.valid),o(),M(" ",h(9,10,"ACTION.NEXT")," "),o(2),C("disabled",!e.form.valid),o(),M(" ",h(12,12,"ACTION.SAVE")," ")}}function Fp(n,l){if(n&1){let e=A();a(0,"div",46)(1,"button",104),I("click",function(){u(e);let t=m(2);return f(t.onActionBackToParent())}),d(2),S(3,"translate"),s(),a(4,"button",108),d(5),S(6,"translate"),s(),a(7,"button",105),d(8),S(9,"translate"),s(),a(10,"button",106),d(11),S(12,"translate"),s()()}if(n&2){m(2);let e=P(13);o(2),M(" ",h(3,6,"ACTION.BACK")," "),o(3),M(" ",h(6,8,"ACTION.BEFOR")," "),o(2),C("disabled",!e.form.valid),o(),M(" ",h(9,10,"ACTION.NEXT")," "),o(2),C("disabled",!e.form.valid),o(),M(" ",h(12,12,"ACTION.SAVE")," ")}}function Op(n,l){if(n&1&&(a(0,"mat-step",47),S(1,"translate"),a(2,"p"),d(3),S(4,"translate"),s(),b(5,Fp,13,14,"div",46),s()),n&2){let e=m();C("label",k(h(1,4,"TITLE.Status_receiving_variables"))),o(3),E(h(4,6,"TITLE.Set_acess")),o(2),v(e.formInfo.submitButtonEnabled?5:-1)}}function Gp(n,l){if(n&1){let e=A();a(0,"div",50)(1,"div",109)(2,"h5",136),d(3),s()(),a(4,"div",111)(5,"div",112)(6,"input",137),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.serverDeliveryCostBase,t)||(r.dataModel.serverDeliveryCostBase=t),f(t)}),s(),g(7,"label",138),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.serverDeliveryCostBase==null?null:e.fieldsInfo.serverDeliveryCostBase.fieldTitle," "),o(3),T("ngModel",e.dataModel.serverDeliveryCostBase)}}function Hp(n,l){if(n&1){let e=A();a(0,"div",38)(1,"label",139),d(2),s(),a(3,"input",140,24),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.statusOutOfServiceMonitorApiChar,t)||(r.dataModel.statusOutOfServiceMonitorApiChar=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.statusOutOfServiceMonitorApiChar==null?null:e.fieldsInfo.statusOutOfServiceMonitorApiChar.fieldTitle),o(),T("ngModel",e.dataModel.statusOutOfServiceMonitorApiChar),C("disabled",!(e.fieldsInfo.statusOutOfServiceMonitorApiChar!=null&&e.fieldsInfo.statusOutOfServiceMonitorApiChar.accessEditField))}}function Wp(n,l){if(n&1){let e=A();a(0,"div",50)(1,"div",109)(2,"h5",141),d(3),s()(),a(4,"div",111)(5,"div",112)(6,"input",142),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.statusOutOfServiceActive,t)||(r.dataModel.statusOutOfServiceActive=t),f(t)}),s(),g(7,"label",143),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.statusOutOfServiceActive==null?null:e.fieldsInfo.statusOutOfServiceActive.fieldTitle," "),o(3),T("ngModel",e.dataModel.statusOutOfServiceActive)}}function Up(n,l){if(n&1){let e=A();a(0,"div",38)(1,"label",144),d(2),s(),a(3,"input",145,25),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.statusNotStableMonitorApiChar,t)||(r.dataModel.statusNotStableMonitorApiChar=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.statusNotStableMonitorApiChar==null?null:e.fieldsInfo.statusNotStableMonitorApiChar.fieldTitle),o(),T("ngModel",e.dataModel.statusNotStableMonitorApiChar),C("disabled",!(e.fieldsInfo.statusNotStableMonitorApiChar!=null&&e.fieldsInfo.statusNotStableMonitorApiChar.accessEditField))}}function qp(n,l){if(n&1){let e=A();a(0,"div",50)(1,"div",109)(2,"h5",146),d(3),s()(),a(4,"div",111)(5,"div",112)(6,"input",147),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.statusNotStableActive,t)||(r.dataModel.statusNotStableActive=t),f(t)}),s(),g(7,"label",148),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.apiAbilityUseInside==null?null:e.fieldsInfo.apiAbilityUseInside.fieldTitle," "),o(3),T("ngModel",e.dataModel.statusNotStableActive)}}function jp(n,l){if(n&1){let e=A();a(0,"div",38)(1,"label",149),d(2),s(),a(3,"input",150,26),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.statusNotStableCount,t)||(r.dataModel.statusNotStableCount=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.statusNotStableCount==null?null:e.fieldsInfo.statusNotStableCount.fieldTitle),o(),T("ngModel",e.dataModel.statusNotStableCount),C("disabled",!(e.fieldsInfo.statusNotStableCount!=null&&e.fieldsInfo.statusNotStableCount.accessEditField))}}function Qp(n,l){if(n&1){let e=A();a(0,"div",38)(1,"label",151),d(2),s(),a(3,"input",152,27),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.statusNotStableCountLimit,t)||(r.dataModel.statusNotStableCountLimit=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.statusNotStableCountLimit==null?null:e.fieldsInfo.statusNotStableCountLimit.fieldTitle),o(),T("ngModel",e.dataModel.statusNotStableCountLimit),C("disabled",!(e.fieldsInfo.statusNotStableCountLimit!=null&&e.fieldsInfo.statusNotStableCountLimit.accessEditField))}}function Xp(n,l){if(n&1){let e=A();a(0,"div",38)(1,"label",153),d(2),s(),a(3,"input",154,28),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.statusNotStableRunForMin,t)||(r.dataModel.statusNotStableRunForMin=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.statusNotStableRunForMin==null?null:e.fieldsInfo.statusNotStableRunForMin.fieldTitle),o(),T("ngModel",e.dataModel.statusNotStableRunForMin),C("disabled",!(e.fieldsInfo.statusNotStableRunForMin!=null&&e.fieldsInfo.statusNotStableRunForMin.accessEditField))}}function zp(n,l){if(n&1){let e=A();a(0,"div",46)(1,"button",104),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),d(2),S(3,"translate"),s(),a(4,"button",108),d(5),S(6,"translate"),s(),a(7,"button",105),d(8),S(9,"translate"),s(),a(10,"button",106),d(11),S(12,"translate"),s()()}if(n&2){m();let e=P(13);o(2),M(" ",h(3,6,"ACTION.BACK")," "),o(3),M(" ",h(6,8,"ACTION.BEFOR")," "),o(2),C("disabled",!e.form.valid),o(),M(" ",h(9,10,"ACTION.NEXT")," "),o(2),C("disabled",!e.form.valid),o(),M(" ",h(12,12,"ACTION.SAVE")," ")}}function Yp(n,l){if(n&1){let e=A();a(0,"div",46)(1,"button",104),I("click",function(){u(e);let t=m(2);return f(t.onActionBackToParent())}),d(2),S(3,"translate"),s(),a(4,"button",108),d(5),S(6,"translate"),s(),a(7,"button",105),d(8),S(9,"translate"),s(),a(10,"button",106),d(11),S(12,"translate"),s()()}if(n&2){m(2);let e=P(13);o(2),M(" ",h(3,6,"ACTION.BACK")," "),o(3),M(" ",h(6,8,"ACTION.BEFOR")," "),o(2),C("disabled",!e.form.valid),o(),M(" ",h(9,10,"ACTION.NEXT")," "),o(2),C("disabled",!e.form.valid),o(),M(" ",h(12,12,"ACTION.SAVE")," ")}}function Kp(n,l){if(n&1&&(a(0,"mat-step",47),S(1,"translate"),b(2,Yp,13,14,"div",46),s()),n&2){let e=m();C("label",k(h(1,3,"TITLE.Receiving_variables"))),o(2),v(e.formInfo.submitButtonEnabled?2:-1)}}function Jp(n,l){if(n&1){let e=A();a(0,"div",46)(1,"button",104),I("click",function(){u(e);let t=m(2);return f(t.onActionBackToParent())}),d(2),S(3,"translate"),s(),a(4,"button",108),d(5),S(6,"translate"),s(),a(7,"button",105),d(8),S(9,"translate"),s(),a(10,"button",107),I("click",function(){u(e);let t=m(2);return f(t.onActionButtonGetToken())}),d(11),S(12,"translate"),s(),a(13,"button",107),I("click",function(){u(e);let t=m(2);return f(t.onActionButtonGetBalance())}),d(14),S(15,"translate"),s(),a(16,"button",106),d(17),S(18,"translate"),s()()}if(n&2){m(2);let e=P(13);o(2),M(" ",h(3,8,"ACTION.BACK")," "),o(3),M(" ",h(6,10,"ACTION.BEFOR")," "),o(2),C("disabled",!e.form.valid),o(),M(" ",h(9,12,"ACTION.NEXT")," "),o(3),M(" ",h(12,14,"ACTION.CHECK_ROUTE_TOKEN")," "),o(3),M(" ",h(15,16,"ACTION.CHECK_ROUTE_BALANCE")," "),o(2),C("disabled",!e.form.valid),o(),M(" ",h(18,18,"ACTION.SAVE")," ")}}function Zp(n,l){if(n&1&&(a(0,"mat-step",47),S(1,"translate"),b(2,Jp,19,20,"div",46),s()),n&2){let e=m();C("label",k(h(1,3,"TITLE.Check_validity"))),o(2),v(e.formInfo.submitButtonEnabled?2:-1)}}function $p(n,l){if(n&1){let e=A();a(0,"div",46)(1,"button",104),I("click",function(){u(e);let t=m(2);return f(t.onActionBackToParent())}),d(2),S(3,"translate"),s(),a(4,"button",108),d(5),S(6,"translate"),s(),a(7,"button",105),d(8),S(9,"translate"),s(),a(10,"button",106),d(11),S(12,"translate"),s()()}if(n&2){m(2);let e=P(13);o(2),M(" ",h(3,6,"ACTION.BACK")," "),o(3),M(" ",h(6,8,"ACTION.BEFOR")," "),o(2),C("disabled",!e.form.valid),o(),M(" ",h(9,10,"ACTION.NEXT")," "),o(2),C("disabled",!e.form.valid),o(),M(" ",h(12,12,"ACTION.SAVE")," ")}}function eu(n,l){if(n&1&&(a(0,"mat-step",47),S(1,"translate"),b(2,$p,13,14,"div",46),s()),n&2){let e=m();C("label",Wt(" ",h(1,3,"TITLE.Variables_for_sending_voice_messagesy"))),o(2),v(e.formInfo.submitButtonEnabled?2:-1)}}function tu(n,l){if(n&1){let e=A();a(0,"div",46)(1,"button",104),I("click",function(){u(e);let t=m(2);return f(t.onActionBackToParent())}),d(2),S(3,"translate"),s(),a(4,"button",108),d(5),S(6,"translate"),s(),a(7,"button",106),d(8),S(9,"translate"),s()()}if(n&2){m(2);let e=P(13);o(2),M(" ",h(3,4,"ACTION.BACK")," "),o(3),M(" ",h(6,6,"ACTION.BEFOR")," "),o(2),C("disabled",!e.form.valid),o(),M(" ",h(9,8,"ACTION.SAVE")," ")}}function iu(n,l){if(n&1&&(a(0,"mat-step",47),S(1,"translate"),b(2,tu,10,10,"div",46),s()),n&2){let e=m();C("label",k(h(1,3,"TITLE.Error_variables"))),o(2),v(e.formInfo.submitButtonEnabled?2:-1)}}function nu(n,l){n&1&&(a(0,"mat-icon"),d(1,"call_end"),s())}function ou(n,l){n&1&&(a(0,"mat-icon"),d(1,"call_end"),s())}function au(n,l){n&1&&(a(0,"mat-icon"),d(1,"forum"),s())}function ru(n,l){n&1&&(a(0,"mat-icon"),d(1,"forum"),s())}var So=class So extends ht{constructor(e,i,t,r,p,c,D,H){super(i,new bt,r,H);this.coreEnumService=e;this.smsMainApiPathService=i;this.cmsToastrService=t;this.publicHelper=r;this.router=p;this.cdr=c;this.activatedRoute=D;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.complatedView=!1;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ut;this.dataModel=new ur;this.formInfo=new Me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.router.navigate(["/sms/main/api-path/list"]);return}}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathService.setAccessLoad(),this.smsMainApiPathService.setAccessDataType(at.Editor),this.smsMainApiPathService.ServiceGetOneWithJsonFormatter(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.item.perriodStartWorkTime?i.item.perriodStartWorkTime=i.item.perriodStartWorkTime.substring(0,i.item.perriodStartWorkTime.indexOf(":",i.item.perriodStartWorkTime.indexOf(":")+1)):i.item.perriodStartWorkTime="",i.item.perriodEndWorkTime?i.item.perriodEndWorkTime=i.item.perriodEndWorkTime.substring(0,i.item.perriodEndWorkTime.indexOf(":",i.item.perriodEndWorkTime.indexOf(":")+1)):i.item.perriodEndWorkTime="",this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonGetToken(){let e=this.constructor.name+"GetToken";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathService.ServiceGetToken(this.requestId).subscribe({next:i=>{i.isSuccess?(this.cmsToastrService.typeSuccessMessage(i.item.info+" "+i.item.status+" "),setTimeout(()=>this.DataGetOneContent(),2e3)):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonGetBalance(){let e=this.constructor.name+"GetBalance";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathService.ServiceGetBalance(this.requestId).subscribe({next:i=>{i.isSuccess?this.cmsToastrService.typeSuccessMessage(i.item.info+" "+i.item.status+" "+i.item.credit):this.cmsToastrService.typeErrorMessage(i.errorMessage+i.item.info+" "+i.item.status),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectLinkApiPathCompanyId(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.Information_application_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkApiPathCompanyId=e.id}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/sms/main/api-path/list"])}onActionSelectSource(e){this.dataModel.linkPublicConfigId=null,e&&e.id?.length>0&&(this.dataModel.linkPublicConfigId=e.id)}onFormSubmit(){if(this.formGroup.valid){if(!this.dataModel.linkApiPathCompanyId||this.dataModel.linkApiPathCompanyId.length==0){this.translate.get("MESSAGE.Service_company_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}if(!this.dataModel.linkPublicConfigId||this.dataModel.linkPublicConfigId.length==0){this.translate.get("MESSAGE.Service_type_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.formInfo.submitButtonEnabled=!1,this.DataEditContent()}}onFormCancel(){this.router.navigate(["/sms/main/api-path/list"])}};So.\u0275fac=function(i){return new(i||So)(_(Re),_(ft),_(O),_(G),_(Le),_(F),_(ze),_(B))},So.\u0275cmp=N({type:So,selectors:[["app-sms-apipath-edit"]],viewQuery:function(i,t){if(i&1&&pe(ip,5),i&2){let r;ue(r=fe())&&(t.formGroup=r.first)}},standalone:!1,features:[K],decls:140,vars:126,consts:[["vform","ngForm"],["stepper",""],["Description",""],["apiSendMessageAddTextFirst",""],["apiSendMessageAddTextEnd",""],["sendMessageAddTextFirst",""],["sendMessageAddTextEnd",""],["StatusOutOfServiceExpire",""],["StatusNotStableExpire",""],["Title",""],["ApiIdentity",""],["ApiMinPathNeedToCheck",""],["ApiReceiveKey",""],["hookAddressReceiveMessageAPIById",""],["hookAddressReceiveDeliveryStatusAPIById",""],["ApiAbilityLengthMinToSend",""],["ApiAbilityLengthMaxToSend",""],["Priority",""],["MaxProcessFlowAmount",""],["MinProcessFlowAmount",""],["FixFeeProcessFlowAmount",""],["PercentFeeProcessFlowAmount",""],["PerriodStartWorkTime",""],["PerriodEndWorkTime",""],["StatusOutOfServiceMonitorApiChar",""],["StatusNotStableMonitorApiChar",""],["StatusNotStableCount",""],["StatusNotStableCountLimit",""],["StatusNotStableRunForMin",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["state","seo",3,"label"],[3,"jsonValueChange","formGroup","jsonValue","propertiesInfos"],[1,"ntk-button-row"],[1,"d-flex","mb-3"],["for","dataModel.apiSendMessageAddTextFirst",1,"color-highlight"],["matInput","","name","dataModel.apiSendMessageAddTextFirst","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.apiSendMessageAddTextFirst",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.apiSendMessageAddTextEnd",1,"color-highlight"],["matInput","","name","dataModel.apiSendMessageAddTextEnd","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.apiSendMessageAddTextEnd",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.sendMessageAddTextFirst",1,"color-highlight"],["matInput","","name","dataModel.sendMessageAddTextFirst","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.sendMessageAddTextFirst",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.sendMessageAddTextEnd",1,"color-highlight"],["matInput","","name","dataModel.sendMessageAddTextEnd","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.sendMessageAddTextEnd",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"divider","mt-3","mb-3"],["for","dataModel.statusOutOfServiceExpire",1,"color-highlight"],["matInput","","name","dataModel.statusOutOfServiceExpire","type","text","id","dataModel.statusOutOfServiceExpire",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.statusNotStableExpire",1,"color-highlight"],["matInput","","name","dataModel.statusNotStableExpire","type","text","id","dataModel.statusNotStableExpire",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.apiIdentity",1,"color-highlight"],["matInput","","name","dataModel.apiIdentity","type","number","placeholder","1","id","dataModel.apiIdentity",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.apiMinPathNeedToCheck",1,"color-highlight"],["matInput","","name","dataModel.apiMinPathNeedToCheck","type","number","placeholder","1","id","dataModel.apiMinPathNeedToCheck",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.apiReceiveKey",1,"color-highlight"],["matInput","","name","dataModel.apiReceiveKey","type","text","placeholder","1","id","dataModel.apiReceiveKey",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.hookAddressReceiveMessageAPIById",1,"color-highlight"],["matInput","","name","dataModel.hookAddressReceiveMessageAPIById","placeholder","https://","type","text","readonly","","placeholder","1","id","dataModel.hookAddressReceiveMessageAPIById",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel"],["for","dataModel.hookAddressReceiveDeliveryStatusAPIById",1,"color-highlight"],["matInput","","name","dataModel.hookAddressReceiveDeliveryStatusAPIById","placeholder","https://","type","text","readonly","","placeholder","1","id","dataModel.hookAddressReceiveDeliveryStatusAPIById",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel"],["for","dataModel.apiAbilityLengthMinToSend",1,"color-highlight"],["matInput","","name","dataModel.apiAbilityLengthMinToSend","type","number","placeholder","1","id","dataModel.apiAbilityLengthMinToSend",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.apiAbilityLengthMaxToSend",1,"color-highlight"],["matInput","","name","dataModel.apiAbilityLengthMaxToSend","type","number","placeholder","1","id","dataModel.apiAbilityLengthMaxToSend",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.priority",1,"color-highlight"],["matInput","","name","dataModel.priority","type","number","placeholder","1","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.maxProcessFlowAmount",1,"color-highlight"],["matInput","","name","dataModel.maxProcessFlowAmount","type","number","placeholder","1","id","dataModel.maxProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.minProcessFlowAmount",1,"color-highlight"],["matInput","","name","dataModel.minProcessFlowAmount","type","number","placeholder","Min Transaction Amount","id","dataModel.minProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.fixFeeProcessFlowAmount",1,"color-highlight"],["matInput","","name","dataModel.fixFeeProcessFlowAmount","type","number","placeholder","Max Transaction Amount","id","dataModel.fixFeeProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.percentFeeProcessFlowAmount",1,"color-highlight"],["matInput","","name","dataModel.percentFeeProcessFlowAmount","type","number","placeholder","Percent Fee Transaction Amount","id","dataModel.percentFeeProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.perriodStartWorkTime",1,"color-highlight"],["matInput","","name","dataModel.perriodStartWorkTime","id","dataModel.perriodStartWorkTime",1,"form-control","validate-name",3,"ngModelChange","ngxTimepicker","ngModel","format"],["touchUi","",1,"timepicker"],["for","dataModel.perriodEndWorkTime",1,"color-highlight"],["matInput","","name","dataModel.perriodEndWorkTime","type","number","id","dataModel.perriodEndWorkTime",1,"form-control","validate-name",3,"ngModelChange","ngxTimepicker","ngModel","format"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-yellow",3,"click"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],[1,"pt-1"],["data-trigger-switch","dataModel.apiSendMessageIsOn",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.apiSendMessageIsOn","name","dataModel.apiSendMessageIsOn",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiSendMessageIsOn",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAbilitySendUnicodeMessage",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAbilitySendUnicodeMessage","name","dataModel.apiAbilitySendUnicodeMessage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAbilitySendUnicodeMessage",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAbilitySendNormalMessage",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAbilitySendNormalMessage","name","dataModel.apiAbilitySendNormalMessage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAbilitySendNormalMessage",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAllowSupersede",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAllowSupersede","name","dataModel.apiAllowSupersede",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAllowSupersede",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAbilityUseWebservice",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAbilityUseWebservice","name","dataModel.apiAbilityUseWebservice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAbilityUseWebservice",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAbilityUseInside",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAbilityUseInside","name","dataModel.apiAbilityUseInside",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAbilityUseInside",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAbilitySendByQueue",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAbilitySendByQueue","name","dataModel.apiAbilitySendByQueue",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAbilitySendByQueue",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAbilitySendByDirect",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAbilitySendByDirect","name","dataModel.apiAbilitySendByDirect",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAbilitySendByDirect",1,"custom-control-label"],["data-trigger-switch","dataModel.serverDeliveryCostBase",1,"font-600","font-14"],["type","checkbox","id","dataModel.serverDeliveryCostBase","name","dataModel.serverDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.serverDeliveryCostBase",1,"custom-control-label"],["for","dataModel.statusOutOfServiceMonitorApiChar",1,"color-highlight"],["matInput","","name","dataModel.statusOutOfServiceMonitorApiChar","type","number","placeholder","1","id","dataModel.statusOutOfServiceMonitorApiChar",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","dataModel.statusOutOfServiceActive",1,"font-600","font-14"],["type","checkbox","id","dataModel.statusOutOfServiceActive","name","dataModel.statusOutOfServiceActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.statusOutOfServiceActive",1,"custom-control-label"],["for","dataModel.statusNotStableMonitorApiChar",1,"color-highlight"],["matInput","","name","dataModel.statusNotStableMonitorApiChar","type","number","placeholder","1","id","dataModel.statusNotStableMonitorApiChar",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","dataModel.statusNotStableActive",1,"font-600","font-14"],["type","checkbox","id","dataModel.statusNotStableActive","name","dataModel.statusNotStableActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.statusNotStableActive",1,"custom-control-label"],["for","dataModel.statusNotStableCount",1,"color-highlight"],["matInput","","name","dataModel.statusNotStableCount","type","number","placeholder","1","id","dataModel.statusNotStableCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.statusNotStableCountLimit",1,"color-highlight"],["matInput","","name","dataModel.statusNotStableCountLimit","type","number","placeholder","1","id","dataModel.statusNotStableCountLimit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.statusNotStableRunForMin",1,"color-highlight"],["matInput","","name","dataModel.statusNotStableRunForMin","type","number","placeholder","1","id","dataModel.statusNotStableRunForMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"]],template:function(i,t){if(i&1){let r=A();a(0,"div",29),g(1,"app-progress-spinner",30),a(2,"div",31)(3,"p",32),d(4),s(),a(5,"h4"),d(6),S(7,"translate"),s(),a(8,"p"),d(9),S(10,"translate"),s(),g(11,"app-cms-form-result-message",33),a(12,"form",34,0),I("ngSubmit",function(){return u(r),f(t.onFormSubmit())}),a(14,"mat-vertical-stepper",35,1),I("selectionChange",function(c){u(r);let D=P(15);return f(t.onStepClick(c,D))}),a(16,"mat-step",36),S(17,"translate"),b(18,np,1,5,"app-cms-enum-record-status-selector",37),b(19,sp,10,9,"div",38),a(20,"app-sms-publicconfig-selector",39),S(21,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectSource(c))}),s(),a(22,"app-sms-apipathcompany-selector",40),S(23,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorSelectLinkApiPathCompanyId(c))}),s(),b(24,lp,5,3,"div",38),b(25,cp,5,3,"div",38),b(26,dp,5,3,"div",38),b(27,mp,5,2,"div",38),b(28,pp,5,2,"div",38),b(29,up,5,3,"div",38),b(30,fp,5,3,"div",38),b(31,Sp,5,3,"div",38),b(32,hp,5,3,"div",38),b(33,gp,5,3,"div",38),b(34,Cp,5,3,"div",38),b(35,Mp,5,3,"div",38),b(36,_p,7,5,"div",41),b(37,bp,7,5,"div",41),a(38,"div",38)(39,"label",42),d(40),s(),a(41,"textarea",43,2),w("ngModelChange",function(c){return u(r),y(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),s(),a(43,"em"),d(44),s(),b(45,vp,5,3,"mat-error"),s(),a(46,"div",38)(47,"label",44),d(48),s(),a(49,"textarea",45),w("ngModelChange",function(c){return u(r),y(t.dataModel.memo,c)||(t.dataModel.memo=c),f(c)}),d(50,"                                                              "),s()(),b(51,Ip,10,11,"div",46),s(),a(52,"mat-step",47),S(53,"translate"),a(54,"p"),d(55),S(56,"translate"),s(),a(57,"dynamic-form-builder-cms",48),w("jsonValueChange",function(c){return u(r),y(t.dataModel.privateConfigJsonValues,c)||(t.dataModel.privateConfigJsonValues=c),f(c)}),s(),b(58,Ap,20,20,"div",49),s(),a(59,"mat-step",47),S(60,"translate"),a(61,"p"),d(62),S(63,"translate"),s(),b(64,Ep,8,2,"div",50),a(65,"div",38)(66,"label",51),d(67),s(),a(68,"textarea",52,3),w("ngModelChange",function(c){return u(r),y(t.dataModel.apiSendMessageAddTextFirst,c)||(t.dataModel.apiSendMessageAddTextFirst=c),f(c)}),s(),a(70,"em"),d(71),s(),b(72,Tp,5,3,"mat-error"),s(),a(73,"div",38)(74,"label",53),d(75),s(),a(76,"textarea",54,4),w("ngModelChange",function(c){return u(r),y(t.dataModel.apiSendMessageAddTextEnd,c)||(t.dataModel.apiSendMessageAddTextEnd=c),f(c)}),s(),a(78,"em"),d(79),s(),b(80,yp,5,3,"mat-error"),s(),a(81,"div",38)(82,"label",55),d(83),s(),a(84,"textarea",56,5),w("ngModelChange",function(c){return u(r),y(t.dataModel.sendMessageAddTextFirst,c)||(t.dataModel.sendMessageAddTextFirst=c),f(c)}),s(),a(86,"em"),d(87),s(),b(88,wp,5,3,"mat-error"),s(),a(89,"div",38)(90,"label",57),d(91),s(),a(92,"textarea",58,6),w("ngModelChange",function(c){return u(r),y(t.dataModel.sendMessageAddTextEnd,c)||(t.dataModel.sendMessageAddTextEnd=c),f(c)}),s(),a(94,"em"),d(95),s(),b(96,Pp,5,3,"mat-error"),s(),b(97,Rp,8,2,"div",50),b(98,xp,8,2,"div",50),b(99,Dp,8,2,"div",50),b(100,kp,8,2,"div",50),b(101,Lp,8,2,"div",50),b(102,Vp,8,2,"div",50),b(103,Np,8,2,"div",50),b(104,Bp,13,14,"div",46),s(),b(105,Op,6,8,"mat-step",47),a(106,"mat-step",47),S(107,"translate"),b(108,Gp,8,2,"div",50),g(109,"div",59),b(110,Hp,5,3,"div",38),b(111,Wp,8,2,"div",50),a(112,"div",41)(113,"label",60),d(114),s(),a(115,"input",61),w("ngModelChange",function(c){return u(r),y(t.dataModel.statusOutOfServiceExpire,c)||(t.dataModel.statusOutOfServiceExpire=c),f(c)}),s(),g(116,"mat-datepicker-toggle",62)(117,"mat-datepicker",63,7),s(),b(119,Up,5,3,"div",38),b(120,qp,8,2,"div",50),a(121,"div",41)(122,"label",64),d(123),s(),a(124,"input",65),w("ngModelChange",function(c){return u(r),y(t.dataModel.statusNotStableExpire,c)||(t.dataModel.statusNotStableExpire=c),f(c)}),s(),g(125,"mat-datepicker-toggle",62)(126,"mat-datepicker",63,8),s(),b(128,jp,5,3,"div",38),b(129,Qp,5,3,"div",38),b(130,Xp,5,3,"div",38),b(131,zp,13,14,"div",46),s(),b(132,Kp,3,5,"mat-step",47),b(133,Zp,3,5,"mat-step",47),b(134,eu,3,5,"mat-step",47),b(135,iu,3,5,"mat-step",47),L(136,nu,2,0,"ng-template",66)(137,ou,2,0,"ng-template",67)(138,au,2,0,"ng-template",68)(139,ru,2,0,"ng-template",69),s()()()()}if(i&2){let r=P(13),p=P(42),c=P(69),D=P(77),H=P(85),Ke=P(93),nt=P(118),Qe=P(127);o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),E(h(7,106,"TITLE.ROUTE_SETTINGS")),o(3),M(" ",h(10,108,"TITLE.ROUTE_SETTINGS_DESCRIPTION")," "),o(2),C("formInfo",t.formInfo),o(5),C("label",k(h(17,110,"TITLE.REQUIRED_INFORMATION"))),o(2),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?18:-1),o(),v(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?19:-1),o(),C("optionDisabled",!(t.fieldsInfo.linkPublicConfigId!=null&&t.fieldsInfo.linkPublicConfigId.accessEditField))("optionSelectForce",t.dataModel.linkPublicConfigId)("optionPlaceholder",h(21,112,"TITLE.Route_Type")),o(2),C("optionSelectForce",t.dataModel.linkApiPathCompanyId)("optionPlaceholder",h(23,114,"TITLE.Service_Company")),o(2),v(t.fieldsInfo.apiIdentity!=null&&t.fieldsInfo.apiIdentity.accessWatchField?24:-1),o(),v(t.fieldsInfo.apiMinPathNeedToCheck!=null&&t.fieldsInfo.apiMinPathNeedToCheck.accessWatchField?25:-1),o(),v(t.fieldsInfo.apiReceiveKey!=null&&t.fieldsInfo.apiReceiveKey.accessWatchField?26:-1),o(),v(t.fieldsInfo.hookAddressReceiveMessageAPIById!=null&&t.fieldsInfo.hookAddressReceiveMessageAPIById.accessWatchField?27:-1),o(),v(t.fieldsInfo.hookAddressReceiveDeliveryStatusAPIById!=null&&t.fieldsInfo.hookAddressReceiveDeliveryStatusAPIById.accessWatchField?28:-1),o(),v(t.fieldsInfo.apiAbilityLengthMinToSend!=null&&t.fieldsInfo.apiAbilityLengthMinToSend.accessWatchField?29:-1),o(),v(t.fieldsInfo.apiAbilityLengthMaxToSend!=null&&t.fieldsInfo.apiAbilityLengthMaxToSend.accessWatchField?30:-1),o(),v(t.fieldsInfo.priority!=null&&t.fieldsInfo.priority.accessWatchField?31:-1),o(),v(t.fieldsInfo.maxProcessFlowAmount!=null&&t.fieldsInfo.maxProcessFlowAmount.accessWatchField?32:-1),o(),v(t.fieldsInfo.minProcessFlowAmount!=null&&t.fieldsInfo.minProcessFlowAmount.accessWatchField?33:-1),o(),v(t.fieldsInfo.fixFeeProcessFlowAmount!=null&&t.fieldsInfo.fixFeeProcessFlowAmount.accessWatchField?34:-1),o(),v(t.fieldsInfo.percentFeeProcessFlowAmount!=null&&t.fieldsInfo.percentFeeProcessFlowAmount.accessWatchField?35:-1),o(),v(t.fieldsInfo.perriodStartWorkTime!=null&&t.fieldsInfo.perriodStartWorkTime.accessWatchField?36:-1),o(),v(t.fieldsInfo.perriodEndWorkTime!=null&&t.fieldsInfo.perriodEndWorkTime.accessWatchField?37:-1),o(3),E(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),C("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),o(3),M("",p.value.length," / 500"),o(),v(p.errors!=null&&p.errors.required?45:-1),o(3),E(t.fieldsInfo.memo==null?null:t.fieldsInfo.memo.fieldTitle),o(),C("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.memo),o(2),v(t.formInfo.submitButtonEnabled?51:-1),o(),C("label",k(h(53,116,"TITLE.Dispatch_variables"))),o(3),E(h(56,118,"TITLE.Port_settings")),o(2),C("formGroup",r.form),T("jsonValue",t.dataModel.privateConfigJsonValues),C("propertiesInfos",t.dataModel.privateConfigJsonFormatter),o(),v(t.formInfo.submitButtonEnabled?58:-1),o(),C("label",k(h(60,120,"TITLE.Api_path_send_variables"))),o(3),E(h(63,122,"TITLE.Set_acess")),o(2),v(t.fieldsInfo.apiSendMessageIsOn!=null&&t.fieldsInfo.apiSendMessageIsOn.accessWatchField?64:-1),o(3),E(t.fieldsInfo.apiSendMessageAddTextFirst==null?null:t.fieldsInfo.apiSendMessageAddTextFirst.fieldTitle),o(),C("placeholder",k(t.fieldsInfo.apiSendMessageAddTextFirst==null?null:t.fieldsInfo.apiSendMessageAddTextFirst.fieldTitle)),T("ngModel",t.dataModel.apiSendMessageAddTextFirst),o(3),M("",c.value.length," / 500"),o(),v(c.errors!=null&&c.errors.required?72:-1),o(3),E(t.fieldsInfo.apiSendMessageAddTextEnd==null?null:t.fieldsInfo.apiSendMessageAddTextEnd.fieldTitle),o(),C("placeholder",k(t.fieldsInfo.apiSendMessageAddTextEnd==null?null:t.fieldsInfo.apiSendMessageAddTextEnd.fieldTitle)),T("ngModel",t.dataModel.apiSendMessageAddTextEnd),o(3),M("",D.value.length," / 500"),o(),v(D.errors!=null&&D.errors.required?80:-1),o(3),E(t.fieldsInfo.sendMessageAddTextFirst==null?null:t.fieldsInfo.sendMessageAddTextFirst.fieldTitle),o(),C("placeholder",k(t.fieldsInfo.sendMessageAddTextFirst==null?null:t.fieldsInfo.sendMessageAddTextFirst.fieldTitle)),T("ngModel",t.dataModel.sendMessageAddTextFirst),o(3),M("",H.value.length," / 500"),o(),v(H.errors!=null&&H.errors.required?88:-1),o(3),E(t.fieldsInfo.sendMessageAddTextEnd==null?null:t.fieldsInfo.sendMessageAddTextEnd.fieldTitle),o(),C("placeholder",k(t.fieldsInfo.sendMessageAddTextEnd==null?null:t.fieldsInfo.sendMessageAddTextEnd.fieldTitle)),T("ngModel",t.dataModel.sendMessageAddTextEnd),o(3),M("",Ke.value.length," / 500"),o(),v(Ke.errors!=null&&Ke.errors.required?96:-1),o(),v(t.fieldsInfo.apiAbilitySendUnicodeMessage!=null&&t.fieldsInfo.apiAbilitySendUnicodeMessage.accessWatchField?97:-1),o(),v(t.fieldsInfo.apiAbilitySendNormalMessage!=null&&t.fieldsInfo.apiAbilitySendNormalMessage.accessWatchField?98:-1),o(),v(t.fieldsInfo.apiAllowSupersede!=null&&t.fieldsInfo.apiAllowSupersede.accessWatchField?99:-1),o(),v(t.fieldsInfo.apiAbilityUseWebservice!=null&&t.fieldsInfo.apiAbilityUseWebservice.accessWatchField?100:-1),o(),v(t.fieldsInfo.apiAbilityUseInside!=null&&t.fieldsInfo.apiAbilityUseInside.accessWatchField?101:-1),o(),v(t.fieldsInfo.apiAbilitySendByQueue!=null&&t.fieldsInfo.apiAbilitySendByQueue.accessWatchField?102:-1),o(),v(t.fieldsInfo.apiAbilitySendByDirect!=null&&t.fieldsInfo.apiAbilitySendByDirect.accessWatchField?103:-1),o(),v(t.formInfo.submitButtonEnabled?104:-1),o(),v(t.complatedView?105:-1),o(),C("label",k(h(107,124,"TITLE.Credit_return_status"))),o(2),v(t.fieldsInfo.serverDeliveryCostBase!=null&&t.fieldsInfo.serverDeliveryCostBase.accessWatchField?108:-1),o(2),v(t.fieldsInfo.statusOutOfServiceMonitorApiChar!=null&&t.fieldsInfo.statusOutOfServiceMonitorApiChar.accessWatchField?110:-1),o(),v(t.fieldsInfo.statusOutOfServiceActive!=null&&t.fieldsInfo.statusOutOfServiceActive.accessWatchField?111:-1),o(3),E(t.fieldsInfo.statusOutOfServiceExpire==null?null:t.fieldsInfo.statusOutOfServiceExpire.fieldTitle),o(),C("matDatepicker",nt),T("ngModel",t.dataModel.statusOutOfServiceExpire),o(),C("for",nt),o(3),v(t.fieldsInfo.statusNotStableMonitorApiChar!=null&&t.fieldsInfo.statusNotStableMonitorApiChar.accessWatchField?119:-1),o(),v(t.fieldsInfo.apiAbilityUseInside!=null&&t.fieldsInfo.apiAbilityUseInside.accessWatchField?120:-1),o(3),E(t.fieldsInfo.statusNotStableExpire==null?null:t.fieldsInfo.statusNotStableExpire.fieldTitle),o(),C("matDatepicker",Qe),T("ngModel",t.dataModel.statusNotStableExpire),o(),C("for",Qe),o(3),v(t.fieldsInfo.statusNotStableCount!=null&&t.fieldsInfo.statusNotStableCount.accessWatchField?128:-1),o(),v(t.fieldsInfo.statusNotStableCountLimit!=null&&t.fieldsInfo.statusNotStableCountLimit.accessWatchField?129:-1),o(),v(t.fieldsInfo.statusNotStableRunForMin!=null&&t.fieldsInfo.statusNotStableRunForMin.accessWatchField?130:-1),o(),v(t.formInfo.submitButtonEnabled?131:-1),o(),v(t.complatedView?132:-1),o(),v(t.complatedView?133:-1),o(),v(t.complatedView?134:-1),o(),v(t.complatedView?135:-1)}},dependencies:[ve,te,di,et,ie,_e,Ie,Ue,qe,Se,be,Ia,ei,ti,ii,xe,$t,Xe,ne,vr,Ir,Ar,Er,br,De,z,Te,Lr,mi,Va,yr,wr,Pr,uo,fo,U],encapsulation:2});var ho=So;var su=["vform"];function lu(n,l){if(n&1){let e=A();a(0,"app-cms-enum-record-status-selector",26),w("modelChange",function(t){u(e);let r=m();return y(r.dataModel.recordStatus,t)||(r.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();T("model",e.dataModel.recordStatus),C("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function cu(n,l){n&1&&g(0,"i",17)}function du(n,l){n&1&&g(0,"i",18)}function mu(n,l){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function pu(n,l){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function uu(n,l){if(n&1){let e=A();a(0,"div",14)(1,"label",27),d(2),s(),a(3,"input",28,3),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.maxProcessFlowAmount,t)||(r.dataModel.maxProcessFlowAmount=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.maxProcessFlowAmount==null?null:e.fieldsInfo.maxProcessFlowAmount.fieldTitle),o(),T("ngModel",e.dataModel.maxProcessFlowAmount),C("disabled",!(e.fieldsInfo.maxProcessFlowAmount!=null&&e.fieldsInfo.maxProcessFlowAmount.accessAddField))}}function fu(n,l){if(n&1){let e=A();a(0,"div",14)(1,"label",29),d(2),s(),a(3,"input",30,4),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.minProcessFlowAmount,t)||(r.dataModel.minProcessFlowAmount=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.minProcessFlowAmount==null?null:e.fieldsInfo.minProcessFlowAmount.fieldTitle),o(),T("ngModel",e.dataModel.minProcessFlowAmount),C("disabled",!(e.fieldsInfo.minProcessFlowAmount!=null&&e.fieldsInfo.minProcessFlowAmount.accessAddField))}}function Su(n,l){if(n&1){let e=A();a(0,"div",14)(1,"label",31),d(2),s(),a(3,"input",32,5),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.fixFeeProcessFlowAmount,t)||(r.dataModel.fixFeeProcessFlowAmount=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.fixFeeProcessFlowAmount==null?null:e.fieldsInfo.fixFeeProcessFlowAmount.fieldTitle),o(),T("ngModel",e.dataModel.fixFeeProcessFlowAmount),C("disabled",!(e.fieldsInfo.fixFeeProcessFlowAmount!=null&&e.fieldsInfo.fixFeeProcessFlowAmount.accessAddField))}}function hu(n,l){if(n&1){let e=A();a(0,"div",14)(1,"label",33),d(2),s(),a(3,"input",34,6),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.percentFeeProcessFlowAmount,t)||(r.dataModel.percentFeeProcessFlowAmount=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.percentFeeProcessFlowAmount==null?null:e.fieldsInfo.percentFeeProcessFlowAmount.fieldTitle),o(),T("ngModel",e.dataModel.percentFeeProcessFlowAmount),C("disabled",!(e.fieldsInfo.percentFeeProcessFlowAmount!=null&&e.fieldsInfo.percentFeeProcessFlowAmount.accessAddField))}}function gu(n,l){if(n&1){let e=A();a(0,"div",25)(1,"button",35),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",36),d(3),S(4,"translate"),s(),a(5,"button",37),g(6,"i",38),d(7),S(8,"translate"),s()()}if(n&2){m();let e=P(13);o(3),M(" ",h(4,3,"ACTION.CANCEL")," "),o(2),C("disabled",!e.form.valid),o(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var go=class go extends St{constructor(e,i,t,r,p,c,D,H){super(r,new bt,c,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainApiPathService=r;this.cmsToastrService=p;this.publicHelper=c;this.cdr=D;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new X;this.dataModel=new bt;this.formInfo=new Me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),e&&e.linkApiPathCompanyId&&(this.dataModel.linkApiPathCompanyId=e.linkApiPathCompanyId+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.requestId&&this.requestId.length>0?(this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e+" copy"}),this.DataClone()):this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataClone(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?(this.dataModel=i.item,i.item.title=i.item.title+" copy",this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectLinkApiPathCompanyId(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.Service_company_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkApiPathCompanyId=e.id}onActionSelectSource(e){this.dataModel.linkPublicConfigId=null,e&&e.id?.length>0&&(this.dataModel.linkPublicConfigId=e.id)}onFormSubmit(){if(this.formGroup.valid){if(!this.dataModel.linkApiPathCompanyId||this.dataModel.linkApiPathCompanyId.length==0){this.translate.get("MESSAGE.Service_company_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}if(!this.dataModel.linkPublicConfigId||this.dataModel.linkPublicConfigId.length==0){this.translate.get("MESSAGE.Service_type_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.formInfo.submitButtonEnabled=!1,this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};go.\u0275fac=function(i){return new(i||go)(_(Ee),_(Ae),_(Re),_(ft),_(O),_(G),_(F),_(B))},go.\u0275cmp=N({type:go,selectors:[["app-sms-apipath-add"]],viewQuery:function(i,t){if(i&1&&pe(su,5),i&2){let r;ue(r=fe())&&(t.formGroup=r.first)}},standalone:!1,features:[K],decls:46,vars:42,consts:[["vform","ngForm"],["Title",""],["Description",""],["MaxProcessFlowAmount",""],["MinProcessFlowAmount",""],["FixFeeProcessFlowAmount",""],["PercentFeeProcessFlowAmount",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.maxProcessFlowAmount",1,"color-highlight"],["matInput","","type","text","name","dataModel.maxProcessFlowAmount","type","number","placeholder","Currency Unit Ratio By Shop","id","dataModel.maxProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.minProcessFlowAmount",1,"color-highlight"],["matInput","","type","text","name","dataModel.minProcessFlowAmount","type","number","placeholder","Min Transaction Amount","id","dataModel.minProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.fixFeeProcessFlowAmount",1,"color-highlight"],["matInput","","type","text","name","dataModel.fixFeeProcessFlowAmount","type","number","placeholder","Max Transaction Amount","id","dataModel.fixFeeProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.percentFeeProcessFlowAmount",1,"color-highlight"],["matInput","","type","text","name","dataModel.percentFeeProcessFlowAmount","type","number","placeholder","Percent Fee Transaction Amount","id","dataModel.percentFeeProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let r=A();a(0,"div",7),g(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),s(),a(5,"h4"),d(6),S(7,"translate"),s(),a(8,"p"),d(9),S(10,"translate"),s(),g(11,"app-cms-form-result-message",11),a(12,"form",12,0),I("ngSubmit",function(){return u(r),f(t.onFormSubmit())}),b(14,lu,1,5,"app-cms-enum-record-status-selector",13),a(15,"div",14)(16,"label",15),d(17),s(),a(18,"input",16,1),w("ngModelChange",function(c){return u(r),y(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),s(),b(20,cu,1,0,"i",17),b(21,du,1,0,"i",18),a(22,"em"),d(23),s(),b(24,mu,5,3,"mat-error"),s(),a(25,"app-sms-apipathcompany-selector",19),S(26,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorSelectLinkApiPathCompanyId(c))}),s(),a(27,"app-sms-publicconfig-selector",20),S(28,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectSource(c))}),s(),a(29,"div",14)(30,"label",21),d(31),s(),a(32,"textarea",22,2),w("ngModelChange",function(c){return u(r),y(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),s(),a(34,"em"),d(35),s(),b(36,pu,5,3,"mat-error"),s(),b(37,uu,5,3,"div",14),b(38,fu,5,3,"div",14),b(39,Su,5,3,"div",14),b(40,hu,5,3,"div",14),a(41,"div",14)(42,"label",23),d(43),s(),a(44,"textarea",24),w("ngModelChange",function(c){return u(r),y(t.dataModel.memo,c)||(t.dataModel.memo=c),f(c)}),s()(),b(45,gu,9,7,"div",25),s()()()}if(i&2){let r=P(19),p=P(33);o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),E(h(7,34,"TITLE.ROUTE_SETTINGS")),o(3),M(" ",h(10,36,"TITLE.ROUTE_SETTINGS_DESCRIPTION")," "),o(2),C("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(3),E(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),C("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),o(2),v(r.value?-1:20),o(),v(r.value?21:-1),o(2),M("",r.value.length," / 100"),o(),v(r.errors!=null&&r.errors.required?24:-1),o(),C("optionSelectForce",t.dataModel.linkApiPathCompanyId)("optionPlaceholder",h(26,38,"TITLE.Service_Company")),o(2),C("optionDisabled",!(t.fieldsInfo.linkPublicConfigId!=null&&t.fieldsInfo.linkPublicConfigId.accessAddField))("optionSelectForce",t.dataModel.linkPublicConfigId)("optionPlaceholder",h(28,40,"TITLE.Account_Type")),o(4),E(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),C("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),o(3),M("",p.value.length," / 500"),o(),v(p.errors!=null&&p.errors.required?36:-1),o(),v(t.fieldsInfo.maxProcessFlowAmount!=null&&t.fieldsInfo.maxProcessFlowAmount.accessWatchField?37:-1),o(),v(t.fieldsInfo.minProcessFlowAmount!=null&&t.fieldsInfo.minProcessFlowAmount.accessWatchField?38:-1),o(),v(t.fieldsInfo.fixFeeProcessFlowAmount!=null&&t.fieldsInfo.fixFeeProcessFlowAmount.accessWatchField?39:-1),o(),v(t.fieldsInfo.percentFeeProcessFlowAmount!=null&&t.fieldsInfo.percentFeeProcessFlowAmount.accessWatchField?40:-1),o(3),E(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),C("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.memo),o(),v(t.formInfo.submitButtonEnabled?45:-1)}},dependencies:[ve,te,di,ie,_e,Ie,Ue,qe,Se,be,xe,ne,De,z,Te,mi,uo,fo,U],encapsulation:2});var fn=go;var Cu=["vform"];function Mu(n,l){n&1&&(a(0,"mat-error"),d(1),S(2,"translate"),a(3,"strong"),d(4),S(5,"translate"),s()()),n&2&&(o(),M(" ",h(2,2,"MESSAGE.Message_Text")," "),o(3),E(h(5,4,"MESSAGE.required")))}function _u(n,l){if(n&1&&g(0,"app-cms-json-list",28),n&2){let e=m();C("dataModel",e.dataModelResult.item)("optionMethod",1)}}function bu(n,l){if(n&1&&(a(0,"button",32),g(1,"i",33),d(2),S(3,"translate"),s()),n&2){m(2);let e=P(10);C("disabled",!e.valid),o(2),M(" ",h(3,2,"ACTION.Send_Message")," ")}}function vu(n,l){if(n&1){let e=A();a(0,"div",29)(1,"button",30),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",31),d(3),S(4,"translate"),s(),b(5,bu,4,4,"button",32),s()}if(n&2){let e=m();o(3),M(" ",h(4,2,"ACTION.CANCEL")," "),o(2),v(e.publicHelper.processService.process.inRunAll?-1:5)}}var Co=class Co{constructor(l,e,i,t,r,p,c,D,H){this.data=l;this.document=e;this.dialogRef=i;this.coreEnumService=t;this.cmsToastrService=r;this.cdr=p;this.publicHelper=c;this.translate=D;this.smsActionService=H;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelParentSelected=new bt;this.dataModel=new pr;this.dataModelResult=new X;this.formInfo=new Me;this.sendByShow=!1;this.publicHelper.processService.cdr=this.cdr,l&&l.linkApiPathId&&(this.requestLinkApiPathId=l.linkApiPathId)}ngOnInit(){if(this.requestLinkApiPathId.length<=0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.dataModel.linkApiPathId=this.requestLinkApiPathId}onActionSelectPrivateSiteConfig(l){this.dataModel.linkApiPathId=this.requestLinkApiPathId,this.dataModelParentSelected=l,l&&l.id?.length>0&&(this.dataModel.linkApiPathId=l.id,this.sendByShow=!1,l.apiAbilitySendByDirect&&(this.dataModel.sendByQueue=!1),l.apiAbilitySendByQueue&&(this.dataModel.sendByQueue=!0),l.apiAbilitySendByQueue&&l.apiAbilitySendByDirect&&(this.sendByShow=!0))}onFormSubmit(){if(!this.formGroup.valid)return;(!this.dataModel.linkApiPathId||this.dataModel.linkApiPathId.length<=0)&&this.cmsToastrService.typeErrorFormInvalid(),this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.smsActionService.ServiceSendMessageTest(this.dataModel).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=e,e.isSuccess?(this.translate.get("MESSAGE.Submit_request_was_successfully_registered").subscribe(i=>{this.formInfo.submitResultMessage=i,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.translate.get("MESSAGE.Send_request_was_successfully_registered").subscribe(i=>{this.cmsToastrService.typeSuccessMessage(i)})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Co.\u0275fac=function(e){return new(e||Co)(_(Ee),_(rr),_(Ae),_(Re),_(O),_(F),_(G),_(B),_(hr))},Co.\u0275cmp=N({type:Co,selectors:[["app-sms-privateconfig-sendtest"]],viewQuery:function(e,i){if(e&1&&pe(Cu,5),e&2){let t;ue(t=fe())&&(i.formGroup=t.first)}},standalone:!1,decls:58,vars:35,consts:[["vform","ngForm"],["FromNumber",""],["ToNumber",""],["Message",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"optionChange","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.fromNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromNumber","minlength","0","maxlength","50","id","dataModel.fromNumber","placeholder","10000118",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.toNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.toNumber","minlength","0","maxlength","100","id","dataModel.toNumber","placeholder","0912",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.message",1,"color-highlight"],["matInput","","type","text","name","dataModel.message","minlength","1","maxlength","500","id","dataModel.message","placeholder","...",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isFlash",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isFlash","name","dataModel.isFlash",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isFlash",1,"custom-control-label"],["data-trigger-switch","dataModel.sendByQueue",1,"font-600","font-14"],["type","checkbox","id","dataModel.sendByQueue","name","dataModel.sendByQueue",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.sendByQueue",1,"custom-control-label"],[3,"dataModel","optionMethod"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){if(e&1){let t=A();a(0,"div",4),g(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),d(4),s(),a(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",8),a(9,"form",9,0),I("ngSubmit",function(){return u(t),f(i.onFormSubmit())}),a(11,"app-sms-apipath-selector",10),S(12,"translate"),I("optionChange",function(p){return u(t),f(i.onActionSelectPrivateSiteConfig(p))}),s(),a(13,"div",11)(14,"label",12),d(15),S(16,"translate"),s(),a(17,"input",13,1),w("ngModelChange",function(p){return u(t),y(i.dataModel.fromNumber,p)||(i.dataModel.fromNumber=p),f(p)}),s(),a(19,"em"),d(20),s()(),a(21,"div",11)(22,"label",14),d(23),S(24,"translate"),s(),a(25,"input",15,2),w("ngModelChange",function(p){return u(t),y(i.dataModel.toNumber,p)||(i.dataModel.toNumber=p),f(p)}),s(),a(27,"em"),d(28),s()(),a(29,"div",11)(30,"label",16),d(31),S(32,"translate"),s(),a(33,"input",17,3),w("ngModelChange",function(p){return u(t),y(i.dataModel.message,p)||(i.dataModel.message=p),f(p)}),s(),a(35,"em"),d(36),s(),b(37,Mu,6,6,"mat-error"),s(),a(38,"div",18)(39,"div",19)(40,"h5",20),d(41),S(42,"translate"),s()(),a(43,"div",21)(44,"div",22)(45,"input",23),w("ngModelChange",function(p){return u(t),y(i.dataModel.isFlash,p)||(i.dataModel.isFlash=p),f(p)}),s(),g(46,"label",24),s()()(),a(47,"div",18)(48,"div",19)(49,"h5",25),d(50),S(51,"translate"),s()(),a(52,"div",21)(53,"div",22)(54,"input",26),w("ngModelChange",function(p){return u(t),y(i.dataModel.sendByQueue,p)||(i.dataModel.sendByQueue=p),f(p)}),s(),g(55,"label",27),s()()(),b(56,_u,1,2,"app-cms-json-list",28),b(57,vu,6,4,"div",29),s()()()}if(e&2){let t=P(18),r=P(26),p=P(34);o(),C("optionsInfoAreaId",i.constructorInfoAreaId),o(3),M(" ",i.formInfo.formTitle," "),o(2),M(" ",h(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),C("formInfo",i.formInfo),o(3),C("optionPlaceholder",h(12,23,"TITLE.Direction")),o(4),E(h(16,25,"TITLE.sender_number")),o(2),T("ngModel",i.dataModel.fromNumber),o(3),M("",t.value.length," / 50"),o(3),E(h(24,27,"TITLE.Receiver_number")),o(2),T("ngModel",i.dataModel.toNumber),o(3),M("",r.value.length," / 100"),o(3),E(h(32,29,"MESSAGE.Message_Text")),o(2),T("ngModel",i.dataModel.message),o(3),M("",p.value.length," / 500"),o(),v(p.errors!=null&&p.errors.required?37:-1),o(4),M(" ",h(42,31,"TITLE.Send_as_flash")," "),o(4),T("ngModel",i.dataModel.isFlash),o(5),M(" ",h(51,33,"TITLE.Send_in_queue")," "),o(4),T("ngModel",i.dataModel.sendByQueue),o(2),v(i.dataModelResult!=null&&i.dataModelResult.item?56:-1),o(),v(i.formInfo.submitButtonEnabled?57:-1)}},dependencies:[ve,te,et,ie,_e,Ue,qe,Se,be,xe,ne,z,Vr,Te,Ti,U],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Mo=Co;var Iu=()=>[5,10,20,100],Au=(n,l)=>l.id;function Eu(n,l){if(n&1){let e=A();a(0,"button",21),S(1,"translate"),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),g(2,"i",22),s()}n&2&&ki("aria-label",k(h(1,2,"ACTION.BACK")))}function Tu(n,l){if(n&1){let e=A();a(0,"div",12)(1,"app-cms-search-list",23),w("optionsChange",function(t){u(e);let r=m();return y(r.optionsSearch,t)||(r.optionsSearch=t),f(t)}),s()()}if(n&2){let e=m();o(),T("options",e.optionsSearch)}}function yu(n,l){if(n&1){let e=A();a(0,"div",13)(1,"app-cms-statist-list",23),w("optionsChange",function(t){u(e);let r=m();return y(r.optionsStatist,t)||(r.optionsStatist=t),f(t)}),s()()}if(n&2){let e=m();o(),T("options",e.optionsStatist)}}function wu(n,l){if(n&1&&(a(0,"div",24),g(1,"i",10),a(2,"span"),d(3),S(4,"translate"),S(5,"translate"),s()()),n&2){let e=m();Ze("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),V("refreshing",e.pullToRefreshState.isRefreshing),o(),V("rotation360",e.pullToRefreshState.isRefreshing),o(2),E(e.pullToRefreshState.isRefreshing?h(4,7,"ACTION.RELOADING"):h(5,9,"ACTION.PULL_TO_REFRESH"))}}function Pu(n,l){if(n&1&&(a(0,"div",28),g(1,"img",42),S(2,"cmsthumbnail"),s()),n&2){let e=m().$implicit;o(),C("src",h(2,2,e.linkMainImageIdSrc),me)("alt",e.title)}}function Ru(n,l){n&1&&(a(0,"div",29),g(1,"i",43),s())}function xu(n,l){if(n&1&&(a(0,"div",32),g(1,"i",44),d(2),S(3,"cmstitle"),s()),n&2){let e=m().$implicit,i=m(2);o(2),M(" ",fi(3,1,e.linkApiPathCompanyId,i.dataModelCompanyResult.listItems)," ")}}function Du(n,l){if(n&1&&(a(0,"div",32),g(1,"i",45),d(2),S(3,"cmstitle"),s()),n&2){let e=m().$implicit,i=m(2);o(2),M(" ",fi(3,1,e.linkPublicConfigId,i.dataModelPublicResult.listItems)," ")}}function ku(n,l){if(n&1&&(a(0,"div",36),g(1,"i",46),a(2,"span"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit;o(3),E(h(4,1,e.updatedDate))}}function Lu(n,l){if(n&1){let e=A();a(0,"button",47),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonEditRow(r),f(t.stopPropagation())}),g(2,"i",48),s()}n&2&&W("aria-label",h(1,1,"ACTION.EDIT"))}function Vu(n,l){if(n&1){let e=A();a(0,"button",49),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonDeleteRow(r),f(t.stopPropagation())}),g(2,"i",50),s()}n&2&&W("aria-label",h(1,1,"ACTION.DELETE"))}function Nu(n,l){if(n&1){let e=A();a(0,"button",51),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonDeleteRow(r),f(t.stopPropagation())}),g(2,"i",50),s()}n&2&&W("aria-label",h(1,1,"ACTION.DELETE"))}function Bu(n,l){if(n&1){let e=A();a(0,"div",26)(1,"div",27),I("click",function(){let t=u(e).$implicit,r=m(2);return f(r.onActionTableRowSelect(t))})("touchstart",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchStart(t,r.id))})("touchmove",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchMove(t,r.id))})("touchend",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchEnd(t,r.id))}),b(2,Pu,3,4,"div",28)(3,Ru,2,0,"div",29),a(4,"div",30)(5,"div",31),d(6),s(),b(7,xu,4,4,"div",32),b(8,Du,4,4,"div",32),a(9,"div",33)(10,"div",34),g(11,"i",35),S(12,"statusIconClass"),s(),b(13,ku,5,3,"div",36),s()(),a(14,"div",37),b(15,Lu,3,3,"button",38),b(16,Vu,3,3,"button",39),s()(),a(17,"div",40),b(18,Nu,3,3,"button",41),s()()}if(n&2){let e,i=l.$implicit,t=m(2);Ze("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),o(),V("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),W("aria-label",i.title),o(),v((i==null||i.linkMainImageIdSrc==null?null:i.linkMainImageIdSrc.length)>0?2:3),o(4),M(" ",i.title," "),o(),v(i.linkApiPathCompanyId?7:-1),o(),v(i.linkPublicConfigId?8:-1),o(3),C("ngClass",h(12,14,i.recordStatus)),o(2),v(i.updatedDate?13:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?15:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?16:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?18:-1)}}function Fu(n,l){if(n&1&&(a(0,"div",16),Z(1,Bu,19,16,"div",25,Au),s()),n&2){let e=m();o(),$(e.dataModelResult.listItems)}}function Ou(n,l){n&1&&(a(0,"div",17)(1,"div",52),g(2,"i",53),s(),a(3,"div",54),d(4),S(5,"translate"),s()()),n&2&&(o(4),M(" ",h(5,1,"MESSAGE.no_information")," "))}function Gu(n,l){if(n&1){let e=A();a(0,"button",55),S(1,"translate"),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",56),s()}n&2&&W("aria-label",h(1,1,"ACTION.ADD"))}function Hu(n,l){if(n&1){let e=A();a(0,"div",20)(1,"mat-paginator",57,0),I("page",function(t){u(e);let r=m();return f(r.onTablePageingData(t))}),s()()}if(n&2){let e=m();o(),C("length",(e.dataModelResult==null?null:e.dataModelResult.totalRowCount)||0)("pageIndex",((e.dataModelResult==null?null:e.dataModelResult.currentPageNumber)||1)-1)("pageSize",(e.dataModelResult==null?null:e.dataModelResult.rowPerPage)||10)("pageSizeOptions",we(4,Iu))}}var _o=class _o extends Oe{constructor(e,i,t,r,p,c,D,H,Ke,nt,Qe,Mt,Y,Za){super(e,new bt,Y,H,nt);this.contentService=e;this.smsMainApiPathCompanyService=i;this.smsMainApiPathPublicConfigService=t;this.activatedRoute=r;this.cmsToastrService=p;this.cmsConfirmationDialogService=c;this.router=D;this.tokenHelper=H;this.cdr=Ke;this.translate=nt;this.cmsStoreService=Qe;this.pageInfo=Mt;this.publicHelper=Y;this.dialog=Za;this.requestLinkSiteId=0;this.requestLinkCompanyId="";this.requestLinkPublicConfigId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new X;this.dataModelCompanyResult=new X;this.dataModelPublicResult=new X;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","title","LinkApiPathCompanyId","LinkPublicConfigId","position"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","title","LinkApiPathCompanyId","LinkPublicConfigId","position"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:An=>this.onSubmitOptionsSearch(An)},this.filteModelContent.sortColumn="priority",this.filteModelContent.sortType=q.Ascending}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")&&(this.requestLinkCompanyId=this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")),this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId")&&(this.requestLinkPublicConfigId=this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId"));let e=new Q;if(this.requestLinkPublicConfigId?.length>0&&(e.propertyName="LinkPublicConfigId",e.value=this.requestLinkPublicConfigId,this.filteModelContent.filters.push(e)),this.requestLinkCompanyId.length>0){let i=new Q;i.propertyName="LinkApiPathCompanyId",i.value=this.requestLinkCompanyId,this.filteModelContent.filters.push(i)}if(this.requestLinkSiteId>0){let i=new Q;i.propertyName="linkSiteId",i.value=this.requestLinkSiteId,this.filteModelContent.filters.push(i)}this.filteModelContent.sortColumn="priority",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>ee(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getApiCopmanyList(),this.getPublicConfig()}getPublicConfig(){let e=new J;e.rowPerPage=100,this.smsMainApiPathPublicConfigService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPublicResult=i}})}getApiCopmanyList(){let e=new J;e.rowPerPage=100,this.smsMainApiPathCompanyService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCompanyResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,["position"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new bt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new Q;t.propertyName="LinkApiPathCompanyId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(r=>r===e.item.data),t=new Vn;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=ji.GoUp:t.actionGo=ji.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:r=>{r.isSuccess?(Nn(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(r.errorMessage)},error:r=>{this.cmsToastrService.typeError(r)}})}onActionButtonNewRow(){if((!this.requestLinkCompanyId||this.requestLinkCompanyId&&this.requestLinkCompanyId.length==0)&&(this.categoryModelSelected==null||this.categoryModelSelected.id.length===0)){this.translate.get("MESSAGE.Company_not_selected").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id),this.requestLinkCompanyId&&this.requestLinkCompanyId.length>0&&(e=this.requestLinkCompanyId);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(fn,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{linkApiPathCompanyId:e}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/sms/main/api-path/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],t=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(r=>{if(r){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new J,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.filteModelContent.sortColumn="priority",this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let r=JSON.parse(JSON.stringify(this.filteModelContent)),p=new Q;p.propertyName="recordStatus",p.value=Pe.Available,r.filters.push(p),this.contentService.ServiceGetCount(r).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonGetBalance(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=this.constructor.name+"GetBalance";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.ServiceGetBalance(e.id).subscribe({next:t=>{t.isSuccess?this.cmsToastrService.typeSuccessMessage(t.item.info+" "+t.item.status+" "+t.item.credit):this.cmsToastrService.typeErrorMessage(t.errorMessage+t.item.info+" "+t.item.status),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonSendMessage(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/action/send-message/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/action/send-message/LinkApiPathId",this.tableRowSelected.id])}onActionButtonNumbersList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-number/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-number/LinkApiPathId",this.tableRowSelected.id])}onActionButtonPermitionList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path-permission/LinkApiPathId",this.tableRowSelected.id])}onActionButtonOutBoxQueue(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/log/outbox-queue/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/log/outbox-queue/LinkApiPathId",this.tableRowSelected.id])}onActionButtonCopy(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(fn,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonPriceServicesList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-path-price-service/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-path-price-service/LinkApiPathId",this.tableRowSelected.id])}onActionButtonSendTest(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)});return}this.onActionTableRowSelect(e);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Mo,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonReportsRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}if(i?.ctrlKey){let t="/#/sms/log/api-path/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/log/api-path/LinkApiPathId",this.tableRowSelected.id])}onActionButtonReload(){this.filteModelContent.sortColumn="priority",this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let r=e.touches[0];t.currentX=r.clientX;let p=t.currentX-t.startX,c=document.documentElement.dir==="rtl",D=c?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,H=c?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(H,Math.min(D,p))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let r=document.documentElement.dir==="rtl",p=r?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;r&&t.offset>p||!r&&t.offset<p||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path-company"])}onActionTableRowSelect(e){this.tableRowSelected=e}};_o.\u0275fac=function(i){return new(i||_o)(_(ft),_(At),_(Zt),_(ze),_(O),_(Ve),_(Le),_(Ce),_(F),_(B),_(ge),_(Fe),_(G),_(he))},_o.\u0275cmp=N({type:_o,selectors:[["app-sms-apipath-list-mobile"]],standalone:!1,features:[K],decls:27,vars:26,consts:[["paginator",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"aria-label"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["aria-hidden","true",1,"fa-solid","fa-chart-bar"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-statist-area","safe-area-content"],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content","safe-area-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],[1,"cms-m-footer","safe-area-bottom"],[1,"cms-m-fab"],[1,"cms-m-pagination-wrapper"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[3,"optionsChange","options"],[1,"cms-m-pull-refresh-indicator"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image"],[1,"cms-m-list-item-image-placeholder"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-footer"],[1,"cms-m-list-item-status"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-date"],[1,"cms-m-list-item-actions"],[1,"cms-m-action-btn","edit"],[1,"cms-m-action-btn","delete"],[1,"cms-m-list-item-swipe-actions"],[1,"cms-m-swipe-action-btn","delete"],["loading","lazy",3,"src","alt"],["aria-hidden","true",1,"fa-solid","fa-link"],["aria-hidden","true",1,"fa-solid","fa-building"],["aria-hidden","true",1,"fa-solid","fa-cog"],["aria-hidden","true",1,"fa-solid","fa-clock"],[1,"cms-m-action-btn","edit",3,"click"],["aria-hidden","true",1,"fa-solid","fa-pen"],[1,"cms-m-action-btn","delete",3,"click"],["aria-hidden","true",1,"fa-solid","fa-trash"],[1,"cms-m-swipe-action-btn","delete",3,"click"],[1,"cms-m-empty-state-icon"],["aria-hidden","true",1,"fa-solid","fa-inbox"],[1,"cms-m-empty-state-text"],[1,"cms-m-fab",3,"click"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"]],template:function(i,t){i&1&&(a(0,"div",1),g(1,"app-progress-spinner",2),a(2,"div",3)(3,"div",4),b(4,Eu,3,4,"button",5),a(5,"h1",6),d(6),S(7,"translate"),s(),a(8,"div",7)(9,"button",8),S(10,"translate"),I("click",function(){return t.optionsSearch.data.show=!t.optionsSearch.data.show}),g(11,"i",9),s(),a(12,"button",8),S(13,"translate"),I("click",function(){return t.onActionButtonReload()}),g(14,"i",10),s(),a(15,"button",8),S(16,"translate"),I("click",function(){return t.onActionButtonStatist()}),g(17,"i",11),s()()()(),b(18,Tu,2,1,"div",12),b(19,yu,2,1,"div",13),b(20,wu,6,11,"div",14),a(21,"div",15),I("touchstart",function(p){return t.onTouchStart(p)})("touchmove",function(p){return t.onTouchMove(p)})("touchend",function(p){return t.onTouchEnd(p)}),b(22,Fu,3,0,"div",16)(23,Ou,6,3,"div",17),s(),a(24,"div",18),b(25,Gu,3,3,"button",19),b(26,Hu,3,5,"div",20),s()()),i&2&&(o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v((t.requestLinkCompanyId==null?null:t.requestLinkCompanyId.length)>0?4:-1),o(2),M(" ",h(7,18,"ROUTE.SMS.MAIN")," "),o(3),V("active",t.optionsSearch.data.show),W("aria-label",h(10,20,"ACTION.SEARCH")),o(3),W("aria-label",h(13,22,"ACTION.RELOAD")),o(2),V("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(),V("active",t.optionsStatist==null||t.optionsStatist.data==null?null:t.optionsStatist.data.show),W("aria-label",h(16,24,"ACTION.STATIST")),o(3),v(t.optionsSearch.data.show?18:-1),o(),v(!(t.optionsStatist==null||t.optionsStatist.data==null)&&t.optionsStatist.data.show?19:-1),o(),v(t.pullToRefreshState.pullDistance>0?20:-1),o(2),v(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?22:23),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?25:-1),o(),v((t.dataModelResult==null?null:t.dataModelResult.totalRowCount)>0?26:-1))},dependencies:[Ne,Be,Ge,He,z,U,ln,Je,Ye,We],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var Sn=_o;var Wu=["vform"];function Uu(n,l){if(n&1){let e=A();a(0,"app-cms-enum-record-status-selector",26),w("modelChange",function(t){u(e);let r=m();return y(r.dataModel.recordStatus,t)||(r.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();T("model",e.dataModel.recordStatus),C("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function qu(n,l){if(n&1){let e=A();a(0,"mat-chip",27),I("removed",function(){let t=u(e).$implicit,r=m();return f(r.removeTagFirewallAllowIPList(t))}),a(1,"div",28),d(2),s(),a(3,"button",29)(4,"mat-icon"),d(5,"cancel"),s()()()}if(n&2){let e=l.$implicit;o(2),E(e)}}function ju(n,l){if(n&1&&(a(0,"div"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e," ")}}function Qu(n,l){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function Xu(n,l){if(n&1){let e=A();a(0,"div",20)(1,"label",30),d(2),S(3,"translate"),s(),a(4,"input",31),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.expireDate,t)||(r.dataModel.expireDate=t),f(t)}),s(),g(5,"mat-datepicker-toggle",23)(6,"mat-datepicker",24,5),s()}if(n&2){let e=P(7),i=m();o(2),E(h(3,4,"TITLE.Expire_Date")),o(2),T("ngModel",i.dataModel.expireDate),C("matDatepicker",e),o(),C("for",e)}}function zu(n,l){if(n&1){let e=A();a(0,"div",25)(1,"button",32),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",33),d(3),S(4,"translate"),s(),a(5,"button",34),g(6,"i",35),d(7),S(8,"translate"),s()()}if(n&2){m();let e=P(10);o(3),M(" ",h(4,3,"ACTION.CANCEL")," "),o(2),C("disabled",!e.form.valid),o(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var bo=class bo extends St{constructor(e,i,t,r,p,c,D,H){super(r,new Ci,c,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainClientPermissionService=r;this.cmsToastrService=p;this.publicHelper=c;this.cdr=D;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new X;this.dataModel=new Ci;this.formInfo=new Me;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainClientPermissionService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}addTagFirewallAllowIPList(e){let i=(e.value||"").trim();this.dataModel.firewallAllowIPList||(this.dataModel.firewallAllowIPList=[]),i&&this.dataModel.firewallAllowIPList.push(i),e.chipInput.clear()}removeTagFirewallAllowIPList(e){let i=this.dataModel.firewallAllowIPList.indexOf(e);i>=0&&this.dataModel.firewallAllowIPList.splice(i,1)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};bo.\u0275fac=function(i){return new(i||bo)(_(Ee),_(Ae),_($e),_(Fi),_(O),_(G),_(F),_(B))},bo.\u0275cmp=N({type:bo,selectors:[["app-sms-client-add"]],viewQuery:function(i,t){if(i&1&&pe(Wu,5),i&2){let r;ue(r=fe())&&(t.formGroup=r.first)}},standalone:!1,features:[K],decls:52,vars:39,consts:[["vform","ngForm"],["chipListRegulatorNumberList",""],["tagInput",""],["Description",""],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.IP'|translate"],[1,"input-ltr",3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"removed"],[1,"input-ltr"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let r=A();a(0,"div",6),g(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),d(4),s(),a(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",10),a(9,"form",11,0),I("ngSubmit",function(){return u(r),f(t.onFormSubmit())}),b(11,Uu,1,5,"app-cms-enum-record-status-selector",12),a(12,"app-cms-user-selector",13),S(13,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCmsUser(c))}),s(),a(14,"b"),d(15),S(16,"translate"),s(),a(17,"mat-form-field",14)(18,"mat-label"),d(19),S(20,"translate"),s(),a(21,"mat-chip-grid",15,1),Z(23,qu,6,1,"mat-chip",null,de),a(25,"input",16,2),S(27,"translate"),I("matChipInputTokenEnd",function(c){return u(r),f(t.addTagFirewallAllowIPList(c))}),s()()(),a(28,"div"),d(29),S(30,"translate"),g(31,"br"),Z(32,ju,2,1,"div",null,de),s(),g(34,"br"),a(35,"div",17)(36,"label",18),d(37),s(),a(38,"textarea",19,3),w("ngModelChange",function(c){return u(r),y(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),s(),a(40,"em"),d(41),s(),b(42,Qu,5,3,"mat-error"),s(),a(43,"div",20)(44,"label",21),d(45),s(),a(46,"input",22),w("ngModelChange",function(c){return u(r),y(t.dataModel.fromDate,c)||(t.dataModel.fromDate=c),f(c)}),s(),g(47,"mat-datepicker-toggle",23)(48,"mat-datepicker",24,4),s(),b(50,Xu,8,6,"div",20),b(51,zu,9,7,"div",25),s()()()}if(i&2){let r=P(22),p=P(39),c=P(49);o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",h(7,27,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),C("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),C("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",h(13,29,"TITLE.USER")),o(3),E(h(16,31,"MESSAGE.firewallAllowIP")),o(4),E(h(20,33,"TITLE.firewallAllowIPList")),o(4),$(t.dataModel.firewallAllowIPList),o(2),C("placeholder",h(27,35,"TITLE.IP"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",r)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),M(" ",h(30,37,"TITLE.firewallAllowIPList")," "),o(3),$(t.dataModel.firewallAllowIPList),o(5),E(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),C("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),o(3),M("",p.value.length," / 500"),o(),v(p.errors!=null&&p.errors.required?42:-1),o(3),E(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),T("ngModel",t.dataModel.fromDate),C("matDatepicker",c),o(),C("for",c),o(3),v(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?50:-1),o(),v(t.formInfo.submitButtonEnabled?51:-1)}},dependencies:[ve,te,ie,_e,Ue,qe,Se,be,on,an,rn,nn,ei,ti,ii,tn,$i,xe,$t,Xe,ne,De,ni,z,Te,U],encapsulation:2});var vo=bo;var Yu=["vform"];function Ku(n,l){if(n&1){let e=A();a(0,"app-cms-enum-record-status-selector",27),w("modelChange",function(t){u(e);let r=m();return y(r.dataModel.recordStatus,t)||(r.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();T("model",e.dataModel.recordStatus),C("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ju(n,l){if(n&1){let e=A();a(0,"div",15)(1,"label",28),d(2),s(),a(3,"input",29,5),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.apiKey,t)||(r.dataModel.apiKey=t),f(t)}),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.apiKey==null?null:e.fieldsInfo.apiKey.fieldTitle),o(),T("ngModel",e.dataModel.apiKey),C("disabled",!(e.fieldsInfo.apiKey!=null&&e.fieldsInfo.apiKey.accessEditField))}}function Zu(n,l){if(n&1){let e=A();a(0,"mat-chip",30),I("removed",function(){let t=u(e).$implicit,r=m();return f(r.removeTagFirewallAllowIPList(t))}),a(1,"div",31),d(2),s(),a(3,"button",32)(4,"mat-icon"),d(5,"cancel"),s()()()}if(n&2){let e=l.$implicit;o(2),E(e)}}function $u(n,l){if(n&1&&(a(0,"div"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e," ")}}function e0(n,l){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function t0(n,l){if(n&1){let e=A();a(0,"div",21)(1,"label",33),d(2),S(3,"translate"),s(),a(4,"input",34),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.expireDate,t)||(r.dataModel.expireDate=t),f(t)}),s(),g(5,"mat-datepicker-toggle",24)(6,"mat-datepicker",25,6),s()}if(n&2){let e=P(7),i=m();o(2),E(h(3,4,"TITLE.Expire_Date")),o(2),T("ngModel",i.dataModel.expireDate),C("matDatepicker",e),o(),C("for",e)}}function i0(n,l){if(n&1){let e=A();a(0,"div",26)(1,"button",35),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",36),d(3),S(4,"translate"),s(),a(5,"button",37),g(6,"i",38),d(7),S(8,"translate"),s()()}if(n&2){m();let e=P(10);o(3),M(" ",h(4,3,"ACTION.CANCEL")," "),o(2),C("disabled",!e.form.valid),o(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Io=class Io extends ht{constructor(e,i,t,r,p,c,D,H){super(r,new Ci,c,H);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainClientPermissionService=r;this.cmsToastrService=p;this.publicHelper=c;this.cdr=D;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ut;this.dataModel=new Ci;this.formInfo=new Me;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainClientPermissionService.setAccessLoad(),this.smsMainClientPermissionService.setAccessDataType(at.Editor),this.smsMainClientPermissionService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainClientPermissionService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}addTagFirewallAllowIPList(e){let i=(e.value||"").trim();this.dataModel.firewallAllowIPList||(this.dataModel.firewallAllowIPList=[]),i&&this.dataModel.firewallAllowIPList.push(i),e.chipInput.clear()}removeTagFirewallAllowIPList(e){let i=this.dataModel.firewallAllowIPList.indexOf(e);i>=0&&this.dataModel.firewallAllowIPList.splice(i,1)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Io.\u0275fac=function(i){return new(i||Io)(_(Ee),_(Ae),_($e),_(Fi),_(O),_(G),_(F),_(B))},Io.\u0275cmp=N({type:Io,selectors:[["app-sms-client-edit"]],viewQuery:function(i,t){if(i&1&&pe(Yu,5),i&2){let r;ue(r=fe())&&(t.formGroup=r.first)}},standalone:!1,features:[K],decls:53,vars:40,consts:[["vform","ngForm"],["chipListRegulatorNumberList",""],["tagInput",""],["Description",""],["FromDate",""],["apiKey",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.IP'|translate"],[1,"input-ltr",3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.apiKey",1,"color-highlight"],["matInput","","name","dataModel.apiKey","type","text","placeholder","1","id","dataModel.apiKey",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[3,"removed"],[1,"input-ltr"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let r=A();a(0,"div",7),g(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),s(),a(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",11),a(9,"form",12,0),I("ngSubmit",function(){return u(r),f(t.onFormSubmit())}),b(11,Ku,1,5,"app-cms-enum-record-status-selector",13),a(12,"app-cms-user-selector",14),S(13,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectorCmsUser(c))}),s(),b(14,Ju,5,3,"div",15),a(15,"b"),d(16),S(17,"translate"),s(),a(18,"mat-form-field",16)(19,"mat-label"),d(20),S(21,"translate"),s(),a(22,"mat-chip-grid",17,1),Z(24,Zu,6,1,"mat-chip",null,de),a(26,"input",18,2),S(28,"translate"),I("matChipInputTokenEnd",function(c){return u(r),f(t.addTagFirewallAllowIPList(c))}),s()()(),a(29,"div"),d(30),S(31,"translate"),g(32,"br"),Z(33,$u,2,1,"div",null,de),s(),g(35,"br"),a(36,"div",15)(37,"label",19),d(38),s(),a(39,"textarea",20,3),w("ngModelChange",function(c){return u(r),y(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),s(),a(41,"em"),d(42),s(),b(43,e0,5,3,"mat-error"),s(),a(44,"div",21)(45,"label",22),d(46),s(),a(47,"input",23),w("ngModelChange",function(c){return u(r),y(t.dataModel.fromDate,c)||(t.dataModel.fromDate=c),f(c)}),s(),g(48,"mat-datepicker-toggle",24)(49,"mat-datepicker",25,4),s(),b(51,t0,8,6,"div",21),b(52,i0,9,7,"div",26),s()()()}if(i&2){let r=P(23),p=P(40),c=P(50);o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",h(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),C("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),C("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",h(13,30,"TITLE.USER")),o(2),v(t.fieldsInfo.apiKey!=null&&t.fieldsInfo.apiKey.accessWatchField?14:-1),o(2),E(h(17,32,"MESSAGE.firewallAllowIP")),o(4),E(h(21,34,"TITLE.firewallAllowIPList")),o(4),$(t.dataModel.firewallAllowIPList),o(2),C("placeholder",h(28,36,"TITLE.IP"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",r)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),M(" ",h(31,38,"TITLE.firewallAllowIPList")," "),o(3),$(t.dataModel.firewallAllowIPList),o(5),E(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),C("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),o(3),M("",p.value.length," / 500"),o(),v(p.errors!=null&&p.errors.required?43:-1),o(3),E(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),T("ngModel",t.dataModel.fromDate),C("matDatepicker",c),o(),C("for",c),o(3),v(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?51:-1),o(),v(t.formInfo.submitButtonEnabled?52:-1)}},dependencies:[ve,te,ie,_e,Ue,qe,Se,be,on,an,rn,nn,ei,ti,ii,tn,$i,xe,$t,Xe,ne,De,ni,z,Te,U],encapsulation:2});var Ao=Io;var n0=()=>[5,10,20,100],o0=(n,l)=>l.id;function a0(n,l){if(n&1){let e=A();a(0,"div",11)(1,"app-cms-search-list",20),w("optionsChange",function(t){u(e);let r=m();return y(r.optionsSearch,t)||(r.optionsSearch=t),f(t)}),s()()}if(n&2){let e=m();o(),T("options",e.optionsSearch)}}function r0(n,l){if(n&1){let e=A();a(0,"div",12)(1,"app-cms-statist-list",20),w("optionsChange",function(t){u(e);let r=m();return y(r.optionsStatist,t)||(r.optionsStatist=t),f(t)}),s()()}if(n&2){let e=m();o(),T("options",e.optionsStatist)}}function s0(n,l){if(n&1&&(a(0,"div",21),g(1,"i",9),a(2,"span"),d(3),S(4,"translate"),S(5,"translate"),s()()),n&2){let e=m();Ze("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),V("refreshing",e.pullToRefreshState.isRefreshing),o(),V("rotation360",e.pullToRefreshState.isRefreshing),o(2),E(e.pullToRefreshState.isRefreshing?h(4,7,"ACTION.RELOADING"):h(5,9,"ACTION.PULL_TO_REFRESH"))}}function l0(n,l){if(n&1&&(a(0,"div",29),g(1,"i",39),a(2,"span"),d(3),S(4,"cmsuserinfo"),S(5,"async"),s()()),n&2){let e=m().$implicit;o(3),E(h(5,3,h(4,1,e.linkCoreUserId)))}}function c0(n,l){if(n&1&&(a(0,"div",33),g(1,"i",40),a(2,"span"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit;o(3),E(h(4,1,e.expireDate))}}function d0(n,l){if(n&1&&(a(0,"div",33),g(1,"i",41),a(2,"span"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit;o(3),E(h(4,1,e.fromDate))}}function m0(n,l){if(n&1){let e=A();a(0,"button",42),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonEditRow(r),f(t.stopPropagation())}),g(2,"i",43),s()}n&2&&W("aria-label",h(1,1,"ACTION.EDIT"))}function p0(n,l){if(n&1){let e=A();a(0,"button",44),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonDeleteRow(r),f(t.stopPropagation())}),g(2,"i",45),s()}n&2&&W("aria-label",h(1,1,"ACTION.DELETE"))}function u0(n,l){if(n&1){let e=A();a(0,"button",46),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonDeleteRow(r),f(t.stopPropagation())}),g(2,"i",45),s()}n&2&&W("aria-label",h(1,1,"ACTION.DELETE"))}function f0(n,l){if(n&1){let e=A();a(0,"div",23)(1,"div",24),I("click",function(){let t=u(e).$implicit,r=m(2);return f(r.onActionTableRowSelect(t))})("touchstart",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchStart(t,r.id))})("touchmove",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchMove(t,r.id))})("touchend",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchEnd(t,r.id))}),a(2,"div",25),g(3,"i",26),s(),a(4,"div",27)(5,"div",28),d(6),s(),b(7,l0,6,5,"div",29),a(8,"div",30)(9,"div",31),g(10,"i",32),S(11,"statusIconClass"),s(),b(12,c0,5,3,"div",33)(13,d0,5,3,"div",33),s()(),a(14,"div",34),b(15,m0,3,3,"button",35),b(16,p0,3,3,"button",36),s()(),a(17,"div",37),b(18,u0,3,3,"button",38),s()()}if(n&2){let e,i=l.$implicit,t=m(2);Ze("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),o(),V("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),W("aria-label",i.id),o(5),M(" ",i.id," "),o(),v(i.linkCoreUserId?7:-1),o(3),C("ngClass",h(11,12,i.recordStatus)),o(2),v(i.expireDate?12:i.fromDate?13:-1),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?15:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?16:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?18:-1)}}function S0(n,l){if(n&1&&(a(0,"div",15),Z(1,f0,19,14,"div",22,o0),s()),n&2){let e=m();o(),$(e.dataModelResult.listItems)}}function h0(n,l){n&1&&(a(0,"div",16)(1,"div",47),g(2,"i",48),s(),a(3,"div",49),d(4),S(5,"translate"),s()()),n&2&&(o(4),M(" ",h(5,1,"MESSAGE.no_information")," "))}function g0(n,l){if(n&1){let e=A();a(0,"button",50),S(1,"translate"),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",51),s()}n&2&&W("aria-label",h(1,1,"ACTION.ADD"))}function C0(n,l){if(n&1){let e=A();a(0,"div",19)(1,"mat-paginator",52,0),I("page",function(t){u(e);let r=m();return f(r.onTablePageingData(t))}),s()()}if(n&2){let e=m();o(),C("length",(e.dataModelResult==null?null:e.dataModelResult.totalRowCount)||0)("pageIndex",((e.dataModelResult==null?null:e.dataModelResult.currentPageNumber)||1)-1)("pageSize",(e.dataModelResult==null?null:e.dataModelResult.rowPerPage)||10)("pageSizeOptions",we(4,n0))}}var Eo=class Eo extends Oe{constructor(e,i,t,r,p,c,D,H,Ke,nt,Qe,Mt){super(e,new Ci,Qe,c,H);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=r;this.router=p;this.tokenHelper=c;this.cdr=D;this.translate=H;this.cmsStoreService=Ke;this.pageInfo=nt;this.publicHelper=Qe;this.dialog=Mt;this.requestLinkUserId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","linkCoreUserId","fromDate","expireDate"];this.tabledisplayedColumnsMobileSource=["recordStatus","linkCoreUserId","fromDate","expireDate"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Y=>this.onSubmitOptionsSearch(Y)},this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkUserId>0){let Y=new Q;Y.propertyName="LinkCoreUserId",Y.value=this.requestLinkUserId,this.filteModelContent.filters.push(Y)}this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=q.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ci);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(vo,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ao,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],t=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(r=>{if(r){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let r=JSON.parse(JSON.stringify(this.filteModelContent)),p=new Q;p.propertyName="recordStatus",p.value=Pe.Available,r.filters.push(p),this.contentService.ServiceGetCount(r).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let r=e.touches[0];t.currentX=r.clientX;let p=t.currentX-t.startX,c=document.documentElement.dir==="rtl",D=c?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,H=c?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(H,Math.min(D,p))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let r=document.documentElement.dir==="rtl",p=r?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;r&&t.offset>p||!r&&t.offset<p||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionTableRowSelect(e){this.tableRowSelected=e}};Eo.\u0275fac=function(i){return new(i||Eo)(_(Fi),_(O),_(ze),_(Ve),_(Le),_(Ce),_(F),_(B),_(ge),_(Fe),_(G),_(he))},Eo.\u0275cmp=N({type:Eo,selectors:[["app-sms-client-list-mobile"]],standalone:!1,features:[K],decls:26,vars:25,consts:[["paginator",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["aria-hidden","true",1,"fa-solid","fa-chart-bar"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-statist-area","safe-area-content"],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content","safe-area-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],[1,"cms-m-footer","safe-area-bottom"],[1,"cms-m-fab"],[1,"cms-m-pagination-wrapper"],[3,"optionsChange","options"],[1,"cms-m-pull-refresh-indicator"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-user-shield"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-footer"],[1,"cms-m-list-item-status"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-date"],[1,"cms-m-list-item-actions"],[1,"cms-m-action-btn","edit"],[1,"cms-m-action-btn","delete"],[1,"cms-m-list-item-swipe-actions"],[1,"cms-m-swipe-action-btn","delete"],["aria-hidden","true",1,"fa-solid","fa-user"],["aria-hidden","true",1,"fa-solid","fa-clock"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[1,"cms-m-action-btn","edit",3,"click"],["aria-hidden","true",1,"fa-solid","fa-pen"],[1,"cms-m-action-btn","delete",3,"click"],["aria-hidden","true",1,"fa-solid","fa-trash"],[1,"cms-m-swipe-action-btn","delete",3,"click"],[1,"cms-m-empty-state-icon"],["aria-hidden","true",1,"fa-solid","fa-inbox"],[1,"cms-m-empty-state-text"],[1,"cms-m-fab",3,"click"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"]],template:function(i,t){i&1&&(a(0,"div",1),g(1,"app-progress-spinner",2),a(2,"div",3)(3,"div",4)(4,"h1",5),d(5),S(6,"translate"),s(),a(7,"div",6)(8,"button",7),S(9,"translate"),I("click",function(){return t.optionsSearch.data.show=!t.optionsSearch.data.show}),g(10,"i",8),s(),a(11,"button",7),S(12,"translate"),I("click",function(){return t.onActionButtonReload()}),g(13,"i",9),s(),a(14,"button",7),S(15,"translate"),I("click",function(){return t.onActionButtonStatist()}),g(16,"i",10),s()()()(),b(17,a0,2,1,"div",11),b(18,r0,2,1,"div",12),b(19,s0,6,11,"div",13),a(20,"div",14),I("touchstart",function(p){return t.onTouchStart(p)})("touchmove",function(p){return t.onTouchMove(p)})("touchend",function(p){return t.onTouchEnd(p)}),b(21,S0,3,0,"div",15)(22,h0,6,3,"div",16),s(),a(23,"div",17),b(24,g0,3,3,"button",18),b(25,C0,3,5,"div",19),s()()),i&2&&(o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(4),M(" ",h(6,17,"ROUTE.SMS.MAIN")," "),o(3),V("active",t.optionsSearch.data.show),W("aria-label",h(9,19,"ACTION.SEARCH")),o(3),W("aria-label",h(12,21,"ACTION.RELOAD")),o(2),V("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(),V("active",t.optionsStatist==null||t.optionsStatist.data==null?null:t.optionsStatist.data.show),W("aria-label",h(15,23,"ACTION.STATIST")),o(3),v(t.optionsSearch.data.show?17:-1),o(),v(!(t.optionsStatist==null||t.optionsStatist.data==null)&&t.optionsStatist.data.show?18:-1),o(),v(t.pullToRefreshState.pullDistance>0?19:-1),o(2),v(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?21:22),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?24:-1),o(),v((t.dataModelResult==null?null:t.dataModelResult.totalRowCount)>0?25:-1))},dependencies:[Ne,Be,Ge,He,z,ot,U,Ii,Ye,We],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var ma=Eo;var M0=["*"];function _0(n,l){if(n&1&&(a(0,"label",3),d(1),s()),n&2){let e=m();C("for",Wt("app-cms-site-selector-",e.id)),o(),E(e.optionLabel)}}function b0(n,l){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=m();C("src",k(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),me)}}function v0(n,l){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=m().$implicit;C("src",k(h(1,2,e.linkMainImageIdSrc)),me)}}function I0(n,l){if(n&1&&(a(0,"mat-option",8),b(1,v0,2,4,"img",5),a(2,"span"),d(3),s()()),n&2){let e=l.$implicit,i=m();C("value",e)("disabled",i.optionDisabled),o(),v(e.linkMainImageIdSrc?1:-1),o(2),E(i.displayOption(e))}}function A0(n,l){n&1&&g(0,"i",9)}function E0(n,l){n&1&&g(0,"i",10)}function T0(n,l){if(n&1){let e=A();a(0,"i",13),I("click",function(){u(e);let t=m();return f(t.onActionSelectClear())}),s()}}function y0(n,l){n&1&&(a(0,"em"),d(1),S(2,"translate"),s()),n&2&&(o(),M("(",h(2,1,"TITLE.Necessary"),")"))}var hn=class hn{constructor(l,e,i,t,r,p){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=r;this.categoryService=p;this.id=++hn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new X;this.dataModelSelect=new jt;this.formControl=new ci;this.optionPlaceholder="";this.optionRequired=!1;this.optionDisabled=!1;this.optionLabel="";this.optionSelectFirstItem=!1;this.optionChange=new st;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(xi(""),Pi(1500),Ri(),Di(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return ee(this,null,function*(){let e=new J;e.rowPerPage=20,e.accessLoad=!0;let i=new Q;l&&l.length>0&&(i.propertyName="title",i.value=l,i.searchType=Ut.Contains,i.clauseType=si.Or,e.filters.push(i)),l&&typeof l=="string"&&l.length>10&&(i=new Q,i.propertyName="id",i.value=l,i.searchType=Ut.Equal,i.clauseType=si.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(r=>{this.publicHelper.processService.processStart(t,r,this.constructorInfoAreaId)}),yield yi(this.categoryService.ServiceGetAll(e)).then(r=>(this.dataModelResult=r,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length==0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),r.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(wi(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof jt){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new jt,this.loadOptions()}};hn.nextId=0,hn.\u0275fac=function(e){return new(e||hn)(_(Re),_(O),_(F),_(G),_(B),_(_i))},hn.\u0275cmp=N({type:hn,selectors:[["app-sms-main-message-category-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionRequired:"optionRequired",optionDisabled:"optionDisabled",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:M0,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=A();Li(),a(0,"div",1),g(1,"app-progress-spinner",2),b(2,_0,2,3,"label",3),a(3,"span",4),b(4,b0,2,4,"img",5),s(),g(5,"input",6),a(6,"mat-autocomplete",7,0),I("optionSelected",function(p){return u(t),f(i.onActionSelect(p.option.value))}),Z(8,I0,4,4,"mat-option",8,de),S(10,"async"),s(),b(11,A0,1,0,"i",9),b(12,E0,1,0,"i",10),b(13,T0,1,0,"i",11),a(14,"i",12),S(15,"translate"),I("click",function(){return u(t),f(i.onActionButtonReload())}),s(),b(16,y0,3,3,"em"),Vi(17),s()}if(e&2){let t=P(7);o(),C("optionsInfoAreaId",i.constructorInfoAreaId),o(),v((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),v(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),C("placeholder",k(i.optionPlaceholder))("id",Wt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),W("disabled",i.optionDisabled?!0:null),o(),C("displayWith",i.displayFn),o(2),$(h(10,20,i.filteredOptions)),o(3),v(i.formControl.valid?-1:11),o(),v(i.optionRequired&&i.formControl.valid?12:-1),o(),v((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),V("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),C("title",k(h(15,22,"ACTION.RELOAD"))),o(2),v(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0)?16:-1)}},dependencies:[te,ie,Ie,Gi,Wi,Hi,Ui,en,ne,z,ot,U,Je],encapsulation:2});var To=hn;var w0=["vform"];function P0(n,l){if(n&1){let e=A();a(0,"app-cms-enum-record-status-selector",15),w("modelChange",function(t){u(e);let r=m();return y(r.dataModel.recordStatus,t)||(r.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();T("model",e.dataModel.recordStatus),C("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function R0(n,l){n&1&&g(0,"i",18)}function x0(n,l){n&1&&g(0,"i",19)}function D0(n,l){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function k0(n,l){if(n&1){let e=A();a(0,"div",11)(1,"label",16),d(2),s(),a(3,"input",17,2),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.title,t)||(r.dataModel.title=t),f(t)}),s(),b(5,R0,1,0,"i",18),b(6,x0,1,0,"i",19),a(7,"em"),d(8),s(),b(9,D0,5,3,"mat-error"),s()}if(n&2){let e=P(4),i=m();o(2),E(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),C("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModel.title),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(2),M("",e.value.length," / 100"),o(),v(e.errors!=null&&e.errors.required?9:-1)}}function L0(n,l){n&1&&(a(0,"mat-error"),d(1," messageBody is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function V0(n,l){if(n&1){let e=A();a(0,"div",14)(1,"button",20),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",21),d(3),S(4,"translate"),s(),a(5,"button",22),g(6,"i",23),d(7),S(8,"translate"),s()()}if(n&2){m();let e=P(10);o(3),M(" ",h(4,3,"ACTION.CANCEL")," "),o(2),C("disabled",!e.form.valid),o(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var yo=class yo extends St{constructor(e,i,t,r,p,c,D,H){super(r,new Mi,c,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.SmsMainMessageContentService=r;this.cmsToastrService=p;this.publicHelper=c;this.cdr=D;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new X;this.dataModel=new Mi;this.formInfo=new Me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.linkCategoryId&&e.linkCategoryId.length>0&&(this.dataModel.linkCategoryId=e.linkCategoryId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.SmsMainMessageContentService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){if(this.formGroup.valid){if(!this.dataModel.linkCategoryId||this.dataModel.linkCategoryId.length==0){this.cmsToastrService.typeErrorSelected("\u062F\u0633\u062A \u0628\u0646\u062F\u06CC   \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.formInfo.submitButtonEnabled=!1,this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(e){if(!e||e.id?.length==0){this.translate.get("MESSAGE.Category_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkCategoryId=e.id}};yo.\u0275fac=function(i){return new(i||yo)(_(Ee),_(Ae),_(Re),_(Oi),_(O),_(G),_(F),_(B))},yo.\u0275cmp=N({type:yo,selectors:[["app-sms-main-message-content-add"]],viewQuery:function(i,t){if(i&1&&pe(w0,5),i&2){let r;ue(r=fe())&&(t.formGroup=r.first)}},standalone:!1,features:[K],decls:24,vars:19,consts:[["vform","ngForm"],["messageBody",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.messageBody",1,"color-highlight"],["matInput","","name","dataModel.messageBody","type","text","minlength","1","maxlength","5000","rows","5","id","dataModel.messageBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let r=A();a(0,"div",3),g(1,"app-progress-spinner",4),a(2,"div",5)(3,"p",6),d(4),s(),a(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",7),a(9,"form",8,0),I("ngSubmit",function(){return u(r),f(t.onFormSubmit())}),b(11,P0,1,5,"app-cms-enum-record-status-selector",9),a(12,"app-sms-main-message-category-selector",10),S(13,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectCategory(c))}),s(),b(14,k0,10,8,"div",11),a(15,"div",11)(16,"label",12),d(17),s(),a(18,"textarea",13,1),w("ngModelChange",function(c){return u(r),y(t.dataModel.messageBody,c)||(t.dataModel.messageBody=c),f(c)}),s(),a(20,"em"),d(21),s(),b(22,L0,5,3,"mat-error"),s(),b(23,V0,9,7,"div",14),s()()()}if(i&2){let r=P(19);o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",h(7,15,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),C("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),C("optionSelectForce",t.dataModel.linkCategoryId)("optionPlaceholder",h(13,17,"TITLE.Category")),o(2),v(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?14:-1),o(3),E(t.fieldsInfo.messageBody==null?null:t.fieldsInfo.messageBody.fieldTitle),o(),C("placeholder",k(t.fieldsInfo.messageBody==null?null:t.fieldsInfo.messageBody.fieldTitle)),T("ngModel",t.dataModel.messageBody),o(3),M("",r.value.length," / 5000"),o(),v(r.errors!=null&&r.errors.required?22:-1),o(),v(t.formInfo.submitButtonEnabled?23:-1)}},dependencies:[ve,te,ie,_e,Ie,Ue,qe,Se,be,xe,ne,De,z,Te,To,U],encapsulation:2});var wo=yo;var N0=["vform"];function B0(n,l){if(n&1){let e=A();a(0,"app-cms-enum-record-status-selector",15),w("modelChange",function(t){u(e);let r=m();return y(r.dataModel.recordStatus,t)||(r.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();T("model",e.dataModel.recordStatus),C("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function F0(n,l){n&1&&g(0,"i",18)}function O0(n,l){n&1&&g(0,"i",19)}function G0(n,l){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function H0(n,l){if(n&1){let e=A();a(0,"div",11)(1,"label",16),d(2),s(),a(3,"input",17,2),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.title,t)||(r.dataModel.title=t),f(t)}),s(),b(5,F0,1,0,"i",18),b(6,O0,1,0,"i",19),a(7,"em"),d(8),s(),b(9,G0,5,3,"mat-error"),s()}if(n&2){let e=P(4),i=m();o(2),E(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),C("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModel.title),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(2),M("",e.value.length," / 100"),o(),v(e.errors!=null&&e.errors.required?9:-1)}}function W0(n,l){n&1&&(a(0,"mat-error"),d(1," messageBody is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function U0(n,l){if(n&1){let e=A();a(0,"div",14)(1,"button",20),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",21),d(3),S(4,"translate"),s(),a(5,"button",22),g(6,"i",23),d(7),S(8,"translate"),s()()}if(n&2){m();let e=P(10);o(3),M(" ",h(4,3,"ACTION.CANCEL")," "),o(2),C("disabled",!e.form.valid),o(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Po=class Po extends ht{constructor(e,i,t,r,p,c,D,H){super(r,new Mi,c,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.SmsMainMessageContentService=r;this.cmsToastrService=p;this.publicHelper=c;this.cdr=D;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ut;this.dataModel=new Mi;this.formInfo=new Me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.SmsMainMessageContentService.setAccessLoad(),this.SmsMainMessageContentService.setAccessDataType(at.Editor),this.SmsMainMessageContentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.SmsMainMessageContentService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){if(this.formGroup.valid){if(!this.dataModel.linkCategoryId||this.dataModel.linkCategoryId.length==0){this.translate.get("MESSAGE.Category_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.formInfo.submitButtonEnabled=!1,this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(e){if(!e||e.id.length==0){this.translate.get("MESSAGE.Category_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkCategoryId=e.id}};Po.\u0275fac=function(i){return new(i||Po)(_(Ee),_(Ae),_(Re),_(Oi),_(O),_(G),_(F),_(B))},Po.\u0275cmp=N({type:Po,selectors:[["app-sms-main-message-content-edit"]],viewQuery:function(i,t){if(i&1&&pe(N0,5),i&2){let r;ue(r=fe())&&(t.formGroup=r.first)}},standalone:!1,features:[K],decls:24,vars:19,consts:[["vform","ngForm"],["messageBody",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.messageBody",1,"color-highlight"],["matInput","","name","dataModel.messageBody","type","text","minlength","1","maxlength","5000","rows","5","id","dataModel.messageBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let r=A();a(0,"div",3),g(1,"app-progress-spinner",4),a(2,"div",5)(3,"p",6),d(4),s(),a(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",7),a(9,"form",8,0),I("ngSubmit",function(){return u(r),f(t.onFormSubmit())}),b(11,B0,1,5,"app-cms-enum-record-status-selector",9),a(12,"app-sms-main-message-category-selector",10),S(13,"translate"),I("optionChange",function(c){return u(r),f(t.onActionSelectCategory(c))}),s(),b(14,H0,10,8,"div",11),a(15,"div",11)(16,"label",12),d(17),s(),a(18,"textarea",13,1),w("ngModelChange",function(c){return u(r),y(t.dataModel.messageBody,c)||(t.dataModel.messageBody=c),f(c)}),s(),a(20,"em"),d(21),s(),b(22,W0,5,3,"mat-error"),s(),b(23,U0,9,7,"div",14),s()()()}if(i&2){let r=P(19);o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",h(7,15,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),C("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),C("optionSelectForce",t.dataModel.linkCategoryId)("optionPlaceholder",h(13,17,"TITLE.Category")),o(2),v(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?14:-1),o(3),E(t.fieldsInfo.messageBody==null?null:t.fieldsInfo.messageBody.fieldTitle),o(),C("placeholder",k(t.fieldsInfo.messageBody==null?null:t.fieldsInfo.messageBody.fieldTitle)),T("ngModel",t.dataModel.messageBody),o(3),M("",r.value.length," / 5000"),o(),v(r.errors!=null&&r.errors.required?22:-1),o(),v(t.formInfo.submitButtonEnabled?23:-1)}},dependencies:[ve,te,ie,_e,Ie,Ue,qe,Se,be,xe,ne,De,z,Te,To,U],encapsulation:2});var Ro=Po;var q0=()=>[5,10,20,100],j0=(n,l)=>l.id;function Q0(n,l){if(n&1){let e=A();a(0,"div",11)(1,"app-cms-search-list",20),w("optionsChange",function(t){u(e);let r=m();return y(r.optionsSearch,t)||(r.optionsSearch=t),f(t)}),s()()}if(n&2){let e=m();o(),T("options",e.optionsSearch)}}function X0(n,l){if(n&1){let e=A();a(0,"div",12)(1,"app-cms-statist-list",20),w("optionsChange",function(t){u(e);let r=m();return y(r.optionsStatist,t)||(r.optionsStatist=t),f(t)}),s()()}if(n&2){let e=m();o(),T("options",e.optionsStatist)}}function z0(n,l){if(n&1&&(a(0,"div",21),g(1,"i",9),a(2,"span"),d(3),S(4,"translate"),S(5,"translate"),s()()),n&2){let e=m();Ze("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),V("refreshing",e.pullToRefreshState.isRefreshing),o(),V("rotation360",e.pullToRefreshState.isRefreshing),o(2),E(e.pullToRefreshState.isRefreshing?h(4,7,"ACTION.RELOADING"):h(5,9,"ACTION.PULL_TO_REFRESH"))}}function Y0(n,l){if(n&1&&(a(0,"div",32),g(1,"i",38),a(2,"span"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit;o(3),E(h(4,1,e.updatedDate))}}function K0(n,l){if(n&1){let e=A();a(0,"button",39),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonEditRow(r),f(t.stopPropagation())}),g(2,"i",40),s()}n&2&&W("aria-label",h(1,1,"ACTION.EDIT"))}function J0(n,l){if(n&1){let e=A();a(0,"button",41),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonDeleteRow(r),f(t.stopPropagation())}),g(2,"i",42),s()}n&2&&W("aria-label",h(1,1,"ACTION.DELETE"))}function Z0(n,l){if(n&1){let e=A();a(0,"button",43),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonDeleteRow(r),f(t.stopPropagation())}),g(2,"i",42),s()}n&2&&W("aria-label",h(1,1,"ACTION.DELETE"))}function $0(n,l){if(n&1){let e=A();a(0,"div",23)(1,"div",24),I("click",function(){let t=u(e).$implicit,r=m(2);return f(r.onActionTableRowSelect(t))})("touchstart",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchStart(t,r.id))})("touchmove",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchMove(t,r.id))})("touchend",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchEnd(t,r.id))}),a(2,"div",25),g(3,"i",26),s(),a(4,"div",27)(5,"div",28),d(6),s(),a(7,"div",29)(8,"div",30),g(9,"i",31),S(10,"statusIconClass"),s(),b(11,Y0,5,3,"div",32),s()(),a(12,"div",33),b(13,K0,3,3,"button",34),b(14,J0,3,3,"button",35),s()(),a(15,"div",36),b(16,Z0,3,3,"button",37),s()()}if(n&2){let e,i=l.$implicit,t=m(2);Ze("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),o(),V("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),W("aria-label",i.title),o(5),M(" ",i.title," "),o(3),C("ngClass",h(10,11,i.recordStatus)),o(2),v(i.updatedDate?11:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?13:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?14:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?16:-1)}}function ef(n,l){if(n&1&&(a(0,"div",15),Z(1,$0,17,13,"div",22,j0),s()),n&2){let e=m();o(),$(e.dataModelResult.listItems)}}function tf(n,l){n&1&&(a(0,"div",16)(1,"div",44),g(2,"i",45),s(),a(3,"div",46),d(4),S(5,"translate"),s()()),n&2&&(o(4),M(" ",h(5,1,"MESSAGE.no_information")," "))}function nf(n,l){if(n&1){let e=A();a(0,"button",47),S(1,"translate"),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",48),s()}n&2&&W("aria-label",h(1,1,"ACTION.ADD"))}function of(n,l){if(n&1){let e=A();a(0,"div",19)(1,"mat-paginator",49,0),I("page",function(t){u(e);let r=m();return f(r.onTablePageingData(t))}),s()()}if(n&2){let e=m();o(),C("length",(e.dataModelResult==null?null:e.dataModelResult.totalRowCount)||0)("pageIndex",((e.dataModelResult==null?null:e.dataModelResult.currentPageNumber)||1)-1)("pageSize",(e.dataModelResult==null?null:e.dataModelResult.rowPerPage)||10)("pageSizeOptions",we(4,q0))}}var xo=class xo extends Oe{constructor(e,i,t,r,p,c,D,H,Ke,nt,Qe,Mt){super(e,new Mi,Qe,c,H);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.router=r;this.activatedRoute=p;this.tokenHelper=c;this.cmsStoreService=D;this.translate=H;this.cdr=Ke;this.pageInfo=nt;this.publicHelper=Qe;this.dialog=Mt;this.requestLinkCategoryId="";this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.categoryModelSelected=new jt;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","title","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","createdDate","updatedDate"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkCategoryId=this.activatedRoute.snapshot.paramMap.get("LinkCategoryId"),this.optionsSearch.parentMethods={onSubmit:Y=>this.onSubmitOptionsSearch(Y)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=q.Descending,this.requestLinkCategoryId&&this.requestLinkCategoryId.length>0){let Y=new Q;Y.propertyName="LinkCategoryId",Y.value=this.requestLinkCategoryId,this.filteModelContent.filters.push(Y)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Mi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(wo,{height:"90%",panelClass:e,data:{linkCategoryId:this.requestLinkCategoryId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ro,{height:"90%",panelClass:i,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],t=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(r=>{if(r){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let r=JSON.parse(JSON.stringify(this.filteModelContent)),p=new Q;p.propertyName="recordStatus",p.value=Pe.Available,r.filters.push(p),this.contentService.ServiceGetCount(r).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let r=e.touches[0];t.currentX=r.clientX;let p=t.currentX-t.startX,c=document.documentElement.dir==="rtl",D=c?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,H=c?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(H,Math.min(D,p))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let r=document.documentElement.dir==="rtl",p=r?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;r&&t.offset>p||!r&&t.offset<p||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionTableRowSelect(e){this.tableRowSelected=e}};xo.\u0275fac=function(i){return new(i||xo)(_(Oi),_(O),_(Ve),_(Le),_(ze),_(Ce),_(ge),_(B),_(F),_(Fe),_(G),_(he))},xo.\u0275cmp=N({type:xo,selectors:[["app-sms-main-message-content-list-mobile"]],standalone:!1,features:[K],decls:26,vars:25,consts:[["paginator",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["aria-hidden","true",1,"fa-solid","fa-chart-bar"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-statist-area","safe-area-content"],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content","safe-area-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],[1,"cms-m-footer","safe-area-bottom"],[1,"cms-m-fab"],[1,"cms-m-pagination-wrapper"],[3,"optionsChange","options"],[1,"cms-m-pull-refresh-indicator"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-message"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-footer"],[1,"cms-m-list-item-status"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-date"],[1,"cms-m-list-item-actions"],[1,"cms-m-action-btn","edit"],[1,"cms-m-action-btn","delete"],[1,"cms-m-list-item-swipe-actions"],[1,"cms-m-swipe-action-btn","delete"],["aria-hidden","true",1,"fa-solid","fa-clock"],[1,"cms-m-action-btn","edit",3,"click"],["aria-hidden","true",1,"fa-solid","fa-pen"],[1,"cms-m-action-btn","delete",3,"click"],["aria-hidden","true",1,"fa-solid","fa-trash"],[1,"cms-m-swipe-action-btn","delete",3,"click"],[1,"cms-m-empty-state-icon"],["aria-hidden","true",1,"fa-solid","fa-inbox"],[1,"cms-m-empty-state-text"],[1,"cms-m-fab",3,"click"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"]],template:function(i,t){i&1&&(a(0,"div",1),g(1,"app-progress-spinner",2),a(2,"div",3)(3,"div",4)(4,"h1",5),d(5),S(6,"translate"),s(),a(7,"div",6)(8,"button",7),S(9,"translate"),I("click",function(){return t.optionsSearch.data.show=!t.optionsSearch.data.show}),g(10,"i",8),s(),a(11,"button",7),S(12,"translate"),I("click",function(){return t.onActionButtonReload()}),g(13,"i",9),s(),a(14,"button",7),S(15,"translate"),I("click",function(){return t.onActionButtonStatist()}),g(16,"i",10),s()()()(),b(17,Q0,2,1,"div",11),b(18,X0,2,1,"div",12),b(19,z0,6,11,"div",13),a(20,"div",14),I("touchstart",function(p){return t.onTouchStart(p)})("touchmove",function(p){return t.onTouchMove(p)})("touchend",function(p){return t.onTouchEnd(p)}),b(21,ef,3,0,"div",15)(22,tf,6,3,"div",16),s(),a(23,"div",17),b(24,nf,3,3,"button",18),b(25,of,3,5,"div",19),s()()),i&2&&(o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(4),M(" ",h(6,17,"ROUTE.SMS.MAIN")," "),o(3),V("active",t.optionsSearch.data.show),W("aria-label",h(9,19,"ACTION.SEARCH")),o(3),W("aria-label",h(12,21,"ACTION.RELOAD")),o(2),V("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(),V("active",t.optionsStatist==null||t.optionsStatist.data==null?null:t.optionsStatist.data.show),W("aria-label",h(15,23,"ACTION.STATIST")),o(3),v(t.optionsSearch.data.show?17:-1),o(),v(!(t.optionsStatist==null||t.optionsStatist.data==null)&&t.optionsStatist.data.show?18:-1),o(),v(t.pullToRefreshState.pullDistance>0?19:-1),o(2),v(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?21:22),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?24:-1),o(),v((t.dataModelResult==null?null:t.dataModelResult.totalRowCount)>0?25:-1))},dependencies:[Ne,Be,Ge,He,z,U,Ye,We],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var Oa=xo;var af=["vform"];function rf(n,l){if(n&1){let e=A();a(0,"app-cms-enum-record-status-selector",27),w("modelChange",function(t){u(e);let r=m();return y(r.dataModel.recordStatus,t)||(r.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();T("model",e.dataModel.recordStatus),C("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function sf(n,l){n&1&&g(0,"i",15)}function lf(n,l){n&1&&g(0,"i",16)}function cf(n,l){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function df(n,l){if(n&1){let e=A();a(0,"div",12)(1,"label",28),d(2),s(),a(3,"input",29,4),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.title,t)||(r.dataModel.title=t),f(t)}),s(),b(5,sf,1,0,"i",15),b(6,lf,1,0,"i",16),a(7,"em"),d(8),s(),b(9,cf,5,3,"mat-error"),s()}if(n&2){let e=P(4),i=m();o(2),E(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),C("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModel.title),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(2),M("",e.value.length," / 100"),o(),v(e.errors!=null&&e.errors.required?9:-1)}}function mf(n,l){n&1&&g(0,"i",15)}function pf(n,l){n&1&&g(0,"i",16)}function uf(n,l){n&1&&(a(0,"mat-error"),d(1," ClassName is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function ff(n,l){if(n&1){let e=A();a(0,"div",17)(1,"div",30)(2,"h5",31),d(3),s()(),a(4,"div",32)(5,"div",33)(6,"input",34),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.abilityCreditCheck,t)||(r.dataModel.abilityCreditCheck=t),f(t)}),s(),g(7,"label",35),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.abilityCreditCheck==null?null:e.fieldsInfo.abilityCreditCheck.fieldTitle," "),o(3),T("ngModel",e.dataModel.abilityCreditCheck)}}function Sf(n,l){if(n&1){let e=A();a(0,"div",17)(1,"div",30)(2,"h5",36),d(3),s()(),a(4,"div",32)(5,"div",33)(6,"input",37),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.abilityDelivery,t)||(r.dataModel.abilityDelivery=t),f(t)}),s(),g(7,"label",38),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.abilityDelivery==null?null:e.fieldsInfo.abilityDelivery.fieldTitle," "),o(3),T("ngModel",e.dataModel.abilityDelivery)}}function hf(n,l){if(n&1){let e=A();a(0,"div",17)(1,"div",30)(2,"h5",39),d(3),s()(),a(4,"div",32)(5,"div",33)(6,"input",40),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.abilityReceive,t)||(r.dataModel.abilityReceive=t),f(t)}),s(),g(7,"label",41),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.abilityReceive==null?null:e.fieldsInfo.abilityReceive.fieldTitle," "),o(3),T("ngModel",e.dataModel.abilityReceive)}}function gf(n,l){n&1&&(a(0,"mat-error"),d(1," Memo is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function Cf(n,l){if(n&1&&(g(0,"img",22),S(1,"cmsthumbnail")),n&2){let e=m();C("src",k(h(1,2,e.dataModel.linkMainImageIdSrc)),me)}}function Mf(n,l){if(n&1){let e=A();a(0,"div",26)(1,"button",42),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",43),d(3),S(4,"translate"),s(),a(5,"button",44),g(6,"i",45),d(7),S(8,"translate"),s()()}if(n&2){m();let e=P(13);o(3),M(" ",h(4,3,"ACTION.CANCEL")," "),o(2),C("disabled",!e.form.valid),o(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Do=class Do extends St{constructor(e,i,t,r,p,c,D,H){super(r,new ai,c,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainApiPathPublicConfigService=r;this.cmsToastrService=p;this.publicHelper=c;this.cdr=D;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new X;this.dataModel=new ai;this.formInfo=new Me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPublicConfigService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Do.\u0275fac=function(i){return new(i||Do)(_(Ee),_(Ae),_(Re),_(Zt),_(O),_(G),_(F),_(B))},Do.\u0275cmp=N({type:Do,selectors:[["app-sms-publicconfig-add"]],viewQuery:function(i,t){if(i&1&&pe(af,5),i&2){let r;ue(r=fe())&&(t.formGroup=r.first)}},standalone:!1,features:[K],decls:50,vars:48,consts:[["vform","ngForm"],["ClassName",""],["Memo",""],["LinkMainImageId",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.className",1,"color-highlight"],["matInput","","type","text","name","dataModel.className","placeholder","ClassName","minlength","3","maxlength","100","required","","id","dataModel.className",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"pt-1"],["data-trigger-switch","dataModel.abilityCreditCheck",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.abilityCreditCheck","name","dataModel.abilityCreditCheck",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityCreditCheck",1,"custom-control-label"],["data-trigger-switch","dataModel.abilityDelivery",1,"font-600","font-14"],["type","checkbox","id","dataModel.abilityDelivery","name","dataModel.abilityDelivery",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityDelivery",1,"custom-control-label"],["data-trigger-switch","dataModel.abilityReceive",1,"font-600","font-14"],["type","checkbox","id","dataModel.abilityReceive","name","dataModel.abilityReceive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityReceive",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let r=A();a(0,"div",5),g(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),d(4),s(),a(5,"h4"),d(6),S(7,"translate"),s(),a(8,"p"),d(9),S(10,"translate"),s(),g(11,"app-cms-form-result-message",9),a(12,"form",10,0),I("ngSubmit",function(){return u(r),f(t.onFormSubmit())}),b(14,rf,1,5,"app-cms-enum-record-status-selector",11),b(15,df,10,8,"div",12),a(16,"div",12)(17,"label",13),d(18),s(),a(19,"input",14,1),w("ngModelChange",function(c){return u(r),y(t.dataModel.className,c)||(t.dataModel.className=c),f(c)}),s(),b(21,mf,1,0,"i",15),b(22,pf,1,0,"i",16),a(23,"em"),d(24),s(),b(25,uf,5,3,"mat-error"),s(),b(26,ff,8,2,"div",17),b(27,Sf,8,2,"div",17),b(28,hf,8,2,"div",17),a(29,"div",12)(30,"label",18),d(31),s(),a(32,"textarea",19,2),w("ngModelChange",function(c){return u(r),y(t.dataModel.memo,c)||(t.dataModel.memo=c),f(c)}),s(),a(34,"em"),d(35),s(),b(36,gf,5,3,"mat-error"),s(),a(37,"div",20)(38,"a",21),S(39,"cmsthumbnail"),b(40,Cf,2,4,"img",22),s()(),a(41,"div",12)(42,"label",23),I("click",function(){return u(r),f(t.fileManagerOpenForm=!0)}),d(43),S(44,"translate"),s(),a(45,"input",24,3),S(47,"translate"),w("ngModelChange",function(c){return u(r),y(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),I("click",function(){return u(r),f(t.fileManagerOpenForm=!0)}),s(),a(48,"cms-file-manager",25),I("itemSelected",function(c){return u(r),f(t.onActionFileSelected(c))}),w("openFormChange",function(c){return u(r),y(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),s()(),b(49,Mf,9,7,"div",26),s()()()}if(i&2){let r=P(20),p=P(33);o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),E(h(7,38,"TITLE.BASIC_SERVICE_SETTINGS")),o(3),M(" ",h(10,40,"TITLE.BASIC_SERVICE_SETTINGS_DESCRIPTION")," "),o(2),C("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(),v(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?15:-1),o(3),E(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),T("ngModel",t.dataModel.className),o(2),v(r.value?-1:21),o(),v(r.value?22:-1),o(2),M("",r.value.length," / 100"),o(),v(r.errors!=null&&r.errors.required?25:-1),o(),v(t.fieldsInfo.abilityCreditCheck!=null&&t.fieldsInfo.abilityCreditCheck.accessWatchField?26:-1),o(),v(t.fieldsInfo.abilityDelivery!=null&&t.fieldsInfo.abilityDelivery.accessWatchField?27:-1),o(),v(t.fieldsInfo.abilityReceive!=null&&t.fieldsInfo.abilityReceive.accessWatchField?28:-1),o(3),E(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),C("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.memo),o(3),M("",p.value.length," / 500"),o(),v(p.errors!=null&&p.errors.required?36:-1),o(2),C("href",k(h(39,42,t.dataModel.linkMainImageIdSrc)),me),o(2),v((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?40:-1),o(3),E(h(44,44,"TITLE.Icon_File")),o(2),C("placeholder",k(h(47,46,"TITLE.Original_File_ID"))),T("ngModel",t.dataModel.linkMainImageId),o(3),C("language",t.appLanguage)("isPopup",!0),T("openForm",t.fileManagerOpenForm),C("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),v(t.formInfo.submitButtonEnabled?49:-1)}},dependencies:[ve,te,et,ie,_e,Ie,Ue,qe,Se,be,xe,ne,De,z,Te,bi,U,Je],encapsulation:2});var ko=Do;var _f=["vform"];function bf(n,l){if(n&1){let e=A();a(0,"app-cms-enum-record-status-selector",28),w("modelChange",function(t){u(e);let r=m();return y(r.dataModel.recordStatus,t)||(r.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();T("model",e.dataModel.recordStatus),C("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function vf(n,l){n&1&&g(0,"i",15)}function If(n,l){n&1&&g(0,"i",16)}function Af(n,l){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function Ef(n,l){if(n&1){let e=A();a(0,"div",12)(1,"label",29),d(2),s(),a(3,"input",30,4),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.title,t)||(r.dataModel.title=t),f(t)}),s(),b(5,vf,1,0,"i",15),b(6,If,1,0,"i",16),a(7,"em"),d(8),s(),b(9,Af,5,3,"mat-error"),s()}if(n&2){let e=P(4),i=m();o(2),E(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),C("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModel.title),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(2),M("",e.value.length," / 100"),o(),v(e.errors!=null&&e.errors.required?9:-1)}}function Tf(n,l){n&1&&g(0,"i",15)}function yf(n,l){n&1&&g(0,"i",16)}function wf(n,l){n&1&&(a(0,"mat-error"),d(1," ClassName is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function Pf(n,l){if(n&1){let e=A();a(0,"div",17)(1,"div",31)(2,"h5",32),d(3),s()(),a(4,"div",33)(5,"div",34)(6,"input",35),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.abilityCreditCheck,t)||(r.dataModel.abilityCreditCheck=t),f(t)}),s(),g(7,"label",36),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.abilityCreditCheck==null?null:e.fieldsInfo.abilityCreditCheck.fieldTitle," "),o(3),T("ngModel",e.dataModel.abilityCreditCheck)}}function Rf(n,l){if(n&1){let e=A();a(0,"div",17)(1,"div",31)(2,"h5",37),d(3),s()(),a(4,"div",33)(5,"div",34)(6,"input",38),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.abilityDelivery,t)||(r.dataModel.abilityDelivery=t),f(t)}),s(),g(7,"label",39),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.abilityDelivery==null?null:e.fieldsInfo.abilityDelivery.fieldTitle," "),o(3),T("ngModel",e.dataModel.abilityDelivery)}}function xf(n,l){if(n&1){let e=A();a(0,"div",17)(1,"div",31)(2,"h5",40),d(3),s()(),a(4,"div",33)(5,"div",34)(6,"input",41),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.abilityReceive,t)||(r.dataModel.abilityReceive=t),f(t)}),s(),g(7,"label",42),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.abilityReceive==null?null:e.fieldsInfo.abilityReceive.fieldTitle," "),o(3),T("ngModel",e.dataModel.abilityReceive)}}function Df(n,l){n&1&&(a(0,"mat-error"),d(1," Memo is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function kf(n,l){if(n&1&&(g(0,"img",23),S(1,"cmsthumbnail")),n&2){let e=m();C("src",k(h(1,2,e.dataModel.linkMainImageIdSrc)),me)}}function Lf(n,l){if(n&1){let e=A();a(0,"div",27)(1,"button",43),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",44),d(3),S(4,"translate"),s(),a(5,"button",45),g(6,"i",46),d(7),S(8,"translate"),s()()}if(n&2){m();let e=P(13);o(3),M(" ",h(4,3,"ACTION.CANCEL")," "),o(2),C("disabled",!e.form.valid),o(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Lo=class Lo extends ht{constructor(e,i,t,r,p,c,D,H){super(r,new ai,c,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainApiPathPublicConfigService=r;this.cmsToastrService=p;this.publicHelper=c;this.cdr=D;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ut;this.dataModel=new fr;this.formInfo=new Me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPublicConfigService.setAccessLoad(),this.smsMainApiPathPublicConfigService.setAccessDataType(at.Editor),this.smsMainApiPathPublicConfigService.ServiceGetOneWithJsonFormatter(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPublicConfigService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Lo.\u0275fac=function(i){return new(i||Lo)(_(Ee),_(Ae),_(Re),_(Zt),_(O),_(G),_(F),_(B))},Lo.\u0275cmp=N({type:Lo,selectors:[["app-sms-publicconfig-edit"]],viewQuery:function(i,t){if(i&1&&pe(_f,5),i&2){let r;ue(r=fe())&&(t.formGroup=r.first)}},standalone:!1,features:[K],decls:51,vars:51,consts:[["vform","ngForm"],["ClassName",""],["Memo",""],["LinkMainImageId",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.className",1,"color-highlight"],["matInput","","type","text","name","dataModel.className","placeholder","ClassName","minlength","3","maxlength","100","required","","id","dataModel.className",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[3,"jsonValueChange","formGroup","jsonValue","propertiesInfos"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"pt-1"],["data-trigger-switch","dataModel.abilityCreditCheck",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.abilityCreditCheck","name","dataModel.abilityCreditCheck",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityCreditCheck",1,"custom-control-label"],["data-trigger-switch","dataModel.abilityDelivery",1,"font-600","font-14"],["type","checkbox","id","dataModel.abilityDelivery","name","dataModel.abilityDelivery",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityDelivery",1,"custom-control-label"],["data-trigger-switch","dataModel.abilityReceive",1,"font-600","font-14"],["type","checkbox","id","dataModel.abilityReceive","name","dataModel.abilityReceive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityReceive",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let r=A();a(0,"div",5),g(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),d(4),s(),a(5,"h4"),d(6),S(7,"translate"),s(),a(8,"p"),d(9),S(10,"translate"),s(),g(11,"app-cms-form-result-message",9),a(12,"form",10,0),I("ngSubmit",function(){return u(r),f(t.onFormSubmit())}),b(14,bf,1,5,"app-cms-enum-record-status-selector",11),b(15,Ef,10,8,"div",12),a(16,"div",12)(17,"label",13),d(18),s(),a(19,"input",14,1),w("ngModelChange",function(c){return u(r),y(t.dataModel.className,c)||(t.dataModel.className=c),f(c)}),s(),b(21,Tf,1,0,"i",15),b(22,yf,1,0,"i",16),a(23,"em"),d(24),s(),b(25,wf,5,3,"mat-error"),s(),b(26,Pf,8,2,"div",17),b(27,Rf,8,2,"div",17),b(28,xf,8,2,"div",17),a(29,"dynamic-form-builder-cms",18),w("jsonValueChange",function(c){return u(r),y(t.dataModel.publicConfigJsonValues,c)||(t.dataModel.publicConfigJsonValues=c),f(c)}),s(),a(30,"div",12)(31,"label",19),d(32),s(),a(33,"textarea",20,2),w("ngModelChange",function(c){return u(r),y(t.dataModel.memo,c)||(t.dataModel.memo=c),f(c)}),s(),a(35,"em"),d(36),s(),b(37,Df,5,3,"mat-error"),s(),a(38,"div",21)(39,"a",22),S(40,"cmsthumbnail"),b(41,kf,2,4,"img",23),s()(),a(42,"div",12)(43,"label",24),I("click",function(){return u(r),f(t.fileManagerOpenForm=!0)}),d(44),S(45,"translate"),s(),a(46,"input",25,3),S(48,"translate"),w("ngModelChange",function(c){return u(r),y(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),I("click",function(){return u(r),f(t.fileManagerOpenForm=!0)}),s(),a(49,"cms-file-manager",26),I("itemSelected",function(c){return u(r),f(t.onActionFileSelected(c))}),w("openFormChange",function(c){return u(r),y(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),s()(),b(50,Lf,9,7,"div",27),s()()()}if(i&2){let r=P(13),p=P(20),c=P(34);o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),E(h(7,41,"TITLE.BASIC_SERVICE_SETTINGS")),o(3),M(" ",h(10,43,"TITLE.BASIC_SERVICE_SETTINGS_DESCRIPTION")," "),o(2),C("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(),v(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?15:-1),o(3),E(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),T("ngModel",t.dataModel.className),o(2),v(p.value?-1:21),o(),v(p.value?22:-1),o(2),M("",p.value.length," / 100"),o(),v(p.errors!=null&&p.errors.required?25:-1),o(),v(t.fieldsInfo.abilityCreditCheck!=null&&t.fieldsInfo.abilityCreditCheck.accessWatchField?26:-1),o(),v(t.fieldsInfo.abilityDelivery!=null&&t.fieldsInfo.abilityDelivery.accessWatchField?27:-1),o(),v(t.fieldsInfo.abilityReceive!=null&&t.fieldsInfo.abilityReceive.accessWatchField?28:-1),o(),C("formGroup",r.form),T("jsonValue",t.dataModel.publicConfigJsonValues),C("propertiesInfos",t.dataModel.publicConfigJsonFormatter),o(3),E(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),C("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.memo),o(3),M("",c.value.length," / 500"),o(),v(c.errors!=null&&c.errors.required?37:-1),o(2),C("href",k(h(40,45,t.dataModel.linkMainImageIdSrc)),me),o(2),v((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?41:-1),o(3),E(h(45,47,"TITLE.Icon_File")),o(2),C("placeholder",k(h(48,49,"TITLE.Original_File_ID"))),T("ngModel",t.dataModel.linkMainImageId),o(3),C("language",t.appLanguage)("isPopup",!0),T("openForm",t.fileManagerOpenForm),C("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),v(t.formInfo.submitButtonEnabled?50:-1)}},dependencies:[ve,te,et,ie,_e,Ie,Ue,qe,Se,be,Ia,xe,ne,De,z,Te,bi,Va,U,Je],encapsulation:2});var Vo=Lo;var Vf=()=>[5,10,20,100],Nf=(n,l)=>l.id;function Bf(n,l){if(n&1){let e=A();a(0,"div",11)(1,"app-cms-search-list",20),w("optionsChange",function(t){u(e);let r=m();return y(r.optionsSearch,t)||(r.optionsSearch=t),f(t)}),s()()}if(n&2){let e=m();o(),T("options",e.optionsSearch)}}function Ff(n,l){if(n&1){let e=A();a(0,"div",12)(1,"app-cms-statist-list",20),w("optionsChange",function(t){u(e);let r=m();return y(r.optionsStatist,t)||(r.optionsStatist=t),f(t)}),s()()}if(n&2){let e=m();o(),T("options",e.optionsStatist)}}function Of(n,l){if(n&1&&(a(0,"div",21),g(1,"i",9),a(2,"span"),d(3),S(4,"translate"),S(5,"translate"),s()()),n&2){let e=m();Ze("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),V("refreshing",e.pullToRefreshState.isRefreshing),o(),V("rotation360",e.pullToRefreshState.isRefreshing),o(2),E(e.pullToRefreshState.isRefreshing?h(4,7,"ACTION.RELOADING"):h(5,9,"ACTION.PULL_TO_REFRESH"))}}function Gf(n,l){if(n&1&&(a(0,"div",25),g(1,"img",39),S(2,"cmsthumbnail"),s()),n&2){let e=m().$implicit;o(),C("src",h(2,2,e.linkMainImageIdSrc),me)("alt",e.className||e.title)}}function Hf(n,l){n&1&&(a(0,"div",26),g(1,"i",40),s())}function Wf(n,l){if(n&1&&(a(0,"div",32),g(1,"i",41),a(2,"span"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit;o(3),E(h(4,1,e.updatedDate))}}function Uf(n,l){if(n&1){let e=A();a(0,"button",42),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonEditRow(r),f(t.stopPropagation())}),g(2,"i",43),s()}n&2&&W("aria-label",h(1,1,"ACTION.EDIT"))}function qf(n,l){if(n&1){let e=A();a(0,"button",44),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonDeleteRow(r),f(t.stopPropagation())}),g(2,"i",45),s()}n&2&&W("aria-label",h(1,1,"ACTION.DELETE"))}function jf(n,l){if(n&1){let e=A();a(0,"button",46),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonPrivateList(r),f(t.stopPropagation())}),g(2,"i",47),s()}n&2&&W("aria-label",h(1,1,"ACTION.ROUTES"))}function Qf(n,l){if(n&1){let e=A();a(0,"button",48),S(1,"translate"),I("click",function(t){u(e);let r=m().$implicit;return m(2).onActionButtonDeleteRow(r),f(t.stopPropagation())}),g(2,"i",45),s()}n&2&&W("aria-label",h(1,1,"ACTION.DELETE"))}function Xf(n,l){if(n&1){let e=A();a(0,"div",23)(1,"div",24),I("click",function(){let t=u(e).$implicit,r=m(2);return f(r.onActionTableRowSelect(t))})("touchstart",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchStart(t,r.id))})("touchmove",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchMove(t,r.id))})("touchend",function(t){let r=u(e).$implicit,p=m(2);return f(p.onItemTouchEnd(t,r.id))}),b(2,Gf,3,4,"div",25)(3,Hf,2,0,"div",26),a(4,"div",27)(5,"div",28),d(6),s(),a(7,"div",29)(8,"div",30),g(9,"i",31),S(10,"statusIconClass"),s(),b(11,Wf,5,3,"div",32),s()(),a(12,"div",33),b(13,Uf,3,3,"button",34),b(14,qf,3,3,"button",35),b(15,jf,3,3,"button",36),s()(),a(16,"div",37),b(17,Qf,3,3,"button",38),s()()}if(n&2){let e,i=l.$implicit,t=m(2);Ze("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),o(),V("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),W("aria-label",i.className||i.title),o(),v((i==null||i.linkMainImageIdSrc==null?null:i.linkMainImageIdSrc.length)>0?2:3),o(4),M(" ",i.className||i.title," "),o(3),C("ngClass",h(10,13,i.recordStatus)),o(2),v(i.updatedDate?11:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?13:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?14:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?15:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?17:-1)}}function zf(n,l){if(n&1&&(a(0,"div",15),Z(1,Xf,18,15,"div",22,Nf),s()),n&2){let e=m();o(),$(e.dataModelResult.listItems)}}function Yf(n,l){n&1&&(a(0,"div",16)(1,"div",49),g(2,"i",50),s(),a(3,"div",51),d(4),S(5,"translate"),s()()),n&2&&(o(4),M(" ",h(5,1,"MESSAGE.no_information")," "))}function Kf(n,l){if(n&1){let e=A();a(0,"button",52),S(1,"translate"),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",53),s()}n&2&&W("aria-label",h(1,1,"ACTION.ADD"))}function Jf(n,l){if(n&1){let e=A();a(0,"div",19)(1,"mat-paginator",54,0),I("page",function(t){u(e);let r=m();return f(r.onTablePageingData(t))}),s()()}if(n&2){let e=m();o(),C("length",(e.dataModelResult==null?null:e.dataModelResult.totalRowCount)||0)("pageIndex",((e.dataModelResult==null?null:e.dataModelResult.currentPageNumber)||1)-1)("pageSize",(e.dataModelResult==null?null:e.dataModelResult.rowPerPage)||10)("pageSizeOptions",we(4,Vf))}}var No=class No extends Oe{constructor(e,i,t,r,p,c,D,H,Ke,nt,Qe,Mt){super(e,new ai,Qe,D,Ke);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.coreCurrencyService=r;this.cmsStoreService=p;this.router=c;this.tokenHelper=D;this.cdr=H;this.translate=Ke;this.pageInfo=nt;this.publicHelper=Qe;this.dialog=Mt;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new X;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","ClassName","updatedDate"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","ClassName","updatedDate"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Y=>this.onSubmitOptionsSearch(Y)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=q.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getCurrency()}getCurrency(){let e=new J;e.rowPerPage=100,this.coreCurrencyService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreCurrencyResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ai);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ko,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Vo,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],t=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+(this.tableRowSelected.title||this.tableRowSelected.className)+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(r=>{if(r){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let r=JSON.parse(JSON.stringify(this.filteModelContent)),p=new Q;p.propertyName="recordStatus",p.value=Pe.Available,r.filters.push(p),this.contentService.ServiceGetCount(r).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPrivateList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path/list/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let r=e.touches[0];t.currentX=r.clientX;let p=t.currentX-t.startX,c=document.documentElement.dir==="rtl",D=c?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,H=c?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(H,Math.min(D,p))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let r=document.documentElement.dir==="rtl",p=r?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;r&&t.offset>p||!r&&t.offset<p||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionTableRowSelect(e){this.tableRowSelected=e}};No.\u0275fac=function(i){return new(i||No)(_(Zt),_(O),_(Ve),_(ga),_(ge),_(Le),_(Ce),_(F),_(B),_(Fe),_(G),_(he))},No.\u0275cmp=N({type:No,selectors:[["app-sms-publicconfig-list-mobile"]],standalone:!1,features:[K],decls:26,vars:25,consts:[["paginator",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["aria-hidden","true",1,"fa-solid","fa-chart-bar"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-statist-area","safe-area-content"],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content","safe-area-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],[1,"cms-m-footer","safe-area-bottom"],[1,"cms-m-fab"],[1,"cms-m-pagination-wrapper"],[3,"optionsChange","options"],[1,"cms-m-pull-refresh-indicator"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image"],[1,"cms-m-list-item-image-placeholder"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-footer"],[1,"cms-m-list-item-status"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-date"],[1,"cms-m-list-item-actions"],[1,"cms-m-action-btn","edit"],[1,"cms-m-action-btn","delete"],[1,"cms-m-action-btn","route"],[1,"cms-m-list-item-swipe-actions"],[1,"cms-m-swipe-action-btn","delete"],["loading","lazy",3,"src","alt"],["aria-hidden","true",1,"fa-solid","fa-cog"],["aria-hidden","true",1,"fa-solid","fa-clock"],[1,"cms-m-action-btn","edit",3,"click"],["aria-hidden","true",1,"fa-solid","fa-pen"],[1,"cms-m-action-btn","delete",3,"click"],["aria-hidden","true",1,"fa-solid","fa-trash"],[1,"cms-m-action-btn","route",3,"click"],["aria-hidden","true",1,"fa-solid","fa-route"],[1,"cms-m-swipe-action-btn","delete",3,"click"],[1,"cms-m-empty-state-icon"],["aria-hidden","true",1,"fa-solid","fa-inbox"],[1,"cms-m-empty-state-text"],[1,"cms-m-fab",3,"click"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"]],template:function(i,t){i&1&&(a(0,"div",1),g(1,"app-progress-spinner",2),a(2,"div",3)(3,"div",4)(4,"h1",5),d(5),S(6,"translate"),s(),a(7,"div",6)(8,"button",7),S(9,"translate"),I("click",function(){return t.optionsSearch.data.show=!t.optionsSearch.data.show}),g(10,"i",8),s(),a(11,"button",7),S(12,"translate"),I("click",function(){return t.onActionButtonReload()}),g(13,"i",9),s(),a(14,"button",7),S(15,"translate"),I("click",function(){return t.onActionButtonStatist()}),g(16,"i",10),s()()()(),b(17,Bf,2,1,"div",11),b(18,Ff,2,1,"div",12),b(19,Of,6,11,"div",13),a(20,"div",14),I("touchstart",function(p){return t.onTouchStart(p)})("touchmove",function(p){return t.onTouchMove(p)})("touchend",function(p){return t.onTouchEnd(p)}),b(21,zf,3,0,"div",15)(22,Yf,6,3,"div",16),s(),a(23,"div",17),b(24,Kf,3,3,"button",18),b(25,Jf,3,5,"div",19),s()()),i&2&&(o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(4),M(" ",h(6,17,"ROUTE.SMS.MAIN")," "),o(3),V("active",t.optionsSearch.data.show),W("aria-label",h(9,19,"ACTION.SEARCH")),o(3),W("aria-label",h(12,21,"ACTION.RELOAD")),o(2),V("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(),V("active",t.optionsStatist==null||t.optionsStatist.data==null?null:t.optionsStatist.data.show),W("aria-label",h(15,23,"ACTION.STATIST")),o(3),v(t.optionsSearch.data.show?17:-1),o(),v(!(t.optionsStatist==null||t.optionsStatist.data==null)&&t.optionsStatist.data.show?18:-1),o(),v(t.pullToRefreshState.pullDistance>0?19:-1),o(2),v(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?21:22),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?24:-1),o(),v((t.dataModelResult==null?null:t.dataModelResult.totalRowCount)>0?25:-1))},dependencies:[Ne,Be,Ge,He,z,U,Je,Ye,We],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var Ga=No;var Bo=class Bo{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};Bo.\u0275fac=function(e){return new(e||Bo)},Bo.\u0275cmp=N({type:Bo,selectors:[["app-sms-main"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&g(0,"router-outlet")},dependencies:[cr],encapsulation:2});var Fo=Bo;var Qr=[{path:"",component:Fo,data:{title:"ROUTE.SMS.MAIN"},children:[{path:"api-path-company",component:Fa,data:{title:"ROUTE.SMS.MAIN"}},{path:"publicconfig",component:Ga,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path",component:Sn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/list",component:Sn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/list/LinkCompanyId/:LinkCompanyId",component:Sn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/list/LinkPublicConfigId/:LinkPublicConfigId",component:Sn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/list/LinkSiteId/:LinkSiteId",component:Sn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/edit/:id",component:ho,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-permission",component:wn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-permission/LinkApiPathId/:LinkApiPathId",component:wn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-permission/LinkUserId/:LinkUserId",component:wn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-permission/LinkSiteId/:LinkSiteId",component:wn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-price-service",component:da,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-price-service/LinkApiPathId/:LinkApiPathId",component:da,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number",component:sa,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number/LinkApiPathId/:LinkApiPathId",component:sa,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number-permission",component:yn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number-permission/LinkApiNumberId/:LinkApiNumberId",component:yn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number-permission/LinkUserId/:LinkUserId",component:yn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number-permission/LinkSiteId/:LinkSiteId",component:yn,data:{title:"ROUTE.SMS.MAIN"}},{path:"client-permission",component:ma,data:{title:"ROUTE.SMS.MAIN"}},{path:"client-permission/LinkUserId/:LinkUserId",component:ma,data:{title:"ROUTE.SMS.MAIN"}},{path:"message",component:Oa,data:{title:"ROUTE.SMS.MAIN"}}]}];var Oo=class Oo{constructor(l,e,i,t,r,p,c,D){this.headerService=l;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.dialog=r;this.translate=p;this.cmsStoreService=c;this.tokenHelper=D;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new X;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>ee(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};Oo.\u0275fac=function(e){return new(e||Oo)(_(li),_(G),_(F),_(O),_(he),_(B),_(ge),_(Ce))},Oo.\u0275cmp=N({type:Oo,selectors:[["app-api-number-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:32,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"td","large-width","cell-ltr"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(a(0,"div",0),g(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),g(6,"span",6),s(),a(7,"div",7)(8,"h5")(9,"b"),d(10),S(11,"translate"),s()()(),g(12,"div",8),s(),a(13,"div",4)(14,"div",5)(15,"b"),d(16),s(),d(17,": "),s(),a(18,"div",9),d(19),s(),g(20,"div",10)(21,"div",11),s(),a(22,"div",4)(23,"div",5)(24,"b"),d(25),s(),d(26,": "),s(),a(27,"div",12),d(28),s(),g(29,"div",8)(30,"div",11),s()()()(),g(31,"div",13)),e&2&&(o(),C("optionsInfoAreaId",i.constructorInfoAreaId),o(5),C("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(" ",h(11,7,"TITLE.Selected_Api_Number")," "),o(6),M("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),E(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),M("",i.fieldsInfo.numberChar==null?null:i.fieldsInfo.numberChar.fieldTitle," "),o(3),M(" ",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.numberChar," "))},dependencies:[z,xa,U],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Ha=Oo;var tS=()=>["expandedDetail"],iS=()=>[5,10,20,100],nS=n=>({display:n});function oS(n,l){if(n&1&&g(0,"app-api-number-header",3),n&2){let e=m();C("optionId",e.requestLinkApiNumberId)}}function aS(n,l){if(n&1){let e=A();a(0,"a",48),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),g(1,"i",49),s()}}function rS(n,l){if(n&1){let e=A();a(0,"div",18)(1,"a",50),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",51)(3,"br"),s(),a(4,"p",52),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.ADD")," "))}function sS(n,l){if(n&1){let e=A();a(0,"div",18)(1,"a",53),I("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),s(),a(4,"p",52),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.EDIT")," "))}function lS(n,l){if(n&1){let e=A();a(0,"div",18)(1,"a",55),I("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",56)(3,"br"),s(),a(4,"p",52),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.DELETE")," "))}function cS(n,l){if(n&1&&(a(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function dS(n,l){if(n&1&&(a(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.id," ")}}function mS(n,l){if(n&1&&(a(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function pS(n,l){if(n&1&&(a(0,"mat-cell",58),S(1,"statusCellClass"),g(2,"i",58),S(3,"statusIconClass"),s()),n&2){let e=l.$implicit;C("ngClass",h(1,2,e.recordStatus)),o(2),C("ngClass",h(3,4,e.recordStatus))}}function uS(n,l){if(n&1&&(a(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkApiNumberId==null?null:e.fieldsInfo.linkApiNumberId.fieldTitle," ")}}function fS(n,l){if(n&1&&(a(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.linkApiNumberId," ")}}function SS(n,l){if(n&1&&(a(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkCoreUserId==null?null:e.fieldsInfo.linkCoreUserId.fieldTitle," ")}}function hS(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"cmsuserinfo"),S(3,"async"),s()),n&2){let e=l.$implicit;o(),M(" ",h(3,3,h(2,1,e.linkCoreUserId))," ")}}function gS(n,l){if(n&1&&(a(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkCoreUserGroupId==null?null:e.fieldsInfo.linkCoreUserGroupId.fieldTitle," ")}}function CS(n,l){if(n&1&&(a(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.linkCoreUserGroupId," ")}}function MS(n,l){if(n&1&&(a(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function _S(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",h(2,1,e.createdDate)," ")}}function bS(n,l){if(n&1&&(a(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle," ")}}function vS(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",h(2,1,e.fromDate)," ")}}function IS(n,l){if(n&1&&(a(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function AS(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",h(2,1,e.expireDate)," ")}}function ES(n,l){if(n&1&&(a(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function TS(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",h(2,1,e.updatedDate)," ")}}function yS(n,l){if(n&1&&(a(0,"mat-header-cell",59),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.hasAccess==null?null:e.fieldsInfo.hasAccess.fieldTitle," ")}}function wS(n,l){if(n&1&&(a(0,"mat-cell"),g(1,"i",58),S(2,"boolclass"),s()),n&2){let e=l.$implicit;o(),C("ngClass",h(2,1,e.hasAccess))}}function PS(n,l){if(n&1&&(a(0,"mat-header-cell",59),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle," ")}}function RS(n,l){if(n&1&&(a(0,"mat-cell"),g(1,"i",58),S(2,"boolclass"),s()),n&2){let e=l.$implicit;o(),C("ngClass",h(2,1,e.hasInherits))}}function xS(n,l){n&1&&(a(0,"mat-header-cell"),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",h(2,1,"TITLE.OPTION")," "))}function DS(n,l){if(n&1&&(a(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),d(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),n&2){let e=P(5);o(),C("matMenuTriggerFor",e)}}function kS(n,l){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),d(3),S(4,"cmsuserinfo"),S(5,"async"),s()()),n&2){let e=m().$implicit,i=m();o(3),je(" ",i.fieldsInfo.linkCoreUserId==null?null:i.fieldsInfo.linkCoreUserId.fieldTitle," : ",h(5,4,h(4,2,e.linkCoreUserId))," ")}}function LS(n,l){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),d(3),S(4,"cmssiteinfo"),S(5,"async"),s()()),n&2){let e=m().$implicit,i=m();o(3),je(" ",i.fieldsInfo.linkCoreSiteId==null?null:i.fieldsInfo.linkCoreSiteId.fieldTitle," : ",h(5,4,h(4,2,e.linkCoreSiteId))," ")}}function VS(n,l){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),d(3),s()()),n&2){let e=m().$implicit,i=m();o(3),je(" ",i.fieldsInfo.linkCoreUserGroupId==null?null:i.fieldsInfo.linkCoreUserGroupId.fieldTitle," : ",e.linkCoreUserGroupId," ")}}function NS(n,l){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),d(3),s()()),n&2){let e=m().$implicit,i=m();o(3),je(" ",i.fieldsInfo.linkCoreSiteCategoryId==null?null:i.fieldsInfo.linkCoreSiteCategoryId.fieldTitle," : ",e.linkCoreSiteCategoryId," ")}}function BS(n,l){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit,i=m();o(3),je(" ",i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle," : ",h(4,2,e.fromDate)," ")}}function FS(n,l){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit,i=m();o(3),je(" ",i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle," : ",h(4,2,e.expireDate)," ")}}function OS(n,l){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit,i=m();o(3),je(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle," : ",h(4,2,e.createdDate)," ")}}function GS(n,l){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit,i=m();o(3),je(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",h(4,2,e.updatedDate)," ")}}function HS(n,l){if(n&1&&(a(0,"mat-cell")(1,"div")(2,"table"),b(3,kS,6,6,"tr"),b(4,LS,6,6,"tr"),b(5,VS,4,2,"tr"),b(6,NS,4,2,"tr"),b(7,BS,5,4,"tr"),b(8,FS,5,4,"tr"),b(9,OS,5,4,"tr"),b(10,GS,5,4,"tr"),a(11,"tr"),g(12,"td")(13,"td"),s()()()()),n&2){let e=l.$implicit;o(3),v(e.linkCoreUserId?3:-1),o(),v(e.linkCoreSiteId?4:-1),o(),v(e.linkCoreUserGroupId?5:-1),o(),v(e.linkCoreSiteCategoryId?6:-1),o(),v(e.fromDate?7:-1),o(),v(e.expireDate?8:-1),o(),v(e.createdDate?9:-1),o(),v(e.updatedDate?10:-1)}}function WS(n,l){n&1&&g(0,"mat-header-row")}function US(n,l){if(n&1){let e=A();a(0,"mat-row",62),I("click",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))})("rtclick",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))}),s()}if(n&2){let e=l.$implicit,i=m();V("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function qS(n,l){if(n&1){let e=A();a(0,"mat-row",63),I("click",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))})("rtclick",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))})("mouseenter",function(){let t=u(e).$implicit,r=m();return f(r.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,r=m();return f(r.onActionTableRowMouseLeave(t))}),s()}if(n&2){let e=l.$implicit,i=m();V("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),C("ngStyle",Xi(3,nS,e.expanded===!0?"":"none"))}}var Go=class Go extends Oe{constructor(e,i,t,r,p,c,D,H,Ke,nt,Qe,Mt){super(e,new Si,Qe,c,Ke);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=r;this.router=p;this.tokenHelper=c;this.cmsStoreService=D;this.cdr=H;this.translate=Ke;this.pageInfo=nt;this.publicHelper=Qe;this.dialog=Mt;this.requestLinkApiNumberId="";this.requestLinkCoreUserId=0;this.requestLinkCoreSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","linkApiNumberId","linkCoreUserId","linkCoreUserGroupId","hasAccess","hasInherits","fromDate","expireDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","linkApiNumberId","linkCoreUserId","linkCoreUserGroupId","hasAccess","hasInherits","fromDate","expireDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Y=>this.onSubmitOptionsSearch(Y)},this.requestLinkCoreUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkCoreSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkApiNumberId=this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId"),this.requestLinkCoreUserId>0){let Y=new Q;Y.propertyName="LinkCoreUserId",Y.value=this.requestLinkCoreUserId,this.filteModelContent.filters.push(Y)}if(this.requestLinkApiNumberId?.length>0){let Y=new Q;Y.propertyName="LinkApiNumberId",Y.value=this.requestLinkApiNumberId,this.filteModelContent.filters.push(Y)}this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=q.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Si);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Gn,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{linkApiNumberId:this.requestLinkApiNumberId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Wn,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],t=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(r=>{if(r){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let r=JSON.parse(JSON.stringify(this.filteModelContent)),p=new Q;p.propertyName="recordStatus",p.value=Pe.Available,r.filters.push(p),this.contentService.ServiceGetCount(r).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};Go.\u0275fac=function(i){return new(i||Go)(_(Ni),_(O),_(ze),_(Ve),_(Le),_(Ce),_(ge),_(F),_(B),_(Fe),_(G),_(he))},Go.\u0275cmp=N({type:Go,selectors:[["app-sms-api-number-permission-list"]],standalone:!1,features:[K],decls:75,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"checked"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkApiNumberId"],["matColumnDef","linkCoreUserId"],["matColumnDef","linkCoreUserGroupId"],["matColumnDef","createdDate"],["matColumnDef","fromDate"],["matColumnDef","expireDate"],["matColumnDef","updatedDate"],["matColumnDef","hasAccess"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","hasInherits"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["mat-sort-header","",1,"form-label"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let r=A();b(0,oS,1,1,"app-api-number-header",3),a(1,"app-cms-html-list",4),w("optionActionGuideNoticeDisplayChange",function(c){return u(r),y(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(r),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(r),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(r),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(r),f(t.onActionButtonPrintRow())}),lt(2,5)(3,6)(4,7),R(5,8),b(6,aS,2,0,"a",9),a(7,"a",10),I("click",function(){return u(r),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",11),s(),a(9,"a",10),I("click",function(){return u(r),f(t.onActionButtonReload())}),g(10,"i",12),s(),x(),R(11,13),a(12,"a",14),g(13,"mat-slide-toggle",15),d(14),S(15,"translate"),s(),a(16,"a",16),I("click",function(){return u(r),f(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",15),d(18),S(19,"translate"),s(),x(),R(20,17),b(21,rS,7,3,"div",18),x(),R(22,19),b(23,sS,7,3,"div",18),b(24,lS,7,3,"div",18),x(),R(25,20),a(26,"app-cms-search-list",21),w("optionsChange",function(c){return u(r),y(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),s(),a(27,"app-cms-statist-list",21),w("optionsChange",function(c){return u(r),y(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),s(),x(),R(28,22),a(29,"mat-table",23,0),I("matSortChange",function(){u(r);let c=P(30);return f(t.onTableSortData(c))}),R(31,24),L(32,cS,2,1,"mat-header-cell",25)(33,dS,2,1,"mat-cell",26),x(),R(34,27),L(35,mS,2,1,"mat-header-cell",25)(36,pS,4,6,"mat-cell",28),x(),R(37,29),L(38,uS,2,1,"mat-header-cell",25)(39,fS,2,1,"mat-cell",26),x(),R(40,30),L(41,SS,2,1,"mat-header-cell",25)(42,hS,4,5,"mat-cell",26),x(),R(43,31),L(44,gS,2,1,"mat-header-cell",25)(45,CS,2,1,"mat-cell",26),x(),R(46,32),L(47,MS,2,1,"mat-header-cell",25)(48,_S,3,3,"mat-cell",26),x(),R(49,33),L(50,bS,2,1,"mat-header-cell",25)(51,vS,3,3,"mat-cell",26),x(),R(52,34),L(53,IS,2,1,"mat-header-cell",25)(54,AS,3,3,"mat-cell",26),x(),R(55,35),L(56,ES,2,1,"mat-header-cell",25)(57,TS,3,3,"mat-cell",26),x(),R(58,36),L(59,yS,2,1,"mat-header-cell",37)(60,wS,3,3,"mat-cell",26),x(),R(61,38),L(62,PS,2,1,"mat-header-cell",37)(63,RS,3,3,"mat-cell",26),x(),R(64,39),L(65,xS,3,3,"mat-header-cell",40)(66,DS,6,1,"mat-cell",41),x(),R(67,42),L(68,HS,14,8,"mat-cell",26),x(),L(69,WS,1,0,"mat-header-row",43)(70,US,1,2,"mat-row",44)(71,qS,1,5,"mat-row",45),s(),x(),R(72,46),a(73,"mat-paginator",47,1),I("page",function(c){return u(r),f(t.onTablePageingData(c))}),s(),x(),s()}i&2&&(v((t.requestLinkApiNumberId==null?null:t.requestLinkApiNumberId.length)>0?0:-1),o(),C("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),C("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(5),v((t.requestLinkApiNumberId==null?null:t.requestLinkApiNumberId.length)>0?6:-1),o(4),V("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),C("checked",t.optionsSearch.data.show),o(),M("",h(15,28,"ACTION.SEARCH")," "),o(3),C("checked",t.optionsStatist.data.show),o(),M("",h(19,30,"ACTION.STATIST")," "),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(2),T("options",t.optionsSearch),o(),T("options",t.optionsStatist),o(2),C("dataSource",t.tableSource),o(40),C("matHeaderRowDef",t.tabledisplayedColumns),o(),C("matRowDefColumns",t.tabledisplayedColumns),o(),C("matRowDefColumns",we(32,tS)),o(2),C("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",we(33,iS)))},dependencies:[Ne,zi,ct,Xe,Et,Tt,Be,yt,wt,Pt,Rt,Dt,Nt,kt,xt,Bt,Lt,Vt,Ft,Ot,Ge,He,Gt,Ht,Ha,ot,U,Ii,sn,Ye,We,oi,Da],encapsulation:2});var Rn=Go;var Qi=class Qi{constructor(l){this.persianCalendarService=l}transform(l){if(typeof l=="string"){if(!l||l.length===0)return"";let e=new Date(l),i=new Date;if(!e||e.getFullYear()<i.getFullYear()-1e3)return"";let t=new Date;return t.setFullYear(t.getFullYear()-100),e<t?"":e.getHours()+":"+e.getMinutes()}if(typeof l==typeof Date){if(!l)return"";let e=new Date;return e.setFullYear(e.getFullYear()-100),l<e?"":l.getHours()+":"+l.getMinutes()}return""}};Qi.\u0275fac=function(e){return new(e||Qi)(_(Dr,16))},Qi.\u0275pipe=sr({name:"localeTime",type:Qi,pure:!0,standalone:!1}),Qi.\u0275prov=ar({token:Qi,factory:Qi.\u0275fac});var Wa=Qi;var XS=()=>[5,10,20,100];function zS(n,l){if(n&1){let e=A();a(0,"a",50),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),g(1,"i",51),s()}}function YS(n,l){if(n&1){let e=A();a(0,"div",17)(1,"a",52),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",53),s(),a(3,"p",21),d(4),S(5,"translate"),s()()}n&2&&(o(4),M(" ",h(5,1,"ACTION.ADD")," "))}function KS(n,l){if(n&1){let e=A();a(0,"div",17)(1,"a",54),I("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",55)(3,"br"),s(),a(4,"p",21),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.EDIT")," "))}function JS(n,l){if(n&1){let e=A();a(0,"div",17)(1,"a",56),I("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",57)(3,"br"),s(),a(4,"p",21),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.DELETE")," "))}function ZS(n,l){if(n&1&&(a(0,"mat-header-cell",58),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function $S(n,l){if(n&1&&(a(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.id," ")}}function eh(n,l){if(n&1&&(a(0,"mat-header-cell",58),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function th(n,l){if(n&1&&(a(0,"mat-cell",59),S(1,"statusCellClass"),g(2,"i",59),S(3,"statusIconClass"),s()),n&2){let e=l.$implicit;C("ngClass",h(1,2,e.recordStatus)),o(2),C("ngClass",h(3,4,e.recordStatus))}}function ih(n,l){if(n&1&&(a(0,"mat-header-cell",58),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.numberChar==null?null:e.fieldsInfo.numberChar.fieldTitle," ")}}function nh(n,l){if(n&1&&(a(0,"mat-cell",60),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.numberChar," ")}}function oh(n,l){if(n&1&&(a(0,"mat-header-cell",58),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.isPublic==null?null:e.fieldsInfo.isPublic.fieldTitle," ")}}function ah(n,l){if(n&1&&(a(0,"mat-cell"),g(1,"i",59),S(2,"statusIconClass"),s()),n&2){let e=l.$implicit;o(),C("ngClass",h(2,1,e.isPublic))}}function rh(n,l){if(n&1&&(a(0,"mat-header-cell",58),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.saleStatus==null?null:e.fieldsInfo.saleStatus.fieldTitle," ")}}function sh(n,l){if(n&1&&(a(0,"mat-cell"),g(1,"i",59),S(2,"statusIconClass"),s()),n&2){let e=l.$implicit;o(),C("ngClass",h(2,1,e.saleStatus))}}function lh(n,l){if(n&1&&(a(0,"mat-header-cell",58),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.accessUseStartDate==null?null:e.fieldsInfo.accessUseStartDate.fieldTitle," ")}}function ch(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",h(2,1,e.accessUseStartDate)," ")}}function dh(n,l){if(n&1&&(a(0,"mat-header-cell",58),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function mh(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",h(2,1,e.expireDate)," ")}}function ph(n,l){if(n&1&&(a(0,"mat-header-cell",58),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.lastUseOfDate==null?null:e.fieldsInfo.lastUseOfDate.fieldTitle," ")}}function uh(n,l){if(n&1&&(a(0,"mat-cell",61),d(1),S(2,"localeDate"),S(3,"localeTime"),s()),n&2){let e=l.$implicit;o(),je(" ",h(2,2,e.lastUseOfDate)," ",h(3,4,e.lastUseOfDate)," ")}}function fh(n,l){if(n&1&&(a(0,"mat-header-cell",58),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Sh(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",h(2,1,e.createdDate)," ")}}function hh(n,l){if(n&1&&(a(0,"mat-header-cell",58),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function gh(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",h(2,1,e.updatedDate)," ")}}function Ch(n,l){n&1&&(a(0,"mat-header-cell"),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",h(2,1,"TITLE.OPTION")," "))}function Mh(n,l){if(n&1&&(a(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),d(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),n&2){let e=P(5);o(),C("matMenuTriggerFor",e)}}function _h(n,l){n&1&&(a(0,"mat-header-cell",58),d(1,". "),s())}function bh(n,l){n&1&&(a(0,"mat-cell")(1,"mat-icon",64),d(2,"reorder"),s()())}function vh(n,l){n&1&&g(0,"mat-header-row")}function Ih(n,l){n&1&&g(0,"div",67)}function Ah(n,l){if(n&1){let e=A();a(0,"mat-row",65),I("click",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))})("rtclick",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))}),L(1,Ih,1,0,"div",66),s()}if(n&2){let e=l.$implicit,i=m();V("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),C("cdkDragData",e)}}var Ho=class Ho extends Oe{constructor(e,i,t,r,p,c,D,H,Ke,nt,Qe,Mt){super(e,new qt,Qe,c,Ke);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=r;this.router=p;this.tokenHelper=c;this.cdr=D;this.cmsStoreService=H;this.translate=Ke;this.pageInfo=nt;this.publicHelper=Qe;this.dialog=Mt;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","NumberChar","accessUseStartDate","expireDate","lastUseOfDate","isPublic","SaleStatus","createdDate","updatedDate","position"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","NumberChar","accessUseStartDate","isPublic","lastUseOfDate","SaleStatus","createdDate","updatedDate","position"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Y=>this.onSubmitOptionsSearch(Y)},this.filteModelContent.sortColumn="priority",this.filteModelContent.sortType=q.Ascending}ngOnInit(){if(this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")),this.requestLinkApiPathId?.length>0){let e=new Q;e.propertyName="ApiPathAndApiNumbers",e.propertyAnyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new qt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id?.length>0){let t=new Q;t.propertyName="ApiPathAndApiNumbers",t.propertyAnyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(r=>r===e.item.data),t=new Vn;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=ji.GoUp:t.actionGo=ji.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:r=>{r.isSuccess?(Nn(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(r.errorMessage)},error:r=>{this.cmsToastrService.typeError(r)}})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new J,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.filteModelContent.sortColumn="priority",this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.requestLinkApiPathId;this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(jn,{height:"90%",width:"60%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:e}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&(this.onActionButtonEditRow(r.model),this.DataGetAll())})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(zn,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],t=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(r=>{if(r){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let r=JSON.parse(JSON.stringify(this.filteModelContent)),p=new Q;p.propertyName="recordStatus",p.value=Pe.Available,r.filters.push(p),this.contentService.ServiceGetCount(r).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPermissionList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-number-permission/LinkApiNumberId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-number-permission/LinkApiNumberId/",this.tableRowSelected.id])}onActionButtonInboxList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/log/inbox/list/ReceiverNumber/"+this.tableRowSelected.numberChar;window.open(t,"_blank")}else this.router.navigate(["/sms/log/inbox/list/ReceiverNumber",this.tableRowSelected.numberChar])}onActionButtonOutboxList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/log/outbox/list/SenderNumber/"+this.tableRowSelected.numberChar;window.open(t,"_blank")}else this.router.navigate(["/sms/log/outbox/list/SenderNumber",this.tableRowSelected.numberChar])}onActionButtonSendMessage(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/action/send-message/LinkApiNumberId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/action/send-message/LinkApiNumberId",this.tableRowSelected.id])}onActionButtonReload(){this.filteModelContent.sortColumn="priority",this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};Ho.\u0275fac=function(i){return new(i||Ho)(_(li),_(O),_(ze),_(Ve),_(Le),_(Ce),_(F),_(ge),_(B),_(Fe),_(G),_(he))},Ho.\u0275cmp=N({type:Ho,selectors:[["app-sms-api-number-list"]],standalone:!1,features:[K],decls:100,vars:44,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-receipt","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-paper-plane-top","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","NumberChar"],["class","input-ltr",4,"matCellDef"],["matColumnDef","isPublic"],["matColumnDef","SaleStatus"],["matColumnDef","accessUseStartDate"],["matColumnDef","expireDate"],["matColumnDef","lastUseOfDate"],["dir","ltr",4,"matCellDef"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild","cdkDrag","",3,"ntk-row-selected","cdkDragData","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"input-ltr"],["dir","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],["cdkDrag","",1,"ntk-row-mainfild",3,"click","rtclick","cdkDragData"],["class","ntk-row-placeholder",4,"cdkDragPlaceholder"],[1,"ntk-row-placeholder"]],template:function(i,t){if(i&1){let r=A();a(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(c){return u(r),y(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(r),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(r),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(r),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(r),f(t.onActionButtonPrintRow())}),R(1,4),a(2,"app-sms-apipath-tree",5),I("optionChange",function(c){return u(r),f(t.onActionSelectorSelect(c))}),s(),x(),lt(3,6)(4,7),R(5,8),b(6,zS,2,0,"a",9),a(7,"a",10),I("click",function(){return u(r),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",11),s(),a(9,"a",10),I("click",function(){return u(r),f(t.onActionButtonReload())}),g(10,"i",12),s(),x(),R(11,13),a(12,"a",14),I("click",function(){return u(r),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",15),d(14),S(15,"translate"),s(),a(16,"a",14),I("click",function(){return u(r),f(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",15),d(18),S(19,"translate"),s(),x(),R(20,16),b(21,YS,6,3,"div",17),x(),R(22,18),b(23,KS,7,3,"div",17),b(24,JS,7,3,"div",17),a(25,"div",17)(26,"a",19),I("click",function(c){return u(r),f(t.onActionButtonSendMessage(t.tableRowSelected,c))}),g(27,"i",20)(28,"br"),s(),a(29,"p",21),d(30),S(31,"translate"),s()(),a(32,"div",17)(33,"a",19),I("click",function(c){return u(r),f(t.onActionButtonInboxList(t.tableRowSelected,c))}),g(34,"i",20)(35,"br"),s(),a(36,"p",21),d(37),S(38,"translate"),s()(),a(39,"div",17)(40,"a",19),I("click",function(c){return u(r),f(t.onActionButtonOutboxList(t.tableRowSelected,c))}),g(41,"i",22)(42,"br"),s(),a(43,"p",21),d(44),S(45,"translate"),s()(),a(46,"div",17)(47,"a",19),I("click",function(c){return u(r),f(t.onActionButtonPermissionList(t.tableRowSelected,c))}),g(48,"i",20)(49,"br"),s(),a(50,"p",21),d(51),S(52,"translate"),s()(),x(),R(53,23),a(54,"app-cms-search-list",24),w("optionsChange",function(c){return u(r),y(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),s(),a(55,"app-cms-statist-list",24),w("optionsChange",function(c){return u(r),y(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),s(),x(),R(56,25),a(57,"mat-table",26,0),I("matSortChange",function(){u(r);let c=P(58);return f(t.onTableSortData(c))})("cdkDropListDropped",function(c){return u(r),f(t.onTableDropRow(c))}),R(59,27),L(60,ZS,2,1,"mat-header-cell",28)(61,$S,2,1,"mat-cell",29),x(),R(62,30),L(63,eh,2,1,"mat-header-cell",28)(64,th,4,6,"mat-cell",31),x(),R(65,32),L(66,ih,2,1,"mat-header-cell",28)(67,nh,2,1,"mat-cell",33),x(),R(68,34),L(69,oh,2,1,"mat-header-cell",28)(70,ah,3,3,"mat-cell",29),x(),R(71,35),L(72,rh,2,1,"mat-header-cell",28)(73,sh,3,3,"mat-cell",29),x(),R(74,36),L(75,lh,2,1,"mat-header-cell",28)(76,ch,3,3,"mat-cell",29),x(),R(77,37),L(78,dh,2,1,"mat-header-cell",28)(79,mh,3,3,"mat-cell",29),x(),R(80,38),L(81,ph,2,1,"mat-header-cell",28)(82,uh,4,6,"mat-cell",39),x(),R(83,40),L(84,fh,2,1,"mat-header-cell",28)(85,Sh,3,3,"mat-cell",29),x(),R(86,41),L(87,hh,2,1,"mat-header-cell",28)(88,gh,3,3,"mat-cell",29),x(),R(89,42),L(90,Ch,3,3,"mat-header-cell",43)(91,Mh,6,1,"mat-cell",44),x(),R(92,45),L(93,_h,2,0,"mat-header-cell",28)(94,bh,3,0,"mat-cell",29),x(),L(95,vh,1,0,"mat-header-row",46)(96,Ah,2,3,"mat-row",47),s(),x(),R(97,48),a(98,"mat-paginator",49,1),I("page",function(c){return u(r),f(t.onTablePageingData(c))}),s(),x(),s()}i&2&&(C("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),C("optionTreeDisplay",!t.requestLinkApiPathId||t.requestLinkApiPathId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.numberChar),o(6),v((t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0?6:-1),o(4),V("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),C("checked",t.optionsSearch.data.show),o(),M("",h(15,31,"ACTION.SEARCH")," "),o(3),C("checked",t.optionsStatist.data.show),o(),M("",h(19,33,"ACTION.STATIST")," "),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(6),M(" ",h(31,35,"ACTION.SEND_MESSAGE")," "),o(7),M(" ",h(38,37,"ACTION.RECEIPTS")," "),o(7),M(" ",h(45,39,"ACTION.SUBMISSIONS")," "),o(7),M(" ",h(52,41,"ACTION.Permission")," "),o(3),T("options",t.optionsSearch),o(),T("options",t.optionsStatist),o(2),C("dataSource",t.tableSource)("cdkDropListData",t.tableSource),o(38),C("matHeaderRowDef",t.tabledisplayedColumns),o(),C("matRowDefColumns",t.tabledisplayedColumns),o(2),C("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",we(43,XS)))},dependencies:[Ne,gr,ct,Xe,Et,Tt,Be,yt,wt,Pt,Rt,Dt,Nt,kt,xt,Bt,Lt,Vt,Ft,Ot,Ge,He,Gt,Ht,Bn,ba,_a,Ma,va,U,Ye,Wa,We,oi],encapsulation:2});var pa=Ho;var Eh=()=>[5,10,20,100];function Th(n,l){if(n&1){let e=A();a(0,"div",15)(1,"a",38),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",39)(3,"br"),s(),a(4,"p",19),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.ADD")," "))}function yh(n,l){if(n&1){let e=A();a(0,"div",15)(1,"a",40),I("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",41)(3,"br"),s(),a(4,"p",19),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.EDIT")," "))}function wh(n,l){if(n&1){let e=A();a(0,"div",15)(1,"a",42),I("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",43)(3,"br"),s(),a(4,"p",19),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.DELETE")," "))}function Ph(n,l){n&1&&(a(0,"mat-header-cell",44),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",h(2,1,"TITLE.PICTURE")," "))}function Rh(n,l){if(n&1&&g(0,"img",45),n&2){let e=m().$implicit;C("src",k(e.linkMainImageIdSrc),me)}}function xh(n,l){if(n&1&&(a(0,"mat-cell"),b(1,Rh,1,2,"img",45),s()),n&2){let e=l.$implicit;o(),v((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Dh(n,l){if(n&1&&(a(0,"mat-header-cell",44),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function kh(n,l){if(n&1&&(a(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.id," ")}}function Lh(n,l){if(n&1&&(a(0,"mat-header-cell",44),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Vh(n,l){if(n&1&&(a(0,"mat-cell",46),S(1,"statusCellClass"),g(2,"i",46),S(3,"statusIconClass"),s()),n&2){let e=l.$implicit;C("ngClass",h(1,2,e.recordStatus)),o(2),C("ngClass",h(3,4,e.recordStatus))}}function Nh(n,l){if(n&1&&(a(0,"mat-header-cell",44),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Bh(n,l){if(n&1&&(a(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.title," ")}}function Fh(n,l){n&1&&(a(0,"mat-header-cell"),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",h(2,1,"TITLE.OPTION")," "))}function Oh(n,l){if(n&1&&(a(0,"mat-cell",47)(1,"button",48)(2,"mat-icon"),d(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),n&2){let e=P(5);o(),C("matMenuTriggerFor",e)}}function Gh(n,l){n&1&&g(0,"mat-header-row")}function Hh(n,l){if(n&1){let e=A();a(0,"mat-row",49),I("click",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))})("rtclick",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))}),s()}if(n&2){let e=l.$implicit,i=m();V("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Wo=class Wo extends Oe{constructor(e,i,t,r,p,c,D,H,Ke,nt,Qe){super(e,new _t,nt,p,D);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.router=r;this.tokenHelper=p;this.cdr=c;this.translate=D;this.cmsStoreService=H;this.pageInfo=Ke;this.publicHelper=nt;this.dialog=Qe;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","title"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","title"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Mt=>this.onSubmitOptionsSearch(Mt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=q.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new _t);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Zn,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(eo,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],t=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(r=>{if(r){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let r=JSON.parse(JSON.stringify(this.filteModelContent)),p=new Q;p.propertyName="recordStatus",p.value=Pe.Available,r.filters.push(p),this.contentService.ServiceGetCount(r).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonApiList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-path/list/LinkCompanyId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-path/list/LinkCompanyId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Wo.\u0275fac=function(i){return new(i||Wo)(_(At),_(O),_(Ve),_(Le),_(Ce),_(F),_(B),_(ge),_(Fe),_(G),_(he))},Wo.\u0275cmp=N({type:Wo,selectors:[["app-sms-apipathcompany-list"]],standalone:!1,features:[K],decls:57,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let r=A();a(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(c){return u(r),y(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(r),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(r),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(r),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(r),f(t.onActionButtonPrintRow())}),R(1,4),d(2," -------------------------------------- "),x(),lt(3,5)(4,6),R(5,7),a(6,"a",8),I("click",function(){return u(r),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",9),s(),a(8,"a",8),I("click",function(){return u(r),f(t.onActionButtonReload())}),g(9,"i",10),s(),x(),R(10,11),a(11,"a",12),I("click",function(){return u(r),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",13),d(13),S(14,"translate"),s(),a(15,"a",12),I("click",function(){return u(r),f(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",13),d(17),S(18,"translate"),s(),x(),R(19,14),b(20,Th,7,3,"div",15),x(),R(21,16),b(22,yh,7,3,"div",15),b(23,wh,7,3,"div",15),a(24,"div",15)(25,"a",17),I("click",function(c){return u(r),f(t.onActionButtonApiList(t.tableRowSelected,c))}),g(26,"i",18)(27,"br"),s(),a(28,"p",19),d(29),S(30,"translate"),s()(),x(),R(31,20),a(32,"app-cms-search-list",21),w("optionsChange",function(c){return u(r),y(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),s(),a(33,"app-cms-statist-list",21),w("optionsChange",function(c){return u(r),y(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),s(),x(),R(34,22),a(35,"mat-table",23,0),I("matSortChange",function(){u(r);let c=P(36);return f(t.onTableSortData(c))}),R(37,24),L(38,Ph,3,3,"mat-header-cell",25)(39,xh,2,1,"mat-cell",26),x(),R(40,27),L(41,Dh,2,1,"mat-header-cell",25)(42,kh,2,1,"mat-cell",26),x(),R(43,28),L(44,Lh,2,1,"mat-header-cell",25)(45,Vh,4,6,"mat-cell",29),x(),R(46,30),L(47,Nh,2,1,"mat-header-cell",25)(48,Bh,2,1,"mat-cell",26),x(),R(49,31),L(50,Fh,3,3,"mat-header-cell",32)(51,Oh,6,1,"mat-cell",33),x(),L(52,Gh,1,0,"mat-header-row",34)(53,Hh,1,2,"mat-row",35),s(),x(),R(54,36),a(55,"mat-paginator",37,1),I("page",function(c){return u(r),f(t.onTablePageingData(c))}),s(),x(),s()}i&2&&(C("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),C("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),V("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),C("checked",t.optionsSearch.data.show),o(),M("",h(14,26,"ACTION.SEARCH")," "),o(3),C("checked",t.optionsStatist.data.show),o(),M("",h(18,28,"ACTION.STATIST")," "),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(6),M(" ",h(30,30,"ACTION.ROUTES")," "),o(3),T("options",t.optionsSearch),o(),T("options",t.optionsStatist),o(2),C("dataSource",t.tableSource),o(17),C("matHeaderRowDef",t.tabledisplayedColumns),o(),C("matRowDefColumns",t.tabledisplayedColumns),o(2),C("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",we(32,Eh)))},dependencies:[Ne,ct,Xe,Et,Tt,Be,yt,wt,Pt,Rt,Dt,Nt,kt,xt,Bt,Lt,Vt,Ft,Ot,Ge,He,Gt,Ht,U,We,oi],encapsulation:2});var Ua=Wo;var Uo=class Uo{constructor(l,e,i,t,r,p,c,D){this.headerService=l;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.dialog=r;this.translate=p;this.cmsStoreService=c;this.tokenHelper=D;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new X;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>ee(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};Uo.\u0275fac=function(e){return new(e||Uo)(_(ft),_(G),_(F),_(O),_(he),_(B),_(ge),_(Ce))},Uo.\u0275cmp=N({type:Uo,selectors:[["app-sms-apipath-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:31,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(a(0,"div",0),g(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),g(6,"span",6),s(),a(7,"div",7)(8,"h5")(9,"b"),d(10),S(11,"translate"),s()()(),g(12,"div",8),s(),a(13,"div",4)(14,"div",5)(15,"b"),d(16),s(),d(17,": "),s(),a(18,"div",9),d(19),s(),g(20,"div",10)(21,"div",11),s(),a(22,"div",4)(23,"div",5)(24,"b"),d(25),s(),d(26,": "),s(),a(27,"div",9),d(28),s(),g(29,"div",11),s()()()(),g(30,"div",12)),e&2&&(o(),C("optionsInfoAreaId",i.constructorInfoAreaId),o(5),C("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(" ",h(11,7,"TITLE.Selected_Route")," "),o(6),M("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),E(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),M("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," "),o(3),E(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[z,xa,U],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var qo=Uo;var Wh=()=>["expandedDetail"],Uh=()=>[5,10,20,100],qh=n=>({display:n});function jh(n,l){if(n&1&&g(0,"app-sms-apipath-header",3),n&2){let e=m();C("optionId",e.requestLinkApiPathId)}}function Qh(n,l){if(n&1){let e=A();a(0,"a",48),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),g(1,"i",49),s()}}function Xh(n,l){if(n&1){let e=A();a(0,"div",18)(1,"a",50),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",51)(3,"br"),s(),a(4,"p",52),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.ADD")," "))}function zh(n,l){if(n&1){let e=A();a(0,"div",18)(1,"a",53),I("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),s(),a(4,"p",52),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.EDIT")," "))}function Yh(n,l){if(n&1){let e=A();a(0,"div",18)(1,"a",55),I("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",56)(3,"br"),s(),a(4,"p",52),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.DELETE")," "))}function Kh(n,l){if(n&1&&(a(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Jh(n,l){if(n&1&&(a(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.id," ")}}function Zh(n,l){if(n&1&&(a(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function $h(n,l){if(n&1&&(a(0,"mat-cell",58),S(1,"statusCellClass"),g(2,"i",58),S(3,"statusIconClass"),s()),n&2){let e=l.$implicit;C("ngClass",h(1,2,e.recordStatus)),o(2),C("ngClass",h(3,4,e.recordStatus))}}function eg(n,l){if(n&1&&(a(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkApiPathId==null?null:e.fieldsInfo.linkApiPathId.fieldTitle," ")}}function tg(n,l){if(n&1&&(a(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.linkApiPathId," ")}}function ig(n,l){if(n&1&&(a(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkCoreUserId==null?null:e.fieldsInfo.linkCoreUserId.fieldTitle," ")}}function ng(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"cmsuserinfo"),S(3,"async"),s()),n&2){let e=l.$implicit;o(),M(" ",h(3,3,h(2,1,e.linkCoreUserId))," ")}}function og(n,l){if(n&1&&(a(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkCoreUserGroupId==null?null:e.fieldsInfo.linkCoreUserGroupId.fieldTitle," ")}}function ag(n,l){if(n&1&&(a(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.linkCoreUserGroupId," ")}}function rg(n,l){if(n&1&&(a(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle," ")}}function sg(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",h(2,1,e.fromDate)," ")}}function lg(n,l){if(n&1&&(a(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function cg(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",h(2,1,e.expireDate)," ")}}function dg(n,l){if(n&1&&(a(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function mg(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",h(2,1,e.createdDate)," ")}}function pg(n,l){if(n&1&&(a(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function ug(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",h(2,1,e.updatedDate)," ")}}function fg(n,l){if(n&1&&(a(0,"mat-header-cell",59),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.hasAccess==null?null:e.fieldsInfo.hasAccess.fieldTitle," ")}}function Sg(n,l){if(n&1&&(a(0,"mat-cell"),g(1,"i",58),S(2,"boolclass"),s()),n&2){let e=l.$implicit;o(),C("ngClass",h(2,1,e.hasAccess))}}function hg(n,l){if(n&1&&(a(0,"mat-header-cell",59),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle," ")}}function gg(n,l){if(n&1&&(a(0,"mat-cell"),g(1,"i",58),S(2,"boolclass"),s()),n&2){let e=l.$implicit;o(),C("ngClass",h(2,1,e.hasInherits))}}function Cg(n,l){n&1&&(a(0,"mat-header-cell"),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",h(2,1,"TITLE.OPTION")," "))}function Mg(n,l){if(n&1&&(a(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),d(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),n&2){let e=P(5);o(),C("matMenuTriggerFor",e)}}function _g(n,l){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),d(3),S(4,"cmsuserinfo"),S(5,"async"),s()()),n&2){let e=m().$implicit,i=m();o(3),je(" ",i.fieldsInfo.linkCoreUserId==null?null:i.fieldsInfo.linkCoreUserId.fieldTitle," : ",h(5,4,h(4,2,e.linkCoreUserId))," ")}}function bg(n,l){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),d(3),S(4,"cmssiteinfo"),S(5,"async"),s()()),n&2){let e=m().$implicit,i=m();o(3),je(" ",i.fieldsInfo.linkCoreSiteId==null?null:i.fieldsInfo.linkCoreSiteId.fieldTitle," : ",h(5,4,h(4,2,e.linkCoreSiteId))," ")}}function vg(n,l){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),d(3),s()()),n&2){let e=m().$implicit,i=m();o(3),je(" ",i.fieldsInfo.linkCoreUserGroupId==null?null:i.fieldsInfo.linkCoreUserGroupId.fieldTitle," : ",e.linkCoreUserGroupId," ")}}function Ig(n,l){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),d(3),s()()),n&2){let e=m().$implicit,i=m();o(3),je(" ",i.fieldsInfo.linkCoreSiteCategoryId==null?null:i.fieldsInfo.linkCoreSiteCategoryId.fieldTitle," : ",e.linkCoreSiteCategoryId," ")}}function Ag(n,l){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit,i=m();o(3),je(" ",i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle," : ",h(4,2,e.fromDate)," ")}}function Eg(n,l){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit,i=m();o(3),je(" ",i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle," : ",h(4,2,e.expireDate)," ")}}function Tg(n,l){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit,i=m();o(3),je(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle," : ",h(4,2,e.createdDate)," ")}}function yg(n,l){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit,i=m();o(3),je(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",h(4,2,e.updatedDate)," ")}}function wg(n,l){if(n&1&&(a(0,"mat-cell")(1,"div")(2,"table"),b(3,_g,6,6,"tr"),b(4,bg,6,6,"tr"),b(5,vg,4,2,"tr"),b(6,Ig,4,2,"tr"),b(7,Ag,5,4,"tr"),b(8,Eg,5,4,"tr"),b(9,Tg,5,4,"tr"),b(10,yg,5,4,"tr"),a(11,"tr"),g(12,"td")(13,"td"),s()()()()),n&2){let e=l.$implicit;o(3),v(e.linkCoreUserId?3:-1),o(),v(e.linkCoreSiteId?4:-1),o(),v(e.linkCoreUserGroupId?5:-1),o(),v(e.linkCoreSiteCategoryId?6:-1),o(),v(e.fromDate?7:-1),o(),v(e.expireDate?8:-1),o(),v(e.createdDate?9:-1),o(),v(e.updatedDate?10:-1)}}function Pg(n,l){n&1&&g(0,"mat-header-row")}function Rg(n,l){if(n&1){let e=A();a(0,"mat-row",62),I("click",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))})("rtclick",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))}),s()}if(n&2){let e=l.$implicit,i=m();V("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function xg(n,l){if(n&1){let e=A();a(0,"mat-row",63),I("click",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))})("rtclick",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))})("mouseenter",function(){let t=u(e).$implicit,r=m();return f(r.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,r=m();return f(r.onActionTableRowMouseLeave(t))}),s()}if(n&2){let e=l.$implicit,i=m();V("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),C("ngStyle",Xi(3,qh,e.expanded===!0?"":"none"))}}var jo=class jo extends Oe{constructor(e,i,t,r,p,c,D,H,Ke,nt,Qe,Mt){super(e,new hi,Qe,c,H);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=r;this.router=p;this.tokenHelper=c;this.cdr=D;this.translate=H;this.cmsStoreService=Ke;this.pageInfo=nt;this.publicHelper=Qe;this.dialog=Mt;this.requestLinkApiPathId="";this.requestLinkCoreUserId=0;this.requestLinkCoreSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","linkApiPathId","linkCoreUserId","linkCoreUserGroupId","hasAccess","hasInherits","fromDate","expireDate"];this.tabledisplayedColumnsMobileSource=["recordStatus","linkApiPathId","linkCoreUserId","linkCoreUserGroupId","hasAccess","hasInherits","fromDate","expireDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Y=>this.onSubmitOptionsSearch(Y)},this.requestLinkCoreUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkCoreSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId"),this.requestLinkCoreUserId>0){let Y=new Q;Y.propertyName="LinkCoreUserId",Y.value=this.requestLinkCoreUserId,this.filteModelContent.filters.push(Y)}if(this.requestLinkApiPathId?.length>0){let Y=new Q;Y.propertyName="LinkApiPathId",Y.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(Y)}this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=q.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new hi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new Q;t.propertyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new J,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(no,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ao,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],t=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(r=>{if(r){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let r=JSON.parse(JSON.stringify(this.filteModelContent)),p=new Q;p.propertyName="recordStatus",p.value=Pe.Available,r.filters.push(p),this.contentService.ServiceGetCount(r).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};jo.\u0275fac=function(i){return new(i||jo)(_(Bi),_(O),_(ze),_(Ve),_(Le),_(Ce),_(F),_(B),_(ge),_(Fe),_(G),_(he))},jo.\u0275cmp=N({type:jo,selectors:[["app-sms-apipathpermission-list"]],standalone:!1,features:[K],decls:76,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkApiPathId"],["matColumnDef","linkCoreUserId"],["matColumnDef","linkCoreUserGroupId"],["matColumnDef","fromDate"],["matColumnDef","expireDate"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","hasAccess"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","hasInherits"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["mat-sort-header","",1,"form-label"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let r=A();b(0,jh,1,1,"app-sms-apipath-header",3),a(1,"app-cms-html-list",4),w("optionActionGuideNoticeDisplayChange",function(c){return u(r),y(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(r),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(r),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(r),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(r),f(t.onActionButtonPrintRow())}),R(2,5),a(3,"app-sms-apipath-tree",6),I("optionChange",function(c){return u(r),f(t.onActionSelectorSelect(c))}),s(),x(),lt(4,7)(5,8),R(6,9),b(7,Qh,2,0,"a",10),a(8,"a",11),I("click",function(){return u(r),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",12),s(),a(10,"a",11),I("click",function(){return u(r),f(t.onActionButtonReload())}),g(11,"i",13),s(),x(),R(12,14),a(13,"a",15),I("click",function(){return u(r),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(14,"mat-slide-toggle",16),d(15),S(16,"translate"),s(),a(17,"a",15),I("click",function(){return u(r),f(t.onActionButtonStatist())}),g(18,"mat-slide-toggle",16),d(19),S(20,"translate"),s(),x(),R(21,17),b(22,Xh,7,3,"div",18),x(),R(23,19),b(24,zh,7,3,"div",18),b(25,Yh,7,3,"div",18),x(),R(26,20),a(27,"app-cms-search-list",21),w("optionsChange",function(c){return u(r),y(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),s(),a(28,"app-cms-statist-list",21),w("optionsChange",function(c){return u(r),y(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),s(),x(),R(29,22),a(30,"mat-table",23,0),I("matSortChange",function(){u(r);let c=P(31);return f(t.onTableSortData(c))}),R(32,24),L(33,Kh,2,1,"mat-header-cell",25)(34,Jh,2,1,"mat-cell",26),x(),R(35,27),L(36,Zh,2,1,"mat-header-cell",25)(37,$h,4,6,"mat-cell",28),x(),R(38,29),L(39,eg,2,1,"mat-header-cell",25)(40,tg,2,1,"mat-cell",26),x(),R(41,30),L(42,ig,2,1,"mat-header-cell",25)(43,ng,4,5,"mat-cell",26),x(),R(44,31),L(45,og,2,1,"mat-header-cell",25)(46,ag,2,1,"mat-cell",26),x(),R(47,32),L(48,rg,2,1,"mat-header-cell",25)(49,sg,3,3,"mat-cell",26),x(),R(50,33),L(51,lg,2,1,"mat-header-cell",25)(52,cg,3,3,"mat-cell",26),x(),R(53,34),L(54,dg,2,1,"mat-header-cell",25)(55,mg,3,3,"mat-cell",26),x(),R(56,35),L(57,pg,2,1,"mat-header-cell",25)(58,ug,3,3,"mat-cell",26),x(),R(59,36),L(60,fg,2,1,"mat-header-cell",37)(61,Sg,3,3,"mat-cell",26),x(),R(62,38),L(63,hg,2,1,"mat-header-cell",37)(64,gg,3,3,"mat-cell",26),x(),R(65,39),L(66,Cg,3,3,"mat-header-cell",40)(67,Mg,6,1,"mat-cell",41),x(),R(68,42),L(69,wg,14,8,"mat-cell",26),x(),L(70,Pg,1,0,"mat-header-row",43)(71,Rg,1,2,"mat-row",44)(72,xg,1,5,"mat-row",45),s(),x(),R(73,46),a(74,"mat-paginator",47,1),I("page",function(c){return u(r),f(t.onTablePageingData(c))}),s(),x(),s()}i&2&&(v((t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0?0:-1),o(),C("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),C("optionTreeDisplay",!t.requestLinkApiPathId||t.requestLinkApiPathId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),v((t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0?7:-1),o(4),V("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),C("checked",t.optionsSearch.data.show),o(),M("",h(16,28,"ACTION.SEARCH")," "),o(3),C("checked",t.optionsStatist.data.show),o(),M("",h(20,30,"ACTION.STATIST")," "),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?22:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?24:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?25:-1),o(2),T("options",t.optionsSearch),o(),T("options",t.optionsStatist),o(2),C("dataSource",t.tableSource),o(40),C("matHeaderRowDef",t.tabledisplayedColumns),o(),C("matRowDefColumns",t.tabledisplayedColumns),o(),C("matRowDefColumns",we(32,Wh)),o(2),C("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",we(33,Uh)))},dependencies:[Ne,zi,ct,Xe,Et,Tt,Be,yt,wt,Pt,Rt,Dt,Nt,kt,xt,Bt,Lt,Vt,Ft,Ot,Ge,He,Gt,Ht,Bn,qo,ot,U,Ii,sn,Ye,We,oi,Da],encapsulation:2});var Dn=jo;var Dg=()=>["expandedDetail"],kg=()=>[5,10,20,100],Lg=n=>({display:n});function Vg(n,l){if(n&1&&g(0,"app-sms-apipath-header",3),n&2){let e=m();C("optionId",e.requestLinkApiPathId)}}function Ng(n,l){if(n&1){let e=A();a(0,"a",49),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),g(1,"i",50),s()}}function Bg(n,l){if(n&1){let e=A();a(0,"div",21)(1,"a",51),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",52)(3,"br"),s(),a(4,"p",53),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.ADD")," "))}function Fg(n,l){if(n&1){let e=A();a(0,"div",21)(1,"a",54),I("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",55)(3,"br"),s(),a(4,"p",53),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.EDIT")," "))}function Og(n,l){if(n&1){let e=A();a(0,"div",21)(1,"a",56),I("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",57)(3,"br"),s(),a(4,"p",53),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.DELETE")," "))}function Gg(n,l){if(n&1){let e=A();a(0,"div",21)(1,"a",58),I("click",function(){u(e);let t=m();return f(t.onActionButtonCopyRow(t.tableRowSelected))}),g(2,"i",59)(3,"br"),s(),a(4,"p",53),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.COPY")," "))}function Hg(n,l){if(n&1&&(a(0,"mat-header-cell",60),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Wg(n,l){if(n&1&&(a(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.id," ")}}function Ug(n,l){if(n&1&&(a(0,"mat-header-cell",60),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function qg(n,l){if(n&1&&(a(0,"mat-cell",61),S(1,"statusCellClass"),g(2,"i",61),S(3,"statusIconClass"),s()),n&2){let e=l.$implicit;C("ngClass",h(1,2,e.recordStatus)),o(2),C("ngClass",h(3,4,e.recordStatus))}}function jg(n,l){if(n&1&&(a(0,"mat-header-cell",60),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Qg(n,l){if(n&1&&(a(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.title," ")}}function Xg(n,l){if(n&1&&(a(0,"mat-header-cell",60),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkApiPathId==null?null:e.fieldsInfo.linkApiPathId.fieldTitle," ")}}function zg(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"cmstitle"),s()),n&2){let e=l.$implicit,i=m();o(),E(fi(2,1,e.linkApiPathId,i.dataModelPrivateResult.listItems))}}function Yg(n,l){if(n&1&&(a(0,"mat-header-cell",60),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.regulatorNumber==null?null:e.fieldsInfo.regulatorNumber.fieldTitle," ")}}function Kg(n,l){if(n&1&&(a(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.regulatorNumber," ")}}function Jg(n,l){n&1&&(a(0,"mat-header-cell",60),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",h(2,1,"TITLE.ServiceMaxPage")," "))}function Zg(n,l){if(n&1&&(a(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.serviceMessageLengthPaginationList==null?null:e.serviceMessageLengthPaginationList.length," ")}}function $g(n,l){n&1&&(a(0,"mat-header-cell",60),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",h(2,1,"TITLE.endUserMaxPage")," "))}function eC(n,l){if(n&1&&(a(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.endUserMessageLengthPaginationList==null?null:e.endUserMessageLengthPaginationList.length," ")}}function tC(n,l){if(n&1&&(a(0,"mat-header-cell",60),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle," ")}}function iC(n,l){if(n&1&&(a(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.servicePricePerPage," ")}}function nC(n,l){if(n&1&&(a(0,"mat-header-cell",60),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle," ")}}function oC(n,l){if(n&1&&(a(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.endUserPricePerPage," ")}}function aC(n,l){if(n&1&&(a(0,"mat-header-cell",60),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.messageType==null?null:e.fieldsInfo.messageType.fieldTitle," ")}}function rC(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"enums"),s()),n&2){let e=l.$implicit,i=m();o(),M(" ",fi(2,1,e.messageType,i.dataModelSmsMessageTypeEnumResult.listItems)," ")}}function sC(n,l){n&1&&(a(0,"mat-header-cell"),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",h(2,1,"TITLE.OPTION")," "))}function lC(n,l){if(n&1&&(a(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),d(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),n&2){let e=P(5);o(),C("matMenuTriggerFor",e)}}function cC(n,l){n&1&&g(0,"mat-header-row")}function dC(n,l){if(n&1){let e=A();a(0,"mat-row",64),I("click",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))})("rtclick",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))}),s()}if(n&2){let e=l.$implicit,i=m();V("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function mC(n,l){if(n&1){let e=A();a(0,"mat-row",65),I("click",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))})("rtclick",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))})("mouseenter",function(){let t=u(e).$implicit,r=m();return f(r.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,r=m();return f(r.onActionTableRowMouseLeave(t))}),s()}if(n&2){let e=l.$implicit,i=m();V("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),C("ngStyle",Xi(3,Lg,e.expanded===!0?"":"none"))}}function pC(n,l){if(n&1&&(a(0,"mat-cell")(1,"div")(2,"table")(3,"tr"),g(4,"th")(5,"th",66),s(),a(6,"tr")(7,"td"),d(8),s(),a(9,"td",66),d(10),s()(),a(11,"tr")(12,"td"),d(13),s(),a(14,"td",66),d(15),s()(),a(16,"tr")(17,"td"),d(18),s(),a(19,"td",66),d(20),s()(),a(21,"tr"),g(22,"td")(23,"td"),s()()()()),n&2){let e=l.$implicit,i=m();o(8),E(i.fieldsInfo.regulatorNumberJson==null?null:i.fieldsInfo.regulatorNumberJson.fieldTitle),o(2),E(e.regulatorNumberJson),o(3),M(" ",i.fieldsInfo.serviceMessageLengthPaginationJson==null?null:i.fieldsInfo.serviceMessageLengthPaginationJson.fieldTitle," "),o(2),M(" ",e.serviceMessageLengthPaginationJson," "),o(3),M(" ",i.fieldsInfo.endUserMessageLengthPaginationJson==null?null:i.fieldsInfo.endUserMessageLengthPaginationJson.fieldTitle," "),o(2),M(" ",e.endUserMessageLengthPaginationJson," ")}}var Qo=class Qo extends Oe{constructor(e,i,t,r,p,c,D,H,Ke,nt,Qe,Mt,Y,Za){super(e,new gi,Y,c,H);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=r;this.router=p;this.tokenHelper=c;this.cdr=D;this.translate=H;this.smsMainApiPathService=Ke;this.cmsStoreService=nt;this.smsEnumService=Qe;this.pageInfo=Mt;this.publicHelper=Y;this.dialog=Za;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.dataModelSmsMessageTypeEnumResult=new X;this.dataModelSmsOutBoxTypeEnumResult=new X;this.dataModelPrivateResult=new X;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","title","LinkApiPathId","messageType","serviceMaxPage","endUserMaxPage","servicePricePerPage","endUserPricePerPage"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","LinkApiPathId","messageType","servicePricePerPage","endUserPricePerPage"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:An=>this.onSubmitOptionsSearch(An)},this.filteModelContent.sortColumn="LinkApiPathId",this.filteModelContent.sortType=q.Ascending}ngOnInit(){if(this.filteModelContent.sortColumn="LinkApiPathId",this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")),this.requestLinkApiPathId?.length>0){let e=new Q;e.propertyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getPrivateConfig(),this.getSmsMessageTypeEnum()}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getPrivateConfig(){let e=new J;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new gi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new Q;t.propertyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new J,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Pn,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:this.categoryModelSelected?.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(mo,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonCopyRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Pn,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],t=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(r=>{if(r){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let r=JSON.parse(JSON.stringify(this.filteModelContent)),p=new Q;p.propertyName="recordStatus",p.value=Pe.Available,r.filters.push(p),this.contentService.ServiceGetCount(r).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};Qo.\u0275fac=function(i){return new(i||Qo)(_(Yi),_(O),_(ze),_(Ve),_(Le),_(Ce),_(F),_(B),_(ft),_(ge),_($e),_(Fe),_(G),_(he))},Qo.\u0275cmp=N({type:Qo,selectors:[["app-sms-apipathpriceservice-list"]],standalone:!1,features:[K],decls:78,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","LinkApiPathId"],["matColumnDef","RegulatorNumber"],["matColumnDef","serviceMaxPage"],["matColumnDef","endUserMaxPage"],["matColumnDef","servicePricePerPage"],["matColumnDef","endUserPricePerPage"],["matColumnDef","messageType"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedDetail"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"],[1,"col-form-label"]],template:function(i,t){if(i&1){let r=A();b(0,Vg,1,1,"app-sms-apipath-header",3),a(1,"app-cms-html-list",4),w("optionActionGuideNoticeDisplayChange",function(c){return u(r),y(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(r),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(r),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(r),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(r),f(t.onActionButtonPrintRow())}),R(2,5),a(3,"app-sms-apipath-tree",6),I("optionChange",function(c){return u(r),f(t.onActionSelectorSelect(c))}),s(),x(),lt(4,7)(5,8),R(6,9),b(7,Ng,2,0,"a",10),a(8,"a",11),I("click",function(){return u(r),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",12),s(),a(10,"a",11),I("click",function(){return u(r),f(t.onActionButtonReload())}),g(11,"i",13),s(),a(12,"a",14),I("click",function(){return u(r),f(t.onActionGridExpandRows(!0))}),g(13,"i",15),s(),a(14,"a",14),I("click",function(){return u(r),f(t.onActionGridExpandRows(!1))}),g(15,"i",16),s(),x(),R(16,17),a(17,"a",18),I("click",function(){return u(r),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(18,"mat-slide-toggle",19),d(19),S(20,"translate"),s(),a(21,"a",18),I("click",function(){return u(r),f(t.onActionButtonStatist())}),g(22,"mat-slide-toggle",19),d(23),S(24,"translate"),s(),x(),R(25,20),b(26,Bg,7,3,"div",21),x(),R(27,22),b(28,Fg,7,3,"div",21),b(29,Og,7,3,"div",21),b(30,Gg,7,3,"div",21),x(),R(31,23),a(32,"app-cms-search-list",24),w("optionsChange",function(c){return u(r),y(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),s(),a(33,"app-cms-statist-list",24),w("optionsChange",function(c){return u(r),y(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),s(),x(),R(34,25),a(35,"mat-table",26,0),I("matSortChange",function(){u(r);let c=P(36);return f(t.onTableSortData(c))}),R(37,27),L(38,Hg,2,1,"mat-header-cell",28)(39,Wg,2,1,"mat-cell",29),x(),R(40,30),L(41,Ug,2,1,"mat-header-cell",28)(42,qg,4,6,"mat-cell",31),x(),R(43,32),L(44,jg,2,1,"mat-header-cell",28)(45,Qg,2,1,"mat-cell",29),x(),R(46,33),L(47,Xg,2,1,"mat-header-cell",28)(48,zg,3,4,"mat-cell",29),x(),R(49,34),L(50,Yg,2,1,"mat-header-cell",28)(51,Kg,2,1,"mat-cell",29),x(),R(52,35),L(53,Jg,3,3,"mat-header-cell",28)(54,Zg,2,1,"mat-cell",29),x(),R(55,36),L(56,$g,3,3,"mat-header-cell",28)(57,eC,2,1,"mat-cell",29),x(),R(58,37),L(59,tC,2,1,"mat-header-cell",28)(60,iC,2,1,"mat-cell",29),x(),R(61,38),L(62,nC,2,1,"mat-header-cell",28)(63,oC,2,1,"mat-cell",29),x(),R(64,39),L(65,aC,2,1,"mat-header-cell",28)(66,rC,3,4,"mat-cell",29),x(),R(67,40),L(68,sC,3,3,"mat-header-cell",41)(69,lC,6,1,"mat-cell",42),x(),L(70,cC,1,0,"mat-header-row",43)(71,dC,1,2,"mat-row",44)(72,mC,1,5,"mat-row",45),R(73,46),L(74,pC,24,6,"mat-cell",29),x(),s(),x(),R(75,47),a(76,"mat-paginator",48,1),I("page",function(c){return u(r),f(t.onTablePageingData(c))}),s(),x(),s()}i&2&&(v((t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0?0:-1),o(),C("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),C("optionTreeDisplay",!t.requestLinkApiPathId||t.requestLinkApiPathId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),v((t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0?7:-1),o(4),V("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),C("checked",t.optionsSearch.data.show),o(),M("",h(20,29,"ACTION.SEARCH")," "),o(3),C("checked",t.optionsStatist.data.show),o(),M("",h(24,31,"ACTION.STATIST")," "),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?26:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?28:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?29:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?30:-1),o(2),T("options",t.optionsSearch),o(),T("options",t.optionsStatist),o(2),C("dataSource",t.tableSource),o(35),C("matHeaderRowDef",t.tabledisplayedColumns),o(),C("matRowDefColumns",t.tabledisplayedColumns),o(),C("matRowDefColumns",we(33,Dg)),o(4),C("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",we(34,kg)))},dependencies:[Ne,zi,ct,Xe,Et,Tt,Be,yt,wt,Pt,Rt,Dt,Nt,kt,xt,Bt,Lt,Vt,Ft,Ot,Ge,He,Gt,Ht,Bn,qo,U,Fr,ln,We,oi],encapsulation:2});var ua=Qo;function SC(n,l){if(n&1){let e=A();a(0,"button",11),I("click",function(){u(e);let t=m();return f(t.onActionButtonReload())}),a(1,"mat-icon",12),S(2,"translate"),d(3,"refresh"),s()()}if(n&2){let e=m();o(),V("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),C("title",k(h(2,4,"ACTION.RELOAD")))}}function hC(n,l){if(n&1){let e=A();a(0,"mat-tree-node",13),g(1,"button",14),a(2,"span",15),I("click",function(){let t=u(e).$implicit,r=m();return f(r.onActionSelect(t))}),g(3,"img",16),d(4),s()()}if(n&2){let e=l.$implicit,i=m();V("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),C("src",k(e.linkMainImageIdSrc),me),o(),M("\xA0",e.title)}}function gC(n,l){if(n&1){let e=A();a(0,"mat-tree-node",17)(1,"button",18)(2,"mat-icon",19),d(3),s()(),a(4,"span",15),I("click",function(){let t=u(e).$implicit,r=m();return f(r.onActionSelect(t))}),g(5,"img",16),d(6),s()()}if(n&2){let e=l.$implicit,i=m(),t=P(9);V("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),C("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),W("type","button")("aria-label","Toggle "+e.title),o(2),M(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),C("src",k(e.linkMainImageIdSrc),me),o(),M("\xA0",e.title)}}var Xo=class Xo{constructor(l,e,i,t,r,p,c,D,H){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=r;this.publicHelper=p;this.tokenHelper=c;this.cmsStoreService=D;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new _t;this.dataModelResult=new X;this.filterModel=new J;this.dataSource=new Ra;this.optionChange=new st;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!1;this.childrenAccessor=l=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>ee(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){l&&this.dataModelSelect&&l.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new _t,this.DataGetAll()}onActionSelectForce(l){}};Xo.\u0275fac=function(e){return new(e||Xo)(_(O),_(Re),_(At),_(he),_(F),_(G),_(Ce),_(ge),_(B))},Xo.\u0275cmp=N({type:Xo,selectors:[["app-sms-apipathcompany-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:13,vars:11,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),R(1,2),d(2),S(3,"translate"),x(),R(4,3),b(5,SC,4,6,"button",4),x(),R(6,5),g(7,"app-progress-spinner",6),a(8,"mat-tree",7,0),L(10,hC,5,5,"mat-tree-node",8)(11,gC,7,10,"mat-tree-node",9),s(),x(),lt(12,10),s()),e&2&&(C("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),M(" ",h(3,9,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),v(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?5:-1),o(2),C("optionsInfoAreaId",i.constructorInfoAreaId),o(),C("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),C("matTreeNodeDefWhen",i.hasChild))},dependencies:[ct,Xe,Ta,ya,Pa,wa,Ea,z,ka,U],encapsulation:2});var qa=Xo;var MC=()=>[5,10,20,100];function _C(n,l){if(n&1){let e=A();a(0,"a",51),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),g(1,"i",52),s()}}function bC(n,l){if(n&1){let e=A();a(0,"div",17)(1,"a",22),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",53)(3,"br"),s(),a(4,"p",20),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.ADD")," "))}function vC(n,l){if(n&1){let e=A();a(0,"div",17)(1,"a",54),I("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",55)(3,"br"),s(),a(4,"p",20),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.EDIT")," "))}function IC(n,l){if(n&1){let e=A();a(0,"div",17)(1,"a",56),I("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",57)(3,"br"),s(),a(4,"p",20),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.DELETE")," "))}function AC(n,l){if(n&1){let e=A();a(0,"div",17)(1,"a",19),I("click",function(){u(e);let t=m();return f(t.onActionButtonCopy(t.tableRowSelected))}),g(2,"i",58)(3,"br"),s(),a(4,"p",20),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.COPY")," "))}function EC(n,l){if(n&1){let e=A();a(0,"div",17)(1,"a",10),I("click",function(){u(e);let t=m();return f(t.onActionButtonSendTest(t.tableRowSelected))}),g(2,"i",59)(3,"br"),s(),a(4,"p",20),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.SEND_TEST")," "))}function TC(n,l){if(n&1){let e=A();a(0,"div",17)(1,"a",10),I("click",function(){u(e);let t=m();return f(t.onActionButtonReportsRow(t.tableRowSelected))}),g(2,"i",60)(3,"br"),s(),a(4,"p",20),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.REPORTS")," "))}function yC(n,l){n&1&&(a(0,"mat-header-cell",61),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",h(2,1,"TITLE.PICTURE")," "))}function wC(n,l){if(n&1&&(g(0,"img",62),S(1,"cmsthumbnail")),n&2){let e=m().$implicit;C("src",k(h(1,2,e.linkMainImageIdSrc)),me)}}function PC(n,l){if(n&1&&(a(0,"mat-cell"),b(1,wC,2,4,"img",62),s()),n&2){let e=l.$implicit;o(),v((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function RC(n,l){if(n&1&&(a(0,"mat-header-cell",61),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function xC(n,l){if(n&1&&(a(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.id," ")}}function DC(n,l){if(n&1&&(a(0,"mat-header-cell",61),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function kC(n,l){if(n&1&&(a(0,"mat-cell",63),S(1,"statusCellClass"),g(2,"i",63),S(3,"statusIconClass"),s()),n&2){let e=l.$implicit;C("ngClass",h(1,2,e.recordStatus)),o(2),C("ngClass",h(3,4,e.recordStatus))}}function LC(n,l){if(n&1&&(a(0,"mat-header-cell",61),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function VC(n,l){if(n&1&&(a(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.title," ")}}function NC(n,l){if(n&1&&(a(0,"mat-header-cell",61),d(1),s()),n&2){let e=m();o(),M("",e.fieldsInfo.linkApiPathCompanyId==null?null:e.fieldsInfo.linkApiPathCompanyId.fieldTitle," ")}}function BC(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"cmstitle"),s()),n&2){let e=l.$implicit,i=m();o(),M(" ",fi(2,1,e.linkApiPathCompanyId,i.dataModelCompanyResult.listItems)," ")}}function FC(n,l){if(n&1&&(a(0,"mat-header-cell",61),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkPublicConfigId==null?null:e.fieldsInfo.linkPublicConfigId.fieldTitle," ")}}function OC(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"cmstitle"),s()),n&2){let e=l.$implicit,i=m();o(),M(" ",fi(2,1,e.linkPublicConfigId,i.dataModelPublicResult.listItems)," ")}}function GC(n,l){if(n&1&&(a(0,"mat-header-cell",61),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function HC(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",h(2,1,e.updatedDate)," ")}}function WC(n,l){n&1&&(a(0,"mat-header-cell"),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",h(2,1,"TITLE.OPTION")," "))}function UC(n,l){if(n&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),d(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),n&2){let e=P(5);o(),C("matMenuTriggerFor",e)}}function qC(n,l){n&1&&(a(0,"mat-header-cell",61),d(1,". "),s())}function jC(n,l){n&1&&(a(0,"mat-cell")(1,"mat-icon",66),d(2,"reorder"),s()())}function QC(n,l){n&1&&g(0,"mat-header-row")}function XC(n,l){n&1&&g(0,"div",69)}function zC(n,l){if(n&1){let e=A();a(0,"mat-row",67),I("click",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))})("rtclick",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))}),L(1,XC,1,0,"div",68),s()}if(n&2){let e=l.$implicit,i=m();V("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),C("cdkDragData",e)}}var zo=class zo extends Oe{constructor(e,i,t,r,p,c,D,H,Ke,nt,Qe,Mt,Y,Za){super(e,new bt,Y,H,nt);this.contentService=e;this.smsMainApiPathCompanyService=i;this.smsMainApiPathPublicConfigService=t;this.activatedRoute=r;this.cmsToastrService=p;this.cmsConfirmationDialogService=c;this.router=D;this.tokenHelper=H;this.cdr=Ke;this.translate=nt;this.cmsStoreService=Qe;this.pageInfo=Mt;this.publicHelper=Y;this.dialog=Za;this.requestLinkSiteId=0;this.requestLinkCompanyId="";this.requestLinkPublicConfigId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new X;this.dataModelCompanyResult=new X;this.dataModelPublicResult=new X;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","title","LinkApiPathCompanyId","LinkPublicConfigId","updatedDate","position"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","title","LinkApiPathCompanyId","LinkPublicConfigId","position"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:An=>this.onSubmitOptionsSearch(An)},this.filteModelContent.sortColumn="priority",this.filteModelContent.sortType=q.Ascending}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")&&(this.requestLinkCompanyId=this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")),this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId")&&(this.requestLinkPublicConfigId=this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId"));let e=new Q;if(this.requestLinkPublicConfigId?.length>0&&(e.propertyName="LinkPublicConfigId",e.value=this.requestLinkPublicConfigId,this.filteModelContent.filters.push(e)),this.requestLinkCompanyId.length>0){let i=new Q;i.propertyName="LinkApiPathCompanyId",i.value=this.requestLinkCompanyId,this.filteModelContent.filters.push(i)}if(this.requestLinkSiteId>0){let i=new Q;i.propertyName="linkSiteId",i.value=this.requestLinkSiteId,this.filteModelContent.filters.push(i)}this.filteModelContent.sortColumn="priority",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>ee(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getApiCopmanyList(),this.getPublicConfig()}getPublicConfig(){let e=new J;e.rowPerPage=100,this.smsMainApiPathPublicConfigService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPublicResult=i}})}getApiCopmanyList(){let e=new J;e.rowPerPage=100,this.smsMainApiPathCompanyService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCompanyResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,["position"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new bt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new Q;t.propertyName="LinkApiPathCompanyId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(r=>r===e.item.data),t=new Vn;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=ji.GoUp:t.actionGo=ji.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:r=>{r.isSuccess?(Nn(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(r.errorMessage)},error:r=>{this.cmsToastrService.typeError(r)}})}onActionButtonNewRow(){if((!this.requestLinkCompanyId||this.requestLinkCompanyId&&this.requestLinkCompanyId.length==0)&&(this.categoryModelSelected==null||this.categoryModelSelected.id.length===0)){this.translate.get("MESSAGE.Company_not_selected").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id),this.requestLinkCompanyId&&this.requestLinkCompanyId.length>0&&(e=this.requestLinkCompanyId);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(fn,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{linkApiPathCompanyId:e}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/sms/main/api-path/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],t=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(r=>{if(r){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new J,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.filteModelContent.sortColumn="priority",this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let r=JSON.parse(JSON.stringify(this.filteModelContent)),p=new Q;p.propertyName="recordStatus",p.value=Pe.Available,r.filters.push(p),this.contentService.ServiceGetCount(r).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonGetBalance(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=this.constructor.name+"GetBalance";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.ServiceGetBalance(e.id).subscribe({next:t=>{t.isSuccess?this.cmsToastrService.typeSuccessMessage(t.item.info+" "+t.item.status+" "+t.item.credit):this.cmsToastrService.typeErrorMessage(t.errorMessage+t.item.info+" "+t.item.status),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonSendMessage(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/action/send-message/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/action/send-message/LinkApiPathId",this.tableRowSelected.id])}onActionButtonSupersedesList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/bankpayment/privatesiteconfig/LinkPublicConfigId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/privatesiteconfig/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonMustSupersedesList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/bankpayment/privatesiteconfig/LinkPublicConfigId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/privatesiteconfig/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonNumbersList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-number/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-number/LinkApiPathId",this.tableRowSelected.id])}onActionButtonPermitionList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path-permission/LinkApiPathId",this.tableRowSelected.id])}onActionButtonOutBoxQueue(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/log/outbox-queue/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/log/outbox-queue/LinkApiPathId",this.tableRowSelected.id])}onActionButtonCopy(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(fn,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonPriceServicesList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-path-price-service/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-path-price-service/LinkApiPathId",this.tableRowSelected.id])}onActionButtonSendTest(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)});return}this.onActionTableRowSelect(e);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Mo,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonReportsRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}if(i?.ctrlKey){let t="/#/sms/log/api-path/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/log/api-path/LinkApiPathId",this.tableRowSelected.id])}onActionButtonReload(){this.filteModelContent.sortColumn="priority",this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path-company"])}};zo.\u0275fac=function(i){return new(i||zo)(_(ft),_(At),_(Zt),_(ze),_(O),_(Ve),_(Le),_(Ce),_(F),_(B),_(ge),_(Fe),_(G),_(he))},zo.\u0275cmp=N({type:zo,selectors:[["app-sms-apipath-list"]],standalone:!1,features:[K],decls:129,vars:62,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-receipt","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-dollar","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-phone","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-universal-access","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list-ol","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","LinkApiPathCompanyId"],["matColumnDef","LinkPublicConfigId"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild","cdkDrag","",3,"ntk-row-selected","cdkDragData","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-paper-plane-top","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file-chart-column","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],["cdkDrag","",1,"ntk-row-mainfild",3,"click","rtclick","cdkDragData"],["class","ntk-row-placeholder",4,"cdkDragPlaceholder"],[1,"ntk-row-placeholder"]],template:function(i,t){if(i&1){let r=A();a(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(c){return u(r),y(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(r),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(r),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(r),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(r),f(t.onActionButtonPrintRow())}),R(1,4),a(2,"app-sms-apipathcompany-tree",5),I("optionChange",function(c){return u(r),f(t.onActionSelectorSelect(c))}),s(),x(),lt(3,6)(4,7),R(5,8),b(6,_C,2,0,"a",9),a(7,"a",10),I("click",function(){return u(r),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",11),s(),a(9,"a",10),I("click",function(){return u(r),f(t.onActionButtonReload())}),g(10,"i",12),s(),x(),R(11,13),a(12,"a",14),I("click",function(){return u(r),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",15),d(14),S(15,"translate"),s(),a(16,"a",14),I("click",function(){return u(r),f(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",15),d(18),S(19,"translate"),s(),x(),R(20,16),b(21,bC,7,3,"div",17),x(),R(22,18),b(23,vC,7,3,"div",17),b(24,IC,7,3,"div",17),a(25,"div",17)(26,"a",19),I("click",function(){return u(r),f(t.onActionButtonSendTest(t.tableRowSelected))}),a(27,"mat-icon"),d(28,"payment"),s()(),a(29,"p",20),d(30),S(31,"translate"),s()(),a(32,"div",17)(33,"a",19),I("click",function(c){return u(r),f(t.onActionButtonSendMessage(t.tableRowSelected,c))}),g(34,"i",21)(35,"br"),s(),a(36,"p",20),d(37),S(38,"translate"),s()(),a(39,"div",17)(40,"a",22),I("click",function(){return u(r),f(t.onActionButtonGetBalance(t.tableRowSelected))}),g(41,"i",23)(42,"br"),s(),a(43,"p",20),d(44),S(45,"translate"),s()(),a(46,"div",17)(47,"a",19),I("click",function(c){return u(r),f(t.onActionButtonSupersedesList(t.tableRowSelected,c))}),g(48,"i",24)(49,"br"),s(),a(50,"p",20),d(51),S(52,"translate"),s()(),a(53,"div",17)(54,"a",19),I("click",function(c){return u(r),f(t.onActionButtonMustSupersedesList(t.tableRowSelected,c))}),g(55,"i",24)(56,"br"),s(),a(57,"p",20),d(58),S(59,"translate"),s()(),a(60,"div",17)(61,"a",19),I("click",function(c){return u(r),f(t.onActionButtonNumbersList(t.tableRowSelected,c))}),g(62,"i",25)(63,"br"),s(),a(64,"p",20),d(65),S(66,"translate"),s()(),a(67,"div",17)(68,"a",19),I("click",function(c){return u(r),f(t.onActionButtonPriceServicesList(t.tableRowSelected,c))}),g(69,"i",26)(70,"br"),s(),a(71,"p",20),d(72),S(73,"translate"),s()(),a(74,"div",17)(75,"a",19),I("click",function(c){return u(r),f(t.onActionButtonPermitionList(t.tableRowSelected,c))}),g(76,"i",27)(77,"br"),s(),a(78,"p",20),d(79),S(80,"translate"),s()(),a(81,"div",17)(82,"a",19),I("click",function(c){return u(r),f(t.onActionButtonOutBoxQueue(t.tableRowSelected,c))}),g(83,"i",28)(84,"br"),s(),a(85,"p",20),d(86),S(87,"translate"),s()(),b(88,AC,7,3,"div",17),b(89,EC,7,3,"div",17),b(90,TC,7,3,"div",17),x(),R(91,29),a(92,"app-cms-search-list",30),w("optionsChange",function(c){return u(r),y(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),s(),a(93,"app-cms-statist-list",30),w("optionsChange",function(c){return u(r),y(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),s(),x(),R(94,31),a(95,"mat-table",32,0),I("matSortChange",function(){u(r);let c=P(96);return f(t.onTableSortData(c))})("cdkDropListDropped",function(c){return u(r),f(t.onTableDropRow(c))}),R(97,33),L(98,yC,3,3,"mat-header-cell",34)(99,PC,2,1,"mat-cell",35),x(),R(100,36),L(101,RC,2,1,"mat-header-cell",34)(102,xC,2,1,"mat-cell",35),x(),R(103,37),L(104,DC,2,1,"mat-header-cell",34)(105,kC,4,6,"mat-cell",38),x(),R(106,39),L(107,LC,2,1,"mat-header-cell",34)(108,VC,2,1,"mat-cell",35),x(),R(109,40),L(110,NC,2,1,"mat-header-cell",34)(111,BC,3,4,"mat-cell",35),x(),R(112,41),L(113,FC,2,1,"mat-header-cell",34)(114,OC,3,4,"mat-cell",35),x(),R(115,42),L(116,GC,2,1,"mat-header-cell",34)(117,HC,3,3,"mat-cell",35),x(),R(118,43),L(119,WC,3,3,"mat-header-cell",44)(120,UC,6,1,"mat-cell",45),x(),R(121,46),L(122,qC,2,0,"mat-header-cell",34)(123,jC,3,0,"mat-cell",35),x(),L(124,QC,1,0,"mat-header-row",47)(125,zC,2,3,"mat-row",48),s(),x(),R(126,49),a(127,"mat-paginator",50,1),I("page",function(c){return u(r),f(t.onTablePageingData(c))}),s(),x(),s()}i&2&&(C("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),C("optionTreeDisplay",!t.requestLinkCompanyId||t.requestLinkCompanyId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),v((t.requestLinkCompanyId==null?null:t.requestLinkCompanyId.length)>0?6:-1),o(4),V("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),C("checked",t.optionsSearch.data.show),o(),M("",h(15,39,"ACTION.SEARCH")," "),o(3),C("checked",t.optionsStatist.data.show),o(),M("",h(19,41,"ACTION.STATIST")," "),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(6),M(" ",h(31,43,"ACTION.SEND_TEST")," "),o(7),M(" ",h(38,45,"ACTION.SEND_MESSAGE")," "),o(7),M(" ",h(45,47,"ACTION.GET_BALANCE")," "),o(7),M(" ",h(52,49,"ACTION.BACKUP_ROUTES")," "),o(7),M(" ",h(59,51,"ACTION.SUPPORTED_ROUTES")," "),o(7),M(" ",h(66,53,"ACTION.SPECIFIC_NUMBERS")," "),o(7),M(" ",h(73,55,"ACTION.PRICE_LIST")," "),o(7),M(" ",h(80,57,"ACTION.ACEESS")," "),o(7),M(" ",h(87,59,"ACTION.QUEUE")," "),o(2),v(t.categoryModelSelected&&t.categoryModelSelected.id.length>0?88:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?89:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?90:-1),o(2),T("options",t.optionsSearch),o(),T("options",t.optionsStatist),o(2),C("dataSource",t.tableSource)("cdkDropListData",t.tableSource),o(29),C("matHeaderRowDef",t.tabledisplayedColumns),o(),C("matRowDefColumns",t.tabledisplayedColumns),o(2),C("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",we(61,MC)))},dependencies:[Ne,ct,Xe,Et,Tt,Be,yt,wt,Pt,Rt,Dt,Nt,kt,xt,Bt,Lt,Vt,Ft,Ot,Ge,He,Gt,Ht,ba,_a,Ma,va,qa,U,ln,Je,Ye,We,oi],encapsulation:2});var In=zo;var YC=()=>["expandedDetail"],KC=()=>[5,10,20,100],JC=n=>({display:n});function ZC(n,l){if(n&1&&g(0,"app-core-user-header",3),n&2){let e=m();C("optionId",e.requestLinkUserId)}}function $C(n,l){if(n&1){let e=A();a(0,"div",16)(1,"a",41),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",42)(3,"br"),s(),a(4,"p",43),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.ADD")," "))}function eM(n,l){if(n&1){let e=A();a(0,"div",16)(1,"a",44),I("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",45)(3,"br"),s(),a(4,"p",43),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.EDIT")," "))}function tM(n,l){if(n&1){let e=A();a(0,"div",16)(1,"a",46),I("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",47)(3,"br"),s(),a(4,"p",43),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.DELETE")," "))}function iM(n,l){if(n&1&&(a(0,"mat-header-cell",48),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function nM(n,l){if(n&1&&(a(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.id," ")}}function oM(n,l){if(n&1&&(a(0,"mat-header-cell",48),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function aM(n,l){if(n&1&&(a(0,"mat-cell",49),S(1,"statusCellClass"),g(2,"i",49),S(3,"statusIconClass"),s()),n&2){let e=l.$implicit;C("ngClass",h(1,2,e.recordStatus)),o(2),C("ngClass",h(3,4,e.recordStatus))}}function rM(n,l){if(n&1&&(a(0,"mat-header-cell",48),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkCoreUserId==null?null:e.fieldsInfo.linkCoreUserId.fieldTitle," ")}}function sM(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"cmsuserinfo"),S(3,"async"),s()),n&2){let e=l.$implicit;o(),M(" ",h(3,3,h(2,1,e.linkCoreUserId))," ")}}function lM(n,l){if(n&1&&(a(0,"mat-header-cell",48),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle," ")}}function cM(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",h(2,1,e.fromDate)," ")}}function dM(n,l){if(n&1&&(a(0,"mat-header-cell",48),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function mM(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",h(2,1,e.expireDate)," ")}}function pM(n,l){if(n&1&&(a(0,"mat-header-cell",48),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function uM(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",h(2,1,e.createdDate)," ")}}function fM(n,l){if(n&1&&(a(0,"mat-header-cell",48),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function SM(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",h(2,1,e.updatedDate)," ")}}function hM(n,l){n&1&&(a(0,"mat-header-cell"),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",h(2,1,"TITLE.OPTION")," "))}function gM(n,l){if(n&1&&(a(0,"mat-cell",50)(1,"button",51)(2,"mat-icon"),d(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),n&2){let e=P(5);o(),C("matMenuTriggerFor",e)}}function CM(n,l){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),d(3),S(4,"cmsuserinfo"),S(5,"async"),s()()),n&2){let e=m().$implicit,i=m();o(3),je(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",h(5,4,h(4,2,e.description))," ")}}function MM(n,l){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),d(3),S(4,"cmssiteinfo"),S(5,"async"),s()()),n&2){let e=m().$implicit,i=m();o(3),je(" ",i.fieldsInfo.linkCoreSiteId==null?null:i.fieldsInfo.linkCoreSiteId.fieldTitle," : ",h(5,4,h(4,2,e.linkCoreSiteId))," ")}}function _M(n,l){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit,i=m();o(3),je(" ",i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle," : ",h(4,2,e.fromDate)," ")}}function bM(n,l){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit,i=m();o(3),je(" ",i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle," : ",h(4,2,e.expireDate)," ")}}function vM(n,l){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit,i=m();o(3),je(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle," : ",h(4,2,e.createdDate)," ")}}function IM(n,l){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit,i=m();o(3),je(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",h(4,2,e.updatedDate)," ")}}function AM(n,l){if(n&1&&(a(0,"mat-cell")(1,"div")(2,"table"),b(3,CM,6,6,"tr"),b(4,MM,6,6,"tr"),b(5,_M,5,4,"tr"),b(6,bM,5,4,"tr"),b(7,vM,5,4,"tr"),b(8,IM,5,4,"tr"),a(9,"tr"),g(10,"td")(11,"td"),s()()()()),n&2){let e=l.$implicit;o(3),v(e.description?3:-1),o(),v(e.linkCoreSiteId?4:-1),o(),v(e.fromDate?5:-1),o(),v(e.expireDate?6:-1),o(),v(e.createdDate?7:-1),o(),v(e.updatedDate?8:-1)}}function EM(n,l){n&1&&g(0,"mat-header-row")}function TM(n,l){if(n&1){let e=A();a(0,"mat-row",52),I("click",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))})("rtclick",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))}),s()}if(n&2){let e=l.$implicit,i=m();V("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function yM(n,l){if(n&1){let e=A();a(0,"mat-row",53),I("click",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))})("rtclick",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))})("mouseenter",function(){let t=u(e).$implicit,r=m();return f(r.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,r=m();return f(r.onActionTableRowMouseLeave(t))}),s()}if(n&2){let e=l.$implicit,i=m();V("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),C("ngStyle",Xi(3,JC,e.expanded===!0?"":"none"))}}var Yo=class Yo extends Oe{constructor(e,i,t,r,p,c,D,H,Ke,nt,Qe,Mt){super(e,new Ci,Qe,c,H);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=r;this.router=p;this.tokenHelper=c;this.cdr=D;this.translate=H;this.cmsStoreService=Ke;this.pageInfo=nt;this.publicHelper=Qe;this.dialog=Mt;this.requestLinkUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","linkCoreUserId","fromDate","expireDate"];this.tabledisplayedColumnsMobileSource=["recordStatus","linkCoreUserId","fromDate","expireDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Y=>this.onSubmitOptionsSearch(Y)},this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkUserId>0){let Y=new Q;Y.propertyName="LinkCoreUserId",Y.value=this.requestLinkUserId,this.filteModelContent.filters.push(Y)}this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=q.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ci);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(vo,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ao,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],t=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(r=>{if(r){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let r=JSON.parse(JSON.stringify(this.filteModelContent)),p=new Q;p.propertyName="recordStatus",p.value=Pe.Available,r.filters.push(p),this.contentService.ServiceGetCount(r).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Yo.\u0275fac=function(i){return new(i||Yo)(_(Fi),_(O),_(ze),_(Ve),_(Le),_(Ce),_(F),_(B),_(ge),_(Fe),_(G),_(he))},Yo.\u0275cmp=N({type:Yo,selectors:[["app-sms-client-list"]],standalone:!1,features:[K],decls:63,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkCoreUserId"],["matColumnDef","fromDate"],["matColumnDef","expireDate"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let r=A();b(0,ZC,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),w("optionActionGuideNoticeDisplayChange",function(c){return u(r),y(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(r),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(r),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(r),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(r),f(t.onActionButtonPrintRow())}),R(2,5),d(3," -------------------------------------- "),x(),lt(4,6)(5,7),R(6,8),a(7,"a",9),I("click",function(){return u(r),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),s(),a(9,"a",9),I("click",function(){return u(r),f(t.onActionButtonReload())}),g(10,"i",11),s(),x(),R(11,12),a(12,"a",13),I("click",function(){return u(r),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),d(14),S(15,"translate"),s(),a(16,"a",13),I("click",function(){return u(r),f(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),d(18),S(19,"translate"),s(),x(),R(20,15),b(21,$C,7,3,"div",16),x(),R(22,17),b(23,eM,7,3,"div",16),b(24,tM,7,3,"div",16),x(),R(25,18),a(26,"app-cms-search-list",19),w("optionsChange",function(c){return u(r),y(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),s(),a(27,"app-cms-statist-list",19),w("optionsChange",function(c){return u(r),y(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),s(),x(),R(28,20),a(29,"mat-table",21,0),I("matSortChange",function(){u(r);let c=P(30);return f(t.onTableSortData(c))}),R(31,22),L(32,iM,2,1,"mat-header-cell",23)(33,nM,2,1,"mat-cell",24),x(),R(34,25),L(35,oM,2,1,"mat-header-cell",23)(36,aM,4,6,"mat-cell",26),x(),R(37,27),L(38,rM,2,1,"mat-header-cell",23)(39,sM,4,5,"mat-cell",24),x(),R(40,28),L(41,lM,2,1,"mat-header-cell",23)(42,cM,3,3,"mat-cell",24),x(),R(43,29),L(44,dM,2,1,"mat-header-cell",23)(45,mM,3,3,"mat-cell",24),x(),R(46,30),L(47,pM,2,1,"mat-header-cell",23)(48,uM,3,3,"mat-cell",24),x(),R(49,31),L(50,fM,2,1,"mat-header-cell",23)(51,SM,3,3,"mat-cell",24),x(),R(52,32),L(53,hM,3,3,"mat-header-cell",33)(54,gM,6,1,"mat-cell",34),x(),R(55,35),L(56,AM,12,6,"mat-cell",24),x(),L(57,EM,1,0,"mat-header-row",36)(58,TM,1,2,"mat-row",37)(59,yM,1,5,"mat-row",38),s(),x(),R(60,39),a(61,"mat-paginator",40,1),I("page",function(c){return u(r),f(t.onTablePageingData(c))}),s(),x(),s()}i&2&&(v(t.requestLinkUserId>0?0:-1),o(),C("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),C("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),V("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),C("checked",t.optionsSearch.data.show),o(),M("",h(15,27,"ACTION.SEARCH")," "),o(3),C("checked",t.optionsStatist.data.show),o(),M("",h(19,29,"ACTION.STATIST")," "),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(2),T("options",t.optionsSearch),o(),T("options",t.optionsStatist),o(2),C("dataSource",t.tableSource),o(28),C("matHeaderRowDef",t.tabledisplayedColumns),o(),C("matRowDefColumns",t.tabledisplayedColumns),o(),C("matRowDefColumns",we(31,YC)),o(2),C("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",we(32,KC)))},dependencies:[Ne,zi,ct,Xe,Et,Tt,Be,yt,wt,Pt,Rt,Dt,Nt,kt,xt,Bt,Lt,Vt,Ft,Ot,Ge,He,Gt,Ht,Br,ot,U,Ii,sn,Ye,We,oi],encapsulation:2});var fa=Yo;var wM=["vform"];function PM(n,l){if(n&1){let e=A();a(0,"div",5)(1,"label",9),d(2),s(),a(3,"input",10,0),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModelResultCategory.item.title,t)||(r.dataModelResultCategory.item.title=t),f(t)}),s()(),a(5,"div",5)(6,"label",6),d(7),s(),a(8,"textarea",7,0),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModelResultCategory.item.description,t)||(r.dataModelResultCategory.item.description=t),f(t)}),d(10,"              "),s()()}if(n&2){let e=m();o(2),E(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),T("ngModel",e.dataModelResultCategory.item.title),o(4),E(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),T("ngModel",e.dataModelResultCategory.item.description)}}function RM(n,l){if(n&1){let e=A();a(0,"div",8)(1,"button",11),I("click",function(){u(e);let t=m();return f(t.onFormMove())}),g(2,"i",12),d(3),S(4,"translate"),s(),a(5,"button",13),I("click",function(){u(e);let t=m();return f(t.onFormDelete())}),g(6,"i",14),d(7),S(8,"translate"),s(),a(9,"button",15),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(10,"i",12),d(11),S(12,"translate"),s()()}if(n&2){let e=m();o(),C("disabled",!e.formInfo.submitButtonEnabled),o(2),M(" ",h(4,5,"TITLE.MOVE_DATA")," "),o(2),C("disabled",!e.formInfo.submitButtonEnabled),o(2),M(" ",h(8,7,"ACTION.DELETE")," "),o(4),M(" ",h(12,9,"ACTION.CANCEL")," ")}}var Ko=class Ko{constructor(l,e,i,t,r,p,c){this.data=l;this.dialogRef=e;this.publicHelper=i;this.smsMainMessageCategoryService=t;this.cdr=r;this.translate=p;this.cmsToastrService=c;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultCategory=new X;this.dataModelResultCategoryAllData=new X;this.dataModel={};this.formInfo=new Me;this.publicHelper.processService.cdr=this.cdr,l&&l.id&&l.id.length>0&&(this.requestId=l.id)}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(),this.DataGetAll()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.setAccessLoad(),this.smsMainMessageCategoryService.setAccessDataType(at.Editor),this.smsMainMessageCategoryService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultCategory=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}DataGetAll(){this.translate.get("TITLE.Loading_Information").subscribe(i=>{this.formInfo.submitResultMessage=i});let l=new J;l.rowPerPage=100;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceGetAll(l).subscribe({next:i=>{this.dataModelResultCategoryAllData=i,i.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetAll()),this.publicHelper.processService.processStop(e)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormMove(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(!this.formGroup.valid)return;this.formInfo.submitButtonEnabled=!0,this.dataModel.newCatId===this.requestId&&(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitButtonEnabled=!0),this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceMove(this.requestId,this.dataModel.newCatId).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.The_Transfer_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessMove()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMove()),this.formInfo.submitButtonEnabled=!0,this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormChangeNewCatId(l){if(this.formInfo.submitResultMessage="",this.requestId.length===0||!l||l.id.length<=0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.dataModel.newCatId=l.id,this.dataModel.newCatId===this.requestId?(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitButtonEnabled=!1):(this.formInfo.submitButtonEnabled=!0,this.formInfo.submitResultMessage="")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ko.\u0275fac=function(e){return new(e||Ko)(_(Ee),_(Ae),_(G),_(_i),_(F),_(B),_(O))},Ko.\u0275cmp=N({type:Ko,selectors:[["app-sms-main-message-category-delete"]],viewQuery:function(e,i){if(e&1&&pe(wM,5),e&2){let t;ue(t=fe())&&(i.formGroup=t.first)}},standalone:!1,decls:16,vars:9,consts:[["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultCategory.item.description",1,"color-highlight"],["matInput","","type","text","name","dataModelResultCategory.item.description","minlength","1","maxlength","100","rows","5","id","dataModelResultCategory.item.description","placeholder","0",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],["for","dataModelResultCategory.item.title",1,"color-highlight"],["matInput","","type","text","name","dataModelResultCategory.item.title","minlength","3","maxlength","50","id","dataModelResultCategory.item.title","placeholder","0",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"]],template:function(e,i){if(e&1){let t=A();a(0,"div",1),g(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),d(4),s(),a(5,"p"),d(6),S(7,"translate"),s(),b(8,PM,11,4),a(9,"div",5)(10,"label",6),d(11),s(),a(12,"textarea",7,0),w("ngModelChange",function(p){return u(t),y(i.dataModelResultCategory.item.description,p)||(i.dataModelResultCategory.item.description=p),f(p)}),d(14,"              "),s()(),b(15,RM,13,11,"div",8),s()()}e&2&&(o(),C("optionsInfoAreaId",i.constructorInfoAreaId),o(3),M(" ",i.formInfo.formTitle," "),o(2),M(" ",h(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),v(i.dataModelResultCategory!=null&&i.dataModelResultCategory.item?8:-1),o(3),E(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),T("ngModel",i.dataModelResultCategory.item.description),o(3),v(i.formInfo.submitButtonEnabled?15:-1))},dependencies:[te,ie,Ue,qe,Se,ne,z,U],encapsulation:2});var ja=Ko;var xM=["vform"];function DM(n,l){if(n&1){let e=A();a(0,"app-cms-enum-record-status-selector",21),w("modelChange",function(t){u(e);let r=m();return y(r.dataModel.recordStatus,t)||(r.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();T("model",e.dataModel.recordStatus),C("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function kM(n,l){n&1&&g(0,"i",24)}function LM(n,l){n&1&&g(0,"i",25)}function VM(n,l){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function NM(n,l){if(n&1){let e=A();a(0,"div",11)(1,"label",22),d(2),s(),a(3,"input",23,3),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.title,t)||(r.dataModel.title=t),f(t)}),s(),b(5,kM,1,0,"i",24),b(6,LM,1,0,"i",25),a(7,"em"),d(8),s(),b(9,VM,5,3,"mat-error"),s()}if(n&2){let e=P(4),i=m();o(2),E(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),C("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModel.title),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(2),M("",e.value.length," / 100"),o(),v(e.errors!=null&&e.errors.required?9:-1)}}function BM(n,l){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function FM(n,l){if(n&1&&(g(0,"img",16),S(1,"cmsthumbnail")),n&2){let e=m();C("src",k(h(1,2,e.dataModel.linkMainImageIdSrc)),me)}}function OM(n,l){if(n&1){let e=A();a(0,"div",20)(1,"button",26),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",27),d(3),S(4,"translate"),s(),a(5,"button",28),g(6,"i",29),d(7),S(8,"translate"),s()()}if(n&2){m();let e=P(10);o(3),M(" ",h(4,3,"ACTION.CANCEL")," "),o(2),C("disabled",!e.form.valid),o(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Jo=class Jo extends ht{constructor(e,i,t,r,p,c,D,H){super(r,new jt,c,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainMessageCategoryService=r;this.cmsToastrService=p;this.publicHelper=c;this.cdr=D;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ut;this.dataModel=new jt;this.formInfo=new Me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&e.id.length>0&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId.length==0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.setAccessLoad(),this.smsMainMessageCategoryService.setAccessDataType(at.Editor),this.smsMainMessageCategoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Jo.\u0275fac=function(i){return new(i||Jo)(_(Ee),_(Ae),_(Re),_(_i),_(O),_(G),_(F),_(B))},Jo.\u0275cmp=N({type:Jo,selectors:[["app-sms-main-message-category-edit"]],viewQuery:function(i,t){if(i&1&&pe(xM,5),i&2){let r;ue(r=fe())&&(t.formGroup=r.first)}},standalone:!1,features:[K],decls:34,vars:36,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let r=A();a(0,"div",4),g(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),d(4),s(),a(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",8),a(9,"form",9,0),I("ngSubmit",function(){return u(r),f(t.onFormSubmit())}),b(11,DM,1,5,"app-cms-enum-record-status-selector",10),b(12,NM,10,8,"div",11),a(13,"div",11)(14,"label",12),d(15),s(),a(16,"textarea",13,1),w("ngModelChange",function(c){return u(r),y(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),s(),a(18,"em"),d(19),s(),b(20,BM,5,3,"mat-error"),s(),a(21,"div",14)(22,"a",15),S(23,"cmsthumbnail"),b(24,FM,2,4,"img",16),s()(),a(25,"div",11)(26,"label",17),I("click",function(){return u(r),f(t.fileManagerOpenForm=!0)}),d(27),S(28,"translate"),s(),a(29,"input",18,2),S(31,"translate"),w("ngModelChange",function(c){return u(r),y(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),I("click",function(){return u(r),f(t.fileManagerOpenForm=!0)}),s(),a(32,"cms-file-manager",19),I("itemSelected",function(c){return u(r),f(t.onActionFileSelected(c))}),w("openFormChange",function(c){return u(r),y(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),s()(),b(33,OM,9,7,"div",20),s()()()}if(i&2){let r=P(17);o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",h(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),C("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),v(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(3),E(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),C("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),o(3),M("",r.value.length," / 500"),o(),v(r.errors!=null&&r.errors.required?20:-1),o(2),C("href",k(h(23,30,t.dataModel.linkMainImageIdSrc)),me),o(2),v((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?24:-1),o(3),E(h(28,32,"TITLE.Icon_File")),o(2),C("placeholder",k(h(31,34,"TITLE.Original_File_ID"))),T("ngModel",t.dataModel.linkMainImageId),o(3),C("language",t.appLanguage)("isPopup",!0),T("openForm",t.fileManagerOpenForm),C("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),v(t.formInfo.submitButtonEnabled?33:-1)}},dependencies:[ve,te,ie,_e,Ie,Ue,qe,Se,be,xe,ne,De,z,Te,bi,U,Je],encapsulation:2});var Qa=Jo;var GM=["vform"];function HM(n,l){if(n&1){let e=A();a(0,"app-cms-enum-record-status-selector",21),w("modelChange",function(t){u(e);let r=m();return y(r.dataModel.recordStatus,t)||(r.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();T("model",e.dataModel.recordStatus),C("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function WM(n,l){n&1&&g(0,"i",24)}function UM(n,l){n&1&&g(0,"i",25)}function qM(n,l){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function jM(n,l){if(n&1){let e=A();a(0,"div",11)(1,"label",22),d(2),s(),a(3,"input",23,3),w("ngModelChange",function(t){u(e);let r=m();return y(r.dataModel.title,t)||(r.dataModel.title=t),f(t)}),s(),b(5,WM,1,0,"i",24),b(6,UM,1,0,"i",25),a(7,"em"),d(8),s(),b(9,qM,5,3,"mat-error"),s()}if(n&2){let e=P(4),i=m();o(2),E(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),C("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModel.title),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(2),M("",e.value.length," / 100"),o(),v(e.errors!=null&&e.errors.required?9:-1)}}function QM(n,l){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),E(h(4,1,"MESSAGE.required")))}function XM(n,l){if(n&1&&(g(0,"img",16),S(1,"cmsthumbnail")),n&2){let e=m();C("src",k(h(1,2,e.dataModel.linkMainImageIdSrc)),me)}}function zM(n,l){if(n&1){let e=A();a(0,"div",20)(1,"button",26),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",27),d(3),S(4,"translate"),s(),a(5,"button",28),g(6,"i",29),d(7),S(8,"translate"),s()()}if(n&2){m();let e=P(10);o(3),M(" ",h(4,3,"ACTION.CANCEL")," "),o(2),C("disabled",!e.form.valid),o(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Zo=class Zo extends St{constructor(e,i,t,r,p,c,D,H){super(r,new jt,c,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainMessageCategoryService=r;this.cmsToastrService=p;this.publicHelper=c;this.cdr=D;this.translate=H;this.requestParentId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new X;this.dataModel=new jt;this.formInfo=new Me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.parentId&&e.parentId.length>0&&(this.requestParentId=e.parentId),this.requestParentId.length>0&&(this.dataModel.linkParentId=this.requestParentId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Zo.\u0275fac=function(i){return new(i||Zo)(_(Ee),_(Ae),_(Re),_(_i),_(O),_(G),_(F),_(B))},Zo.\u0275cmp=N({type:Zo,selectors:[["app-sms-main-message-category-add"]],viewQuery:function(i,t){if(i&1&&pe(GM,5),i&2){let r;ue(r=fe())&&(t.formGroup=r.first)}},standalone:!1,features:[K],decls:34,vars:36,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let r=A();a(0,"div",4),g(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),d(4),s(),a(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",8),a(9,"form",9,0),I("ngSubmit",function(){return u(r),f(t.onFormSubmit())}),b(11,HM,1,5,"app-cms-enum-record-status-selector",10),b(12,jM,10,8,"div",11),a(13,"div",11)(14,"label",12),d(15),s(),a(16,"textarea",13,1),w("ngModelChange",function(c){return u(r),y(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),s(),a(18,"em"),d(19),s(),b(20,QM,5,3,"mat-error"),s(),a(21,"div",14)(22,"a",15),S(23,"cmsthumbnail"),b(24,XM,2,4,"img",16),s()(),a(25,"div",11)(26,"label",17),I("click",function(){return u(r),f(t.fileManagerOpenForm=!0)}),d(27),S(28,"translate"),s(),a(29,"input",18,2),S(31,"translate"),w("ngModelChange",function(c){return u(r),y(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),I("click",function(){return u(r),f(t.fileManagerOpenForm=!0)}),s(),a(32,"cms-file-manager",19),I("itemSelected",function(c){return u(r),f(t.onActionFileSelected(c))}),w("openFormChange",function(c){return u(r),y(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),s()(),b(33,zM,9,7,"div",20),s()()()}if(i&2){let r=P(17);o(),C("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",h(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),C("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),v(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(3),E(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),C("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),o(3),M("",r.value.length," / 500"),o(),v(r.errors!=null&&r.errors.required?20:-1),o(2),C("href",k(h(23,30,t.dataModel.linkMainImageIdSrc)),me),o(2),v((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?24:-1),o(3),E(h(28,32,"TITLE.Icon_File")),o(2),C("placeholder",k(h(31,34,"TITLE.Original_File_ID"))),T("ngModel",t.dataModel.linkMainImageId),o(3),C("language",t.appLanguage)("isPopup",!0),T("openForm",t.fileManagerOpenForm),C("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),v(t.formInfo.submitButtonEnabled?33:-1)}},dependencies:[ve,te,ie,_e,Ie,Ue,qe,Se,be,xe,ne,De,z,Te,bi,U,Je],encapsulation:2});var Xa=Zo;function YM(n,l){if(n&1){let e=A();a(0,"button",14),I("click",function(){u(e);let t=m();return f(t.onActionAdd())}),d(1),S(2,"translate"),s()}n&2&&(o(),M(" ",h(2,1,"ACTION.ADD")," "))}function KM(n,l){if(n&1){let e=A();a(0,"button",15),I("click",function(){u(e);let t=m();return f(t.onActionEdit())}),d(1),S(2,"translate"),s()}n&2&&(o(),M(" ",h(2,1,"ACTION.EDIT")," "))}function JM(n,l){if(n&1){let e=A();a(0,"button",16),I("click",function(){u(e);let t=m();return f(t.onActionDelete())}),d(1),S(2,"translate"),s()}n&2&&(o(),M(" ",h(2,1,"ACTION.DELETE")," "))}function ZM(n,l){if(n&1){let e=A();a(0,"button",17),I("click",function(){u(e);let t=m();return f(t.onActionButtonReload())}),a(1,"mat-icon",18),S(2,"translate"),d(3,"refresh"),s()()}if(n&2){let e=m();o(),V("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),C("title",k(h(2,4,"ACTION.RELOAD")))}}function $M(n,l){if(n&1){let e=A();a(0,"mat-tree-node",19),g(1,"button",20),a(2,"span",21),I("click",function(){let t=u(e).$implicit,r=m();return f(r.onActionSelect(t))}),d(3),s()()}if(n&2){let e=l.$implicit,i=m();V("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),E(e.title)}}function e_(n,l){if(n&1){let e=A();a(0,"mat-tree-node",22)(1,"button",23)(2,"mat-icon",24),d(3),s()(),a(4,"span",21),I("click",function(){let t=u(e).$implicit,r=m();return f(r.onActionSelect(t))}),d(5),s()()}if(n&2){let e=l.$implicit,i=m(),t=P(12);V("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),C("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),W("type","button")("aria-label","Toggle "+e.title),o(2),M(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),E(e.title)}}var $o=class $o{constructor(l,e,i,t,r,p,c,D,H){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=r;this.publicHelper=p;this.tokenHelper=c;this.cmsStoreService=D;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new jt;this.dataModelResult=new X;this.filterModel=new J;this.dataSource=new Ra;this.optionChange=new st;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!!e.children&&e.children.length>0;this.childrenAccessor=l=>l.children??[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>ee(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){l&&this.dataModelSelect&&l.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new jt,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){let l="";this.dataModelSelect&&this.dataModelSelect.id?.length>0&&(l=this.dataModelSelect.id);let e=new ia;e.disableClose=!0,e.autoFocus=!0,e.data={parentId:l},this.dialog.open(Xa,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Qa,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ja,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};$o.\u0275fac=function(e){return new(e||$o)(_(O),_(Re),_(_i),_(he),_(F),_(G),_(Ce),_(ge),_(B))},$o.\u0275cmp=N({type:$o,selectors:[["app-sms-main-message-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),R(1,2),d(2),S(3,"translate"),x(),R(4,3),b(5,YM,3,3,"button",4),b(6,KM,3,3,"button",5),b(7,JM,3,3,"button",6),b(8,ZM,4,6,"button",7),x(),R(9,8),g(10,"app-progress-spinner",9),a(11,"mat-tree",10,0),L(13,$M,4,3,"mat-tree-node",11)(14,e_,6,8,"mat-tree-node",12),s(),x(),lt(15,13),s()),e&2&&(C("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),M(" ",h(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),v(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?5:-1),o(),v(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?6:-1),o(),v(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?7:-1),o(),v(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?8:-1),o(2),C("optionsInfoAreaId",i.constructorInfoAreaId),o(),C("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),C("matTreeNodeDefWhen",i.hasChild))},dependencies:[ct,Xe,Ta,ya,Pa,wa,Ea,z,ka,U],encapsulation:2});var za=$o;var i_=()=>[5,10,20,100];function n_(n,l){if(n&1){let e=A();a(0,"div",16)(1,"a",37),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",38)(3,"br"),s(),a(4,"p",39),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.ADD")," "))}function o_(n,l){if(n&1){let e=A();a(0,"div",16)(1,"a",40),I("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",41)(3,"br"),s(),a(4,"p",39),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.EDIT")," "))}function a_(n,l){if(n&1){let e=A();a(0,"div",16)(1,"a",42),I("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",43)(3,"br"),s(),a(4,"p",39),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.DELETE")," "))}function r_(n,l){if(n&1&&(a(0,"mat-header-cell",44),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function s_(n,l){if(n&1&&(a(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.id," ")}}function l_(n,l){if(n&1&&(a(0,"mat-header-cell",44),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function c_(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"cmssiteinfo"),S(3,"async"),s()),n&2){let e=l.$implicit;o(),M(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function d_(n,l){if(n&1&&(a(0,"mat-header-cell",44),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function m_(n,l){if(n&1&&(a(0,"mat-cell"),g(1,"i",45),S(2,"statusIconClass"),s()),n&2){let e=l.$implicit;o(),C("ngClass",h(2,1,e.recordStatus))}}function p_(n,l){if(n&1&&(a(0,"mat-header-cell",44),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function u_(n,l){if(n&1&&(a(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.title," ")}}function f_(n,l){if(n&1&&(a(0,"mat-header-cell",44),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function S_(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",h(2,1,e.createdDate)," ")}}function h_(n,l){if(n&1&&(a(0,"mat-header-cell",44),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function g_(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",h(2,1,e.updatedDate)," ")}}function C_(n,l){n&1&&(a(0,"mat-header-cell"),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",h(2,1,"TITLE.OPTION")," "))}function M_(n,l){if(n&1&&(a(0,"mat-cell",46)(1,"button",47)(2,"mat-icon"),d(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),n&2){let e=P(5);o(),C("matMenuTriggerFor",e)}}function __(n,l){n&1&&g(0,"mat-header-row")}function b_(n,l){if(n&1){let e=A();a(0,"mat-row",48),I("click",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))})("rtclick",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))}),s()}if(n&2){let e=l.$implicit,i=m();V("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var ea=class ea extends Oe{constructor(e,i,t,r,p,c,D,H,Ke,nt,Qe,Mt){super(e,new Mi,Qe,c,H);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.router=r;this.activatedRoute=p;this.tokenHelper=c;this.cmsStoreService=D;this.translate=H;this.cdr=Ke;this.pageInfo=nt;this.publicHelper=Qe;this.dialog=Mt;this.requestLinkCategoryId="";this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.categoryModelSelected=new jt;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","title","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","createdDate","updatedDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkCategoryId=this.activatedRoute.snapshot.paramMap.get("LinkCategoryId"),this.optionsSearch.parentMethods={onSubmit:Y=>this.onSubmitOptionsSearch(Y)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=q.Descending,this.requestLinkCategoryId&&this.requestLinkCategoryId.length>0){let Y=new Q;Y.propertyName="LinkCategoryId",Y.value=this.requestLinkCategoryId,this.filteModelContent.filters.push(Y)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Mi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);if(this.categoryModelSelected&&this.categoryModelSelected.id?.length>0){let t=new Q;t.propertyName="LinkCategoryId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){let e=new ia;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={linkCategoryId:this.categoryModelSelected?.id},this.dialog.open(wo,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new ia;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id},this.dialog.open(Ro,i).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],t=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(r=>{if(r){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,0)}),this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(D=>{this.publicHelper.processService.processStart(t,D,this.constructorInfoAreaId)});let r=this.filterModelCompiler(this.filteModelContent);if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let D=new Q;D.propertyName="LinkCategoryId",D.value=this.categoryModelSelected.id,r.filters.push(D)}this.contentService.ServiceGetCount(r).subscribe({next:D=>{D.isSuccess?(this.translate.get("MESSAGE.All").subscribe(H=>{i.set(H,D.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(D.errorMessage),this.publicHelper.processService.processStop(t)},error:D=>{this.cmsToastrService.typeError(D),this.publicHelper.processService.processStop(t,!1)}});let p=this.filterModelCompiler(this.filteModelContent);if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let D=new Q;D.propertyName="LinkCategoryId",D.value=this.categoryModelSelected.id,p.filters.push(D)}let c=new Q;c.propertyName="recordStatus",c.value=Pe.Available,p.filters.push(c),this.contentService.ServiceGetCount(p).subscribe({next:D=>{D.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(H=>{i.set(H,D.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(D.errorMessage),this.publicHelper.processService.processStop(t)},error:D=>{this.cmsToastrService.typeError(D),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new J,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}};ea.\u0275fac=function(i){return new(i||ea)(_(Oi),_(O),_(Ve),_(Le),_(ze),_(Ce),_(ge),_(B),_(F),_(Fe),_(G),_(he))},ea.\u0275cmp=N({type:ea,selectors:[["app-sms-main-message-content-list"]],standalone:!1,features:[K],decls:56,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let r=A();a(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(c){return u(r),y(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(r),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(r),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(r),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(r),f(t.onActionButtonPrintRow())}),R(1,4),a(2,"app-sms-main-message-category-tree",5),I("optionChange",function(c){return u(r),f(t.onActionSelectorSelect(c))}),s(),x(),lt(3,6)(4,7),R(5,8),a(6,"a",9),I("click",function(){return u(r),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",10),s(),a(8,"a",9),I("click",function(){return u(r),f(t.onActionButtonReload())}),g(9,"i",11),s(),x(),R(10,12),a(11,"a",13),I("click",function(){return u(r),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",14),d(13),S(14,"translate"),s(),a(15,"a",13),I("click",function(){return u(r),f(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",14),d(17),S(18,"translate"),s(),x(),R(19,15),b(20,n_,7,3,"div",16),x(),R(21,17),b(22,o_,7,3,"div",16),b(23,a_,7,3,"div",16),x(),R(24,18),a(25,"app-cms-search-list",19),w("optionsChange",function(c){return u(r),y(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),s(),a(26,"app-cms-statist-list",19),w("optionsChange",function(c){return u(r),y(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),s(),x(),R(27,20),a(28,"mat-table",21,0),I("matSortChange",function(){u(r);let c=P(29);return f(t.onTableSortData(c))}),R(30,22),L(31,r_,2,1,"mat-header-cell",23)(32,s_,2,1,"mat-cell",24),x(),R(33,25),L(34,l_,2,1,"mat-header-cell",23)(35,c_,4,5,"mat-cell",24),x(),R(36,26),L(37,d_,2,1,"mat-header-cell",23)(38,m_,3,3,"mat-cell",24),x(),R(39,27),L(40,p_,2,1,"mat-header-cell",23)(41,u_,2,1,"mat-cell",24),x(),R(42,28),L(43,f_,2,1,"mat-header-cell",23)(44,S_,3,3,"mat-cell",24),x(),R(45,29),L(46,h_,2,1,"mat-header-cell",23)(47,g_,3,3,"mat-cell",24),x(),R(48,30),L(49,C_,3,3,"mat-header-cell",31)(50,M_,6,1,"mat-cell",32),x(),L(51,__,1,0,"mat-header-row",33)(52,b_,1,2,"mat-row",34),s(),x(),R(53,35),a(54,"mat-paginator",36,1),I("page",function(c){return u(r),f(t.onTablePageingData(c))}),s(),x(),s()}i&2&&(C("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","sms.message.content.list"),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),C("optionTreeDisplay",!t.requestLinkCategoryId||t.requestLinkCategoryId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),V("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),C("checked",t.optionsSearch.data.show),o(),M("",h(14,25,"ACTION.SEARCH")," "),o(3),C("checked",t.optionsStatist.data.show),o(),M("",h(18,27,"ACTION.STATIST")," "),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(2),T("options",t.optionsSearch),o(),T("options",t.optionsStatist),o(2),C("dataSource",t.tableSource),o(23),C("matHeaderRowDef",t.tabledisplayedColumns),o(),C("matRowDefColumns",t.tabledisplayedColumns),o(2),C("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",we(29,i_)))},dependencies:[Ne,ct,Xe,Et,Tt,Be,yt,wt,Pt,Rt,Dt,Nt,kt,xt,Bt,Lt,Vt,Ft,Ot,Ge,He,Gt,Ht,za,ot,U,sn,Ye,We],encapsulation:2});var Ya=ea;var v_=()=>[5,10,20,100];function I_(n,l){if(n&1){let e=A();a(0,"div",15)(1,"a",40),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",41)(3,"br"),s(),a(4,"p",19),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.ADD")," "))}function A_(n,l){if(n&1){let e=A();a(0,"div",15)(1,"a",40),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRowAuto())}),g(2,"i",41)(3,"br"),s(),a(4,"p",19),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.AUTOADD")," "))}function E_(n,l){if(n&1){let e=A();a(0,"div",15)(1,"a",42),I("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",43)(3,"br"),s(),a(4,"p",19),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.EDIT")," "))}function T_(n,l){if(n&1){let e=A();a(0,"div",15)(1,"a",44),I("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",45)(3,"br"),s(),a(4,"p",19),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",h(6,1,"ACTION.DELETE")," "))}function y_(n,l){n&1&&(a(0,"mat-header-cell",46),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",h(2,1,"TITLE.PICTURE")," "))}function w_(n,l){if(n&1&&g(0,"img",47),n&2){let e=m().$implicit;C("src",k(e.linkMainImageIdSrc),me)}}function P_(n,l){if(n&1&&(a(0,"mat-cell"),b(1,w_,1,2,"img",47),s()),n&2){let e=l.$implicit;o(),v((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function R_(n,l){if(n&1&&(a(0,"mat-header-cell",46),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function x_(n,l){if(n&1&&(a(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.id," ")}}function D_(n,l){if(n&1&&(a(0,"mat-header-cell",46),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function k_(n,l){if(n&1&&(a(0,"mat-cell",48),S(1,"statusCellClass"),g(2,"i",48),S(3,"statusIconClass"),s()),n&2){let e=l.$implicit;C("ngClass",h(1,2,e.recordStatus)),o(2),C("ngClass",h(3,4,e.recordStatus))}}function L_(n,l){if(n&1&&(a(0,"mat-header-cell",46),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function V_(n,l){if(n&1&&(a(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.title," ")}}function N_(n,l){if(n&1&&(a(0,"mat-header-cell",46),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.className==null?null:e.fieldsInfo.className.fieldTitle," ")}}function B_(n,l){if(n&1&&(a(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.className," ")}}function F_(n,l){if(n&1&&(a(0,"mat-header-cell",46),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function O_(n,l){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",h(2,1,e.updatedDate)," ")}}function G_(n,l){n&1&&(a(0,"mat-header-cell"),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",h(2,1,"TITLE.OPTION")," "))}function H_(n,l){if(n&1&&(a(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),d(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),n&2){let e=P(5);o(),C("matMenuTriggerFor",e)}}function W_(n,l){n&1&&g(0,"mat-header-row")}function U_(n,l){if(n&1){let e=A();a(0,"mat-row",51),I("click",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))})("rtclick",function(t){let r=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(r,t))}),s()}if(n&2){let e=l.$implicit,i=m();V("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var ta=class ta extends Oe{constructor(e,i,t,r,p,c,D,H,Ke,nt,Qe,Mt){super(e,new ai,Qe,D,Ke);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.coreCurrencyService=r;this.cmsStoreService=p;this.router=c;this.tokenHelper=D;this.cdr=H;this.translate=Ke;this.pageInfo=nt;this.publicHelper=Qe;this.dialog=Mt;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new X;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","ClassName","updatedDate"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","ClassName","updatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Y=>this.onSubmitOptionsSearch(Y)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=q.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getCurrency()}getCurrency(){let e=new J;e.rowPerPage=100,this.coreCurrencyService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreCurrencyResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ai);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ko,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Vo,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],t=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(r=>{if(r){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonNewRowAuto(){let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.ServiceAutoAdd().subscribe({next:i=>{i.isSuccess?(this.cmsToastrService.typeSuccessAdd(),this.DataGetAll()):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let r=JSON.parse(JSON.stringify(this.filteModelContent)),p=new Q;p.propertyName="recordStatus",p.value=Pe.Available,r.filters.push(p),this.contentService.ServiceGetCount(r).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPrivateList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path/list/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};ta.\u0275fac=function(i){return new(i||ta)(_(Zt),_(O),_(Ve),_(ga),_(ge),_(Le),_(Ce),_(F),_(B),_(Fe),_(G),_(he))},ta.\u0275cmp=N({type:ta,selectors:[["app-sms-publicconfig-list"]],standalone:!1,features:[K],decls:64,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","ClassName"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let r=A();a(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(c){return u(r),y(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(r),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(r),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(r),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(r),f(t.onActionButtonPrintRow())}),R(1,4),d(2," -------------------------------------- "),x(),lt(3,5)(4,6),R(5,7),a(6,"a",8),I("click",function(){return u(r),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",9),s(),a(8,"a",8),I("click",function(){return u(r),f(t.onActionButtonReload())}),g(9,"i",10),s(),x(),R(10,11),a(11,"a",12),I("click",function(){return u(r),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",13),d(13),S(14,"translate"),s(),a(15,"a",12),I("click",function(){return u(r),f(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",13),d(17),S(18,"translate"),s(),x(),R(19,14),b(20,I_,7,3,"div",15),b(21,A_,7,3,"div",15),x(),R(22,16),b(23,E_,7,3,"div",15),b(24,T_,7,3,"div",15),a(25,"div",15)(26,"a",17),I("click",function(){return u(r),f(t.onActionButtonPrivateList(t.tableRowSelected))}),g(27,"i",18)(28,"br"),s(),a(29,"p",19),d(30),S(31,"translate"),s()(),x(),R(32,20),a(33,"app-cms-search-list",21),w("optionsChange",function(c){return u(r),y(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),s(),a(34,"app-cms-statist-list",21),w("optionsChange",function(c){return u(r),y(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),s(),x(),R(35,22),a(36,"mat-table",23,0),I("matSortChange",function(){u(r);let c=P(37);return f(t.onTableSortData(c))}),R(38,24),L(39,y_,3,3,"mat-header-cell",25)(40,P_,2,1,"mat-cell",26),x(),R(41,27),L(42,R_,2,1,"mat-header-cell",25)(43,x_,2,1,"mat-cell",26),x(),R(44,28),L(45,D_,2,1,"mat-header-cell",25)(46,k_,4,6,"mat-cell",29),x(),R(47,30),L(48,L_,2,1,"mat-header-cell",25)(49,V_,2,1,"mat-cell",26),x(),R(50,31),L(51,N_,2,1,"mat-header-cell",25)(52,B_,2,1,"mat-cell",26),x(),R(53,32),L(54,F_,2,1,"mat-header-cell",25)(55,O_,3,3,"mat-cell",26),x(),R(56,33),L(57,G_,3,3,"mat-header-cell",34)(58,H_,6,1,"mat-cell",35),x(),L(59,W_,1,0,"mat-header-row",36)(60,U_,1,2,"mat-row",37),s(),x(),R(61,38),a(62,"mat-paginator",39,1),I("page",function(c){return u(r),f(t.onTablePageingData(c))}),s(),x(),s()}i&2&&(C("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),C("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),V("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),C("checked",t.optionsSearch.data.show),o(),M("",h(14,27,"ACTION.SEARCH")," "),o(3),C("checked",t.optionsStatist.data.show),o(),M("",h(18,29,"ACTION.STATIST")," "),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(6),M(" ",h(31,31,"ACTION.ROUTES")," "),o(3),T("options",t.optionsSearch),o(),T("options",t.optionsStatist),o(2),C("dataSource",t.tableSource),o(23),C("matHeaderRowDef",t.tabledisplayedColumns),o(),C("matRowDefColumns",t.tabledisplayedColumns),o(2),C("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",we(33,v_)))},dependencies:[Ne,ct,Xe,Et,Tt,Be,yt,wt,Pt,Rt,Dt,Nt,kt,xt,Bt,Lt,Vt,Ft,Ot,Ge,He,Gt,Ht,U,Ye,We,oi],encapsulation:2});var Ka=ta;var Yr=[{path:"",component:Fo,data:{title:"ROUTE.SMS.MAIN"},children:[{path:"api-path-company",component:Ua,data:{title:"ROUTE.SMS.MAIN"}},{path:"publicconfig",component:Ka,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path",component:In,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/list",component:In,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/list/LinkCompanyId/:LinkCompanyId",component:In,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/list/LinkPublicConfigId/:LinkPublicConfigId",component:In,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/list/LinkSiteId/:LinkSiteId",component:In,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/edit/:id",component:ho,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-permission",component:Dn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-permission/LinkApiPathId/:LinkApiPathId",component:Dn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-permission/LinkUserId/:LinkUserId",component:Dn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-permission/LinkSiteId/:LinkSiteId",component:Dn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-price-service",component:ua,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-price-service/LinkApiPathId/:LinkApiPathId",component:ua,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number",component:pa,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number/LinkApiPathId/:LinkApiPathId",component:pa,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number-permission",component:Rn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number-permission/LinkApiNumberId/:LinkApiNumberId",component:Rn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number-permission/LinkUserId/:LinkUserId",component:Rn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number-permission/LinkSiteId/:LinkSiteId",component:Rn,data:{title:"ROUTE.SMS.MAIN"}},{path:"client-permission",component:fa,data:{title:"ROUTE.SMS.MAIN"}},{path:"client-permission/LinkUserId/:LinkUserId",component:fa,data:{title:"ROUTE.SMS.MAIN"}},{path:"message",component:Ya,data:{title:"ROUTE.SMS.MAIN"}}]}];var kn=class kn{};kn.\u0275fac=function(e){return new(e||kn)},kn.\u0275mod=ha({type:kn}),kn.\u0275inj=Sa({imports:[$a.forChild(window.innerWidth<1e3?Qr:Yr),$a]});var Ja=kn;var Ln=class Ln{};Ln.\u0275fac=function(e){return new(e||Ln)},Ln.\u0275mod=ha({type:Ln}),Ln.\u0275inj=Sa({providers:[mr,Re,$e,Ve,Sr,ft,At,Bi,Ni,Zt,li,Ca,Oi,_i,Fi],imports:[lr,Ja,Mr,_r.withConfig({warnOnNgModelWithFormControl:"never"}),xr,Nr,kr,Tr,Or,Rr,Gr,Cr]});var Kr=Ln;export{Fn as a,Ti as b,To as c,Kr as d};
