import{a as co,b as vi,c as po}from"./chunk-K4SGJEDU.js";import{a as lo}from"./chunk-5FT5LJI2.js";import{a as so}from"./chunk-PXIWBWSA.js";import{a as ao}from"./chunk-GTNCUWWY.js";import{a as Cr}from"./chunk-IICEXPXA.js";import{a as fr}from"./chunk-LVLFQOOO.js";import{a as pr}from"./chunk-CGTLYWFL.js";import{a as zt}from"./chunk-63VZP5KR.js";import{a as no}from"./chunk-HAGAHY37.js";import{a as ur}from"./chunk-TKCZVYIC.js";import{a as dr}from"./chunk-NYRBSQEI.js";import{a as mr}from"./chunk-XOY6FIRY.js";import{a as Ut}from"./chunk-FATHGWLK.js";import{a as At}from"./chunk-AC7GHDXX.js";import{a as Dt}from"./chunk-HNRXMGIC.js";import{a as lr,b as cr,c as yt,d as Tt,e as Et,g as wt,h as Rt}from"./chunk-4HDIEMIG.js";import{a as Qt}from"./chunk-NL3M4ZVH.js";import{a as It,c as ar}from"./chunk-SGMBTPCU.js";import{a as Wt}from"./chunk-JUFEZRZP.js";import{a as ro}from"./chunk-SVTEWXZT.js";import{a as Oe}from"./chunk-DKBG5H7Q.js";import{b as sr}from"./chunk-GX57LA4G.js";import"./chunk-B5ZXGGJN.js";import{a as oo}from"./chunk-GWFCTHO4.js";import{a as He}from"./chunk-I6F35ZJN.js";import{a as Be}from"./chunk-C3Y24M2P.js";import{a as Q,d as Ve}from"./chunk-S37YDRYV.js";import{b as jt,e as vt,f as F}from"./chunk-N3PU7IZM.js";import{$ as Wi,$a as Y,A as qi,Ab as gt,Bb as _t,Cb as Mt,D as tt,Db as bt,E as it,Eb as or,Fc as he,G as ot,Ib as Yi,Ic as ge,J as Ue,Jb as Xi,K as rt,Ka as ke,Kb as Zi,Kc as N,L as nt,La as xe,Lb as $i,Ma as Ce,Mb as eo,N as Qo,Nb as to,Nc as nr,O as zo,Q as ji,Qb as O,Rb as q,W as at,Y as Ko,Za as Se,aa as Qi,ba as Ge,bc as io,cc as rr,eb as st,fb as lt,hb as ct,ia as Jo,ja as Yo,ka as Xo,la as Zo,lb as Le,m as Hi,ma as $o,mb as pt,n as Ee,na as er,nb as mt,oa as tr,pb as Ki,q as se,qa as ir,qb as Ji,r as we,sa as zi,t as Re,u as et,ub as dt,v as Ae,vb as ut,w as De,wb as ft,xb as Ct,yb as St,zb as ht}from"./chunk-Z6VRH72F.js";import{$b as We,Ab as Oi,Ad as Xe,Bb as Fi,Bf as ae,Bq as x,Ca as ue,Cf as J,Db as be,Df as yo,Eb as ve,Ee as qo,Ef as ee,F as Gi,Fa as r,Fb as Ie,Fd as Ze,Fe as qt,Ge as ne,Ha as re,He as Te,I as ki,Id as $e,Ie as $,Jb as D,Jc as Ne,Kc as Z,Lb as W,Lc as H,Ld as K,Mb as No,Oa as S,Ob as m,Od as Pt,P as xi,Pb as A,Pc as Ye,Q as Li,Qb as g,Rb as Ot,Rc as Ft,Sa as V,Sd as Ht,Ta as Bi,Td as k,Ub as E,Vb as w,Wa as z,Wb as R,Xb as U,Xc as Po,Xd as P,Y as Vi,Ya as b,Yb as Je,Yd as L,Yk as Wo,ac as Qe,da as u,db as Ke,dc as h,de as j,dg as jo,ea as f,ec as _,fc as ye,he as Ni,hl as Pi,kb as p,lb as a,lg as To,mb as l,me as Ho,nb as v,p as Di,q as Ui,rb as y,rd as Nt,sb as T,tb as Me,td as Pe,ub as I,wc as B,xb as M,zb as C,zd as Io}from"./chunk-OZYBSVFX.js";import{i as X}from"./chunk-SEDBTTTN.js";function br(o,n){if(o&1){let e=I();a(0,"button",10),M("click",function(){u(e);let t=C();return f(t.onActionButtonEditRow())}),m(1),h(2,"translate"),l()}o&2&&(r(),g(" ",_(2,1,"ACTION.EDIT")," "))}function vr(o,n){if(o&1){let e=I();a(0,"button",4),M("click",function(){u(e);let t=C();return f(t.onActionBackToParent())}),m(1),h(2,"translate"),l()}o&2&&(r(),g(" ",_(2,1,"ACTION.BACK")," "))}function Ir(o,n){if(o&1&&(a(0,"p"),m(1),l()),o&2){let e=C().$implicit;r(),g(" ",e.approvedExpireDate," ")}}function yr(o,n){if(o&1&&(a(0,"p"),m(1),l()),o&2){let e=C().$implicit;r(),g(" ",e.typeDescription," ")}}function Tr(o,n){if(o&1&&(a(0,"p"),m(1),l()),o&2){let e=C().$implicit;r(),g(" ",e.approvedResult," ")}}function Er(o,n){if(o&1){let e=I();a(0,"button",4),M("click",function(){u(e);let t=C().$implicit,s=C();return f(s.onActionButtonEditRow(t))}),m(1),h(2,"translate"),l()}o&2&&(r(),g(" ",_(2,1,"ACTION.SEND_DOCUMENTS")," "))}function wr(o,n){if(o&1&&(a(0,"div",11)(1,"mat-card",12)(2,"mat-card-header"),v(3,"div",13),a(4,"mat-card-title"),v(5,"i",1),h(6,"boolclass"),m(7),h(8,"translate"),l(),a(9,"mat-card-subtitle"),m(10),l()(),v(11,"img",14),a(12,"mat-card-content"),b(13,Ir,2,1,"p",15)(14,yr,2,1,"p",15)(15,Tr,2,1,"p",15),l(),a(16,"mat-card-actions"),b(17,Er,3,3,"button",6),l()()()),o&2){let e=n.$implicit;r(3),No(Je("background-image: url('",e.typeLinkMainImageIdSrc,"'); background-size: cover;")),r(2),p("ngClass",_(6,14,e.isApproved)),r(2),g(" ",_(8,16,"ACTION.STATUS")),r(3),A(e.typeTitle),r(),p("src",U(e.linkFileContentIdSrc),ue)("alt",U(e.typeTitle)),r(2),p("ngIf",e.isApproved&&e.approvedExpireDate),r(),p("ngIf",!e.isApproved),r(),p("ngIf",e.approvedResult&&e.approvedResult.length>0),r(2),p("ngIf",!e.isApproved)}}var Kt=class Kt{constructor(n,e,i,t,s,d,c,G,ie,_e,Ai){this.coreUserClaimContentService=n;this.publicHelper=e;this.cmsToastrService=i;this.coreUserClaimTypeService=t;this.router=s;this.cmsStoreService=d;this.activatedRoute=c;this.tokenHelper=G;this.cdr=ie;this.translate=_e;this.dialog=Ai;this.requestLinkUserId=0;this.requestLinkSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.dataModelResult=new k;this.optionsSearch=new lr;this.optionsStatist=new cr;this.tokenInfo=new jo;this.tableRowSelected=new To;this.tableSource=new or;this.fieldsInfo=new Map;this.categoryModelSelected=new ee;this.dataModelCoreUserClaimTypeResult=new k;this.tabledisplayedColumns=["TypeTitle","IsApproved","ApprovedResult","ApproveCheckDate","ApprovedExpireDate","Action"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId"))}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>X(this,null,function*(){this.tokenInfo=n,this.DataGetAll()}))),this.getUserClaimType()}getUserClaimType(){let n=new L;n.rowPerPage=100,this.coreUserClaimTypeService.ServiceGetAll(n).subscribe({next:e=>{this.dataModelCoreUserClaimTypeResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetAll(){this.onActionTableRowSelect(new To);let n=this.constructor.name+"main";if(this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.requestLinkUserId>0&&this.requestLinkSiteId>0){let e=new qo;e.userId=this.requestLinkUserId,e.siteId=this.requestLinkSiteId,this.coreUserClaimContentService.setAccessLoad(),this.coreUserClaimContentService.ServiceClaimCheck(e).subscribe({next:i=>{i.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModelResult=i,this.tableSource.data=i.listItems,setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(i.access)},1e3)):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(n)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(n,!1)}})}else this.coreUserClaimContentService.setAccessLoad(),this.coreUserClaimContentService.ServiceClaimCheckCurrent().subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onActionButtonNewRow(){var n="";this.publicHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(vi,{height:"90%",panelClass:n,enterAnimationDuration:x.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:x.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(n=this.tableRowSelected){if(!n||!n.linkTypeId||n.linkTypeId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(n),n.linkContentId&&n.linkContentId>0){var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(po,{height:"90%",panelClass:e,enterAnimationDuration:x.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:x.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.linkContentId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}else{var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(vi,{height:"90%",panelClass:e,enterAnimationDuration:x.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:x.cmsViewConfig.exitAnimationDuration,data:{linkUserClaimTypeId:this.tableRowSelected.linkTypeId}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}}onActionButtonReload(){this.DataGetAll()}onActionTableRowSelect(n){this.tableRowSelected=n,n.expanded||(n.expanded=!1),n.expanded=!n.expanded}onActionBackToParent(){this.router.navigate(["/core/user/"])}};Kt.\u0275fac=function(e){return new(e||Kt)(S(qt),S(F),S(N),S($),S(Pe),S(he),S(Nt),S(ge),S(B),S(O),S(Ce))},Kt.\u0275cmp=V({type:Kt,selectors:[["app-core-userclaimcontent-checklist"]],standalone:!1,decls:13,vars:9,consts:[[1,"row"],[3,"ngClass"],[1,"ntk-cms-html-list-header"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"title"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[1,"row","loader-container"],[3,"optionsInfoAreaId"],["class","col-4",4,"ngFor","ngForOf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"col-4"],[1,"example-card"],["mat-card-avatar",""],["mat-card-image","",3,"src","alt"],[4,"ngIf"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),b(3,br,3,3,"button",3),a(4,"button",4),M("click",function(){return i.onActionButtonReload()}),a(5,"mat-icon",5),h(6,"translate"),m(7,"refresh"),l()(),b(8,vr,3,3,"button",6),l(),a(9,"div")(10,"div",7),v(11,"app-progress-spinner",8),b(12,wr,18,18,"div",9),l()()()()),e&2&&(r(),p("ngClass","col-xl-12"),r(2),p("ngIf",(i.tableRowSelected==null?null:i.tableRowSelected.linkTypeId)>0),r(2),p("title",U(_(6,7,"ACTION.RELOAD"))),r(3),p("ngIf",i.requestLinkUserId>0),r(3),p("optionsInfoAreaId",i.constructorInfoAreaId),r(),p("ngForOf",i.dataModelResult.listItems))},dependencies:[Ne,Z,H,Jo,$o,ir,Xo,er,tr,Zo,Yo,Se,Q,q,jt],styles:[".width[_ngcontent-%COMP%]{width:100%}"]});var Ii=Kt;var Ar=["vform"];function Dr(o,n){if(o&1){let e=I();a(0,"app-cms-enum-record-status-selector",39),R("modelChange",function(t){u(e);let s=C();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(o&2){let e=C();E("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ur(o,n){if(o&1&&(a(0,"mat-error"),m(1),a(2,"strong"),m(3),h(4,"translate"),l()()),o&2){let e=C();r(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),r(2),A(_(4,2,"MESSAGE.required"))}}function Gr(o,n){if(o&1&&(a(0,"mat-error"),m(1),a(2,"strong"),m(3),h(4,"translate"),l()()),o&2){let e=C();r(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),A(_(4,2,"MESSAGE.required"))}}function kr(o,n){if(o&1&&(a(0,"option",40),m(1),l()),o&2){let e=n.$implicit;p("ngValue",e.value),r(),g(" ",e.description," ")}}function xr(o,n){o&1&&(a(0,"mat-error"),m(1," Kind is "),a(2,"strong"),m(3),h(4,"translate"),l()()),o&2&&(r(3),A(_(4,1,"MESSAGE.required")))}function Lr(o,n){if(o&1&&(v(0,"img",41),h(1,"cmsthumbnail")),o&2){let e=C();p("src",U(_(1,2,e.dataModel.linkMainImageIdSrc)),ue)}}function Vr(o,n){if(o&1&&(a(0,"mat-error"),m(1),a(2,"strong"),m(3),h(4,"translate"),l()()),o&2){let e=C();r(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),r(2),A(_(4,2,"MESSAGE.required"))}}function Br(o,n){if(o&1){let e=I();a(0,"div",42)(1,"button",43),M("click",function(){u(e);let t=C();return f(t.onFormCancel())}),v(2,"i",44),m(3),h(4,"translate"),l(),a(5,"button",45),v(6,"i",46),m(7),h(8,"translate"),l()()}if(o&2){C();let e=D(10);r(3),g(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!e.form.valid),r(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var Zt=class Zt extends Wt{constructor(e,i,t,s,d,c,G,ie){super(s,new ee,d,ie);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreUserClaimTypeService=s;this.publicHelper=d;this.cmsToastrService=c;this.cdr=G;this.translate=ie;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new k;this.dataModel=new ee;this.formInfo=new Ve;this.dataModelEnumUserClaimKindsResult=new k;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEnumUserClaimKinds()}getEnumUserClaimKinds(){this.coreEnumService.ServiceUserClaimKindsEnum().subscribe({next:e=>{this.dataModelEnumUserClaimKindsResult=e}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Zt.\u0275fac=function(i){return new(i||Zt)(S(xe),S(ke),S(j),S($),S(F),S(N),S(B),S(O))},Zt.\u0275cmp=V({type:Zt,selectors:[["app-core-userclaimtype-add"]],viewQuery:function(i,t){if(i&1&&be(Ar,5),i&2){let s;ve(s=Ie())&&(t.formGroup=s.first)}},standalone:!1,features:[z],decls:66,vars:56,consts:[["vform","ngForm"],["Title",""],["TitleResourceLanguage",""],["Kind","ngModel"],["LinkMainImageId",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.kind","name","dataModel.kind",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.dismissOnEdit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.dismissOnEdit","name","dataModel.dismissOnEdit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.dismissOnEdit",1,"custom-control-label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"mb-9"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","name","dataModel.linkMainImageId","type","text","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"ngValue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",6),v(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),m(4),l(),a(5,"p"),m(6),h(7,"translate"),l(),v(8,"app-cms-form-result-message",10),a(9,"form",11,0),M("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(11,Dr,1,5,"app-cms-enum-record-status-selector",12),a(12,"div",13)(13,"label",14),m(14),l(),a(15,"input",15,1),R("ngModelChange",function(c){return u(s),w(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),l(),a(17,"em"),m(18),l(),b(19,Ur,5,4,"mat-error",16),l(),a(20,"div",13)(21,"label",17),m(22),l(),a(23,"input",18,2),R("ngModelChange",function(c){return u(s),w(t.dataModel.titleResourceLanguage,c)||(t.dataModel.titleResourceLanguage=c),f(c)}),l(),a(25,"em"),m(26),l(),b(27,Gr,5,4,"mat-error",16),l(),a(28,"div",19)(29,"select",20,3),R("ngModelChange",function(c){return u(s),w(t.dataModel.kind,c)||(t.dataModel.kind=c),f(c)}),b(31,kr,2,2,"option",21),l(),a(32,"em"),m(33),h(34,"translate"),l(),b(35,xr,5,3,"mat-error",16),l(),a(36,"div",22)(37,"div",23)(38,"h5",24),m(39),l()(),a(40,"div",25)(41,"div",26)(42,"input",27),R("ngModelChange",function(c){return u(s),w(t.dataModel.dismissOnEdit,c)||(t.dataModel.dismissOnEdit=c),f(c)}),l(),v(43,"label",28),l()()(),a(44,"div",29)(45,"a",30),h(46,"cmsthumbnail"),b(47,Lr,2,4,"img",31),l()(),a(48,"div",32)(49,"div",13)(50,"label",33),M("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),m(51),h(52,"translate"),l(),a(53,"input",34,4),h(55,"translate"),R("ngModelChange",function(c){return u(s),w(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),M("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),l()(),a(56,"cms-file-manager",35),M("itemSelected",function(c){return u(s),f(t.onActionFileSelected(c))}),R("openFormChange",function(c){return u(s),w(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),l()(),a(57,"div",13)(58,"label",36),m(59),l(),a(60,"textarea",37,5),R("ngModelChange",function(c){return u(s),w(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),l(),a(62,"em"),m(63),l(),b(64,Vr,5,4,"mat-error",16),l(),b(65,Br,9,7,"div",38),l()()()}if(i&2){let s=D(16),d=D(24),c=D(30),G=D(61);r(),p("optionsInfoAreaId",t.constructorInfoAreaId),r(3),g(" ",t.formInfo.formTitle," "),r(2),g(" ",_(7,46,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),p("formInfo",t.formInfo),r(3),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),r(3),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),p("placeholder",U(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),r(3),g("",s.value.length," / 100"),r(),p("ngIf",s.errors==null?null:s.errors.required),r(3),A(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),r(),p("placeholder",U(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.titleResourceLanguage),p("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessAddField)),r(3),g("",d.value.length," / 100"),r(),p("ngIf",d.errors==null?null:d.errors.required),r(2),E("ngModel",t.dataModel.kind),r(2),p("ngForOf",t.dataModelEnumUserClaimKindsResult.listItems),r(2),A(_(34,48,"TITLE.Select_type_of_content")),r(2),p("ngIf",c.errors==null?null:c.errors.required),r(4),g(" ",t.fieldsInfo.dismissOnEdit==null?null:t.fieldsInfo.dismissOnEdit.fieldTitle," "),r(3),E("ngModel",t.dataModel.dismissOnEdit),r(3),p("href",U(_(46,50,t.dataModel.linkMainImageIdSrc)),ue),r(2),p("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),r(4),g("",_(52,52,"TITLE.Sample_File")," "),r(2),p("placeholder",U(_(55,54,"TITLE.Original_File_ID"))),E("ngModel",t.dataModel.linkMainImageId),r(3),p("language",t.appLanguage)("isPopup",!0),E("openForm",t.fileManagerOpenForm),p("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),p("placeholder",U(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),E("ngModel",t.dataModel.description),r(3),g("",G.value.length," / 500"),r(),p("ngIf",G.errors==null?null:G.errors.required),r(),p("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[Z,H,De,it,ot,Ee,Hi,tt,se,we,Ue,rt,nt,Ae,Re,at,Y,Oe,Q,Be,io,q,It],encapsulation:2});var $t=Zt;function Fr(o,n){if(o&1){let e=I();a(0,"li")(1,"mat-checkbox",1),M("change",function(){let t=u(e).$implicit,s=C();return f(s.onActionSelect(t))}),m(2),l()()}if(o&2){let e=n.$implicit,i=C();r(),p("checked",i.fieldsStatus.get(e.id))("disabled",i.optionDisabled),r(),g(" ",e.titleML," ")}}var ei=class ei{constructor(n,e,i,t,s,d){this.coreEnumService=n;this.categoryService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.cmsToastrService=d;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new k;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new et;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new re;this.optionSelectAdded=new re;this.optionSelectRemoved=new re;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(n){this.onActionSelectForce(n)}ngOnInit(){this.DataGetAll()}DataGetAll(){let n=new L;n.rowPerPage=50,n.accessLoad=!0;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(n).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataModelResult.listItems.forEach(t=>this.fieldsStatus.set(t.id,!1)),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0)),this.dataModelResult.listItems.forEach(t=>{this.fieldsStatus.get(t.id)&&this.dataModelSelect.push(t)})):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelect(n){this.fieldsStatus.get(n.id)?(this.fieldsStatus.set(n.id,!1),this.optionSelectRemoved.emit(n),this.dataModelSelect.splice(this.dataModelSelect.indexOf(n),1)):(this.fieldsStatus.set(n.id,!0),this.optionSelectAdded.emit(n),this.dataModelSelect.push(n)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(n){typeof n==typeof Array(Number)?n.forEach(e=>{this.dataIdsSelect.push(e)}):typeof n==typeof Array(J)&&n.forEach(e=>{this.dataIdsSelect.push(e.id)}),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){this.DataGetAll()}};ei.\u0275fac=function(e){return new(e||ei)(S(j),S(ne),S(B),S(F),S(O),S(N))},ei.\u0275cmp=V({type:ei,selectors:[["app-core-userclaimgroup-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(e,i){e&1&&(a(0,"ul"),b(1,Fr,3,3,"li",0),l()),e&2&&(r(),p("ngForOf",i.dataModelResult.listItems))},dependencies:[Z,zi],encapsulation:2});var fo=ei;var jr=["vform"];function Wr(o,n){if(o&1){let e=I();a(0,"app-cms-enum-record-status-selector",39),R("modelChange",function(t){u(e);let s=C();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(o&2){let e=C();E("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Qr(o,n){if(o&1&&(a(0,"mat-error"),m(1),a(2,"strong"),m(3),h(4,"translate"),l()()),o&2){let e=C();r(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),r(2),A(_(4,2,"MESSAGE.required"))}}function zr(o,n){if(o&1&&(a(0,"mat-error"),m(1),a(2,"strong"),m(3),h(4,"translate"),l()()),o&2){let e=C();r(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),A(_(4,2,"MESSAGE.required"))}}function Kr(o,n){if(o&1&&(a(0,"option",40),m(1),l()),o&2){let e=n.$implicit;p("ngValue",e.value),r(),g(" ",e.description," ")}}function Jr(o,n){if(o&1){let e=I();a(0,"div",41)(1,"div",42)(2,"h5",43),m(3),l()(),a(4,"div",44)(5,"div",45)(6,"input",46),R("ngModelChange",function(t){u(e);let s=C();return w(s.dataModel.dismissOnEdit,t)||(s.dataModel.dismissOnEdit=t),f(t)}),l(),v(7,"label",47),l()()()}if(o&2){let e=C();r(3),g(" ",e.fieldsInfo.dismissOnEdit==null?null:e.fieldsInfo.dismissOnEdit.fieldTitle," "),r(3),E("ngModel",e.dataModel.dismissOnEdit)}}function Yr(o,n){if(o&1&&(v(0,"img",48),h(1,"cmsthumbnail")),o&2){let e=C();p("src",U(_(1,2,e.dataModel.linkMainImageIdSrc)),ue)}}function Xr(o,n){if(o&1&&(a(0,"mat-error"),m(1),a(2,"strong"),m(3),h(4,"translate"),l()()),o&2){let e=C();r(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),r(2),A(_(4,2,"MESSAGE.required"))}}function Zr(o,n){if(o&1){let e=I();a(0,"div",49)(1,"button",50),M("click",function(){u(e);let t=C();return f(t.onFormCancel())}),v(2,"i",51),m(3),h(4,"translate"),l(),a(5,"button",52),v(6,"i",53),m(7),h(8,"translate"),l()()}if(o&2){C();let e=D(10);r(3),g(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!e.form.valid),r(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var ti=class ti extends Qt{constructor(e,i,t,s,d,c,G,ie,_e){super(s,new ee,c,_e);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreUserClaimTypeService=s;this.coreUserClaimGroupDetailService=d;this.publicHelper=c;this.cmsToastrService=G;this.cdr=ie;this.translate=_e;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ht;this.dataModel=new ee;this.formInfo=new Ve;this.dataModelEnumUserClaimKindsResult=new k;this.fileManagerOpenForm=!1;this.dataCoreClaimGroupIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetAllCoreUserClaimType(),this.getEnumUserClaimKinds()}getEnumUserClaimKinds(){this.coreEnumService.ServiceUserClaimKindsEnum().subscribe({next:e=>{this.dataModelEnumUserClaimKindsResult=e}})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimTypeService.setAccessLoad(),this.coreUserClaimTypeService.setAccessDataType(Pt.Editor),this.coreUserClaimTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllCoreUserClaimType(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"DataGetAllCoreUserClaimType";this.translate.get("MESSAGE.Get_the_list_of_documents").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new L,t=new P;t.propertyName="LinkUserClaimTypeId",t.value=this.requestId,i.filters.push(t),this.coreUserClaimGroupDetailService.ServiceGetAll(i).subscribe({next:s=>{this.dataCoreUserClaimGroupDetailModels=s.listItems;let d=[];this.dataCoreUserClaimGroupDetailModels.forEach(c=>{d.push(c.linkUserClaimGroupId)}),this.dataCoreClaimGroupIds=d,s.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.submitResultMessage=c}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimTypeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorUserCategorySelect(e){this.dataCoreUserClaimTypeModels=e}onActionSelectorUserCategorySelectAdded(e){let i=new ae;i.linkUserClaimTypeId=e.id,i.linkUserClaimGroupId=this.dataModel.id,i.isRequired=!0,this.coreUserClaimGroupDetailService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorUserCategorySelectRemoved(e){let i=new ae;i.linkUserClaimTypeId=e.id,i.linkUserClaimGroupId=this.dataModel.id,this.coreUserClaimGroupDetailService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}};ti.\u0275fac=function(i){return new(i||ti)(S(xe),S(ke),S(j),S($),S(Te),S(F),S(N),S(B),S(O))},ti.\u0275cmp=V({type:ti,selectors:[["app-core-userclaimtype-edit"]],viewQuery:function(i,t){if(i&1&&be(jr,5),i&2){let s;ve(s=Ie())&&(t.formGroup=s.first)}},standalone:!1,features:[z],decls:67,vars:66,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["Kind","ngModel"],["LinkMainImageId",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","cmsKeyboardForce","en","name","dataModel.titleML","type","text","id","dataModel.titleML",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","id","dataModel.titleResourceLanguage","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.kind","name","dataModel.kind",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],["class","d-flex mb-3",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"mb-9"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","name","dataModel.linkMainImageId","type","text","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"ngValue"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.dismissOnEdit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.dismissOnEdit","name","dataModel.dismissOnEdit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.dismissOnEdit",1,"custom-control-label"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",7),v(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),m(4),l(),a(5,"p"),m(6),h(7,"translate"),l(),v(8,"app-cms-form-result-message",11),a(9,"form",12,0),M("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),a(11,"mat-vertical-stepper",13,1),M("selectionChange",function(c){u(s);let G=D(12);return f(t.onStepClick(c,G))}),a(13,"mat-step",14),h(14,"translate"),b(15,Wr,1,5,"app-cms-enum-record-status-selector",15),a(16,"div",16)(17,"label",17),m(18),l(),a(19,"input",18,2),R("ngModelChange",function(c){return u(s),w(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),l(),a(21,"em"),m(22),l(),b(23,Qr,5,4,"mat-error",19),l(),a(24,"div",16)(25,"label",20),m(26),h(27,"translate"),l(),a(28,"input",21),R("ngModelChange",function(c){return u(s),w(t.dataModel.titleML,c)||(t.dataModel.titleML=c),f(c)}),l()(),a(29,"div",16)(30,"label",22),m(31),l(),a(32,"input",23,3),R("ngModelChange",function(c){return u(s),w(t.dataModel.titleResourceLanguage,c)||(t.dataModel.titleResourceLanguage=c),f(c)}),l(),a(34,"em"),m(35),l(),b(36,zr,5,4,"mat-error",19),l(),a(37,"div",24)(38,"select",25,4),R("ngModelChange",function(c){return u(s),w(t.dataModel.kind,c)||(t.dataModel.kind=c),f(c)}),b(40,Kr,2,2,"option",26),l()(),b(41,Jr,8,2,"div",27),a(42,"div",28)(43,"a",29),h(44,"cmsthumbnail"),b(45,Yr,2,4,"img",30),l()(),a(46,"div",31)(47,"div",16)(48,"label",32),M("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),m(49),h(50,"translate"),l(),a(51,"input",33,5),h(53,"translate"),R("ngModelChange",function(c){return u(s),w(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),M("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),l()(),a(54,"cms-file-manager",34),M("itemSelected",function(c){return u(s),f(t.onActionFileSelected(c))}),R("openFormChange",function(c){return u(s),w(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),l()(),a(55,"div",16)(56,"label",35),m(57),l(),a(58,"textarea",36,6),R("ngModelChange",function(c){return u(s),w(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),l(),a(60,"em"),m(61),l(),b(62,Xr,5,4,"mat-error",19),l()(),a(63,"mat-step",14),h(64,"translate"),a(65,"app-core-userclaimgroup-selectionlist",37),M("optionChange",function(c){return u(s),f(t.onActionSelectorUserCategorySelect(c))})("optionSelectAdded",function(c){return u(s),f(t.onActionSelectorUserCategorySelectAdded(c))})("optionSelectRemoved",function(c){return u(s),f(t.onActionSelectorUserCategorySelectRemoved(c))}),l()()(),b(66,Zr,9,7,"div",38),l()()()}if(i&2){let s=D(20),d=D(33),c=D(59);r(),p("optionsInfoAreaId",t.constructorInfoAreaId),r(3),g(" ",t.formInfo.formTitle," "),r(2),g(" ",_(7,52,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),p("formInfo",t.formInfo),r(5),p("label",U(_(14,54,"TITLE.Details_Claim"))),r(2),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),r(3),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),p("placeholder",U(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),r(3),g("",s.value.length," / 100"),r(),p("ngIf",s.errors==null?null:s.errors.required),r(3),g(" ",_(27,56,"TITLE.TitleML")),r(2),E("ngModel",t.dataModel.titleML),p("disabled",!0),r(3),A(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),r(),p("placeholder",U(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.titleResourceLanguage),p("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),r(3),g("",d.value.length," / 100"),r(),p("ngIf",d.errors==null?null:d.errors.required),r(2),E("ngModel",t.dataModel.kind),r(2),p("ngForOf",t.dataModelEnumUserClaimKindsResult.listItems),r(),p("ngIf",t.fieldsInfo.dismissOnEdit==null?null:t.fieldsInfo.dismissOnEdit.accessWatchField),r(2),p("href",U(_(44,58,t.dataModel.linkMainImageIdSrc)),ue),r(2),p("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),r(4),g("",_(50,60,"TITLE.Sample_File")," "),r(2),p("placeholder",U(_(53,62,"TITLE.Original_File_ID"))),E("ngModel",t.dataModel.linkMainImageId),r(3),p("language",t.appLanguage)("isPopup",!0),E("openForm",t.fileManagerOpenForm),p("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),p("placeholder",U(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),E("ngModel",t.dataModel.description),r(3),g("",c.value.length," / 500"),r(),p("ngIf",c.errors==null?null:c.errors.required),r(),p("label",U(_(64,64,"TITLE.Get_Used"))),r(2),p("optionSelectForce",t.dataCoreClaimGroupIds)("optionDisabled",!1),r(),p("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[Z,H,De,it,ot,Ee,Hi,tt,se,we,Ue,rt,nt,Ae,Re,at,Y,Ki,Ji,Oe,Q,Be,ro,oo,io,fo,q,It],encapsulation:2});var ii=ti;function tn(o,n){if(o&1){let e=I();a(0,"button",13),M("click",function(){u(e);let t=C();return f(t.onActionAdd())}),m(1),h(2,"translate"),l()}o&2&&(r(),g(" ",_(2,1,"ACTION.ADD")," "))}function on(o,n){if(o&1){let e=I();a(0,"button",14),M("click",function(){u(e);let t=C();return f(t.onActionEdit())}),m(1),h(2,"translate"),l()}o&2&&(r(),g(" ",_(2,1,"ACTION.EDIT")," "))}function rn(o,n){if(o&1){let e=I();a(0,"button",15),M("click",function(){u(e);let t=C();return f(t.onActionButtonReload())}),a(1,"mat-icon",16),h(2,"translate"),m(3,"refresh"),l()()}if(o&2){let e=C();r(),W("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),p("title",U(_(2,4,"ACTION.RELOAD")))}}function nn(o,n){if(o&1){let e=I();a(0,"mat-tree-node",17),v(1,"button",18),a(2,"span",19),M("click",function(){let t=u(e).$implicit,s=C();return f(s.onActionSelect(t))}),m(3),l()()}if(o&2){let e=n.$implicit,i=C();W("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===e.id),r(3),A(e.titleML)}}function an(o,n){if(o&1){let e=I();a(0,"mat-tree-node",20)(1,"button",21)(2,"mat-icon",22),m(3),l()(),a(4,"span",19),M("click",function(){let t=u(e).$implicit,s=C();return f(s.onActionSelect(t))}),m(5),l()()}if(o&2){let e=n.$implicit,i=C(),t=D(11);W("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===e.id),p("cdkTreeNodeTypeaheadLabel",e.titleML)("isExpanded",e.isExpanded??!1),r(),Ke("type","button")("aria-label","Toggle "+e.titleML),r(2),g(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),r(2),A(e.titleML)}}var oi=class oi{constructor(n,e,i,t,s,d,c,G,ie){this.cmsToastrService=n;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=s;this.publicHelper=d;this.tokenHelper=c;this.cmsStoreService=G;this.translate=ie;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new ee;this.dataModelResult=new k;this.filterModel=new L;this.dataSource=new to;this.optionChange=new re;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(n,e)=>!1;this.childrenAccessor=n=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(n){this.onActionSelectForce(n)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>X(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onActionSelect(n){this.dataModelSelect=n,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new ee,this.DataGetAll()}onActionSelectForce(n){}onActionAdd(){var n="";this.publicHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open($t,{height:"90%",panelClass:n,enterAnimationDuration:x.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:x.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let n=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(n=this.dataModelSelect.id),n===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ii,{height:"90%",panelClass:e,enterAnimationDuration:x.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:x.cmsViewConfig.exitAnimationDuration,data:{id:n}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};oi.\u0275fac=function(e){return new(e||oi)(S(N),S(j),S($),S(Ce),S(B),S(F),S(ge),S(he),S(O))},oi.\u0275cmp=V({type:oi,selectors:[["app-core-userclaimtype-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:15,vars:13,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),y(1,2),m(2),h(3,"translate"),T(),y(4,3),b(5,tn,3,3,"button",4)(6,on,3,3,"button",5)(7,rn,4,6,"button",6),T(),y(8,7),v(9,"app-progress-spinner",8),a(10,"mat-tree",9,0),b(12,nn,4,3,"mat-tree-node",10)(13,an,6,8,"mat-tree-node",11),l(),T(),Me(14,12),l()),e&2&&(p("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),g(" ",_(3,11,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),r(3),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),r(),p("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),r(),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),r(2),p("optionsInfoAreaId",i.constructorInfoAreaId),r(),p("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),r(3),p("matTreeNodeDefWhen",i.hasChild))},dependencies:[H,Ge,Se,Xi,Zi,eo,$i,Yi,Q,no,q],encapsulation:2});var Co=oi;var ln=()=>["expandedTitle"],cn=()=>[5,10,20,100],pn=o=>({display:o}),mn=o=>({background:o});function dn(o,n){if(o&1&&v(0,"app-core-user-header",52),o&2){let e=C();p("optionId",e.requestLinkUserId)}}function un(o,n){if(o&1){let e=I();a(0,"a",53),M("click",function(){u(e);let t=C();return f(t.onActionBackToParent())}),v(1,"i",54),l()}}function fn(o,n){if(o&1){let e=I();a(0,"div",20)(1,"a",55),M("click",function(){u(e);let t=C();return f(t.onActionButtonNewRow())}),v(2,"i",56)(3,"br"),l(),a(4,"p",22),m(5),h(6,"translate"),l()()}o&2&&(r(5),g(" ",_(6,1,"ACTION.ADD")," "))}function Cn(o,n){if(o&1){let e=I();a(0,"div",20)(1,"a",57),M("click",function(){u(e);let t=C();return f(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",58)(3,"br"),l(),a(4,"p",22),m(5),h(6,"translate"),l()()}o&2&&(r(5),g(" ",_(6,1,"ACTION.EDIT")," "))}function Sn(o,n){if(o&1){let e=I();a(0,"div",20)(1,"a",59),M("click",function(){u(e);let t=C();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",60)(3,"br"),l(),a(4,"p",22),m(5),h(6,"translate"),l()()}o&2&&(r(5),g(" ",_(6,1,"ACTION.DELETE")," "))}function hn(o,n){if(o&1){let e=I();a(0,"mat-row",61),M("click",function(t){let s=u(e).$implicit,d=C();return f(d.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,d=C();return f(d.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=C();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=C();return f(s.onActionTableRowMouseLeave(t))}),l()}if(o&2){let e=n.$implicit,i=C();W("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function gn(o,n){o&1&&(a(0,"mat-header-cell",62),m(1),h(2,"translate"),l()),o&2&&(r(),g(" ",_(2,1,"TITLE.PICTURE")," "))}function _n(o,n){if(o&1&&v(0,"img",64),o&2){let e=C().$implicit;p("src",U(e.linkFileContentId),ue)}}function Mn(o,n){if(o&1&&(a(0,"mat-cell"),b(1,_n,1,2,"img",63),l()),o&2){let e=n.$implicit;r(),p("ngIf",(e==null||e.linkFileContentId==null?null:e.linkFileContentId.length)>0)}}function bn(o,n){if(o&1&&(a(0,"mat-header-cell",62),m(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function vn(o,n){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let e=n.$implicit;r(),g(" ",e.id," ")}}function In(o,n){if(o&1&&(a(0,"mat-header-cell",62),m(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function yn(o,n){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let e=n.$implicit;r(),g(" ",e.title," ")}}function Tn(o,n){if(o&1&&(a(0,"mat-header-cell",62),m(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function En(o,n){if(o&1&&(a(0,"mat-cell"),m(1),h(2,"cmssiteinfo"),h(3,"async"),l()),o&2){let e=n.$implicit;r(),g(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function wn(o,n){if(o&1&&(a(0,"mat-header-cell",62),m(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Rn(o,n){if(o&1&&(a(0,"mat-cell"),m(1),h(2,"cmsuserinfo"),h(3,"async"),l()),o&2){let e=n.$implicit;r(),g(" ",_(3,3,_(2,1,e.linkUserId))," ")}}function An(o,n){if(o&1&&(a(0,"mat-header-cell",62),m(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Dn(o,n){if(o&1&&v(0,"select",67),o&2){let e=C().$implicit,i=C();p("contentService",i.contentService)("row",e)("ngStyle",Qe(3,pn,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Un(o,n){if(o&1&&(a(0,"mat-cell",65),h(1,"statusCellClass"),v(2,"i",65),h(3,"statusIconClass"),b(4,Dn,1,5,"select",66),l()),o&2){let e=n.$implicit,i=C();p("ngClass",_(1,3,e.recordStatus)),r(2),p("ngClass",_(3,5,e.recordStatus)),r(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Gn(o,n){if(o&1&&(a(0,"mat-header-cell",62),m(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.linkUserClaimTypeId==null?null:e.fieldsInfo.linkUserClaimTypeId.fieldTitle," ")}}function kn(o,n){if(o&1&&(a(0,"mat-cell"),m(1),h(2,"cmstitle"),l()),o&2){let e=n.$implicit,i=C();r(),A(ye(2,1,e.linkUserClaimTypeId,i.dataModelCoreUserClaimTypeResult.listItems))}}function xn(o,n){if(o&1&&(a(0,"mat-header-cell",62),m(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.isApproved==null?null:e.fieldsInfo.isApproved.fieldTitle," ")}}function Ln(o,n){if(o&1&&(a(0,"mat-cell"),v(1,"i",65),h(2,"boolclass"),l()),o&2){let e=n.$implicit;r(),p("ngClass",_(2,1,e.isApproved))}}function Vn(o,n){if(o&1&&(a(0,"mat-header-cell",62),m(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Bn(o,n){if(o&1&&(a(0,"mat-cell"),m(1),h(2,"localeDate"),l()),o&2){let e=n.$implicit;r(),g(" ",_(2,1,e.createdDate)," ")}}function On(o,n){if(o&1&&(a(0,"mat-header-cell",62),m(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Fn(o,n){if(o&1&&(a(0,"mat-cell"),m(1),h(2,"localeDate"),l()),o&2){let e=n.$implicit;r(),g(" ",_(2,1,e.updatedDate)," ")}}function Nn(o,n){if(o&1&&(a(0,"mat-header-cell",62),m(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Pn(o,n){if(o&1&&(a(0,"mat-cell",68),m(1),h(2,"persianDate"),l()),o&2){let e=n.$implicit,i=C();p("ngStyle",Qe(4,mn,i.publicHelper.RowStyleExpireDate(e.expireDate))),r(),g(" ",_(2,2,e.expireDate)," ")}}function Hn(o,n){o&1&&(a(0,"mat-header-cell"),m(1),h(2,"translate"),l()),o&2&&(r(),g(" ",_(2,1,"TITLE.OPTION")," "))}function qn(o,n){if(o&1&&(a(0,"mat-cell",69)(1,"button",70)(2,"mat-icon"),m(3,"more_vert"),l()(),v(4,"mat-menu",null,2),l()),o&2){let e=D(5);r(),p("matMenuTriggerFor",e)}}function jn(o,n){o&1&&v(0,"mat-header-row")}function Wn(o,n){if(o&1){let e=I();a(0,"mat-row",71),M("click",function(t){let s=u(e).$implicit,d=C();return f(d.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,d=C();return f(d.onActionTableRowSelect(s,t))}),l()}if(o&2){let e=n.$implicit,i=C();W("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Qn(o,n){if(o&1&&(a(0,"mat-cell"),m(1),h(2,"translate"),h(3,"cmsuserinfo"),h(4,"async"),v(5,"br"),m(6),h(7,"translate"),h(8,"cmssiteinfo"),h(9,"async"),v(10,"br"),m(11),h(12,"translate"),h(13,"localeDate"),v(14,"br"),m(15),h(16,"translate"),h(17,"localeDate"),v(18,"br"),m(19),h(20,"translate"),h(21,"localeDate"),l()),o&2){let e=n.$implicit;r(),Ot(" ",_(2,10,"TITLE.User_Id")," : ",_(4,14,_(3,12,e.linkUserId))," "),r(5),Ot(" ",_(7,16,"TITLE.Site_Id")," : ",_(9,20,_(8,18,e.linkSiteId))," "),r(5),Ot(" ",_(12,22,"TITLE.CreationDate")," : ",_(13,24,e.createdDate)," "),r(4),Ot(" ",_(16,26,"TITLE.DateOfUpdate")," : ",_(17,28,e.updatedDate)," "),r(4),Ot(" ",_(20,30,"TITLE.Expire_Date")," : ",_(21,32,e.expireDate)," ")}}var ri=class ri extends yt{constructor(e,i,t,s,d,c,G,ie,_e,Ai,_i,Mi,bi){super(e,new yo,Mi,c,_e);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.coreUserClaimTypeService=s;this.router=d;this.tokenHelper=c;this.activatedRoute=G;this.cdr=ie;this.translate=_e;this.pageInfo=Ai;this.cmsStoreService=_i;this.publicHelper=Mi;this.dialog=bi;this.requestLinkUserClaimTypeId=0;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new L;this.filterDataModelQueryBuilder=[];this.categoryModelSelected=new ee;this.dataModelCoreUserClaimTypeResult=new k;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkFileContentId","id","recordStatus","LinkUserClaimTypeId","IsApproved"];this.tabledisplayedColumnsMobileSource=["LinkFileContentId","id","recordStatus","LinkUserClaimTypeId","IsApproved"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserClaimTypeId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserClaimTypeId")),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.optionsSearch.parentMethods={onSubmit:oe=>this.onSubmitOptionsSearch(oe)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=K.Descending,this.requestLinkUserClaimTypeId>0){let oe=new P;oe.propertyName="LinkUserClaimTypeId",oe.value=this.requestLinkUserClaimTypeId,this.filteModelContent.filters.push(oe)}if(this.requestLinkSiteId>0){let oe=new P;oe.propertyName="linkSiteId",oe.value=this.requestLinkSiteId,this.filteModelContent.filters.push(oe)}if(this.requestLinkUserId>0){let oe=new P;oe.propertyName="linkUserId",oe.value=this.requestLinkUserId,this.filteModelContent.filters.push(oe)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>X(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getUserClaimType()}getUserClaimType(){let e=new L;e.rowPerPage=100,this.coreUserClaimTypeService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreUserClaimTypeResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new yo);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0){let t=new P;t.propertyName="LinkUserClaimTypeId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=K.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=K.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=K.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(vi,{height:"90%",panelClass:e,enterAnimationDuration:x.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:x.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(po,{height:"90%",panelClass:i,enterAnimationDuration:x.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:x.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new L,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(d,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonGoToUserClaimList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/siteUserClaim/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),d=new P;d.propertyName="recordStatus",d.value=$e.Available,s.filters.push(d),this.contentService.ServiceGetCount(s).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonModuleList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/sitecategorymodule/LinkCmsModuleId",this.tableRowSelected.id])}onActionButtonSiteList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/site/list/LinkSiteCategoryId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/userclaim/type/"])}};ri.\u0275fac=function(i){return new(i||ri)(S(qt),S(N),S(He),S($),S(Pe),S(ge),S(Nt),S(B),S(O),S(vt),S(he),S(F),S(Ce))},ri.\u0275cmp=V({type:ri,selectors:[["app-core-userclaimcontent-list"]],standalone:!1,features:[z],decls:89,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","LinkFileContentId"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserClaimTypeId"],["matColumnDef","IsApproved"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=I();b(0,dn,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),R("optionActionGuideNoticeDisplayChange",function(c){return u(s),w(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),M("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),y(2,5),a(3,"app-core-userclaimtype-tree",6),M("optionChange",function(c){return u(s),f(t.onActionSelectorSelect(c))}),l(),T(),Me(4,7)(5,8),y(6,9),b(7,un,2,0,"a",10),a(8,"a",11),M("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),v(9,"i",12),l(),a(10,"a",11),M("click",function(){return u(s),f(t.onActionButtonReload())}),v(11,"i",13),l(),T(),y(12,14),a(13,"a",15),M("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(14,"mat-slide-toggle",16),m(15),h(16,"translate"),l(),a(17,"a",15),M("click",function(){return u(s),f(t.onActionButtonStatist())}),v(18,"mat-slide-toggle",16),m(19),h(20,"translate"),l(),T(),y(21,17),b(22,fn,7,3,"div",18),T(),y(23,19),b(24,Cn,7,3,"div",18)(25,Sn,7,3,"div",18),a(26,"div",20)(27,"a",21),M("click",function(){return u(s),f(t.onActionButtonModuleList(t.tableRowSelected))}),a(28,"mat-icon"),m(29,"view_module"),l()(),a(30,"p",22),m(31),h(32,"translate"),l()(),a(33,"div",20)(34,"a",21),M("click",function(){return u(s),f(t.onActionButtonSiteList(t.tableRowSelected))}),v(35,"i",23),l(),a(36,"p",22),m(37),h(38,"translate"),l()(),T(),y(39,24),a(40,"app-cms-search-list",25),R("optionsChange",function(c){return u(s),w(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),l(),a(41,"app-cms-statist-list",25),R("optionsChange",function(c){return u(s),w(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),l(),T(),y(42,26),a(43,"mat-table",27,0),M("matSortChange",function(){u(s);let c=D(44);return f(t.onTableSortData(c))}),b(45,hn,1,2,"mat-row",28),y(46,29),b(47,gn,3,3,"mat-header-cell",30)(48,Mn,2,1,"mat-cell",31),T(),y(49,32),b(50,bn,2,1,"mat-header-cell",30)(51,vn,2,1,"mat-cell",31),T(),y(52,33),b(53,In,2,1,"mat-header-cell",30)(54,yn,2,1,"mat-cell",31),T(),y(55,34),b(56,Tn,2,1,"mat-header-cell",30)(57,En,4,5,"mat-cell",31),T(),y(58,35),b(59,wn,2,1,"mat-header-cell",30)(60,Rn,4,5,"mat-cell",31),T(),y(61,36),b(62,An,2,1,"mat-header-cell",30)(63,Un,5,7,"mat-cell",37),T(),y(64,38),b(65,Gn,2,1,"mat-header-cell",30)(66,kn,3,4,"mat-cell",31),T(),y(67,39),b(68,xn,2,1,"mat-header-cell",30)(69,Ln,3,3,"mat-cell",31),T(),y(70,40),b(71,Vn,2,1,"mat-header-cell",30)(72,Bn,3,3,"mat-cell",31),T(),y(73,41),b(74,On,2,1,"mat-header-cell",30)(75,Fn,3,3,"mat-cell",31),T(),y(76,42),b(77,Nn,2,1,"mat-header-cell",30)(78,Pn,3,6,"mat-cell",43),T(),y(79,44),b(80,Hn,3,3,"mat-header-cell",45)(81,qn,6,1,"mat-cell",46),T(),b(82,jn,1,0,"mat-header-row",47)(83,Wn,1,2,"mat-row",48),y(84,49),b(85,Qn,22,34,"mat-cell",31),T(),l(),T(),y(86,50),a(87,"mat-paginator",51,1),M("page",function(c){return u(s),f(t.onTablePageingData(c))}),l(),T(),l()}i&2&&(p("ngIf",t.requestLinkUserId>0),r(),p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","userclaim.content.list"),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",t.requestLinkUserClaimTypeId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),r(6),p("ngIf",t.requestLinkUserClaimTypeId>0),r(4),W("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),p("checked",t.optionsSearch.data.show),r(),g("",_(16,30,"ACTION.SEARCH")," "),r(3),p("checked",t.optionsStatist.data.show),r(),g("",_(20,32,"ACTION.STATIST")," "),r(3),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),r(2),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),r(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),r(6),g(" ",_(32,34,"ACTION.MODULES")," "),r(6),g(" ",_(38,36,"ACTION.SITES")," "),r(3),E("options",t.optionsSearch),r(),E("options",t.optionsStatist),r(2),p("dataSource",t.tableSource),r(2),p("matRowDefColumns",We(38,ln)),r(37),p("matHeaderRowDef",t.tabledisplayedColumns),r(),p("matRowDefColumns",t.tabledisplayedColumns),r(4),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",We(39,cn)))},dependencies:[Ne,H,Ye,Ge,Se,Y,st,lt,ct,Le,pt,mt,dt,ft,gt,Ct,ut,_t,St,ht,Mt,bt,Tt,Et,wt,Rt,At,fr,Co,Ft,q,dr,zt,ar,pr,mr,Dt,Ut,jt],encapsulation:2});var Lt=ri;var Kn=["*"];function Jn(o,n){if(o&1&&(a(0,"label",12),m(1),l()),o&2){let e=C();p("for",Je("app-cms-site-selector-",e.id)),r(),A(e.optionLabel)}}function Yn(o,n){if(o&1&&(a(0,"mat-option",13)(1,"span"),m(2),l()()),o&2){let e=n.$implicit,i=C();p("value",e)("disabled",i.optionDisabled),r(2),A(i.displayOption(e))}}function Xn(o,n){o&1&&v(0,"i",14)}function Zn(o,n){o&1&&v(0,"i",15)}function $n(o,n){if(o&1){let e=I();a(0,"i",16),M("click",function(){u(e);let t=C();return f(t.onActionSelectClear())}),l()}}function ea(o,n){o&1&&(a(0,"em"),m(1),h(2,"translate"),l()),o&2&&(r(),g("(",_(2,1,"TITLE.Necessary"),")"))}var Gt=class Gt{constructor(n,e,i,t,s,d){this.coreEnumService=n;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.categoryService=d;this.id=++Gt.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new k;this.dataModelSelect=new J;this.formControl=new et;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new re;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(n){this.onActionSelectForce(n)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(xi(""),Gi(1500),ki(),Li(n=>typeof n=="string"||typeof n=="number"?this.DataGetAll(n||""):[]))}displayFn(n){return n?n.titleML:void 0}displayOption(n){return n?n.titleML:void 0}DataGetAll(n){return X(this,null,function*(){let e=new L;e.rowPerPage=20,e.accessLoad=!0;let i=new P;i.propertyName="title",i.value=n,i.searchType=Ze.Contains,i.clauseType=Xe.Or,e.filters.push(i),n&&typeof+n=="number"&&+n>0&&(i=new P,i.propertyName="id",i.value=n,i.searchType=Ze.Equal,i.clauseType=Xe.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield Di(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(n){this.optionDisabled||(this.dataModelSelect=n,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(n){return this.filteredOptions.pipe(Ui(e=>(e.find(i=>i.id===n.id)||e.push(n),e)))}onActionSelectForce(n){if(typeof n=="number"&&n>0){if(this.dataModelSelect&&this.dataModelSelect.id===n)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===n)){let e=this.dataModelResult.listItems.find(i=>i.id===n);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(n).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof n==typeof J){this.filteredOptions=this.push(n),this.dataModelSelect=n,this.formControl.setValue(n);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new J,this.loadOptions()}};Gt.nextId=0,Gt.\u0275fac=function(e){return new(e||Gt)(S(j),S(N),S(B),S(F),S(O),S(ne))},Gt.\u0275cmp=V({type:Gt,selectors:[["app-core-userclaimgroup-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Kn,decls:15,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();Oi(),a(0,"div",1),v(1,"app-progress-spinner",2),b(2,Jn,2,3,"label",3),v(3,"input",4),a(4,"mat-autocomplete",5,0),M("optionSelected",function(d){return u(t),f(i.onActionSelect(d.option.value))}),b(6,Yn,3,3,"mat-option",6),h(7,"async"),l(),b(8,Xn,1,0,"i",7)(9,Zn,1,0,"i",8)(10,$n,1,0,"i",9),a(11,"i",10),h(12,"translate"),M("click",function(){return u(t),f(i.onActionButtonReload())}),l(),b(13,ea,3,3,"em",11),Fi(14),l()}if(e&2){let t=D(5);r(),p("optionsInfoAreaId",i.constructorInfoAreaId),r(),p("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),r(),p("placeholder",U(i.optionPlaceholder))("id",Je("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Ke("disabled",i.optionDisabled?!0:null),r(),p("displayWith",i.displayFn),r(2),p("ngForOf",_(7,20,i.filteredOptions)),r(2),p("ngIf",!i.formControl.valid),r(),p("ngIf",i.optionRequired&&i.formControl.valid),r(),p("ngIf",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),r(),W("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),p("title",U(_(12,22,"ACTION.RELOAD"))),r(2),p("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id<=0))}},dependencies:[Z,H,Ee,se,Ue,qi,Wi,ji,Qi,Y,Q,Ft,q],encapsulation:2});var ni=Gt;var ia=["vform"];function oa(o,n){if(o&1){let e=I();a(0,"app-cms-enum-record-status-selector",16),R("modelChange",function(t){u(e);let s=C();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(o&2){let e=C();E("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ra(o,n){if(o&1){let e=I();a(0,"mat-slide-toggle",17),R("ngModelChange",function(t){u(e);let s=C();return w(s.dataModel.isRequired,t)||(s.dataModel.isRequired=t),f(t)}),m(1),l()}if(o&2){let e=C();E("ngModel",e.dataModel.isRequired),p("disabled",!(e.fieldsInfo.isRequired!=null&&e.fieldsInfo.isRequired.accessEditField)),r(),g(" ",e.fieldsInfo.isRequired==null?null:e.fieldsInfo.isRequired.fieldTitle," ")}}function na(o,n){if(o&1){let e=I();a(0,"div",18)(1,"button",19),M("click",function(){u(e);let t=C();return f(t.onFormCancel())}),v(2,"i",20),m(3),h(4,"translate"),l(),a(5,"button",21),v(6,"i",22),m(7),h(8,"translate"),l()()}if(o&2){C();let e=D(9);r(3),g(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!e.form.valid),r(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var ai=class ai extends Wt{constructor(e,i,t,s,d,c,G,ie){super(s,new ae,d,ie);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreUserClaimGroupDetailService=s;this.publicHelper=d;this.cmsToastrService=c;this.cdr=G;this.translate=ie;this.requestLinkUserClaimGroupId=0;this.requestLinkUserClaimTypeId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new k;this.dataModel=new ae;this.formInfo=new Ve;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkUserClaimGroupId=+e.linkUserClaimGroupId||0,this.requestLinkUserClaimTypeId=+e.linkUserClaimTypeId||0),this.requestLinkUserClaimGroupId>0&&(this.dataModel.linkUserClaimGroupId=this.requestLinkUserClaimGroupId),this.requestLinkUserClaimTypeId>0&&(this.dataModel.linkUserClaimTypeId=this.requestLinkUserClaimTypeId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupDetailService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectClaimGroup(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_category","MESSAGE.group_of_information_documents_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_category"],i["MESSAGE.group_of_information_documents_is_not_clear"])});return}this.dataModel.linkUserClaimGroupId=e.id}onActionSelectClaimType(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_category","MESSAGE.type_of_information_documents_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_category"],i["MESSAGE.type_of_information_documents_is_not_clear"])});return}this.dataModel.linkUserClaimTypeId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ai.\u0275fac=function(i){return new(i||ai)(S(xe),S(ke),S(j),S(Te),S(F),S(N),S(B),S(O))},ai.\u0275cmp=V({type:ai,selectors:[["app-core-userclaimgroupdetail-add"]],viewQuery:function(i,t){if(i&1&&be(ia,5),i&2){let s;ve(s=Ie())&&(t.formGroup=s.first)}},standalone:!1,features:[z],decls:23,vars:19,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"ntk-full-width"],["name","dataModel.isRequired",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["name","dataModel.isRequired",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",1),v(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),m(4),l(),a(5,"p"),m(6),h(7,"translate"),l(),a(8,"form",5,0),M("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),v(10,"div",6),a(11,"div",7),b(12,oa,1,5,"app-cms-enum-record-status-selector",8),a(13,"app-core-userclaimgroup-selector",9),h(14,"translate"),M("optionChange",function(c){return u(s),f(t.onActionSelectClaimGroup(c))}),l(),a(15,"app-core-userclaimtype-selector",9),h(16,"translate"),M("optionChange",function(c){return u(s),f(t.onActionSelectClaimType(c))}),l(),a(17,"div",10),b(18,ra,2,3,"mat-slide-toggle",11),l()(),a(19,"div",12),v(20,"app-cms-form-result-message",13),l(),a(21,"div",14),b(22,na,9,7,"div",15),l()()()()}i&2&&(r(),p("optionsInfoAreaId",t.constructorInfoAreaId),r(3),g(" ",t.formInfo.formTitle," "),r(2),g(" ",_(7,13,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),r(),p("optionSelectForce",t.dataModel.linkUserClaimGroupId)("optionPlaceholder",_(14,15,"TITLE.DOCUMENT_GROUP"))("optionDisabled",!(t.fieldsInfo.linkUserClaimGroupId!=null&&t.fieldsInfo.linkUserClaimGroupId.accessEditField)),r(2),p("optionSelectForce",t.dataModel.linkUserClaimTypeId)("optionPlaceholder",_(16,17,"TITLE.DOCUMENT_CATEGORY"))("optionDisabled",!(t.fieldsInfo.linkUserClaimTypeId!=null&&t.fieldsInfo.linkUserClaimTypeId.accessEditField)),r(3),p("ngIf",t.fieldsInfo.isRequired==null?null:t.fieldsInfo.isRequired.accessWatchField),r(2),p("formInfo",t.formInfo),r(2),p("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[H,De,se,we,Ae,Re,Le,Oe,Q,Be,ni,co,q],encapsulation:2});var So=ai;var aa=["vform"];function sa(o,n){if(o&1){let e=I();a(0,"app-cms-enum-record-status-selector",16),R("modelChange",function(t){u(e);let s=C();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(o&2){let e=C();E("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function la(o,n){if(o&1){let e=I();a(0,"mat-slide-toggle",17),R("ngModelChange",function(t){u(e);let s=C();return w(s.dataModel.isRequired,t)||(s.dataModel.isRequired=t),f(t)}),m(1),l()}if(o&2){let e=C();E("ngModel",e.dataModel.isRequired),p("disabled",!(e.fieldsInfo.isRequired!=null&&e.fieldsInfo.isRequired.accessEditField)),r(),g(" ",e.fieldsInfo.isRequired==null?null:e.fieldsInfo.isRequired.fieldTitle," ")}}function ca(o,n){if(o&1){let e=I();a(0,"div",18)(1,"button",19),M("click",function(){u(e);let t=C();return f(t.onFormCancel())}),v(2,"i",20),m(3),h(4,"translate"),l(),a(5,"button",21),v(6,"i",22),m(7),h(8,"translate"),l()()}if(o&2){C();let e=D(9);r(3),g(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!e.form.valid),r(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var si=class si extends Qt{constructor(e,i,t,s,d,c,G,ie){super(s,new ae,d,ie);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreUserClaimGroupDetailService=s;this.publicHelper=d;this.cmsToastrService=c;this.cdr=G;this.translate=ie;this.requestModel=new ae;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ht;this.dataModel=new ae;this.formInfo=new Ve;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestModel=e.model),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestModel&&this.requestModel.linkUserClaimTypeId>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new L,t=new P;t.propertyName="LinkUserClaimGroupId",t.value=this.requestModel.linkUserClaimGroupId,i.filters.push(t),t=new P,t.propertyName="LinkUserClaimTypeId",t.value=this.requestModel.linkUserClaimTypeId,i.filters.push(t),this.coreUserClaimGroupDetailService.setAccessLoad(),this.coreUserClaimGroupDetailService.setAccessDataType(Pt.Editor),this.coreUserClaimGroupDetailService.ServiceGetAll(i).subscribe({next:s=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(s.access),s.isSuccess&&s.listItems.length>0?(this.dataModel=s.listItems[0],this.formInfo.formTitle=this.formInfo.formTitle+" "+this.dataModel.linkUserClaimGroupId+"<-->"+this.dataModel.linkUserClaimTypeId,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(d=>{this.formInfo.submitResultMessage=d}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupDetailService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectClaimGroup(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_category","MESSAGE.group_of_information_documents_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_category"],i["MESSAGE.group_of_information_documents_is_not_clear"])});return}this.dataModel.linkUserClaimGroupId=e.id}onActionSelectClaimType(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_category","MESSAGE.type_of_information_documents_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_category"],i["MESSAGE.type_of_information_documents_is_not_clear"])});return}this.dataModel.linkUserClaimTypeId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};si.\u0275fac=function(i){return new(i||si)(S(xe),S(ke),S(j),S(Te),S(F),S(N),S(B),S(O))},si.\u0275cmp=V({type:si,selectors:[["app-core-userclaimgroupdetail-edit"]],viewQuery:function(i,t){if(i&1&&be(aa,5),i&2){let s;ve(s=Ie())&&(t.formGroup=s.first)}},standalone:!1,features:[z],decls:23,vars:19,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"ntk-full-width"],["name","dataModel.isRequired",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["name","dataModel.isRequired",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",1),v(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),m(4),l(),a(5,"p"),m(6),h(7,"translate"),l(),a(8,"form",5,0),M("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),v(10,"div",6),a(11,"div",7),b(12,sa,1,5,"app-cms-enum-record-status-selector",8),a(13,"app-core-userclaimgroup-selector",9),h(14,"translate"),M("optionChange",function(c){return u(s),f(t.onActionSelectClaimGroup(c))}),l(),a(15,"app-core-userclaimtype-selector",9),h(16,"translate"),M("optionChange",function(c){return u(s),f(t.onActionSelectClaimType(c))}),l(),a(17,"div",10),b(18,la,2,3,"mat-slide-toggle",11),l()(),a(19,"div",12),v(20,"app-cms-form-result-message",13),l(),a(21,"div",14),b(22,ca,9,7,"div",15),l()()()()}i&2&&(r(),p("optionsInfoAreaId",t.constructorInfoAreaId),r(3),g(" ",t.formInfo.formTitle," "),r(2),g(" ",_(7,13,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),r(),p("optionSelectForce",t.dataModel.linkUserClaimGroupId)("optionPlaceholder",_(14,15,"TITLE.DOCUMENT_GROUP"))("optionDisabled",!(t.fieldsInfo.linkUserClaimGroupId!=null&&t.fieldsInfo.linkUserClaimGroupId.accessEditField)),r(2),p("optionSelectForce",t.dataModel.linkUserClaimTypeId)("optionPlaceholder",_(16,17,"TITLE.DOCUMENT_CATEGORY"))("optionDisabled",!(t.fieldsInfo.linkUserClaimTypeId!=null&&t.fieldsInfo.linkUserClaimTypeId.accessEditField)),r(3),p("ngIf",t.fieldsInfo.isRequired==null?null:t.fieldsInfo.isRequired.accessWatchField),r(2),p("formInfo",t.formInfo),r(2),p("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[H,De,se,we,Ae,Re,Le,Oe,Q,Be,ni,co,q],encapsulation:2});var ho=si;var pa=["*"];function ma(o,n){if(o&1&&(a(0,"label",14),m(1),l()),o&2){let e=C();p("for",Je("app-cms-site-selector-",e.id)),r(),A(e.optionLabel)}}function da(o,n){if(o&1&&(v(0,"img",15),h(1,"cmsthumbnail")),o&2){let e=C();p("src",U(_(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),ue)}}function ua(o,n){if(o&1&&(v(0,"img",15),h(1,"cmsthumbnail")),o&2){let e=C().$implicit;p("src",U(_(1,2,e.linkMainImageIdSrc)),ue)}}function fa(o,n){if(o&1&&(a(0,"mat-option",16),b(1,ua,2,4,"img",5),a(2,"span"),m(3),l()()),o&2){let e=n.$implicit,i=C();p("value",e)("disabled",i.optionDisabled),r(),p("ngIf",e.linkMainImageIdSrc),r(2),A(i.displayOption(e))}}function Ca(o,n){o&1&&v(0,"i",17)}function Sa(o,n){o&1&&v(0,"i",18)}function ha(o,n){if(o&1){let e=I();a(0,"i",19),M("click",function(){u(e);let t=C();return f(t.onActionSelectClear())}),l()}}function ga(o,n){o&1&&(a(0,"em"),m(1),h(2,"translate"),l()),o&2&&(r(),g("(",_(2,1,"TITLE.Necessary"),")"))}var kt=class kt{constructor(n,e,i,t,s){this.coreEnumService=n;this.translate=e;this.cdr=i;this.publicHelper=t;this.categoryService=s;this.id=++kt.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new k;this.dataModelSelect=new Pi;this.formControl=new et;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionRequired=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new re;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(n){this.onActionSelectForce(n)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(xi(""),Gi(1500),ki(),Li(n=>typeof n=="string"||typeof n=="number"?this.DataGetAll(n):this.DataGetAll("")))}displayFn(n){return n?n.title:void 0}displayOption(n){return n?n.title:void 0}DataGetAll(n){return X(this,null,function*(){let e=new L;if(e.rowPerPage=20,e.accessLoad=!0,n&&n.length>0){let t=new P;t=new P,t.propertyName="SubDomain",t.value=n,t.searchType=Ze.Contains,t.clauseType=Xe.Or,e.filters.push(t),t=new P,t.propertyName="Domain",t.value=n,t.searchType=Ze.Contains,t.clauseType=Xe.Or,e.filters.push(t),t=new P,t.propertyName="title",t.value=n,t.searchType=Ze.Contains,t.clauseType=Xe.Or,e.filters.push(t),n&&typeof+n=="number"&&+n>0&&(t=new P,t.propertyName="id",t.value=n,t.searchType=Ze.Equal,t.clauseType=Xe.Or,e.filters.push(t))}let i=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),yield Di(this.categoryService.ServiceGetAll(e)).then(t=>(this.dataModelResult=t,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(i),t.listItems))})}onActionSelect(n){this.optionDisabled||(this.dataModelSelect=n,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(n){return this.filteredOptions.pipe(Ui(e=>(e.find(i=>i.id===n.id)||e.push(n),e)))}onActionSelectForce(n){if(typeof n=="number"&&n>0){if(this.dataModelSelect&&this.dataModelSelect.id===n)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===n)){let e=this.dataModelResult.listItems.find(i=>i.id===n);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(n).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof n==typeof Pi){this.filteredOptions=this.push(n),this.dataModelSelect=n,this.formControl.setValue(n);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Pi,this.loadOptions()}};kt.nextId=0,kt.\u0275fac=function(e){return new(e||kt)(S(j),S(O),S(B),S(F),S(Wo))},kt.\u0275cmp=V({type:kt,selectors:[["app-cms-application-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionRequired:"optionRequired",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:pa,decls:18,vars:25,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();Oi(),a(0,"div",1),v(1,"app-progress-spinner",2),b(2,ma,2,3,"label",3),a(3,"span",4),b(4,da,2,4,"img",5),m(5," \xA0"),l(),v(6,"input",6),a(7,"mat-autocomplete",7,0),M("optionSelected",function(d){return u(t),f(i.onActionSelect(d.option.value))}),b(9,fa,4,4,"mat-option",8),h(10,"async"),l(),b(11,Ca,1,0,"i",9)(12,Sa,1,0,"i",10)(13,ha,1,0,"i",11),a(14,"i",12),h(15,"translate"),M("click",function(){return u(t),f(i.onActionButtonReload())}),l(),b(16,ga,3,3,"em",13),Fi(17),l()}if(e&2){let t=D(8);r(),p("optionsInfoAreaId",i.constructor.name),r(),p("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),r(2),p("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),r(2),p("placeholder",U(i.optionPlaceholder))("id",Je("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Ke("disabled",i.optionDisabled?!0:null),r(),p("displayWith",i.displayFn),r(2),p("ngForOf",_(10,21,i.filteredOptions)),r(2),p("ngIf",!i.formControl.valid),r(),p("ngIf",i.optionRequired&&i.formControl.valid),r(),p("ngIf",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),r(),W("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),p("title",U(_(15,23,"ACTION.RELOAD"))),r(2),p("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id<=0))}},dependencies:[Z,H,Ee,se,Ue,qi,Wi,ji,Qi,Ko,Y,Q,Ft,q,It],encapsulation:2});var li=kt;var va=["vform"];function Ia(o,n){if(o&1){let e=I();a(0,"app-cms-enum-record-status-selector",24),R("modelChange",function(t){u(e);let s=C();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(o&2){let e=C();E("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ya(o,n){if(o&1&&(a(0,"mat-error"),m(1),a(2,"strong"),m(3),h(4,"translate"),l()()),o&2){let e=C();r(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),r(2),A(_(4,2,"MESSAGE.required"))}}function Ta(o,n){if(o&1&&(a(0,"mat-error"),m(1),a(2,"strong"),m(3),h(4,"translate"),l()()),o&2){let e=C();r(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),A(_(4,2,"MESSAGE.required"))}}function Ea(o,n){if(o&1&&(a(0,"option",25),m(1),l()),o&2){let e=n.$implicit;p("value",e.value),r(),g(" ",e.description," ")}}function wa(o,n){o&1&&(a(0,"mat-error"),m(1," ActionType is "),a(2,"strong"),m(3),h(4,"translate"),l()()),o&2&&(r(3),A(_(4,1,"MESSAGE.required")))}function Ra(o,n){if(o&1&&(a(0,"mat-error"),m(1),a(2,"strong"),m(3),h(4,"translate"),l()()),o&2){let e=C();r(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),r(2),A(_(4,2,"MESSAGE.required"))}}function Aa(o,n){if(o&1){let e=I();a(0,"div",26)(1,"button",27),M("click",function(){u(e);let t=C();return f(t.onFormCancel())}),v(2,"i",28),m(3),h(4,"translate"),l(),a(5,"button",29),v(6,"i",30),m(7),h(8,"translate"),l()()}if(o&2){C();let e=D(10);r(3),g(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!e.form.valid),r(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var ci=class ci extends Wt{constructor(e,i,t,s,d,c,G,ie){super(s,new J,d,ie);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreUserClaimGroupService=s;this.publicHelper=d;this.cmsToastrService=c;this.cdr=G;this.translate=ie;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new k;this.dataModel=new J;this.formInfo=new Ve;this.dataModelEnumUserClaimGroupActionTypeResult=new k;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEnumUserClaimGroupActionType()}getEnumUserClaimGroupActionType(){this.coreEnumService.ServiceUserClaimGroupActionTypeEnum().subscribe({next:e=>{this.dataModelEnumUserClaimGroupActionTypeResult=e}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectApplication(e){if(!e||e.id<=0){this.dataModel.linkApplicationId=null;return}this.dataModel.linkApplicationId=e.id}onActionSelectApplicationSource(e){if(!e||e.id<=0){this.dataModel.linkApplicationSourceId=null;return}this.dataModel.linkApplicationSourceId=e.id}onActionSelectUserGroup(e){if(!e||e.id<=0){this.dataModel.linkUserGroupId=null;return}this.dataModel.linkUserGroupId=e.id}onActionSelectSiteCategory(e){if(this.dataModel.linkSiteCategoryId=null,!e||e.id<=0){this.dataModel.linkSiteCategoryId=null;return}this.dataModel.linkSiteCategoryId=e.id}onActionSelectModuleId(e){this.dataModel.linkModuleId=null,!(!e||e.id<=0)&&(this.dataModel.linkModuleId=e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ci.\u0275fac=function(i){return new(i||ci)(S(xe),S(ke),S(j),S(ne),S(F),S(N),S(B),S(O))},ci.\u0275cmp=V({type:ci,selectors:[["app-core-userclaimgroup-add"]],viewQuery:function(i,t){if(i&1&&be(va,5),i&2){let s;ve(s=Ie())&&(t.formGroup=s.first)}},standalone:!1,features:[z],decls:56,vars:58,consts:[["vform","ngForm"],["Title",""],["TitleResourceLanguage",""],["ActionType","ngModel"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["id","dataModel.actionType","name","dataModel.actionType","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",5),v(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),m(4),l(),a(5,"p"),m(6),h(7,"translate"),l(),v(8,"app-cms-form-result-message",9),a(9,"form",10,0),M("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(11,Ia,1,5,"app-cms-enum-record-status-selector",11),a(12,"div",12)(13,"label",13),m(14),l(),a(15,"input",14,1),R("ngModelChange",function(c){return u(s),w(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),l(),a(17,"em"),m(18),l(),b(19,ya,5,4,"mat-error",15),l(),a(20,"div",12)(21,"label",16),m(22),l(),a(23,"input",17,2),R("ngModelChange",function(c){return u(s),w(t.dataModel.titleResourceLanguage,c)||(t.dataModel.titleResourceLanguage=c),f(c)}),l(),a(25,"em"),m(26),l(),b(27,Ta,5,4,"mat-error",15),l(),a(28,"div",12)(29,"select",18,3),R("ngModelChange",function(c){return u(s),w(t.dataModel.actionType,c)||(t.dataModel.actionType=c),f(c)}),b(31,Ea,2,2,"option",19),l(),a(32,"em"),m(33),h(34,"translate"),l(),b(35,wa,5,3,"mat-error",15),l(),v(36,"hr"),a(37,"app-cms-module-selector",20),h(38,"translate"),M("optionChange",function(c){return u(s),f(t.onActionSelectModuleId(c))}),l(),a(39,"app-cms-sitecategory-selector",20),h(40,"translate"),M("optionChange",function(c){return u(s),f(t.onActionSelectSiteCategory(c))}),l(),a(41,"app-cms-usergroup-selector",20),h(42,"translate"),M("optionChange",function(c){return u(s),f(t.onActionSelectUserGroup(c))}),l(),a(43,"app-cms-application-selector",20),h(44,"translate"),M("optionChange",function(c){return u(s),f(t.onActionSelectApplication(c))}),l(),a(45,"app-cms-application-selector",20),h(46,"translate"),M("optionChange",function(c){return u(s),f(t.onActionSelectApplicationSource(c))}),l(),a(47,"div",12)(48,"label",21),m(49),l(),a(50,"textarea",22,4),R("ngModelChange",function(c){return u(s),w(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),l(),a(52,"em"),m(53),l(),b(54,Ra,5,4,"mat-error",15),l(),b(55,Aa,9,7,"div",23),l()()()}if(i&2){let s=D(16),d=D(24),c=D(30),G=D(51);r(),p("optionsInfoAreaId",t.constructorInfoAreaId),r(3),g(" ",t.formInfo.formTitle," "),r(2),g(" ",_(7,44,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),p("formInfo",t.formInfo),r(3),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),r(3),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),p("placeholder",U(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),r(3),g("",s.value.length," / 100"),r(),p("ngIf",s.errors==null?null:s.errors.required),r(3),A(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),r(),p("placeholder",U(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.titleResourceLanguage),p("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessAddField)),r(3),g("",d.value.length," / 100"),r(),p("ngIf",d.errors==null?null:d.errors.required),r(2),E("ngModel",t.dataModel.actionType),r(2),p("ngForOf",t.dataModelEnumUserClaimGroupActionTypeResult.listItems),r(2),A(_(34,46,"TITLE.Select_type_of_content")),r(2),p("ngIf",c.errors==null?null:c.errors.required),r(2),p("optionSelectForce",t.dataModel.linkModuleId)("optionPlaceholder",_(38,48,"TITLE.MODULE"))("optionDisabled",!(t.fieldsInfo.linkModuleId!=null&&t.fieldsInfo.linkModuleId.accessEditField)),r(2),p("optionSelectForce",t.dataModel.linkSiteCategoryId)("optionPlaceholder",_(40,50,"TITLE.SITE_CATEGORY"))("optionDisabled",!(t.fieldsInfo.linkSiteCategoryId!=null&&t.fieldsInfo.linkSiteCategoryId.accessEditField)),r(2),p("optionSelectForce",t.dataModel.linkUserGroupId)("optionPlaceholder",_(42,52,"TITLE.User_Group"))("optionDisabled",!(t.fieldsInfo.linkUserGroupId!=null&&t.fieldsInfo.linkUserGroupId.accessEditField)),r(2),p("optionSelectForce",t.dataModel.linkApplicationId)("optionPlaceholder",_(44,54,"TITLE.Application"))("optionDisabled",!(t.fieldsInfo.linkApplicationId!=null&&t.fieldsInfo.linkApplicationId.accessEditField)),r(2),p("optionSelectForce",t.dataModel.linkApplicationSourceId)("optionPlaceholder",_(46,56,"TITLE.Application_Source"))("optionDisabled",!(t.fieldsInfo.linkApplicationSourceId!=null&&t.fieldsInfo.linkApplicationSourceId.accessEditField)),r(4),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),p("placeholder",U(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),E("ngModel",t.dataModel.description),r(3),g("",G.value.length," / 500"),r(),p("ngIf",G.errors==null?null:G.errors.required),r(),p("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[Z,H,De,it,ot,Ee,tt,se,we,Ue,rt,nt,Ae,Re,at,Y,Oe,li,so,lo,ao,Q,Be,q],encapsulation:2});var pi=ci;function Da(o,n){if(o&1){let e=I();a(0,"li")(1,"mat-checkbox",1),M("change",function(){let t=u(e).$implicit,s=C();return f(s.onActionSelect(t))}),m(2),l()()}if(o&2){let e=n.$implicit,i=C();r(),p("checked",i.fieldsStatus.get(e.id))("disabled",i.optionDisabled),r(),g(" ",e.titleML," ")}}var mi=class mi{constructor(n,e,i,t,s,d){this.coreEnumService=n;this.categoryService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.cmsToastrService=d;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new k;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new et;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new re;this.optionSelectAdded=new re;this.optionSelectRemoved=new re;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(n){this.onActionSelectForce(n)}ngOnInit(){this.DataGetAll()}DataGetAll(){let n=new L;n.rowPerPage=50,n.accessLoad=!0;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(n).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataModelResult.listItems.forEach(t=>this.fieldsStatus.set(t.id,!1)),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0)),this.dataModelResult.listItems.forEach(t=>{this.fieldsStatus.get(t.id)&&this.dataModelSelect.push(t)})):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelect(n){this.fieldsStatus.get(n.id)?(this.fieldsStatus.set(n.id,!1),this.optionSelectRemoved.emit(n),this.dataModelSelect.splice(this.dataModelSelect.indexOf(n),1)):(this.fieldsStatus.set(n.id,!0),this.optionSelectAdded.emit(n),this.dataModelSelect.push(n)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(n){typeof n==typeof Array(Number)?n.forEach(e=>{this.dataIdsSelect.push(e)}):typeof n==typeof Array(ee)&&n.forEach(e=>{this.dataIdsSelect.push(e.id)}),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){this.DataGetAll()}};mi.\u0275fac=function(e){return new(e||mi)(S(j),S($),S(B),S(F),S(O),S(N))},mi.\u0275cmp=V({type:mi,selectors:[["app-core-userclaimtype-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(e,i){e&1&&(a(0,"ul"),b(1,Da,3,3,"li",0),l()),e&2&&(r(),p("ngForOf",i.dataModelResult.listItems))},dependencies:[Z,zi],encapsulation:2});var go=mi;var Ga=["vform"];function ka(o,n){if(o&1){let e=I();a(0,"app-cms-enum-record-status-selector",31),R("modelChange",function(t){u(e);let s=C();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(o&2){let e=C();E("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function xa(o,n){if(o&1&&(a(0,"mat-error"),m(1),a(2,"strong"),m(3),h(4,"translate"),l()()),o&2){let e=C();r(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),r(2),A(_(4,2,"MESSAGE.required"))}}function La(o,n){if(o&1&&(a(0,"mat-error"),m(1),a(2,"strong"),m(3),h(4,"translate"),l()()),o&2){let e=C();r(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),A(_(4,2,"MESSAGE.required"))}}function Va(o,n){if(o&1&&(a(0,"option",32),m(1),l()),o&2){let e=n.$implicit;p("ngValue",e.value),r(),g(" ",e.description," ")}}function Ba(o,n){o&1&&(a(0,"mat-error"),m(1," ActionType is "),a(2,"strong"),m(3),h(4,"translate"),l()()),o&2&&(r(3),A(_(4,1,"MESSAGE.required")))}function Oa(o,n){if(o&1&&(a(0,"mat-error"),m(1),a(2,"strong"),m(3),h(4,"translate"),l()()),o&2){let e=C();r(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),r(2),A(_(4,2,"MESSAGE.required"))}}function Fa(o,n){if(o&1){let e=I();a(0,"div",33)(1,"button",34),M("click",function(){u(e);let t=C();return f(t.onFormCancel())}),v(2,"i",35),m(3),h(4,"translate"),l(),a(5,"button",36),v(6,"i",37),m(7),h(8,"translate"),l()()}if(o&2){C();let e=D(10);r(3),g(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!e.form.valid),r(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var di=class di extends Qt{constructor(e,i,t,s,d,c,G,ie,_e){super(s,new J,c,_e);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreUserClaimGroupService=s;this.coreUserClaimGroupDetailService=d;this.publicHelper=c;this.cmsToastrService=G;this.cdr=ie;this.translate=_e;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ht;this.dataModel=new J;this.formInfo=new Ve;this.dataModelEnumUserClaimGroupActionTypeResult=new k;this.fileManagerOpenForm=!1;this.dataCoreClaimTypeIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumUserClaimGroupActionType(),this.DataGetAllCoreUserClaimType()}getEnumUserClaimGroupActionType(){this.coreEnumService.ServiceUserClaimGroupActionTypeEnum().subscribe({next:e=>{this.dataModelEnumUserClaimGroupActionTypeResult=e}})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"DataGetOneContent";this.translate.get("MESSAGE.Receive_categories_of_documents").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupService.setAccessLoad(),this.coreUserClaimGroupService.setAccessDataType(Pt.Editor),this.coreUserClaimGroupService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Registration_of categories_of_documents").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectApplication(e){if(!e||e.id<=0){this.dataModel.linkApplicationId=null;return}this.dataModel.linkApplicationId=e.id}onActionSelectApplicationSource(e){if(!e||e.id<=0){this.dataModel.linkApplicationSourceId=null;return}this.dataModel.linkApplicationSourceId=e.id}onActionSelectUserGroup(e){if(!e||e.id<=0){this.dataModel.linkUserGroupId=null;return}this.dataModel.linkUserGroupId=e.id}onActionSelectSiteCategory(e){if(this.dataModel.linkSiteCategoryId=null,!e||e.id<=0){this.dataModel.linkSiteCategoryId=null;return}this.dataModel.linkSiteCategoryId=e.id}onActionSelectModuleId(e){this.dataModel.linkModuleId=null,!(!e||e.id<=0)&&(this.dataModel.linkModuleId=e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}DataGetAllCoreUserClaimType(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"DataGetAllCoreUserClaimType";this.translate.get("MESSAGE.Receive_categories_of_documents").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new L,t=new P;t.propertyName="LinkUserClaimGroupId",t.value=this.requestId,i.filters.push(t),this.coreUserClaimGroupDetailService.ServiceGetAll(i).subscribe({next:s=>{this.dataCoreUserClaimGroupDetailModels=s.listItems;let d=[];this.dataCoreUserClaimGroupDetailModels.forEach(c=>{d.push(c.linkUserClaimTypeId)}),this.dataCoreClaimTypeIds=d,s.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.submitResultMessage=c}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataCoreUserClaimTypeModels=e}onActionSelectorUserCategorySelectAdded(e){let i=new ae;i.linkUserClaimTypeId=e.id,i.linkUserClaimGroupId=this.dataModel.id,i.isRequired=!0,this.coreUserClaimGroupDetailService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorUserCategorySelectRemoved(e){let i=new ae;i.linkUserClaimTypeId=e.id,i.linkUserClaimGroupId=this.dataModel.id,this.coreUserClaimGroupDetailService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}};di.\u0275fac=function(i){return new(i||di)(S(xe),S(ke),S(j),S(ne),S(Te),S(F),S(N),S(B),S(O))},di.\u0275cmp=V({type:di,selectors:[["app-core-userclaimgroup-edit"]],viewQuery:function(i,t){if(i&1&&be(Ga,5),i&2){let s;ve(s=Ie())&&(t.formGroup=s.first)}},standalone:!1,features:[z],decls:68,vars:73,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["ActionType","ngModel"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","cmsKeyboardForce","en","name","dataModel.titleML","type","text","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.actionType","name","dataModel.actionType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"ngValue"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",6),v(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),m(4),l(),a(5,"p"),m(6),h(7,"translate"),l(),v(8,"app-cms-form-result-message",10),a(9,"form",11,0),M("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),a(11,"mat-vertical-stepper",12,1),M("selectionChange",function(c){u(s);let G=D(12);return f(t.onStepClick(c,G))}),a(13,"mat-step",13),h(14,"translate"),b(15,ka,1,5,"app-cms-enum-record-status-selector",14),a(16,"div",15)(17,"label",16),m(18),l(),a(19,"input",17,2),R("ngModelChange",function(c){return u(s),w(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),l(),a(21,"em"),m(22),l(),b(23,xa,5,4,"mat-error",18),l(),a(24,"div",15)(25,"label",19),m(26),h(27,"translate"),l(),a(28,"input",20),R("ngModelChange",function(c){return u(s),w(t.dataModel.titleML,c)||(t.dataModel.titleML=c),f(c)}),l()(),a(29,"div",15)(30,"label",21),m(31),l(),a(32,"input",22,3),R("ngModelChange",function(c){return u(s),w(t.dataModel.titleResourceLanguage,c)||(t.dataModel.titleResourceLanguage=c),f(c)}),l(),a(34,"em"),m(35),l(),b(36,La,5,4,"mat-error",18),l(),a(37,"div",23)(38,"select",24,4),R("ngModelChange",function(c){return u(s),w(t.dataModel.actionType,c)||(t.dataModel.actionType=c),f(c)}),b(40,Va,2,2,"option",25),l(),a(41,"em"),m(42),h(43,"translate"),l(),b(44,Ba,5,3,"mat-error",18),l(),v(45,"hr"),a(46,"app-cms-module-selector",26),h(47,"translate"),M("optionChange",function(c){return u(s),f(t.onActionSelectModuleId(c))}),l(),a(48,"app-cms-sitecategory-selector",26),h(49,"translate"),M("optionChange",function(c){return u(s),f(t.onActionSelectSiteCategory(c))}),l(),a(50,"app-cms-usergroup-selector",26),h(51,"translate"),M("optionChange",function(c){return u(s),f(t.onActionSelectUserGroup(c))}),l(),a(52,"app-cms-application-selector",26),h(53,"translate"),M("optionChange",function(c){return u(s),f(t.onActionSelectApplication(c))}),l(),a(54,"app-cms-application-selector",26),h(55,"translate"),M("optionChange",function(c){return u(s),f(t.onActionSelectApplicationSource(c))}),l(),a(56,"div",15)(57,"label",27),m(58),l(),a(59,"textarea",28,5),R("ngModelChange",function(c){return u(s),w(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),l(),a(61,"em"),m(62),l(),b(63,Oa,5,4,"mat-error",18),l()(),a(64,"mat-step",13),h(65,"translate"),a(66,"app-core-userclaimtype-selectionlist",29),M("optionChange",function(c){return u(s),f(t.onActionSelectorUserCategorySelect(c))})("optionSelectAdded",function(c){return u(s),f(t.onActionSelectorUserCategorySelectAdded(c))})("optionSelectRemoved",function(c){return u(s),f(t.onActionSelectorUserCategorySelectRemoved(c))}),l()()(),b(67,Fa,9,7,"div",30),l()()()}if(i&2){let s=D(20),d=D(33),c=D(39),G=D(60);r(),p("optionsInfoAreaId",t.constructorInfoAreaId),r(3),g(" ",t.formInfo.formTitle," "),r(2),g(" ",_(7,53,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),p("formInfo",t.formInfo),r(5),p("label",U(_(14,55,"TITLE.Details_Claim"))),r(2),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),r(3),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),p("placeholder",U(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),r(3),g("",s.value.length," / 100"),r(),p("ngIf",s.errors==null?null:s.errors.required),r(3),g(" ",_(27,57,"TITLE.TitleML")),r(2),E("ngModel",t.dataModel.titleML),p("disabled",!0),r(3),A(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),r(),p("placeholder",U(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.titleResourceLanguage),p("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),r(3),g("",d.value.length," / 100"),r(),p("ngIf",d.errors==null?null:d.errors.required),r(2),E("ngModel",t.dataModel.actionType),r(2),p("ngForOf",t.dataModelEnumUserClaimGroupActionTypeResult.listItems),r(2),A(_(43,59,"TITLE.Select_type_of_content")),r(2),p("ngIf",c.errors==null?null:c.errors.required),r(2),p("optionSelectForce",t.dataModel.linkModuleId)("optionPlaceholder",_(47,61,"TITLE.MODULE"))("optionDisabled",!(t.fieldsInfo.linkModuleId!=null&&t.fieldsInfo.linkModuleId.accessEditField)),r(2),p("optionSelectForce",t.dataModel.linkSiteCategoryId)("optionPlaceholder",_(49,63,"TITLE.SITE_CATEGORY"))("optionDisabled",!(t.fieldsInfo.linkSiteCategoryId!=null&&t.fieldsInfo.linkSiteCategoryId.accessEditField)),r(2),p("optionSelectForce",t.dataModel.linkUserGroupId)("optionPlaceholder",_(51,65,"TITLE.User_Group"))("optionDisabled",!(t.fieldsInfo.linkUserGroupId!=null&&t.fieldsInfo.linkUserGroupId.accessEditField)),r(2),p("optionSelectForce",t.dataModel.linkApplicationId)("optionPlaceholder",_(53,67,"TITLE.Application"))("optionDisabled",!(t.fieldsInfo.linkApplicationId!=null&&t.fieldsInfo.linkApplicationId.accessEditField)),r(2),p("optionSelectForce",t.dataModel.linkApplicationSourceId)("optionPlaceholder",_(55,69,"TITLE.Application_Source"))("optionDisabled",!(t.fieldsInfo.linkApplicationSourceId!=null&&t.fieldsInfo.linkApplicationSourceId.accessEditField)),r(4),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),p("placeholder",U(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),E("ngModel",t.dataModel.description),r(3),g("",G.value.length," / 500"),r(),p("ngIf",G.errors==null?null:G.errors.required),r(),p("label",U(_(65,71,"TITLE.Required_Documents"))),r(2),p("optionSelectForce",t.dataCoreClaimTypeIds)("optionDisabled",!1),r(),p("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[Z,H,De,it,ot,Ee,tt,se,we,Ue,rt,nt,Ae,Re,at,Y,Ki,Ji,Oe,li,so,lo,ao,Q,Be,ro,oo,go,q],encapsulation:2});var ui=di;function Na(o,n){if(o&1){let e=I();a(0,"button",13),M("click",function(){u(e);let t=C();return f(t.onActionAdd())}),m(1),h(2,"translate"),l()}o&2&&(r(),g(" ",_(2,1,"ACTION.ADD")," "))}function Pa(o,n){if(o&1){let e=I();a(0,"button",14),M("click",function(){u(e);let t=C();return f(t.onActionEdit())}),m(1),h(2,"translate"),l()}o&2&&(r(),g(" ",_(2,1,"ACTION.EDIT")," "))}function Ha(o,n){if(o&1){let e=I();a(0,"button",15),M("click",function(){u(e);let t=C();return f(t.onActionButtonReload())}),a(1,"mat-icon",16),h(2,"translate"),m(3,"refresh"),l()()}if(o&2){let e=C();r(),W("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),p("title",U(_(2,4,"ACTION.RELOAD")))}}function qa(o,n){if(o&1){let e=I();a(0,"mat-tree-node",17),v(1,"button",18),a(2,"span",19),M("click",function(){let t=u(e).$implicit,s=C();return f(s.onActionSelect(t))}),m(3),l()()}if(o&2){let e=n.$implicit,i=C();W("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===e.id),r(3),A(e.title)}}function ja(o,n){if(o&1){let e=I();a(0,"mat-tree-node",20)(1,"button",21)(2,"mat-icon",22),m(3),l()(),a(4,"span",19),M("click",function(){let t=u(e).$implicit,s=C();return f(s.onActionSelect(t))}),m(5),l()()}if(o&2){let e=n.$implicit,i=C(),t=D(11);W("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===e.id),p("cdkTreeNodeTypeaheadLabel",e.titleML)("isExpanded",e.isExpanded??!1),r(),Ke("type","button")("aria-label","Toggle "+e.titleML),r(2),g(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),r(2),A(e.titleML)}}var fi=class fi{constructor(n,e,i,t,s,d,c,G,ie){this.cmsToastrService=n;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=s;this.publicHelper=d;this.tokenHelper=c;this.cmsStoreService=G;this.translate=ie;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new J;this.dataModelResult=new k;this.filterModel=new L;this.dataSource=new to;this.optionChange=new re;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(n,e)=>!1;this.childrenAccessor=n=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(n){this.onActionSelectForce(n)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>X(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onActionSelect(n){this.dataModelSelect=n,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new J,this.DataGetAll()}onActionSelectForce(n){}onActionAdd(){var n="";this.publicHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(pi,{height:"90%",panelClass:n,enterAnimationDuration:x.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:x.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let n=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(n=this.dataModelSelect.id),n===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ui,{height:"90%",panelClass:e,enterAnimationDuration:x.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:x.cmsViewConfig.exitAnimationDuration,data:{id:n}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};fi.\u0275fac=function(e){return new(e||fi)(S(N),S(j),S(ne),S(Ce),S(B),S(F),S(ge),S(he),S(O))},fi.\u0275cmp=V({type:fi,selectors:[["app-core-userclaimgroup-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:15,vars:13,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),y(1,2),m(2),h(3,"translate"),T(),y(4,3),b(5,Na,3,3,"button",4)(6,Pa,3,3,"button",5)(7,Ha,4,6,"button",6),T(),y(8,7),v(9,"app-progress-spinner",8),a(10,"mat-tree",9,0),b(12,qa,4,3,"mat-tree-node",10)(13,ja,6,8,"mat-tree-node",11),l(),T(),Me(14,12),l()),e&2&&(p("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),g(" ",_(3,11,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),r(3),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),r(),p("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),r(),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),r(2),p("optionsInfoAreaId",i.constructorInfoAreaId),r(),p("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),r(3),p("matTreeNodeDefWhen",i.hasChild))},dependencies:[H,Ge,Se,Xi,Zi,eo,$i,Yi,Q,no,q],encapsulation:2});var _o=fi;var Qa=()=>[5,10,20,100],za=o=>({display:o});function Ka(o,n){if(o&1){let e=I();a(0,"a",37),M("click",function(){u(e);let t=C();return f(t.onActionBackToParentGroup())}),v(1,"i",38),l()}}function Ja(o,n){if(o&1){let e=I();a(0,"a",37),M("click",function(){u(e);let t=C();return f(t.onActionBackToParentType())}),v(1,"i",38),l()}}function Ya(o,n){if(o&1){let e=I();a(0,"div",39)(1,"a",40),M("click",function(){u(e);let t=C();return f(t.onActionButtonNewRow())}),v(2,"i",41)(3,"br"),l(),a(4,"p",42),m(5),h(6,"translate"),l()()}o&2&&(r(5),g(" ",_(6,1,"ACTION.ADD")," "))}function Xa(o,n){if(o&1){let e=I();a(0,"div",39)(1,"a",43),M("click",function(){u(e);let t=C();return f(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",44)(3,"br"),l(),a(4,"p",42),m(5),h(6,"translate"),l()()}o&2&&(r(5),g(" ",_(6,1,"ACTION.EDIT")," "))}function Za(o,n){if(o&1){let e=I();a(0,"div",39)(1,"a",45),M("click",function(){u(e);let t=C();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",46)(3,"br"),l(),a(4,"p",42),m(5),h(6,"translate"),l()()}o&2&&(r(5),g(" ",_(6,1,"ACTION.DELETE")," "))}function $a(o,n){if(o&1&&(a(0,"mat-header-cell",47),m(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function es(o,n){if(o&1&&v(0,"select",50),o&2){let e=C().$implicit,i=C();p("contentService",i.contentService)("row",e)("ngStyle",Qe(3,za,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function ts(o,n){if(o&1&&(a(0,"mat-cell",48),h(1,"statusCellClass"),v(2,"i",48),h(3,"statusIconClass"),b(4,es,1,5,"select",49),l()),o&2){let e=n.$implicit,i=C();p("ngClass",_(1,3,e.recordStatus)),r(2),p("ngClass",_(3,5,e.recordStatus)),r(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function is(o,n){if(o&1&&(a(0,"mat-header-cell",47),m(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.linkUserClaimGroupId==null?null:e.fieldsInfo.linkUserClaimGroupId.fieldTitle," ")}}function os(o,n){if(o&1&&(a(0,"mat-cell"),m(1),h(2,"cmstitle"),l()),o&2){let e=n.$implicit,i=C();r(),g(" ",ye(2,1,e.linkUserClaimGroupId,i.dataModelCoreUserClaimGroupResult.listItems)," ")}}function rs(o,n){if(o&1&&(a(0,"mat-header-cell",47),m(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.linkUserClaimTypeId==null?null:e.fieldsInfo.linkUserClaimTypeId.fieldTitle," ")}}function ns(o,n){if(o&1&&(a(0,"mat-cell"),m(1),h(2,"cmstitle"),l()),o&2){let e=n.$implicit,i=C();r(),g(" ",ye(2,1,e.linkUserClaimTypeId,i.dataModelCoreUserClaimTypeResult.listItems)," ")}}function as(o,n){if(o&1&&(a(0,"mat-header-cell",47),m(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.isRequired==null?null:e.fieldsInfo.isRequired.fieldTitle," ")}}function ss(o,n){if(o&1&&(a(0,"mat-cell"),v(1,"i",48),h(2,"boolclass"),l()),o&2){let e=n.$implicit;r(),p("ngClass",_(2,1,e.isRequired))}}function ls(o,n){o&1&&(a(0,"mat-header-cell"),m(1),h(2,"translate"),l()),o&2&&(r(),g(" ",_(2,1,"TITLE.OPTION")," "))}function cs(o,n){if(o&1&&(a(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),m(3,"more_vert"),l()(),v(4,"mat-menu",null,2),l()),o&2){let e=D(5);r(),p("matMenuTriggerFor",e)}}function ps(o,n){o&1&&v(0,"mat-header-row")}function ms(o,n){if(o&1){let e=I();a(0,"mat-row",53),M("click",function(t){let s=u(e).$implicit,d=C();return f(d.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,d=C();return f(d.onActionTableRowSelect(s,t))}),l()}if(o&2){let e=n.$implicit,i=C();W("ntk-row-selected",e.linkUserClaimGroupId===(i.tableRowSelected==null?null:i.tableRowSelected.linkUserClaimGroupId)&&e.linkUserClaimTypeId===(i.tableRowSelected==null?null:i.tableRowSelected.linkUserClaimTypeId))}}var Ci=class Ci extends yt{constructor(e,i,t,s,d,c,G,ie,_e,Ai,_i,Mi,bi,oe){super(e,new ae,bi,_e,_i);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.activatedRoute=s;this.coreUserClaimTypeService=d;this.coreUserClaimGroupService=c;this.router=G;this.cmsStoreService=ie;this.tokenHelper=_e;this.cdr=Ai;this.translate=_i;this.pageInfo=Mi;this.publicHelper=bi;this.dialog=oe;this.requestLinkUserClaimGroupId=0;this.requestLinkUserClaimTypeId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new L;this.filterDataModelQueryBuilder=[];this.categoryModelSelected=new J;this.dataModelCoreUserClaimTypeResult=new k;this.dataModelCoreUserClaimGroupResult=new k;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","LinkUserClaimGroupId","LinkUserClaimTypeId","IsRequired"];this.tabledisplayedColumnsMobileSource=["recordStatus","LinkUserClaimGroupId","LinkUserClaimTypeId","IsRequired"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserClaimTypeId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserClaimTypeId")),this.requestLinkUserClaimGroupId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserClaimGroupId")),this.optionsSearch.parentMethods={onSubmit:je=>this.onSubmitOptionsSearch(je)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=K.Descending,this.requestLinkUserClaimTypeId>0){let je=new P;je.propertyName="LinkUserClaimTypeId",je.value=this.requestLinkUserClaimTypeId,this.filteModelContent.filters.push(je)}if(this.requestLinkUserClaimGroupId>0){let je=new P;je.propertyName="LinkUserClaimGroupId",je.value=this.requestLinkUserClaimGroupId,this.filteModelContent.filters.push(je)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>X(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getUserClaimType(),this.getUserClaimGroup()}getUserClaimType(){let e=new L;e.rowPerPage=100,this.coreUserClaimTypeService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreUserClaimTypeResult=i}})}getUserClaimGroup(){let e=new L;e.rowPerPage=100,this.coreUserClaimGroupService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreUserClaimGroupResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ae);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0){let t=new P;t.propertyName="LinkUserClaimHeaderId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=K.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=K.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=K.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(So,{height:"90%",panelClass:e,enterAnimationDuration:x.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:x.cmsViewConfig.exitAnimationDuration,data:{linkUserClaimGroupId:this.requestLinkUserClaimGroupId,linkUserClaimTypeId:this.requestLinkUserClaimTypeId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.linkUserClaimGroupId||e.linkUserClaimGroupId===0||!e.linkUserClaimTypeId||e.linkUserClaimTypeId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ho,{height:"90%",panelClass:i,enterAnimationDuration:x.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:x.cmsViewConfig.exitAnimationDuration,data:{model:this.tableRowSelected}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new L,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(d,c,this.constructorInfoAreaId)}),this.contentService.ServiceDeleteEntity(this.tableRowSelected).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),d=new P;d.propertyName="recordStatus",d.value=$e.Available,s.filters.push(d),this.contentService.ServiceGetCount(s).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParentType(){this.router.navigate(["/core/userclaim/type/"])}onActionBackToParentGroup(){this.router.navigate(["/core/userclaim/group/"])}};Ci.\u0275fac=function(i){return new(i||Ci)(S(Te),S(N),S(He),S(Nt),S($),S(ne),S(Pe),S(he),S(ge),S(B),S(O),S(vt),S(F),S(Ce))},Ci.\u0275cmp=V({type:Ci,selectors:[["app-core-userclaimgroupdetail-list"]],standalone:!1,features:[z],decls:54,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","recordStatus"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserClaimGroupId"],[4,"matCellDef"],["matColumnDef","LinkUserClaimTypeId"],["matColumnDef","IsRequired"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=I();a(0,"app-cms-html-list",3),h(1,"cmstitle"),h(2,"cmstitle"),R("optionActionGuideNoticeDisplayChange",function(c){return u(s),w(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),M("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),y(3,4),a(4,"app-core-userclaimgroup-tree",5),M("optionChange",function(c){return u(s),f(t.onActionSelectorSelect(c))}),l(),T(),Me(5,6)(6,7),y(7,8),b(8,Ka,2,0,"a",9)(9,Ja,2,0,"a",9),a(10,"a",10),M("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),v(11,"i",11),l(),a(12,"a",10),M("click",function(){return u(s),f(t.onActionButtonReload())}),v(13,"i",12),l(),T(),y(14,13),a(15,"a",14),M("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(16,"mat-slide-toggle",15),m(17),h(18,"translate"),l(),a(19,"a",14),M("click",function(){return u(s),f(t.onActionButtonStatist())}),v(20,"mat-slide-toggle",15),m(21),h(22,"translate"),l(),T(),y(23,16),b(24,Ya,7,3,"div",17),T(),y(25,18),b(26,Xa,7,3,"div",17)(27,Za,7,3,"div",17),T(),y(28,19),a(29,"app-cms-search-list",20),R("optionsChange",function(c){return u(s),w(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),l(),a(30,"app-cms-statist-list",20),R("optionsChange",function(c){return u(s),w(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),l(),T(),y(31,21),a(32,"mat-table",22,0),M("matSortChange",function(){u(s);let c=D(33);return f(t.onTableSortData(c))}),y(34,23),b(35,$a,2,1,"mat-header-cell",24)(36,ts,5,7,"mat-cell",25),T(),y(37,26),b(38,is,2,1,"mat-header-cell",24)(39,os,3,4,"mat-cell",27),T(),y(40,28),b(41,rs,2,1,"mat-header-cell",24)(42,ns,3,4,"mat-cell",27),T(),y(43,29),b(44,as,2,1,"mat-header-cell",24)(45,ss,3,3,"mat-cell",27),T(),y(46,30),b(47,ls,3,3,"mat-header-cell",31)(48,cs,6,1,"mat-cell",32),T(),b(49,ps,1,0,"mat-header-row",33)(50,ms,1,2,"mat-row",34),l(),T(),y(51,35),a(52,"mat-paginator",36,1),M("page",function(c){return u(s),f(t.onTablePageingData(c))}),l(),T(),l()}i&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",t.requestLinkUserClaimGroupId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.linkUserClaimGroupId)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",ye(1,27,t.tableRowSelected==null?null:t.tableRowSelected.linkUserClaimTypeId,t.dataModelCoreUserClaimTypeResult.listItems)+"-"+ye(2,30,t.tableRowSelected==null?null:t.tableRowSelected.linkUserClaimGroupId,t.dataModelCoreUserClaimGroupResult.listItems)),r(8),p("ngIf",t.requestLinkUserClaimGroupId>0),r(),p("ngIf",t.requestLinkUserClaimTypeId>0),r(4),W("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),p("checked",t.optionsSearch.data.show),r(),g("",_(18,33,"ACTION.SEARCH")," "),r(3),p("checked",t.optionsStatist.data.show),r(),g("",_(22,35,"ACTION.STATIST")," "),r(3),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),r(2),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),r(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),r(2),E("options",t.optionsSearch),r(),E("options",t.optionsStatist),r(2),p("dataSource",t.tableSource),r(17),p("matHeaderRowDef",t.tabledisplayedColumns),r(),p("matRowDefColumns",t.tabledisplayedColumns),r(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",We(37,Qa)))},dependencies:[Ne,H,Ye,Ge,Se,Y,st,lt,ct,Le,pt,mt,dt,ft,gt,Ct,ut,_t,St,ht,Mt,bt,Tt,Et,wt,Rt,At,_o,q,zt,Dt,Ut,jt],encapsulation:2});var Si=Ci;var ds=()=>[5,10,20,100],us=o=>({display:o});function fs(o,n){if(o&1){let e=I();a(0,"div",17)(1,"a",39),M("click",function(){u(e);let t=C();return f(t.onActionButtonNewRow())}),v(2,"i",40)(3,"br"),l(),a(4,"p",19),m(5),h(6,"translate"),l()()}o&2&&(r(5),g(" ",_(6,1,"ACTION.ADD")," "))}function Cs(o,n){if(o&1){let e=I();a(0,"div",17)(1,"a",41),M("click",function(){u(e);let t=C();return f(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",42)(3,"br"),l(),a(4,"p",19),m(5),h(6,"translate"),l()()}o&2&&(r(5),g(" ",_(6,1,"ACTION.EDIT")," "))}function Ss(o,n){if(o&1){let e=I();a(0,"div",17)(1,"a",43),M("click",function(){u(e);let t=C();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",44)(3,"br"),l(),a(4,"p",19),m(5),h(6,"translate"),l()()}o&2&&(r(5),g(" ",_(6,1,"ACTION.DELETE")," "))}function hs(o,n){if(o&1&&(a(0,"mat-header-cell",45),m(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function gs(o,n){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let e=n.$implicit;r(),g(" ",e.id," ")}}function _s(o,n){if(o&1&&(a(0,"mat-header-cell",45),m(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ms(o,n){if(o&1&&v(0,"select",48),o&2){let e=C().$implicit,i=C();p("contentService",i.contentService)("row",e)("ngStyle",Qe(3,us,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function bs(o,n){if(o&1&&(a(0,"mat-cell",46),h(1,"statusCellClass"),v(2,"i",46),h(3,"statusIconClass"),b(4,Ms,1,5,"select",47),l()),o&2){let e=n.$implicit,i=C();p("ngClass",_(1,3,e.recordStatus)),r(2),p("ngClass",_(3,5,e.recordStatus)),r(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function vs(o,n){if(o&1&&(a(0,"mat-header-cell",45),m(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Is(o,n){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let e=n.$implicit;r(),g(" ",e.titleML," ")}}function ys(o,n){if(o&1&&(a(0,"mat-header-cell",45),m(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.linkSiteCategoryId==null?null:e.fieldsInfo.linkSiteCategoryId.fieldTitle," ")}}function Ts(o,n){if(o&1&&(a(0,"mat-cell"),m(1),h(2,"cmstitle"),l()),o&2){let e=n.$implicit,i=C();r(),g(" ",ye(2,1,e.linkSiteCategoryId,i.dataModelCoreSiteCategoryResult.listItems)," ")}}function Es(o,n){if(o&1&&(a(0,"mat-header-cell",45),m(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.linkModuleId==null?null:e.fieldsInfo.linkModuleId.fieldTitle," ")}}function ws(o,n){if(o&1&&(a(0,"mat-cell"),m(1),h(2,"cmstitle"),l()),o&2){let e=n.$implicit,i=C();r(),g(" ",ye(2,1,e.linkModuleId,i.dataModelCoreModuleResult.listItems)," ")}}function Rs(o,n){o&1&&(a(0,"mat-header-cell"),m(1),h(2,"translate"),l()),o&2&&(r(),g(" ",_(2,1,"TITLE.OPTION")," "))}function As(o,n){if(o&1&&(a(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),m(3,"more_vert"),l()(),v(4,"mat-menu",null,2),l()),o&2){let e=D(5);r(),p("matMenuTriggerFor",e)}}function Ds(o,n){o&1&&v(0,"mat-header-row")}function Us(o,n){if(o&1){let e=I();a(0,"mat-row",51),M("click",function(t){let s=u(e).$implicit,d=C();return f(d.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,d=C();return f(d.onActionTableRowSelect(s,t))}),l()}if(o&2){let e=n.$implicit,i=C();W("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var hi=class hi extends yt{constructor(e,i,t,s,d,c,G,ie,_e,Ai,_i,Mi,bi){super(e,new J,Mi,G,_e);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.coreModuleService=s;this.coreSiteCategoryService=d;this.router=c;this.tokenHelper=G;this.cdr=ie;this.translate=_e;this.cmsStoreService=Ai;this.pageInfo=_i;this.publicHelper=Mi;this.dialog=bi;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new L;this.filterDataModelQueryBuilder=[];this.dataModelCoreModuleResult=new k;this.dataModelCoreSiteCategoryResult=new k;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","title","LinkModuleId","LinkSiteCategoryId"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","title","LinkModuleId","LinkSiteCategoryId"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:oe=>this.onSubmitOptionsSearch(oe)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=K.Ascending}ngOnInit(){this.filteModelContent.sortColumn="id",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>X(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getModule(),this.getSiteCategory()}getModule(){let e=new L;e.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(e).subscribe({next:i=>{this.dataModelCoreModuleResult=i}})}getSiteCategory(){let e=new L;e.rowPerPage=100,this.coreSiteCategoryService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreSiteCategoryResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new J);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=K.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=K.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=K.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(pi,{height:"90%",panelClass:e,enterAnimationDuration:x.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:x.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ui,{height:"90%",panelClass:i,enterAnimationDuration:x.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:x.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(d,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonDetailList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/userclaim/groupdetail/LinkUserClaimGroupId",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),d=new P;d.propertyName="recordStatus",d.value=$e.Available,s.filters.push(d),this.contentService.ServiceGetCount(s).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSiteList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/site/list/LinkUserClaimGroupId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};hi.\u0275fac=function(i){return new(i||hi)(S(ne),S(N),S(He),S(Ni),S(Ho),S(Pe),S(ge),S(B),S(O),S(he),S(vt),S(F),S(Ce))},hi.\u0275cmp=V({type:hi,selectors:[["app-core-userclaimgroup-list"]],standalone:!1,features:[z],decls:60,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","LinkSiteCategoryId"],["matColumnDef","LinkModuleId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=I();a(0,"app-cms-html-list",3),R("optionActionGuideNoticeDisplayChange",function(c){return u(s),w(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),M("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),y(1,4),m(2," -------------------------------------- "),T(),Me(3,5)(4,6),y(5,7),a(6,"a",8),M("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),v(7,"i",9),l(),a(8,"a",8),M("click",function(){return u(s),f(t.onActionButtonReload())}),v(9,"i",10),l(),T(),y(10,11),a(11,"a",12),M("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(12,"mat-slide-toggle",13),m(13),h(14,"translate"),l(),a(15,"a",12),M("click",function(){return u(s),f(t.onActionButtonStatist())}),v(16,"mat-slide-toggle",13),m(17),h(18,"translate"),l(),T(),y(19,14),b(20,fs,7,3,"div",15),T(),y(21,16),b(22,Cs,7,3,"div",15)(23,Ss,7,3,"div",15),a(24,"div",17)(25,"a",18),M("click",function(){return u(s),f(t.onActionButtonDetailList(t.tableRowSelected))}),a(26,"mat-icon"),m(27,"view_module"),l()(),a(28,"p",19),m(29),h(30,"translate"),l()(),T(),y(31,20),a(32,"app-cms-search-list",21),R("optionsChange",function(c){return u(s),w(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),l(),a(33,"app-cms-statist-list",21),R("optionsChange",function(c){return u(s),w(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),l(),T(),y(34,22),a(35,"mat-table",23,0),M("matSortChange",function(){u(s);let c=D(36);return f(t.onTableSortData(c))}),y(37,24),b(38,hs,2,1,"mat-header-cell",25)(39,gs,2,1,"mat-cell",26),T(),y(40,27),b(41,_s,2,1,"mat-header-cell",25)(42,bs,5,7,"mat-cell",28),T(),y(43,29),b(44,vs,2,1,"mat-header-cell",25)(45,Is,2,1,"mat-cell",26),T(),y(46,30),b(47,ys,2,1,"mat-header-cell",25)(48,Ts,3,4,"mat-cell",26),T(),y(49,31),b(50,Es,2,1,"mat-header-cell",25)(51,ws,3,4,"mat-cell",26),T(),y(52,32),b(53,Rs,3,3,"mat-header-cell",33)(54,As,6,1,"mat-cell",34),T(),b(55,Ds,1,0,"mat-header-row",35)(56,Us,1,2,"mat-row",36),l(),T(),y(57,37),a(58,"mat-paginator",38,1),M("page",function(c){return u(s),f(t.onTablePageingData(c))}),l(),T(),l()}i&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),r(9),W("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),p("checked",t.optionsSearch.data.show),r(),g("",_(14,26,"ACTION.SEARCH")," "),r(3),p("checked",t.optionsStatist.data.show),r(),g("",_(18,28,"ACTION.STATIST")," "),r(3),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),r(2),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),r(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),r(6),g(" ",_(30,30,"ACTION.Components")," "),r(3),E("options",t.optionsSearch),r(),E("options",t.optionsStatist),r(2),p("dataSource",t.tableSource),r(20),p("matHeaderRowDef",t.tabledisplayedColumns),r(),p("matRowDefColumns",t.tabledisplayedColumns),r(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",We(32,ds)))},dependencies:[Ne,H,Ye,Ge,Se,Y,st,lt,ct,Le,pt,mt,dt,ft,gt,Ct,ut,_t,St,ht,Mt,bt,Tt,Et,wt,Rt,At,q,zt,Dt,Ut],encapsulation:2});var Mo=hi;var Gs=()=>[5,10,20,100],ks=o=>({display:o});function xs(o,n){if(o&1){let e=I();a(0,"div",17)(1,"a",39),M("click",function(){u(e);let t=C();return f(t.onActionButtonNewRow())}),v(2,"i",40)(3,"br"),l(),a(4,"p",19),m(5),h(6,"translate"),l()()}o&2&&(r(5),g(" ",_(6,1,"ACTION.ADD")," "))}function Ls(o,n){if(o&1){let e=I();a(0,"div",17)(1,"a",41),M("click",function(){u(e);let t=C();return f(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",42)(3,"br"),l(),a(4,"p",19),m(5),h(6,"translate"),l()()}o&2&&(r(5),g(" ",_(6,1,"ACTION.EDIT")," "))}function Vs(o,n){if(o&1){let e=I();a(0,"div",17)(1,"a",43),M("click",function(){u(e);let t=C();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",44)(3,"br"),l(),a(4,"p",19),m(5),h(6,"translate"),l()()}o&2&&(r(5),g(" ",_(6,1,"ACTION.DELETE")," "))}function Bs(o,n){o&1&&(a(0,"mat-header-cell",45),m(1),h(2,"translate"),l()),o&2&&(r(),g(" ",_(2,1,"TITLE.PICTURE")," "))}function Os(o,n){if(o&1&&(v(0,"img",47),h(1,"cmsthumbnail")),o&2){let e=C().$implicit;p("src",U(_(1,2,e.linkMainImageIdSrc)),ue)}}function Fs(o,n){if(o&1&&(a(0,"mat-cell"),b(1,Os,2,4,"img",46),l()),o&2){let e=n.$implicit;r(),p("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Ns(o,n){if(o&1&&(a(0,"mat-header-cell",45),m(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ps(o,n){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let e=n.$implicit;r(),g(" ",e.id," ")}}function Hs(o,n){if(o&1&&(a(0,"mat-header-cell",45),m(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function qs(o,n){if(o&1&&v(0,"select",50),o&2){let e=C().$implicit,i=C();p("contentService",i.contentService)("row",e)("ngStyle",Qe(3,ks,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function js(o,n){if(o&1&&(a(0,"mat-cell",48),h(1,"statusCellClass"),v(2,"i",48),h(3,"statusIconClass"),b(4,qs,1,5,"select",49),l()),o&2){let e=n.$implicit,i=C();p("ngClass",_(1,3,e.recordStatus)),r(2),p("ngClass",_(3,5,e.recordStatus)),r(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Ws(o,n){if(o&1&&(a(0,"mat-header-cell",45),m(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Qs(o,n){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let e=n.$implicit;r(),g(" ",e.titleML," ")}}function zs(o,n){if(o&1&&(a(0,"mat-header-cell",45),m(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.kind==null?null:e.fieldsInfo.kind.fieldTitle," ")}}function Ks(o,n){if(o&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),l()),o&2){let e=n.$implicit,i=C();r(),g(" ",ye(2,1,e.kind,i.dataModelEnumUserClaimKindsResult.listItems)," ")}}function Js(o,n){o&1&&(a(0,"mat-header-cell"),m(1),h(2,"translate"),l()),o&2&&(r(),g(" ",_(2,1,"TITLE.OPTION")," "))}function Ys(o,n){if(o&1&&(a(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),m(3,"more_vert"),l()(),v(4,"mat-menu",null,2),l()),o&2){let e=D(5);r(),p("matMenuTriggerFor",e)}}function Xs(o,n){o&1&&v(0,"mat-header-row")}function Zs(o,n){if(o&1){let e=I();a(0,"mat-row",53),M("click",function(t){let s=u(e).$implicit,d=C();return f(d.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,d=C();return f(d.onActionTableRowSelect(s,t))}),l()}if(o&2){let e=n.$implicit,i=C();W("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var gi=class gi extends yt{constructor(e,i,t,s,d,c,G,ie,_e,Ai,_i,Mi){super(e,new ee,_i,c,_e);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.coreEnumService=s;this.router=d;this.tokenHelper=c;this.cdr=G;this.cmsStoreService=ie;this.translate=_e;this.pageInfo=Ai;this.publicHelper=_i;this.dialog=Mi;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new L;this.filterDataModelQueryBuilder=[];this.dataModelCoreUserGroupResult=new k;this.dataModelCoreSiteCategoryResult=new k;this.dataModelEnumUserClaimKindsResult=new k;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","Kind"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","Kind"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:bi=>this.onSubmitOptionsSearch(bi)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=K.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>X(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumUserClaimKinds()}getEnumUserClaimKinds(){this.coreEnumService.ServiceUserClaimKindsEnum().subscribe({next:e=>{this.dataModelEnumUserClaimKindsResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ee);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=K.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=K.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=K.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open($t,{height:"90%",panelClass:e,enterAnimationDuration:x.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:x.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ii,{height:"90%",panelClass:i,enterAnimationDuration:x.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:x.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(d,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonDetailList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/userclaim/groupdetail/LinkUserClaimTypeId",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),d=new P;d.propertyName="recordStatus",d.value=$e.Available,s.filters.push(d),this.contentService.ServiceGetCount(s).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonModuleList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/sitecategorymodule/LinkCmsUserClaimTypeId",this.tableRowSelected.id])}onActionButtonSiteList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/site/list/LinkUserClaimTypeId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};gi.\u0275fac=function(i){return new(i||gi)(S($),S(N),S(He),S(j),S(Pe),S(ge),S(B),S(he),S(O),S(vt),S(F),S(Ce))},gi.\u0275cmp=V({type:gi,selectors:[["app-core-userclaimtype-list"]],standalone:!1,features:[z],decls:60,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","Kind"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=I();a(0,"app-cms-html-list",3),R("optionActionGuideNoticeDisplayChange",function(c){return u(s),w(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),M("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),y(1,4),m(2," -------------------------------------- "),T(),Me(3,5)(4,6),y(5,7),a(6,"a",8),M("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),v(7,"i",9),l(),a(8,"a",8),M("click",function(){return u(s),f(t.onActionButtonReload())}),v(9,"i",10),l(),T(),y(10,11),a(11,"a",12),M("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(12,"mat-slide-toggle",13),m(13),h(14,"translate"),l(),a(15,"a",12),M("click",function(){return u(s),f(t.onActionButtonStatist())}),v(16,"mat-slide-toggle",13),m(17),h(18,"translate"),l(),T(),y(19,14),b(20,xs,7,3,"div",15),T(),y(21,16),b(22,Ls,7,3,"div",15)(23,Vs,7,3,"div",15),a(24,"div",17)(25,"a",18),M("click",function(){return u(s),f(t.onActionButtonDetailList(t.tableRowSelected))}),a(26,"mat-icon"),m(27,"view_module"),l()(),a(28,"p",19),m(29),h(30,"translate"),l()(),T(),y(31,20),a(32,"app-cms-search-list",21),R("optionsChange",function(c){return u(s),w(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),l(),a(33,"app-cms-statist-list",21),R("optionsChange",function(c){return u(s),w(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),l(),T(),y(34,22),a(35,"mat-table",23,0),M("matSortChange",function(){u(s);let c=D(36);return f(t.onTableSortData(c))}),y(37,24),b(38,Bs,3,3,"mat-header-cell",25)(39,Fs,2,1,"mat-cell",26),T(),y(40,27),b(41,Ns,2,1,"mat-header-cell",25)(42,Ps,2,1,"mat-cell",26),T(),y(43,28),b(44,Hs,2,1,"mat-header-cell",25)(45,js,5,7,"mat-cell",29),T(),y(46,30),b(47,Ws,2,1,"mat-header-cell",25)(48,Qs,2,1,"mat-cell",26),T(),y(49,31),b(50,zs,2,1,"mat-header-cell",25)(51,Ks,3,4,"mat-cell",26),T(),y(52,32),b(53,Js,3,3,"mat-header-cell",33)(54,Ys,6,1,"mat-cell",34),T(),b(55,Xs,1,0,"mat-header-row",35)(56,Zs,1,2,"mat-row",36),l(),T(),y(57,37),a(58,"mat-paginator",38,1),M("page",function(c){return u(s),f(t.onTablePageingData(c))}),l(),T(),l()}i&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),r(9),W("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),p("checked",t.optionsSearch.data.show),r(),g("",_(14,26,"ACTION.SEARCH")," "),r(3),p("checked",t.optionsStatist.data.show),r(),g("",_(18,28,"ACTION.STATIST")," "),r(3),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),r(2),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),r(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),r(6),g(" ",_(30,30,"ACTION.USED_ITEMS")," "),r(3),E("options",t.optionsSearch),r(),E("options",t.optionsStatist),r(2),p("dataSource",t.tableSource),r(20),p("matHeaderRowDef",t.tabledisplayedColumns),r(),p("matRowDefColumns",t.tabledisplayedColumns),r(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",We(32,Gs)))},dependencies:[Ne,H,Ye,Ge,Se,Y,st,lt,ct,Le,pt,mt,dt,ft,gt,Ct,ut,_t,St,ht,Mt,bt,Tt,Et,wt,Rt,At,q,Cr,It,Dt,Ut],encapsulation:2});var bo=gi;var $s=[{path:"",data:{title:"ROUTE.CORE.USERCLAIM"},children:[{path:"group",component:Mo,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"groupdetail",component:Si,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"groupdetail/LinkUserClaimTypeId/:LinkUserClaimTypeId",component:Si,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"groupdetail/LinkUserClaimGroupId/:LinkUserClaimGroupId",component:Si,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"type",component:bo,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"content",component:Lt,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"content/LinkUserClaimTypeId/:LinkUserClaimTypeId",component:Lt,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"content/LinkSiteId/:LinkSiteId",component:Lt,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"content/LinkUserId/:LinkUserId",component:Lt,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"checklist",component:Ii,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"checklist/:LinkSiteId/:LinkUserId",component:Ii,data:{title:"ROUTE.CORE.USERCLAIM"}}]}],Vt=class Vt{};Vt.\u0275fac=function(e){return new(e||Vt)},Vt.\u0275mod=Bi({type:Vt}),Vt.\u0275inj=Vi({imports:[Io.forChild($s),Io]});var vo=Vt;var Bt=class Bt{};Bt.\u0275fac=function(e){return new(e||Bt)},Bt.\u0275mod=Bi({type:Bt}),Bt.\u0275inj=Vi({providers:[Ni,j,qt,$,ne,Te,He],imports:[Po,Qo,vo,zo.withConfig({warnOnNgModelWithFormControl:"never"}),nr,ur,sr,rr]});var Mr=Bt;export{Mr as CoreUserClaimModule};
