import{f as Ze}from"./chunk-RDUUIZCS.js";import{a as Xe}from"./chunk-HLB6IX4E.js";import{a as q}from"./chunk-SXFJKVOT.js";import{f as j}from"./chunk-OESJBRQ5.js";import{Fb as Ue,Fc as Ye,Gb as Ke,I as ge,Ic as Je,J as He,K as je,Kc as H,Ma as We,Na as ze,Qb as B,Rb as Q,U as Se,_ as qe,a as Ne,aa as Ge,bb as F,da as be,ea as Ce,m as N,p as D,q as De,s as Fe,t as he,u as Be,v as Qe,z as fe}from"./chunk-LGROFW5T.js";import{$b as Ae,Ab as ie,Ca as y,Cb as _e,Db as Ie,Eb as ye,F as Y,Fa as o,Fd as ce,Ha as $,I as J,Ib as P,Jc as se,Jd as O,Kb as oe,Kc as V,Kd as me,Ld as ke,Nb as f,Oa as m,Ob as v,Oc as Te,P as X,Pb as A,Q as Z,Qc as pe,Sa as R,Tb as ne,Td as de,Tf as Ee,Ub as re,Vb as ae,Wb as M,Xb as T,Ya as g,Yb as G,_j as z,ak as ue,cc as d,da as S,db as ee,dc as u,ea as b,fd as we,jb as r,kb as a,lb as s,lk as Pe,mb as c,nd as W,ok as xe,p as U,pq as Le,q as K,sd as L,tb as I,vc as le,wb as C,wk as Re,wq as Oe,yb as h,yk as Ve,zb as te}from"./chunk-GHCCPFHI.js";import{i as x}from"./chunk-SEDBTTTN.js";var dt=["*"];function ut(n,i){if(n&1&&(a(0,"label",14),f(1),s()),n&2){let e=h();r("for",T("app-cms-site-selector-",e.id)),o(),v(e.optionLabel)}}function ht(n,i){if(n&1&&(c(0,"img",15),d(1,"cmsthumbnail")),n&2){let e=h();r("src",M(u(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),y)}}function ft(n,i){if(n&1&&(c(0,"img",15),d(1,"cmsthumbnail")),n&2){let e=h().$implicit;r("src",M(u(1,2,e.linkMainImageIdSrc)),y)}}function gt(n,i){if(n&1&&(a(0,"mat-option",16),g(1,ft,2,4,"img",5),a(2,"span"),f(3),s()()),n&2){let e=i.$implicit,t=h();r("value",e)("disabled",t.optionDisabled),o(),r("ngIf",e.linkMainImageIdSrc),o(2),v(t.displayOption(e))}}function St(n,i){n&1&&c(0,"i",17)}function bt(n,i){n&1&&c(0,"i",18)}function Ct(n,i){if(n&1){let e=I();a(0,"i",19),C("click",function(){S(e);let l=h();return b(l.onActionSelectClear())}),s()}}function vt(n,i){n&1&&(a(0,"em"),f(1),d(2,"translate"),s()),n&2&&(o(),A("(",u(2,1,"TITLE.Necessary"),")"))}var w=class w{constructor(i,e,t,l,p,_){this.coreEnumService=i;this.cmsToastrService=e;this.cdr=t;this.publicHelper=l;this.translate=p;this.categoryService=_;this.id=++w.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new ce;this.dataModelSelect=new ue;this.formControl=new he;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new $;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(X(""),Y(1500),J(),Z(i=>typeof i=="string"||typeof i=="number"?this.DataGetAll(i||""):[]))}displayFn(i){return i?i.title:void 0}displayOption(i){return i?i.title:void 0}DataGetAll(i){return x(this,null,function*(){let e=new me;e.rowPerPage=20,e.accessLoad=!0;let t=new O;t.propertyName="Title",t.value=i,t.searchType=L.Contains,t.clauseType=W.Or,e.filters.push(t),i&&typeof+i=="number"&&+i>0&&(t=new O,t.propertyName="Id",t.value=i,t.searchType=L.Equal,t.clauseType=W.Or,e.filters.push(t));let l=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(l,p,this.constructorInfoAreaId)}),yield U(this.categoryService.ServiceGetAll(e)).then(p=>(this.dataModelResult=p,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(l),p.listItems))})}onActionSelect(i){this.optionDisabled||(this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(i){return this.filteredOptions.pipe(K(e=>(e.find(t=>t.id===i.id)||e.push(i),e)))}onActionSelectForce(i){if(typeof i=="string"&&i.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===i)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===i)){let e=this.dataModelResult.listItems.find(t=>t.id===i);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(i).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof i==typeof ue){this.filteredOptions=this.push(i),this.dataModelSelect=i,this.formControl.setValue(i);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new ue,this.loadOptions()}};w.nextId=0,w.\u0275fac=function(e){return new(e||w)(m(de),m(H),m(le),m(j),m(B),m(Ve))},w.\u0275cmp=R({type:w,selectors:[["app-cms-sms-apipath-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:dt,decls:18,vars:25,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,t){if(e&1){let l=I();te(),a(0,"div",1),c(1,"app-progress-spinner",2),g(2,ut,2,3,"label",3),a(3,"span",4),g(4,ht,2,4,"img",5),f(5," \xA0"),s(),c(6,"input",6),a(7,"mat-autocomplete",7,0),C("optionSelected",function(_){return S(l),b(t.onActionSelect(_.option.value))}),g(9,gt,4,4,"mat-option",8),d(10,"async"),s(),g(11,St,1,0,"i",9)(12,bt,1,0,"i",10)(13,Ct,1,0,"i",11),a(14,"i",12),d(15,"translate"),C("click",function(){return S(l),b(t.onActionButtonReload())}),s(),g(16,vt,3,3,"em",13),ie(17),s()}if(e&2){let l=P(8);o(),r("optionsInfoAreaId",t.constructorInfoAreaId),o(),r("ngIf",(t.optionLabel==null?null:t.optionLabel.length)>0),o(2),r("ngIf",t.dataModelSelect&&(t.dataModelSelect==null?null:t.dataModelSelect.linkMainImageIdSrc)),o(2),r("placeholder",M(t.optionPlaceholder))("id",T("app-cms-site-selector-",t.id))("formControl",t.formControl)("matAutocomplete",l)("required",t.optionRequired),ee("disabled",t.optionDisabled?!0:null),o(),r("displayWith",t.displayFn),o(2),r("ngForOf",u(10,21,t.filteredOptions)),o(2),r("ngIf",!t.formControl.valid),o(),r("ngIf",t.optionRequired&&t.formControl.valid),o(),r("ngIf",(t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0),o(),oe("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r("title",M(u(15,23,"ACTION.RELOAD"))),o(2),r("ngIf",t.optionRequired&&(!t.dataModelSelect||!t.dataModelSelect.id||(t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)===0))}},dependencies:[se,V,N,D,ge,fe,be,Se,Ce,Ge,F,q,pe,Q,Xe],encapsulation:2});var ve=w;var _t=["*"];function It(n,i){if(n&1&&(a(0,"label",12),f(1),s()),n&2){let e=h();r("for",T("app-cms-site-selector-",e.id)),o(),v(e.optionLabel)}}function yt(n,i){if(n&1&&(a(0,"mat-option",13)(1,"span"),f(2),s()()),n&2){let e=i.$implicit,t=h();r("value",e)("disabled",t.optionDisabled),o(2),v(t.displayOption(e))}}function At(n,i){n&1&&c(0,"i",14)}function Tt(n,i){n&1&&c(0,"i",15)}function wt(n,i){if(n&1){let e=I();a(0,"i",16),C("click",function(){S(e);let l=h();return b(l.onActionSelectClear())}),s()}}function kt(n,i){n&1&&(a(0,"em"),f(1),d(2,"translate"),s()),n&2&&(o(),A("(",u(2,1,"TITLE.Necessary"),")"))}var k=class k{constructor(i,e,t,l,p,_){this.coreEnumService=i;this.cmsToastrService=e;this.translate=t;this.cdr=l;this.publicHelper=p;this.categoryService=_;this.id=++k.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new ce;this.dataModelSelect=new z;this.formControl=new he;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionSelectFirstItemOnChangeApi=!1;this.optionLabel="";this.optionPlaceholder="";this.optionChange=new $;this.optionReload=()=>this.onActionButtonReload();this.privateLinkApiPathId="";this.privateLinkApiPathIdLast="";this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}set optionLinkApiPathId(i){i!=this.privateLinkApiPathId&&(this.privateLinkApiPathId!=""&&this.onActionSelectClear(),this.privateLinkApiPathId=i,this.privateLinkApiPathId!=this.privateLinkApiPathIdLast&&(this.optionSelectFirstItem=this.optionSelectFirstItemOnChangeApi),this.privateLinkApiPathIdLast=i,this.loadOptions())}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(X(""),Y(1500),J(),Z(i=>typeof i=="string"||typeof i=="number"?this.DataGetAll(i||""):[]))}displayFn(i){return i?i.numberChar:void 0}displayOption(i){return i?i.numberChar:void 0}DataGetAll(i){return x(this,null,function*(){let e=new me;e.rowPerPage=20,e.accessLoad=!0;let t=new O;t.propertyName="NumberChar",t.value=i,t.searchType=L.Contains,t.clauseType=W.Or,e.filters.push(t),this.privateLinkApiPathId&&this.privateLinkApiPathId.length>0&&(t=new O,t.propertyName="ApiPathAndApiNumbers",t.propertyAnyName="LinkApiPathId",t.value=this.privateLinkApiPathId,t.searchType=L.Equal,e.filters.push(t));let l=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(l,p,this.constructorInfoAreaId)}),yield U(this.categoryService.ServiceGetAll(e)).then(p=>(this.dataModelResult=p,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0]),this.onActionSelect(this.dataModelResult.listItems[0])},1e3)),this.publicHelper.processService.processStop(l),p.listItems))})}onActionSelect(i){this.optionDisabled||(this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=new z,this.formControl.setValue(null),this.optionChange.emit(null))}push(i){return this.filteredOptions.pipe(K(e=>(e.find(t=>t.id===i.id)||e.push(i),e)))}onActionSelectForce(i){if(typeof i=="string"&&i.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===i)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===i)){let e=this.dataModelResult.listItems.find(t=>t.id===i);this.dataModelSelect=e,this.formControl.setValue(e);return}if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.numberChar===i)){let e=this.dataModelResult.listItems.find(t=>t.numberChar===i);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(i).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):(!this.dataModelResult.listItems||this.dataModelResult.listItems.length===0)&&this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof i==typeof z){this.filteredOptions=this.push(i),this.dataModelSelect=i,this.formControl.setValue(i);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new z,this.loadOptions()}};k.nextId=0,k.\u0275fac=function(e){return new(e||k)(m(de),m(H),m(B),m(le),m(j),m(Re))},k.\u0275cmp=R({type:k,selectors:[["app-cms-sms-api-number-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionSelectFirstItemOnChangeApi:"optionSelectFirstItemOnChangeApi",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionLinkApiPathId:"optionLinkApiPathId"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:_t,decls:15,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,t){if(e&1){let l=I();te(),a(0,"div",1),c(1,"app-progress-spinner",2),g(2,It,2,3,"label",3),c(3,"input",4),a(4,"mat-autocomplete",5,0),C("optionSelected",function(_){return S(l),b(t.onActionSelect(_.option.value))}),g(6,yt,3,3,"mat-option",6),d(7,"async"),s(),g(8,At,1,0,"i",7)(9,Tt,1,0,"i",8)(10,wt,1,0,"i",9),a(11,"i",10),d(12,"translate"),C("click",function(){return S(l),b(t.onActionButtonReload())}),s(),g(13,kt,3,3,"em",11),ie(14),s()}if(e&2){let l=P(5);o(),r("optionsInfoAreaId",t.constructorInfoAreaId),o(),r("ngIf",(t.optionLabel==null?null:t.optionLabel.length)>0),o(),r("placeholder",M(t.optionPlaceholder))("id",T("app-cms-site-selector-",t.id))("formControl",t.formControl)("matAutocomplete",l)("required",t.optionRequired),ee("disabled",t.optionDisabled?!0:null),o(),r("displayWith",t.displayFn),o(2),r("ngForOf",u(7,20,t.filteredOptions)),o(2),r("ngIf",!t.formControl.valid),o(),r("ngIf",t.optionRequired&&t.formControl.valid),o(),r("ngIf",(t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0),o(),oe("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r("title",M(u(12,22,"ACTION.RELOAD"))),o(2),r("ngIf",t.optionRequired&&(!t.dataModelSelect||!t.dataModelSelect.id||(t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)===0))}},dependencies:[se,V,N,D,ge,fe,be,Se,Ce,F,q,pe,Q],encapsulation:2});var Me=k;var Pt=["Message"],xt=["vform"],Rt=n=>({direction:n});function Vt(n,i){if(n&1){let e=I();a(0,"button",51),C("click",function(){S(e);let l=h(2);return b(l.onActionSendUrlToQDoc())}),c(1,"i",52),f(2),d(3,"translate"),s()}n&2&&(o(2),A(" ",u(3,1,"ACTION.VIEW")," "))}function Lt(n,i){if(n&1&&(a(0,"div")(1,"a",53),c(2,"img",54),d(3,"translate"),s()()),n&2){let e=h(2);o(),r("href",M(e.optionurlViewContent),y),o(),r("alt",M(u(3,5,"TITLE.Scan_the_barcode")))("src",e.optionurlViewContentQRCodeBase64,y)}}function Ot(n,i){if(n&1){let e=I();a(0,"div")(1,"div",17)(2,"div",31)(3,"p"),f(4),s()()(),a(5,"div",17)(6,"div",32)(7,"div",25)(8,"label",33),f(9),d(10,"translate"),s(),a(11,"input",34,2),ae("ngModelChange",function(l){S(e);let p=h();return re(p.QDocModel.username,l)||(p.QDocModel.username=l),b(l)}),s()(),g(13,Vt,4,3,"button",35),c(14,"br")(15,"br"),a(16,"button",36),C("click",function(){S(e);let l=h();return b(l.onActionOpenLink())}),f(17),d(18,"translate"),s()(),a(19,"div",37),g(20,Lt,4,7,"div",16),a(21,"div",38)(22,"a",39),c(23,"i",40),s(),a(24,"a",41),c(25,"i",42),s(),a(26,"a",43),c(27,"i",44),s(),a(28,"a",45),c(29,"i",46),s(),a(30,"a",47),c(31,"i",48),s(),a(32,"span",49),C("click",function(){S(e);let l=h();return b(l.onActionCopied())}),c(33,"i",50),s()()()()()}if(n&2){let e=h();o(4),v(e.optionLabel),o(5),v(u(10,21,"ACTION.ID_Code")),o(2),ne("ngModel",e.QDocModel.username),o(2),r("ngIf",e.optionurlViewContent&&e.optionurlViewContent.length>0&&e.QDocModel.username),o(4),A(" ",u(18,23,"ACTION.VIEW_PAGE")," "),o(3),r("ngIf",(e.optionurlViewContentQRCodeBase64==null?null:e.optionurlViewContentQRCodeBase64.length)>0&&(e.optionurlViewContent==null?null:e.optionurlViewContent.length)>0),o(2),r("href",G("whatsapp://send?text=",e.optionLabel,"- ",e.optionurlViewContent),y),o(2),r("href",G("https://telegram.me/share/url?url=",e.optionurlViewContent,"&text=",e.optionLabel),y),o(2),r("href",G("https://www.linkedin.com/shareArticle?url=",e.optionurlViewContent,"&title=",e.optionLabel),y),o(2),r("href",T("http://www.facebook.com/share.php?u=",e.optionurlViewContent),y),o(2),r("href",G("http://twitter.com/share?text=",e.optionLabel,"&url=",e.optionurlViewContent),y),o(2),r("cdkCopyToClipboard",e.optionurlViewContent)}}function Nt(n,i){if(n&1){let e=I();a(0,"app-cms-sms-api-number-selector",55),d(1,"translate"),C("optionChange",function(l){S(e);let p=h();return b(p.onActionSelectApiNumber(l))}),s()}if(n&2){let e=h();r("optionLinkApiPathId",e.dataModel==null?null:e.dataModel.linkApiPathId)("optionPlaceholder",u(1,4,"TITLE.sender_number"))("optionSelectFirstItem",!0)("optionSelectFirstItemOnChangeApi",!0)}}function Dt(n,i){n&1&&(a(0,"mat-error"),f(1),d(2,"translate"),a(3,"strong"),f(4),d(5,"translate"),s()()),n&2&&(o(),A(" ",u(2,2,"TITLE.Message_Text")," "),o(3),v(u(5,4,"MESSAGE.required")))}function Ft(n,i){if(n&1){let e=I();a(0,"div",25)(1,"label",56),f(2),d(3,"translate"),s(),a(4,"textarea",57,3),ae("ngModelChange",function(l){S(e);let p=h();return re(p.dataModel.toNumbers,l)||(p.dataModel.toNumbers=l),b(l)}),s(),a(6,"em")(7,"strong",58),f(8),d(9,"translate"),s()()()}if(n&2){let e=h();o(2),v(u(3,3,"TITLE.Receiver_number")),o(2),ne("ngModel",e.dataModel.toNumbers),o(4),v(u(9,5,"TITLE.You_can_separate_the_number_of_the_recipient_of_the_message_with_an_inter"))}}function Bt(n,i){if(n&1&&(a(0,"button",61),c(1,"i",52),f(2),d(3,"translate"),s()),n&2){h(2);let e=P(13);r("disabled",!e.valid),o(2),A(" ",u(3,2,"ACTION.Send_Message")," ")}}function Qt(n,i){if(n&1&&(a(0,"div",59),g(1,Bt,4,4,"button",60),s()),n&2){let e=h();o(),r("ngIf",!e.publicHelper.processService.process.inRunAll)}}var E=class E{constructor(i,e,t,l,p,_,Ht,jt,qt,Gt){this.cmsToastrService=i;this.data=e;this.dialogRef=t;this.smsActionService=l;this.http=p;this.router=_;this.translate=Ht;this.tokenHelper=jt;this.cmsStoreService=qt;this.publicHelper=Gt;this.id=++E.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModel=new Pe;this.formInfo=new ke;this.tokenInfo=new Ee;this.optionLabel="";this.optionurlViewContentQRCodeBase64="";this.optionurlViewContent="";this.QDocModel={};this.unsubscribe=[];this.sendByShow=!1;e&&(this.optionLabel=e.title,this.optionurlViewContentQRCodeBase64=e.urlViewContentQRCodeBase64,this.optionurlViewContent=e.urlViewContent,this.formInfo.formTitle=e.title),this.formInfo.formDescription="\u0645\u062D\u062A\u0648\u0627 \u0631\u0627 \u0627\u0634\u062A\u0631\u0627\u06A9 \u0628\u06AF\u0630\u0627\u0631\u06CC\u062F"}ngOnInit(){this.dataModel.message=`${this.optionLabel}
    ${this.optionurlViewContent}`,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>x(this,null,function*(){this.tokenInfo=i})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(i=>i.unsubscribe())}onActionSelectApiNumber(i){i&&i.id?.length>0?this.dataModel.linkFromNumber=i.id:i&&i.numberChar?.length>0&&(this.dataModel.linkFromNumber=i.numberChar)}onActionMessageLTR(){this.message.nativeElement.style.direction="ltr",this.message.nativeElement.style.textAlign="left"}onActionMessageRTL(){this.message.nativeElement.style.direction="rtl",this.message.nativeElement.style.textAlign="right"}onActionSelectPrivateSiteConfig(i){this.dataModelParentSelected=i,i&&i.id?.length>0&&(this.dataModel.linkApiPathId=i.id,this.sendByShow=!1,i.apiAbilitySendByDirect&&(this.dataModel.sendByQueue=!1),i.apiAbilitySendByQueue&&(this.dataModel.sendByQueue=!0),i.apiAbilitySendByQueue&&i.apiAbilitySendByDirect&&(this.sendByShow=!0))}onActionSendUrlToQDoc(){if(this.QDocModel.message=this.optionurlViewContent,!this.QDocModel.username&&this.QDocModel.username.length<=0){this.cmsToastrService.typeWarningSelected("\u06A9\u062F \u0634\u0646\u0627\u0633\u0647 \u0631\u0627 \u0627\u0632 \u0648\u0628\u0633\u0627\u06CC\u062A https://Qdoc.ir \u062F\u0631\u06CC\u0627\u0641\u062A \u0646\u0645\u0627\u06CC\u06CC\u062F");return}this.http.post(Oe.cmsServerConfig.configQDocServerPath,this.QDocModel,{headers:{}}).subscribe({next:i=>{this.translate.get("MESSAGE.The_order_was_sent_to_the_website").subscribe(e=>{this.cmsToastrService.typeSuccessMessage(e)})},error:i=>{this.cmsToastrService.typeErrorMessage("\u0628\u0631\u0631\u0648\u0632 \u062E\u0637\u0627 \u062F\u0631 \u0627\u0631\u0633\u0627\u0644 \u062F\u0633\u062A\u0648\u0631",i)}})}onFormSubmit(){if(!this.formGroup.valid)return;(!this.dataModel.linkApiPathId||this.dataModel.linkApiPathId.length<=0)&&this.cmsToastrService.typeErrorFormInvalid(),this.formInfo.submitButtonEnabled=!1;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.formInfo.submitResultMessage="",this.formInfo.submitResultMessage="",this.smsActionService.ServiceSendMessage(this.dataModel).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!0,e.isSuccess?(this.translate.get("MESSAGE.Submit_request_was_successfully_registered").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.translate.get("MESSAGE.Send_request_was_successfully_registered").subscribe(t=>{this.cmsToastrService.typeSuccessMessage(t)})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(i)},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionOpenLink(){let i=this.router.serializeUrl(this.router.createUrlTree([this.optionurlViewContent]));window.open(this.optionurlViewContent,"_blank")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};E.nextId=0,E.\u0275fac=function(e){return new(e||E)(m(H),m(ze),m(We),m(xe),m(we),m(Le),m(B),m(Je),m(Ye),m(j))},E.\u0275cmp=R({type:E,selectors:[["app-cms-link-to"]],viewQuery:function(e,t){if(e&1&&(_e(Pt,5),_e(xt,5)),e&2){let l;Ie(l=ye())&&(t.message=l.first),Ie(l=ye())&&(t.formGroup=l.first)}},inputs:{optionLabel:"optionLabel",optionurlViewContentQRCodeBase64:"optionurlViewContentQRCodeBase64",optionurlViewContent:"optionurlViewContent"},standalone:!1,decls:42,vars:30,consts:[["vform","ngForm"],["Message",""],["QDocCode",""],["ToNumbers",""],[3,"Key"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[3,"label"],[1,"row",2,"padding","5px"],[4,"ngIf"],[1,"row"],[1,"col-md-6","col-sm-6","col-xs-9",2,"padding-top","40px"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionSelectFirstItem"],[3,"optionSelectForce","optionLinkApiPathId","optionPlaceholder","optionSelectFirstItem","optionSelectFirstItemOnChangeApi","optionChange",4,"ngIf"],[1,"col-sm-12","col-md-6"],[1,"message-box"],[1,"row",2,"margin-bottom","0px !important","height","90px"],[1,"row",2,"margin-bottom","0px !important","height","283px"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.message",1,"color-highlight"],["matInput","","name","dataModel.message","type","text","placeholder","...","id","dataModel.message","minlength","1","maxlength","500","rows","9",1,"form-control","validate-name",2,"height","276px",3,"ngModelChange","ngModel"],[1,"row",2,"margin-bottom","0px !important","height","140px","margin-top","11px"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","row","style",`
                    margin-bottom: 0px !important;
                    height: 40px;
                    bottom: 4vh;
                    justify-content: center;
                  `,4,"ngIf"],[1,"col-md-12","col-sm-12","col-xs-18"],[1,"col-md-6","col-sm-6","col-xs-9"],["for","QDocModel.username",1,"color-highlight"],["matInput","","type","text","name","QDocModel.username","id","QDocModel.username","placeholder","12345",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["type","button","type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"col-md-6","col-sm-6","col-xs-9",2,"text-align","center"],[1,"mt-4"],["target","_blank",1,"style","whatsapp",3,"href"],[1,"flaticon-whatsapp","text-dark"],["target","_blank",1,"style","telegram",3,"href"],[1,"flaticon2-telegram-logo","text-dark"],["target","_blank",1,"style","linkedin",3,"href"],[1,"flaticon-linkedin-logo","text-dark"],["target","_blank",1,"style","facebook",3,"href"],[1,"flaticon-facebook-letter-logo","text-dark"],["target","_blank",1,"style","twitter",3,"href"],[1,"flaticon-twitter-logo","text-dark"],[1,"navi-icon","style","cursor",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy","text-dark"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa","fa-check-square-o"],["target","_blank",3,"href"],["height","200px","width","200px",3,"src","alt"],[3,"optionChange","optionSelectForce","optionLinkApiPathId","optionPlaceholder","optionSelectFirstItem","optionSelectFirstItemOnChangeApi"],["for","dataModel.toNumbers",1,"color-highlight"],["matInput","","name","dataModel.toNumbers","id","dataModel.toNumbers","type","text","placeholder","0912","rows","2",2,"height","138px",3,"ngModelChange","ngModel"],[1,"info-field-text"],[1,"row",2,"margin-bottom","0px !important","height","40px","bottom","4vh","justify-content","center"],["type","submit","class","message-box-button",3,"disabled",4,"ngIf"],["type","submit",1,"message-box-button",3,"disabled"]],template:function(e,t){if(e&1){let l=I();c(0,"app-cms-guide-notice",4),a(1,"div",5),c(2,"app-progress-spinner",6),a(3,"div",7)(4,"p",8),f(5),s(),a(6,"a",9),C("click",function(){return S(l),b(t.onFormCancel())}),c(7,"i",10),s(),c(8,"hr"),s(),a(9,"div",11)(10,"p",12),f(11),s(),a(12,"form",13,0),C("ngSubmit",function(){return S(l),b(t.onFormSubmit())}),a(14,"mat-tab-group")(15,"mat-tab",14),d(16,"translate"),a(17,"div",15),g(18,Ot,34,25,"div",16),s()(),a(19,"mat-tab",14),d(20,"translate"),a(21,"div",17)(22,"div",18)(23,"app-cms-sms-apipath-selector",19),d(24,"translate"),C("optionChange",function(_){return S(l),b(t.onActionSelectPrivateSiteConfig(_))}),s(),g(25,Nt,2,6,"app-cms-sms-api-number-selector",20),s(),a(26,"div",21)(27,"div",22),c(28,"div",23),a(29,"div",24)(30,"div",25)(31,"label",26),f(32),d(33,"translate"),s(),a(34,"textarea",27,1),ae("ngModelChange",function(_){return S(l),re(t.dataModel.message,_)||(t.dataModel.message=_),b(_)}),s(),a(36,"em"),f(37),s(),g(38,Dt,6,6,"mat-error",16),s()(),a(39,"div",28),g(40,Ft,10,7,"div",29),s(),g(41,Qt,2,1,"div",30),s()()()()()()()()}if(e&2){let l=P(35);r("Key","linkto.content"),o(2),r("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(t.formInfo.formTitle),o(6),A(" ",t.formInfo.formDescription," "),o(),r("ngStyle",Ae(28,Rt,t.tokenInfo==null||t.tokenInfo.access==null?null:t.tokenInfo.access.direction)),o(3),r("label",M(u(16,20,"TITLE.LINKTO"))),o(3),r("ngIf",t.optionurlViewContent&&t.optionurlViewContent.length>0),o(),r("label",M(u(20,22,"TITLE.Send_Message"))),o(4),r("optionSelectForce",t.dataModel==null?null:t.dataModel.linkApiPathId)("optionPlaceholder",u(24,24,"TITLE.Direction"))("optionSelectFirstItem",!0),o(2),r("ngIf",(t.dataModel.linkApiPathId==null?null:t.dataModel.linkApiPathId.length)>0),o(7),v(u(33,26,"TITLE.Message_Text")),o(2),ne("ngModel",t.dataModel.message),o(3),A("",l.value.length," / 500"),o(),r("ngIf",l.errors==null?null:l.errors.required),o(2),r("ngIf",(!t.dataModel.toContactCategories||(t.dataModel.toContactCategories==null?null:t.dataModel.toContactCategories.length)===0)&&(!t.dataModel.toContactContents||(t.dataModel.toContactContents==null?null:t.dataModel.toContactContents.length)===0)),o(),r("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[V,Te,Qe,N,D,De,He,je,Be,Fe,qe,F,Ue,Ke,Ne,q,Ze,ve,Me,Q],styles:[".style[_ngcontent-%COMP%]{padding:6px;margin:2px;font-size:20px;text-align:center;text-decoration:none;border:black solid 2px;border-radius:50%}.style-copy[_ngcontent-%COMP%]{color:#000;border-radius:20%}.whatsapp[_ngcontent-%COMP%]:hover{background-color:#adff2f}.facebook[_ngcontent-%COMP%]:hover{background:#3b5998}.twitter[_ngcontent-%COMP%]:hover{background:#55acee}.linkedin[_ngcontent-%COMP%]:hover{background:#007bb5}.telegram[_ngcontent-%COMP%]:hover{background:#125688}.cursor[_ngcontent-%COMP%]{cursor:pointer}.message-box[_ngcontent-%COMP%]{background-image:url(/assets/media/bg/iphone.png);height:600px;width:300px;background-position:center;background-repeat:no-repeat;background-size:cover;padding-right:33px;padding-left:33px}.message-box-button[_ngcontent-%COMP%]{color:#00f;border-color:transparent;background-color:transparent}.message-box-button[_ngcontent-%COMP%]:hover{color:red;font-size:initial}.message-box-button[_ngcontent-%COMP%]:active{color:#a200ff}"]});var pt=E;export{pt as a};
