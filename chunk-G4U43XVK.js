import{f as O}from"./chunk-LID2Z6NB.js";import{Cb as j,Db as F,H,I as D,J as G,L as N,M as L}from"./chunk-TSM5A4DZ.js";import{Jf as A,Of as T,Ze as w,q as E}from"./chunk-VH4FEZX5.js";import{Cb as S,Db as v,Dc as R,Eb as M,Ec as _,Fb as I,Gb as s,Hb as o,Ib as b,Pb as C,Ra as h,Sb as P,Ub as y,Va as r,Xa as g,Xc as B,cb as n,hc as l,ib as f,ic as k,jc as c,pa as m,qa as u,tc as x}from"./chunk-2AL2II5Z.js";function z(d,t){if(d&1){let e=C();s(0,"div",1)(1,"mat-card",2)(2,"mat-card-header")(3,"mat-card-title"),l(4),o()(),b(5,"img",3),s(6,"mat-card-content")(7,"p",4),l(8),o()(),s(9,"mat-card-actions")(10,"button",5),P("click",function(){let p=m(e).$implicit,$=y();return u($.onActionSelectBank(p))}),l(11),R(12,"translate"),o()()()()}if(d&2){let e=t.$implicit;r(4),k(e.title),r(),I("src",x(e.linkModuleFileLogoIdSrc),h),r(3),c(" ",e.title," "),r(3),c(" ",_(12,5,"ACTION.SELECT")," ")}}var a=class a{constructor(t,e,i,p){this.bankPaymentPrivateSiteConfigService=t;this.translate=e;this.cdr=i;this.publicHelper=p;this.id=++a.nextId;this.constructorInfoAreaId=this.constructor.name;this.optionMasterItem=!1;this.errorMessage="";this.optionChange=new g;this.dataModelSelect=new A;this.dataModelResult=new E;this.dataModel=new w;this.publicHelper.processService.cdr=this.cdr}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}ngOnInit(){this.DataGetAll()}DataGetAll(){if(this.optionMasterItem){let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.bankPaymentPrivateSiteConfigService.ServicePaymentGatewayCoreList().subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,!this.dataModelResult.listItems||this.dataModelResult.listItems.length==0?this.translate.get("TITLE.Payment_portal_is_not_active").subscribe(i=>{this.errorMessage=i}):this.dataModelResult.listItems&&this.dataModelResult.listItems.length==1&&this.onActionSelectBank(this.dataModelResult.listItems[0])):this.errorMessage=e.errorMessage,this.publicHelper.processService.processStop(t)},error:e=>{this.errorMessage=e,this.publicHelper.processService.processStop(t,!1)}})}else{let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.bankPaymentPrivateSiteConfigService.ServicePaymentGatewayList().subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,!this.dataModelResult.listItems||this.dataModelResult.listItems.length==0?this.translate.get("Payment_portal_is_not_active").subscribe(i=>{this.errorMessage=i}):this.dataModelResult.listItems&&this.dataModelResult.listItems.length==1&&this.onActionSelectBank(this.dataModelResult.listItems[0])):this.errorMessage=e.errorMessage,this.publicHelper.processService.processStop(t)},error:e=>{this.errorMessage=e,this.publicHelper.processService.processStop(t,!1)}})}}onActionSelectBank(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}};a.nextId=0,a.\u0275fac=function(e){return new(e||a)(n(T),n(j),n(B),n(O))},a.\u0275cmp=f({type:a,selectors:[["app-cms-bankpayment-grid"]],inputs:{optionMasterItem:"optionMasterItem"},outputs:{optionChange:"optionChange"},standalone:!1,decls:4,vars:1,consts:[[1,"row"],[1,"col"],[2,"max-width","200px"],[1,"rounded","mx-auto","d-block","mat-card-image",2,"width","95%","height","95%",3,"src"],[1,"d-flex","justify-content-center"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(e,i){e&1&&(s(0,"div",0),l(1),v(2,z,13,7,"div",1,S),o()),e&2&&(r(),c(" ",i.errorMessage," "),r(),M(i.dataModelResult.listItems))},dependencies:[H,N,G,L,D,F],encapsulation:2});var V=a;export{V as a};
