import{a as en,b as Vo,c as Oo,d as Ho}from"./chunk-FUF2NUQD.js";import{a as Fo,b as No,c as tn,d as nn,e as Go,f as fi,g as Uo,l as rn,m as an,n as ln,o as qo,q as jo,t as Qo,u as $o}from"./chunk-GD4QHCZB.js";import{a as Bo}from"./chunk-E2IGJCUJ.js";import{a as Wo}from"./chunk-AFBRSKFL.js";import{a as on}from"./chunk-WBY26EFE.js";import{a as wo,b as To,c as xo,d as Ro,e as Ao,f as Po,g as Do,h as ko,i as Lo}from"./chunk-NJHE727P.js";import{a as Ji}from"./chunk-AXPWVDZN.js";import{a as Xi}from"./chunk-KAKXUO64.js";import{a as Io}from"./chunk-J3B2CJCZ.js";import{a as Zi}from"./chunk-IH72WVQT.js";import{a as zt}from"./chunk-EEIJQEQ3.js";import{a as Mo}from"./chunk-2UBVCYDX.js";import{a as Ki}from"./chunk-ZRJDZEMA.js";import{a as Yt}from"./chunk-EGBMIRON.js";import{a as Dt}from"./chunk-3IDV2HIZ.js";import{a as At}from"./chunk-6OOUIFP7.js";import{a as Pt}from"./chunk-5PGIHI7G.js";import{a as zi,b as Yi,c as It,d as wt,e as Tt,g as xt,h as Rt}from"./chunk-35JUN3LB.js";import{a as Qi}from"./chunk-7HF25NU4.js";import{a as $i}from"./chunk-E5FIWGWV.js";import{j as Gi,k as Ui,l as Wi}from"./chunk-K6R5KLLV.js";import{a as qe,b as Fi,d as Ni}from"./chunk-QQASZTWY.js";import{a as qi}from"./chunk-Q2QA4ZTY.js";import{a as ji}from"./chunk-HTLJNZF6.js";import{a as Mt}from"./chunk-IPNZEP47.js";import{a as Se}from"./chunk-WFUYKU73.js";import{a as j,d as ge}from"./chunk-5K55RFP4.js";import{a as bo,e as We,f as W}from"./chunk-EF7DKNFT.js";import{$ as so,$a as Y,A as xi,Ab as ft,B as io,Ba as po,Bb as _t,C as no,Ca as mo,Cb as Ct,Da as Pi,Db as ht,Ea as uo,Eb as gt,Fa as fo,Fb as St,Ga as _o,Gb as yt,Ha as Co,Hb as Et,Ib as vt,J as Ge,K as rt,Ka as Ce,L as at,La as he,Lc as K,M as oo,Ma as de,Ob as Di,Oc as J,Pb as ki,Q as ro,Qb as Li,Qc as U,Rb as Vi,Sa as ho,Sb as Oi,Sc as bt,Ta as go,Tb as Hi,Ua as So,V as Ri,Va as yo,W as Ue,Wa as Eo,Wb as N,X as ao,Xa as vo,Xb as G,Y as lo,Z as ve,Za as pe,_ as Ai,a as ot,aa as co,ba as be,eb as lt,fb as st,hc as Bi,ib as ct,m as eo,n as se,nb as dt,pb as pt,q as z,qb as mt,r as Ee,s as to,t as Fe,u as Ht,v as ce,w as Ne,x as Ti,zb as ut}from"./chunk-4ZDW4SNU.js";import{$d as ze,$m as zn,Ab as d,An as Yn,Bb as qn,Ca as ie,Cb as Sn,Cn as qt,Dd as ye,Eb as Le,Ee as Ut,F as Nn,Fa as o,Fb as Ve,Gb as Oe,Gd as Qn,Ha as Ft,Hd as Q,Hn as bi,I as Gn,Kb as k,Kn as Mi,Lb as me,Lc as re,Ld as q,Mb as O,Md as ae,Nb as Vt,Oa as E,On as Ii,P as Un,Pb as c,Pd as Si,Q as Wn,Qb as T,Rb as g,Rc as He,Sa as B,Sb as V,Tc as Be,Ud as Gt,Vb as R,Wa as oe,Wb as A,Xb as P,Xc as jn,Ya as x,Yb as D,Yd as X,Yn as wi,Zb as Ot,ac as $,ag as yi,bc as fe,da as m,db as Lt,do as nt,ea as u,eo as jt,fb as v,fc as f,gb as b,gc as C,gn as yn,go as Qt,hc as ui,ho as Kn,ib as et,jb as tt,jn as vi,kb as it,kg as Ei,lb as h,mb as r,mo as Jn,mr as L,nb as a,no as Xn,ob as S,oo as $t,p as Hn,q as Bn,re as le,sb as I,so as Zn,tb as w,tn as _e,u as Fn,ub as ue,ud as gi,un as Wt,vb as M,vg as $n,wd as Nt,yb as y,yc as F}from"./chunk-GC7IBVIU.js";import{i as te}from"./chunk-SEDBTTTN.js";var zo=["*","*"];function rr(i,l){if(i&1&&(r(0,"mat-option",7)(1,"span"),c(2),a()()),i&2){let e=l.$implicit,n=d(2);h("value",e)("disabled",n.optionDisabled),o(2),T(n.displayOption(e))}}function ar(i,l){i&1&&S(0,"i",8)}function lr(i,l){i&1&&S(0,"i",9)}function sr(i,l){if(i&1){let e=M();r(0,"i",12),y("click",function(){m(e);let t=d(2);return u(t.onActionSelectClear())}),a()}}function cr(i,l){i&1&&(r(0,"em"),c(1),f(2,"translate"),a()),i&2&&(o(),g(" ",C(2,1,"TITLE.Necessary")," "))}function dr(i,l){if(i&1){let e=M();r(0,"div",1),S(1,"app-progress-spinner",3)(2,"input",4),r(3,"label",5),c(4),a(),r(5,"mat-autocomplete",6,0),y("optionSelected",function(t){m(e);let s=d();return u(s.onActionSelect(t.option.value))}),tt(7,rr,3,3,"mat-option",7,et),f(9,"async"),a(),v(10,ar,1,0,"i",8),v(11,lr,1,0,"i",9),v(12,sr,1,0,"i",10),r(13,"i",11),f(14,"translate"),y("click",function(){m(e);let t=d();return u(t.onActionButtonReload())}),a(),v(15,cr,3,3,"em"),Sn(16),a()}if(i&2){let e=k(6),n=d();o(),h("optionsInfoAreaId",n.constructorInfoAreaId),o(),h("placeholder",D(n.optionPlaceholder))("formControl",n.formControl)("matAutocomplete",e)("required",n.optionRequired),Lt("disabled",n.optionDisabled?!0:null),o(2),T(n.optionLabel),o(),h("displayWith",n.displayFn),o(2),it(C(9,17,n.filteredOptions)),o(3),b(n.formControl.valid?-1:10),o(),b(n.optionRequired&&n.formControl.valid?11:-1),o(),b((n.dataModelSelect==null||n.dataModelSelect.id==null?null:n.dataModelSelect.id.length)>0?12:-1),o(),O("rotation360",n.publicHelper.processService.process.inRunArea[n.constructorInfoAreaId]),h("title",D(C(14,19,"ACTION.RELOAD"))),o(2),b(n.optionRequired&&(!n.dataModelSelect||!n.dataModelSelect.id||n.dataModelSelect.id.length<=0)?15:-1)}}function pr(i,l){if(i&1){let e=M();r(0,"div",13)(1,"a",14),y("click",function(){let t=m(e).$implicit,s=d(2);return u(s.onActionSelect(t))}),c(2),a()()}if(i&2){let e=l.$implicit,n=d(2);o(),h("ngClass",e.id===(n.dataModelSelect==null?null:n.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),Lt("disabled",n.optionDisabled?!0:null),o(),T(n.displayOption(e))}}function mr(i,l){if(i&1&&(r(0,"div",2),tt(1,pr,3,3,"div",13,et),f(3,"async"),Sn(4,1),a()),i&2){let e=d();o(),it(C(3,0,e.filteredOptions))}}var Kt=class Kt{constructor(l,e,n,t,s,p,_,H){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=n;this.publicHelper=t;this.translate=s;this.tokenHelper=p;this.cmsStoreService=_;this.categoryService=H;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Q;this.dataModelSelect=new _e;this.formControl=new Ht;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionRequired=!1;this.optionChange=new Ft;this.optionTypeView=1;this.typeUsageId="";this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}set optionTypeUsageId(l){this.typeUsageId=l,this.loadOptions()}ngOnInit(){this.loadOptions(),this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>te(this,null,function*(){this.loadOptions()}))),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Un(""),Nn(1500),Gn(),Wn(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return te(this,null,function*(){let e=new ae;e.rowPerPage=20,e.accessLoad=!0;let n=new q,t=new q;l&&l.length>0&&(n.propertyName="title",n.value=l,n.searchType=Gt.Contains,n.clauseType=Si.Or,t.filters.push(n),n=new q,n.propertyName="id",n.value=l,n.searchType=Gt.Equal,n.clauseType=Si.Or,t.filters.push(n),e.filters.push(t)),this.typeUsageId&&this.typeUsageId.length>0&&(n=new q,n.propertyName="PropertyTypes",n.propertyAnyName="LinkPropertyTypeUsageId",n.value=this.typeUsageId,n.searchType=Gt.Equal,n.clauseType=Si.And,e.filters.push(n));let s=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(s,p,this.constructorInfoAreaId)}),yield Hn(this.categoryService.ServiceGetAll(e)).then(p=>(this.dataModelResult=p,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(s),p.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(Bn(e=>(e.find(n=>n.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if((!l||typeof l=="string"&&l.length===0)&&(this.dataModelSelect=new _e),typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(n=>n.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof _e){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new _e,this.loadOptions()}};Kt.\u0275fac=function(e){return new(e||Kt)(E(le),E(U),E(F),E(W),E(N),E(J),E(K),E(nt))},Kt.\u0275cmp=B({type:Kt,selectors:[["app-estate-customer-category-selector"]],inputs:{optionSelectForce:"optionSelectForce",optionTypeUsageId:"optionTypeUsageId",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionRequired:"optionRequired",optionTypeView:"optionTypeView",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:zo,decls:2,vars:2,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[1,"row","mb-0"],[3,"optionsInfoAreaId"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required"],["for","forminput",1,"color-highlight"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,n){e&1&&(qn(zo),v(0,dr,17,21,"div",1),v(1,mr,5,2,"div",2)),e&2&&(b(n.optionTypeView===1?0:-1),o(),b(n.optionTypeView===2?1:-1))},dependencies:[re,se,z,Ge,xi,so,ro,co,Y,j,Be,G],encapsulation:2});var sn=Kt;var hr=["vform"];function gr(i,l){i&1&&S(0,"i",18)}function Sr(i,l){i&1&&S(0,"i",19)}function yr(i,l){if(i&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),f(4,"translate"),a()()),i&2){let e=d();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),T(C(4,2,"MESSAGE.required"))}}function Er(i,l){if(i&1){let e=M();r(0,"div",15)(1,"label",28),c(2),f(3,"translate"),a(),r(4,"textarea",29,4),P("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),u(t)}),a(),r(6,"em"),c(7),a()()}if(i&2){let e=k(5),n=d();o(2),T(C(3,5,"TITLE.Description_Hidden")),o(2),h("placeholder",D(n.fieldsInfo.descriptionHidden==null?null:n.fieldsInfo.descriptionHidden.fieldTitle)),R("ngModel",n.dataModel.descriptionHidden),o(3),g("",e.value.length," / 500")}}function vr(i,l){if(i&1){let e=M();r(0,"app-estate-account-agency-selector",30),f(1,"translate"),y("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorEstateAgency(t))}),a()}if(i&2){let e=d();h("optionDisabled",!(e.fieldsInfo.linkEstateAgencyId!=null&&e.fieldsInfo.linkEstateAgencyId.accessAddField))("optionSelectForce",e.dataModel.linkEstateAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",C(1,4,"TITLE.Property_agency"))}}function br(i,l){i&1&&(r(0,"mat-error"),c(1," ContactMobiles is "),r(2,"strong"),c(3),f(4,"translate"),a()()),i&2&&(o(3),T(C(4,1,"MESSAGE.required")))}function Mr(i,l){if(i&1){let e=M();r(0,"app-cms-user-selector",23),f(1,"translate"),y("optionChange",function(t){m(e);let s=d(2);return u(s.onActionSelectorCmsUser(t))}),a()}if(i&2){let e=d(2);h("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",C(1,3,"TITLE.user"))}}function Ir(i,l){i&1&&S(0,"i",18)}function wr(i,l){i&1&&S(0,"i",19)}function Tr(i,l){i&1&&(r(0,"mat-error")(1,"strong"),c(2),f(3,"translate"),a()()),i&2&&(o(2),T(C(3,1,"MESSAGE.required")))}function xr(i,l){if(i&1){let e=M();r(0,"div",15)(1,"label",39),c(2),f(3,"translate"),a(),r(4,"input",40,5),f(6,"translate"),P("ngModelChange",function(t){m(e);let s=d(2);return A(s.dataModel.actionCreateNewCmsUserFirstName,t)||(s.dataModel.actionCreateNewCmsUserFirstName=t),u(t)}),a(),v(7,Ir,1,0,"i",18),v(8,wr,1,0,"i",19),r(9,"em"),c(10),a(),v(11,Tr,4,3,"mat-error"),a()}if(i&2){let e=k(5),n=d(2);o(2),T(C(3,8,"TITLE.FIRST_NAME")),o(2),h("placeholder",D(C(6,10,"TITLE.FIRST_NAME"))),R("ngModel",n.dataModel.actionCreateNewCmsUserFirstName),o(3),b(e.value?-1:7),o(),b(e.value?8:-1),o(2),g("",e.value.length," / 50"),o(),b(e.errors!=null&&e.errors.required?11:-1)}}function Rr(i,l){i&1&&S(0,"i",18)}function Ar(i,l){i&1&&S(0,"i",19)}function Pr(i,l){i&1&&(r(0,"mat-error")(1,"strong"),c(2),f(3,"translate"),a()()),i&2&&(o(2),T(C(3,1,"MESSAGE.required")))}function Dr(i,l){if(i&1){let e=M();r(0,"div",15)(1,"label",41),c(2),f(3,"translate"),a(),r(4,"input",42,6),f(6,"translate"),P("ngModelChange",function(t){m(e);let s=d(2);return A(s.dataModel.actionCreateNewCmsUserLastName,t)||(s.dataModel.actionCreateNewCmsUserLastName=t),u(t)}),a(),v(7,Rr,1,0,"i",18),v(8,Ar,1,0,"i",19),r(9,"em"),c(10),a(),v(11,Pr,4,3,"mat-error"),a()}if(i&2){let e=k(5),n=d(2);o(2),T(C(3,8,"TITLE.LAST_NAME")),o(2),h("placeholder",D(C(6,10,"TITLE.LAST_NAME"))),R("ngModel",n.dataModel.actionCreateNewCmsUserLastName),o(3),b(e.value?-1:7),o(),b(e.value?8:-1),o(2),g("",e.value.length," / 50"),o(),b(e.errors!=null&&e.errors.required?11:-1)}}function kr(i,l){i&1&&S(0,"i",18)}function Lr(i,l){i&1&&S(0,"i",19)}function Vr(i,l){i&1&&(r(0,"mat-error")(1,"strong"),c(2),f(3,"translate"),a()()),i&2&&(o(2),T(C(3,1,"MESSAGE.required")))}function Or(i,l){if(i&1){let e=M();r(0,"div",15)(1,"label",43),c(2),f(3,"translate"),a(),r(4,"input",44,7),P("ngModelChange",function(t){m(e);let s=d(2);return A(s.dataModel.actionCreateNewCmsUserMobile,t)||(s.dataModel.actionCreateNewCmsUserMobile=t),u(t)}),a(),v(6,kr,1,0,"i",18),v(7,Lr,1,0,"i",19),r(8,"em"),c(9),a(),v(10,Vr,4,3,"mat-error"),a()}if(i&2){let e=k(5),n=d(2);o(2),T(C(3,6,"TITLE.MOBILE_NUMBER")),o(2),R("ngModel",n.dataModel.actionCreateNewCmsUserMobile),o(2),b(e.value?-1:6),o(),b(e.value?7:-1),o(2),g("",e.value.length," / 20"),o(),b(e.errors!=null&&e.errors.required?10:-1)}}function Hr(i,l){if(i&1){let e=M();r(0,"div",26)(1,"div",31)(2,"div",32)(3,"h5",33),c(4),f(5,"translate"),a()(),r(6,"div",34)(7,"div",35)(8,"input",36),P("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.actionCreateNewCmsUser,t)||(s.dataModel.actionCreateNewCmsUser=t),u(t)}),a(),S(9,"label",37),a()()(),v(10,Mr,2,5,"app-cms-user-selector",38),v(11,xr,12,12,"div",15),v(12,Dr,12,12,"div",15),v(13,Or,11,8,"div",15),a()}if(i&2){let e=d();o(4),g(" ",C(5,6,"TITLE.CREATE_NEW_USER")," "),o(4),R("ngModel",e.dataModel.actionCreateNewCmsUser),o(2),b(e.dataModel.actionCreateNewCmsUser?-1:10),o(),b(e.dataModel.actionCreateNewCmsUser?11:-1),o(),b(e.dataModel.actionCreateNewCmsUser?12:-1),o(),b(e.dataModel.actionCreateNewCmsUser?13:-1)}}function Br(i,l){if(i&1){let e=M();r(0,"div",27)(1,"button",45),y("click",function(){m(e);let t=d();return u(t.onFormCancel())}),S(2,"i",46),c(3),f(4,"translate"),a(),r(5,"button",47),S(6,"i",48),c(7),f(8,"translate"),a()()}if(i&2){d();let e=k(10);o(3),g(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),g(" ",C(8,5,"ACTION.SAVE")," ")}}var Jt=class Jt extends qi{constructor(e,n,t,s,p,_,H,Z,ne,Pe){super(s,new Wt,H,ne);this.data=e;this.dialogRef=n;this.coreEnumService=t;this.estateCustomerOrderService=s;this.cmsToastrService=p;this.cmsStoreService=_;this.publicHelper=H;this.cdr=Z;this.translate=ne;this.tokenHelper=Pe;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Q;this.dataModel=new Wt;this.formInfo=new ge;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,e&&e.linkEstateCustomerCategoryId?.length>0&&(this.dataModel.linkEstateCustomerCategoryId=e.linkEstateCustomerCategoryId),e&&e.copyId?.length>0&&this.DataGetOneContent(e.copyId),this.dataModel.caseCode=this.publicHelper.StringRandomGenerator(5,!0)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataGetOneContent(e){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.estateCustomerOrderService.setAccessLoad(),this.estateCustomerOrderService.setAccessDataType(ze.Editor),this.estateCustomerOrderService.ServiceGetOneById(e).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,this.dataModel.title="Copy of "+this.dataModel.title,t.isSuccess?Promise.resolve().then(()=>this.cdr.detectChanges()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(n)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.dataModel.scoreLiquidityPower=5,this.dataModel.scorePurchaseDecision=5,this.dataModel.scorePurchasingPower=5,this.dataModel.scoreRushToBuy=5,this.estateCustomerOrderService.ServiceAdd(this.dataModel).subscribe({next:n=>{n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({id:n.item.id,dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:n=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorSelect(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}this.dataModel.linkEstateCustomerCategoryId=e.id}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCmsUserId=null;return}this.dataModel.linkCmsUserId=e.id}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateExpertId=e.id)}};Jt.\u0275fac=function(n){return new(n||Jt)(E(he),E(Ce),E(le),E(jt),E(U),E(K),E(W),E(F),E(N),E(J))},Jt.\u0275cmp=B({type:Jt,selectors:[["app-estate-customer-order-add-to-edit"]],viewQuery:function(n,t){if(n&1&&Le(hr,5),n&2){let s;Ve(s=Oe())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:46,vars:41,consts:[["vform","ngForm"],["Title",""],["Description",""],["ContactMobiles",""],["DescriptionHidden",""],["actionCreateNewCmsUserFirstName",""],["actionCreateNewCmsUserLastName",""],["actionCreateNewCmsUserMobile",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.contactMobiles",1,"color-highlight"],["matInput","","name","dataModel.contactMobiles","type","text","minlength","0","maxlength","100","rows","5","id","dataModel.contactMobiles",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"blockquote"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.actionCreateNewCmsUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.actionCreateNewCmsUser","name","dataModel.actionCreateNewCmsUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.actionCreateNewCmsUser",1,"custom-control-label"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.actionCreateNewCmsUserFirstName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserFirstName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserFirstName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserLastName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserLastName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserLastName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserMobile","type","text","placeholder","0912","minlength","3","maxlength","20","id","dataModel.actionCreateNewCmsUserMobile",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,t){if(n&1){let s=M();r(0,"div",8),S(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),a(),r(5,"p"),c(6),f(7,"translate"),a(),S(8,"app-cms-form-result-message",12),r(9,"form",13,0),y("ngSubmit",function(){return m(s),u(t.onFormSubmit())}),r(11,"app-estate-customer-category-selector",14),f(12,"translate"),y("optionChange",function(_){return m(s),u(t.onActionSelectorSelect(_))}),a(),r(13,"div",15)(14,"label",16),c(15),a(),r(16,"input",17,1),P("ngModelChange",function(_){return m(s),A(t.dataModel.title,_)||(t.dataModel.title=_),u(_)}),a(),v(18,gr,1,0,"i",18),v(19,Sr,1,0,"i",19),S(20,"em"),v(21,yr,5,4,"mat-error"),a(),r(22,"div",15)(23,"label",20),c(24),a(),r(25,"textarea",21,2),P("ngModelChange",function(_){return m(s),A(t.dataModel.description,_)||(t.dataModel.description=_),u(_)}),a(),r(27,"em"),c(28),a()(),v(29,Er,8,7,"div",15),S(30,"hr"),v(31,vr,2,6,"app-estate-account-agency-selector",22),r(32,"app-estate-account-expert-selector",23),f(33,"translate"),y("optionChange",function(_){return m(s),u(t.onActionSelectorEstateUser(_))}),a(),r(34,"div",15)(35,"label",24),c(36),f(37,"translate"),a(),r(38,"textarea",25,3),f(40,"translate"),P("ngModelChange",function(_){return m(s),A(t.dataModel.contactMobiles,_)||(t.dataModel.contactMobiles=_),u(_)}),a(),r(41,"em"),c(42),a(),v(43,br,5,3,"mat-error"),a(),v(44,Hr,14,8,"div",26),v(45,Br,9,7,"div",27),a()()()}if(n&2){let s=k(17),p=k(26),_=k(39);o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",C(7,31,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h("formInfo",t.formInfo),o(3),h("optionSelectForce",t.dataModel.linkEstateCustomerCategoryId)("optionPlaceholder",C(12,33,"TITLE.Category")),o(4),T(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),h("placeholder",D(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),R("ngModel",t.dataModel.title),o(2),b(s.value?-1:18),o(),b(s.value?19:-1),o(2),b(s.errors!=null&&s.errors.required?21:-1),o(3),T(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),h("placeholder",D(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),R("ngModel",t.dataModel.description),o(3),g("",p.value.length," / 500"),o(),b(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField?29:-1),o(2),b(t.tokenHelper.isAdminSite?31:-1),o(),h("optionDisabled",!(t.fieldsInfo.linkEstateExpertId!=null&&t.fieldsInfo.linkEstateExpertId.accessAddField))("optionSelectForce",t.dataModel.linkEstateExpertId)("optionPlaceholder",C(33,35,"TITLE.Real_estate_customer_personnel")),o(4),T(C(37,37,"TITLE.Mobile_customer")),o(2),h("placeholder",D(C(40,39,"TITLE.Mobile_customer"))),R("ngModel",t.dataModel.contactMobiles),o(4),g("",_.value.length," / 100"),o(),b(_.errors!=null&&_.errors.required?43:-1),o(),b(t.fieldsInfo.actionCreateNewCmsUser!=null&&t.fieldsInfo.actionCreateNewCmsUser.accessWatchField?44:-1),o(),b(t.formInfo.submitButtonEnabled?45:-1)}},dependencies:[Ne,se,eo,z,Ee,Ge,rt,at,ce,Fe,Ue,Y,$i,j,Se,sn,tn,nn,G],encapsulation:2});var _i=Jt;var Fr=()=>["expandedTitle"],Nr=()=>["expandedDetail"],Gr=()=>[5,10,20,100],Jo=i=>({display:i});function Ur(i,l){i&1&&(r(0,"mat-header-cell"),c(1),f(2,"translate"),a()),i&2&&(o(),g(" ",C(2,1,"TITLE.MENU")," "))}function Wr(i,l){if(i&1){let e=M();r(0,"mat-cell")(1,"button",56),y("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",57),a()()}}function qr(i,l){i&1&&(r(0,"mat-header-cell",58),c(1),f(2,"translate"),a()),i&2&&(o(),g(" ",C(2,1,"TITLE.PICTURE")," "))}function jr(i,l){if(i&1&&(S(0,"img",59),f(1,"cmsthumbnail")),i&2){let e=d().$implicit;h("src",D(C(1,2,e.linkMainImageIdSrc)),ie)}}function Qr(i,l){if(i&1&&(r(0,"mat-cell"),v(1,jr,2,4,"img",59),a()),i&2){let e=l.$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function $r(i,l){if(i&1&&(r(0,"mat-header-cell",58),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function zr(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),g(" ",e.id," ")}}function Yr(i,l){if(i&1&&(r(0,"mat-header-cell",58),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Kr(i,l){if(i&1&&(r(0,"mat-cell"),c(1),f(2,"cmssiteinfo"),f(3,"async"),a()),i&2){let e=l.$implicit;o(),g(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function Jr(i,l){if(i&1&&(r(0,"mat-header-cell",58),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Xr(i,l){if(i&1&&S(0,"select",61),i&2){let e=d().$implicit,n=d();h("contentService",n.contentService)("row",e)("ngStyle",fe(3,Jo,e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)?"":"none"))}}function Zr(i,l){if(i&1&&(r(0,"mat-cell",60),f(1,"statusCellClass"),S(2,"i",60),f(3,"statusIconClass"),v(4,Xr,1,5,"select",61),a()),i&2){let e=l.$implicit,n=d();h("ngClass",C(1,3,e.recordStatus)),o(2),h("ngClass",C(3,5,e.recordStatus)),o(2),b(!(n.dataModelResult==null||n.dataModelResult.access==null)&&n.dataModelResult.access.accessEditRow?4:-1)}}function ea(i,l){if(i&1&&(r(0,"mat-header-cell",58),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.name==null?null:e.fieldsInfo.name.fieldTitle," ")}}function ta(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),g(" ",e.name," ")}}function ia(i,l){if(i&1&&(r(0,"mat-header-cell",58),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.lastName==null?null:e.fieldsInfo.lastName.fieldTitle," ")}}function na(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),g(" ",e.lastName," ")}}function oa(i,l){if(i&1&&(r(0,"mat-header-cell",58),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.companyName==null?null:e.fieldsInfo.companyName.fieldTitle," ")}}function ra(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),g(" ",e.companyName," ")}}function aa(i,l){if(i&1&&(r(0,"mat-header-cell",58),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," ")}}function la(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),g(" ",e.email," ")}}function sa(i,l){if(i&1&&(r(0,"mat-header-cell",58),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.mobile==null?null:e.fieldsInfo.mobile.fieldTitle," ")}}function ca(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),g(" ",e.mobile," ")}}function da(i,l){if(i&1&&(r(0,"mat-header-cell",58),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function pa(i,l){if(i&1&&(r(0,"mat-cell"),c(1),f(2,"localeDate"),a()),i&2){let e=l.$implicit;o(),g(" ",C(2,1,e.createdDate)," ")}}function ma(i,l){if(i&1&&(r(0,"mat-header-cell",58),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function ua(i,l){if(i&1&&(r(0,"mat-cell"),c(1),f(2,"localeDate"),a()),i&2){let e=l.$implicit;o(),g(" ",C(2,1,e.updatedDate)," ")}}function fa(i,l){i&1&&(r(0,"mat-header-cell"),c(1),f(2,"translate"),a()),i&2&&(o(),g(" ",C(2,1,"TITLE.OPTION")," "))}function _a(i,l){if(i&1&&(r(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),i&2){let e=k(5);o(),h("matMenuTriggerFor",e)}}function Ca(i,l){if(i&1&&(r(0,"mat-cell"),c(1),f(2,"translate"),f(3,"localeDate"),a()),i&2){let e=l.$implicit;o(),V(" ",C(2,2,"TITLE.CreationDate")," : ",C(3,4,e.createdDate)," ")}}function ha(i,l){if(i&1&&(S(0,"img",64),f(1,"cmsthumbnail")),i&2){let e=d().$implicit;h("src",D(C(1,2,e.linkMainImageIdSrc)),ie)}}function ga(i,l){if(i&1){let e=M();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),v(5,ha,2,4,"img",64),a(),r(6,"th")(7,"span",65),y("click",function(){m(e);let t=d();return u(t.onActionCopied())}),S(8,"i",66),a(),c(9),a()(),r(10,"tr"),S(11,"td"),r(12,"td"),c(13),a()(),r(14,"tr"),S(15,"td"),r(16,"td"),c(17),a()(),r(18,"tr"),S(19,"td"),r(20,"td"),c(21),a()(),r(22,"tr"),S(23,"td"),r(24,"td"),c(25),a()(),r(26,"tr"),S(27,"td"),r(28,"td"),c(29),a()(),r(30,"tr"),S(31,"td"),r(32,"td"),c(33),a()(),r(34,"tr"),S(35,"td")(36,"td"),a()()()()}if(i&2){let e=l.$implicit,n=d();o(5),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),h("cdkCopyToClipboard",e.id),o(2),g(" ",e.id," "),o(4),V(" ",n.fieldsInfo.username==null?null:n.fieldsInfo.username.fieldTitle," : ",e.username," "),o(4),V(" ",n.fieldsInfo.name==null?null:n.fieldsInfo.name.fieldTitle," : ",e.name," "),o(4),V(" ",n.fieldsInfo.lastName==null?null:n.fieldsInfo.lastName.fieldTitle," : ",e.lastName," "),o(4),V(" ",n.fieldsInfo.mobile==null?null:n.fieldsInfo.mobile.fieldTitle," : ",e.mobile," "),o(4),V(" ",n.fieldsInfo.email==null?null:n.fieldsInfo.email.fieldTitle," : ",e.email," "),o(4),V(" ",n.fieldsInfo.companyName==null?null:n.fieldsInfo.companyName.fieldTitle," : ",e.companyName," ")}}function Sa(i,l){i&1&&S(0,"mat-header-row")}function ya(i,l){if(i&1){let e=M();r(0,"mat-row",67),y("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),a()}if(i&2){let e=l.$implicit,n=l.dataIndex,t=d();O("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function Ea(i,l){if(i&1){let e=M();r(0,"mat-row",68),y("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),a()}if(i&2){let e=l.$implicit,n=l.dataIndex,t=d();O("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function va(i,l){if(i&1){let e=M();r(0,"mat-row",69),y("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),a()}if(i&2){let e=l.$implicit,n=l.dataIndex,t=d();O("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),h("ngStyle",fe(7,Jo,e.expanded===!0?"":"none"))}}function ba(i,l){if(i&1){let e=M();r(0,"div",55)(1,"button",70),y("click",function(){m(e);let t=d();return u(t.onFormCancel())}),S(2,"i",71),c(3),f(4,"translate"),a()()}i&2&&(o(3),g(" ",C(4,1,"ACTION.CANCEL")," "))}var ei=class ei extends It{constructor(e,n,t,s,p,_,H,Z,ne,Pe,De,ke){super(t,new Ut,De,p,ne);this.data=e;this.dialogRef=n;this.contentService=t;this.cmsToastrService=s;this.tokenHelper=p;this.router=_;this.cdr=H;this.cmsStoreService=Z;this.translate=ne;this.pageInfo=Pe;this.publicHelper=De;this.dialog=ke;this.requestTitle="";this.requestPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.tablePropertySelected=[];this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.formInfo=new ge;this.optionsSearch=new zi;this.optionsStatist=new Yi;this.tokenInfo=new Ei;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","Name","LastName","CompanyName","email","mobile","action_menu"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","Name","LastName","action_menu"];this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(e.title&&(this.requestTitle=e.title+""),e.id&&(this.requestPropertyId=e.id+"")),this.optionsSearch.parentMethods={onSubmit:Qe=>this.onSubmitOptionsSearch(Qe)}}ngOnInit(){this.translate.get("TITLE.QUICK_VIEW").subscribe(e=>{this.formInfo.formTitle=e}),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>te(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ut);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(n.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllResponsibleUserId(this.requestPropertyId,n).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ei.\u0275fac=function(n){return new(n||ei)(E(he),E(Ce),E(jt),E(U),E(J),E(Nt),E(F),E(K),E(N),E(We),E(W),E(de))},ei.\u0275cmp=B({type:ei,selectors:[["app-estate-customer-order-responsible-user-list"]],standalone:!1,features:[oe],decls:83,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[1,"card","card-style","loader-container"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","LastName"],["matColumnDef","CompanyName"],["matColumnDef","email"],["matColumnDef","mobile"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){if(n&1){let s=M();r(0,"div",3)(1,"div",4),c(2),a(),r(3,"div",5),S(4,"app-progress-spinner",6),r(5,"app-cms-html-list",7),P("optionActionGuideNoticeDisplayChange",function(_){return m(s),A(t.viewGuideNotice,_)||(t.viewGuideNotice=_),u(_)}),y("optionOnActionButtonMemoRow",function(){return m(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(s),u(t.onActionButtonPrintRow())}),ue(6,8)(7,9)(8,10),I(9,11),r(10,"a",12),y("click",function(){return m(s),u(t.onActionButtonReload())}),S(11,"i",13),a(),r(12,"a",14),y("click",function(){return m(s),u(t.onActionGridExpandRows(!0))}),S(13,"i",15),a(),r(14,"a",14),y("click",function(){return m(s),u(t.onActionGridExpandRows(!1))}),S(15,"i",16),a(),w(),I(16,17),r(17,"a",18)(18,"mat-slide-toggle",19),P("ngModelChange",function(_){return m(s),A(t.optionsSearch.data.show,_)||(t.optionsSearch.data.show=_),u(_)}),a(),c(19),f(20,"translate"),a(),w(),ue(21,20)(22,21),I(23,22),r(24,"app-cms-search-list",23),P("optionsChange",function(_){return m(s),A(t.optionsSearch,_)||(t.optionsSearch=_),u(_)}),a(),r(25,"app-cms-statist-list",23),P("optionsChange",function(_){return m(s),A(t.optionsStatist,_)||(t.optionsStatist=_),u(_)}),a(),w(),I(26,24),r(27,"mat-table",25,0),y("matSortChange",function(){m(s);let _=k(28);return u(t.onTableSortData(_))}),I(29,26),x(30,Ur,3,3,"mat-header-cell",27)(31,Wr,3,0,"mat-cell",28),w(),I(32,29),x(33,qr,3,3,"mat-header-cell",30)(34,Qr,2,1,"mat-cell",28),w(),I(35,31),x(36,$r,2,1,"mat-header-cell",30)(37,zr,2,1,"mat-cell",28),w(),I(38,32),x(39,Yr,2,1,"mat-header-cell",30)(40,Kr,4,5,"mat-cell",28),w(),I(41,33),x(42,Jr,2,1,"mat-header-cell",30)(43,Zr,5,7,"mat-cell",34),w(),I(44,35),x(45,ea,2,1,"mat-header-cell",30)(46,ta,2,1,"mat-cell",28),w(),I(47,36),x(48,ia,2,1,"mat-header-cell",30)(49,na,2,1,"mat-cell",28),w(),I(50,37),x(51,oa,2,1,"mat-header-cell",30)(52,ra,2,1,"mat-cell",28),w(),I(53,38),x(54,aa,2,1,"mat-header-cell",30)(55,la,2,1,"mat-cell",28),w(),I(56,39),x(57,sa,2,1,"mat-header-cell",30)(58,ca,2,1,"mat-cell",28),w(),I(59,40),x(60,da,2,1,"mat-header-cell",30)(61,pa,3,3,"mat-cell",28),w(),I(62,41),x(63,ma,2,1,"mat-header-cell",30)(64,ua,3,3,"mat-cell",28),w(),I(65,42),x(66,fa,3,3,"mat-header-cell",27)(67,_a,6,1,"mat-cell",43),w(),I(68,44),x(69,Ca,4,6,"mat-cell",28),w(),I(70,45),x(71,ga,37,15,"mat-cell",28),w(),x(72,Sa,1,0,"mat-header-row",46)(73,ya,1,6,"mat-row",47)(74,Ea,1,6,"mat-row",48)(75,va,1,9,"mat-row",49),a(),w(),I(76,50),r(77,"mat-paginator",51,1),y("page",function(_){return m(s),u(t.onTablePageingData(_))}),a(),w(),a()(),r(79,"div",52),S(80,"app-cms-form-result-message",53),a(),r(81,"div",54),v(82,ba,5,3,"div",55),a()()}n&2&&(o(2),g(" ",t.formInfo.formTitle," "),o(2),h("optionsInfoAreaId",t.constructorInfoAreaId),o(),h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.username==null?null:t.tableRowSelected.username.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.username:t.tableRowSelected==null?null:t.tableRowSelected.id),o(13),R("ngModel",t.optionsSearch.data.show),o(),g("",C(20,25,"ACTION.SEARCH")," "),o(5),R("options",t.optionsSearch),o(),R("options",t.optionsStatist),o(2),h("dataSource",t.tableSource),o(45),h("matHeaderRowDef",t.tabledisplayedColumns),o(),h("matRowDefColumns",$(27,Fr)),o(),h("matRowDefColumns",t.tabledisplayedColumns),o(),h("matRowDefColumns",$(28,Nr)),o(2),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",$(29,Gr)),o(3),h("formInfo",t.formInfo),o(2),b(t.formInfo.submitButtonEnabled?82:-1))},dependencies:[re,He,z,ce,be,pe,Y,lt,st,ct,dt,pt,mt,ut,_t,St,Ct,ft,yt,ht,gt,Et,vt,ot,wt,Tt,j,Se,xt,Rt,At,Be,G,zt,qe,Yt,Pt,Dt],encapsulation:2});var dn=ei;var Ta=["vform"],xa=()=>["fa"];function Ra(i,l){if(i&1&&(S(0,"img",15),f(1,"cmsthumbnail")),i&2){let e=d();h("src",D(C(1,2,e.dataModel.linkMainImageIdSrc)),ie)}}function Aa(i,l){i&1&&S(0,"i",22)}function Pa(i,l){i&1&&S(0,"i",23)}function Da(i,l){i&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),f(4,"translate"),a()()),i&2&&(o(3),T(C(4,1,"MESSAGE.required")))}function ka(i,l){if(i&1){let e=M();r(0,"div",16)(1,"label",28),c(2),a(),r(3,"input",29,4),P("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),u(t)}),y("iconPickerSelect",function(t){m(e);let s=d();return u(s.onIconPickerSelect(t))}),a(),r(5,"span",30),S(6,"i",31),a()()}if(i&2){let e=d();o(2),T(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),h("placeholder",D(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),R("ngModel",e.dataModel.iconFont),h("iconPicker",e.dataModel.iconFont)("ipIconPack",$(9,xa))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),h("ngClass",e.dataModel.iconFont)}}function La(i,l){if(i&1){let e=M();r(0,"div",24)(1,"label",32),c(2),a(),r(3,"div",33)(4,"div",34)(5,"input",35,5),P("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),u(t)}),a()(),r(7,"div",36),S(8,"ngx-mat-color-toggle",37)(9,"ngx-mat-color-picker",38,6),a()()()}if(i&2){let e=k(10),n=d();o(2),T(n.fieldsInfo.iconColor==null?null:n.fieldsInfo.iconColor.fieldTitle),o(3),me("background",n.dataModel.iconColor),h("placeholder",D(n.fieldsInfo.iconColor==null?null:n.fieldsInfo.iconColor.fieldTitle)),R("ngModel",n.dataModel.iconColor),h("ngxMatColorPicker",e)("disabled",!(n.fieldsInfo.iconColor!=null&&n.fieldsInfo.iconColor.accessAddField)),o(3),h("for",e),o(),h("touchUi",!0)("color","primary")}}function Va(i,l){i&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),f(4,"translate"),a()()),i&2&&(o(3),T(C(4,1,"MESSAGE.required")))}function Oa(i,l){if(i&1){let e=M();r(0,"div",27)(1,"button",39),y("click",function(){m(e);let t=d();return u(t.onFormCancel())}),S(2,"i",40),c(3),f(4,"translate"),a(),r(5,"button",41),S(6,"i",42),c(7),f(8,"translate"),a()()}if(i&2){d();let e=k(10);o(3),g(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),g(" ",C(8,5,"ACTION.SAVE")," ")}}var ti=class ti extends qi{constructor(e,n,t,s,p,_,H,Z){super(s,new _e,_,Z);this.data=e;this.dialogRef=n;this.coreEnumService=t;this.estateCustomerCategoryService=s;this.cmsToastrService=p;this.publicHelper=_;this.cdr=H;this.translate=Z;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Q;this.dataModel=new _e;this.formInfo=new ge;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.estateCustomerCategoryService.ServiceAdd(this.dataModel).subscribe({next:n=>{this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:n=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ti.\u0275fac=function(n){return new(n||ti)(E(he),E(Ce),E(le),E(nt),E(U),E(W),E(F),E(N))},ti.\u0275cmp=B({type:ti,selectors:[["app-estate-customer-category-add"]],viewQuery:function(n,t){if(n&1&&Le(Ta,5),n&2){let s;Ve(s=Oe())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:45,vars:44,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,t){if(n&1){let s=M();r(0,"div",7),S(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),f(7,"translate"),a(),S(8,"app-cms-form-result-message",11),r(9,"form",12,0),y("ngSubmit",function(){return m(s),u(t.onFormSubmit())}),r(11,"div",13)(12,"a",14),f(13,"cmsthumbnail"),v(14,Ra,2,4,"img",15),a()(),r(15,"div",16)(16,"label",17),y("click",function(){return m(s),u(t.fileManagerOpenForm=!0)}),c(17),f(18,"translate"),a(),r(19,"input",18,1),f(21,"translate"),P("ngModelChange",function(_){return m(s),A(t.dataModel.linkMainImageId,_)||(t.dataModel.linkMainImageId=_),u(_)}),y("click",function(){return m(s),u(t.fileManagerOpenForm=!0)}),a(),r(22,"cms-file-manager",19),y("itemSelected",function(_){return m(s),u(t.onActionFileSelected(_))}),P("openFormChange",function(_){return m(s),A(t.fileManagerOpenForm,_)||(t.fileManagerOpenForm=_),u(_)}),a()(),r(23,"div",16)(24,"label",20),c(25),a(),r(26,"input",21,2),P("ngModelChange",function(_){return m(s),A(t.dataModel.title,_)||(t.dataModel.title=_),u(_)}),a(),v(28,Aa,1,0,"i",22),v(29,Pa,1,0,"i",23),r(30,"em"),c(31),a(),v(32,Da,5,3,"mat-error"),a(),v(33,ka,7,10,"div",16),v(34,La,11,11,"div",24),r(35,"div",16)(36,"label",25),c(37),a(),r(38,"textarea",26,3),P("ngModelChange",function(_){return m(s),A(t.dataModel.description,_)||(t.dataModel.description=_),u(_)}),c(40,"                  "),a(),r(41,"em"),c(42),a(),v(43,Va,5,3,"mat-error"),a(),v(44,Oa,9,7,"div",27),a()()()}if(n&2){let s=k(27),p=k(39);o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",C(7,36,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h("formInfo",t.formInfo),o(4),h("href",D(C(13,38,t.dataModel.linkMainImageIdSrc)),ie),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?14:-1),o(3),T(C(18,40,"TITLE.PICTURE")),o(2),h("placeholder",D(C(21,42,"TITLE.Original_File_ID"))),R("ngModel",t.dataModel.linkMainImageId),o(3),h("language",t.appLanguage)("isPopup",!0),R("openForm",t.fileManagerOpenForm),h("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),T(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),h("placeholder",D(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),R("ngModel",t.dataModel.title),o(2),b(s.value?-1:28),o(),b(s.value?29:-1),o(2),g("",s.value.length," / 100"),o(),b(s.errors!=null&&s.errors.required?32:-1),o(),b(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessWatchField?33:-1),o(),b(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessWatchField?34:-1),o(3),T(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),h("placeholder",D(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),R("ngModel",t.dataModel.description),o(4),g("",p.value.length," / 500"),o(),b(p.errors!=null&&p.errors.required?43:-1),o(),b(t.formInfo.submitButtonEnabled?44:-1)}},dependencies:[re,Ne,se,z,Ee,Ge,rt,at,ce,Fe,Ue,ve,Y,j,Se,Xi,Wi,Ui,Gi,Bi,G,qe],encapsulation:2});var un=ti;var Ha=["vform"],Ba=()=>["fa"];function Fa(i,l){if(i&1&&(S(0,"img",15),f(1,"cmsthumbnail")),i&2){let e=d();h("src",D(C(1,2,e.dataModel.linkMainImageIdSrc)),ie)}}function Na(i,l){i&1&&S(0,"i",22)}function Ga(i,l){i&1&&S(0,"i",23)}function Ua(i,l){if(i&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),f(4,"translate"),a()()),i&2){let e=d();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),T(C(4,2,"MESSAGE.required"))}}function Wa(i,l){if(i&1){let e=M();r(0,"div",16)(1,"label",28),c(2),a(),r(3,"input",29,4),P("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),u(t)}),y("iconPickerSelect",function(t){m(e);let s=d();return u(s.onIconPickerSelect(t))}),a(),r(5,"span",30),S(6,"i",31),a()()}if(i&2){let e=d();o(2),T(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),h("placeholder",D(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),R("ngModel",e.dataModel.iconFont),h("iconPicker",e.dataModel.iconFont)("ipIconPack",$(9,Ba))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),h("ngClass",e.dataModel.iconFont)}}function qa(i,l){if(i&1){let e=M();r(0,"div",24)(1,"label",32),c(2),a(),r(3,"div",33)(4,"div",34)(5,"input",35,5),P("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),u(t)}),a()(),r(7,"div",36),S(8,"ngx-mat-color-toggle",37)(9,"ngx-mat-color-picker",38,6),a()()()}if(i&2){let e=k(10),n=d();o(2),T(n.fieldsInfo.iconColor==null?null:n.fieldsInfo.iconColor.fieldTitle),o(3),me("background",n.dataModel.iconColor),h("placeholder",D(n.fieldsInfo.iconColor==null?null:n.fieldsInfo.iconColor.fieldTitle)),R("ngModel",n.dataModel.iconColor),h("ngxMatColorPicker",e)("disabled",!(n.fieldsInfo.iconColor!=null&&n.fieldsInfo.iconColor.accessEditField)),o(3),h("for",e),o(),h("touchUi",!0)("color","primary")}}function ja(i,l){i&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),f(4,"translate"),a()()),i&2&&(o(3),T(C(4,1,"MESSAGE.required")))}function Qa(i,l){if(i&1){let e=M();r(0,"div",27)(1,"button",39),y("click",function(){m(e);let t=d();return u(t.onFormCancel())}),S(2,"i",40),c(3),f(4,"translate"),a(),r(5,"button",41),S(6,"i",42),c(7),f(8,"translate"),a()()}if(i&2){d();let e=k(10);o(3),g(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),g(" ",C(8,5,"ACTION.SAVE")," ")}}var ii=class ii extends Qi{constructor(e,n,t,s,p,_,H,Z,ne){super(s,new _e,H,ne);this.data=e;this.dialogRef=n;this.coreEnumService=t;this.estateCustomerCategoryService=s;this.estatePropertyTypeService=p;this.cmsToastrService=_;this.publicHelper=H;this.cdr=Z;this.translate=ne;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Qn;this.dataModel=new _e;this.formInfo=new ge;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.estateCustomerCategoryService.setAccessLoad(),this.estateCustomerCategoryService.setAccessDataType(ze.Editor),this.estateCustomerCategoryService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let n=new ae,t=new q;t.propertyName="LinkCustomerCategoryId",t.value=this.requestId,n.filters.push(t),this.estatePropertyTypeService.ServiceGetAll(n).subscribe({next:s=>{this.dataEstatePropertyTypeModel=s.listItems;let p=[];this.dataEstatePropertyTypeModel.forEach(_=>{p.push(_.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=p,s.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(_=>{this.formInfo.submitResultMessage=_}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.estateCustomerCategoryService.ServiceEdit(this.dataModel).subscribe({next:n=>{this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:n=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeUsageModel=e}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ii.\u0275fac=function(n){return new(n||ii)(E(he),E(Ce),E(le),E(nt),E(Zn),E(U),E(W),E(F),E(N))},ii.\u0275cmp=B({type:ii,selectors:[["app-estate-customer-category-edit"]],viewQuery:function(n,t){if(n&1&&Le(Ha,5),n&2){let s;Ve(s=Oe())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:45,vars:44,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,t){if(n&1){let s=M();r(0,"div",7),S(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),f(7,"translate"),a(),S(8,"app-cms-form-result-message",11),r(9,"form",12,0),y("ngSubmit",function(){return m(s),u(t.onFormSubmit())}),r(11,"div",13)(12,"a",14),f(13,"cmsthumbnail"),v(14,Fa,2,4,"img",15),a()(),r(15,"div",16)(16,"label",17),y("click",function(){return m(s),u(t.fileManagerOpenForm=!0)}),c(17),f(18,"translate"),a(),r(19,"input",18,1),f(21,"translate"),P("ngModelChange",function(_){return m(s),A(t.dataModel.linkMainImageId,_)||(t.dataModel.linkMainImageId=_),u(_)}),y("click",function(){return m(s),u(t.fileManagerOpenForm=!0)}),a(),r(22,"cms-file-manager",19),y("itemSelected",function(_){return m(s),u(t.onActionFileSelected(_))}),P("openFormChange",function(_){return m(s),A(t.fileManagerOpenForm,_)||(t.fileManagerOpenForm=_),u(_)}),a()(),r(23,"div",16)(24,"label",20),c(25),a(),r(26,"input",21,2),P("ngModelChange",function(_){return m(s),A(t.dataModel.title,_)||(t.dataModel.title=_),u(_)}),a(),v(28,Na,1,0,"i",22),v(29,Ga,1,0,"i",23),r(30,"em"),c(31),a(),v(32,Ua,5,4,"mat-error"),a(),v(33,Wa,7,10,"div",16),v(34,qa,11,11,"div",24),r(35,"div",16)(36,"label",25),c(37),a(),r(38,"textarea",26,3),P("ngModelChange",function(_){return m(s),A(t.dataModel.description,_)||(t.dataModel.description=_),u(_)}),c(40,"                  "),a(),r(41,"em"),c(42),a(),v(43,ja,5,3,"mat-error"),a(),v(44,Qa,9,7,"div",27),a()()()}if(n&2){let s=k(27),p=k(39);o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",C(7,36,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h("formInfo",t.formInfo),o(4),h("href",D(C(13,38,t.dataModel.linkMainImageIdSrc)),ie),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?14:-1),o(3),T(C(18,40,"TITLE.PICTURE")),o(2),h("placeholder",D(C(21,42,"TITLE.Original_File_ID"))),R("ngModel",t.dataModel.linkMainImageId),o(3),h("language",t.appLanguage)("isPopup",!0),R("openForm",t.fileManagerOpenForm),h("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),T(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),h("placeholder",D(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),R("ngModel",t.dataModel.title),o(2),b(s.value?-1:28),o(),b(s.value?29:-1),o(2),g("",s.value.length," / 100"),o(),b(s.errors!=null&&s.errors.required?32:-1),o(),b(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessWatchField?33:-1),o(),b(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessWatchField?34:-1),o(3),T(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),h("placeholder",D(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),R("ngModel",t.dataModel.description),o(4),g("",p.value.length," / 500"),o(),b(p.errors!=null&&p.errors.required?43:-1),o(),b(t.formInfo.submitButtonEnabled?44:-1)}},dependencies:[re,Ne,se,z,Ee,Ge,rt,at,ce,Fe,Ue,ve,Y,j,Se,Xi,Wi,Ui,Gi,Bi,G,qe],encapsulation:2});var fn=ii;function Ya(i,l){if(i&1){let e=M();r(0,"button",15),y("click",function(){m(e);let t=d();return u(t.onActionAdd())}),c(1),f(2,"translate"),a()}i&2&&(o(),g(" ",C(2,1,"ACTION.ADD")," "))}function Ka(i,l){if(i&1){let e=M();r(0,"button",16),y("click",function(){m(e);let t=d();return u(t.onActionEdit())}),c(1),f(2,"translate"),a()}i&2&&(o(),g(" ",C(2,1,"ACTION.EDIT")," "))}function Ja(i,l){if(i&1){let e=M();r(0,"button",17),y("click",function(){m(e);let t=d();return u(t.onActionDelete())}),c(1),f(2,"translate"),a()}i&2&&(o(),g(" ",C(2,1,"ACTION.DELETE")," "))}function Xa(i,l){if(i&1){let e=M();r(0,"mat-tree-node",18),S(1,"button",19),r(2,"span",20),y("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionSelect(t))}),S(3,"img",21)(4,"i",22),c(5),a()()}if(i&2){let e=l.$implicit,n=d();O("ntk-tree-selected",(n.dataModelSelect==null||n.dataModelSelect.id==null?null:n.dataModelSelect.id.length)>0&&(n.dataModelSelect==null?null:n.dataModelSelect.id)===e.id),o(3),h("src",D(e.linkMainImageIdSrc),ie),o(),me("color",e.iconColor),h("ngClass",e.iconFont),o(),g("\xA0",e.title)}}function Za(i,l){if(i&1){let e=M();r(0,"mat-tree-node",23)(1,"button",24)(2,"mat-icon",25),c(3),a()(),r(4,"span",20),y("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionSelect(t))}),S(5,"img",21)(6,"i",22),c(7),a()()}if(i&2){let e=l.$implicit,n=d(),t=k(13);O("ntk-tree-selected",(n.dataModelSelect==null||n.dataModelSelect.id==null?null:n.dataModelSelect.id.length)>0&&(n.dataModelSelect==null?null:n.dataModelSelect.id)===e.id),h("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),Lt("type","button")("aria-label","Toggle "+e.title),o(2),g(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),h("src",D(e.linkMainImageIdSrc),ie),o(),me("color",e.iconColor),h("ngClass",e.iconFont),o(),g("\xA0",e.title)}}var ni=class ni{constructor(l,e,n,t,s,p,_,H,Z,ne,Pe){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=n;this.cmsConfirmationDialogService=t;this.dialog=s;this.cdr=p;this.publicHelper=_;this.themeService=H;this.translate=Z;this.tokenHelper=ne;this.cmsStoreService=Pe;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new _e;this.dataModelResult=new Q;this.filterModel=new ae;this.dataSource=new Hi;this.optionChange=new Ft;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!1;this.childrenAccessor=l=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>te(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){l&&this.dataModelSelect&&l.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new _e,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){var l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(un,{height:"90%",panelClass:l,enterAnimationDuration:L.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:L.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(fn,{height:"90%",panelClass:e,enterAnimationDuration:L.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:L.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="",n="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(t=>{e=t["MESSAGE.Please_Confirm"],n=t["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) "}),this.cmsConfirmationDialogService.confirm(e,n).then(t=>{if(t){let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(s,p,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(s)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(s,!1)}})}}).catch(()=>{})}};ni.\u0275fac=function(e){return new(e||ni)(E(U),E(le),E(nt),E(Mt),E(de),E(F),E(W),E(bt),E(N),E(J),E(K))},ni.\u0275cmp=B({type:ni,selectors:[["app-estate-customer-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:17,vars:15,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,n){if(e&1){let t=M();r(0,"app-cms-html-tree",1),I(1,2),c(2),f(3,"translate"),w(),I(4,3),v(5,Ya,3,3,"button",4),v(6,Ka,3,3,"button",5),v(7,Ja,3,3,"button",6),r(8,"a",7),y("click",function(){return m(t),u(n.onActionButtonReload())}),S(9,"i",8),a(),w(),I(10,9),S(11,"app-progress-spinner",10),r(12,"mat-tree",11,0),x(14,Xa,6,8,"mat-tree-node",12)(15,Za,8,13,"mat-tree-node",13),a(),w(),ue(16,14),a()}e&2&&(h("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),g(" ",C(3,13,"TABLE."+(n.dataModelResult==null||n.dataModelResult.access==null?null:n.dataModelResult.access.moduleEntityName))," "),o(3),b(!(n.dataModelResult==null||n.dataModelResult.access==null)&&n.dataModelResult.access.accessAddRow?5:-1),o(),b(!(n.dataModelResult==null||n.dataModelResult.access==null)&&n.dataModelResult.access.accessEditRow&&n.dataModelSelect.id&&(n.dataModelSelect==null||n.dataModelSelect.id==null?null:n.dataModelSelect.id.length)>0?6:-1),o(),b(!(n.dataModelResult==null||n.dataModelResult.access==null)&&n.dataModelResult.access.accessDeleteRow&&n.dataModelSelect.id&&(n.dataModelSelect==null||n.dataModelSelect.id==null?null:n.dataModelSelect.id.length)>0?7:-1),o(2),O("rotation360",n.publicHelper.processService.process.inRunArea[n.constructorInfoAreaId]),o(2),h("optionsInfoAreaId",n.constructorInfoAreaId),o(),h("dataSource",n.dataSource)("childrenAccessor",n.childrenAccessor),o(3),h("matTreeNodeDefWhen",n.hasChild))},dependencies:[re,be,pe,ki,Li,Oi,Vi,Di,j,Ki,G],encapsulation:2});var _n=ni;var sl=()=>["expandedTitle"],cl=()=>["expandedDetail"],dl=()=>[5,10,20,100],Zo=i=>({display:i});function pl(i,l){if(i&1){let e=M();r(0,"a",28),y("click",function(){m(e);let t=d();return u(t.onActionButtonInResponsible(!t.searchInResponsibleChecked))}),S(1,"mat-slide-toggle",29),c(2),f(3,"translate"),a()}if(i&2){let e=d();o(),h("checked",e.searchInResponsibleChecked),o(),g(" ",C(3,2,"ACTION.InResponsible")," ")}}function ml(i,l){if(i&1){let e=M();r(0,"div",32)(1,"a",80),y("click",function(t){m(e);let s=d();return u(s.onActionButtonNewRow(t))}),S(2,"i",81)(3,"br"),a(),r(4,"p",35),c(5),f(6,"translate"),a()()}i&2&&(o(5),g(" ",C(6,1,"ACTION.ADD")," "))}function ul(i,l){if(i&1){let e=M();r(0,"div",32)(1,"a",82),y("click",function(t){m(e);let s=d();return u(s.onActionButtonEditRow(s.tableRowSelected,t))}),S(2,"i",83)(3,"br"),a(),r(4,"p",35),c(5),f(6,"translate"),a()()}i&2&&(o(5),g(" ",C(6,1,"ACTION.EDIT")," "))}function fl(i,l){if(i&1){let e=M();r(0,"div",32)(1,"a",84),y("click",function(t){m(e);let s=d();return u(s.onActionButtonCopyNewRow(s.tableRowSelected,t))}),S(2,"i",85)(3,"br"),a(),r(4,"p",35),c(5),f(6,"translate"),a()()}i&2&&(o(5),g(" ",C(6,1,"ACTION.COPY")," "))}function _l(i,l){if(i&1){let e=M();r(0,"div",32)(1,"a",86),y("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",87)(3,"br"),a(),r(4,"p",35),c(5),f(6,"translate"),a()()}i&2&&(o(5),g(" ",C(6,1,"ACTION.DELETE")," "))}function Cl(i,l){if(i&1){let e=M();r(0,"mat-icon",88),y("click",function(){m(e);let t=d();return u(t.filteModelContent.caseCode="")}),c(1," close"),a()}}function hl(i,l){if(i&1){let e=M();r(0,"app-cms-user-selector",90),f(1,"translate"),y("optionChange",function(t){m(e);let s=d(2);return u(s.filteModelContent.linkResponsibleUserId=t==null?null:t.id)}),a()}i&2&&h("optionPlaceholder",C(1,1,"TITLE.InResponsibleTo"))}function gl(i,l){if(i&1){let e=M();r(0,"div",92)(1,"label",98),c(2),a(),r(3,"input",99,3),P("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.createdYaer,t)||(s.filteModelContent.createdYaer=t),u(t)}),a()()}if(i&2){let e=d(2);o(2),T(e.PropertyTypeSelected.titleCreatedYaer),o(),h("placeholder",D(e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle)),R("ngModel",e.filteModelContent.createdYaer)}}function Sl(i,l){if(i&1){let e=M();r(0,"div",92)(1,"label",100),c(2),a(),r(3,"input",101,4),P("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.partition,t)||(s.filteModelContent.partition=t),u(t)}),a()()}if(i&2){let e=d(2);o(2),T(e.PropertyTypeSelected.titlePartition),o(),h("placeholder",D(e.PropertyTypeSelected.titlePartition)),R("ngModel",e.filteModelContent.partition)}}function yl(i,l){if(i&1){let e=M();r(0,"div",92)(1,"label",102),c(2),a(),r(3,"input",103,5),P("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.area,t)||(s.filteModelContent.area=t),u(t)}),a(),r(5,"em"),c(6),a()()}if(i&2){let e=d(2);o(2),T(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle),o(),h("placeholder",D(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle)),R("ngModel",e.filteModelContent.area),o(3),T(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldDescription)}}function El(i,l){if(i&1){let e=M();r(0,"div",92)(1,"label",104),c(2),f(3,"translate"),a(),r(4,"input",105,6),P("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.salePriceMin,t)||(s.filteModelContent.salePriceMin=t),u(t)}),a()()}if(i&2){let e=d(2);o(2),g("",C(3,2,"TITLE.SalePriceMin")," "),o(2),R("ngModel",e.filteModelContent.salePriceMin)}}function vl(i,l){if(i&1){let e=M();r(0,"div",92)(1,"label",106),c(2),f(3,"translate"),a(),r(4,"input",107,7),P("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.rentPriceMin,t)||(s.filteModelContent.rentPriceMin=t),u(t)}),a()()}if(i&2){let e=d(2);o(2),T(C(3,2,"TITLE.RentPriceMin")),o(2),R("ngModel",e.filteModelContent.rentPriceMin)}}function bl(i,l){if(i&1){let e=M();r(0,"div",92)(1,"label",108),c(2,"ImageThumbnailSizeHeight"),a(),r(3,"input",109,8),P("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.depositPriceMin,t)||(s.filteModelContent.depositPriceMin=t),u(t)}),a()()}if(i&2){let e=d(2);o(3),R("ngModel",e.filteModelContent.depositPriceMin)}}function Ml(i,l){if(i&1){let e=M();r(0,"div",92)(1,"label",110),c(2),f(3,"translate"),a(),r(4,"input",111,9),P("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.periodPriceMin,t)||(s.filteModelContent.periodPriceMin=t),u(t)}),a()()}if(i&2){let e=d(2);o(2),g("",C(3,2,"TITLE.PeriodPriceMin")," "),o(2),R("ngModel",e.filteModelContent.periodPriceMin)}}function Il(i,l){if(i&1){let e=M();r(0,"div",92)(1,"label",112),c(2),f(3,"translate"),a(),r(4,"input",113,10),P("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.salePriceMax,t)||(s.filteModelContent.salePriceMax=t),u(t)}),a()()}if(i&2){let e=d(2);o(2),g(" ",C(3,2,"TITLE.SalePriceMax")),o(2),R("ngModel",e.filteModelContent.salePriceMax)}}function wl(i,l){if(i&1){let e=M();r(0,"div",92)(1,"label",114),c(2),f(3,"translate"),a(),r(4,"input",115,11),P("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.rentPriceMax,t)||(s.filteModelContent.rentPriceMax=t),u(t)}),a()()}if(i&2){let e=d(2);o(2),g("",C(3,2,"TITLE.RentPriceMax")," "),o(2),R("ngModel",e.filteModelContent.rentPriceMax)}}function Tl(i,l){if(i&1){let e=M();r(0,"div",92)(1,"label",116),c(2),f(3,"translate"),a(),r(4,"input",117,12),P("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.depositPriceMax,t)||(s.filteModelContent.depositPriceMax=t),u(t)}),a()()}if(i&2){let e=d(2);o(2),T(C(3,2,"TITLE.DepositPriceMax")),o(2),R("ngModel",e.filteModelContent.depositPriceMax)}}function xl(i,l){if(i&1){let e=M();r(0,"div",92)(1,"label",118),c(2),f(3,"translate"),a(),r(4,"input",119,13),P("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.periodPriceMax,t)||(s.filteModelContent.periodPriceMax=t),u(t)}),a()()}if(i&2){let e=d(2);o(2),g("",C(3,2,"TITLE.PeriodPriceMax")," "),o(2),R("ngModel",e.filteModelContent.periodPriceMax)}}function Rl(i,l){if(i&1){let e=M();r(0,"div",42),S(1,"i",124),c(2,"\xA0 "),r(3,"app-input-string",125),P("modelChange",function(t){m(e);let s=d().$implicit,p=d(3);return A(p.propertyDetails[s.id],t)||(p.propertyDetails[s.id]=t),u(t)}),a()()}if(i&2){let e=d().$implicit,n=d(3);o(),me("color",e.iconColor),h("ngClass",e.iconFont),o(2),Vt(Ot("color:'",e.iconColor,"';")),R("model",n.propertyDetails[e.id]),h("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function Al(i,l){if(i&1){let e=M();r(0,"div",42),S(1,"i",124),c(2,"\xA0 "),r(3,"app-input-int",126),P("modelChange",function(t){m(e);let s=d().$implicit,p=d(3);return A(p.propertyDetails[s.id],t)||(p.propertyDetails[s.id]=t),u(t)}),a()()}if(i&2){let e=d().$implicit,n=d(3);o(),me("color",e.iconColor),h("ngClass",e.iconFont),o(2),Vt(Ot("color:'",e.iconColor,"';")),R("model",n.propertyDetails[e.id]),h("optionRequired",e.required)("optionLabel",e.title)}}function Pl(i,l){if(i&1){let e=M();r(0,"div",42),S(1,"i",124),c(2,"\xA0 "),r(3,"app-input-boolean",127),P("modelChange",function(t){m(e);let s=d().$implicit,p=d(3);return A(p.propertyDetails[s.id],t)||(p.propertyDetails[s.id]=t),u(t)}),c(4),a()()}if(i&2){let e=d().$implicit,n=d(3);o(),me("color",e.iconColor),h("ngClass",e.iconFont),o(2),R("model",n.propertyDetails[e.id]),o(),g("",e.title," ")}}function Dl(i,l){if(i&1){let e=M();r(0,"div",42),S(1,"i",124),c(2,"\xA0 "),r(3,"app-input-float",126),P("modelChange",function(t){m(e);let s=d().$implicit,p=d(3);return A(p.propertyDetails[s.id],t)||(p.propertyDetails[s.id]=t),u(t)}),a()()}if(i&2){let e=d().$implicit,n=d(3);o(),me("color",e.iconColor),h("ngClass",e.iconFont),o(2),Vt(Ot("color:'",e.iconColor,"';")),R("model",n.propertyDetails[e.id]),h("optionRequired",e.required)("optionLabel",e.title)}}function kl(i,l){if(i&1){let e=M();r(0,"div",42),S(1,"i",124),c(2,"\xA0 "),r(3,"label"),c(4),a(),r(5,"app-input-date",128),P("modelChange",function(t){m(e);let s=d().$implicit,p=d(3);return A(p.propertyDetails[s.id],t)||(p.propertyDetails[s.id]=t),u(t)}),a()()}if(i&2){let e=d().$implicit,n=d(3);o(),me("color",e.iconColor),h("ngClass",e.iconFont),o(2),Vt(Ot("color:'",e.iconColor,"';")),o(),T(e.title),o(),R("model",n.propertyDetails[e.id]),h("optionRequired",e.required)}}function Ll(i,l){if(i&1){let e=M();r(0,"div",42),S(1,"i",124),c(2,"\xA0 "),r(3,"app-input-textarea",126),P("modelChange",function(t){m(e);let s=d().$implicit,p=d(3);return A(p.propertyDetails[s.id],t)||(p.propertyDetails[s.id]=t),u(t)}),a()()}if(i&2){let e=d().$implicit,n=d(3);o(),me("color",e.iconColor),h("ngClass",e.iconFont),o(2),Vt(Ot("color:'",e.iconColor,"';")),R("model",n.propertyDetails[e.id]),h("optionRequired",e.required)("optionLabel",e.title)}}function Vl(i,l){if(i&1){let e=M();r(0,"div",42),S(1,"i",124),c(2,"\xA0 "),r(3,"app-input-string",125),P("modelChange",function(t){m(e);let s=d().$implicit,p=d(3);return A(p.propertyDetails[s.id],t)||(p.propertyDetails[s.id]=t),u(t)}),a()()}if(i&2){let e=d().$implicit,n=d(3);o(),me("color",e.iconColor),h("ngClass",e.iconFont),o(2),Vt(Ot("color:'",e.iconColor,"';")),R("model",n.propertyDetails[e.id]),h("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function Ol(i,l){if(i&1&&v(0,Rl,4,12,"div",42)(1,Al,4,9,"div",42)(2,Pl,5,5,"div",42)(3,Dl,4,9,"div",42)(4,kl,6,9,"div",42)(5,Ll,4,9,"div",42)(6,Vl,4,12,"div",42),i&2){let e,n=l.$implicit,t=d(3);b((e=n.inputDataType)===t.enumInputDataType.String?0:e===t.enumInputDataType.Int?1:e===t.enumInputDataType.Boolean?2:e===t.enumInputDataType.Float?3:e===t.enumInputDataType.Date?4:e===t.enumInputDataType.TextArea?5:6)}}function Hl(i,l){if(i&1){let e=M();r(0,"button",129),y("click",function(){m(e);let t=d(3);return u(t.prevStep())}),c(1),f(2,"translate"),a()}i&2&&(o(),g(" ",C(2,1,"ACTION.PREVIOUS")," "))}function Bl(i,l){if(i&1){let e=M();r(0,"button",130),y("click",function(){m(e);let t=d(3);return u(t.nextStep())}),c(1),f(2,"translate"),a()}i&2&&(o(),g(" ",C(2,1,"ACTION.NEXT")," "))}function Fl(i,l){if(i&1){let e=M();r(0,"button",130),y("click",function(){m(e);let t=d(3);return u(t.nextStep())}),c(1),f(2,"translate"),a()}i&2&&(o(),g(" ",C(2,1,"ACTION.END")," "))}function Nl(i,l){if(i&1){let e=M();r(0,"mat-expansion-panel",120),y("opened",function(){let t=m(e).$index,s=d(2);return u(s.setStep(t))}),r(1,"mat-expansion-panel-header")(2,"mat-panel-title"),c(3),a(),r(4,"mat-panel-description"),c(5),r(6,"mat-icon",121),c(7),a()()(),tt(8,Ol,7,1,null,null,et),r(10,"mat-action-row"),v(11,Hl,3,3,"button",122),v(12,Bl,3,3,"button",123),v(13,Fl,3,3,"button",123),a()()}if(i&2){let e=l.$implicit,n=l.$index,t=d(2);h("expanded",t.step===n),o(3),g(" ",e.title," "),o(2),g(" ",e.description," "),o(2),T(e.iconFont),o(),it(e.propertyDetails),o(3),b(n>0?11:-1),o(),b(n+1<t.dataModelPropertyDetailGroups.length?12:-1),o(),b(n+1===t.dataModelPropertyDetailGroups.length?13:-1)}}function Gl(i,l){if(i&1){let e=M();r(0,"div")(1,"P"),c(2),f(3,"translate"),a(),v(4,hl,2,3,"app-cms-user-selector",89),r(5,"app-cms-location-autocomplete",90),f(6,"translate"),y("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorLocation(t))}),a(),S(7,"hr"),r(8,"app-estate-property-type-usage-selector",91),f(9,"translate"),y("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorSelectUsage(t))}),a(),S(10,"br")(11,"br")(12,"br"),r(13,"app-estate-property-type-landuse-selector",91),f(14,"translate"),y("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorSelectLanduse(t))}),a(),S(15,"br")(16,"br")(17,"br"),r(18,"app-estate-contract-type-selector",91),f(19,"translate"),y("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorContarctType(t))}),a(),S(20,"br")(21,"br")(22,"br"),v(23,gl,5,4,"div",92),v(24,Sl,5,4,"div",92),v(25,yl,7,5,"div",92),S(26,"hr"),r(27,"app-cms-currency-selector",93),f(28,"translate"),y("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectCurrency(t))}),a(),r(29,"div",94)(30,"div",95),v(31,El,6,4,"div",92),v(32,vl,6,4,"div",92),v(33,bl,5,1,"div",92),v(34,Ml,6,4,"div",92),a(),r(35,"div",95),v(36,Il,6,4,"div",92),v(37,wl,6,4,"div",92),v(38,Tl,6,4,"div",92),v(39,xl,6,4,"div",92),a(),r(40,"mat-accordion",96),tt(41,Nl,14,7,"mat-expansion-panel",97,et),S(43,"br"),a()()()}if(i&2){let e=d();o(2),g("",C(3,23,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller")," "),o(2),b(e.tokenHelper.isAdminSite?4:-1),o(),h("optionPlaceholder",C(6,25,"TITLE.Region")),o(3),h("optionTypeView",2)("optionPlaceholder",C(9,27,"TITLE.Type_Usage")),o(5),h("optionTypeView",2)("optionPlaceholder",C(14,29,"TITLE.Property_Type")),o(5),h("optionTypeView",2)("optionPlaceholder",C(19,31,"TITLE.Transaction_type")),o(5),b(e.filteModelContent.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected==null||e.PropertyTypeSelected.titleCreatedYaer==null?null:e.PropertyTypeSelected.titleCreatedYaer.length)>1?23:-1),o(),b(e.filteModelContent.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected==null||e.PropertyTypeSelected.titlePartition==null?null:e.PropertyTypeSelected.titlePartition.length)>1?24:-1),o(),b(e.fieldsInfo.area!=null&&e.fieldsInfo.area.accessWatchField?25:-1),o(2),h("optionSelectFirstItem",!1)("optionSelectForce",e.filteModelContent.linkCoreCurrencyId)("optionPlaceholder",C(28,33,"TITLE.Specify_the_transaction_currency")),o(4),b(e.contractTypeSelected!=null&&e.contractTypeSelected.hasSalePrice?31:-1),o(),b(e.contractTypeSelected!=null&&e.contractTypeSelected.hasRentPrice?32:-1),o(),b(e.contractTypeSelected!=null&&e.contractTypeSelected.hasDepositPrice?33:-1),o(),b(e.contractTypeSelected!=null&&e.contractTypeSelected.hasDepositPrice?34:-1),o(2),b(e.contractTypeSelected!=null&&e.contractTypeSelected.hasSalePrice?36:-1),o(),b(e.contractTypeSelected!=null&&e.contractTypeSelected.hasRentPrice?37:-1),o(),b(e.contractTypeSelected!=null&&e.contractTypeSelected.hasDepositPrice?38:-1),o(),b(e.contractTypeSelected!=null&&e.contractTypeSelected.hasDepositPrice?39:-1),o(2),it(e.dataModelPropertyDetailGroups)}}function Ul(i,l){i&1&&(r(0,"mat-header-cell"),c(1),f(2,"translate"),a()),i&2&&(o(),g(" ",C(2,1,"TITLE.MENU")," "))}function Wl(i,l){if(i&1){let e=M();r(0,"mat-cell")(1,"button",131),y("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",132),a()()}}function ql(i,l){if(i&1&&(r(0,"mat-header-cell",133),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function jl(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),g(" ",e.id," ")}}function Ql(i,l){if(i&1&&(r(0,"mat-header-cell",133),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function $l(i,l){if(i&1&&(r(0,"mat-cell"),c(1),f(2,"cmssiteinfo"),f(3,"async"),a()),i&2){let e=l.$implicit;o(),g(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function zl(i,l){if(i&1&&(r(0,"mat-header-cell",133),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Yl(i,l){if(i&1&&S(0,"select",135),i&2){let e=d().$implicit,n=d();h("contentService",n.contentService)("row",e)("ngStyle",fe(3,Zo,e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)?"":"none"))}}function Kl(i,l){if(i&1&&(r(0,"mat-cell",134),f(1,"statusCellClass"),S(2,"i",134),f(3,"statusIconClass"),v(4,Yl,1,5,"select",135),a()),i&2){let e=l.$implicit,n=d();h("ngClass",C(1,3,e.recordStatus)),o(2),h("ngClass",C(3,5,e.recordStatus)),o(2),b(!(n.dataModelResult==null||n.dataModelResult.access==null)&&n.dataModelResult.access.accessEditRow?4:-1)}}function Jl(i,l){if(i&1&&(r(0,"mat-header-cell",133),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Xl(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),g(" ",e.title," ")}}function Zl(i,l){if(i&1&&(r(0,"mat-header-cell",133),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function es(i,l){if(i&1&&(r(0,"mat-cell"),c(1),f(2,"localeDateTime"),a()),i&2){let e=l.$implicit;o(),g(" ",C(2,1,e.createdDate)," ")}}function ts(i,l){if(i&1&&(r(0,"mat-header-cell",133),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.scoreRushToBuy==null?null:e.fieldsInfo.scoreRushToBuy.fieldTitle," ")}}function is(i,l){if(i&1&&(r(0,"mat-cell",134),c(1),a()),i&2){let e=l.$implicit;h("ngClass","cms-cell-score-"+e.scoreRushToBuy),o(),g(" ",e.scoreRushToBuy," ")}}function ns(i,l){if(i&1&&(r(0,"mat-header-cell",133),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.scorePurchaseDecision==null?null:e.fieldsInfo.scorePurchaseDecision.fieldTitle," ")}}function os(i,l){if(i&1&&(r(0,"mat-cell",134),c(1),a()),i&2){let e=l.$implicit;h("ngClass","cms-cell-score-"+e.scorePurchaseDecision),o(),g(" ",e.scorePurchaseDecision," ")}}function rs(i,l){if(i&1&&(r(0,"mat-header-cell",133),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.scoreLiquidityPower==null?null:e.fieldsInfo.scoreLiquidityPower.fieldTitle," ")}}function as(i,l){if(i&1&&(r(0,"mat-cell",134),c(1),a()),i&2){let e=l.$implicit;h("ngClass","cms-cell-score-"+e.scoreLiquidityPower),o(),g(" ",e.scoreLiquidityPower," ")}}function ls(i,l){if(i&1&&(r(0,"mat-header-cell",133),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.scorePurchasingPower==null?null:e.fieldsInfo.scorePurchasingPower.fieldTitle," ")}}function ss(i,l){if(i&1&&(r(0,"mat-cell",134),c(1),a()),i&2){let e=l.$implicit;h("ngClass","cms-cell-score-"+e.scorePurchasingPower),o(),g(" ",e.scorePurchasingPower," ")}}function cs(i,l){if(i&1&&(r(0,"mat-header-cell",133),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function ds(i,l){if(i&1&&(r(0,"mat-cell",136),c(1),f(2,"localeDateTime"),a()),i&2){let e=l.$implicit;o(),g(" ",C(2,1,e.updatedDate)," ")}}function ps(i,l){if(i&1&&(r(0,"mat-header-cell",133),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," ")}}function ms(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),g(" ",e.caseCode," ")}}function us(i,l){i&1&&(r(0,"mat-header-cell",137),c(1),f(2,"translate"),a()),i&2&&(o(),g(" ",C(2,1,"TITLE.OPTION")," "))}function fs(i,l){if(i&1&&(r(0,"mat-cell",138)(1,"button",139)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,14),a()),i&2){let e=k(5);o(),h("matMenuTriggerFor",e)}}function _s(i,l){i&1&&(r(0,"mat-header-cell",133),c(1),f(2,"translate"),a()),i&2&&(o(),g(" ",C(2,1,"TITLE.LINKTO")," "))}function Cs(i,l){if(i&1){let e=M();r(0,"mat-cell")(1,"button",140),y("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionButtonLinkTo(t))}),r(2,"mat-icon",141),c(3,"\u2197"),a()()()}}function hs(i,l){i&1&&(r(0,"mat-header-cell",133),c(1),f(2,"translate"),a()),i&2&&(o(),g(" ",C(2,1,"TITLE.QUICK_VIEW")," "))}function gs(i,l){if(i&1){let e=M();r(0,"mat-cell")(1,"button",142),y("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionButtonQuickViewRow(t))}),r(2,"mat-icon",141),c(3,"visibility"),a()()()}}function Ss(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),g(" ",e.title," ")}}function ys(i,l){if(i&1&&(S(0,"img",143),f(1,"cmsthumbnail")),i&2){let e=d().$implicit;h("src",D(C(1,2,e.linkMainImageIdSrc)),ie)}}function Es(i,l){if(i&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),c(3),a()()),i&2){let e=d().$implicit,n=d();o(3),V(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function vs(i,l){if(i&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),c(3),f(4,"translate"),a()()),i&2){let e=d().$implicit;o(3),V(" ",C(4,2,"TITLE.Description_Hidden")," : ",e.descriptionHidden," ")}}function bs(i,l){if(i&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),c(3),f(4,"translate"),a()()),i&2){let e=d().$implicit;o(3),V(" ",C(4,2,"TITLE.Contact_Mobiles")," : ",e.contactMobiles," ")}}function Ms(i,l){if(i&1){let e=M();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),v(5,ys,2,4,"img",143),a(),r(6,"th")(7,"span",144),y("click",function(){m(e);let t=d();return u(t.onActionCopied())}),S(8,"i",145),a(),c(9),a()(),r(10,"tr"),S(11,"td"),r(12,"td"),c(13),a()(),v(14,Es,4,2,"tr"),v(15,vs,5,4,"tr"),v(16,bs,5,4,"tr"),r(17,"tr"),S(18,"td"),r(19,"td",146),c(20),f(21,"cmsuserinfo"),f(22,"async"),a()(),r(23,"tr")(24,"td",147),c(25),f(26,"translate"),a(),r(27,"td",147),c(28),a()(),r(29,"tr"),S(30,"td")(31,"td"),a()()()()}if(i&2){let e=l.$implicit,n=d();o(5),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),h("cdkCopyToClipboard",e.id),o(2),g(" ",e.id," "),o(4),V("",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," : ",e.title),o(),b(e.description?14:-1),o(),b(n.fieldsInfo.descriptionHidden!=null&&n.fieldsInfo.descriptionHidden.accessWatchField?15:-1),o(),b(n.fieldsInfo.contactMobiles!=null&&n.fieldsInfo.contactMobiles.accessWatchField?16:-1),o(4),g(" ",C(22,13,C(21,11,e.createdBy))," "),o(5),g(" ",C(26,15,"TITLE.HISTORY")," : "),o(3),T(e.historyTotalCount)}}function Is(i,l){i&1&&S(0,"mat-header-row")}function ws(i,l){if(i&1){let e=M();r(0,"mat-row",148),y("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),a()}if(i&2){let e=l.$implicit,n=d();O("ntk-row-selected",e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}function Ts(i,l){if(i&1){let e=M();r(0,"mat-row",149),y("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),a()}if(i&2){let e=l.$implicit,n=d();O("ntk-row-selected",e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}function xs(i,l){if(i&1){let e=M();r(0,"mat-row",150),y("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),a()}if(i&2){let e=l.$implicit,n=d();O("ntk-row-selected",e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)),h("ngStyle",fe(3,Zo,e.expanded===!0?"":"none"))}}var oi=class oi extends It{constructor(e,n,t,s,p,_,H,Z,ne,Pe,De,ke,Qe,pi){super(e,new Wt,Qe,p,Z);this.contentService=e;this.cmsConfirmationDialogService=n;this.estatePropertyDetailGroupService=t;this.cmsToastrService=s;this.tokenHelper=p;this.router=_;this.cdr=H;this.translate=Z;this.activatedRoute=ne;this.cmsStoreService=Pe;this.themeService=De;this.pageInfo=ke;this.publicHelper=Qe;this.dialog=pi;this.constructorInfoAreaId=this.constructor.name;this.responsibleUserId=0;this.searchInResponsibleChecked=!1;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new vi;this.dataModelPropertyDetailGroups=[];this.enumInputDataType=$n;this.tabledisplayedColumns=[];this.step=0;this.tabledisplayedColumnsSource=["id","linkSiteId","recordStatus","createdDate","updatedDate","scoreRushToBuy","scorePurchaseDecision","scoreLiquidityPower","scorePurchasingPower","CaseCode","LinkTo","QuickView","action_menu"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","CaseCode","LinkTo","QuickView","action_menu"];this.unsubscribe=[];this.propertyDetails=new Map;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.PropertyTypeSelected=new bi;this.dataModelCorCurrencySelector=new yi;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:mi=>this.onSubmitOptionsSearch(mi)},this.responsibleUserId=+this.activatedRoute.snapshot.paramMap.get("ResponsibleUserId"),this.requestRecordStatus=ye[this.activatedRoute.snapshot.paramMap.get("recordStatus")+""],this.requestRecordStatus&&(this.optionsSearch.data.show=!0,this.optionsSearch.data.defaultQuery='{"condition":"and","rules":[{"field":"recordStatus","type":"select","operator":"equal","value":"'+this.requestRecordStatus+'"}]}',this.requestRecordStatus=null),this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=X.Descending}set optionLinkPropertyId(e){e&&e.length>0&&(this.requestLinkPropertyId=e)}set optionLinkPropertyIdHaveHistory(e){e&&e.length>0&&(this.requestLinkPropertyIdHaveHistory=e)}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&(!this.tokenHelper.isAdminSite&&!this.tokenHelper.isSupportSite&&(this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreRushToBuy"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scorePurchaseDecision"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreLiquidityPower"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scorePurchasingPower")),this.DataGetAll()),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>te(this,null,function*(){this.tokenInfo=e,!this.tokenHelper.isAdminSite&&this.tokenHelper.isSupportSite&&(this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreRushToBuy"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scorePurchaseDecision"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreLiquidityPower"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scorePurchasingPower")),this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;this.tableRowsSelected=[],this.onActionTableRowSelect(new Wt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(p=>{this.publicHelper.processService.processStart(e,p,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(n.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let p=new q;p.propertyName="linkEstateCustomerCategoryId",p.value=this.categoryModelSelected.id,n.filters.push(p)}var t=0;if(this.searchInResponsibleChecked?t=this.tokenInfo.access.userId:this.responsibleUserId>0&&(t=this.responsibleUserId),this.requestLinkPropertyId&&this.requestLinkPropertyId.length>0)this.contentService.ServiceGetAllWithCoverPropertyId(this.requestLinkPropertyId,n).subscribe({next:p=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(p.access),p.isSuccess?(this.dataModelResult=p,this.tableSource.data=p.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(p.access)},1e3)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(e)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(e,!1)}});else if(this.requestLinkPropertyIdHaveHistory&&this.requestLinkPropertyIdHaveHistory.length>0)this.contentService.ServiceGetAllWithCoverPropertyIdHaveHistory(this.requestLinkPropertyIdHaveHistory,n).subscribe({next:p=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(p.access),p.isSuccess?(this.dataModelResult=p,this.tableSource.data=p.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(p.access)},1e3)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(e)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(e,!1)}});else if(t>0)this.contentService.ServiceGetAllWithResponsibleUserId(t,n).subscribe({next:p=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(p.access),p.isSuccess?(this.dataModelResult=p,this.tableSource.data=p.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(p.access)},1e3)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(e)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(e,!1)}});else{var s=[];this.dataModelPropertyDetailGroups&&this.dataModelPropertyDetailGroups.forEach(p=>{p.propertyDetails.forEach(_=>{let H=new Yn;H.linkPropertyDetailId=_.id,H.value=this.propertyDetails[_.id],s.push(H)})}),n.propertyDetailValues=s,this.contentService.setAccessDataType(ze.Editor),this.contentService.ServiceGetAll(n).subscribe({next:p=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(p.access),p.isSuccess?(this.dataModelResult=p,this.tableSource.data=p.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(p.access)},1e3)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(e)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(e,!1)}})}}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(e){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var n="";this.publicHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(_i,{height:"90%",panelClass:n,enterAnimationDuration:L.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:L.cmsViewConfig.exitAnimationDuration,data:{linkEstateCustomerCategoryId:this.categoryModelSelected?.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.router.navigate(["/estate/customer-order/edit/",s.id])})}onActionButtonCopyNewRow(e=this.tableRowSelected,n){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e);var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(_i,{height:"90%",panelClass:t,enterAnimationDuration:L.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:L.cmsViewConfig.exitAnimationDuration,data:{copyId:e.id,linkEstateCustomerCategoryId:this.categoryModelSelected?.id}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.router.navigate(["/estate/customer-order/edit/",p.id])})}onActionButtonEditRow(e=this.tableRowSelected,n){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}n?.ctrlKey?(this.link="/#/estate/customer-order/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/customer-order/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{n=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(s=>{if(s){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(_=>{this.publicHelper.processService.processStart(p,_,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(e.id).subscribe({next:_=>{_.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonHistoryRow(e=this.tableRowSelected,n){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}n?.ctrlKey?(this.link="/#/estate/property-history/LinkCustomerOrderId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkCustomerOrderId",this.tableRowSelected.id])}onActionButtonOpenCustomerOrder(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}this.onActionTableRowSelect(e),window.open(this.tableRowSelected.urlViewContent,"_blank")}onActionButtonContentList(e=this.tableRowSelected,n){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),n?.ctrlKey?(this.link="/#/estate/property/LinkCustomerOrderId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkCustomerOrderId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.property_list").subscribe(kt=>{this.publicHelper.processService.processStart(this.constructor.name+"All",kt,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(ze.Editor);let t=JSON.parse(JSON.stringify(this.filteModelContent)),s=this.contentService.ServiceGetCount(t),p=JSON.parse(JSON.stringify(this.filteModelContent)),_=new q;_.propertyName="recordStatus",_.value=ye.Available,p.filters.push(_);let H=this.contentService.ServiceGetCount(p),Z=JSON.parse(JSON.stringify(this.filteModelContent)),ne=new q;ne.propertyName="recordStatus",ne.value=ye.Archive,Z.filters.push(ne);let Pe=this.contentService.ServiceGetCount(Z),De=JSON.parse(JSON.stringify(this.filteModelContent)),ke=new q;ke.propertyName="recordStatus",ke.value=ye.Pending,De.filters.push(ke);let Qe=this.contentService.ServiceGetCount(De),pi=JSON.parse(JSON.stringify(this.filteModelContent)),mi=new q;mi.propertyName="recordStatus",mi.value=ye.Disable,pi.filters.push(mi);let or=this.contentService.ServiceGetCount(pi);Fn([s,H,Pe,Qe,or]).subscribe(kt=>{var ee=kt[0];ee.isSuccess&&this.translate.get("MESSAGE.customer_order_list").subscribe($e=>{n.set($e,ee.totalRowCount)});var ee=kt[1];ee.isSuccess&&this.translate.get("MESSAGE.customer_order_list_active").subscribe($e=>{n.set($e,ee.totalRowCount)}),ee=kt[2],ee.isSuccess?this.translate.get("MESSAGE.customer_order_list_close").subscribe($e=>{n.set($e,ee.totalRowCount)}):this.cmsToastrService.typeErrorMessage(ee.errorMessage),ee=kt[3],ee.isSuccess?this.translate.get("MESSAGE.customer_order_needs_approval").subscribe($e=>{n.set($e,ee.totalRowCount)}):this.cmsToastrService.typeErrorMessage(ee.errorMessage),ee=kt[4],ee.isSuccess?this.translate.get("MESSAGE.customer_order_list_disable").subscribe($e=>{n.set($e,ee.totalRowCount)}):this.cmsToastrService.typeErrorMessage(ee.errorMessage),this.publicHelper.processService.processStop(this.constructor.name+"All"),this.optionsStatist.childMethods.setStatistValue(n)})}onActionButtonInResponsible(e){this.searchInResponsibleChecked=e,this.DataGetAll()}onActionSelectorSelect(e){var n=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType,n=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new vi,this.filteModelContent.sortColumn=n,this.filteModelContent.sortType=t,this.filteModelContent.sortColumn=n,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=ye.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.tableRowSelected=e;let n=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_customer_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(Ji,{height:"90%",panelClass:s,enterAnimationDuration:L.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:L.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(_=>{_&&_.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(n)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onActionSelectorLocation(e){this.filteModelContent.linkLocationIds=e}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(n=>{this.cmsToastrService.typeWarningSelected(n)});return}this.filteModelContent.linkPropertyTypeUsageId=e.id}onSearchCaseCodeChange(e){e&&e.length>0&&(this.filteModelContent=new vi,this.filteModelContent.caseCode=e,this.dataModelPropertyDetailGroups=[])}onActionSelectorSelectLanduse(e){if(this.dataModelPropertyDetailGroups=[],this.PropertyTypeSelected=null,this.filteModelContent.linkPropertyTypeLanduseId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(n=>{this.cmsToastrService.typeWarningSelected(n)});return}this.DataGetPropertyDetailGroup(e.id),this.PropertyTypeSelected=e,this.filteModelContent.linkPropertyTypeLanduseId=e.id}DataGetPropertyDetailGroup(e){let n=new ae,t=new q;t.propertyName="LinkPropertyTypeLanduseId",t.value=e,n.filters.push(t),this.dataModelPropertyDetailGroups=[];let s=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("MESSAGE.Get_detailed_information").subscribe(p=>{this.publicHelper.processService.processStart(s,p,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAllFastSearch(n).subscribe({next:p=>{p.isSuccess?(this.dataModelPropertyDetailGroups=p.listItems,this.dataModelPropertyDetailGroups&&this.dataModelPropertyDetailGroups.forEach(_=>{_.propertyDetails.forEach(H=>{this.propertyDetails[H.id]=0})})):this.cmsToastrService.typeErrorGetAccess(p.errorMessage),this.publicHelper.processService.processStop(s)},error:p=>{this.cmsToastrService.typeErrorGetAccess(p),this.publicHelper.processService.processStop(s,!1)}})}onActionSelectorContarctType(e){if(this.contractTypeSelected=null,this.filteModelContent.linkContractTypeId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(n=>{this.cmsToastrService.typeWarningSelected(n)});return}this.contractTypeSelected=e,this.filteModelContent.linkContractTypeId=e.id}onActionSelectCurrency(e){if(!e||e.id<=0){this.dataModelCorCurrencySelector=null,this.filteModelContent.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.filteModelContent.linkCoreCurrencyId=e.id}onActionButtonQuickHistoryAddRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e);var n="";this.publicHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(fi,{height:"90%",panelClass:n,enterAnimationDuration:L.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:L.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:this.categoryModelSelected?.id,linkPropertyId:null,linkEstateExpertId:null,linkCustomerOrderId:e.id,linkEstateAgencyId:null}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonQuickViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n=this.publicHelper.InfoNextRowInList(this.dataModelResult.listItems,this.tableRowSelected),t=this.publicHelper.InfoPerviousRowInList(this.dataModelResult.listItems,this.tableRowSelected),s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(en,{height:"90%",panelClass:s,data:{id:this.tableRowSelected.id,perviousItem:t,nextItem:n}}).afterClosed().subscribe(_=>{_&&_.dialogChangedDate&&_.onActionOpenItem&&_.onActionOpenItem.id.length>0&&this.onActionButtonQuickViewRow(_.onActionOpenItem)})}onActionButtonResponsibleUserlistView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;var n="";this.publicHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(dn,{height:"90%",panelClass:n,enterAnimationDuration:L.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:L.cmsViewConfig.exitAnimationDuration,data:{title:this.tableRowSelected.title,id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}};oi.\u0275fac=function(n){return new(n||oi)(E(jt),E(Mt),E(Jn),E(U),E(J),E(Nt),E(F),E(N),E(gi),E(K),E(bt),E(We),E(W),E(de))},oi.\u0275cmp=B({type:oi,selectors:[["app-estate-customer-order-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkPropertyId:"optionLinkPropertyId",optionLinkPropertyIdHaveHistory:"optionLinkPropertyIdHaveHistory"},standalone:!1,features:[oe],decls:160,vars:71,consts:[["caseCode",""],["tableSort","matSort"],["paginator",""],["CreatedYaer",""],["Partition",""],["Area",""],["SalePriceMin",""],["RentPriceMin",""],["DepositPriceMin",""],["PeriodPriceMin",""],["SalePriceMax",""],["RentPriceMax",""],["DepositPriceMax",""],["PeriodPriceMax",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],[1,"fa-light","fa-clapperboard-play","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],[1,"ntk-full-width"],["matInput","","name","filteModelContent.caseCode","type","text","step","1",3,"input","ngModelChange","ngModel","placeholder"],["matPrefix","","matPrefix","","mat-icon-button","","aria-label","Clear"],["matPrefix",""],["matSuffix","",1,"info-field-icon"],[1,"info-field-text"],["cms-body",""],["matSort","","multiTemplateDataRows","",1,"ntk-cms-html-table",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","scoreRushToBuy"],["matColumnDef","scorePurchaseDecision"],["matColumnDef","scoreLiquidityPower"],["matColumnDef","scorePurchasingPower"],["matColumnDef","updatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","CaseCode"],["matColumnDef","Action"],["class","form-label",4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","QuickView"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["matPrefix","","matPrefix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"optionPlaceholder"],[3,"optionChange","optionPlaceholder"],[3,"optionChange","optionTypeView","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[1,"row",2,"direction","rtl"],[1,"col-md-6","col-sm-6","col-xs-9"],[1,"example-headers-align"],[3,"expanded"],["for","filteModelContent.createdYaer",1,"color-highlight"],["matInput","","name","filteModelContent.createdYaer","type","number","id","filteModelContent.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.partition",1,"color-highlight"],["matInput","","name","filteModelContent.partition","type","number","id","filteModelContent.partition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.area",1,"color-highlight"],["matInput","","name","filteModelContent.area","type","text","currencyMask","","pattern","(d{3})","step","10","id","filteModelContent.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.salePriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.salePriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.salePriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.rentPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.rentPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.rentPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.depositPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.depositPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.depositPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.periodPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.periodPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.periodPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.salePriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.salePriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.salePriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.rentPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.rentPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.rentPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.depositPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.depositPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.depositPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.periodPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.periodPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.periodPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],[3,"opened","expanded"],[2,"width","100px"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionRequired","optionLabel"],[3,"modelChange","model","optionRequired","optionLabel"],[3,"modelChange","model"],[3,"modelChange","model","optionRequired"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header","",1,"form-label"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"form-label"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"input-Mobile"],[1,"col-form-label"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(n,t){if(n&1){let s=M();r(0,"app-cms-html-list",15),P("optionActionGuideNoticeDisplayChange",function(_){return m(s),A(t.viewGuideNotice,_)||(t.viewGuideNotice=_),u(_)}),y("optionOnActionButtonMemoRow",function(){return m(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(s),u(t.onActionButtonExport())}),I(1,16),r(2,"app-estate-customer-category-tree",17),y("optionChange",function(_){return m(s),u(t.onActionSelectorSelect(_))}),a(),w(),ue(3,18)(4,19),I(5,20),r(6,"a",21),y("click",function(){return m(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),S(7,"i",22),a(),r(8,"a",21),y("click",function(){return m(s),u(t.onActionButtonReload())}),S(9,"i",23),a(),r(10,"a",24),y("click",function(){return m(s),u(t.onActionGridExpandRows(!0))}),S(11,"i",25),a(),r(12,"a",24),y("click",function(){return m(s),u(t.onActionGridExpandRows(!1))}),S(13,"i",26),a(),w(),I(14,27),r(15,"a",28),y("click",function(){return m(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(16,"mat-slide-toggle",29),c(17),f(18,"translate"),a(),r(19,"a",28),y("click",function(){return m(s),u(t.onActionButtonStatist())}),S(20,"mat-slide-toggle",29),c(21),f(22,"translate"),a(),v(23,pl,4,4,"a",30),w(),I(24,31),v(25,ml,7,3,"div",32),w(),I(26,33),r(27,"div",32)(28,"a",21),y("click",function(){return m(s),u(t.onActionButtonQuickViewRow(t.tableRowSelected))}),S(29,"i",34)(30,"br"),a(),r(31,"p",35),c(32),f(33,"translate"),a()(),v(34,ul,7,3,"div",32),v(35,fl,7,3,"div",32),v(36,_l,7,3,"div",32),r(37,"div",32)(38,"a",24),y("click",function(){return m(s),u(t.onActionButtonQuickHistoryAddRow(t.tableRowSelected))}),S(39,"i",36)(40,"br"),a(),r(41,"p",35),c(42),f(43,"translate"),a()(),r(44,"div",32)(45,"a",24),y("click",function(_){return m(s),u(t.onActionButtonHistoryRow(t.tableRowSelected,_))}),S(46,"i",36)(47,"br"),a(),r(48,"p",35),c(49),f(50,"translate"),a()(),r(51,"div",32)(52,"a",24),y("click",function(_){return m(s),u(t.onActionButtonContentList(t.tableRowSelected,_))}),S(53,"i",37)(54,"br"),a(),r(55,"p",35),c(56),f(57,"translate"),a()(),r(58,"div",32)(59,"a",24),y("click",function(){return m(s),u(t.onActionButtonOpenCustomerOrder(t.tableRowSelected))}),S(60,"i",38)(61,"br"),a(),r(62,"p",35),c(63),f(64,"translate"),a()(),r(65,"div",32)(66,"a",21),y("click",function(){return m(s),u(t.onActionButtonLinkTo(t.tableRowSelected))}),S(67,"i",39)(68,"br"),a(),r(69,"p",35),c(70),f(71,"translate"),a()(),r(72,"div",32)(73,"a",21),y("click",function(){return m(s),u(t.onActionButtonResponsibleUserlistView(t.tableRowSelected))}),S(74,"i",39)(75,"br"),a(),r(76,"p",35),c(77),f(78,"translate"),a()(),w(),I(79,40),r(80,"app-cms-search-list",41),P("optionsChange",function(_){return m(s),A(t.optionsSearch,_)||(t.optionsSearch=_),u(_)}),S(81,"hr"),r(82,"p"),c(83),f(84,"translate"),a(),r(85,"mat-form-field",42)(86,"mat-label"),c(87),a(),r(88,"input",43,0),y("input",function(_){return m(s),u(t.onSearchCaseCodeChange(_.target.value))}),P("ngModelChange",function(_){return m(s),A(t.filteModelContent.caseCode,_)||(t.filteModelContent.caseCode=_),u(_)}),a(),v(90,Cl,2,0,"mat-icon",44),r(91,"mat-icon",45),c(92," mode_edit"),a(),r(93,"mat-hint")(94,"mat-icon",46),c(95),f(96,"translate"),a(),r(97,"strong",47),c(98),a()()(),v(99,Gl,44,35,"div"),a(),r(100,"app-cms-statist-list",41),P("optionsChange",function(_){return m(s),A(t.optionsStatist,_)||(t.optionsStatist=_),u(_)}),a(),w(),I(101,48),r(102,"mat-table",49,1),y("matSortChange",function(){m(s);let _=k(103);return u(t.onTableSortData(_))}),I(104,50),x(105,Ul,3,3,"mat-header-cell",51)(106,Wl,3,0,"mat-cell",52),w(),I(107,53),x(108,ql,2,1,"mat-header-cell",54)(109,jl,2,1,"mat-cell",52),w(),I(110,55),x(111,Ql,2,1,"mat-header-cell",54)(112,$l,4,5,"mat-cell",52),w(),I(113,56),x(114,zl,2,1,"mat-header-cell",54)(115,Kl,5,7,"mat-cell",57),w(),I(116,58),x(117,Jl,2,1,"mat-header-cell",54)(118,Xl,2,1,"mat-cell",52),w(),I(119,59),x(120,Zl,2,1,"mat-header-cell",54)(121,es,3,3,"mat-cell",52),w(),I(122,60),x(123,ts,2,1,"mat-header-cell",54)(124,is,2,2,"mat-cell",57),w(),I(125,61),x(126,ns,2,1,"mat-header-cell",54)(127,os,2,2,"mat-cell",57),w(),I(128,62),x(129,rs,2,1,"mat-header-cell",54)(130,as,2,2,"mat-cell",57),w(),I(131,63),x(132,ls,2,1,"mat-header-cell",54)(133,ss,2,2,"mat-cell",57),w(),I(134,64),x(135,cs,2,1,"mat-header-cell",54)(136,ds,3,3,"mat-cell",65),w(),I(137,66),x(138,ps,2,1,"mat-header-cell",54)(139,ms,2,1,"mat-cell",52),w(),I(140,67),x(141,us,3,3,"mat-header-cell",68)(142,fs,6,1,"mat-cell",69),w(),I(143,70),x(144,_s,3,3,"mat-header-cell",54)(145,Cs,4,0,"mat-cell",52),w(),I(146,71),x(147,hs,3,3,"mat-header-cell",54)(148,gs,4,0,"mat-cell",52),w(),I(149,72),x(150,Ss,2,1,"mat-cell",52),w(),I(151,73),x(152,Ms,32,17,"mat-cell",52),w(),x(153,Is,1,0,"mat-header-row",74)(154,ws,1,2,"mat-row",75)(155,Ts,1,2,"mat-row",76)(156,xs,1,5,"mat-row",77),a(),w(),I(157,78),r(158,"mat-paginator",79,2),y("page",function(_){return m(s),u(t.onTablePageingData(_))}),a(),w(),a()}n&2&&(h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","customerorder.content.list"),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",t.tokenHelper.isAdminSite&&t.optionloadByRoute)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),O("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),h("checked",t.optionsSearch.data.show),o(),g("",C(18,46,"ACTION.SEARCH")," "),o(3),h("checked",t.optionsStatist.data.show),o(),g("",C(22,48,"ACTION.STATIST")," "),o(2),b(!t.requestLinkPropertyId||t.requestLinkPropertyId.length===0?23:-1),o(2),b(t.optionloadByRoute&&t.dataModelResult.access.accessAddRow?25:-1),o(7),g(" ",C(33,50,"ACTION.QUICK_VIEW")," "),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?34:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.tableRowSelected!=null&&t.tableRowSelected.id)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?35:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?36:-1),o(6),g(" ",C(43,52,"ACTION.HISTORY_ADD")," "),o(7),g(" ",C(50,54,"ACTION.HISTORY_LIST")," "),o(7),g(" ",C(57,56,"ACTION.THEPROPERTY_INCLUDESVIEWS")," "),o(7),g(" ",C(64,58,"ACTION.DISPLAYCLIENTPAGE")," "),o(7),g(" ",C(71,60,"TITLE.LINKTO")," "),o(7),g(" ",C(78,62,"TITLE.ResponsibleUsers")," "),o(3),R("options",t.optionsSearch),o(3),T(C(84,64,"MESSAGE.Content_of_your_choice_to_display")),o(4),T(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle),o(),h("placeholder",D(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle)),R("ngModel",t.filteModelContent.caseCode),o(2),b(t.filteModelContent.caseCode?90:-1),o(5),T(C(96,66,"TITLE.info")),o(3),T(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldDescription),o(),b(!t.filteModelContent.caseCode||t.filteModelContent.caseCode.length===0?99:-1),o(),R("options",t.optionsStatist),o(2),h("dataSource",t.tableSource),o(51),h("matHeaderRowDef",t.tabledisplayedColumns),o(),h("matRowDefColumns",$(68,sl)),o(),h("matRowDefColumns",t.tabledisplayedColumns),o(),h("matRowDefColumns",$(69,cl)),o(2),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",$(70,dl)))},dependencies:[re,He,se,Ti,z,oo,ce,be,vo,ho,go,So,Eo,yo,Ai,Ri,ao,lo,ve,pe,Y,lt,st,ct,dt,pt,mt,ut,_t,St,Ct,ft,yt,ht,gt,Et,vt,ot,wt,Tt,on,qo,$i,xt,wo,To,xo,Ro,Ao,Po,Rt,At,ji,_n,rn,an,ln,Be,G,Fi,zt,qe,Ni,Pt,Dt],encapsulation:2});var Xo=oi;var As=["vform"],Ps=i=>({direction:i});function Ds(i,l){i&1&&S(0,"i",15)}function ks(i,l){i&1&&S(0,"i",16)}function Ls(i,l){i&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),f(4,"translate"),a()()),i&2&&(o(3),T(C(4,1,"MESSAGE.required")))}function Vs(i,l){i&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),f(4,"translate"),a()()),i&2&&(o(3),T(C(4,1,"MESSAGE.required")))}function Os(i,l){i&1&&(r(0,"mat-error"),c(1," DescriptionHidden is "),r(2,"strong"),c(3),f(4,"translate"),a()()),i&2&&(o(3),T(C(4,1,"MESSAGE.required")))}function Hs(i,l){if(i&1){let e=M();r(0,"div",12)(1,"label",26),c(2),a(),r(3,"textarea",27,3),P("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),u(t)}),a(),r(5,"em"),c(6),a(),v(7,Os,5,3,"mat-error"),a()}if(i&2){let e=k(4),n=d();o(2),T(n.fieldsInfo.descriptionHidden==null?null:n.fieldsInfo.descriptionHidden.fieldTitle),o(),h("placeholder",D(n.fieldsInfo.descriptionHidden==null?null:n.fieldsInfo.descriptionHidden.fieldTitle)),R("ngModel",n.dataModel.descriptionHidden),h("disabled",!(n.fieldsInfo.descriptionHidden!=null&&n.fieldsInfo.descriptionHidden.accessEditField)),o(3),g("",e.value.length," / 500"),o(),b(e.errors!=null&&e.errors.required?7:-1)}}function Bs(i,l){if(i&1){let e=M();r(0,"app-cms-enum-x-selector",28),P("modelChange",function(t){m(e);let s=d();return A(s.dataModel.activityStatus,t)||(s.dataModel.activityStatus=t),u(t)}),a()}if(i&2){let e=d();h("optionDataListResult",e.dataModelEstateActivityStatusEnumResult),R("model",e.dataModel.activityStatus),h("optionDisabled",!1)("optionLabel",e.fieldsInfo.activityStatus==null?null:e.fieldsInfo.activityStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Fs(i,l){if(i&1){let e=M();r(0,"app-estate-account-expert-selector",20),f(1,"translate"),y("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorEstateUser(t))}),a()}if(i&2){let e=d();h("optionSelectForce",e.dataModel.linkEstateExpertId)("optionPlaceholder",C(1,2,"TITLE.USER"))}}function Ns(i,l){if(i&1){let e=M();r(0,"app-estate-account-agency-selector",29),f(1,"translate"),y("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorEstateAgency(t))}),a()}if(i&2){let e=d();h("optionSelectForce",e.dataModel.linkEstateAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",C(1,3,"TITLE.Property_agency"))}}function Gs(i,l){if(i&1){let e=M();r(0,"app-estate-property-selector",20),f(1,"translate"),y("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorProperty(t))}),a()}if(i&2){let e=d();h("optionSelectForce",e.dataModel.linkPropertyId)("optionPlaceholder",C(1,2,"TITLE.Property"))}}function Us(i,l){if(i&1){let e=M();r(0,"app-estate-customer-order-selector",20),f(1,"translate"),y("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorCustomerOrderId(t))}),a()}if(i&2){let e=d();h("optionSelectForce",e.dataModel.linkCustomerOrderId)("optionPlaceholder",C(1,2,"TITLE.Customer"))}}function Ws(i,l){if(i&1){let e=M();r(0,"div",23)(1,"label",30),c(2),a(),r(3,"input",31),P("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.appointmentDateFrom,t)||(s.dataModel.appointmentDateFrom=t),u(t)}),a(),S(4,"mat-datepicker-toggle",32)(5,"mat-datepicker",33,4),a()}if(i&2){let e=k(6),n=d();o(2),T(n.fieldsInfo.appointmentDateFrom==null?null:n.fieldsInfo.appointmentDateFrom.fieldTitle),o(),h("matDatepicker",e),R("ngModel",n.dataModel.appointmentDateFrom),h("formControl",n.date),o(),h("for",e)}}function qs(i,l){if(i&1){let e=M();r(0,"div",23)(1,"label",34),c(2),a(),r(3,"input",35),P("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.appointmentDateTo,t)||(s.dataModel.appointmentDateTo=t),u(t)}),a(),S(4,"mat-datepicker-toggle",32)(5,"mat-datepicker",33,5),a()}if(i&2){let e=k(6),n=d();o(2),T(n.fieldsInfo.appointmentDateTo==null?null:n.fieldsInfo.appointmentDateTo.fieldTitle),o(),h("matDatepicker",e),R("ngModel",n.dataModel.appointmentDateTo),h("formControl",n.date),o(),h("for",e)}}function js(i,l){if(i&1){let e=M();r(0,"div",25)(1,"button",36),y("click",function(){m(e);let t=d();return u(t.onFormCancel())}),S(2,"i",37),c(3),f(4,"translate"),a(),r(5,"button",38),S(6,"i",39),c(7),f(8,"translate"),a()()}if(i&2){d();let e=k(10);o(3),g(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),g(" ",C(8,5,"ACTION.SAVE")," ")}}var ri=class ri extends Qi{constructor(e,n,t,s,p,_,H,Z,ne,Pe,De,ke,Qe){super(s,new qt,ke,ne);this.data=e;this.dialogRef=n;this.coreEnumService=t;this.estatePropertyHistoryService=s;this.cmsToastrService=p;this.estateEnumService=_;this.cdr=H;this.tokenHelper=Z;this.translate=ne;this.cmsStoreService=Pe;this.pageInfo=De;this.publicHelper=ke;this.dialog=Qe;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModel=new qt;this.dataFileModelFiles=new Map;this.formInfo=new ge;this.fileManagerOpenForm=!1;this.date=new Ht(new Date);this.dataModelEstateActivityStatusEnumResult=new Q;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getEstateActivityStatusEnum()}getEstateActivityStatusEnum(){this.estateEnumService.ServiceEstateActivityStatusEnum().subscribe({next:e=>{this.dataModelEstateActivityStatusEnumResult=e}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.estatePropertyHistoryService.setAccessLoad(),this.estatePropertyHistoryService.setAccessDataType(ze.Editor),this.estatePropertyHistoryService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((t,s)=>{let p="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIdsSrc.length&&(p=this.dataModel.linkFileIdsSrc[s]),this.dataFileModelFiles.set(+t,p)})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="",this.dataFileModelFiles){let n=Array.from(this.dataFileModelFiles.keys());n&&n.length>0&&(this.dataModel.linkFileIds=n.join(","))}let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.estatePropertyHistoryService.ServiceEdit(this.dataModel).subscribe({next:n=>{this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:n=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,e&&e.id?.length>0&&(this.dataModel.linkEstateExpertId=e.id)}onActionSelectorProperty(e){this.dataModel.linkPropertyId=null,e&&e.id?.length>0&&(this.dataModel.linkPropertyId=e.id)}onActionSelectorCustomerOrderId(e){this.dataModel.linkCustomerOrderId=null,e&&e.id?.length>0&&(this.dataModel.linkCustomerOrderId=e.id)}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorSelect(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}this.dataModel.linkActivityTypeId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ri.\u0275fac=function(n){return new(n||ri)(E(he),E(Ce),E(le),E($t),E(U),E(Qt),E(F),E(J),E(N),E(K),E(We),E(W),E(de))},ri.\u0275cmp=B({type:ri,selectors:[["app-estate-property-history-edit"]],viewQuery:function(n,t){if(n&1&&Le(As,5),n&2){let s;Ve(s=Oe())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:45,vars:41,consts:[["vform","ngForm"],["Title",""],["Description",""],["DescriptionHidden",""],["AppointmentDateFrom",""],["AppointmentDateTo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","1000","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionSelectForce","optionPlaceholder"],[3,"optionSelectForce","optionSelectUserId","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","1000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionSelectUserId","optionPlaceholder"],["for","dataModel.appointmentDateFrom",1,"color-highlight"],["matInput","","name","dataModel.appointmentDateFrom","id","dataModel.appointmentDateFrom",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","formControl"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.appointmentDateTo",1,"color-highlight"],["matInput","","name","dataModel.appointmentDateTo","id","dataModel.appointmentDateTo",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","formControl"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,t){if(n&1){let s=M();r(0,"div",6),S(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),c(4),a(),r(5,"p"),c(6),f(7,"translate"),a(),S(8,"app-cms-form-result-message",10),r(9,"form",11,0),y("ngSubmit",function(){return m(s),u(t.onFormSubmit())}),r(11,"div",12)(12,"label",13),c(13),a(),r(14,"input",14,1),P("ngModelChange",function(_){return m(s),A(t.dataModel.title,_)||(t.dataModel.title=_),u(_)}),a(),v(16,Ds,1,0,"i",15),v(17,ks,1,0,"i",16),r(18,"em"),c(19),a(),v(20,Ls,5,3,"mat-error"),a(),r(21,"div",12)(22,"label",17),c(23),a(),r(24,"textarea",18,2),P("ngModelChange",function(_){return m(s),A(t.dataModel.description,_)||(t.dataModel.description=_),u(_)}),c(26,"          "),a(),r(27,"em"),c(28),a(),v(29,Vs,5,3,"mat-error"),a(),v(30,Hs,8,7,"div",12),v(31,Bs,1,6,"app-cms-enum-x-selector",19),r(32,"app-estate-activity-type-selector",20),f(33,"translate"),y("optionChange",function(_){return m(s),u(t.onActionSelectorSelect(_))}),a(),v(34,Fs,2,4,"app-estate-account-expert-selector",21),v(35,Ns,2,5,"app-estate-account-agency-selector",22),v(36,Gs,2,4,"app-estate-property-selector",21),v(37,Us,2,4,"app-estate-customer-order-selector",21),v(38,Ws,7,5,"div",23),v(39,qs,7,5,"div",23),r(40,"p"),c(41),f(42,"translate"),a(),r(43,"app-cms-files-selector",24),P("dataFileModelChange",function(_){return m(s),A(t.dataFileModelFiles,_)||(t.dataFileModelFiles=_),u(_)}),a(),v(44,js,9,7,"div",25),a()()()}if(n&2){let s=k(15),p=k(25);o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",C(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h("formInfo",t.formInfo),o(),h("ngStyle",fe(39,Ps,t.tokenInfo.access.direction)),o(4),T(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),h("placeholder",D(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),R("ngModel",t.dataModel.title),o(2),b(s.value?-1:16),o(),b(s.value?17:-1),o(2),g("",s.value.length," / 100"),o(),b(s.errors!=null&&s.errors.required?20:-1),o(3),T(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),h("placeholder",D(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),R("ngModel",t.dataModel.description),o(4),g("",p.value.length," / 500"),o(),b(p.errors!=null&&p.errors.required?29:-1),o(),b(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField?30:-1),o(),b(t.fieldsInfo.activityStatus!=null&&t.fieldsInfo.activityStatus.accessWatchField?31:-1),o(),h("optionSelectForce",t.dataModel.linkActivityTypeId)("optionPlaceholder",C(33,35,"TITLE.Category")),o(2),b(t.fieldsInfo.linkEstateExpertId!=null&&t.fieldsInfo.linkEstateExpertId.accessWatchField?34:-1),o(),b(t.fieldsInfo.linkEstateAgencyId!=null&&t.fieldsInfo.linkEstateAgencyId.accessWatchField?35:-1),o(),b(t.fieldsInfo.linkPropertyId!=null&&t.fieldsInfo.linkPropertyId.accessWatchField?36:-1),o(),b(t.fieldsInfo.linkCustomerOrderId!=null&&t.fieldsInfo.linkCustomerOrderId.accessWatchField?37:-1),o(),b(t.fieldsInfo.appointmentDateFrom!=null&&t.fieldsInfo.appointmentDateFrom.accessWatchField?38:-1),o(),b(t.fieldsInfo.appointmentDateTo!=null&&t.fieldsInfo.appointmentDateTo.accessWatchField?39:-1),o(2),T(C(42,37,"TITLE.List_of_attached_files")),o(2),R("dataFileModel",t.dataFileModelFiles),h("openDirectUploadView",!0),o(),b(t.formInfo.submitButtonEnabled?44:-1)}},dependencies:[He,Ne,se,z,Ee,Ge,rt,at,ce,Fe,xi,po,mo,Pi,Ue,ve,Y,Io,j,Se,Bo,Fo,No,tn,nn,Go,G],encapsulation:2});var hi=ri;var Qs=()=>["expandedTitle"],$s=()=>["expandedDetail"],zs=()=>[5,10,20,100],er=i=>({display:i});function Ys(i,l){i&1&&(r(0,"mat-header-cell"),c(1),f(2,"translate"),a()),i&2&&(o(),g(" ",C(2,1,"TITLE.MENU")," "))}function Ks(i,l){if(i&1){let e=M();r(0,"mat-cell")(1,"button",56),y("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",57),a()()}}function Js(i,l){i&1&&(r(0,"mat-header-cell",58),c(1),f(2,"translate"),a()),i&2&&(o(),g(" ",C(2,1,"TITLE.PICTURE")," "))}function Xs(i,l){if(i&1&&(S(0,"img",59),f(1,"cmsthumbnail")),i&2){let e=d().$implicit;h("src",D(C(1,2,e.linkMainImageIdSrc)),ie)}}function Zs(i,l){if(i&1&&(r(0,"mat-cell"),v(1,Xs,2,4,"img",59),a()),i&2){let e=l.$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function ec(i,l){if(i&1&&(r(0,"mat-header-cell",58),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function tc(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),g(" ",e.id," ")}}function ic(i,l){if(i&1&&(r(0,"mat-header-cell",58),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function nc(i,l){if(i&1&&(r(0,"mat-cell"),c(1),f(2,"cmssiteinfo"),f(3,"async"),a()),i&2){let e=l.$implicit;o(),g(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function oc(i,l){if(i&1&&(r(0,"mat-header-cell",58),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function rc(i,l){if(i&1&&S(0,"select",61),i&2){let e=d().$implicit,n=d();h("contentService",n.contentService)("row",e)("ngStyle",fe(3,er,e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)?"":"none"))}}function ac(i,l){if(i&1&&(r(0,"mat-cell",60),f(1,"statusCellClass"),S(2,"i",60),f(3,"statusIconClass"),v(4,rc,1,5,"select",61),a()),i&2){let e=l.$implicit,n=d();h("ngClass",C(1,3,e.recordStatus)),o(2),h("ngClass",C(3,5,e.recordStatus)),o(2),b(!(n.dataModelResult==null||n.dataModelResult.access==null)&&n.dataModelResult.access.accessEditRow?4:-1)}}function lc(i,l){if(i&1&&(r(0,"mat-header-cell",58),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.name==null?null:e.fieldsInfo.name.fieldTitle," ")}}function sc(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),g(" ",e.name," ")}}function cc(i,l){if(i&1&&(r(0,"mat-header-cell",58),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.lastName==null?null:e.fieldsInfo.lastName.fieldTitle," ")}}function dc(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),g(" ",e.lastName," ")}}function pc(i,l){if(i&1&&(r(0,"mat-header-cell",58),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.companyName==null?null:e.fieldsInfo.companyName.fieldTitle," ")}}function mc(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),g(" ",e.companyName," ")}}function uc(i,l){if(i&1&&(r(0,"mat-header-cell",58),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," ")}}function fc(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),g(" ",e.email," ")}}function _c(i,l){if(i&1&&(r(0,"mat-header-cell",58),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.mobile==null?null:e.fieldsInfo.mobile.fieldTitle," ")}}function Cc(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),g(" ",e.mobile," ")}}function hc(i,l){if(i&1&&(r(0,"mat-header-cell",58),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function gc(i,l){if(i&1&&(r(0,"mat-cell"),c(1),f(2,"localeDate"),a()),i&2){let e=l.$implicit;o(),g(" ",C(2,1,e.createdDate)," ")}}function Sc(i,l){if(i&1&&(r(0,"mat-header-cell",58),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function yc(i,l){if(i&1&&(r(0,"mat-cell"),c(1),f(2,"localeDate"),a()),i&2){let e=l.$implicit;o(),g(" ",C(2,1,e.updatedDate)," ")}}function Ec(i,l){i&1&&(r(0,"mat-header-cell"),c(1),f(2,"translate"),a()),i&2&&(o(),g(" ",C(2,1,"TITLE.OPTION")," "))}function vc(i,l){if(i&1&&(r(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),i&2){let e=k(5);o(),h("matMenuTriggerFor",e)}}function bc(i,l){if(i&1&&(r(0,"mat-cell"),c(1),f(2,"translate"),f(3,"localeDate"),a()),i&2){let e=l.$implicit;o(),V(" ",C(2,2,"TITLE.CreationDate")," : ",C(3,4,e.createdDate)," ")}}function Mc(i,l){if(i&1&&(S(0,"img",64),f(1,"cmsthumbnail")),i&2){let e=d().$implicit;h("src",D(C(1,2,e.linkMainImageIdSrc)),ie)}}function Ic(i,l){if(i&1){let e=M();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),v(5,Mc,2,4,"img",64),a(),r(6,"th")(7,"span",65),y("click",function(){m(e);let t=d();return u(t.onActionCopied())}),S(8,"i",66),a(),c(9),a()(),r(10,"tr"),S(11,"td"),r(12,"td"),c(13),a()(),r(14,"tr"),S(15,"td"),r(16,"td"),c(17),a()(),r(18,"tr"),S(19,"td"),r(20,"td"),c(21),a()(),r(22,"tr"),S(23,"td"),r(24,"td"),c(25),a()(),r(26,"tr"),S(27,"td"),r(28,"td"),c(29),a()(),r(30,"tr"),S(31,"td"),r(32,"td"),c(33),a()(),r(34,"tr"),S(35,"td")(36,"td"),a()()()()}if(i&2){let e=l.$implicit,n=d();o(5),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),h("cdkCopyToClipboard",e.id),o(2),g(" ",e.id," "),o(4),V(" ",n.fieldsInfo.username==null?null:n.fieldsInfo.username.fieldTitle," : ",e.username," "),o(4),V(" ",n.fieldsInfo.name==null?null:n.fieldsInfo.name.fieldTitle," : ",e.name," "),o(4),V(" ",n.fieldsInfo.lastName==null?null:n.fieldsInfo.lastName.fieldTitle," : ",e.lastName," "),o(4),V(" ",n.fieldsInfo.mobile==null?null:n.fieldsInfo.mobile.fieldTitle," : ",e.mobile," "),o(4),V(" ",n.fieldsInfo.email==null?null:n.fieldsInfo.email.fieldTitle," : ",e.email," "),o(4),V(" ",n.fieldsInfo.companyName==null?null:n.fieldsInfo.companyName.fieldTitle," : ",e.companyName," ")}}function wc(i,l){i&1&&S(0,"mat-header-row")}function Tc(i,l){if(i&1){let e=M();r(0,"mat-row",67),y("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),a()}if(i&2){let e=l.$implicit,n=l.dataIndex,t=d();O("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function xc(i,l){if(i&1){let e=M();r(0,"mat-row",68),y("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),a()}if(i&2){let e=l.$implicit,n=l.dataIndex,t=d();O("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function Rc(i,l){if(i&1){let e=M();r(0,"mat-row",69),y("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),a()}if(i&2){let e=l.$implicit,n=l.dataIndex,t=d();O("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),h("ngStyle",fe(7,er,e.expanded===!0?"":"none"))}}function Ac(i,l){if(i&1){let e=M();r(0,"div",55)(1,"button",70),y("click",function(){m(e);let t=d();return u(t.onFormCancel())}),S(2,"i",71),c(3),f(4,"translate"),a()()}i&2&&(o(3),g(" ",C(4,1,"ACTION.CANCEL")," "))}var ai=class ai extends It{constructor(e,n,t,s,p,_,H,Z,ne,Pe,De,ke){super(t,new Ut,De,p,Z);this.data=e;this.dialogRef=n;this.contentService=t;this.cmsToastrService=s;this.tokenHelper=p;this.router=_;this.cdr=H;this.translate=Z;this.cmsStoreService=ne;this.pageInfo=Pe;this.publicHelper=De;this.dialog=ke;this.requestTitle="";this.requestPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.tablePropertySelected=[];this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.formInfo=new ge;this.optionsSearch=new zi;this.optionsStatist=new Yi;this.tokenInfo=new Ei;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","Name","LastName","CompanyName","email","mobile","action_menu"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","Name","LastName","action_menu"];this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(e.title&&(this.requestTitle=e.title+""),e.id&&(this.requestPropertyId=e.id+"")),this.optionsSearch.parentMethods={onSubmit:Qe=>this.onSubmitOptionsSearch(Qe)}}ngOnInit(){this.translate.get("TITLE.QUICK_VIEW").subscribe(e=>{this.formInfo.formTitle=e}),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>te(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ut);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(n.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllResponsibleUserId(this.requestPropertyId,n).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ai.\u0275fac=function(n){return new(n||ai)(E(he),E(Ce),E($t),E(U),E(J),E(Nt),E(F),E(N),E(K),E(We),E(W),E(de))},ai.\u0275cmp=B({type:ai,selectors:[["app-estate-property-history-responsible-user-list"]],standalone:!1,features:[oe],decls:83,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","LastName"],["matColumnDef","CompanyName"],["matColumnDef","email"],["matColumnDef","mobile"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){if(n&1){let s=M();r(0,"div",3),S(1,"app-progress-spinner",4),r(2,"div",5),c(3),a(),r(4,"div",6)(5,"app-cms-html-list",7),P("optionActionGuideNoticeDisplayChange",function(_){return m(s),A(t.viewGuideNotice,_)||(t.viewGuideNotice=_),u(_)}),y("optionOnActionButtonMemoRow",function(){return m(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(s),u(t.onActionButtonPrintRow())}),ue(6,8)(7,9)(8,10),I(9,11),r(10,"a",12),y("click",function(){return m(s),u(t.onActionButtonReload())}),S(11,"i",13),a(),r(12,"a",14),y("click",function(){return m(s),u(t.onActionGridExpandRows(!0))}),S(13,"i",15),a(),r(14,"a",14),y("click",function(){return m(s),u(t.onActionGridExpandRows(!1))}),S(15,"i",16),a(),w(),I(16,17),r(17,"a",18)(18,"mat-slide-toggle",19),P("ngModelChange",function(_){return m(s),A(t.optionsSearch.data.show,_)||(t.optionsSearch.data.show=_),u(_)}),a(),c(19),f(20,"translate"),a(),w(),ue(21,20)(22,21),I(23,22),r(24,"app-cms-search-list",23),P("optionsChange",function(_){return m(s),A(t.optionsSearch,_)||(t.optionsSearch=_),u(_)}),a(),r(25,"app-cms-statist-list",23),P("optionsChange",function(_){return m(s),A(t.optionsStatist,_)||(t.optionsStatist=_),u(_)}),a(),w(),I(26,24),r(27,"mat-table",25,0),y("matSortChange",function(){m(s);let _=k(28);return u(t.onTableSortData(_))}),I(29,26),x(30,Ys,3,3,"mat-header-cell",27)(31,Ks,3,0,"mat-cell",28),w(),I(32,29),x(33,Js,3,3,"mat-header-cell",30)(34,Zs,2,1,"mat-cell",28),w(),I(35,31),x(36,ec,2,1,"mat-header-cell",30)(37,tc,2,1,"mat-cell",28),w(),I(38,32),x(39,ic,2,1,"mat-header-cell",30)(40,nc,4,5,"mat-cell",28),w(),I(41,33),x(42,oc,2,1,"mat-header-cell",30)(43,ac,5,7,"mat-cell",34),w(),I(44,35),x(45,lc,2,1,"mat-header-cell",30)(46,sc,2,1,"mat-cell",28),w(),I(47,36),x(48,cc,2,1,"mat-header-cell",30)(49,dc,2,1,"mat-cell",28),w(),I(50,37),x(51,pc,2,1,"mat-header-cell",30)(52,mc,2,1,"mat-cell",28),w(),I(53,38),x(54,uc,2,1,"mat-header-cell",30)(55,fc,2,1,"mat-cell",28),w(),I(56,39),x(57,_c,2,1,"mat-header-cell",30)(58,Cc,2,1,"mat-cell",28),w(),I(59,40),x(60,hc,2,1,"mat-header-cell",30)(61,gc,3,3,"mat-cell",28),w(),I(62,41),x(63,Sc,2,1,"mat-header-cell",30)(64,yc,3,3,"mat-cell",28),w(),I(65,42),x(66,Ec,3,3,"mat-header-cell",27)(67,vc,6,1,"mat-cell",43),w(),I(68,44),x(69,bc,4,6,"mat-cell",28),w(),I(70,45),x(71,Ic,37,15,"mat-cell",28),w(),x(72,wc,1,0,"mat-header-row",46)(73,Tc,1,6,"mat-row",47)(74,xc,1,6,"mat-row",48)(75,Rc,1,9,"mat-row",49),a(),w(),I(76,50),r(77,"mat-paginator",51,1),y("page",function(_){return m(s),u(t.onTablePageingData(_))}),a(),w(),a()(),r(79,"div",52),S(80,"app-cms-form-result-message",53),a(),r(81,"div",54),v(82,Ac,5,3,"div",55),a()()}n&2&&(o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(2),g(" ",t.formInfo.formTitle," "),o(2),h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.username==null?null:t.tableRowSelected.username.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.username:t.tableRowSelected==null?null:t.tableRowSelected.id),o(13),R("ngModel",t.optionsSearch.data.show),o(),g("",C(20,25,"ACTION.SEARCH")," "),o(5),R("options",t.optionsSearch),o(),R("options",t.optionsStatist),o(2),h("dataSource",t.tableSource),o(45),h("matHeaderRowDef",t.tabledisplayedColumns),o(),h("matRowDefColumns",$(27,Qs)),o(),h("matRowDefColumns",t.tabledisplayedColumns),o(),h("matRowDefColumns",$(28,$s)),o(2),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",$(29,zs)),o(3),h("formInfo",t.formInfo),o(2),b(t.formInfo.submitButtonEnabled?82:-1))},dependencies:[re,He,z,ce,be,pe,Y,lt,st,ct,dt,pt,mt,ut,_t,St,Ct,ft,yt,ht,gt,Et,vt,ot,wt,Tt,j,Se,xt,Rt,At,Be,G,zt,qe,Yt,Pt,Dt],encapsulation:2});var Cn=ai;function Pc(i,l){i&1&&S(0,"div",8)}function Dc(i,l){if(i&1){let e=M();r(0,"button",15),y("click",function(){m(e);let t=d();return u(t.onActionButtonLinkTo())}),r(1,"mat-icon"),c(2,"\u2197 "),a()()}}var li=class li{constructor(l,e,n,t,s,p,_,H,Z){this.headerService=l;this.publicHelper=e;this.cdr=n;this.cmsToastrService=t;this.translate=s;this.cmsStoreService=p;this.themeService=_;this.dialog=H;this.tokenHelper=Z;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new Q;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>te(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionButtonLinkTo(l=this.dataModelResult.item){if(!l||!l.id||l.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(l.recordStatus!=ye.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ji,{height:"90%",panelClass:e,enterAnimationDuration:L.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:L.cmsViewConfig.exitAnimationDuration,data:{title:l.title,urlViewContentQRCodeBase64:l.urlViewContentQRCodeBase64,urlViewContent:l.urlViewContent}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};li.\u0275fac=function(e){return new(e||li)(E(Kn),E(W),E(F),E(U),E(N),E(K),E(bt),E(de),E(J))},li.\u0275cmp=B({type:li,selectors:[["app-estate-property-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:34,vars:11,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td"],[1,"td","large-width"],[2,"clear","both"],[1,"td",2,"text-align","left"],["title","link to"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"divider","divider-margins"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0),S(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),c(10),f(11,"translate"),a()()(),v(12,Pc,1,0,"div",8),a(),r(13,"div",4)(14,"div",5)(15,"b"),c(16),a(),c(17,": "),a(),r(18,"div",9),c(19),a(),S(20,"div",8)(21,"div",10),a(),r(22,"div",4)(23,"div",5)(24,"b"),c(25),a(),c(26," : "),a(),r(27,"div",9),c(28),a(),r(29,"div",11)(30,"abbr",12),v(31,Dc,3,0,"button",13),a()(),S(32,"div",10),a()()()(),S(33,"div",14)),e&2&&(o(),h("optionsInfoAreaId",n.constructorInfoAreaId),o(5),h("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),T(C(11,9,"TITLE.Selected_Property")),o(2),b(!(n.dataModelResult==null||n.dataModelResult.item==null)&&n.dataModelResult.item.id?12:-1),o(4),g("",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," "),o(3),T(n.dataModelResult==null||n.dataModelResult.item==null?null:n.dataModelResult.item.id),o(6),T(n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle),o(3),T(n.dataModelResult==null||n.dataModelResult.item==null?null:n.dataModelResult.item.title),o(3),b(!(n.dataModelResult==null||n.dataModelResult.item==null)&&n.dataModelResult.item.id?31:-1))},dependencies:[pe,j,bo,G],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var hn=li;function Lc(i,l){if(i&1){let e=M();r(0,"button",14),y("click",function(){m(e);let t=d();return u(t.onActionAdd())}),c(1),f(2,"translate"),a()}i&2&&(o(),g(" ",C(2,1,"ACTION.ADD")," "))}function Vc(i,l){if(i&1){let e=M();r(0,"button",15),y("click",function(){m(e);let t=d();return u(t.onActionEdit())}),c(1),f(2,"translate"),a()}i&2&&(o(),g(" ",C(2,1,"ACTION.EDIT")," "))}function Oc(i,l){if(i&1){let e=M();r(0,"button",16),y("click",function(){m(e);let t=d();return u(t.onActionDelete())}),c(1),f(2,"translate"),a()}i&2&&(o(),g(" ",C(2,1,"ACTION.DELETE")," "))}function Hc(i,l){if(i&1){let e=M();r(0,"button",17),y("click",function(){m(e);let t=d();return u(t.onActionButtonReload())}),r(1,"mat-icon",18),f(2,"translate"),c(3,"refresh"),a()()}i&2&&(o(),h("title",D(C(2,2,"ACTION.RELOAD"))))}function Bc(i,l){if(i&1){let e=M();r(0,"mat-tree-node",19),S(1,"button",20),r(2,"span",21),y("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionSelect(t))}),c(3),a()()}if(i&2){let e=l.$implicit,n=d();O("ntk-tree-selected",(n.dataModelSelect==null||n.dataModelSelect.id==null?null:n.dataModelSelect.id.length)>0&&(n.dataModelSelect==null?null:n.dataModelSelect.id)===e.id),o(3),T(e.title)}}function Fc(i,l){if(i&1){let e=M();r(0,"mat-tree-node",22)(1,"button",23)(2,"mat-icon",24),c(3),a()(),r(4,"span",21),y("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionSelect(t))}),c(5),a()()}if(i&2){let e=l.$implicit,n=d(),t=k(12);O("ntk-tree-selected",(n.dataModelSelect==null||n.dataModelSelect.id==null?null:n.dataModelSelect.id.length)>0&&(n.dataModelSelect==null?null:n.dataModelSelect.id)===e.id),h("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),Lt("type","button")("aria-label","Toggle "+e.title),o(2),g(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),T(e.title)}}var si=class si{constructor(l,e,n,t,s,p,_,H,Z,ne,Pe){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=n;this.cmsConfirmationDialogService=t;this.themeService=s;this.dialog=p;this.cdr=_;this.publicHelper=H;this.translate=Z;this.tokenHelper=ne;this.cmsStoreService=Pe;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new yn;this.dataModelResult=new Q;this.filterModel=new ae;this.dataSource=new Hi;this.optionChange=new Ft;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!1;this.childrenAccessor=l=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>te(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){l&&this.dataModelSelect&&l.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new yn,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){var l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(Qo,{height:"90%",panelClass:l,enterAnimationDuration:L.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:L.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open($o,{height:"90%",panelClass:e,enterAnimationDuration:L.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:L.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="",n="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(t=>{e=t["MESSAGE.Please_Confirm"],n=t["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) ",this.cmsConfirmationDialogService.confirm(e,n).then(s=>{if(s){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(_=>{this.publicHelper.processService.processStart(p,_,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:_=>{_.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})})}};si.\u0275fac=function(e){return new(e||si)(E(U),E(le),E(wi),E(Mt),E(bt),E(de),E(F),E(W),E(N),E(J),E(K))},si.\u0275cmp=B({type:si,selectors:[["app-estate-activity-type-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,n){e&1&&(r(0,"app-cms-html-tree",1),I(1,2),c(2),f(3,"translate"),w(),I(4,3),v(5,Lc,3,3,"button",4),v(6,Vc,3,3,"button",5),v(7,Oc,3,3,"button",6),v(8,Hc,4,4,"button",7),w(),I(9,8),S(10,"app-progress-spinner",9),r(11,"mat-tree",10,0),x(13,Bc,4,3,"mat-tree-node",11)(14,Fc,6,8,"mat-tree-node",12),a(),w(),ue(15,13),a()),e&2&&(h("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),g(" ",C(3,12,"TABLE."+(n.dataModelResult==null||n.dataModelResult.access==null?null:n.dataModelResult.access.moduleEntityName))," "),o(3),b(!(n.dataModelResult==null||n.dataModelResult.access==null)&&n.dataModelResult.access.accessAddRow?5:-1),o(),b(!(n.dataModelResult==null||n.dataModelResult.access==null)&&n.dataModelResult.access.accessEditRow&&(n.dataModelSelect==null?null:n.dataModelSelect.id)>0?6:-1),o(),b(!(n.dataModelResult==null||n.dataModelResult.access==null)&&n.dataModelResult.access.accessDeleteRow&&n.dataModelSelect.id&&(n.dataModelSelect==null||n.dataModelSelect.id==null?null:n.dataModelSelect.id.length)>0?7:-1),o(),b(!(n.dataModelResult==null||n.dataModelResult.access==null)&&n.dataModelResult.access.accessWatchRow?8:-1),o(2),h("optionsInfoAreaId",n.constructorInfoAreaId),o(),h("dataSource",n.dataSource)("childrenAccessor",n.childrenAccessor),o(3),h("matTreeNodeDefWhen",n.hasChild))},dependencies:[be,pe,ki,Li,Oi,Vi,Di,j,Ki,G],encapsulation:2});var gn=si;var Uc=()=>["expandedTitle"],Wc=()=>["expandedDetail"],qc=()=>[5,10,20,100],ir=i=>({display:i});function jc(i,l){if(i&1&&S(0,"app-estate-property-header",4),i&2){let e=d();h("optionId",e.requestLinkPropertyId)}}function Qc(i,l){if(i&1&&S(0,"app-estate-customer-order-header",4),i&2){let e=d();h("optionId",e.requestLinkCustomerOrderId)}}function $c(i,l){if(i&1&&S(0,"app-estate-account-expert-header",4),i&2){let e=d();h("optionId",e.requestLinkEstateExpertId)}}function zc(i,l){if(i&1){let e=M();r(0,"div",23)(1,"a",58),y("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),S(2,"i",59)(3,"br"),a(),r(4,"p",26),c(5),f(6,"translate"),a()()}i&2&&(o(5),g(" ",C(6,1,"ACTION.ADD")," "))}function Yc(i,l){if(i&1){let e=M();r(0,"div",23)(1,"a",60),y("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",61)(3,"br"),a(),r(4,"p",26),c(5),f(6,"translate"),a()()}i&2&&(o(5),g(" ",C(6,1,"ACTION.EDIT")," "))}function Kc(i,l){if(i&1){let e=M();r(0,"div",23)(1,"a",62),y("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",63)(3,"br"),a(),r(4,"p",26),c(5),f(6,"translate"),a()()}i&2&&(o(5),g(" ",C(6,1,"ACTION.DELETE")," "))}function Jc(i,l){i&1&&(r(0,"mat-error"),c(1),f(2,"translate"),a()),i&2&&(o(),T(C(2,1,"MESSAGE.InvalidStartDate")))}function Xc(i,l){i&1&&(r(0,"mat-error"),c(1),f(2,"translate"),a()),i&2&&(o(),T(C(2,1,"MESSAGE.InvalidEndDate")))}function Zc(i,l){if(i&1){let e=M();r(0,"div",28)(1,"div",64),c(2),f(3,"translate"),a(),r(4,"mat-form-field",65)(5,"mat-label"),c(6),f(7,"translate"),a(),r(8,"mat-date-range-input",66),S(9,"input",67),f(10,"translate"),S(11,"input",68),f(12,"translate"),a(),S(13,"mat-datepicker-toggle",69)(14,"mat-date-range-picker",null,2),v(16,Jc,3,3,"mat-error"),v(17,Xc,3,3,"mat-error"),a(),r(18,"button",70),y("click",function(){m(e);let t=d();return u(t.onActionNext())}),S(19,"i",71),a(),r(20,"button",70),y("click",function(){m(e);let t=d();return u(t.onActionPervious())}),S(21,"i",71),c(22," > "),a(),S(23,"br"),r(24,"a",72),y("click",function(){m(e);let t=d();return u(t.onActionButtonInCheckingOnDateSearch())}),c(25),f(26,"translate"),a()()}if(i&2){let e=k(15),n=d();o(2),g(" ",C(3,12,"TITLE.SearchInCheckingOnDay")," "),o(4),T(C(7,14,"TITLE.Enter_a_date_range")),o(2),h("formGroup",n.checkingOnDayRange)("rangePicker",e),o(),h("placeholder",D(C(10,16,"TITLE.Start_Date"))),o(2),h("placeholder",D(C(12,18,"TITLE.Start_Date"))),o(2),h("for",e),o(3),b(n.checkingOnDayRange.controls.start.hasError("matStartDateInvalid")?16:-1),o(),b(n.checkingOnDayRange.controls.end.hasError("matEndDateInvalid")?17:-1),o(8),T(C(26,20,"ACTION.SEARCH"))}}function ed(i,l){i&1&&(r(0,"mat-header-cell"),c(1),f(2,"translate"),a()),i&2&&(o(),g(" ",C(2,1,"TITLE.MENU")," "))}function td(i,l){if(i&1){let e=M();r(0,"mat-cell")(1,"button",73),y("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",74),a()()}}function id(i,l){if(i&1&&(r(0,"mat-header-cell",75),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function nd(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),g(" ",e.id," ")}}function od(i,l){if(i&1&&(r(0,"mat-header-cell",75),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function rd(i,l){if(i&1&&S(0,"select",77),i&2){let e=d().$implicit,n=d();h("contentService",n.contentService)("row",e)("ngStyle",fe(3,ir,e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)?"":"none"))}}function ad(i,l){if(i&1&&(r(0,"mat-cell",76),f(1,"statusCellClass"),S(2,"i",76),f(3,"statusIconClass"),v(4,rd,1,5,"select",77),a()),i&2){let e=l.$implicit,n=d();h("ngClass",C(1,3,e.recordStatus)),o(2),h("ngClass",C(3,5,e.recordStatus)),o(2),b(!(n.dataModelResult==null||n.dataModelResult.access==null)&&n.dataModelResult.access.accessEditRow?4:-1)}}function ld(i,l){if(i&1&&(r(0,"mat-header-cell",75),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function sd(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),g(" ",e.title," ")}}function cd(i,l){if(i&1&&(r(0,"mat-header-cell",75),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function dd(i,l){if(i&1&&(r(0,"mat-cell",78),c(1),f(2,"localeDateTime"),a()),i&2){let e=l.$implicit;o(),g(" ",C(2,1,e.createdDate)," ")}}function pd(i,l){if(i&1&&(r(0,"mat-header-cell",75),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.appointmentDateFrom==null?null:e.fieldsInfo.appointmentDateFrom.fieldTitle," ")}}function md(i,l){if(i&1&&(r(0,"mat-cell"),c(1),f(2,"localeDate"),a()),i&2){let e=l.$implicit,n=d();o(),V(" ",C(2,2,e.appointmentDateFrom)," ",n.publicHelper.getTime(e.appointmentDateFrom))}}function ud(i,l){if(i&1&&(r(0,"mat-header-cell",75),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.appointmentDateTo==null?null:e.fieldsInfo.appointmentDateTo.fieldTitle," ")}}function fd(i,l){if(i&1&&(r(0,"mat-cell"),c(1),f(2,"localeDate"),a()),i&2){let e=l.$implicit,n=d();o(),V(" ",C(2,2,e.appointmentDateTo)," ",n.publicHelper.getTime(e.appointmentDateTo)," ")}}function _d(i,l){if(i&1&&(r(0,"mat-header-cell",75),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.linkActivityTypeId==null?null:e.fieldsInfo.linkActivityTypeId.fieldTitle," ")}}function Cd(i,l){if(i&1&&(r(0,"mat-cell"),c(1),f(2,"cmstitle"),a()),i&2){let e=l.$implicit,n=d();o(),g(" ",ui(2,1,e.linkActivityTypeId,n.dataModelActivityTypeResult.listItems)," ")}}function hd(i,l){if(i&1&&(r(0,"mat-header-cell",75),c(1),a()),i&2){let e=d();o(),g(" ",e.fieldsInfo.activityStatus==null?null:e.fieldsInfo.activityStatus.fieldTitle," ")}}function gd(i,l){if(i&1&&(r(0,"mat-cell"),c(1),f(2,"enums"),a()),i&2){let e=l.$implicit,n=d();o(),g(" ",ui(2,1,e.activityStatus,n.dataModelEstateActivityStatusEnumResult.listItems)," ")}}function Sd(i,l){i&1&&(r(0,"mat-header-cell"),c(1),f(2,"translate"),a()),i&2&&(o(),g(" ",C(2,1,"TITLE.OPTION")," "))}function yd(i,l){if(i&1&&(r(0,"mat-cell",79)(1,"button",80)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,3),a()),i&2){let e=k(5);o(),h("matMenuTriggerFor",e)}}function Ed(i,l){i&1&&(r(0,"mat-header-cell",81),c(1),f(2,"translate"),a()),i&2&&(o(),g(" ",C(2,1,"TITLE.QUICK_VIEW")," "))}function vd(i,l){if(i&1){let e=M();r(0,"mat-cell")(1,"button",82),y("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionButtonQuickViewRow(t))}),r(2,"mat-icon",83),c(3,"visibility"),a()()()}}function bd(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),g(" ",e.title," ")}}function Md(i,l){if(i&1){let e=M();r(0,"tr")(1,"td"),c(2),f(3,"translate"),a(),r(4,"td")(5,"span",84),y("click",function(){m(e);let t=d(2);return u(t.onActionCopied())}),c(6),f(7,"estatePropertyInfo"),f(8,"async"),S(9,"i",86),a(),r(10,"button",87),y("click",function(){m(e);let t=d().$implicit,s=d();return u(s.onActionButtonPropertyQuickViewRow(t.linkPropertyId))}),r(11,"mat-icon"),c(12,"visibility"),a()()()()}if(i&2){let e=d().$implicit;o(2),g("",C(3,3,"TITLE.Property_Id"),":"),o(3),h("cdkCopyToClipboard",e.linkPropertyId),o(),g(" ",C(8,7,C(7,5,e.linkPropertyId))," \xA0 ")}}function Id(i,l){if(i&1){let e=M();r(0,"tr")(1,"td"),c(2),f(3,"translate"),a(),r(4,"td")(5,"span",84),y("click",function(){m(e);let t=d(2);return u(t.onActionCopied())}),c(6),f(7,"estateCustomerOrderInfo"),f(8,"async"),S(9,"i",85),a(),r(10,"button",87),y("click",function(){m(e);let t=d().$implicit,s=d();return u(s.onActionButtonCustomerOrderQuickViewRow(t.linkCustomerOrderId))}),r(11,"mat-icon"),c(12,"visibility"),a()()()()}if(i&2){let e=d().$implicit;o(2),g("",C(3,3,"TITLE.Customer_Order_Id"),":"),o(3),h("cdkCopyToClipboard",e.linkCustomerOrderId),o(),g(" ",C(8,7,C(7,5,e.linkCustomerOrderId))," \xA0 ")}}function wd(i,l){if(i&1){let e=M();r(0,"tr")(1,"td"),c(2),f(3,"translate"),a(),r(4,"td")(5,"span",84),y("click",function(){m(e);let t=d(2);return u(t.onActionCopied())}),c(6),f(7,"estateAccountExpertInfo"),f(8,"async"),S(9,"i",85),a()()()}if(i&2){let e=d().$implicit;o(2),g("",C(3,3,"TITLE.Expert_Id"),":"),o(3),h("cdkCopyToClipboard",e.linkCustomerOrderId),o(),g(" ",C(8,7,C(7,5,e.linkEstateExpertId))," \xA0 ")}}function Td(i,l){if(i&1){let e=M();r(0,"tr")(1,"td"),c(2),f(3,"translate"),a(),r(4,"td")(5,"span",84),y("click",function(){m(e);let t=d(2);return u(t.onActionCopied())}),c(6),f(7,"estateAccountAgencyInfo"),f(8,"async"),S(9,"i",85),a()()()}if(i&2){let e=d().$implicit;o(2),g("",C(3,3,"TITLE.Agency_Id"),":"),o(3),h("cdkCopyToClipboard",e.linkCustomerOrderId),o(),g(" ",C(8,7,C(7,5,e.linkEstateAgencyId))," \xA0 ")}}function xd(i,l){if(i&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),a()()),i&2){let e=d().$implicit,n=d();o(2),g("",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle,":"),o(2),T(e.title)}}function Rd(i,l){if(i&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),a()()),i&2){let e=d().$implicit,n=d();o(2),g("",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle,":"),o(2),T(e.description)}}function Ad(i,l){if(i&1){let e=M();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"td"),c(5),f(6,"translate"),a(),r(7,"td")(8,"span",84),y("click",function(){m(e);let t=d();return u(t.onActionCopied())}),c(9," \xA0 "),S(10,"i",85),a(),c(11),a()(),v(12,Md,13,9,"tr"),v(13,Id,13,9,"tr"),v(14,wd,10,9,"tr"),v(15,Td,10,9,"tr"),v(16,xd,5,2,"tr"),v(17,Rd,5,2,"tr"),r(18,"tr"),S(19,"td"),r(20,"td"),c(21),f(22,"cmsuserinfo"),f(23,"async"),a()(),r(24,"tr"),S(25,"td")(26,"td"),a()()()()}if(i&2){let e=l.$implicit;o(5),g("",C(6,10,"TITLE.Id"),":"),o(3),h("cdkCopyToClipboard",e.id),o(3),g("",e.id," "),o(),b(e.linkPropertyId&&e.linkPropertyId.length>0?12:-1),o(),b(e.linkCustomerOrderId&&e.linkCustomerOrderId.length>0?13:-1),o(),b(e.linkEstateExpertId&&e.linkEstateExpertId.length>0?14:-1),o(),b(e.linkEstateAgencyId&&e.linkEstateAgencyId.length>0?15:-1),o(),b(e.title&&e.title.length>0?16:-1),o(),b(e.description&&e.description.length>0?17:-1),o(4),T(C(23,14,C(22,12,e.createdBy)))}}function Pd(i,l){i&1&&S(0,"mat-header-row")}function Dd(i,l){if(i&1){let e=M();r(0,"mat-row",88),y("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),a()}if(i&2){let e=l.$implicit,n=d();O("ntk-row-selected",e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}function kd(i,l){if(i&1){let e=M();r(0,"mat-row",89),y("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),a()}if(i&2){let e=l.$implicit,n=d();O("ntk-row-selected",e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}function Ld(i,l){if(i&1){let e=M();r(0,"mat-row",90),y("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),a()}if(i&2){let e=l.$implicit,n=d();O("ntk-row-selected",e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)),h("ngStyle",fe(3,ir,e.expanded===!0?"":"none"))}}var ci=class ci extends It{constructor(e,n,t,s,p,_,H,Z,ne,Pe,De,ke,Qe){super(e,new qt,ke,_,Pe);this.contentService=e;this.cmsConfirmationDialogService=n;this.cmsToastrService=t;this.estateActivityTypeService=s;this.estateEnumService=p;this.tokenHelper=_;this.activatedRoute=H;this.cmsStoreService=Z;this.cdr=ne;this.translate=Pe;this.pageInfo=De;this.publicHelper=ke;this.dialog=Qe;this.requestLinkPropertyId="";this.requestLinkEstateExpertId="";this.requestLinkCustomerOrderId="";this.requestLinkEstateAgencyId="";this.responsibleUserId=0;this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.popupAdd=!1;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ii;this.dataModelActivityTypeResult=new Q;this.searchInCheckingOnDay=!1;this.searchInCheckingPlanedToDay=!1;this.searchInCheckingPlanedToDayUserId=0;this.searchInCheckingOnDayChecked=!1;this.searchInCheckingPlanedToDayChecked=!1;this.searchInResponsibleChecked=!1;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","createdDate","AppointmentDateFrom","AppointmentDateTo","LinkActivityTypeId","ActivityStatus","QuickView","action_menu"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","createdDate","ActivityStatus","QuickView","action_menu"];this.dataModelEstateActivityStatusEnumResult=new Q;this.unsubscribe=[];this.checkingOnDayRange=new to({start:new Ht(null),end:new Ht(null)});De.updateContentService(e),this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyId"),this.requestLinkEstateExpertId=this.activatedRoute.snapshot.paramMap.get("LinkEstateExpertId"),this.requestLinkCustomerOrderId=this.activatedRoute.snapshot.paramMap.get("LinkCustomerOrderId"),this.requestLinkEstateAgencyId=this.activatedRoute.snapshot.paramMap.get("LinkEstateAgencyId"),this.popupAdd=this.activatedRoute.snapshot.paramMap.get("Action")?.toLowerCase()==="add",this.requestRecordStatus=ye[this.activatedRoute.snapshot.paramMap.get("recordStatus")+""],this.responsibleUserId=+this.activatedRoute.snapshot.paramMap.get("ResponsibleUserId"),this.requestRecordStatus&&(this.optionsSearch.data.show=!0,this.optionsSearch.data.defaultQuery='{"condition":"and","rules":[{"field":"recordStatus","type":"select","operator":"equal","value":"'+this.requestRecordStatus+'"}]}',this.requestRecordStatus=null),this.requestActivityStatus=Mi[this.activatedRoute.snapshot.paramMap.get("ActivityStatus")+""],this.optionsSearch.parentMethods={onSubmit:pi=>this.onSubmitOptionsSearch(pi)},this.activatedRoute.snapshot.paramMap.get("InCheckingOnDay")&&(this.searchInCheckingOnDay=this.activatedRoute.snapshot.paramMap.get("InCheckingOnDay")==="true"),this.activatedRoute.snapshot.paramMap.get("InCheckingPlanedToDay")&&(this.searchInCheckingPlanedToDay=!0,this.searchInCheckingPlanedToDayUserId=+this.activatedRoute.snapshot.paramMap.get("InCheckingPlanedToDay")|0),this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=X.Descending}set optionLinkCustomerOrderId(e){e&&e.length>0&&(this.requestLinkCustomerOrderId=e)}set optionLinkPropertyId(e){e&&e.length>0&&(this.requestLinkPropertyId=e)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>te(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEstateActivityStatusEnum(),this.getActivityTypeList()}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}ngAfterViewInit(){this.searchInCheckingOnDay&&(this.searchInCheckingOnDayChecked=!0),this.searchInCheckingPlanedToDay&&(this.searchInCheckingPlanedToDayChecked=!0)}getEstateActivityStatusEnum(){this.estateEnumService.ServiceEstateActivityStatusEnum().subscribe({next:e=>{this.dataModelEstateActivityStatusEnumResult=e}})}getActivityTypeList(){let e=new ae;e.rowPerPage=100,this.estateActivityTypeService.ServiceGetAllEditor(e).subscribe({next:n=>{this.dataModelActivityTypeResult=n}})}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;this.tableRowsSelected=[],this.onActionTableRowSelect(new qt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(n.filters=[...this.filterDataModelQueryBuilder]),this.requestActivityStatus!=null){let t=new q;t.propertyName="activityStatus",t.value=Mi.Planned,n.filters.push(t)}if(this.searchInCheckingPlanedToDay){let t=new q,s=48;n.onDateTimeFrom=new Date(new Date().setHours(0,0,0,0)-s*60*60*1e3),n.onDateTimeTo=new Date(new Date().setHours(23,59,59,999)),this.searchInCheckingPlanedToDayUserId===0?n.linkResponsibleUserId=this.tokenInfo.access.userId:n.linkResponsibleUserId=this.searchInCheckingPlanedToDayUserId,t.propertyName="activityStatus",t.value=Mi.Planned,t.searchType=Gt.Equal,n.filters.push(t)}if(this.requestLinkPropertyId&&this.requestLinkPropertyId.length>0){let t=new q;t.propertyName="LinkPropertyId",t.value=this.requestLinkPropertyId,n.filters.push(t)}if(this.requestLinkEstateExpertId&&this.requestLinkEstateExpertId.length>0){let t=new q;t.propertyName="linkEstateExpertId",t.value=this.requestLinkEstateExpertId,n.filters.push(t)}if(this.requestLinkCustomerOrderId?.length>0){let t=new q;t.propertyName="linkCustomerOrderId",t.value=this.requestLinkCustomerOrderId,n.filters.push(t)}if(this.requestLinkEstateAgencyId&&this.requestLinkEstateAgencyId.length>0){let t=new q;t.propertyName="linkEstateAgencyId",t.value=this.requestLinkEstateAgencyId,n.filters.push(t)}if(this.searchInResponsibleChecked?n.linkResponsibleUserId=this.tokenInfo.access.userId:this.responsibleUserId>0&&(n.linkResponsibleUserId=this.responsibleUserId),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new q;t.propertyName="LinkActivityTypeId",t.value=this.categoryModelSelected.id,n.filters.push(t)}if(this.searchInCheckingOnDay){let t=new Ii;t=n,this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(new Date),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(new Date),t.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,t.onDateTimeTo=this.checkingOnDayRange.controls.end.value,this.contentService.ServiceGetAll(t).subscribe({next:s=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(s.access),s.isSuccess?(this.dataModelResult=s,this.tableSource.data=s.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(s.access)},1e3)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e),this.popupAdd&&this.onActionButtonNewRow()},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}else this.contentService.ServiceGetAll(n).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e),this.popupAdd&&this.onActionButtonNewRow()},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.popupAdd=!1,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.publicHelper.isMobile?this.dialog.open(fi,{height:"90%",panelClass:e,enterAnimationDuration:L.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:L.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:this.categoryModelSelected?.id,linkPropertyId:this.requestLinkPropertyId,linkEstateExpertId:this.requestLinkEstateExpertId,linkCustomerOrderId:this.requestLinkCustomerOrderId,linkEstateAgencyId:this.requestLinkEstateAgencyId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()}):this.dialog.open(fi,{height:"90%",panelClass:e,enterAnimationDuration:L.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:L.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:this.categoryModelSelected?.id,linkPropertyId:this.requestLinkPropertyId,linkEstateExpertId:this.requestLinkEstateExpertId,linkCustomerOrderId:this.requestLinkCustomerOrderId,linkEstateAgencyId:this.requestLinkEstateAgencyId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.publicHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.publicHelper.isMobile?this.dialog.open(hi,{height:"90%",panelClass:n,enterAnimationDuration:L.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:L.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()}):this.dialog.open(hi,{height:"90%",panelClass:n,enterAnimationDuration:L.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:L.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{n=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(s=>{if(s){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(_=>{this.publicHelper.processService.processStart(p,_,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:_=>{_.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(p)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(_=>{n.set(_,0)}),this.translate.get("MESSAGE.All").subscribe(_=>{n.set(_,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(_=>{this.publicHelper.processService.processStart(t,_,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:_=>{_.isSuccess?(this.translate.get("MESSAGE.All").subscribe(H=>{n.set(H,_.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(_.errorMessage),this.publicHelper.processService.processStop(t)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="recordStatus",p.value=ye.Available,s.filters.push(p),this.contentService.ServiceGetCount(s).subscribe({next:_=>{_.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(H=>{n.set(H,_.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(_.errorMessage),this.publicHelper.processService.processStop(t)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPropertyQuickViewRow(e){if(!e||e.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var n="";this.publicHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Do,{height:"90%",panelClass:n,enterAnimationDuration:L.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:L.cmsViewConfig.exitAnimationDuration,data:{id:e}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonQuickViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n=this.publicHelper.InfoNextRowInList(this.dataModelResult.listItems,this.tableRowSelected),t=this.publicHelper.InfoPerviousRowInList(this.dataModelResult.listItems,this.tableRowSelected),s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(Ho,{height:"90%",panelClass:s,enterAnimationDuration:L.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:L.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id,perviousItem:t,nextItem:n}}).afterClosed().subscribe(_=>{_&&_.dialogChangedDate&&_.onActionOpenItem&&_.onActionOpenItem.id.length>0&&this.onActionButtonQuickViewRow(_.onActionOpenItem)})}onActionButtonCustomerOrderQuickViewRow(e){if(!e||e.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var n="";this.publicHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(en,{height:"90%",panelClass:n,enterAnimationDuration:L.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:L.cmsViewConfig.exitAnimationDuration,data:{id:e}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionSelectorSelect(e){var n=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Ii,this.filteModelContent.sortColumn=n,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonInCheckingOnDate(e){this.searchInCheckingOnDay=e,this.searchInCheckingOnDay?(this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(new Date),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(new Date)):this.DataGetAll()}onActionButtonInCheckingPlaned(e){this.searchInCheckingPlanedToDay=e,this.DataGetAll()}onActionButtonInResponsible(e){this.searchInResponsibleChecked=e,this.DataGetAll()}onActionButtonInCheckingOnDateSearch(){this.searchInCheckingOnDay&&this.DataGetAll()}onActionNext(){this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(new Date),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(new Date),this.checkingOnDayRange.controls.start.setValue(this.addDays(this.checkingOnDayRange.controls.start.value,1)),this.checkingOnDayRange.controls.end.setValue(this.addDays(this.checkingOnDayRange.controls.end.value,1))}onActionPervious(){this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(new Date),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(new Date),this.checkingOnDayRange.controls.start.setValue(this.addDays(this.checkingOnDayRange.controls.start.value,-1)),this.checkingOnDayRange.controls.end.setValue(this.addDays(this.checkingOnDayRange.controls.end.value,-1))}addDays(e,n){let t=new Date(e);return t.setDate(t.getDate()+n),t}onActionButtonResponsibleUserlistView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;var n="";this.publicHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Cn,{height:"90%",panelClass:n,enterAnimationDuration:L.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:L.cmsViewConfig.exitAnimationDuration,data:{title:this.tableRowSelected.title,id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}};ci.\u0275fac=function(n){return new(n||ci)(E($t),E(Mt),E(U),E(wi),E(Qt),E(J),E(gi),E(K),E(F),E(N),E(We),E(W),E(de))},ci.\u0275cmp=B({type:ci,selectors:[["app-estate-property-history-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkCustomerOrderId:"optionLinkCustomerOrderId",optionLinkPropertyId:"optionLinkPropertyId"},standalone:!1,features:[oe],decls:101,vars:54,consts:[["tableSort","matSort"],["paginator",""],["picker",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","checked"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[1,"alert","alert-info"],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","createdDate"],["style","direction: ltr; justify-content: center; text-align: center",4,"matCellDef"],["matColumnDef","AppointmentDateFrom"],["matColumnDef","AppointmentDateTo"],["matColumnDef","LinkActivityTypeId"],["matColumnDef","ActivityStatus"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","QuickView"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[2,"font-size","30px"],["appearance","fill"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start",3,"placeholder"],["matEndDate","","formControlName","end",3,"placeholder"],["matIconSuffix","",3,"for"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["href","javascript:void(0)",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr","justify-content","center","text-align","center"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["mat-sort-header","",1,"form-label"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],[2,"color","#ff671f"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy","brown-color"],[1,"flaticon2-copy","brown-color",2,"color","brown"],["type","button","mat-icon-button","",3,"click"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(n,t){if(n&1){let s=M();v(0,jc,1,1,"app-estate-property-header",4),v(1,Qc,1,1,"app-estate-customer-order-header",4),v(2,$c,1,1,"app-estate-account-expert-header",4),r(3,"app-cms-html-list",5),P("optionActionGuideNoticeDisplayChange",function(_){return m(s),A(t.viewGuideNotice,_)||(t.viewGuideNotice=_),u(_)}),y("optionOnActionButtonMemoRow",function(){return m(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(s),u(t.onActionButtonPrintRow())}),I(4,6),r(5,"app-estate-activity-type-tree",7),y("optionChange",function(_){return m(s),u(t.onActionSelectorSelect(_))}),a(),w(),ue(6,8)(7,9),I(8,10),r(9,"a",11),y("click",function(){return m(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),S(10,"i",12),a(),r(11,"a",11),y("click",function(){return m(s),u(t.onActionButtonReload())}),S(12,"i",13),a(),r(13,"a",14),y("click",function(){return m(s),u(t.onActionGridExpandRows(!0))}),S(14,"i",15),a(),r(15,"a",14),y("click",function(){return m(s),u(t.onActionGridExpandRows(!1))}),S(16,"i",16),a(),w(),I(17,17),r(18,"a",18)(19,"mat-slide-toggle",19),y("click",function(){return m(s),u(t.onActionButtonInCheckingOnDate(!t.searchInCheckingOnDay))}),c(20),f(21,"translate"),a()(),r(22,"a",18)(23,"mat-slide-toggle",19),y("click",function(){return m(s),u(t.onActionButtonInCheckingPlaned(!t.searchInCheckingPlanedToDay))}),c(24),f(25,"translate"),a()(),r(26,"a",20),y("click",function(){return m(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(27,"mat-slide-toggle",21),c(28),f(29,"translate"),a(),r(30,"a",20),y("click",function(){return m(s),u(t.onActionButtonStatist())}),S(31,"mat-slide-toggle",21),c(32),f(33,"translate"),a(),r(34,"a",20),y("click",function(){return m(s),u(t.onActionButtonInResponsible(!t.searchInResponsibleChecked))}),S(35,"mat-slide-toggle",21),c(36),f(37,"translate"),a(),w(),I(38,22),v(39,zc,7,3,"div",23),w(),I(40,24),v(41,Yc,7,3,"div",23),v(42,Kc,7,3,"div",23),r(43,"div",23)(44,"a",11),y("click",function(){return m(s),u(t.onActionButtonResponsibleUserlistView(t.tableRowSelected))}),S(45,"i",25)(46,"br"),a(),r(47,"p",26),c(48),f(49,"translate"),a()(),w(),I(50,27),v(51,Zc,27,22,"div",28),r(52,"app-cms-search-list",29),P("optionsChange",function(_){return m(s),A(t.optionsSearch,_)||(t.optionsSearch=_),u(_)}),a(),r(53,"app-cms-statist-list",29),P("optionsChange",function(_){return m(s),A(t.optionsStatist,_)||(t.optionsStatist=_),u(_)}),a(),w(),I(54,30),r(55,"mat-table",31,0),y("matSortChange",function(){m(s);let _=k(56);return u(t.onTableSortData(_))}),I(57,32),x(58,ed,3,3,"mat-header-cell",33)(59,td,3,0,"mat-cell",34),w(),I(60,35),x(61,id,2,1,"mat-header-cell",36)(62,nd,2,1,"mat-cell",34),w(),I(63,37),x(64,od,2,1,"mat-header-cell",36)(65,ad,5,7,"mat-cell",38),w(),I(66,39),x(67,ld,2,1,"mat-header-cell",36)(68,sd,2,1,"mat-cell",34),w(),I(69,40),x(70,cd,2,1,"mat-header-cell",36)(71,dd,3,3,"mat-cell",41),w(),I(72,42),x(73,pd,2,1,"mat-header-cell",36)(74,md,3,4,"mat-cell",34),w(),I(75,43),x(76,ud,2,1,"mat-header-cell",36)(77,fd,3,4,"mat-cell",34),w(),I(78,44),x(79,_d,2,1,"mat-header-cell",36)(80,Cd,3,4,"mat-cell",34),w(),I(81,45),x(82,hd,2,1,"mat-header-cell",36)(83,gd,3,4,"mat-cell",34),w(),I(84,46),x(85,Sd,3,3,"mat-header-cell",33)(86,yd,6,1,"mat-cell",47),w(),I(87,48),x(88,Ed,3,3,"mat-header-cell",49)(89,vd,4,0,"mat-cell",34),w(),I(90,50),x(91,bd,2,1,"mat-cell",34),w(),I(92,51),x(93,Ad,27,16,"mat-cell",34),w(),x(94,Pd,1,0,"mat-header-row",52)(95,Dd,1,2,"mat-row",53)(96,kd,1,2,"mat-row",54)(97,Ld,1,5,"mat-row",55),a(),w(),I(98,56),r(99,"mat-paginator",57,1),y("page",function(_){return m(s),u(t.onTablePageingData(_))}),a(),w(),a()}n&2&&(b((t.requestLinkPropertyId==null?null:t.requestLinkPropertyId.length)>0?0:-1),o(),b((t.requestLinkCustomerOrderId==null?null:t.requestLinkCustomerOrderId.length)>0?1:-1),o(),b((t.requestLinkEstateExpertId==null?null:t.requestLinkEstateExpertId.length)>0?2:-1),o(),h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","estate.propertyhistory.list"),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",t.tokenHelper.isAdminSite&&t.optionloadByRoute)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),O("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),h("checked",t.searchInCheckingOnDayChecked),o(),g(" ",C(21,39,"ACTION.SearchOnDay")," "),o(3),h("checked",t.searchInCheckingPlanedToDayChecked),o(),g(" ",C(25,41,"ACTION.Planned")," "),o(3),h("checked",t.optionsSearch.data.show),o(),g("",C(29,43,"ACTION.SEARCH")," "),o(3),h("checked",t.optionsStatist.data.show),o(),g("",C(33,45,"ACTION.STATIST")," "),o(3),h("checked",t.searchInResponsibleChecked),o(),g(" ",C(37,47,"ACTION.InResponsible")," "),o(3),b(t.optionloadByRoute&&t.dataModelResult.access.accessAddRow?39:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?41:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?42:-1),o(6),g(" ",C(49,49,"TITLE.ResponsibleUsers")," "),o(3),b(t.searchInCheckingOnDay?51:-1),o(),R("options",t.optionsSearch),o(),R("options",t.optionsStatist),o(2),h("dataSource",t.tableSource),o(39),h("matHeaderRowDef",t.tabledisplayedColumns),o(),h("matRowDefColumns",$(51,Uc)),o(),h("matRowDefColumns",t.tabledisplayedColumns),o(),h("matRowDefColumns",$(52,Wc)),o(2),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",$(53,qc)))},dependencies:[re,He,se,z,Ee,io,no,be,Pi,uo,fo,_o,Co,Ai,Ri,Ue,ve,pe,Y,lt,st,ct,dt,pt,mt,ut,_t,St,Ct,ft,yt,ht,gt,Et,vt,ot,wt,Tt,xt,Rt,At,Uo,hn,jo,gn,Be,G,Zi,Mo,Fi,Yt,Ni,Pt,Dt,ko,Lo,Vo,Oo],encapsulation:2});var tr=ci;var Vd=["vform"];function Od(i,l){if(i&1){let e=M();r(0,"mat-icon",19),y("click",function(){m(e);let t=d(2);return u(t.dataModel.linkContractTypeId=null)}),c(1,"close "),a()}}function Hd(i,l){if(i&1){let e=M();r(0,"app-estate-contract-type-selector",18),f(1,"translate"),y("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorContarctType(t))}),v(2,Od,2,0,"mat-icon",16),a()}if(i&2){let e=d();h("optionTypeView",1)("optionDisabled",!1)("optionSelectForce",e.dataModel.linkContractTypeId)("optionPlaceholder",C(1,5,"TITLE.Transaction_type")),o(2),b(e.dataModel.linkContractTypeId&&(e.dataModel.linkContractTypeId==null?null:e.dataModel.linkContractTypeId.length)>0?2:-1)}}function Bd(i,l){if(i&1){let e=M();r(0,"mat-icon",19),y("click",function(){m(e);let t=d(2);return u(t.dataModel.linkPropertyTypeUsageId=null)}),c(1,"close "),a()}}function Fd(i,l){if(i&1){let e=M();r(0,"app-estate-property-type-usage-selector",15),f(1,"translate"),y("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorSelectUsage(t))}),v(2,Bd,2,0,"mat-icon",16),a()}if(i&2){let e=d();h("optionDisabled",!1)("optionTypeView",1)("optionSelectForce",e.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",C(1,5,"TITLE.Type_Usage")),o(2),b(e.dataModel.linkPropertyTypeUsageId&&(e.dataModel.linkPropertyTypeUsageId==null?null:e.dataModel.linkPropertyTypeUsageId.length)>0?2:-1)}}function Nd(i,l){if(i&1){let e=M();r(0,"mat-icon",19),y("click",function(){m(e);let t=d();return u(t.onActionSelectorSelectLanduse(null))}),c(1,"close "),a()}}function Gd(i,l){if(i&1&&(r(0,"div"),c(1),f(2,"translate"),f(3,"number"),a()),i&2){let e=d().$implicit;o(),V(" ",C(2,2,"TITLE.SalePrice")," : ",C(3,4,e.salePriceMin)," ")}}function Ud(i,l){if(i&1&&(r(0,"div"),c(1),f(2,"translate"),f(3,"number"),a()),i&2){let e=d().$implicit;o(),V(" ",C(2,2,"TITLE.RentPrice")," : ",C(3,4,e.rentPriceMin)," ")}}function Wd(i,l){if(i&1&&(r(0,"div"),c(1),f(2,"translate"),f(3,"number"),a()),i&2){let e=d().$implicit;o(),V(" ",C(2,2,"TITLE.DepositPrice")," : ",C(3,4,e.depositPriceMin)," ")}}function qd(i,l){if(i&1&&(r(0,"div"),c(1),f(2,"translate"),f(3,"number"),a()),i&2){let e=d().$implicit;o(),V(" ",C(2,2,"TITLE.PeriodPrice"),": ",C(3,4,e.periodPriceMin)," ")}}function jd(i,l){if(i&1&&(r(0,"div"),c(1),f(2,"translate"),f(3,"number"),a()),i&2){let e=d().$implicit;o(),V(" ",C(2,2,"TITLE.SalePrice")," : ",C(3,4,e.salePriceAverage)," ")}}function Qd(i,l){if(i&1&&(r(0,"div"),c(1),f(2,"translate"),f(3,"number"),a()),i&2){let e=d().$implicit;o(),V(" ",C(2,2,"TITLE.RentPrice")," : ",C(3,4,e.rentPriceAverage)," ")}}function $d(i,l){if(i&1&&(r(0,"div"),c(1),f(2,"translate"),f(3,"number"),a()),i&2){let e=d().$implicit;o(),V(" ",C(2,2,"TITLE.DepositPrice")," : ",C(3,4,e.depositPriceAverage)," ")}}function zd(i,l){if(i&1&&(r(0,"div"),c(1),f(2,"translate"),f(3,"number"),a()),i&2){let e=d().$implicit;o(),V(" ",C(2,2,"TITLE.PeriodPrice"),": ",C(3,4,e.periodPriceAverage)," ")}}function Yd(i,l){if(i&1&&(r(0,"div"),c(1),f(2,"translate"),f(3,"number"),a()),i&2){let e=d().$implicit;o(),V(" ",C(2,2,"TITLE.SalePrice")," : ",C(3,4,e.salePriceMax)," ")}}function Kd(i,l){if(i&1&&(r(0,"div"),c(1),f(2,"translate"),f(3,"number"),a()),i&2){let e=d().$implicit;o(),V(" ",C(2,2,"TITLE.RentPrice")," : ",C(3,4,e.rentPriceMax)," ")}}function Jd(i,l){if(i&1&&(r(0,"div"),c(1),f(2,"translate"),f(3,"number"),a()),i&2){let e=d().$implicit;o(),V(" ",C(2,2,"TITLE.DepositPrice")," : ",C(3,4,e.depositPriceMax)," ")}}function Xd(i,l){if(i&1&&(r(0,"div"),c(1),f(2,"translate"),f(3,"number"),a()),i&2){let e=d().$implicit;o(),V(" ",C(2,2,"TITLE.PeriodPrice"),": ",C(3,4,e.periodPriceMax)," ")}}function Zd(i,l){if(i&1&&(r(0,"tr")(1,"td"),c(2),f(3,"enums"),a(),r(4,"td"),c(5),a(),r(6,"td"),v(7,Gd,4,6,"div"),v(8,Ud,4,6,"div"),v(9,Wd,4,6,"div"),v(10,qd,4,6,"div"),a(),r(11,"td"),v(12,jd,4,6,"div"),v(13,Qd,4,6,"div"),v(14,$d,4,6,"div"),v(15,zd,4,6,"div"),a(),r(16,"td"),v(17,Yd,4,6,"div"),v(18,Kd,4,6,"div"),v(19,Jd,4,6,"div"),v(20,Xd,4,6,"div"),a()()),i&2){let e=l.$implicit,n=d();o(2),g(" ",ui(3,14,e.expertPriceType,n.dataModelEstatePropertyExpertPriceTypeEnumResult.listItems)," "),o(3),T(e.createdYaer),o(2),b(e.salePriceMin&&e.salePriceMin>0?7:-1),o(),b(e.rentPriceMin&&e.rentPriceMin>0?8:-1),o(),b(e.depositPriceMin&&e.depositPriceMin>0?9:-1),o(),b(e.periodPriceMin&&e.periodPriceMin>0?10:-1),o(2),b(e.salePriceAverage&&e.salePriceAverage>0?12:-1),o(),b(e.rentPriceAverage&&e.rentPriceAverage>0?13:-1),o(),b(e.depositPriceAverage&&e.depositPriceAverage>0?14:-1),o(),b(e.periodPriceAverage&&e.periodPriceAverage>0?15:-1),o(2),b(e.salePriceMax&&e.salePriceMax>0?17:-1),o(),b(e.rentPriceMax&&e.rentPriceMax>0?18:-1),o(),b(e.depositPriceMax&&e.depositPriceMax>0?19:-1),o(),b(e.periodPriceMax&&e.periodPriceMax>0?20:-1)}}function ep(i,l){if(i&1&&(r(0,"button",22),S(1,"i",23),c(2),f(3,"translate"),a()),i&2){d(2);let e=k(10);h("disabled",!e.form.valid),o(2),g(" ",C(3,2,"ACTION.Inquiry")," ")}}function tp(i,l){if(i&1){let e=M();r(0,"div",17)(1,"button",20),y("click",function(){m(e);let t=d();return u(t.onFormCancel())}),S(2,"i",21),c(3),f(4,"translate"),a(),v(5,ep,4,4,"button",22),a()}if(i&2){let e=d();o(3),g(" ",C(4,2,"ACTION.CANCEL")," "),o(2),b(e.formInfo.submitButtonEnabled?5:-1)}}var di=class di{constructor(l,e,n,t,s,p,_,H,Z){this.data=l;this.dialogRef=e;this.coreEnumService=n;this.estatePropertyExpertPriceService=t;this.estateEnumService=s;this.cmsToastrService=p;this.publicHelper=_;this.cdr=H;this.translate=Z;this.constructorInfoAreaId=this.constructor.name;this.appLanguage="fa";this.dataModel=new zn;this.dataModelResult=new Q;this.dataModelEstatePropertyExpertPriceTypeEnumResult=new Q;this.formInfo=new ge;this.PropertyTypeSelected=new bi;this.dataModelCorCurrencySelector=new yi;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,l&&(this.dataModel.linkLocationId=+l.linkLocationId|0,this.dataModel.linkCoreCurrencyId=+l.linkCoreCurrencyId|0,this.dataModel.createdYaer=+l.createdYaer|0,this.dataModel.linkContractTypeId=l.linkContractTypeId,this.dataModel.linkPropertyTypeLanduseId=l.linkPropertyTypeLanduseId,this.dataModel.linkPropertyTypeUsageId=l.linkPropertyTypeUsageId)}ngOnInit(){this.translate.get("TITLE.Expert_Price_Inquiry").subscribe(l=>{this.formInfo.formTitle=l}),this.getEstatePropertyExpertPriceTypeEnum(),this.dataModel.linkLocationId>0&&this.dataModel.linkCoreCurrencyId>0&&this.dataModel.createdYaer>0&&this.dataModel.linkContractTypeId&&this.dataModel.linkContractTypeId.length>0&&this.dataModel.linkPropertyTypeLanduseId&&this.dataModel.linkPropertyTypeLanduseId.length>0&&this.dataModel.linkPropertyTypeUsageId&&this.dataModel.linkPropertyTypeUsageId.length>0&&this.DataActionContent()}getEstatePropertyExpertPriceTypeEnum(){this.estateEnumService.ServiceEstatePropertyExpertPriceTypeEnum().subscribe({next:l=>{this.dataModelEstatePropertyExpertPriceTypeEnumResult=l}})}DataActionContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.dataModelResult=new Q,this.estatePropertyExpertPriceService.ServicePriceInquiryList(this.dataModel).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!0,e.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(n=>{this.formInfo.submitResultMessage=n,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),e.listItems&&e.listItems.length>0?this.dataModelResult=e:(this.translate.get("MESSAGE.PriceInquiryCalculateNotFind").subscribe(n=>{this.cmsToastrService.typeWarningMessage(n)}),this.dialogRef.close({dialogChangedDate:!0}))):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelectorSelectUsage(l){if(!l||!l.id||l.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeWarningSelected(e)});return}this.dataModel.linkPropertyTypeUsageId=l.id}onActionSelectorSelectLanduse(l){if(this.PropertyTypeSelected=null,this.dataModel.linkPropertyTypeLanduseId=null,!l||!l.id||l.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeWarningSelected(e)});return}this.PropertyTypeSelected=l,this.dataModel.linkPropertyTypeLanduseId=l.id}onActionSelectorContarctType(l){if(this.dataModel.linkContractTypeId=null,!l||!l.id||l.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(e=>{this.cmsToastrService.typeWarningSelected(e)});return}this.dataModel.linkContractTypeId=l.id}onActionSelectorLocation(l){this.dataModel.linkLocationId=null,l&&l.id>0&&(this.dataModel.linkLocationId=l.id)}onActionSelectCurrency(l){if(!l||l.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=l,this.dataModel.linkCoreCurrencyId=l.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataActionContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};di.\u0275fac=function(e){return new(e||di)(E(he),E(Ce),E(le),E(Xn),E(Qt),E(U),E(W),E(F),E(N))},di.\u0275cmp=B({type:di,selectors:[["app-estate-property-expert-price-inquiry-list"]],viewQuery:function(e,n){if(e&1&&Le(Vd,5),e&2){let t;Ve(t=Oe())&&(n.formGroup=t.first)}},standalone:!1,decls:52,vars:45,consts:[["vform","ngForm"],["CreatedYaer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.SalePriceAverage","type","number","id","dataModel.createdYaer","placeholder","0",3,"ngModelChange","ngModel"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[3,"optionTypeView","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",1,"margin-top"],[1,"form-actions"],[3,"optionChange","optionTypeView","optionDisabled","optionSelectForce","optionPlaceholder"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",1,"margin-top",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,n){if(e&1){let t=M();r(0,"div",2),S(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),f(7,"translate"),a(),S(8,"app-cms-form-result-message",6),r(9,"form",7,0),y("ngSubmit",function(){return m(t),u(n.onFormSubmit())}),r(11,"div",8)(12,"label",9),c(13),f(14,"translate"),a(),r(15,"input",10,1),P("ngModelChange",function(p){return m(t),A(n.dataModel.createdYaer,p)||(n.dataModel.createdYaer=p),u(p)}),a()(),S(17,"br"),r(18,"app-cms-location-selector",11),f(19,"translate"),y("optionChange",function(p){return m(t),u(n.onActionSelectorLocation(p))}),S(20,"br"),a(),r(21,"app-cms-currency-selector",12),f(22,"translate"),y("optionChange",function(p){return m(t),u(n.onActionSelectCurrency(p))}),a(),S(23,"br"),v(24,Hd,3,7,"app-estate-contract-type-selector",13),S(25,"br"),v(26,Fd,3,7,"app-estate-property-type-usage-selector",14),S(27,"br"),r(28,"app-estate-property-type-landuse-selector",15),f(29,"translate"),y("optionChange",function(p){return m(t),u(n.onActionSelectorSelectLanduse(p))}),v(30,Nd,2,0,"mat-icon",16),a(),S(31,"hr"),r(32,"table")(33,"tr")(34,"td"),c(35),f(36,"translate"),a(),r(37,"td"),c(38),f(39,"translate"),a(),r(40,"td"),c(41),f(42,"translate"),a(),r(43,"td"),c(44),f(45,"translate"),a(),r(46,"td"),c(47),f(48,"translate"),a()(),tt(49,Zd,21,17,"tr",null,et),a(),v(51,tp,6,4,"div",17),a()()()}e&2&&(o(),h("optionsInfoAreaId",n.constructorInfoAreaId),o(3),g(" ",n.formInfo.formTitle," "),o(2),g(" ",C(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h("formInfo",n.formInfo),o(5),T(C(14,27,"TITLE.CreatedYaer")),o(2),R("ngModel",n.dataModel.createdYaer),o(3),h("optionSelectForce",n.dataModel.linkLocationId)("optionPlaceholder",C(19,29,"TITLE.Geographical_Region"))("optionDisabled",!1),o(3),h("optionSelectFirstItem",!1)("optionSelectForce",n.dataModel.linkCoreCurrencyId)("optionPlaceholder",C(22,31,"TITLE.Specify_the_transaction_currency")),o(3),b(n.dataModel.linkCoreCurrencyId&&n.dataModel.linkCoreCurrencyId>0?24:-1),o(2),b(n.dataModel.linkCoreCurrencyId&&n.dataModel.linkCoreCurrencyId>0?26:-1),o(2),h("optionDisabled",!1)("optionTypeView",1)("optionSelectForce",n.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",C(29,33,"TITLE.Property_Type")),o(2),b(n.dataModel.linkPropertyTypeLanduseId&&(n.dataModel.linkPropertyTypeLanduseId==null?null:n.dataModel.linkPropertyTypeLanduseId.length)>0?30:-1),o(5),T(C(36,35,"TITLE.Expert_Type")),o(3),T(C(39,37,"TITLE.CreatedYaer")),o(3),T(C(42,39,"TITLE.Minimum")),o(3),T(C(45,41,"TITLE.Average")),o(3),T(C(48,43,"TITLE.Maximum")),o(2),it(n.dataModelResult.listItems),o(2),b(n.publicHelper.processService.process.inRunAll?-1:51))},dependencies:[Ne,se,Ti,z,Ee,ce,Fe,ve,pe,Y,on,Wo,j,Se,ji,rn,an,ln,jn,G,Zi],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}.leaflet-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute!important}.fs-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}@media (min-width: 1400px){.col-xxl-7[_ngcontent-%COMP%]{max-width:100%!important;flex:0 0 100%}}.heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:2px solid black;padding:15px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:2px solid black;padding:15px;text-align:center}.margin-top[_ngcontent-%COMP%]{margin-top:10px}"]});var nr=di;export{hn as a,nr as b,sn as c,Xo as d,tr as e};
