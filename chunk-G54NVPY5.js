import{a as In}from"./chunk-4AJPYGLT.js";import{a as Tn}from"./chunk-ALPWNR4N.js";import{a as vn}from"./chunk-EUF7N6CZ.js";import{a as Be}from"./chunk-2DM3WXYY.js";import{a as Le}from"./chunk-SK4VZ3QT.js";import{a as Ve}from"./chunk-RUAVXQK6.js";import{a as et}from"./chunk-E7I5ZQTD.js";import{a as ke}from"./chunk-M6IJJUE4.js";import{c as Ee,d as ye,e as Re,g as xe,h as De}from"./chunk-RDUUIZCS.js";import{a as bn}from"./chunk-L4TX6WCZ.js";import"./chunk-HLB6IX4E.js";import{a as hn}from"./chunk-BHDITMAT.js";import{a as ui}from"./chunk-DSLKGMNL.js";import{b as Cn}from"./chunk-CHK3FSNG.js";import"./chunk-GNYOEPDA.js";import{a as di}from"./chunk-HHA53VC5.js";import{a as Fe}from"./chunk-YQ2ZWLSF.js";import{a as Ze}from"./chunk-SXFJKVOT.js";import{b as Me,e as we,f as F}from"./chunk-OESJBRQ5.js";import{$a as ae,Ab as Ce,Bb as be,Cb as ve,Db as Te,Fc as Ie,I as mi,Ic as Ae,J as _t,K as ht,Kc as P,M as sn,Ma as bt,Mc as Sn,N as cn,Na as Xe,Nc as _n,Oa as $,Qb as G,Rb as N,U as pn,_ as Ct,_a as un,ab as fn,bb as Q,da as mn,ea as dn,fa as re,gb as le,hb as se,jb as ce,l as pi,lb as pe,m as $e,mb as me,nb as de,p as Ye,q as ut,s as ft,t as an,tb as gn,u as gt,ub as ue,v as St,vb as fe,wb as ge,xb as Se,yb as _e,z as ln,zb as he}from"./chunk-LGROFW5T.js";import{$b as Ke,Ab as zi,Bd as Xi,Cb as ct,Ch as tn,Db as pt,Dh as X,Eb as mt,Ed as ni,Eh as nn,F as Hi,Fa as o,Fd as q,Fh as oi,Gh as ri,Ha as qi,Hh as ai,I as Wi,Ib as x,Ic as ne,Ih as li,Jc as Ji,Jd as U,Jh as si,Kb as V,Kc as k,Kd as J,Ld as dt,Me as en,Nb as c,Oa as b,Ob as D,Oc as ze,Oh as Z,P as Ui,Pb as d,Ph as yi,Q as ji,Qb as ii,Qc as z,Qh as Ri,Rh as xi,Sa as L,Sh as Di,Ta as ti,Tb as E,Td as Pe,Th as Bi,Ub as y,Uh as on,Vb as R,Wa as j,Wb as W,Wc as $i,Xb as Mi,Xd as Zi,Y as ei,Ya as v,_b as ie,cc as _,da as f,db as Qi,dc as h,ea as g,eb as Ii,fb as Ai,fd as Yi,jb as u,kb as r,lb as a,mb as C,nd as wi,nq as ci,oq as rn,p as Pi,pq as oe,q as Fi,qb as I,rb as A,sb as te,sd as Ei,tb as M,vc as O,vd as Y,vq as Li,wb as T,wq as Je,xd as B,yb as S,zb as Ki}from"./chunk-GHCCPFHI.js";import{i as K}from"./chunk-SEDBTTTN.js";var vt=class vt{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};vt.\u0275fac=function(e){return new(e||vt)},vt.\u0275cmp=L({type:vt,selectors:[["app-apitelegram"]],standalone:!1,decls:1,vars:0,template:function(e,n){e&1&&C(0,"router-outlet")},dependencies:[rn],encapsulation:2});var fi=vt;function En(i,l){if(i&1&&(r(0,"div"),C(1,"app-cms-json-list",5),a()),i&2){let e=S();o(),u("dataModel",e.optionItem)("optionMethod",1)}}var tt=class tt{constructor(l,e,n){this.cmsToastrService=l;this.data=e;this.http=n;this.id=++tt.nextId;this.optionMethod=1;e&&(this.optionMethod=e.optionMethod,this.optionListItems=e.optionListItems,this.optionItem=e.optionItem,this.optionLabel=e.optionLabel)}ngOnInit(){}ngOnDestroy(){}};tt.nextId=0,tt.\u0275fac=function(e){return new(e||tt)(b(P),b(Xe),b(Yi))},tt.\u0275cmp=L({type:tt,selectors:[["app-cms-view"]],inputs:{optionMethod:"optionMethod",optionListItems:"optionListItems",optionItem:"optionItem",optionLabel:"optionLabel"},standalone:!1,decls:6,vars:2,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],[3,"dataModel","optionMethod"]],template:function(e,n){e&1&&(r(0,"div",0),c(1),a(),r(2,"div",1),v(3,En,2,2,"div",2),a(),C(4,"div",3)(5,"div",4)),e&2&&(o(),d(" ",n.optionLabel," "),o(2),u("ngIf",n.optionItem))},dependencies:[k,vn],encapsulation:2});var It=tt;var yn=["*"];function Rn(i,l){if(i&1&&(r(0,"label",12),c(1),a()),i&2){let e=S();u("for",Mi("app-cms-site-selector-",e.id)),o(),D(e.optionLabel)}}function xn(i,l){if(i&1&&(r(0,"mat-option",13)(1,"span"),c(2),a()()),i&2){let e=l.$implicit,n=S();u("value",e)("disabled",n.optionDisabled),o(2),D(n.displayOption(e))}}function Dn(i,l){i&1&&C(0,"i",14)}function Bn(i,l){i&1&&C(0,"i",15)}function Ln(i,l){if(i&1){let e=M();r(0,"i",16),T("click",function(){f(e);let t=S();return g(t.onActionSelectClear())}),a()}}function kn(i,l){i&1&&(r(0,"em"),c(1),_(2,"translate"),a()),i&2&&(o(),d("(",h(2,1,"TITLE.Necessary"),")"))}var it=class it{constructor(l,e,n,t,p){this.coreEnumService=l;this.cdr=e;this.publicHelper=n;this.translate=t;this.categoryService=p;this.id=++it.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new q;this.dataModelSelect=new Z;this.formControl=new an;this.optionPlaceholder="";this.optionLabel="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionChange=new qi;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Ui(""),Hi(1500),Wi(),ji(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return K(this,null,function*(){let e=new J;e.rowPerPage=20,e.accessLoad=!0;let n=new U;n.propertyName="Title",n.value=l,n.searchType=Ei.Contains,n.clauseType=wi.Or,e.filters.push(n),l&&typeof+l=="number"&&+l>0&&(n=new U,n.propertyName="Id",n.value=l,n.searchType=Ei.Equal,n.clauseType=wi.Or,e.filters.push(n));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),yield Pi(this.categoryService.ServiceGetAll(e)).then(p=>(this.dataModelResult=p,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),p.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(Fi(e=>(e.find(n=>n.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="number"&&l>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(n=>n.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof l==typeof Z){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Z,this.loadOptions()}};it.nextId=0,it.\u0275fac=function(e){return new(e||it)(b(Pe),b(O),b(F),b(G),b(X))},it.\u0275cmp=L({type:it,selectors:[["app-api-telegram-bot-config-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:yn,decls:15,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,n){if(e&1){let t=M();Ki(),r(0,"div",1),C(1,"app-progress-spinner",2),v(2,Rn,2,3,"label",3),C(3,"input",4),r(4,"mat-autocomplete",5,0),T("optionSelected",function(m){return f(t),g(n.onActionSelect(m.option.value))}),v(6,xn,3,3,"mat-option",6),_(7,"async"),a(),v(8,Dn,1,0,"i",7)(9,Bn,1,0,"i",8)(10,Ln,1,0,"i",9),r(11,"i",10),_(12,"translate"),T("click",function(){return f(t),g(n.onActionButtonReload())}),a(),v(13,kn,3,3,"em",11),zi(14),a()}if(e&2){let t=x(5);o(),u("optionsInfoAreaId",n.constructorInfoAreaId),o(),u("ngIf",(n.optionLabel==null?null:n.optionLabel.length)>0),o(),u("placeholder",W(n.optionPlaceholder))("id",Mi("app-cms-site-selector-",n.id))("formControl",n.formControl)("matAutocomplete",t)("required",n.optionRequired),Qi("disabled",n.optionDisabled?!0:null),o(),u("displayWith",n.displayFn),o(2),u("ngForOf",h(7,20,n.filteredOptions)),o(2),u("ngIf",!n.formControl.valid),o(),u("ngIf",n.optionRequired&&n.formControl.valid),o(),u("ngIf",(n.dataModelSelect==null?null:n.dataModelSelect.id)>0),o(),V("rotation360",n.publicHelper.processService.process.inRunArea[n.constructorInfoAreaId]),u("title",W(h(12,22,"ACTION.RELOAD"))),o(2),u("ngIf",n.optionRequired&&(!n.dataModelSelect||!n.dataModelSelect.id||n.dataModelSelect.id<=0))}},dependencies:[Ji,k,$e,Ye,mi,ln,mn,pn,dn,Q,Ze,z,N],encapsulation:2});var gi=it;var On=["vform"];function Gn(i,l){i&1&&C(0,"i",21)}function Nn(i,l){i&1&&C(0,"i",22)}function Pn(i,l){i&1&&(r(0,"mat-error"),c(1),_(2,"translate"),r(3,"strong"),c(4),_(5,"translate"),a()()),i&2&&(o(),d(" ",h(2,2,"TITLE.Message_Title")," "),o(3),D(h(5,4,"MESSAGE.required")))}function Fn(i,l){i&1&&(r(0,"mat-error"),c(1),_(2,"translate"),r(3,"strong"),c(4),_(5,"translate"),a()()),i&2&&(o(),d(" ",h(2,2,"MESSAGE.Chat_ID")," "),o(3),D(h(5,4,"MESSAGE.required")))}function Hn(i,l){if(i&1&&(r(0,"div",23),C(1,"i",27),r(2,"span",28),c(3),a()()),i&2){let e=S(2);o(3),D(e.formInfo.submitResultMessage)}}function Wn(i,l){if(i&1&&(r(0,"div",24),C(1,"i",29),r(2,"span",28),c(3),a()()),i&2){let e=S(2);o(3),D(e.formInfo.submitResultMessage)}}function Un(i,l){if(i&1&&(r(0,"div",25),C(1,"i",30),r(2,"span",28),c(3),a()()),i&2){let e=S(2);o(3),D(e.formInfo.submitResultMessage)}}function jn(i,l){if(i&1&&(r(0,"div",26),C(1,"i",31),r(2,"span",28),c(3),a()()),i&2){let e=S(2);o(3),D(e.formInfo.submitResultMessage)}}function qn(i,l){if(i&1&&Ii(0,Hn,4,1,"div",23)(1,Wn,4,1,"div",24)(2,Un,4,1,"div",25)(3,jn,4,1,"div",26),i&2){let e,n=S();Ai((e=n.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function Qn(i,l){if(i&1){let e=M();r(0,"div",32)(1,"button",33),T("click",function(){f(e);let t=S();return g(t.onFormCancel())}),C(2,"i",34),c(3),_(4,"translate"),a(),r(5,"button",35),C(6,"i",36),c(7),_(8,"translate"),a()()}if(i&2){S();let e=x(9);o(3),d(" ",h(4,3,"ACTION.CANCEL")," "),o(2),u("disabled",!e.form.valid),o(2),d(" ",h(8,5,"ACTION.Send_Message")," ")}}var Oi=class{},At=class At{constructor(l,e,n,t,p,m,s,w){this.data=l;this.dialogRef=e;this.coreEnumService=n;this.apiTelegramBotConfigService=t;this.cmsToastrService=p;this.publicHelper=m;this.cdr=s;this.translate=w;this.requestLinkBotConfigId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.compModel=new Oi;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ni;this.dataModel=new on;this.formInfo=new dt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.data&&(this.requestLinkBotConfigId=+this.data.linkBotConfigId||0,this.compModel.ChatIds=this.data.ChatId+""),this.requestLinkBotConfigId>0&&(this.dataModel.botId=this.requestLinkBotConfigId),this.translate.get("TITLE.Send_Message").subscribe(l=>{this.formInfo.formTitle=l})}ActionSendMessage(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.apiTelegramBotConfigService.ServiceSendMessage(this.dataModel).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=e,e.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormSubmit(){if(this.formGroup.valid){if(this.dataModel.chatId=[],this.compModel.ChatIds&&this.compModel.ChatIds.length>0&&this.publicHelper.SplitAllChar(this.compModel.ChatIds).forEach(e=>{let n=+e||0;n>0&&this.dataModel.chatId.push(n)}),this.dataModel.chatId.length==0){this.translate.get("MESSAGE.Recipient_list_is_not_valid").subscribe(l=>{this.cmsToastrService.typeWarning(l)});return}this.formInfo.submitButtonEnabled=!1,this.ActionSendMessage()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorSelect(l){if(!l||l.id<=0){this.translate.get("MESSAGE.Select_the_Telegram_bot").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.dataModel.botId=l.id}};At.\u0275fac=function(e){return new(e||At)(b(Xe),b(bt),b(Pe),b(X),b(P),b(F),b(O),b(G))},At.\u0275cmp=L({type:At,selectors:[["app-apitelegram-action-send-message"]],viewQuery:function(e,n){if(e&1&&ct(On,5),e&2){let t;pt(t=mt())&&(n.formGroup=t.first)}},standalone:!1,decls:40,vars:33,consts:[["vform","ngForm"],["title",""],["chatId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.chatId",1,"color-highlight"],["matInput","","name","dataModel.chatId","type","text","minlength","1","maxlength","1000","rows","5","id","dataModel.chatId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,n){if(e&1){let t=M();r(0,"div",3),C(1,"app-progress-spinner",4),r(2,"div",5)(3,"p",6),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",7,0),T("ngSubmit",function(){return f(t),g(n.onFormSubmit())}),r(10,"div",8)(11,"app-api-telegram-bot-config-selector",9),_(12,"translate"),T("optionChange",function(m){return f(t),g(n.onActionSelectorSelect(m))}),a(),r(13,"div",10)(14,"label",11),c(15),_(16,"translate"),a(),r(17,"input",12,1),_(19,"translate"),R("ngModelChange",function(m){return f(t),y(n.dataModel.title,m)||(n.dataModel.title=m),g(m)}),a(),v(20,Gn,1,0,"i",13)(21,Nn,1,0,"i",14),r(22,"em"),c(23),a(),v(24,Pn,6,6,"mat-error",15),a(),r(25,"div",10)(26,"label",16),c(27),_(28,"translate"),a(),r(29,"textarea",17,2),_(31,"translate"),R("ngModelChange",function(m){return f(t),y(n.dataModel.chatId,m)||(n.dataModel.chatId=m),g(m)}),c(32,"          "),a(),r(33,"em"),c(34),a(),v(35,Fn,6,6,"mat-error",15),a()(),r(36,"div",18),Ii(37,qn,4,1),a(),r(38,"div",19),v(39,Qn,9,7,"div",20),a()()()()}if(e&2){let t=x(18),p=x(30);o(),u("optionsInfoAreaId",n.constructorInfoAreaId),o(3),d(" ",n.formInfo.formTitle," "),o(2),d(" ",h(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),o(5),u("optionSelectForce",n.dataModel.botId)("optionPlaceholder",h(12,23,"TITLE.Telegram_Bot")),o(4),D(h(16,25,"TITLE.title")),o(2),u("placeholder",W(h(19,27,"TITLE.Message_Title"))),E("ngModel",n.dataModel.title),o(3),u("ngIf",!t.value),o(),u("ngIf",t.value),o(2),d("",t.value.length," / 100"),o(),u("ngIf",t.errors==null?null:t.errors.required),o(3),D(h(28,29,"MESSAGE.Chat_ID")),o(2),u("placeholder",W(h(31,31,"MESSAGE.Chat_ID"))),E("ngModel",n.dataModel.chatId),o(5),d("",p.value.length," / 1000"),o(),u("ngIf",p.errors==null?null:p.errors.required),o(2),Ai((n.formInfo==null||n.formInfo.submitResultMessage==null?null:n.formInfo.submitResultMessage.length)>0?37:-1),o(2),u("ngIf",n.formInfo.submitButtonEnabled)}},dependencies:[k,St,$e,Ye,ut,mi,_t,ht,gt,ft,Ct,Q,Ze,gi,N],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var nt=At;var Jn=["vform"];function $n(i,l){i&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),i&2&&(o(3),D(h(4,1,"MESSAGE.required")))}function Yn(i,l){if(i&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),i&2){let e=S();o(),d(" ",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," "),o(2),D(h(4,2,"MESSAGE.required"))}}function Xn(i,l){if(i&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),i&2){let e=S();o(),d(" ",e.fieldsInfo.botToken==null?null:e.fieldsInfo.botToken.fieldTitle," "),o(2),D(h(4,2,"MESSAGE.required"))}}function Zn(i,l){if(i&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),i&2){let e=S();o(),d(" ",e.fieldsInfo.securityKey==null?null:e.fieldsInfo.securityKey.fieldTitle," "),o(2),D(h(4,2,"MESSAGE.required"))}}function eo(i,l){if(i&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),i&2){let e=S();o(),d(" ",e.fieldsInfo.urlWebhook==null?null:e.fieldsInfo.urlWebhook.fieldTitle," "),o(2),D(h(4,2,"MESSAGE.required"))}}function to(i,l){if(i&1){let e=M();r(0,"div",26)(1,"div",27)(2,"h5",28),c(3),a()(),r(4,"div",29)(5,"div",30)(6,"input",31),R("ngModelChange",function(t){f(e);let p=S();return y(p.dataModel.statusWebhook,t)||(p.dataModel.statusWebhook=t),g(t)}),a(),C(7,"label",32),a()()()}if(i&2){let e=S();o(3),d(" ",e.fieldsInfo.statusWebhook==null?null:e.fieldsInfo.statusWebhook.fieldTitle," "),o(3),E("ngModel",e.dataModel.statusWebhook)}}function io(i,l){if(i&1){let e=M();r(0,"div",33)(1,"button",34),T("click",function(){f(e);let t=S();return g(t.onFormCancel())}),C(2,"i",35),c(3),_(4,"translate"),a(),r(5,"button",36),C(6,"i",37),c(7),_(8,"translate"),a()()}if(i&2){S();let e=x(9);o(3),d(" ",h(4,3,"ACTION.CANCEL")," "),o(2),u("disabled",!e.form.valid),o(2),d(" ",h(8,5,"ACTION.SAVE")," ")}}var Mt=class Mt extends hn{constructor(e,n,t,p,m,s,w,H){super(p,new Z,H,w);this.data=e;this.dialogRef=n;this.coreEnumService=t;this.apiTelegramBotConfigService=p;this.cmsToastrService=m;this.cdr=s;this.translate=w;this.publicHelper=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new q;this.dataModel=new Z;this.formInfo=new dt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.apiTelegramBotConfigService.ServiceAdd(this.dataModel).subscribe({next:n=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(e)},error:n=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Mt.\u0275fac=function(n){return new(n||Mt)(b(Xe),b(bt),b(Pe),b(X),b(P),b(O),b(G),b(F))},Mt.\u0275cmp=L({type:Mt,selectors:[["app-core-module-add"]],viewQuery:function(n,t){if(n&1&&ct(Jn,5),n&2){let p;pt(p=mt())&&(t.formGroup=p.first)}},standalone:!1,features:[j],decls:53,vars:42,consts:[["vform","ngForm"],["Title",""],["Username",""],["BotToken",""],["SecurityKey",""],["UrlWebhook",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.username",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.username","minlength","3","maxlength","100","id","dataModel.username",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.botToken",1,"color-highlight"],["matInput","","type","text","name","dataModel.botToken","minlength","3","maxlength","100","id","dataModel.botToken",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.securityKey",1,"color-highlight"],["matInput","","type","text","name","dataModel.securityKey","minlength","3","maxlength","100","id","dataModel.securityKey",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.urlWebhook",1,"color-highlight"],["matInput","","type","text","name","dataModel.urlWebhook","minlength","3","maxlength","100","id","dataModel.urlWebhook",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.statusWebhook",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.statusWebhook","name","dataModel.statusWebhook",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.statusWebhook",1,"custom-control-label"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,t){if(n&1){let p=M();r(0,"div",6),C(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",10,0),T("ngSubmit",function(){return f(p),g(t.onFormSubmit())}),r(10,"app-cms-enum-record-status-selector",11),R("modelChange",function(s){return f(p),y(t.dataModel.recordStatus,s)||(t.dataModel.recordStatus=s),g(s)}),a(),r(11,"div",12)(12,"label",13),c(13),a(),r(14,"input",14,1),R("ngModelChange",function(s){return f(p),y(t.dataModel.title,s)||(t.dataModel.title=s),g(s)}),a(),r(16,"em"),c(17),a(),v(18,$n,5,3,"mat-error",15),a(),r(19,"div",12)(20,"label",16),c(21),a(),r(22,"input",17,2),R("ngModelChange",function(s){return f(p),y(t.dataModel.username,s)||(t.dataModel.username=s),g(s)}),a(),r(24,"em"),c(25),a(),v(26,Yn,5,4,"mat-error",15),a(),r(27,"div",12)(28,"label",18),c(29),a(),r(30,"input",19,3),R("ngModelChange",function(s){return f(p),y(t.dataModel.botToken,s)||(t.dataModel.botToken=s),g(s)}),a(),r(32,"em"),c(33),a(),v(34,Xn,5,4,"mat-error",15),a(),r(35,"div",12)(36,"label",20),c(37),a(),r(38,"input",21,4),R("ngModelChange",function(s){return f(p),y(t.dataModel.securityKey,s)||(t.dataModel.securityKey=s),g(s)}),a(),r(40,"em"),c(41),a(),v(42,Zn,5,4,"mat-error",15),a(),r(43,"div",12)(44,"label",22),c(45),a(),r(46,"input",23,5),R("ngModelChange",function(s){return f(p),y(t.dataModel.urlWebhook,s)||(t.dataModel.urlWebhook=s),g(s)}),a(),r(48,"em"),c(49),a(),v(50,eo,5,4,"mat-error",15),a(),v(51,to,8,2,"div",24)(52,io,9,7,"div",25),a()()()}if(n&2){let p=x(15),m=x(23),s=x(31),w=x(39),H=x(47);o(),u("optionsInfoAreaId",t.constructorInfoAreaId),o(3),d(" ",t.formInfo.formTitle," "),o(2),d(" ",h(7,40,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),E("model",t.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0),o(3),D(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),u("placeholder",W(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),o(3),d("",p.value.length," / 100"),o(),u("ngIf",p.errors==null?null:p.errors.required),o(3),D(t.fieldsInfo.username==null?null:t.fieldsInfo.username.fieldTitle),o(),u("placeholder",W(t.fieldsInfo.username==null?null:t.fieldsInfo.username.fieldTitle)),E("ngModel",t.dataModel.username),o(3),d("",m.value.length," / 100"),o(),u("ngIf",m.errors==null?null:m.errors.required),o(3),D(t.fieldsInfo.botToken==null?null:t.fieldsInfo.botToken.fieldTitle),o(),u("placeholder",W(t.fieldsInfo.botToken==null?null:t.fieldsInfo.botToken.fieldTitle)),E("ngModel",t.dataModel.botToken),o(3),d("",s.value.length," / 100"),o(),u("ngIf",s.errors==null?null:s.errors.required),o(3),D(t.fieldsInfo.securityKey==null?null:t.fieldsInfo.securityKey.fieldTitle),o(),u("placeholder",W(t.fieldsInfo.securityKey==null?null:t.fieldsInfo.securityKey.fieldTitle)),E("ngModel",t.dataModel.securityKey),o(3),d("",w.value.length," / 100"),o(),u("ngIf",w.errors==null?null:w.errors.required),o(3),D(t.fieldsInfo.urlWebhook==null?null:t.fieldsInfo.urlWebhook.fieldTitle),o(),u("placeholder",W(t.fieldsInfo.urlWebhook==null?null:t.fieldsInfo.urlWebhook.fieldTitle)),E("ngModel",t.dataModel.urlWebhook),o(3),d("",H.value.length," / 100"),o(),u("ngIf",H.errors==null?null:H.errors.required),o(),u("ngIf",t.fieldsInfo.statusWebhook==null?null:t.fieldsInfo.statusWebhook.accessWatchField),o(),u("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[k,St,$e,pi,Ye,ut,_t,ht,gt,ft,Ct,Q,ui,Ze,di,N],encapsulation:2});var Si=Mt;var no=["vform"];function oo(i,l){i&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),i&2&&(o(3),D(h(4,1,"MESSAGE.required")))}function ro(i,l){if(i&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),i&2){let e=S();o(),d(" ",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," "),o(2),D(h(4,2,"MESSAGE.required"))}}function ao(i,l){if(i&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),i&2){let e=S();o(),d(" ",e.fieldsInfo.botToken==null?null:e.fieldsInfo.botToken.fieldTitle," "),o(2),D(h(4,2,"MESSAGE.required"))}}function lo(i,l){if(i&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),i&2){let e=S();o(),d(" ",e.fieldsInfo.securityKey==null?null:e.fieldsInfo.securityKey.fieldTitle," "),o(2),D(h(4,2,"MESSAGE.required"))}}function so(i,l){if(i&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),i&2){let e=S();o(),d(" ",e.fieldsInfo.urlWebhook==null?null:e.fieldsInfo.urlWebhook.fieldTitle," "),o(2),D(h(4,2,"MESSAGE.required"))}}function co(i,l){if(i&1){let e=M();r(0,"div",26)(1,"div",27)(2,"h5",28),c(3),a()(),r(4,"div",29)(5,"div",30)(6,"input",31),R("ngModelChange",function(t){f(e);let p=S();return y(p.dataModel.statusWebhook,t)||(p.dataModel.statusWebhook=t),g(t)}),a(),C(7,"label",32),a()()()}if(i&2){let e=S();o(3),d(" ",e.fieldsInfo.statusWebhook==null?null:e.fieldsInfo.statusWebhook.fieldTitle," "),o(3),E("ngModel",e.dataModel.statusWebhook)}}function po(i,l){if(i&1){let e=M();r(0,"div",33)(1,"button",34),T("click",function(){f(e);let t=S();return g(t.onFormCancel())}),C(2,"i",35),c(3),_(4,"translate"),a(),r(5,"button",36),T("click",function(){f(e);let t=S();return g(t.onActionButtonGetMeAsync())}),c(6),_(7,"translate"),a(),r(8,"button",36),T("click",function(){f(e);let t=S();return g(t.onActionButtonSetWebhookAsync())}),c(9),_(10,"translate"),a(),r(11,"button",36),T("click",function(){f(e);let t=S();return g(t.onActionButtonSetWebhookAsyncEmpty())}),c(12),_(13,"translate"),a(),r(14,"button",37),C(15,"i",38),c(16),_(17,"translate"),a()()}if(i&2){S();let e=x(9);o(3),d(" ",h(4,6,"ACTION.CANCEL")," "),o(3),d(" ",h(7,8,"ACTION.GetMeAsync")," "),o(3),d(" ",h(10,10,"ACTION.SetWebhookAsync")," "),o(3),d(" ",h(13,12,"ACTION.SetWebhookAsyncEmpty")," "),o(2),u("disabled",!e.form.valid),o(2),d(" ",h(17,14,"ACTION.SAVE")," ")}}var wt=class wt extends bn{constructor(e,n,t,p,m,s,w,H,Qe,Ge){super(p,new Z,w,Qe);this.data=e;this.dialogRef=n;this.coreEnumService=t;this.contentService=p;this.apiTelegramBotConfigService=m;this.cmsToastrService=s;this.publicHelper=w;this.cdr=H;this.translate=Qe;this.dialog=Ge;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ni;this.dataModel=new Z;this.formInfo=new dt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.apiTelegramBotConfigService.setAccessLoad(),this.apiTelegramBotConfigService.setAccessDataType(Xi.Editor),this.apiTelegramBotConfigService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.dataModel=n.item,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.title,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.apiTelegramBotConfigService.ServiceEdit(this.dataModel).subscribe({next:n=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.cmsToastrService.typeErrorEdit(n.errorMessage)),this.publicHelper.processService.processStop(e)},error:n=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonGetMeAsync(){let e=this.constructor.name+"ServiceGetMeAsync";this.apiTelegramBotConfigService.ServiceGetMeAsync(this.requestId).subscribe({next:n=>{n.isSuccess?this.dialog.open(It,{data:{optionItem:n.item}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate}):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonSetWebhookAsync(){let e=this.constructor.name+"ServiceSetWebhookAsync";this.apiTelegramBotConfigService.ServiceSetWebhookAsync(this.requestId).subscribe({next:n=>{n.isSuccess?this.cmsToastrService.typeSuccessAdd():this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonSetWebhookAsyncEmpty(){let e=this.constructor.name+"ServiceSetWebhookAsyncEmpty";this.apiTelegramBotConfigService.ServiceSetWebhookAsyncEmpty(this.requestId).subscribe({next:n=>{n.isSuccess?this.cmsToastrService.typeSuccessAdd():this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};wt.\u0275fac=function(n){return new(n||wt)(b(Xe),b(bt),b(Pe),b(X),b(X),b(P),b(F),b(O),b(G),b($))},wt.\u0275cmp=L({type:wt,selectors:[["app-core-module-edit"]],viewQuery:function(n,t){if(n&1&&ct(no,5),n&2){let p;pt(p=mt())&&(t.formGroup=p.first)}},standalone:!1,features:[j],decls:53,vars:42,consts:[["vform","ngForm"],["Title",""],["Username",""],["BotToken",""],["SecurityKey",""],["UrlWebhook",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.username",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.username","minlength","3","maxlength","100","id","dataModel.username",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.botToken",1,"color-highlight"],["matInput","","type","text","name","dataModel.botToken","minlength","3","maxlength","100","id","dataModel.botToken",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.securityKey",1,"color-highlight"],["matInput","","type","text","name","dataModel.securityKey","minlength","3","maxlength","100","id","dataModel.securityKey",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.urlWebhook",1,"color-highlight"],["matInput","","type","text","name","dataModel.urlWebhook","minlength","3","maxlength","100","id","dataModel.urlWebhook",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.statusWebhook",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.statusWebhook","name","dataModel.statusWebhook",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.statusWebhook",1,"custom-control-label"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,t){if(n&1){let p=M();r(0,"div",6),C(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",10,0),T("ngSubmit",function(){return f(p),g(t.onFormSubmit())}),r(10,"app-cms-enum-record-status-selector",11),R("modelChange",function(s){return f(p),y(t.dataModel.recordStatus,s)||(t.dataModel.recordStatus=s),g(s)}),a(),r(11,"div",12)(12,"label",13),c(13),a(),r(14,"input",14,1),R("ngModelChange",function(s){return f(p),y(t.dataModel.title,s)||(t.dataModel.title=s),g(s)}),a(),r(16,"em"),c(17),a(),v(18,oo,5,3,"mat-error",15),a(),r(19,"div",12)(20,"label",16),c(21),a(),r(22,"input",17,2),R("ngModelChange",function(s){return f(p),y(t.dataModel.username,s)||(t.dataModel.username=s),g(s)}),a(),r(24,"em"),c(25),a(),v(26,ro,5,4,"mat-error",15),a(),r(27,"div",12)(28,"label",18),c(29),a(),r(30,"input",19,3),R("ngModelChange",function(s){return f(p),y(t.dataModel.botToken,s)||(t.dataModel.botToken=s),g(s)}),a(),r(32,"em"),c(33),a(),v(34,ao,5,4,"mat-error",15),a(),r(35,"div",12)(36,"label",20),c(37),a(),r(38,"input",21,4),R("ngModelChange",function(s){return f(p),y(t.dataModel.securityKey,s)||(t.dataModel.securityKey=s),g(s)}),a(),r(40,"em"),c(41),a(),v(42,lo,5,4,"mat-error",15),a(),r(43,"div",12)(44,"label",22),c(45),a(),r(46,"input",23,5),R("ngModelChange",function(s){return f(p),y(t.dataModel.urlWebhook,s)||(t.dataModel.urlWebhook=s),g(s)}),a(),r(48,"em"),c(49),a(),v(50,so,5,4,"mat-error",15),a(),v(51,co,8,2,"div",24)(52,po,18,16,"div",25),a()()()}if(n&2){let p=x(15),m=x(23),s=x(31),w=x(39),H=x(47);o(),u("optionsInfoAreaId",t.constructorInfoAreaId),o(3),d(" ",t.formInfo.formTitle," "),o(2),d(" ",h(7,40,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),E("model",t.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0),o(3),D(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),u("placeholder",W(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),o(3),d("",p.value.length," / 100"),o(),u("ngIf",p.errors==null?null:p.errors.required),o(3),D(t.fieldsInfo.username==null?null:t.fieldsInfo.username.fieldTitle),o(),u("placeholder",W(t.fieldsInfo.username==null?null:t.fieldsInfo.username.fieldTitle)),E("ngModel",t.dataModel.username),o(3),d("",m.value.length," / 100"),o(),u("ngIf",m.errors==null?null:m.errors.required),o(3),D(t.fieldsInfo.botToken==null?null:t.fieldsInfo.botToken.fieldTitle),o(),u("placeholder",W(t.fieldsInfo.botToken==null?null:t.fieldsInfo.botToken.fieldTitle)),E("ngModel",t.dataModel.botToken),o(3),d("",s.value.length," / 100"),o(),u("ngIf",s.errors==null?null:s.errors.required),o(3),D(t.fieldsInfo.securityKey==null?null:t.fieldsInfo.securityKey.fieldTitle),o(),u("placeholder",W(t.fieldsInfo.securityKey==null?null:t.fieldsInfo.securityKey.fieldTitle)),E("ngModel",t.dataModel.securityKey),o(3),d("",w.value.length," / 100"),o(),u("ngIf",w.errors==null?null:w.errors.required),o(3),D(t.fieldsInfo.urlWebhook==null?null:t.fieldsInfo.urlWebhook.fieldTitle),o(),u("placeholder",W(t.fieldsInfo.urlWebhook==null?null:t.fieldsInfo.urlWebhook.fieldTitle)),E("ngModel",t.dataModel.urlWebhook),o(3),d("",H.value.length," / 100"),o(),u("ngIf",H.errors==null?null:H.errors.required),o(),u("ngIf",t.fieldsInfo.statusWebhook==null?null:t.fieldsInfo.statusWebhook.accessWatchField),o(),u("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[k,St,$e,pi,Ye,ut,_t,ht,gt,ft,Ct,Q,ui,Ze,di,N],encapsulation:2});var _i=wt;var mo=()=>[5,10,20,100],uo=i=>({display:i});function fo(i,l){if(i&1){let e=M();r(0,"div",16)(1,"a",50),T("click",function(){f(e);let t=S();return g(t.onActionButtonNewRow())}),C(2,"i",51)(3,"br"),a(),r(4,"p",18),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.ADD")," "))}function go(i,l){if(i&1){let e=M();r(0,"div",16)(1,"a",8),T("click",function(){f(e);let t=S();return g(t.onActionButtonSendMessage())}),C(2,"i",24)(3,"br"),a(),r(4,"p",18),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.Send_Message")," "))}function So(i,l){if(i&1){let e=M();r(0,"div",16)(1,"a",8),T("click",function(){f(e);let t=S();return g(t.onActionButtonGetMeAsync())}),C(2,"i",52)(3,"br"),a(),r(4,"p",18),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.GetMeAsync")," "))}function _o(i,l){if(i&1){let e=M();r(0,"div",16)(1,"a",53),T("click",function(){f(e);let t=S();return g(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",54)(3,"br"),a(),r(4,"p",18),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.EDIT")," "))}function ho(i,l){if(i&1){let e=M();r(0,"div",16)(1,"a",55),T("click",function(){f(e);let t=S();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",56)(3,"br"),a(),r(4,"p",18),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.DELETE")," "))}function Co(i,l){if(i&1&&(r(0,"mat-header-cell",57),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function bo(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),d(" ",e.id," ")}}function vo(i,l){if(i&1&&(r(0,"mat-header-cell",57),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function To(i,l){if(i&1&&(r(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),a()),i&2){let e=l.$implicit;o(),d(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function Io(i,l){if(i&1&&(r(0,"mat-header-cell",57),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ao(i,l){if(i&1&&C(0,"select",60),i&2){let e=S().$implicit,n=S();u("contentService",n.contentService)("row",e)("ngStyle",Ke(3,uo,e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)?"":"none"))}}function Mo(i,l){if(i&1&&(r(0,"mat-cell",58),_(1,"statusCellClass"),C(2,"i",58),_(3,"statusIconClass"),v(4,Ao,1,5,"select",59),a()),i&2){let e=l.$implicit,n=S();u("ngClass",h(1,3,e.recordStatus)),o(2),u("ngClass",h(3,5,e.recordStatus)),o(2),u("ngIf",n.dataModelResult==null||n.dataModelResult.access==null?null:n.dataModelResult.access.accessEditRow)}}function wo(i,l){if(i&1&&(r(0,"mat-header-cell",57),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Eo(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),d(" ",e.title," ")}}function yo(i,l){if(i&1&&(r(0,"mat-header-cell",57),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," ")}}function Ro(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),d(" ",e.username," ")}}function xo(i,l){if(i&1&&(r(0,"mat-header-cell",57),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.statusWebhook==null?null:e.fieldsInfo.statusWebhook.fieldTitle," ")}}function Do(i,l){if(i&1&&(r(0,"mat-cell"),C(1,"i",58),_(2,"boolclass"),a()),i&2){let e=l.$implicit;o(),u("ngClass",h(2,1,e.statusWebhook))}}function Bo(i,l){if(i&1&&(r(0,"mat-header-cell",57),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Lo(i,l){if(i&1&&(r(0,"mat-cell"),c(1),_(2,"localeDate"),a()),i&2){let e=l.$implicit;o(),d(" ",h(2,1,e.createdDate)," ")}}function ko(i,l){if(i&1&&(r(0,"mat-header-cell",57),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Vo(i,l){if(i&1&&(r(0,"mat-cell"),c(1),_(2,"localeDate"),a()),i&2){let e=l.$implicit;o(),d(" ",h(2,1,e.updatedDate)," ")}}function Oo(i,l){i&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),i&2&&(o(),d(" ",h(2,1,"TITLE.OPTION")," "))}function Go(i,l){if(i&1&&(r(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),i&2){let e=x(5);o(),u("matMenuTriggerFor",e)}}function No(i,l){i&1&&(r(0,"mat-header-cell",57),c(1),_(2,"translate"),a()),i&2&&(o(),d(" ",h(2,1,"TITLE.LINKTO")," "))}function Po(i,l){if(i&1){let e=M();r(0,"mat-cell")(1,"button",63),T("click",function(){let t=f(e).$implicit,p=S();return g(p.onActionButtonLinkTo(t))}),r(2,"mat-icon",64),c(3,"\u2197"),a()()()}}function Fo(i,l){i&1&&C(0,"mat-header-row")}function Ho(i,l){if(i&1){let e=M();r(0,"mat-row",65),T("click",function(t){let p=f(e).$implicit,m=S();return g(m.onActionTableRowSelect(p,t))})("rtclick",function(t){let p=f(e).$implicit,m=S();return g(m.onActionTableRowSelect(p,t))}),a()}if(i&2){let e=l.$implicit,n=S();V("ntk-row-selected",e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var Et=class Et extends Ee{constructor(e,n,t,p,m,s,w,H,Qe,Ge,st,Ne){super(e,new Z,st,p,H);this.contentService=e;this.cmsToastrService=n;this.cmsConfirmationDialogService=t;this.tokenHelper=p;this.cmsStoreService=m;this.router=s;this.cdr=w;this.translate=H;this.themeService=Qe;this.pageInfo=Ge;this.publicHelper=st;this.dialog=Ne;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.dataModelResult=new q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","Username","StatusWebhook","CreatedDate","UpdatedDate","LinkTo"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","Username","StatusWebhook","CreatedDate","UpdatedDate","LinkTo"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:wn=>this.onSubmitOptionsSearch(wn)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=B.Ascending}ngOnInit(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>K(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Z);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(n.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(n).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Si,{height:"90%",panelClass:e,enterAnimationDuration:Je.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Je.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.publicHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(_i,{height:"90%",panelClass:n,enterAnimationDuration:Je.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Je.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(p=>{this.cmsToastrService.typeErrorSelected(p)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(p=>{n=p["MESSAGE.Please_Confirm"],t=p["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(p=>{if(p){let m=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(m,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(m)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(m,!1)}})}}).catch(()=>{Je.consoleLog&&console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")})}onActionButtonGoToModuleList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}this.onActionTableRowSelect(this.tableRowSelected),this.router.navigate(["/core/siteModule/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{n.set(s,0)}),n.set("All",0);let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(w=>{n.set(w,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let p=JSON.parse(JSON.stringify(this.filteModelContent)),m=new U;m.propertyName="RecordStatus",m.value=Y.Available,p.filters.push(m),this.contentService.ServiceGetCount(p).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(w=>{n.set(w,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonInboxList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}this.onActionTableRowSelect(e),this.router.navigate(["api-telegram/log-input/LinkBotConfigId/",e.id])}onActionButtonOutboxList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}this.onActionTableRowSelect(e),this.router.navigate(["api-telegram/log-output/LinkBotConfigId/",e.id])}onActionButtonSendMessage(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),this.dialog.open(nt,{data:{linkBotConfigId:e.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonReceiveMessageAll(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e);let n=this.constructor.name+"ServiceGetUpdatesAsync";this.contentService.ServiceGetUpdatesAsync(e.id).subscribe({next:t=>{t.isSuccess?this.cmsToastrService.typeSuccessAdd():this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(n)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onActionButtonGetMeAsync(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e);let n=this.constructor.name+"ServiceGetMeAsync";this.contentService.ServiceGetMeAsync(e.id).subscribe({next:t=>{t.isSuccess?this.dialog.open(It,{data:{optionItem:t.item}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate}):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(n)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onActionButtonReceiveMessageLast(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e);let n=this.constructor.name+"ServiceGetUpdatesAsyncLast";this.contentService.ServiceGetUpdatesAsyncLast(e.id).subscribe({next:t=>{t.isSuccess?this.cmsToastrService.typeSuccessAdd():this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(n)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onActionButtonSetAllWebhookUpdate(){let e=this.constructor.name+"ServiceSetAllWebhookUpdate";this.contentService.ServiceSetAllWebhookUpdate().subscribe({next:n=>{n.isSuccess?this.cmsToastrService.typeSuccessAdd():this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=Y.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.tableRowSelected=e;let n=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{t.isSuccess?this.dialog.open(Tn,{data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(n)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}};Et.\u0275fac=function(n){return new(n||Et)(b(X),b(P),b(Fe),b(Ae),b(Ie),b(oe),b(O),b(G),b(Sn),b(we),b(F),b($))},Et.\u0275cmp=L({type:Et,selectors:[["app-apitelegram-bot-config-list"]],standalone:!1,features:[j],decls:123,vars:56,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],[1,"col-4"],[1,"fa-solid","fa-webhook","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-check","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-receipt","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-message","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-inbox-in","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Username"],["matColumnDef","StatusWebhook"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-cloud-arrow-down","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(n,t){if(n&1){let p=M();r(0,"app-cms-html-list",3),R("optionActionGuideNoticeDisplayChange",function(s){return f(p),y(t.viewGuideNotice,s)||(t.viewGuideNotice=s),g(s)}),T("optionOnActionButtonMemoRow",function(){return f(p),g(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(p),g(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(p),g(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(p),g(t.onActionButtonPrintRow())}),I(1,4),c(2," -------------------------------------- "),A(),te(3,5)(4,6),I(5,7),r(6,"a",8),T("click",function(){return f(p),g(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",9),a(),r(8,"a",8),T("click",function(){return f(p),g(t.onActionButtonReload())}),C(9,"i",10),a(),A(),I(10,11),r(11,"a",12),T("click",function(){return f(p),g(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(12,"mat-slide-toggle",13),c(13),_(14,"translate"),a(),r(15,"a",12),T("click",function(){return f(p),g(t.onActionButtonStatist())}),C(16,"mat-slide-toggle",13),c(17),_(18,"translate"),a(),A(),I(19,14),v(20,fo,7,3,"div",15)(21,go,7,3,"div",15)(22,So,7,3,"div",15),r(23,"div",16)(24,"a",8),T("click",function(){return f(p),g(t.onActionButtonSetAllWebhookUpdate())}),C(25,"i",17)(26,"br"),a(),r(27,"p",18),c(28),_(29,"translate"),a()(),A(),I(30,19),v(31,_o,7,3,"div",15)(32,ho,7,3,"div",15),r(33,"div",16)(34,"a",20),T("click",function(){return f(p),g(t.onActionButtonGetMeAsync(t.tableRowSelected))}),C(35,"i",21)(36,"br"),a(),r(37,"p",18),c(38),_(39,"translate"),a()(),r(40,"div",16)(41,"a",20),T("click",function(){return f(p),g(t.onActionButtonInboxList(t.tableRowSelected))}),C(42,"i",22)(43,"br"),a(),r(44,"p",18),c(45),_(46,"translate"),a()(),r(47,"div",16)(48,"a",20),T("click",function(){return f(p),g(t.onActionButtonOutboxList(t.tableRowSelected))}),C(49,"i",23)(50,"br"),a(),r(51,"p",18),c(52),_(53,"translate"),a()(),r(54,"div",16)(55,"a",20),T("click",function(){return f(p),g(t.onActionButtonSendMessage(t.tableRowSelected))}),C(56,"i",24)(57,"br"),a(),r(58,"p",18),c(59),_(60,"translate"),a()(),r(61,"div",16)(62,"a",20),T("click",function(){return f(p),g(t.onActionButtonReceiveMessageAll(t.tableRowSelected))}),C(63,"i",25)(64,"br"),a(),r(65,"p",18),c(66),_(67,"translate"),a()(),r(68,"div",16)(69,"a",20),T("click",function(){return f(p),g(t.onActionButtonReceiveMessageLast(t.tableRowSelected))}),C(70,"i",24)(71,"br"),a(),r(72,"p",18),c(73),_(74,"translate"),a()(),r(75,"div",16)(76,"a",8),T("click",function(){return f(p),g(t.onActionButtonLinkTo(t.tableRowSelected))}),C(77,"i",26)(78,"br"),a(),r(79,"p",18),c(80),_(81,"translate"),a()(),A(),I(82,27),r(83,"app-cms-search-list",28),R("optionsChange",function(s){return f(p),y(t.optionsSearch,s)||(t.optionsSearch=s),g(s)}),a(),r(84,"app-cms-statist-list",28),R("optionsChange",function(s){return f(p),y(t.optionsStatist,s)||(t.optionsStatist=s),g(s)}),a(),A(),I(85,29),r(86,"mat-table",30,0),T("matSortChange",function(){f(p);let s=x(87);return g(t.onTableSortData(s))}),I(88,31),v(89,Co,2,1,"mat-header-cell",32)(90,bo,2,1,"mat-cell",33),A(),I(91,34),v(92,vo,2,1,"mat-header-cell",32)(93,To,4,5,"mat-cell",33),A(),I(94,35),v(95,Io,2,1,"mat-header-cell",32)(96,Mo,5,7,"mat-cell",36),A(),I(97,37),v(98,wo,2,1,"mat-header-cell",32)(99,Eo,2,1,"mat-cell",33),A(),I(100,38),v(101,yo,2,1,"mat-header-cell",32)(102,Ro,2,1,"mat-cell",33),A(),I(103,39),v(104,xo,2,1,"mat-header-cell",32)(105,Do,3,3,"mat-cell",33),A(),I(106,40),v(107,Bo,2,1,"mat-header-cell",32)(108,Lo,3,3,"mat-cell",33),A(),I(109,41),v(110,ko,2,1,"mat-header-cell",32)(111,Vo,3,3,"mat-cell",33),A(),I(112,42),v(113,Oo,3,3,"mat-header-cell",43)(114,Go,6,1,"mat-cell",44),A(),I(115,45),v(116,No,3,3,"mat-header-cell",32)(117,Po,4,0,"mat-cell",33),A(),v(118,Fo,1,0,"mat-header-row",46)(119,Ho,1,2,"mat-row",47),a(),A(),I(120,48),r(121,"mat-paginator",49,1),T("page",function(s){return f(p),g(t.onTablePageingData(s))}),a(),A(),a()}n&2&&(u("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),V("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),u("checked",t.optionsSearch.data.show),o(),d("",h(14,35,"ACTION.SEARCH")," "),o(3),u("checked",t.optionsStatist.data.show),o(),d("",h(18,37,"ACTION.STATIST")," "),o(3),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),u("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0),o(),u("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0),o(6),d(" ",h(29,39,"ACTION.SetAllWebhookUpdate")," "),o(3),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),d(" ",h(39,41,"ACTION.CHECK_SITUATION")," "),o(7),d(" ",h(46,43,"ACTION.LIST_OF_RECEIPTS")," "),o(7),d(" ",h(53,45,"ACTION.LIST_OF_SUBMISSIONS")," "),o(7),d(" ",h(60,47,"ACTION.Send_Message")," "),o(7),d(" ",h(67,49,"ACTION.RECEIVE_MESSAGES")," "),o(7),d(" ",h(74,51,"ACTION.GET_LATEST_MESSAGE")," "),o(7),d(" ",h(81,53,"TITLE.LINKTO")," "),o(3),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),u("dataSource",t.tableSource),o(32),u("matHeaderRowDef",t.tabledisplayedColumns),o(),u("matRowDefColumns",t.tabledisplayedColumns),o(2),u("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ie(55,mo)))},dependencies:[ne,k,ze,re,ae,Q,le,se,ce,pe,me,de,ue,ge,Ce,Se,fe,be,_e,he,ve,Te,ye,Re,xe,De,et,z,N,Be,Le,ke,Ve,Me],encapsulation:2});var hi=Et;var Wo=()=>[5,10,20,100];function Uo(i,l){if(i&1){let e=M();r(0,"a",9),T("click",function(){f(e);let t=S();return g(t.onActionBackToParent())}),C(1,"i",46),a()}}function jo(i,l){if(i&1){let e=M();r(0,"div",18)(1,"a",47),T("click",function(){f(e);let t=S();return g(t.onActionButtonNewRow())}),C(2,"i",48)(3,"br"),a(),r(4,"p",21),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.ADD")," "))}function qo(i,l){if(i&1){let e=M();r(0,"div",18)(1,"a",9),T("click",function(){f(e);let t=S();return g(t.onActionButtonSendMessage())}),C(2,"i",20)(3,"br"),a(),r(4,"p",21),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.Send_Message")," "))}function Qo(i,l){if(i&1){let e=M();r(0,"div",18)(1,"a",49),T("click",function(){f(e);let t=S();return g(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",50)(3,"br"),a(),r(4,"p",21),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.EDIT")," "))}function Ko(i,l){if(i&1){let e=M();r(0,"div",18)(1,"a",51),T("click",function(){f(e);let t=S();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",52)(3,"br"),a(),r(4,"p",21),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.DELETE")," "))}function zo(i,l){if(i&1&&(r(0,"mat-header-cell",53),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Jo(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),d(" ",e.id," ")}}function $o(i,l){if(i&1&&(r(0,"mat-header-cell",53),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Yo(i,l){if(i&1&&(r(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),a()),i&2){let e=l.$implicit;o(),d(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function Xo(i,l){if(i&1&&(r(0,"mat-header-cell",53),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Zo(i,l){if(i&1&&(r(0,"mat-cell",54),_(1,"statusCellClass"),C(2,"i",54),_(3,"statusIconClass"),a()),i&2){let e=l.$implicit;u("ngClass",h(1,2,e.recordStatus)),o(2),u("ngClass",h(3,4,e.recordStatus))}}function er(i,l){if(i&1&&(r(0,"mat-header-cell",53),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.linkBotConfigId==null?null:e.fieldsInfo.linkBotConfigId.fieldTitle," ")}}function tr(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),d(" ",e.linkBotConfigId," ")}}function ir(i,l){if(i&1&&(r(0,"mat-header-cell",53),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," ")}}function nr(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),d(" ",e.username," ")}}function or(i,l){if(i&1&&(r(0,"mat-header-cell",53),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.chatId==null?null:e.fieldsInfo.chatId.fieldTitle," ")}}function rr(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),d(" ",e.chatId," ")}}function ar(i,l){if(i&1&&(r(0,"mat-header-cell",53),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.statusWebhook==null?null:e.fieldsInfo.statusWebhook.fieldTitle," ")}}function lr(i,l){if(i&1&&(r(0,"mat-cell"),C(1,"i",54),_(2,"boolclass"),a()),i&2){let e=l.$implicit;o(),u("ngClass",h(2,1,e.statusWebhook))}}function sr(i,l){if(i&1&&(r(0,"mat-header-cell",53),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function cr(i,l){if(i&1&&(r(0,"mat-cell",55),c(1),_(2,"localeDate"),a()),i&2){let e=l.$implicit,n=S();o(),ii(" ",h(2,2,e.createdDate)," ",n.publicHelper.getTime(e.createdDate)," ")}}function pr(i,l){if(i&1&&(r(0,"mat-header-cell",53),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function mr(i,l){if(i&1&&(r(0,"mat-cell"),c(1),_(2,"localeDate"),a()),i&2){let e=l.$implicit;o(),d(" ",h(2,1,e.updatedDate)," ")}}function dr(i,l){i&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),i&2&&(o(),d(" ",h(2,1,"TITLE.OPTION")," "))}function ur(i,l){if(i&1&&(r(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),i&2){let e=x(5);o(),u("matMenuTriggerFor",e)}}function fr(i,l){i&1&&C(0,"mat-header-row")}function gr(i,l){if(i&1){let e=M();r(0,"mat-row",58),T("click",function(t){let p=f(e).$implicit,m=S();return g(m.onActionTableRowSelect(p,t))})("rtclick",function(t){let p=f(e).$implicit,m=S();return g(m.onActionTableRowSelect(p,t))}),a()}if(i&2){let e=l.$implicit,n=S();V("ntk-row-selected",e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var yt=class yt extends Ee{constructor(e,n,t,p,m,s,w,H,Qe,Ge,st){super(e,new yi,Qe,p,w);this.contentService=e;this.cmsToastrService=n;this.activatedRoute=t;this.tokenHelper=p;this.router=m;this.cdr=s;this.translate=w;this.pageInfo=H;this.publicHelper=Qe;this.cmsStoreService=Ge;this.dialog=st;this.requestLinkBotConfigId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.dataModelResult=new q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","LinkBotConfigId","Username","ChatId","StatusWebhook","CreatedDate","UpdatedDate"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","LinkBotConfigId","Username","ChatId","StatusWebhook","CreatedDate","UpdatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ne=>this.onSubmitOptionsSearch(Ne)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=B.Ascending}ngOnInit(){this.requestLinkBotConfigId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBotConfigId"));let e=new U;this.requestLinkBotConfigId>0&&(e.propertyName="LinkBotConfigId",e.value=this.requestLinkBotConfigId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>K(this,null,function*(){this.tokenInfo=n,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new yi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(n.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(n).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}}onActionButtonEditRow(e=this.tableRowSelected){}onActionButtonDeleteRow(e=this.tableRowSelected){}onActionButtonGoToModuleList(e=this.tableRowSelected){}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{n.set(s,0)}),n.set("All",0);let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(w=>{n.set(w,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let p=JSON.parse(JSON.stringify(this.filteModelContent)),m=new U;m.propertyName="RecordStatus",m.value=Y.Available,p.filters.push(m),this.contentService.ServiceGetCount(p).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(w=>{n.set(w,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSendMessage(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),this.dialog.open(nt,{data:{linkBotConfigId:e.linkBotConfigId,chatId:e.chatId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["api-telegram/bot-config"])}};yt.\u0275fac=function(n){return new(n||yt)(b(ai),b(P),b(ci),b(Ae),b(oe),b(O),b(G),b(we),b(F),b(Ie),b($))},yt.\u0275cmp=L({type:yt,selectors:[["app-apitelegram-log-input-list"]],standalone:!1,features:[j],decls:70,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-star",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-message","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkBotConfigId"],["matColumnDef","Username"],["matColumnDef","ChatId"],["matColumnDef","StatusWebhook"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(n,t){if(n&1){let p=M();r(0,"app-cms-html-list",3),R("optionActionGuideNoticeDisplayChange",function(s){return f(p),y(t.viewGuideNotice,s)||(t.viewGuideNotice=s),g(s)}),T("optionOnActionButtonMemoRow",function(){return f(p),g(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(p),g(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(p),g(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(p),g(t.onActionButtonPrintRow())}),I(1,4),c(2," -------------------------------------- "),A(),te(3,5)(4,6),I(5,7),v(6,Uo,2,0,"a",8),r(7,"a",9),T("click",function(){return f(p),g(t.viewGuideNotice=!t.viewGuideNotice)}),C(8,"i",10),a(),r(9,"a",9),T("click",function(){return f(p),g(t.onActionButtonReload())}),C(10,"i",11),a(),A(),I(11,12),r(12,"a",13),T("click",function(){return f(p),g(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(13,"mat-slide-toggle",14),c(14),_(15,"translate"),a(),A(),I(16,15),v(17,jo,7,3,"div",16)(18,qo,7,3,"div",16),A(),I(19,17),v(20,Qo,7,3,"div",16)(21,Ko,7,3,"div",16),r(22,"div",18)(23,"a",19),T("click",function(){return f(p),g(t.onActionButtonSendMessage(t.tableRowSelected))}),C(24,"i",20)(25,"br"),a(),r(26,"p",21),c(27),_(28,"translate"),a()(),A(),I(29,22),r(30,"app-cms-search-list",23),R("optionsChange",function(s){return f(p),y(t.optionsSearch,s)||(t.optionsSearch=s),g(s)}),a(),r(31,"app-cms-statist-list",23),R("optionsChange",function(s){return f(p),y(t.optionsStatist,s)||(t.optionsStatist=s),g(s)}),a(),A(),I(32,24),r(33,"mat-table",25,0),T("matSortChange",function(){f(p);let s=x(34);return g(t.onTableSortData(s))}),I(35,26),v(36,zo,2,1,"mat-header-cell",27)(37,Jo,2,1,"mat-cell",28),A(),I(38,29),v(39,$o,2,1,"mat-header-cell",27)(40,Yo,4,5,"mat-cell",28),A(),I(41,30),v(42,Xo,2,1,"mat-header-cell",27)(43,Zo,4,6,"mat-cell",31),A(),I(44,32),v(45,er,2,1,"mat-header-cell",27)(46,tr,2,1,"mat-cell",28),A(),I(47,33),v(48,ir,2,1,"mat-header-cell",27)(49,nr,2,1,"mat-cell",28),A(),I(50,34),v(51,or,2,1,"mat-header-cell",27)(52,rr,2,1,"mat-cell",28),A(),I(53,35),v(54,ar,2,1,"mat-header-cell",27)(55,lr,3,3,"mat-cell",28),A(),I(56,36),v(57,sr,2,1,"mat-header-cell",27)(58,cr,3,4,"mat-cell",37),A(),I(59,38),v(60,pr,2,1,"mat-header-cell",27)(61,mr,3,3,"mat-cell",28),A(),I(62,39),v(63,dr,3,3,"mat-header-cell",40)(64,ur,6,1,"mat-cell",41),A(),v(65,fr,1,0,"mat-header-row",42)(66,gr,1,2,"mat-row",43),a(),A(),I(67,44),r(68,"mat-paginator",45,1),T("page",function(s){return f(p),g(t.onTablePageingData(s))}),a(),A(),a()}n&2&&(u("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),u("ngIf",t.requestLinkBotConfigId>0),o(4),V("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),u("checked",t.optionsSearch.data.show),o(),d("",h(15,26,"ACTION.SEARCH")," "),o(3),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),u("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.id.length)>0),o(2),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),d(" ",h(28,28,"ACTION.Send_Message")," "),o(3),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),u("dataSource",t.tableSource),o(32),u("matHeaderRowDef",t.tabledisplayedColumns),o(),u("matRowDefColumns",t.tabledisplayedColumns),o(2),u("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ie(30,Wo)))},dependencies:[ne,k,re,ae,le,se,ce,pe,me,de,ue,ge,Ce,Se,fe,be,_e,he,ve,Te,ye,Re,xe,De,z,N,Be,Le,ke,Ve,Me],encapsulation:2});var Xt=yt;var Sr=()=>[5,10,20,100];function _r(i,l){if(i&1){let e=M();r(0,"a",8),T("click",function(){f(e);let t=S();return g(t.onActionBackToParent())}),C(1,"i",46),a()}}function hr(i,l){if(i&1){let e=M();r(0,"div",18)(1,"a",47),T("click",function(){f(e);let t=S();return g(t.onActionButtonNewRow())}),C(2,"i",48)(3,"br"),a(),r(4,"p",21),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.ADD")," "))}function Cr(i,l){if(i&1){let e=M();r(0,"div",18)(1,"a",8),T("click",function(){f(e);let t=S();return g(t.onActionButtonSendMessage())}),C(2,"i",20)(3,"br"),a(),r(4,"p",21),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.Send_Message")," "))}function br(i,l){if(i&1){let e=M();r(0,"div",18)(1,"a",49),T("click",function(){f(e);let t=S();return g(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",50)(3,"br"),a(),r(4,"p",21),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.EDIT")," "))}function vr(i,l){if(i&1){let e=M();r(0,"div",18)(1,"a",51),T("click",function(){f(e);let t=S();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",52)(3,"br"),a(),r(4,"p",21),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.DELETE")," "))}function Tr(i,l){if(i&1&&(r(0,"mat-header-cell",53),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ir(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),d(" ",e.id," ")}}function Ar(i,l){if(i&1&&(r(0,"mat-header-cell",53),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Mr(i,l){if(i&1&&(r(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),a()),i&2){let e=l.$implicit;o(),d(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function wr(i,l){if(i&1&&(r(0,"mat-header-cell",53),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Er(i,l){if(i&1&&(r(0,"mat-cell",54),_(1,"statusCellClass"),C(2,"i",54),_(3,"statusIconClass"),a()),i&2){let e=l.$implicit;u("ngClass",h(1,2,e.recordStatus)),o(2),u("ngClass",h(3,4,e.recordStatus))}}function yr(i,l){if(i&1&&(r(0,"mat-header-cell",53),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.linkBotConfigId==null?null:e.fieldsInfo.linkBotConfigId.fieldTitle," ")}}function Rr(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),d(" ",e.linkBotConfigId," ")}}function xr(i,l){if(i&1&&(r(0,"mat-header-cell",53),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," ")}}function Dr(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),d(" ",e.username," ")}}function Br(i,l){if(i&1&&(r(0,"mat-header-cell",53),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.chatId==null?null:e.fieldsInfo.chatId.fieldTitle," ")}}function Lr(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),d(" ",e.chatId," ")}}function kr(i,l){if(i&1&&(r(0,"mat-header-cell",53),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.statusWebhook==null?null:e.fieldsInfo.statusWebhook.fieldTitle," ")}}function Vr(i,l){if(i&1&&(r(0,"mat-cell"),C(1,"i",54),_(2,"boolclass"),a()),i&2){let e=l.$implicit;o(),u("ngClass",h(2,1,e.statusWebhook))}}function Or(i,l){if(i&1&&(r(0,"mat-header-cell",53),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Gr(i,l){if(i&1&&(r(0,"mat-cell",55),c(1),_(2,"localeDate"),a()),i&2){let e=l.$implicit,n=S();o(),ii(" ",h(2,2,e.createdDate)," ",n.publicHelper.getTime(e.createdDate)," ")}}function Nr(i,l){if(i&1&&(r(0,"mat-header-cell",53),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Pr(i,l){if(i&1&&(r(0,"mat-cell"),c(1),_(2,"localeDate"),a()),i&2){let e=l.$implicit;o(),d(" ",h(2,1,e.updatedDate)," ")}}function Fr(i,l){i&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),i&2&&(o(),d(" ",h(2,1,"TITLE.OPTION")," "))}function Hr(i,l){if(i&1&&(r(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),i&2){let e=x(5);o(),u("matMenuTriggerFor",e)}}function Wr(i,l){i&1&&C(0,"mat-header-row")}function Ur(i,l){if(i&1){let e=M();r(0,"mat-row",58),T("click",function(t){let p=f(e).$implicit,m=S();return g(m.onActionTableRowSelect(p,t))})("rtclick",function(t){let p=f(e).$implicit,m=S();return g(m.onActionTableRowSelect(p,t))}),a()}if(i&2){let e=l.$implicit,n=S();V("ntk-row-selected",e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var Rt=class Rt extends Ee{constructor(e,n,t,p,m,s,w,H,Qe,Ge,st){super(e,new Ri,Ge,p,H);this.contentService=e;this.cmsToastrService=n;this.activatedRoute=t;this.tokenHelper=p;this.router=m;this.cdr=s;this.cmsStoreService=w;this.translate=H;this.pageInfo=Qe;this.publicHelper=Ge;this.dialog=st;this.requestLinkBotConfigId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.dataModelResult=new q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","LinkBotConfigId","Username","ChatId","StatusWebhook","CreatedDate","UpdatedDate"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","LinkBotConfigId","Username","ChatId","StatusWebhook","CreatedDate","UpdatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ne=>this.onSubmitOptionsSearch(Ne)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=B.Ascending}ngOnInit(){this.requestLinkBotConfigId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBotConfigId"));let e=new U;this.requestLinkBotConfigId>0&&(e.propertyName="LinkBotConfigId",e.value=this.requestLinkBotConfigId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>K(this,null,function*(){this.tokenInfo=n,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ri);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(n.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(n).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){}onActionButtonEditRow(e=this.tableRowSelected){}onActionButtonDeleteRow(e=this.tableRowSelected){}onActionButtonGoToModuleList(e=this.tableRowSelected){}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{n.set(s,0)}),n.set("All",0);let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(w=>{n.set(w,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let p=JSON.parse(JSON.stringify(this.filteModelContent)),m=new U;m.propertyName="RecordStatus",m.value=Y.Available,p.filters.push(m),this.contentService.ServiceGetCount(p).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(w=>{n.set(w,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSendMessage(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),this.dialog.open(nt,{data:{linkBotConfigId:e.linkBotConfigId,ChatId:e.chatId}}).afterClosed().subscribe(t=>{this.DataGetAll()})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonLinkTo(e=this.tableRowSelected){}onActionBackToParent(){this.router.navigate(["api-telegram/bot-config"])}};Rt.\u0275fac=function(n){return new(n||Rt)(b(li),b(P),b(ci),b(Ae),b(oe),b(O),b(Ie),b(G),b(we),b(F),b($))},Rt.\u0275cmp=L({type:Rt,selectors:[["app-apitelegram-bot-config-list"]],standalone:!1,features:[j],decls:76,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","target","_blank",3,"click",4,"ngIf"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-message","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkBotConfigId"],["matColumnDef","Username"],["matColumnDef","ChatId"],["matColumnDef","StatusWebhook"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(n,t){if(n&1){let p=M();r(0,"app-cms-html-list",3),R("optionActionGuideNoticeDisplayChange",function(s){return f(p),y(t.viewGuideNotice,s)||(t.viewGuideNotice=s),g(s)}),T("optionOnActionButtonMemoRow",function(){return f(p),g(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(p),g(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(p),g(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(p),g(t.onActionButtonPrintRow())}),I(1,4),c(2," -------------------------------------- "),A(),te(3,5)(4,6),I(5,7),r(6,"a",8),T("click",function(){return f(p),g(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",9),a(),v(8,_r,2,0,"a",10),r(9,"a",8),T("click",function(){return f(p),g(t.viewGuideNotice=!t.viewGuideNotice)}),C(10,"i",9),a(),r(11,"a",8),T("click",function(){return f(p),g(t.onActionButtonReload())}),C(12,"i",11),a(),A(),I(13,12),r(14,"a",13),T("click",function(){return f(p),g(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(15,"mat-slide-toggle",14),c(16),_(17,"translate"),a(),r(18,"a",13),T("click",function(){return f(p),g(t.onActionButtonStatist())}),C(19,"mat-slide-toggle",14),c(20),_(21,"translate"),a(),A(),I(22,15),v(23,hr,7,3,"div",16)(24,Cr,7,3,"div",16),A(),I(25,17),v(26,br,7,3,"div",16)(27,vr,7,3,"div",16),r(28,"div",18)(29,"a",19),T("click",function(){return f(p),g(t.onActionButtonSendMessage(t.tableRowSelected))}),C(30,"i",20)(31,"br"),a(),r(32,"p",21),c(33),_(34,"translate"),a()(),A(),I(35,22),r(36,"app-cms-search-list",23),R("optionsChange",function(s){return f(p),y(t.optionsSearch,s)||(t.optionsSearch=s),g(s)}),a(),r(37,"app-cms-statist-list",23),R("optionsChange",function(s){return f(p),y(t.optionsStatist,s)||(t.optionsStatist=s),g(s)}),a(),A(),I(38,24),r(39,"mat-table",25,0),T("matSortChange",function(){f(p);let s=x(40);return g(t.onTableSortData(s))}),I(41,26),v(42,Tr,2,1,"mat-header-cell",27)(43,Ir,2,1,"mat-cell",28),A(),I(44,29),v(45,Ar,2,1,"mat-header-cell",27)(46,Mr,4,5,"mat-cell",28),A(),I(47,30),v(48,wr,2,1,"mat-header-cell",27)(49,Er,4,6,"mat-cell",31),A(),I(50,32),v(51,yr,2,1,"mat-header-cell",27)(52,Rr,2,1,"mat-cell",28),A(),I(53,33),v(54,xr,2,1,"mat-header-cell",27)(55,Dr,2,1,"mat-cell",28),A(),I(56,34),v(57,Br,2,1,"mat-header-cell",27)(58,Lr,2,1,"mat-cell",28),A(),I(59,35),v(60,kr,2,1,"mat-header-cell",27)(61,Vr,3,3,"mat-cell",28),A(),I(62,36),v(63,Or,2,1,"mat-header-cell",27)(64,Gr,3,4,"mat-cell",37),A(),I(65,38),v(66,Nr,2,1,"mat-header-cell",27)(67,Pr,3,3,"mat-cell",28),A(),I(68,39),v(69,Fr,3,3,"mat-header-cell",40)(70,Hr,6,1,"mat-cell",41),A(),v(71,Wr,1,0,"mat-header-row",42)(72,Ur,1,2,"mat-row",43),a(),A(),I(73,44),r(74,"mat-paginator",45,1),T("page",function(s){return f(p),g(t.onTablePageingData(s))}),a(),A(),a()}n&2&&(u("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(8),u("ngIf",t.requestLinkBotConfigId>0),o(4),V("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),u("checked",t.optionsSearch.data.show),o(),d("",h(17,28,"ACTION.SEARCH")," "),o(3),u("checked",t.optionsStatist.data.show),o(),d("",h(21,30,"ACTION.STATIST")," "),o(3),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),u("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.id.length)>0),o(2),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),d(" ",h(34,32,"ACTION.Send_Message")," "),o(3),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),u("dataSource",t.tableSource),o(32),u("matHeaderRowDef",t.tabledisplayedColumns),o(),u("matRowDefColumns",t.tabledisplayedColumns),o(2),u("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ie(34,Sr)))},dependencies:[ne,k,re,ae,le,se,ce,pe,me,de,ue,ge,Ce,Se,fe,be,_e,he,ve,Te,ye,Re,xe,De,z,N,Be,Le,ke,Ve,Me],encapsulation:2});var Zt=Rt;var jr=()=>[5,10,20,100],qr=i=>({display:i});function Qr(i,l){if(i&1){let e=M();r(0,"div",39)(1,"a",40),T("click",function(){f(e);let t=S();return g(t.onActionButtonNewRow())}),C(2,"i",41)(3,"br"),a(),r(4,"p",42),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.ADD")," "))}function Kr(i,l){if(i&1){let e=M();r(0,"div",39)(1,"a",43),T("click",function(){f(e);let t=S();return g(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",44)(3,"br"),a(),r(4,"p",42),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.EDIT")," "))}function zr(i,l){if(i&1){let e=M();r(0,"div",39)(1,"a",45),T("click",function(){f(e);let t=S();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",46)(3,"br"),a(),r(4,"p",42),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.DELETE")," "))}function Jr(i,l){if(i&1){let e=M();r(0,"div",39)(1,"a",47),T("click",function(){f(e);let t=S();return g(t.onActionButtonSiteList(t.tableRowSelected))}),C(2,"i",48)(3,"br"),a(),r(4,"p",42),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.LIST_SITES")," "))}function $r(i,l){if(i&1){let e=M();r(0,"div",39)(1,"a",47),T("click",function(){f(e);let t=S();return g(t.onActionButtonSiteCategoryList(t.tableRowSelected))}),C(2,"i",49)(3,"br"),a(),r(4,"p",42),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.CATEGORY_LIST_SITES")," "))}function Yr(i,l){if(i&1&&(r(0,"mat-header-cell",50),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Xr(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),d(" ",e.id," ")}}function Zr(i,l){if(i&1&&(r(0,"mat-header-cell",50),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ea(i,l){if(i&1&&(r(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),a()),i&2){let e=l.$implicit;o(),d(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function ta(i,l){if(i&1&&(r(0,"mat-header-cell",50),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ia(i,l){if(i&1&&C(0,"select",53),i&2){let e=S().$implicit,n=S();u("contentService",n.contentService)("row",e)("ngStyle",Ke(3,qr,e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)?"":"none"))}}function na(i,l){if(i&1&&(r(0,"mat-cell",51),_(1,"statusCellClass"),C(2,"i",51),_(3,"statusIconClass"),v(4,ia,1,5,"select",52),a()),i&2){let e=l.$implicit,n=S();u("ngClass",h(1,3,e.recordStatus)),o(2),u("ngClass",h(3,5,e.recordStatus)),o(2),u("ngIf",n.dataModelResult==null||n.dataModelResult.access==null?null:n.dataModelResult.access.accessEditRow)}}function oa(i,l){if(i&1&&(r(0,"mat-header-cell",50),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function ra(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),d(" ",e.title," ")}}function aa(i,l){if(i&1&&(r(0,"mat-header-cell",50),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," ")}}function la(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),d(" ",e.username," ")}}function sa(i,l){if(i&1&&(r(0,"mat-header-cell",50),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.statusWebhook==null?null:e.fieldsInfo.statusWebhook.fieldTitle," ")}}function ca(i,l){if(i&1&&(r(0,"mat-cell"),C(1,"i",51),_(2,"boolclass"),a()),i&2){let e=l.$implicit;o(),u("ngClass",h(2,1,e.statusWebhook))}}function pa(i,l){if(i&1&&(r(0,"mat-header-cell",50),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ma(i,l){if(i&1&&(r(0,"mat-cell"),c(1),_(2,"localeDate"),a()),i&2){let e=l.$implicit;o(),d(" ",h(2,1,e.createdDate)," ")}}function da(i,l){if(i&1&&(r(0,"mat-header-cell",50),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function ua(i,l){if(i&1&&(r(0,"mat-cell"),c(1),_(2,"localeDate"),a()),i&2){let e=l.$implicit;o(),d(" ",h(2,1,e.updatedDate)," ")}}function fa(i,l){i&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),i&2&&(o(),d(" ",h(2,1,"TITLE.OPTION")," "))}function ga(i,l){if(i&1&&(r(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),i&2){let e=x(5);o(),u("matMenuTriggerFor",e)}}function Sa(i,l){i&1&&C(0,"mat-header-row")}function _a(i,l){if(i&1){let e=M();r(0,"mat-row",56),T("click",function(t){let p=f(e).$implicit,m=S();return g(m.onActionTableRowSelect(p,t))})("rtclick",function(t){let p=f(e).$implicit,m=S();return g(m.onActionTableRowSelect(p,t))}),a()}if(i&2){let e=l.$implicit,n=S();V("ntk-row-selected",e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var xt=class xt extends Ee{constructor(e,n,t,p,m,s,w,H,Qe,Ge,st){super(e,new xi,Ge,p,w);this.contentService=e;this.cmsToastrService=n;this.cmsConfirmationDialogService=t;this.tokenHelper=p;this.router=m;this.cdr=s;this.translate=w;this.pageInfo=H;this.cmsStoreService=Qe;this.publicHelper=Ge;this.dialog=st;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.dataModelResult=new q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","Username","StatusWebhook","CreatedDate","UpdatedDate"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","Username","StatusWebhook","CreatedDate","UpdatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ne=>this.onSubmitOptionsSearch(Ne)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=B.Ascending}ngOnInit(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>K(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new xi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(n.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(n).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){}onActionButtonEditRow(e=this.tableRowSelected){}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(p=>{this.cmsToastrService.typeErrorSelected(p)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(p=>{n=p["MESSAGE.Please_Confirm"],t=p["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(p=>{if(p){let m=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(m,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(m)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(m,!1)}})}}).catch(()=>{Je.consoleLog&&console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")})}onActionButtonGoToModuleList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/siteModule/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{n.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{n.set(s,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(w=>{n.set(w,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let p=JSON.parse(JSON.stringify(this.filteModelContent)),m=new U;m.propertyName="RecordStatus",m.value=Y.Available,p.filters.push(m),this.contentService.ServiceGetCount(p).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(w=>{n.set(w,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSiteList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}this.onActionTableRowSelect(e),this.router.navigate(["core/site/modulelist/LinkModuleId/",e.id])}onActionButtonSiteCategoryList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}this.onActionTableRowSelect(e),this.router.navigate(["core/sitecategorymodule/LinkCmsModuleId/",e.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};xt.\u0275fac=function(n){return new(n||xt)(b(si),b(P),b(Fe),b(Ae),b(oe),b(O),b(G),b(we),b(Ie),b(F),b($))},xt.\u0275cmp=L({type:xt,selectors:[["app-apitelegram-bot-config-list"]],standalone:!1,features:[j],decls:60,vars:28,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Username"],["matColumnDef","StatusWebhook"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-layer-group","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(n,t){if(n&1){let p=M();r(0,"app-cms-html-list",3),R("optionActionGuideNoticeDisplayChange",function(s){return f(p),y(t.viewGuideNotice,s)||(t.viewGuideNotice=s),g(s)}),T("optionOnActionButtonMemoRow",function(){return f(p),g(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(p),g(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(p),g(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(p),g(t.onActionButtonPrintRow())}),I(1,4),c(2," -------------------------------------- "),A(),te(3,5)(4,6),I(5,7),r(6,"a",8),T("click",function(){return f(p),g(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",9),a(),r(8,"a",8),T("click",function(){return f(p),g(t.onActionButtonReload())}),C(9,"i",10),a(),A(),I(10,11),r(11,"a",12),T("click",function(){return f(p),g(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(12,"mat-slide-toggle",13),c(13),_(14,"translate"),a(),A(),I(15,14),v(16,Qr,7,3,"div",15),A(),I(17,16),v(18,Kr,7,3,"div",15)(19,zr,7,3,"div",15)(20,Jr,7,3,"div",15)(21,$r,7,3,"div",15),A(),I(22,17),r(23,"app-cms-search-list",18),R("optionsChange",function(s){return f(p),y(t.optionsSearch,s)||(t.optionsSearch=s),g(s)}),a(),r(24,"app-cms-statist-list",18),R("optionsChange",function(s){return f(p),y(t.optionsStatist,s)||(t.optionsStatist=s),g(s)}),a(),A(),I(25,19),r(26,"mat-table",20,0),T("matSortChange",function(){f(p);let s=x(27);return g(t.onTableSortData(s))}),I(28,21),v(29,Yr,2,1,"mat-header-cell",22)(30,Xr,2,1,"mat-cell",23),A(),I(31,24),v(32,Zr,2,1,"mat-header-cell",22)(33,ea,4,5,"mat-cell",23),A(),I(34,25),v(35,ta,2,1,"mat-header-cell",22)(36,na,5,7,"mat-cell",26),A(),I(37,27),v(38,oa,2,1,"mat-header-cell",22)(39,ra,2,1,"mat-cell",23),A(),I(40,28),v(41,aa,2,1,"mat-header-cell",22)(42,la,2,1,"mat-cell",23),A(),I(43,29),v(44,sa,2,1,"mat-header-cell",22)(45,ca,3,3,"mat-cell",23),A(),I(46,30),v(47,pa,2,1,"mat-header-cell",22)(48,ma,3,3,"mat-cell",23),A(),I(49,31),v(50,da,2,1,"mat-header-cell",22)(51,ua,3,3,"mat-cell",23),A(),I(52,32),v(53,fa,3,3,"mat-header-cell",33)(54,ga,6,1,"mat-cell",34),A(),v(55,Sa,1,0,"mat-header-row",35)(56,_a,1,2,"mat-row",36),a(),A(),I(57,37),r(58,"mat-paginator",38,1),T("page",function(s){return f(p),g(t.onTablePageingData(s))}),a(),A(),a()}n&2&&(u("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),V("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),u("checked",t.optionsSearch.data.show),o(),d("",h(14,25,"ACTION.SEARCH")," "),o(3),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(),u("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),o(),u("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),u("dataSource",t.tableSource),o(29),u("matHeaderRowDef",t.tabledisplayedColumns),o(),u("matRowDefColumns",t.tabledisplayedColumns),o(2),u("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ie(27,jr)))},dependencies:[ne,k,ze,re,ae,Q,le,se,ce,pe,me,de,ue,ge,Ce,Se,fe,be,_e,he,ve,Te,ye,Re,xe,De,et,z,N,Be,Le,ke,Ve,Me],encapsulation:2});var Ci=xt;var ha=()=>[5,10,20,100],Ca=i=>({display:i});function ba(i,l){if(i&1){let e=M();r(0,"div",39)(1,"a",40),T("click",function(){f(e);let t=S();return g(t.onActionButtonNewRow())}),C(2,"i",41)(3,"br"),a(),r(4,"p",42),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.ADD")," "))}function va(i,l){if(i&1){let e=M();r(0,"div",39)(1,"a",43),T("click",function(){f(e);let t=S();return g(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",44)(3,"br"),a(),r(4,"p",42),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.EDIT")," "))}function Ta(i,l){if(i&1){let e=M();r(0,"div",39)(1,"a",45),T("click",function(){f(e);let t=S();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",46)(3,"br"),a(),r(4,"p",42),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.DELETE")," "))}function Ia(i,l){if(i&1){let e=M();r(0,"div",39)(1,"a",47),T("click",function(){f(e);let t=S();return g(t.onActionButtonSiteList(t.tableRowSelected))}),C(2,"i",48)(3,"br"),a(),r(4,"p",42),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.LIST_SITES")," "))}function Aa(i,l){if(i&1){let e=M();r(0,"div",39)(1,"a",47),T("click",function(){f(e);let t=S();return g(t.onActionButtonSiteCategoryList(t.tableRowSelected))}),C(2,"i",49)(3,"br"),a(),r(4,"p",42),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.CATEGORY_LIST_SITES")," "))}function Ma(i,l){if(i&1&&(r(0,"mat-header-cell",50),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function wa(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),d(" ",e.id," ")}}function Ea(i,l){if(i&1&&(r(0,"mat-header-cell",50),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ya(i,l){if(i&1&&(r(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),a()),i&2){let e=l.$implicit;o(),d(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function Ra(i,l){if(i&1&&(r(0,"mat-header-cell",50),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function xa(i,l){if(i&1&&C(0,"select",53),i&2){let e=S().$implicit,n=S();u("contentService",n.contentService)("row",e)("ngStyle",Ke(3,Ca,e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)?"":"none"))}}function Da(i,l){if(i&1&&(r(0,"mat-cell",51),_(1,"statusCellClass"),C(2,"i",51),_(3,"statusIconClass"),v(4,xa,1,5,"select",52),a()),i&2){let e=l.$implicit,n=S();u("ngClass",h(1,3,e.recordStatus)),o(2),u("ngClass",h(3,5,e.recordStatus)),o(2),u("ngIf",n.dataModelResult==null||n.dataModelResult.access==null?null:n.dataModelResult.access.accessEditRow)}}function Ba(i,l){if(i&1&&(r(0,"mat-header-cell",50),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function La(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),d(" ",e.title," ")}}function ka(i,l){if(i&1&&(r(0,"mat-header-cell",50),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," ")}}function Va(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),d(" ",e.username," ")}}function Oa(i,l){if(i&1&&(r(0,"mat-header-cell",50),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.statusWebhook==null?null:e.fieldsInfo.statusWebhook.fieldTitle," ")}}function Ga(i,l){if(i&1&&(r(0,"mat-cell"),C(1,"i",51),_(2,"boolclass"),a()),i&2){let e=l.$implicit;o(),u("ngClass",h(2,1,e.statusWebhook))}}function Na(i,l){if(i&1&&(r(0,"mat-header-cell",50),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Pa(i,l){if(i&1&&(r(0,"mat-cell"),c(1),_(2,"localeDate"),a()),i&2){let e=l.$implicit;o(),d(" ",h(2,1,e.createdDate)," ")}}function Fa(i,l){if(i&1&&(r(0,"mat-header-cell",50),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Ha(i,l){if(i&1&&(r(0,"mat-cell"),c(1),_(2,"localeDate"),a()),i&2){let e=l.$implicit;o(),d(" ",h(2,1,e.updatedDate)," ")}}function Wa(i,l){i&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),i&2&&(o(),d(" ",h(2,1,"TITLE.OPTION")," "))}function Ua(i,l){if(i&1&&(r(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),i&2){let e=x(5);o(),u("matMenuTriggerFor",e)}}function ja(i,l){i&1&&C(0,"mat-header-row")}function qa(i,l){if(i&1){let e=M();r(0,"mat-row",56),T("click",function(t){let p=f(e).$implicit,m=S();return g(m.onActionTableRowSelect(p,t))})("rtclick",function(t){let p=f(e).$implicit,m=S();return g(m.onActionTableRowSelect(p,t))}),a()}if(i&2){let e=l.$implicit,n=S();V("ntk-row-selected",e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var Dt=class Dt extends Ee{constructor(e,n,t,p,m,s,w,H,Qe,Ge,st){super(e,new Di,Ge,p,w);this.contentService=e;this.cmsToastrService=n;this.cmsConfirmationDialogService=t;this.tokenHelper=p;this.router=m;this.cdr=s;this.translate=w;this.cmsStoreService=H;this.pageInfo=Qe;this.publicHelper=Ge;this.dialog=st;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.dataModelResult=new q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","Username","StatusWebhook","CreatedDate","UpdatedDate"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","Username","StatusWebhook","CreatedDate","UpdatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ne=>this.onSubmitOptionsSearch(Ne)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=B.Ascending}ngOnInit(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>K(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Di);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(n.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(n).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){}onActionButtonEditRow(e=this.tableRowSelected){}onActionButtonDeleteRow(e=this.tableRowSelected){}onActionButtonGoToModuleList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/siteModule/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{n.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{n.set(s,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(w=>{n.set(w,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let p=JSON.parse(JSON.stringify(this.filteModelContent)),m=new U;m.propertyName="RecordStatus",m.value=Y.Available,p.filters.push(m),this.contentService.ServiceGetCount(p).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(w=>{n.set(w,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSiteList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}this.onActionTableRowSelect(e),this.router.navigate(["core/site/modulelist/LinkModuleId/",e.id])}onActionButtonSiteCategoryList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}this.onActionTableRowSelect(e),this.router.navigate(["core/sitecategorymodule/LinkCmsModuleId/",e.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Dt.\u0275fac=function(n){return new(n||Dt)(b(ri),b(P),b(Fe),b(Ae),b(oe),b(O),b(G),b(Ie),b(we),b(F),b($))},Dt.\u0275cmp=L({type:Dt,selectors:[["app-apitelegram-bot-config-list"]],standalone:!1,features:[j],decls:64,vars:32,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Username"],["matColumnDef","StatusWebhook"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-layer-group","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(n,t){if(n&1){let p=M();r(0,"app-cms-html-list",3),R("optionActionGuideNoticeDisplayChange",function(s){return f(p),y(t.viewGuideNotice,s)||(t.viewGuideNotice=s),g(s)}),T("optionOnActionButtonMemoRow",function(){return f(p),g(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(p),g(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(p),g(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(p),g(t.onActionButtonPrintRow())}),I(1,4),c(2," -------------------------------------- "),A(),te(3,5)(4,6),I(5,7),r(6,"a",8),T("click",function(){return f(p),g(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",9),a(),r(8,"a",8),T("click",function(){return f(p),g(t.onActionButtonReload())}),C(9,"i",10),a(),A(),I(10,11),r(11,"a",12),T("click",function(){return f(p),g(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(12,"mat-slide-toggle",13),c(13),_(14,"translate"),a(),r(15,"a",12),T("click",function(){return f(p),g(t.onActionButtonStatist())}),C(16,"mat-slide-toggle",13),c(17),_(18,"translate"),a(),A(),I(19,14),v(20,ba,7,3,"div",15),A(),I(21,16),v(22,va,7,3,"div",15)(23,Ta,7,3,"div",15)(24,Ia,7,3,"div",15)(25,Aa,7,3,"div",15),A(),I(26,17),r(27,"app-cms-search-list",18),R("optionsChange",function(s){return f(p),y(t.optionsSearch,s)||(t.optionsSearch=s),g(s)}),a(),r(28,"app-cms-statist-list",18),R("optionsChange",function(s){return f(p),y(t.optionsStatist,s)||(t.optionsStatist=s),g(s)}),a(),A(),I(29,19),r(30,"mat-table",20,0),T("matSortChange",function(){f(p);let s=x(31);return g(t.onTableSortData(s))}),I(32,21),v(33,Ma,2,1,"mat-header-cell",22)(34,wa,2,1,"mat-cell",23),A(),I(35,24),v(36,Ea,2,1,"mat-header-cell",22)(37,ya,4,5,"mat-cell",23),A(),I(38,25),v(39,Ra,2,1,"mat-header-cell",22)(40,Da,5,7,"mat-cell",26),A(),I(41,27),v(42,Ba,2,1,"mat-header-cell",22)(43,La,2,1,"mat-cell",23),A(),I(44,28),v(45,ka,2,1,"mat-header-cell",22)(46,Va,2,1,"mat-cell",23),A(),I(47,29),v(48,Oa,2,1,"mat-header-cell",22)(49,Ga,3,3,"mat-cell",23),A(),I(50,30),v(51,Na,2,1,"mat-header-cell",22)(52,Pa,3,3,"mat-cell",23),A(),I(53,31),v(54,Fa,2,1,"mat-header-cell",22)(55,Ha,3,3,"mat-cell",23),A(),I(56,32),v(57,Wa,3,3,"mat-header-cell",33)(58,Ua,6,1,"mat-cell",34),A(),v(59,ja,1,0,"mat-header-row",35)(60,qa,1,2,"mat-row",36),a(),A(),I(61,37),r(62,"mat-paginator",38,1),T("page",function(s){return f(p),g(t.onTablePageingData(s))}),a(),A(),a()}n&2&&(u("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),V("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),u("checked",t.optionsSearch.data.show),o(),d("",h(14,27,"ACTION.SEARCH")," "),o(3),u("checked",t.optionsStatist.data.show),o(),d("",h(18,29,"ACTION.STATIST")," "),o(3),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(),u("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),o(),u("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),u("dataSource",t.tableSource),o(29),u("matHeaderRowDef",t.tabledisplayedColumns),o(),u("matRowDefColumns",t.tabledisplayedColumns),o(2),u("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ie(31,ha)))},dependencies:[ne,k,ze,re,ae,Q,le,se,ce,pe,me,de,ue,ge,Ce,Se,fe,be,_e,he,ve,Te,ye,Re,xe,De,et,z,N,Be,Le,ke,Ve,Me],encapsulation:2});var bi=Dt;var Qa=()=>[5,10,20,100],Ka=i=>({display:i});function za(i,l){if(i&1){let e=M();r(0,"div",38)(1,"a",39),T("click",function(){f(e);let t=S();return g(t.onActionButtonNewRow())}),C(2,"i",40)(3,"br"),a(),r(4,"p",41),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.ADD")," "))}function Ja(i,l){if(i&1){let e=M();r(0,"div",38)(1,"a",42),T("click",function(){f(e);let t=S();return g(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",43)(3,"br"),a(),r(4,"p",41),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.EDIT")," "))}function $a(i,l){if(i&1){let e=M();r(0,"div",38)(1,"a",44),T("click",function(){f(e);let t=S();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",45)(3,"br"),a(),r(4,"p",41),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.DELETE")," "))}function Ya(i,l){if(i&1){let e=M();r(0,"div",38)(1,"a",46),T("click",function(){f(e);let t=S();return g(t.onActionButtonSiteList(t.tableRowSelected))}),C(2,"i",47)(3,"br"),a(),r(4,"p",41),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.LIST_SITES")," "))}function Xa(i,l){if(i&1){let e=M();r(0,"div",38)(1,"a",46),T("click",function(){f(e);let t=S();return g(t.onActionButtonSiteCategoryList(t.tableRowSelected))}),C(2,"i",48)(3,"br"),a(),r(4,"p",41),c(5),_(6,"translate"),a()()}i&2&&(o(5),d(" ",h(6,1,"ACTION.CATEGORY_LIST_SITES")," "))}function Za(i,l){if(i&1&&(r(0,"mat-header-cell",49),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function el(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),d(" ",e.id," ")}}function tl(i,l){if(i&1&&(r(0,"mat-header-cell",49),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function il(i,l){if(i&1&&(r(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),a()),i&2){let e=l.$implicit;o(),d(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function nl(i,l){if(i&1&&(r(0,"mat-header-cell",49),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ol(i,l){if(i&1&&C(0,"select",52),i&2){let e=S().$implicit,n=S();u("contentService",n.contentService)("row",e)("ngStyle",Ke(3,Ka,e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)?"":"none"))}}function rl(i,l){if(i&1&&(r(0,"mat-cell",50),_(1,"statusCellClass"),C(2,"i",50),_(3,"statusIconClass"),v(4,ol,1,5,"select",51),a()),i&2){let e=l.$implicit,n=S();u("ngClass",h(1,3,e.recordStatus)),o(2),u("ngClass",h(3,5,e.recordStatus)),o(2),u("ngIf",n.dataModelResult==null||n.dataModelResult.access==null?null:n.dataModelResult.access.accessEditRow)}}function al(i,l){if(i&1&&(r(0,"mat-header-cell",49),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," ")}}function ll(i,l){if(i&1&&(r(0,"mat-cell"),c(1),a()),i&2){let e=l.$implicit;o(),d(" ",e.username," ")}}function sl(i,l){if(i&1&&(r(0,"mat-header-cell",49),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.statusWebhook==null?null:e.fieldsInfo.statusWebhook.fieldTitle," ")}}function cl(i,l){if(i&1&&(r(0,"mat-cell"),C(1,"i",50),_(2,"boolclass"),a()),i&2){let e=l.$implicit;o(),u("ngClass",h(2,1,e.statusWebhook))}}function pl(i,l){if(i&1&&(r(0,"mat-header-cell",49),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ml(i,l){if(i&1&&(r(0,"mat-cell"),c(1),_(2,"localeDate"),a()),i&2){let e=l.$implicit;o(),d(" ",h(2,1,e.createdDate)," ")}}function dl(i,l){if(i&1&&(r(0,"mat-header-cell",49),c(1),a()),i&2){let e=S();o(),d(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function ul(i,l){if(i&1&&(r(0,"mat-cell"),c(1),_(2,"localeDate"),a()),i&2){let e=l.$implicit;o(),d(" ",h(2,1,e.updatedDate)," ")}}function fl(i,l){i&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),i&2&&(o(),d(" ",h(2,1,"TITLE.OPTION")," "))}function gl(i,l){if(i&1&&(r(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),i&2){let e=x(5);o(),u("matMenuTriggerFor",e)}}function Sl(i,l){i&1&&C(0,"mat-header-row")}function _l(i,l){if(i&1){let e=M();r(0,"mat-row",55),T("click",function(t){let p=f(e).$implicit,m=S();return g(m.onActionTableRowSelect(p,t))})("rtclick",function(t){let p=f(e).$implicit,m=S();return g(m.onActionTableRowSelect(p,t))}),a()}if(i&2){let e=l.$implicit,n=S();V("ntk-row-selected",e.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var Bt=class Bt extends Ee{constructor(e,n,t,p,m,s,w,H,Qe,Ge,st){super(e,new Bi,n,Ge,H);this.contentService=e;this.publicHelper=n;this.cmsToastrService=t;this.cmsConfirmationDialogService=p;this.router=m;this.cdr=s;this.cmsStoreService=w;this.translate=H;this.pageInfo=Qe;this.tokenHelper=Ge;this.dialog=st;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.dataModelResult=new q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","Username","StatusWebhook","CreatedDate","UpdatedDate"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","Username","StatusWebhook","CreatedDate","UpdatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ne=>this.onSubmitOptionsSearch(Ne)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=B.Ascending}ngOnInit(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>K(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Bi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(n.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(n).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){}onActionButtonEditRow(e=this.tableRowSelected){}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(p=>{this.cmsToastrService.typeErrorSelected(p)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(p=>{n=p["MESSAGE.Please_Confirm"],t=p["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(p=>{if(p){let m=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(m,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(m)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(m,!1)}})}}).catch(()=>{})}onActionButtonGoToModuleList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/siteModule/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{n.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{n.set(s,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(w=>{n.set(w,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let p=JSON.parse(JSON.stringify(this.filteModelContent)),m=new U;m.propertyName="RecordStatus",m.value=Y.Available,p.filters.push(m),this.contentService.ServiceGetCount(p).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(w=>{n.set(w,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSiteList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}this.onActionTableRowSelect(e),this.router.navigate(["core/site/modulelist/LinkModuleId/",e.id])}onActionButtonSiteCategoryList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}this.onActionTableRowSelect(e),this.router.navigate(["core/sitecategorymodule/LinkCmsModuleId/",e.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Bt.\u0275fac=function(n){return new(n||Bt)(b(oi),b(F),b(P),b(Fe),b(oe),b(O),b(Ie),b(G),b(we),b(Ae),b($))},Bt.\u0275cmp=L({type:Bt,selectors:[["app-apitelegram-bot-config-list"]],standalone:!1,features:[j],decls:61,vars:32,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Username"],["matColumnDef","StatusWebhook"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-layer-group","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(n,t){if(n&1){let p=M();r(0,"app-cms-html-list",3),R("optionActionGuideNoticeDisplayChange",function(s){return f(p),y(t.viewGuideNotice,s)||(t.viewGuideNotice=s),g(s)}),T("optionOnActionButtonMemoRow",function(){return f(p),g(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(p),g(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(p),g(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(p),g(t.onActionButtonPrintRow())}),I(1,4),c(2," -------------------------------------- "),A(),te(3,5)(4,6),I(5,7),r(6,"a",8),T("click",function(){return f(p),g(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",9),a(),r(8,"a",8),T("click",function(){return f(p),g(t.onActionButtonReload())}),C(9,"i",10),a(),A(),I(10,11),r(11,"a",12),T("click",function(){return f(p),g(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(12,"mat-slide-toggle",13),c(13),_(14,"translate"),a(),r(15,"a",12),T("click",function(){return f(p),g(t.onActionButtonStatist())}),C(16,"mat-slide-toggle",13),c(17),_(18,"translate"),a(),A(),I(19,14),v(20,za,7,3,"div",15),A(),I(21,16),v(22,Ja,7,3,"div",15)(23,$a,7,3,"div",15)(24,Ya,7,3,"div",15)(25,Xa,7,3,"div",15),A(),I(26,17),r(27,"app-cms-search-list",18),R("optionsChange",function(s){return f(p),y(t.optionsSearch,s)||(t.optionsSearch=s),g(s)}),a(),r(28,"app-cms-statist-list",18),R("optionsChange",function(s){return f(p),y(t.optionsStatist,s)||(t.optionsStatist=s),g(s)}),a(),A(),I(29,19),r(30,"mat-table",20,0),T("matSortChange",function(){f(p);let s=x(31);return g(t.onTableSortData(s))}),I(32,21),v(33,Za,2,1,"mat-header-cell",22)(34,el,2,1,"mat-cell",23),A(),I(35,24),v(36,tl,2,1,"mat-header-cell",22)(37,il,4,5,"mat-cell",23),A(),I(38,25),v(39,nl,2,1,"mat-header-cell",22)(40,rl,5,7,"mat-cell",26),A(),I(41,27),v(42,al,2,1,"mat-header-cell",22)(43,ll,2,1,"mat-cell",23),A(),I(44,28),v(45,sl,2,1,"mat-header-cell",22)(46,cl,3,3,"mat-cell",23),A(),I(47,29),v(48,pl,2,1,"mat-header-cell",22)(49,ml,3,3,"mat-cell",23),A(),I(50,30),v(51,dl,2,1,"mat-header-cell",22)(52,ul,3,3,"mat-cell",23),A(),I(53,31),v(54,fl,3,3,"mat-header-cell",32)(55,gl,6,1,"mat-cell",33),A(),v(56,Sl,1,0,"mat-header-row",34)(57,_l,1,2,"mat-row",35),a(),A(),I(58,36),r(59,"mat-paginator",37,1),T("page",function(s){return f(p),g(t.onTablePageingData(s))}),a(),A(),a()}n&2&&(u("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),V("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),u("checked",t.optionsSearch.data.show),o(),d("",h(14,27,"ACTION.SEARCH")," "),o(3),u("checked",t.optionsStatist.data.show),o(),d("",h(18,29,"ACTION.STATIST")," "),o(3),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(),u("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),o(),u("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),u("dataSource",t.tableSource),o(26),u("matHeaderRowDef",t.tabledisplayedColumns),o(),u("matRowDefColumns",t.tabledisplayedColumns),o(2),u("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ie(31,Qa)))},dependencies:[ne,k,ze,re,ae,Q,le,se,ce,pe,me,de,ue,ge,Ce,Se,fe,be,_e,he,ve,Te,ye,Re,xe,De,et,z,N,Be,Le,ke,Ve,Me],encapsulation:2});var vi=Bt;var hl=[{path:"",component:fi,data:{title:"ROUTE.APITELEGRAM"},children:[{path:"config",loadChildren:()=>import("./chunk-YMMFDWFH.js").then(i=>i.ApiTelegramConfigModule),data:{title:"ROUTE.APITELEGRAM"}},{path:"bot-config",component:hi,data:{title:"ROUTE.APITELEGRAM.BOTCONFIG"}},{path:"log-input",component:Xt,data:{title:"ROUTE.APITELEGRAM.LOGINPUT"}},{path:"log-input/LinkBotConfigId/:LinkBotConfigId",component:Xt,data:{title:"ROUTE.APITELEGRAM.LOGINPUT"}},{path:"log-output",component:Zt,data:{title:"ROUTE.APITELEGRAM.LOGOUTPUT"}},{path:"log-output/LinkBotConfigId/:LinkBotConfigId",component:Zt,data:{title:"ROUTE.APITELEGRAM.LOGOUTPUT"}},{path:"member-info",component:Ci,data:{title:"ROUTE.APITELEGRAM.MEMBERINFO"}},{path:"received-file",component:bi,data:{title:"ROUTE.APITELEGRAM.RECEIVEDFILE"}},{path:"uploaded-file",component:vi,data:{title:"ROUTE.APITELEGRAM.UPLOADEDFILE"}}]}],at=class at{};at.\u0275fac=function(e){return new(e||at)},at.\u0275mod=ti({type:at}),at.\u0275inj=ei({imports:[Li.forChild(hl),Li]});var Ti=at;var lt=class lt{};lt.\u0275fac=function(e){return new(e||lt)},lt.\u0275mod=ti({type:lt}),lt.\u0275inj=ei({providers:[Zi,Pe,en,Fe,tn,X,nn,ai,li,si,ri,oi],imports:[$i,Ti,sn,cn.withConfig({warnOnNgModelWithFormControl:"never"}),_n,Cn,fn,un,gn,In]});var Mn=lt;export{Mn as ApiTelegramModule};
