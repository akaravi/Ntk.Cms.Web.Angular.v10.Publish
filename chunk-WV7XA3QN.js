import{a as hn}from"./chunk-HSN4KEPG.js";import{a as lt}from"./chunk-4TMHMUT3.js";import{a as Sn}from"./chunk-PW2AEDWT.js";import{a as fn}from"./chunk-K2ZGWDZO.js";import{a as un,b as pn}from"./chunk-242V5F4D.js";import{a as Lt}from"./chunk-H4WHZXAH.js";import{a as pi}from"./chunk-H56PQPV2.js";import"./chunk-GSBDZZET.js";import{a as Oe}from"./chunk-GJJG423E.js";import{a as ui}from"./chunk-K33TURJC.js";import{a as Mo}from"./chunk-H7AJM4VU.js";import{a as ke}from"./chunk-AUJBP2ZH.js";import{a as at}from"./chunk-JEF4OJ24.js";import{a as Jt}from"./chunk-G7IK7YRS.js";import{d as pe,e as fe,f as Se,h as rt}from"./chunk-OY6U5MSC.js";import"./chunk-G7HN74JH.js";import{a as ae}from"./chunk-ISDD3P6U.js";import"./chunk-B3QRYIBM.js";import{b as xo,d as Ge}from"./chunk-QSB3ACB2.js";import{a as Ut}from"./chunk-7J6KOIWM.js";import{b as dn}from"./chunk-3RHHJRHJ.js";import"./chunk-7DUNEHBM.js";import"./chunk-T2SWGMVG.js";import"./chunk-CDDWX6BN.js";import{a as Ae}from"./chunk-ZBYXPACG.js";import"./chunk-HGNWVODT.js";import{a as ee,d as Rt}from"./chunk-CROPDOQI.js";import{a as mn,b as bo,e as ue,f as Q}from"./chunk-QL6FYM2P.js";import{A as qe,Aa as sn,Ab as $,Ba as Xt,Bb as W,Ca as rn,Da as $e,Ia as Yt,Ja as zt,Ma as de,R as vo,Sa as Xe,Ua as Ye,Va as ze,bb as an,cb as Ue,da as Wt,db as Je,dc as ln,ea as qt,eb as Ke,fa as $t,fb as Ze,gb as et,hb as tt,ib as it,jb as ot,kb as nt,lb as st,ma as Me,na as Te,oa as re,pc as U,sc as J,uc as q,v as jt,xc as cn}from"./chunk-346IHKRS.js";import{F as on,G as nn,c as Vt,h as Nt,i as Gt,k as Ht,m as Ft,n as Qt}from"./chunk-QRBNL5ZA.js";import{$ as je,$f as Ot,Ag as wt,Bg as Et,Eg as se,Gg as Ko,H as P,Ih as tn,Ja as Uo,K as Mt,Kg as Zo,Kn as G,Ub as Tt,Zf as mi,_f as pt,ag as ft,bg as St,bh as en,cg as ht,d as le,da as zo,e as Yo,f as ce,l as Bo,m as me,n as Zi,p as Bt,q as y,u as N,v as F,vg as kt,wg as di,xg as It,yg as We,zc as Jo,zg as Pt}from"./chunk-DSPZSNHI.js";import{Ab as b,Ad as $o,Bb as qo,Db as Ve,Dc as f,Eb as Ne,Ec as S,Fb as M,Fc as ei,Gb as r,H as Qo,Hb as l,Ia as So,Ib as p,Mb as I,Nb as w,Ob as Be,Pb as T,Qa as xt,Sb as x,Td as Xo,Ub as c,Va as s,Xc as j,Yb as Ie,Zb as we,_b as Ee,bb as ho,cb as g,cc as z,dc as Re,ec as A,ga as fo,hc as u,ib as H,ic as V,jb as _o,jc as C,kb as go,kc as R,lb as Wo,ld as Le,mb as K,nc as D,o as Ho,ob as L,oc as B,pa as h,pc as O,qa as _,rd as Dt,t as Fo,tc as oe,td as Co,ua as jo,wb as Qe,xb as k,xc as Z,xd as ci,yc as At,zb as v}from"./chunk-2AL2II5Z.js";import{i as Y}from"./chunk-SEDBTTTN.js";var Tn=()=>[5,10,20,100],In=(o,a)=>a.id;function wn(o,a){if(o&1){let e=T();r(0,"button",20),f(1,"translate"),x("click",function(){h(e);let t=c();return _(t.onActionBackToParent())}),p(2,"i",21),l()}o&2&&Qe("aria-label",oe(S(1,2,"ACTION.BACK")))}function En(o,a){if(o&1){let e=T();r(0,"div",12)(1,"app-cms-search-list",22),O("optionsChange",function(t){h(e);let n=c();return B(n.optionsSearch,t)||(n.optionsSearch=t),_(t)}),l()()}if(o&2){let e=c();s(),D("options",e.optionsSearch)}}function Rn(o,a){if(o&1){let e=T();r(0,"div",13)(1,"app-cms-statist-list",22),O("optionsChange",function(t){h(e);let n=c();return B(n.optionsStatist,t)||(n.optionsStatist=t),_(t)}),l()()}if(o&2){let e=c();s(),D("options",e.optionsStatist)}}function Ln(o,a){if(o&1&&(r(0,"div",23),p(1,"i",10),r(2,"span"),u(3),f(4,"translate"),f(5,"translate"),l()()),o&2){let e=c();Re("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),A("refreshing",e.pullToRefreshState.isRefreshing),s(),A("rotation360",e.pullToRefreshState.isRefreshing),s(2),V(e.pullToRefreshState.isRefreshing?S(4,7,"ACTION.RELOADING"):S(5,9,"ACTION.PULL_TO_REFRESH"))}}function An(o,a){if(o&1&&(r(0,"div",31),p(1,"i",39),r(2,"span"),u(3),f(4,"translate"),l()()),o&2){let e=c().$implicit;s(3),R("",S(4,2,"TITLE.StatusInfo"),": ",e.statusInfo)}}function yn(o,a){o&1&&(p(0,"i",40),r(1,"span"),u(2),f(3,"translate"),l()),o&2&&(s(2),V(S(3,1,"MESSAGE.OutOfService")))}function Dn(o,a){o&1&&(p(0,"i",41),r(1,"span"),u(2),f(3,"translate"),l()),o&2&&(s(2),V(S(3,1,"MESSAGE.NotStable")))}function Bn(o,a){o&1&&(p(0,"i",42),r(1,"span"),u(2),f(3,"translate"),l()),o&2&&(s(2),V(S(3,1,"MESSAGE.Active")))}function On(o,a){if(o&1&&(r(0,"div",34),p(1,"i",43),r(2,"span"),u(3),f(4,"localeDate"),l()()),o&2){let e=c().$implicit;s(3),V(S(4,1,e.createdDate))}}function kn(o,a){if(o&1&&(r(0,"div",31),p(1,"i",44),r(2,"span"),u(3),f(4,"translate"),l()()),o&2){let e=c().$implicit;s(3),R("",S(4,2,"TITLE.StatusNotStableCount"),": ",e.statusNotStableCount)}}function Pn(o,a){if(o&1&&(r(0,"div",31),p(1,"i",45),r(2,"span"),u(3),f(4,"translate"),f(5,"localeDate"),l()()),o&2){let e=c().$implicit;s(3),R("",S(4,2,"TITLE.StatusOutOfServiceExpire"),": ",S(5,4,e.statusOutOfServiceExpire))}}function Vn(o,a){if(o&1&&(r(0,"div",31),p(1,"i",46),r(2,"span"),u(3),f(4,"translate"),f(5,"localeDate"),l()()),o&2){let e=c().$implicit;s(3),R("",S(4,2,"TITLE.StatusNotStableExpire"),": ",S(5,4,e.statusNotStableExpire))}}function Nn(o,a){if(o&1){let e=T();r(0,"button",47),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c(2).onActionButtonDeleteRow(n),_(t.stopPropagation())}),p(2,"i",48),l()}o&2&&k("aria-label",S(1,1,"ACTION.DELETE"))}function Gn(o,a){if(o&1){let e=T();r(0,"button",49),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c(2).onActionButtonDeleteRow(n),_(t.stopPropagation())}),p(2,"i",48),l()}o&2&&k("aria-label",S(1,1,"ACTION.DELETE"))}function Hn(o,a){if(o&1){let e=T();r(0,"div",25)(1,"div",26),x("click",function(){let t=h(e).$implicit,n=c(2);return _(n.onActionTableRowSelect(t))})("touchstart",function(t){let n=h(e).$implicit,d=c(2);return _(d.onItemTouchStart(t,n.id))})("touchmove",function(t){let n=h(e).$implicit,d=c(2);return _(d.onItemTouchMove(t,n.id))})("touchend",function(t){let n=h(e).$implicit,d=c(2);return _(d.onItemTouchEnd(t,n.id))}),r(2,"div",27),p(3,"i",28),l(),r(4,"div",29)(5,"div",30),u(6),l(),v(7,An,5,4,"div",31),r(8,"div",32)(9,"div",33),v(10,yn,4,3)(11,Dn,4,3)(12,Bn,4,3),l(),v(13,On,5,3,"div",34),l(),v(14,kn,5,4,"div",31),v(15,Pn,6,6,"div",31),v(16,Vn,6,6,"div",31),l(),r(17,"div",35),v(18,Nn,3,3,"button",36),l()(),r(19,"div",37),v(20,Gn,3,3,"button",38),l()()}if(o&2){let e,i=a.$implicit,t=c(2);Re("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),s(),A("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),k("aria-label",i.id),s(5),C(" ",i.id," "),s(),b(i.statusInfo?7:-1),s(3),b(i.statusOutOfServiceActive?10:i.statusNotStableActive?11:12),s(3),b(i.createdDate?13:-1),s(),b(i.statusNotStableCount?14:-1),s(),b(i.statusOutOfServiceExpire?15:-1),s(),b(i.statusNotStableExpire?16:-1),s(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?18:-1),s(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?20:-1)}}function Fn(o,a){if(o&1&&(r(0,"div",16),Ve(1,Hn,21,14,"div",24,In),l()),o&2){let e=c();s(),Ne(e.dataModelResult.listItems)}}function Qn(o,a){o&1&&(r(0,"div",17)(1,"div",50),p(2,"i",28),l(),r(3,"div",51),u(4),f(5,"translate"),l()()),o&2&&(s(4),C(" ",S(5,1,"MESSAGE.no_information")," "))}function jn(o,a){if(o&1){let e=T();r(0,"div",19)(1,"mat-paginator",52,0),x("page",function(t){h(e);let n=c();return _(n.onTablePageingData(t))}),l()()}if(o&2){let e=c();s(),M("length",(e.dataModelResult==null?null:e.dataModelResult.totalRowCount)||0)("pageIndex",((e.dataModelResult==null?null:e.dataModelResult.currentPageNumber)||1)-1)("pageSize",(e.dataModelResult==null?null:e.dataModelResult.rowPerPage)||10)("pageSizeOptions",Z(4,Tn))}}var fi=class fi extends pe{constructor(e,i,t,n,d,m,E,X,ne,He,dt,he,ut){super(e,new mi,he,E,ne);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=n;this.smsMainApiPathService=d;this.router=m;this.tokenHelper=E;this.cdr=X;this.translate=ne;this.cmsStoreService=He;this.pageInfo=dt;this.publicHelper=he;this.dialog=ut;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new F;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new y;this.dataModelPrivateResult=new y;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","createdDate","StatusInfo","StatusOutOfServiceActive","StatusOutOfServiceExpire","StatusNotStableActive","StatusNotStableExpire","StatusNotStableCount","action_menu"];this.tabledisplayedColumnsMobileSource=["id","createdDate","StatusInfo","StatusOutOfServiceActive","StatusOutOfServiceExpire","StatusNotStableActive","StatusNotStableExpire","StatusNotStableCount","action_menu"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.publicHelper.processService.cdr=this.cdr,this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId"),this.optionsSearch.parentMethods={onSubmit:Zt=>this.onSubmitOptionsSearch(Zt)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=P.Descending;let te=new N;this.requestLinkApiPathId?.length>0&&(te.propertyName="LinkApiPathId",te.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(te))}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Y(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getPrivateConfig()}getPrivateConfig(){let e=new F;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new mi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=P.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(d,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new F,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),d=new N;d.propertyName="recordStatus",d.value=me.Available,n.filters.push(d),this.contentService.ServiceGetCount(n).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let n=e.touches[0];t.currentX=n.clientX;let d=t.currentX-t.startX,m=document.documentElement.dir==="rtl",E=m?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,X=m?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(X,Math.min(E,d))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let n=document.documentElement.dir==="rtl",d=n?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;n&&t.offset>d||!n&&t.offset<d||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};fi.\u0275fac=function(i){return new(i||fi)(g(di),g(le),g(q),g(ae),g(se),g(ce),g(J),g(j),g($),g(U),g(ue),g(Q),g(re))},fi.\u0275cmp=H({type:fi,selectors:[["app-sms-log-apipath-list-mobile"]],standalone:!1,features:[K],decls:26,vars:25,consts:[["paginator",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"aria-label"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["aria-hidden","true",1,"fa-solid","fa-chart-bar"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-statist-area","safe-area-content"],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content","safe-area-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],[1,"cms-m-footer","safe-area-bottom"],[1,"cms-m-pagination-wrapper"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[3,"optionsChange","options"],[1,"cms-m-pull-refresh-indicator"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-route"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-footer"],[1,"cms-m-list-item-status"],[1,"cms-m-list-item-date"],[1,"cms-m-list-item-actions"],[1,"cms-m-action-btn","delete"],[1,"cms-m-list-item-swipe-actions"],[1,"cms-m-swipe-action-btn","delete"],["aria-hidden","true",1,"fa-solid","fa-info-circle"],["aria-hidden","true",1,"fa-solid","fa-exclamation-triangle",2,"color","#ff9500"],["aria-hidden","true",1,"fa-solid","fa-exclamation-circle",2,"color","#ff3b30"],["aria-hidden","true",1,"fa-solid","fa-check-circle",2,"color","#34c759"],["aria-hidden","true",1,"fa-solid","fa-clock"],["aria-hidden","true",1,"fa-solid","fa-chart-line"],["aria-hidden","true",1,"fa-solid","fa-calendar-times"],["aria-hidden","true",1,"fa-solid","fa-calendar-xmark"],[1,"cms-m-action-btn","delete",3,"click"],["aria-hidden","true",1,"fa-solid","fa-trash"],[1,"cms-m-swipe-action-btn","delete",3,"click"],[1,"cms-m-empty-state-icon"],[1,"cms-m-empty-state-text"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"]],template:function(i,t){i&1&&(r(0,"div",1),p(1,"app-progress-spinner",2),r(2,"div",3)(3,"div",4),v(4,wn,3,4,"button",5),r(5,"h1",6),u(6),f(7,"translate"),l(),r(8,"div",7)(9,"button",8),f(10,"translate"),x("click",function(){return t.optionsSearch.data.show=!t.optionsSearch.data.show}),p(11,"i",9),l(),r(12,"button",8),f(13,"translate"),x("click",function(){return t.onActionButtonReload()}),p(14,"i",10),l(),r(15,"button",8),f(16,"translate"),x("click",function(){return t.onActionButtonStatist()}),p(17,"i",11),l()()()(),v(18,En,2,1,"div",12),v(19,Rn,2,1,"div",13),v(20,Ln,6,11,"div",14),r(21,"div",15),x("touchstart",function(d){return t.onTouchStart(d)})("touchmove",function(d){return t.onTouchMove(d)})("touchend",function(d){return t.onTouchEnd(d)}),v(22,Fn,3,0,"div",16)(23,Qn,6,3,"div",17),l(),r(24,"div",18),v(25,jn,3,5,"div",19),l()()),i&2&&(s(),M("optionsInfoAreaId",t.constructorInfoAreaId),s(3),b((t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0?4:-1),s(2),C(" ",S(7,17,"ROUTE.SMS.LOG")," "),s(3),A("active",t.optionsSearch.data.show),k("aria-label",S(10,19,"ACTION.SEARCH")),s(3),k("aria-label",S(13,21,"ACTION.RELOAD")),s(2),A("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s(),A("active",t.optionsStatist==null||t.optionsStatist.data==null?null:t.optionsStatist.data.show),k("aria-label",S(16,23,"ACTION.STATIST")),s(3),b(t.optionsSearch.data.show?18:-1),s(),b(!(t.optionsStatist==null||t.optionsStatist.data==null)&&t.optionsStatist.data.show?19:-1),s(),b(t.pullToRefreshState.pullDistance>0?20:-1),s(2),b(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?22:23),s(3),b((t.dataModelResult==null?null:t.dataModelResult.totalRowCount)>0?25:-1))},dependencies:[de,fe,Se,ee,W,Oe],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var To=fi;var Wn=["vform"];function qn(o,a){if(o&1){let e=T();r(0,"app-cms-enum-record-status-selector",15),O("modelChange",function(t){h(e);let n=c();return B(n.dataModel.recordStatus,t)||(n.dataModel.recordStatus=t),_(t)}),l()}if(o&2){let e=c();D("model",e.dataModel.recordStatus),M("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function $n(o,a){if(o&1){let e=T();r(0,"div",12)(1,"label",16),u(2),l(),r(3,"input",17),O("ngModelChange",function(t){h(e);let n=c();return B(n.dataModel.receiverDate,t)||(n.dataModel.receiverDate=t),_(t)}),l(),p(4,"mat-datepicker-toggle",18)(5,"mat-datepicker",19,1),l()}if(o&2){let e=z(6),i=c();s(2),V(i.fieldsInfo.receiverDate==null?null:i.fieldsInfo.receiverDate.fieldTitle),s(),M("placeholder",oe(i.fieldsInfo.receiverDate==null?null:i.fieldsInfo.receiverDate.fieldTitle))("disabled",oe(!(i.fieldsInfo.receiverDate!=null&&i.fieldsInfo.receiverDate.accessEditField)))("matDatepicker",e),D("ngModel",i.dataModel.receiverDate),s(),M("for",e),s(),M("calendarHeaderComponent",i.datapickerHeader)}}function Xn(o,a){if(o&1){let e=T();r(0,"div",13)(1,"label",20),u(2),l(),r(3,"input",21,2),O("ngModelChange",function(t){h(e);let n=c();return B(n.dataModel.senderNumber,t)||(n.dataModel.senderNumber=t),_(t)}),l(),r(5,"em",22),u(6),l()()}if(o&2){let e=z(4),i=c();s(2),V(i.fieldsInfo.senderNumber==null?null:i.fieldsInfo.senderNumber.fieldTitle),s(),M("disabled",oe(!(i.fieldsInfo.senderNumber!=null&&i.fieldsInfo.senderNumber.accessEditField))),D("ngModel",i.dataModel.senderNumber),s(3),C("",e.value.length," / 100")}}function Yn(o,a){if(o&1){let e=T();r(0,"div",13)(1,"label",23),u(2),l(),r(3,"input",24,3),O("ngModelChange",function(t){h(e);let n=c();return B(n.dataModel.receiverNumber,t)||(n.dataModel.receiverNumber=t),_(t)}),l(),r(5,"em",22),u(6),l()()}if(o&2){let e=z(4),i=c();s(2),V(i.fieldsInfo.receiverNumber==null?null:i.fieldsInfo.receiverNumber.fieldTitle),s(),M("disabled",oe(!(i.fieldsInfo.receiverNumber!=null&&i.fieldsInfo.receiverNumber.accessEditField))),D("ngModel",i.dataModel.receiverNumber),s(3),C("",e.value.length," / 100")}}function zn(o,a){if(o&1){let e=T();r(0,"div",13)(1,"label",25),u(2),l(),r(3,"input",26,4),O("ngModelChange",function(t){h(e);let n=c();return B(n.dataModel.message,t)||(n.dataModel.message=t),_(t)}),l(),r(5,"em",22),u(6),l()()}if(o&2){let e=z(4),i=c();s(2),V(i.fieldsInfo.message==null?null:i.fieldsInfo.message.fieldTitle),s(),M("disabled",oe(!(i.fieldsInfo.message!=null&&i.fieldsInfo.message.accessEditField))),D("ngModel",i.dataModel.message),s(3),C("",e.value.length," / 100")}}function Un(o,a){if(o&1){let e=T();r(0,"div",14)(1,"button",27),x("click",function(){h(e);let t=c();return _(t.onFormCancel())}),p(2,"i",28),u(3),f(4,"translate"),l(),r(5,"button",29),p(6,"i",30),u(7),f(8,"translate"),l()()}if(o&2){c();let e=z(10);s(3),C(" ",S(4,3,"ACTION.CANCEL")," "),s(2),M("disabled",!e.form.valid),s(2),C(" ",S(8,5,"ACTION.SAVE")," ")}}var Si=class Si extends Jt{constructor(e,i,t,n,d,m,E,X){super(n,new pt,m,X);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsLogInBoxService=n;this.cmsToastrService=d;this.publicHelper=m;this.cdr=E;this.translate=X;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Bt;this.dataModel=new pt;this.dataModelSmsMessageTypeEnumResult=new y;this.dataModelSmsOutBoxTypeEnumResult=new y;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getSmsMessageTypeEnum(),this.getSmsOutBoxTypeEnum()}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsLogInBoxService.setAccessLoad(),this.smsLogInBoxService.setAccessDataType(Mt.Editor),this.smsLogInBoxService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsLogInBoxService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectLinkApiNumberId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiNumberId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Si.\u0275fac=function(i){return new(i||Si)(g(Te),g(Me),g(kt),g(It),g(q),g(Q),g(j),g($))},Si.\u0275cmp=H({type:Si,selectors:[["app-sms-log-inbox-edit"]],viewQuery:function(i,t){if(i&1&&Ie(Wn,5),i&2){let n;we(n=Ee())&&(t.formGroup=n.first)}},standalone:!1,features:[K],decls:17,vars:12,consts:[["vform","ngForm"],["ReceiverDate",""],["SenderNumber",""],["ReceiverNumber",""],["Message",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.receiverDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.receiverDate","id","dataModel.receiverDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.senderNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.senderNumber","placeholder","123","id","dataModel.senderNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[2,"text-align","right"],["for","dataModel.receiverNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.receiverNumber","placeholder","123","id","dataModel.receiverNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.message",1,"color-highlight"],["matInput","","type","text","name","dataModel.message","placeholder","123","id","dataModel.message",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let n=T();r(0,"div",5),p(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),u(4),l(),r(5,"p"),u(6),f(7,"translate"),l(),p(8,"app-cms-form-result-message",9),r(9,"form",10,0),x("ngSubmit",function(){return h(n),_(t.onFormSubmit())}),v(11,qn,1,5,"app-cms-enum-record-status-selector",11),v(12,$n,7,9,"div",12),v(13,Xn,7,5,"div",13),v(14,Yn,7,5,"div",13),v(15,zn,7,5,"div",13),v(16,Un,9,7,"div",14),l()()()}i&2&&(s(),M("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",S(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),s(2),M("formInfo",t.formInfo),s(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),s(),b(t.fieldsInfo.receiverDate!=null&&t.fieldsInfo.receiverDate.accessWatchField?12:-1),s(),b(t.fieldsInfo.senderNumber!=null&&t.fieldsInfo.senderNumber.accessWatchField?13:-1),s(),b(t.fieldsInfo.receiverNumber!=null&&t.fieldsInfo.receiverNumber.accessWatchField?14:-1),s(),b(t.fieldsInfo.message!=null&&t.fieldsInfo.message.accessWatchField?15:-1),s(),b(t.formInfo.submitButtonEnabled?16:-1))},dependencies:[Qt,Vt,Nt,Gt,Ft,Ht,Wt,qt,$t,jt,$e,Ut,ee,Ae,W],encapsulation:2});var hi=Si;var Jn=["vform"];function Kn(o,a){if(o&1){let e=T();r(0,"div",7)(1,"button",8),x("click",function(){h(e);let t=c();return _(t.onFormCancel())}),p(2,"i",9),u(3),f(4,"translate"),l()()}o&2&&(s(3),C(" ",S(4,1,"ACTION.CANCEL")," "))}var _i=class _i{constructor(a,e,i,t,n,d,m,E,X,ne){this.data=a;this.dialogRef=e;this.coreEnumService=i;this.smsLogInBoxService=t;this.cmsToastrService=n;this.tokenHelper=d;this.cmsStoreService=m;this.cdr=E;this.publicHelper=X;this.translate=ne;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Tt;this.dataModelResult=new y;this.dataModel=new pt;this.formInfo=new Rt;this.dataModelEnumSendSmsStatusTypeResult=new y;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>Y(this,null,function*(){this.tokenInfo=a}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.smsLogInBoxService.setAccessLoad(),this.smsLogInBoxService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};_i.\u0275fac=function(e){return new(e||_i)(g(Te),g(Me),g(je),g(It),g(q),g(J),g(U),g(j),g(Q),g($))},_i.\u0275cmp=H({type:_i,selectors:[["app-sms-log-inbox-view"]],viewQuery:function(e,i){if(e&1&&Ie(Jn,5),e&2){let t;we(t=Ee())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",0),u(1),l(),r(2,"div",1),p(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),r(5,"div",4),p(6,"app-cms-form-result-message",5),l(),r(7,"div",6),v(8,Kn,5,3,"div",7),l()),e&2&&(s(),C(" ",i.formInfo.formTitle," "),s(2),M("optionsInfoAreaId",i.constructorInfoAreaId),s(),M("dataModel",i.dataModel)("optionMethod",1),s(2),M("formInfo",i.formInfo),s(2),b(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[ee,Lt,Ae,W],encapsulation:2});var gi=_i;var Zn=()=>[5,10,20,100],es=(o,a)=>a.id;function ts(o,a){if(o&1){let e=T();r(0,"button",20),f(1,"translate"),x("click",function(){h(e);let t=c();return _(t.onActionBackToParent())}),p(2,"i",21),l()}o&2&&Qe("aria-label",oe(S(1,2,"ACTION.BACK")))}function is(o,a){if(o&1){let e=T();r(0,"div",12)(1,"app-cms-search-list",22),O("optionsChange",function(t){h(e);let n=c();return B(n.optionsSearch,t)||(n.optionsSearch=t),_(t)}),l()()}if(o&2){let e=c();s(),D("options",e.optionsSearch)}}function os(o,a){if(o&1){let e=T();r(0,"div",13)(1,"app-cms-statist-list",22),O("optionsChange",function(t){h(e);let n=c();return B(n.optionsStatist,t)||(n.optionsStatist=t),_(t)}),l()()}if(o&2){let e=c();s(),D("options",e.optionsStatist)}}function ns(o,a){if(o&1&&(r(0,"div",23),p(1,"i",10),r(2,"span"),u(3),f(4,"translate"),f(5,"translate"),l()()),o&2){let e=c();Re("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),A("refreshing",e.pullToRefreshState.isRefreshing),s(),A("rotation360",e.pullToRefreshState.isRefreshing),s(2),V(e.pullToRefreshState.isRefreshing?S(4,7,"ACTION.RELOADING"):S(5,9,"ACTION.PULL_TO_REFRESH"))}}function ss(o,a){if(o&1&&(r(0,"div",30),u(1),l()),o&2){let e=c().$implicit;s(),C(" ",e.message," ")}}function rs(o,a){if(o&1&&(r(0,"div",31),p(1,"i",44),r(2,"span"),u(3),f(4,"translate"),l()()),o&2){let e=c().$implicit;s(3),R("",S(4,2,"TITLE.ReceiverNumber"),": ",e.receiverNumber)}}function as(o,a){if(o&1&&(r(0,"div",36),p(1,"i",45),r(2,"span"),u(3),f(4,"localeDate"),l()()),o&2){let e=c().$implicit;s(3),V(S(4,1,e.createdDate))}}function ls(o,a){if(o&1){let e=T();r(0,"button",46),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c(2).onActionButtonViewRow(n),_(t.stopPropagation())}),p(2,"i",47),l()}o&2&&k("aria-label",S(1,1,"ACTION.VIEW"))}function cs(o,a){if(o&1){let e=T();r(0,"button",48),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c(2).onActionButtonEditRow(n),_(t.stopPropagation())}),p(2,"i",49),l()}o&2&&k("aria-label",S(1,1,"ACTION.EDIT"))}function ms(o,a){if(o&1){let e=T();r(0,"button",50),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c(2).onActionButtonDeleteRow(n),_(t.stopPropagation())}),p(2,"i",51),l()}o&2&&k("aria-label",S(1,1,"ACTION.DELETE"))}function ds(o,a){if(o&1){let e=T();r(0,"button",52),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c(2).onActionButtonSendMessage(n),_(t.stopPropagation())}),p(2,"i",53),l()}o&2&&k("aria-label",S(1,1,"ACTION.Send_Message"))}function us(o,a){if(o&1){let e=T();r(0,"button",54),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c(2).onActionButtonDeleteRow(n),_(t.stopPropagation())}),p(2,"i",51),l()}o&2&&k("aria-label",S(1,1,"ACTION.DELETE"))}function ps(o,a){if(o&1){let e=T();r(0,"div",25)(1,"div",26),x("click",function(){let t=h(e).$implicit,n=c(2);return _(n.onActionTableRowSelect(t))})("touchstart",function(t){let n=h(e).$implicit,d=c(2);return _(d.onItemTouchStart(t,n.id))})("touchmove",function(t){let n=h(e).$implicit,d=c(2);return _(d.onItemTouchMove(t,n.id))})("touchend",function(t){let n=h(e).$implicit,d=c(2);return _(d.onItemTouchEnd(t,n.id))}),r(2,"div",27),p(3,"i",28),l(),r(4,"div",29),v(5,ss,2,1,"div",30),r(6,"div",31),p(7,"i",32),r(8,"span"),u(9),f(10,"translate"),l()(),v(11,rs,5,4,"div",31),r(12,"div",33)(13,"div",34),p(14,"i",35),f(15,"statusIconClass"),l(),v(16,as,5,3,"div",36),l()(),r(17,"div",37),v(18,ls,3,3,"button",38),v(19,cs,3,3,"button",39),v(20,ms,3,3,"button",40),v(21,ds,3,3,"button",41),l()(),r(22,"div",42),v(23,us,3,3,"button",43),l()()}if(o&2){let e,i=a.$implicit,t=c(2);Re("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),s(),A("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),k("aria-label",i.senderNumber),s(4),b(i.message?5:-1),s(4),R("",S(10,16,"TITLE.SenderNumber"),": ",i.senderNumber),s(2),b(i.receiverNumber?11:-1),s(3),M("ngClass",S(15,18,i.recordStatus)),s(2),b(i.createdDate?16:-1),s(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?18:-1),s(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?19:-1),s(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?20:-1),s(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?21:-1),s(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1)}}function fs(o,a){if(o&1&&(r(0,"div",16),Ve(1,ps,24,20,"div",24,es),l()),o&2){let e=c();s(),Ne(e.dataModelResult.listItems)}}function Ss(o,a){o&1&&(r(0,"div",17)(1,"div",55),p(2,"i",28),l(),r(3,"div",56),u(4),f(5,"translate"),l()()),o&2&&(s(4),C(" ",S(5,1,"MESSAGE.no_information")," "))}function hs(o,a){if(o&1){let e=T();r(0,"div",19)(1,"mat-paginator",57,0),x("page",function(t){h(e);let n=c();return _(n.onTablePageingData(t))}),l()()}if(o&2){let e=c();s(),M("length",(e.dataModelResult==null?null:e.dataModelResult.totalRowCount)||0)("pageIndex",((e.dataModelResult==null?null:e.dataModelResult.currentPageNumber)||1)-1)("pageSize",(e.dataModelResult==null?null:e.dataModelResult.rowPerPage)||10)("pageSizeOptions",Z(4,Zn))}}var Ci=class Ci extends pe{constructor(e,i,t,n,d,m,E,X,ne,He,dt,he,ut){super(e,new pt,he,E,ne);this.contentService=e;this.smsMainApiPathService=i;this.activatedRoute=t;this.cmsToastrService=n;this.cmsConfirmationDialogService=d;this.router=m;this.tokenHelper=E;this.cdr=X;this.translate=ne;this.cmsStoreService=He;this.pageInfo=dt;this.publicHelper=he;this.dialog=ut;this.requestLinkSiteId=0;this.requestLinkPrivateConfigId="";this.requestLinkApiNumberId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new F;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new y;this.dataModelPrivateResult=new y;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Message","SenderNumber","ReceiverNumber"];this.tabledisplayedColumnsMobileSource=["Message","SenderNumber","ReceiverNumber"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:te=>this.onSubmitOptionsSearch(te)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=P.Descending}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.activatedRoute.snapshot.paramMap.get("LinkPrivateConfigId")&&(this.requestLinkPrivateConfigId=this.activatedRoute.snapshot.paramMap.get("LinkPrivateConfigId")),this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId")&&(this.requestLinkApiNumberId=this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId"));let e=new N;if(this.requestLinkPrivateConfigId?.length>0&&(e.propertyName="LinkPrivateConfigId",e.value=this.requestLinkPrivateConfigId,this.filteModelContent.filters.push(e)),this.requestLinkApiNumberId?.length>0){let i=new N;i.propertyName="LinkApiNumberId",i.value=this.requestLinkApiNumberId,this.filteModelContent.filters.push(i)}if(this.requestLinkSiteId>0){let i=new N;i.propertyName="linkSiteId",i.value=this.requestLinkSiteId,this.filteModelContent.filters.push(i)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>Y(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getPrivateConfig()}getPrivateConfig(){let e=new F;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new pt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new N;t.propertyName="LinkPrivateConfigId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=P.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(hi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(d,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(gi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new F,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),d=new N;d.propertyName="recordStatus",d.value=me.Available,n.filters.push(d),this.contentService.ServiceGetCount(n).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSendMessage(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}let i={state:{LinkApiPathId:e.linkPrivateConfigId,LinkNumberId:e.linkApiNumberId,ReceiverNumber:e.senderNumber,SenderNumber:e.receiverNumber,Message:e.message}};this.router.navigate(["/sms/action/send-message"],i)}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let n=e.touches[0];t.currentX=n.clientX;let d=t.currentX-t.startX,m=document.documentElement.dir==="rtl",E=m?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,X=m?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(X,Math.min(E,d))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let n=document.documentElement.dir==="rtl",d=n?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;n&&t.offset>d||!n&&t.offset<d||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){}};Ci.\u0275fac=function(i){return new(i||Ci)(g(It),g(se),g(le),g(q),g(ae),g(ce),g(J),g(j),g($),g(U),g(ue),g(Q),g(re))},Ci.\u0275cmp=H({type:Ci,selectors:[["app-sms-log-inbox-list-mobile"]],standalone:!1,features:[K],decls:26,vars:25,consts:[["paginator",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"aria-label"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["aria-hidden","true",1,"fa-solid","fa-chart-bar"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-statist-area","safe-area-content"],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content","safe-area-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],[1,"cms-m-footer","safe-area-bottom"],[1,"cms-m-pagination-wrapper"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[3,"optionsChange","options"],[1,"cms-m-pull-refresh-indicator"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-inbox"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],["aria-hidden","true",1,"fa-solid","fa-phone"],[1,"cms-m-list-item-footer"],[1,"cms-m-list-item-status"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-date"],[1,"cms-m-list-item-actions"],[1,"cms-m-action-btn","view"],[1,"cms-m-action-btn","edit"],[1,"cms-m-action-btn","delete"],[1,"cms-m-action-btn","send"],[1,"cms-m-list-item-swipe-actions"],[1,"cms-m-swipe-action-btn","delete"],["aria-hidden","true",1,"fa-solid","fa-mobile-screen-button"],["aria-hidden","true",1,"fa-solid","fa-clock"],[1,"cms-m-action-btn","view",3,"click"],["aria-hidden","true",1,"fa-solid","fa-eye"],[1,"cms-m-action-btn","edit",3,"click"],["aria-hidden","true",1,"fa-solid","fa-pen"],[1,"cms-m-action-btn","delete",3,"click"],["aria-hidden","true",1,"fa-solid","fa-trash"],[1,"cms-m-action-btn","send",3,"click"],["aria-hidden","true",1,"fa-solid","fa-paper-plane"],[1,"cms-m-swipe-action-btn","delete",3,"click"],[1,"cms-m-empty-state-icon"],[1,"cms-m-empty-state-text"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"]],template:function(i,t){i&1&&(r(0,"div",1),p(1,"app-progress-spinner",2),r(2,"div",3)(3,"div",4),v(4,ts,3,4,"button",5),r(5,"h1",6),u(6),f(7,"translate"),l(),r(8,"div",7)(9,"button",8),f(10,"translate"),x("click",function(){return t.optionsSearch.data.show=!t.optionsSearch.data.show}),p(11,"i",9),l(),r(12,"button",8),f(13,"translate"),x("click",function(){return t.onActionButtonReload()}),p(14,"i",10),l(),r(15,"button",8),f(16,"translate"),x("click",function(){return t.onActionButtonStatist()}),p(17,"i",11),l()()()(),v(18,is,2,1,"div",12),v(19,os,2,1,"div",13),v(20,ns,6,11,"div",14),r(21,"div",15),x("touchstart",function(d){return t.onTouchStart(d)})("touchmove",function(d){return t.onTouchMove(d)})("touchend",function(d){return t.onTouchEnd(d)}),v(22,fs,3,0,"div",16)(23,Ss,6,3,"div",17),l(),r(24,"div",18),v(25,hs,3,5,"div",19),l()()),i&2&&(s(),M("optionsInfoAreaId",t.constructorInfoAreaId),s(3),b((t.requestLinkPrivateConfigId==null?null:t.requestLinkPrivateConfigId.length)>0||(t.requestLinkApiNumberId==null?null:t.requestLinkApiNumberId.length)>0?4:-1),s(2),C(" ",S(7,17,"ROUTE.SMS.LOG")," "),s(3),A("active",t.optionsSearch.data.show),k("aria-label",S(10,19,"ACTION.SEARCH")),s(3),k("aria-label",S(13,21,"ACTION.RELOAD")),s(2),A("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s(),A("active",t.optionsStatist==null||t.optionsStatist.data==null?null:t.optionsStatist.data.show),k("aria-label",S(16,23,"ACTION.STATIST")),s(3),b(t.optionsSearch.data.show?18:-1),s(),b(!(t.optionsStatist==null||t.optionsStatist.data==null)&&t.optionsStatist.data.show?19:-1),s(),b(t.pullToRefreshState.pullDistance>0?20:-1),s(2),b(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?22:23),s(3),b((t.dataModelResult==null?null:t.dataModelResult.totalRowCount)>0?25:-1))},dependencies:[Le,de,fe,Se,ee,W,Oe,ke],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var ii=Ci;var _s=["vform"];function gs(o,a){if(o&1){let e=T();r(0,"div",7)(1,"button",8),x("click",function(){h(e);let t=c();return _(t.onFormCancel())}),p(2,"i",9),u(3),f(4,"translate"),l()()}o&2&&(s(3),C(" ",S(4,1,"ACTION.CANCEL")," "))}var vi=class vi{constructor(a,e,i,t,n,d,m,E,X,ne){this.data=a;this.dialogRef=e;this.coreEnumService=i;this.smsLogOutBoxDetailService=t;this.cmsToastrService=n;this.tokenHelper=d;this.cmsStoreService=m;this.cdr=E;this.publicHelper=X;this.translate=ne;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Tt;this.dataModelResult=new y;this.dataModel=new Ot;this.formInfo=new Rt;this.dataModelEnumSendSmsStatusTypeResult=new y;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>Y(this,null,function*(){this.tokenInfo=a}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.smsLogOutBoxDetailService.setAccessLoad(),this.smsLogOutBoxDetailService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};vi.\u0275fac=function(e){return new(e||vi)(g(Te),g(Me),g(je),g(Pt),g(q),g(J),g(U),g(j),g(Q),g($))},vi.\u0275cmp=H({type:vi,selectors:[["app-sms-log-outbox-detail-view"]],viewQuery:function(e,i){if(e&1&&Ie(_s,5),e&2){let t;we(t=Ee())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",0),u(1),l(),r(2,"div",1),p(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),r(5,"div",4),p(6,"app-cms-form-result-message",5),l(),r(7,"div",6),v(8,gs,5,3,"div",7),l()),e&2&&(s(),C(" ",i.formInfo.formTitle," "),s(2),M("optionsInfoAreaId",i.constructorInfoAreaId),s(),M("dataModel",i.dataModel)("optionMethod",1),s(2),M("formInfo",i.formInfo),s(2),b(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[ee,Lt,Ae,W],encapsulation:2});var bi=vi;var Cs=()=>[5,10,20,100],vs=(o,a)=>a.id;function bs(o,a){if(o&1){let e=T();r(0,"button",20),f(1,"translate"),x("click",function(){h(e);let t=c();return _(t.onActionBackToParent())}),p(2,"i",21),l()}o&2&&Qe("aria-label",oe(S(1,2,"ACTION.BACK")))}function xs(o,a){if(o&1){let e=T();r(0,"div",12)(1,"app-cms-search-list",22),O("optionsChange",function(t){h(e);let n=c();return B(n.optionsSearch,t)||(n.optionsSearch=t),_(t)}),l()()}if(o&2){let e=c();s(),D("options",e.optionsSearch)}}function Ms(o,a){if(o&1){let e=T();r(0,"div",13)(1,"app-cms-statist-list",22),O("optionsChange",function(t){h(e);let n=c();return B(n.optionsStatist,t)||(n.optionsStatist=t),_(t)}),l()()}if(o&2){let e=c();s(),D("options",e.optionsStatist)}}function Ts(o,a){if(o&1&&(r(0,"div",23),p(1,"i",10),r(2,"span"),u(3),f(4,"translate"),f(5,"translate"),l()()),o&2){let e=c();Re("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),A("refreshing",e.pullToRefreshState.isRefreshing),s(),A("rotation360",e.pullToRefreshState.isRefreshing),s(2),V(e.pullToRefreshState.isRefreshing?S(4,7,"ACTION.RELOADING"):S(5,9,"ACTION.PULL_TO_REFRESH"))}}function Is(o,a){if(o&1&&(r(0,"div",31),p(1,"i",40),r(2,"span"),u(3),f(4,"translate"),l()()),o&2){let e=c().$implicit;s(3),R("",S(4,2,"TITLE.SenderNumber"),": ",e.senderNumber)}}function ws(o,a){if(o&1&&(r(0,"div",31),p(1,"i",41),r(2,"span"),u(3),f(4,"translate"),l()()),o&2){let e=c().$implicit;s(3),R("",S(4,2,"TITLE.ReceiverNumber"),": ",e.receiverNumber)}}function Es(o,a){o&1&&(p(0,"i",42),r(1,"span"),u(2),f(3,"translate"),l()),o&2&&(s(2),V(S(3,1,"MESSAGE.Sent")))}function Rs(o,a){o&1&&(p(0,"i",43),r(1,"span"),u(2),f(3,"translate"),l()),o&2&&(s(2),V(S(3,1,"MESSAGE.NotSent")))}function Ls(o,a){if(o&1&&(r(0,"div",34),p(1,"i",44),r(2,"span"),u(3),f(4,"localeDate"),l()()),o&2){let e=c().$implicit;s(3),V(S(4,1,e.createdDate))}}function As(o,a){if(o&1&&(r(0,"div",31),p(1,"i",45),r(2,"span"),u(3),f(4,"translate"),l()()),o&2){let e=c().$implicit;s(3),R("",S(4,2,"TITLE.ApiDeliveryStatus"),": ",e.getApiDeliveryStatus)}}function ys(o,a){if(o&1&&(r(0,"div",31),p(1,"i",46),r(2,"span"),u(3),f(4,"translate"),l()()),o&2){let e=c().$implicit;s(3),R("",S(4,2,"TITLE.RecordDetailStatus"),": ",e.recordDetailStatus)}}function Ds(o,a){if(o&1){let e=T();r(0,"button",47),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c(2).onActionButtonViewRow(n),_(t.stopPropagation())}),p(2,"i",48),l()}o&2&&k("aria-label",S(1,1,"ACTION.VIEW"))}function Bs(o,a){if(o&1){let e=T();r(0,"button",49),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c(2).onActionButtonDeleteRow(n),_(t.stopPropagation())}),p(2,"i",50),l()}o&2&&k("aria-label",S(1,1,"ACTION.DELETE"))}function Os(o,a){if(o&1){let e=T();r(0,"button",51),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c(2).onActionButtonDeleteRow(n),_(t.stopPropagation())}),p(2,"i",50),l()}o&2&&k("aria-label",S(1,1,"ACTION.DELETE"))}function ks(o,a){if(o&1){let e=T();r(0,"div",25)(1,"div",26),x("click",function(){let t=h(e).$implicit,n=c(2);return _(n.onActionTableRowSelect(t))})("touchstart",function(t){let n=h(e).$implicit,d=c(2);return _(d.onItemTouchStart(t,n.id))})("touchmove",function(t){let n=h(e).$implicit,d=c(2);return _(d.onItemTouchMove(t,n.id))})("touchend",function(t){let n=h(e).$implicit,d=c(2);return _(d.onItemTouchEnd(t,n.id))}),r(2,"div",27),p(3,"i",28),l(),r(4,"div",29)(5,"div",30),u(6),l(),v(7,Is,5,4,"div",31),v(8,ws,5,4,"div",31),r(9,"div",32)(10,"div",33),v(11,Es,4,3)(12,Rs,4,3),l(),v(13,Ls,5,3,"div",34),l(),v(14,As,5,4,"div",31),v(15,ys,5,4,"div",31),l(),r(16,"div",35),v(17,Ds,3,3,"button",36),v(18,Bs,3,3,"button",37),l()(),r(19,"div",38),v(20,Os,3,3,"button",39),l()()}if(o&2){let e,i=a.$implicit,t=c(2);Re("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),s(),A("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),k("aria-label",i.id),s(5),C(" ",i.id," "),s(),b(i.senderNumber?7:-1),s(),b(i.receiverNumber?8:-1),s(3),b(i.isSent?11:12),s(2),b(i.createdDate?13:-1),s(),b(i.getApiDeliveryStatus?14:-1),s(),b(i.recordDetailStatus?15:-1),s(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?17:-1),s(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?18:-1),s(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?20:-1)}}function Ps(o,a){if(o&1&&(r(0,"div",16),Ve(1,ks,21,15,"div",24,vs),l()),o&2){let e=c();s(),Ne(e.dataModelResult.listItems)}}function Vs(o,a){o&1&&(r(0,"div",17)(1,"div",52),p(2,"i",28),l(),r(3,"div",53),u(4),f(5,"translate"),l()()),o&2&&(s(4),C(" ",S(5,1,"MESSAGE.no_information")," "))}function Ns(o,a){if(o&1){let e=T();r(0,"div",19)(1,"mat-paginator",54,0),x("page",function(t){h(e);let n=c();return _(n.onTablePageingData(t))}),l()()}if(o&2){let e=c();s(),M("length",(e.dataModelResult==null?null:e.dataModelResult.totalRowCount)||0)("pageIndex",((e.dataModelResult==null?null:e.dataModelResult.currentPageNumber)||1)-1)("pageSize",(e.dataModelResult==null?null:e.dataModelResult.rowPerPage)||10)("pageSizeOptions",Z(4,Cs))}}var xi=class xi extends pe{constructor(e,i,t,n,d,m,E,X,ne,He,dt,he,ut){super(e,new Ot,he,E,He);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=n;this.smsMainApiPathService=d;this.router=m;this.tokenHelper=E;this.cdr=X;this.cmsStoreService=ne;this.translate=He;this.pageInfo=dt;this.publicHelper=he;this.dialog=ut;this.requestLinkOutBoxId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new F;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new y;this.dataModelPrivateResult=new y;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","createdDate","SenderNumber","ReceiverNumber","IsSent","recordDetailStatus","getApiDeliveryStatus","action_menu"];this.tabledisplayedColumnsMobileSource=["id","createdDate","SenderNumber","ReceiverNumber","IsSent","recordDetailStatus","getApiDeliveryStatus","action_menu"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.publicHelper.processService.cdr=this.cdr,this.requestLinkOutBoxId=this.activatedRoute.snapshot.paramMap.get("LinkOutBoxId"),this.optionsSearch.parentMethods={onSubmit:Zt=>this.onSubmitOptionsSearch(Zt)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=P.Descending;let te=new N;this.requestLinkOutBoxId&&this.requestLinkOutBoxId.length>0&&(te.propertyName="LinkOutBoxId",te.value=this.requestLinkOutBoxId,this.filteModelContent.filters.push(te))}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Y(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getPrivateConfig()}getPrivateConfig(){let e=new F;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ot);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=P.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(d,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new F,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),d=new N;d.propertyName="recordStatus",d.value=me.Available,n.filters.push(d),this.contentService.ServiceGetCount(n).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(bi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate})}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let n=e.touches[0];t.currentX=n.clientX;let d=t.currentX-t.startX,m=document.documentElement.dir==="rtl",E=m?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,X=m?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(X,Math.min(E,d))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let n=document.documentElement.dir==="rtl",d=n?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;n&&t.offset>d||!n&&t.offset<d||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/log/outbox"])}};xi.\u0275fac=function(i){return new(i||xi)(g(Pt),g(le),g(q),g(ae),g(se),g(ce),g(J),g(j),g(U),g($),g(ue),g(Q),g(re))},xi.\u0275cmp=H({type:xi,selectors:[["app-sms-log-outboxdetail-list-mobile"]],standalone:!1,features:[K],decls:26,vars:25,consts:[["paginator",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"aria-label"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["aria-hidden","true",1,"fa-solid","fa-chart-bar"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-statist-area","safe-area-content"],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content","safe-area-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],[1,"cms-m-footer","safe-area-bottom"],[1,"cms-m-pagination-wrapper"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[3,"optionsChange","options"],[1,"cms-m-pull-refresh-indicator"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-list"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-footer"],[1,"cms-m-list-item-status"],[1,"cms-m-list-item-date"],[1,"cms-m-list-item-actions"],[1,"cms-m-action-btn","view"],[1,"cms-m-action-btn","delete"],[1,"cms-m-list-item-swipe-actions"],[1,"cms-m-swipe-action-btn","delete"],["aria-hidden","true",1,"fa-solid","fa-phone"],["aria-hidden","true",1,"fa-solid","fa-mobile-screen-button"],["aria-hidden","true",1,"fa-solid","fa-check-circle",2,"color","#34c759"],["aria-hidden","true",1,"fa-solid","fa-times-circle",2,"color","#ff3b30"],["aria-hidden","true",1,"fa-solid","fa-clock"],["aria-hidden","true",1,"fa-solid","fa-info-circle"],["aria-hidden","true",1,"fa-solid","fa-circle-info"],[1,"cms-m-action-btn","view",3,"click"],["aria-hidden","true",1,"fa-solid","fa-eye"],[1,"cms-m-action-btn","delete",3,"click"],["aria-hidden","true",1,"fa-solid","fa-trash"],[1,"cms-m-swipe-action-btn","delete",3,"click"],[1,"cms-m-empty-state-icon"],[1,"cms-m-empty-state-text"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"]],template:function(i,t){i&1&&(r(0,"div",1),p(1,"app-progress-spinner",2),r(2,"div",3)(3,"div",4),v(4,bs,3,4,"button",5),r(5,"h1",6),u(6),f(7,"translate"),l(),r(8,"div",7)(9,"button",8),f(10,"translate"),x("click",function(){return t.optionsSearch.data.show=!t.optionsSearch.data.show}),p(11,"i",9),l(),r(12,"button",8),f(13,"translate"),x("click",function(){return t.onActionButtonReload()}),p(14,"i",10),l(),r(15,"button",8),f(16,"translate"),x("click",function(){return t.onActionButtonStatist()}),p(17,"i",11),l()()()(),v(18,xs,2,1,"div",12),v(19,Ms,2,1,"div",13),v(20,Ts,6,11,"div",14),r(21,"div",15),x("touchstart",function(d){return t.onTouchStart(d)})("touchmove",function(d){return t.onTouchMove(d)})("touchend",function(d){return t.onTouchEnd(d)}),v(22,Ps,3,0,"div",16)(23,Vs,6,3,"div",17),l(),r(24,"div",18),v(25,Ns,3,5,"div",19),l()()),i&2&&(s(),M("optionsInfoAreaId",t.constructorInfoAreaId),s(3),b((t.requestLinkOutBoxId==null?null:t.requestLinkOutBoxId.length)>0?4:-1),s(2),C(" ",S(7,17,"ROUTE.SMS.LOG")," "),s(3),A("active",t.optionsSearch.data.show),k("aria-label",S(10,19,"ACTION.SEARCH")),s(3),k("aria-label",S(13,21,"ACTION.RELOAD")),s(2),A("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s(),A("active",t.optionsStatist==null||t.optionsStatist.data==null?null:t.optionsStatist.data.show),k("aria-label",S(16,23,"ACTION.STATIST")),s(3),b(t.optionsSearch.data.show?18:-1),s(),b(!(t.optionsStatist==null||t.optionsStatist.data==null)&&t.optionsStatist.data.show?19:-1),s(),b(t.pullToRefreshState.pullDistance>0?20:-1),s(2),b(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?22:23),s(3),b((t.dataModelResult==null?null:t.dataModelResult.totalRowCount)>0?25:-1))},dependencies:[de,fe,Se,ee,W,Oe],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var Eo=xi;var Gs=["vform"];function Hs(o,a){if(o&1){let e=T();r(0,"app-cms-enum-record-status-selector",14),O("modelChange",function(t){h(e);let n=c();return B(n.dataModel.recordStatus,t)||(n.dataModel.recordStatus=t),_(t)}),l()}if(o&2){let e=c();D("model",e.dataModel.recordStatus),M("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Fs(o,a){if(o&1){let e=T();r(0,"app-cms-enum-record-admin-status-selector",14),O("modelChange",function(t){h(e);let n=c();return B(n.dataModel.adminRecordStatus,t)||(n.dataModel.adminRecordStatus=t),_(t)}),l()}if(o&2){let e=c();D("model",e.dataModel.adminRecordStatus),M("optionDisabled",!(e.fieldsInfo.adminRecordStatus!=null&&e.fieldsInfo.adminRecordStatus.accessEditField))("optionLabel",e.fieldsInfo.adminRecordStatus==null?null:e.fieldsInfo.adminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Qs(o,a){if(o&1){let e=T();r(0,"div",11)(1,"label",15),u(2),l(),r(3,"input",16),O("ngModelChange",function(t){h(e);let n=c();return B(n.dataModel.scheduleSendStart,t)||(n.dataModel.scheduleSendStart=t),_(t)}),l(),p(4,"mat-datepicker-toggle",17)(5,"mat-datepicker",18,1),l()}if(o&2){let e=z(6),i=c();s(2),V(i.fieldsInfo.receiverDate==null?null:i.fieldsInfo.receiverDate.fieldTitle),s(),M("placeholder",oe(i.fieldsInfo.scheduleSendStart==null?null:i.fieldsInfo.scheduleSendStart.fieldTitle))("matDatepicker",e),D("ngModel",i.dataModel.scheduleSendStart),M("readonly",!(i.fieldsInfo.scheduleSendStart!=null&&i.fieldsInfo.scheduleSendStart.accessEditField)),s(),M("for",e),s(),M("calendarHeaderComponent",i.datapickerHeader)}}function js(o,a){if(o&1){let e=T();r(0,"div",12)(1,"label",19),u(2),l(),r(3,"input",20,2),O("ngModelChange",function(t){h(e);let n=c();return B(n.dataModel.toNumbers,t)||(n.dataModel.toNumbers=t),_(t)}),l(),r(5,"em",21),u(6),l()()}if(o&2){let e=z(4),i=c();s(2),V(i.fieldsInfo.toNumbers==null?null:i.fieldsInfo.toNumbers.fieldTitle),s(),D("ngModel",i.dataModel.toNumbers),M("readonly",!(i.fieldsInfo.toNumbers!=null&&i.fieldsInfo.toNumbers.accessEditField)),s(3),C("",e.value.length," / 100")}}function Ws(o,a){if(o&1){let e=T();r(0,"div",12)(1,"label",22),u(2),l(),r(3,"textarea",23,3),O("ngModelChange",function(t){h(e);let n=c();return B(n.dataModel.message,t)||(n.dataModel.message=t),_(t)}),l(),r(5,"em",21),u(6),l()()}if(o&2){let e=z(4),i=c();s(2),V(i.fieldsInfo.message==null?null:i.fieldsInfo.message.fieldTitle),s(),D("ngModel",i.dataModel.message),M("readonly",!(i.fieldsInfo.message!=null&&i.fieldsInfo.message.accessEditField)),s(3),C("",e.value.length," ")}}function qs(o,a){if(o&1){let e=T();r(0,"div",13)(1,"button",24),x("click",function(){h(e);let t=c();return _(t.onFormCancel())}),p(2,"i",25),u(3),f(4,"translate"),l(),r(5,"button",26),p(6,"i",27),u(7),f(8,"translate"),l()()}if(o&2){c();let e=z(10);s(3),C(" ",S(4,3,"ACTION.CANCEL")," "),s(2),M("disabled",!e.form.valid),s(2),C(" ",S(8,5,"ACTION.SAVE")," ")}}var Mi=class Mi extends Jt{constructor(e,i,t,n,d,m,E,X){super(n,new St,m,X);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsLogOutBoxQueueService=n;this.cmsToastrService=d;this.publicHelper=m;this.cdr=E;this.translate=X;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Bt;this.dataModel=new St;this.dataModelSmsMessageTypeEnumResult=new y;this.dataModelSmsOutBoxTypeEnumResult=new y;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getSmsMessageTypeEnum(),this.getSmsOutBoxTypeEnum()}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsLogOutBoxQueueService.setAccessLoad(),this.smsLogOutBoxQueueService.setAccessDataType(Mt.Editor),this.smsLogOutBoxQueueService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsLogOutBoxQueueService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Mi.\u0275fac=function(i){return new(i||Mi)(g(Te),g(Me),g(kt),g(wt),g(q),g(Q),g(j),g($))},Mi.\u0275cmp=H({type:Mi,selectors:[["app-sms-log-outboxqueue-edit"]],viewQuery:function(i,t){if(i&1&&Ie(Gs,5),i&2){let n;we(n=Ee())&&(t.formGroup=n.first)}},standalone:!1,features:[K],decls:17,vars:12,consts:[["vform","ngForm"],["ScheduleSendStart",""],["ToNumbers",""],["Message",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.scheduleSendStart",1,"color-highlight"],["matInput","","type","text","name","dataModel.scheduleSendStart","id","dataModel.scheduleSendStart",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","readonly"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.toNumbers",1,"color-highlight"],["matInput","","type","text","name","dataModel.toNumbers","placeholder","123","id","dataModel.toNumbers",1,"form-control","validate-name",3,"ngModelChange","ngModel","readonly"],[2,"text-align","right"],["for","dataModel.message",1,"color-highlight"],["matInput","","rows","20","type","text","name","dataModel.message","placeholder","123","id","dataModel.message",1,"form-control","validate-name",3,"ngModelChange","ngModel","readonly"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let n=T();r(0,"div",4),p(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),u(4),l(),r(5,"p"),u(6),f(7,"translate"),l(),p(8,"app-cms-form-result-message",8),r(9,"form",9,0),x("ngSubmit",function(){return h(n),_(t.onFormSubmit())}),v(11,Hs,1,5,"app-cms-enum-record-status-selector",10),v(12,Fs,1,5,"app-cms-enum-record-admin-status-selector",10),v(13,Qs,7,8,"div",11),v(14,js,7,4,"div",12),v(15,Ws,7,4,"div",12),v(16,qs,9,7,"div",13),l()()()}i&2&&(s(),M("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",S(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),s(2),M("formInfo",t.formInfo),s(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),s(),b(t.fieldsInfo.adminRecordStatus!=null&&t.fieldsInfo.adminRecordStatus.accessWatchField?12:-1),s(),b(t.fieldsInfo.scheduleSendStart!=null&&t.fieldsInfo.scheduleSendStart.accessWatchField?13:-1),s(),b(t.fieldsInfo.toNumbers!=null&&t.fieldsInfo.toNumbers.accessWatchField?14:-1),s(),b(t.fieldsInfo.message!=null&&t.fieldsInfo.message.accessWatchField?15:-1),s(),b(t.formInfo.submitButtonEnabled?16:-1))},dependencies:[Qt,Vt,Nt,Gt,Ft,Ht,Wt,qt,$t,jt,$e,Ut,pn,ee,Ae,W],encapsulation:2});var Ti=Mi;var $s=["vform"];function Xs(o,a){if(o&1){let e=T();r(0,"div",7)(1,"button",8),x("click",function(){h(e);let t=c();return _(t.onFormCancel())}),p(2,"i",9),u(3),f(4,"translate"),l()()}o&2&&(s(3),C(" ",S(4,1,"ACTION.CANCEL")," "))}var Ii=class Ii{constructor(a,e,i,t,n,d,m,E,X,ne){this.data=a;this.dialogRef=e;this.coreEnumService=i;this.smsLogOutBoxQueueService=t;this.cmsToastrService=n;this.tokenHelper=d;this.cmsStoreService=m;this.cdr=E;this.publicHelper=X;this.translate=ne;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Tt;this.dataModelResult=new y;this.dataModel=new St;this.formInfo=new Rt;this.dataModelEnumSendSmsStatusTypeResult=new y;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>Y(this,null,function*(){this.tokenInfo=a}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.smsLogOutBoxQueueService.setAccessLoad(),this.smsLogOutBoxQueueService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ii.\u0275fac=function(e){return new(e||Ii)(g(Te),g(Me),g(je),g(wt),g(q),g(J),g(U),g(j),g(Q),g($))},Ii.\u0275cmp=H({type:Ii,selectors:[["app-sms-log-outboxqueue-view"]],viewQuery:function(e,i){if(e&1&&Ie($s,5),e&2){let t;we(t=Ee())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",0),u(1),l(),r(2,"div",1),p(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),r(5,"div",4),p(6,"app-cms-form-result-message",5),l(),r(7,"div",6),v(8,Xs,5,3,"div",7),l()),e&2&&(s(),C(" ",i.formInfo.formTitle," "),s(2),M("optionsInfoAreaId",i.constructorInfoAreaId),s(),M("dataModel",i.dataModel)("optionMethod",1),s(2),M("formInfo",i.formInfo),s(2),b(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[ee,Lt,Ae,W],encapsulation:2});var wi=Ii;var Ys=()=>[5,10,20,100],zs=(o,a)=>a.id;function Us(o,a){if(o&1){let e=T();r(0,"button",20),f(1,"translate"),x("click",function(){h(e);let t=c();return _(t.onActionBackToParent())}),p(2,"i",21),l()}o&2&&Qe("aria-label",oe(S(1,2,"ACTION.BACK")))}function Js(o,a){if(o&1){let e=T();r(0,"div",12)(1,"app-cms-search-list",22),O("optionsChange",function(t){h(e);let n=c();return B(n.optionsSearch,t)||(n.optionsSearch=t),_(t)}),l()()}if(o&2){let e=c();s(),D("options",e.optionsSearch)}}function Ks(o,a){if(o&1){let e=T();r(0,"div",13)(1,"app-cms-statist-list",22),O("optionsChange",function(t){h(e);let n=c();return B(n.optionsStatist,t)||(n.optionsStatist=t),_(t)}),l()()}if(o&2){let e=c();s(),D("options",e.optionsStatist)}}function Zs(o,a){if(o&1&&(r(0,"div",23),p(1,"i",10),r(2,"span"),u(3),f(4,"translate"),f(5,"translate"),l()()),o&2){let e=c();Re("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),A("refreshing",e.pullToRefreshState.isRefreshing),s(),A("rotation360",e.pullToRefreshState.isRefreshing),s(2),V(e.pullToRefreshState.isRefreshing?S(4,7,"ACTION.RELOADING"):S(5,9,"ACTION.PULL_TO_REFRESH"))}}function er(o,a){o&1&&(r(0,"span"),u(1),f(2,"translate"),l()),o&2&&(s(),V(S(2,1,"MESSAGE.Completed")))}function tr(o,a){o&1&&(r(0,"span"),u(1),f(2,"translate"),l()),o&2&&(s(),V(S(2,1,"MESSAGE.Pending")))}function ir(o,a){if(o&1&&(r(0,"div",34),p(1,"i",42),r(2,"span"),u(3),f(4,"localeDate"),l()()),o&2){let e=c().$implicit;s(3),V(S(4,1,e.queueCompleteDate))}}function or(o,a){if(o&1&&(r(0,"div",35),p(1,"i",43),r(2,"span"),u(3),f(4,"translate"),f(5,"localeDate"),l()()),o&2){let e=c().$implicit;s(3),R("",S(4,2,"TITLE.ScheduleSendStart"),": ",S(5,4,e.scheduleSendStart))}}function nr(o,a){if(o&1&&(r(0,"div",35),p(1,"i",44),r(2,"span"),u(3),f(4,"translate"),f(5,"localeDate"),l()()),o&2){let e=c().$implicit;s(3),R("",S(4,2,"TITLE.ScheduleSendExpire"),": ",S(5,4,e.scheduleSendExpire))}}function sr(o,a){if(o&1&&(r(0,"div",34),p(1,"i",45),r(2,"span"),u(3),f(4,"translate"),f(5,"localeDate"),l()()),o&2){let e=c().$implicit;s(3),R("",S(4,2,"TITLE.CreatedDate"),": ",S(5,4,e.createdDate))}}function rr(o,a){if(o&1){let e=T();r(0,"button",46),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c(2).onActionButtonViewRow(n),_(t.stopPropagation())}),p(2,"i",47),l()}o&2&&k("aria-label",S(1,1,"ACTION.VIEW"))}function ar(o,a){if(o&1){let e=T();r(0,"button",48),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c(2).onActionButtonEditRow(n),_(t.stopPropagation())}),p(2,"i",49),l()}o&2&&k("aria-label",S(1,1,"ACTION.EDIT"))}function lr(o,a){if(o&1){let e=T();r(0,"button",50),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c(2).onActionButtonDeleteRow(n),_(t.stopPropagation())}),p(2,"i",51),l()}o&2&&k("aria-label",S(1,1,"ACTION.DELETE"))}function cr(o,a){if(o&1){let e=T();r(0,"button",52),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c(2).onActionButtonDeleteRow(n),_(t.stopPropagation())}),p(2,"i",51),l()}o&2&&k("aria-label",S(1,1,"ACTION.DELETE"))}function mr(o,a){if(o&1){let e=T();r(0,"div",25)(1,"div",26),x("click",function(){let t=h(e).$implicit,n=c(2);return _(n.onActionTableRowSelect(t))})("touchstart",function(t){let n=h(e).$implicit,d=c(2);return _(d.onItemTouchStart(t,n.id))})("touchmove",function(t){let n=h(e).$implicit,d=c(2);return _(d.onItemTouchMove(t,n.id))})("touchend",function(t){let n=h(e).$implicit,d=c(2);return _(d.onItemTouchEnd(t,n.id))}),r(2,"div",27),p(3,"i",28),l(),r(4,"div",29)(5,"div",30),u(6),l(),r(7,"div",31)(8,"div",32),p(9,"i",33),f(10,"statusIconClass"),v(11,er,3,3,"span")(12,tr,3,3,"span"),l(),v(13,ir,5,3,"div",34),l(),v(14,or,6,6,"div",35),v(15,nr,6,6,"div",35),v(16,sr,6,6,"div",34),l(),r(17,"div",36),v(18,rr,3,3,"button",37),v(19,ar,3,3,"button",38),v(20,lr,3,3,"button",39),l()(),r(21,"div",40),v(22,cr,3,3,"button",41),l()()}if(o&2){let e,i=a.$implicit,t=c(2);Re("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),s(),A("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),k("aria-label",i.id),s(5),C(" ",i.id," "),s(3),M("ngClass",S(10,16,i.recordStatus)),s(2),b(i.queueCompleted?11:12),s(2),b(i.queueCompleteDate?13:-1),s(),b(i.scheduleSendStart?14:-1),s(),b(i.scheduleSendExpire?15:-1),s(),b(i.createdDate?16:-1),s(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?18:-1),s(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?19:-1),s(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?20:-1),s(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?22:-1)}}function dr(o,a){if(o&1&&(r(0,"div",16),Ve(1,mr,23,18,"div",24,zs),l()),o&2){let e=c();s(),Ne(e.dataModelResult.listItems)}}function ur(o,a){o&1&&(r(0,"div",17)(1,"div",53),p(2,"i",28),l(),r(3,"div",54),u(4),f(5,"translate"),l()()),o&2&&(s(4),C(" ",S(5,1,"MESSAGE.no_information")," "))}function pr(o,a){if(o&1){let e=T();r(0,"div",19)(1,"mat-paginator",55,0),x("page",function(t){h(e);let n=c();return _(n.onTablePageingData(t))}),l()()}if(o&2){let e=c();s(),M("length",(e.dataModelResult==null?null:e.dataModelResult.totalRowCount)||0)("pageIndex",((e.dataModelResult==null?null:e.dataModelResult.currentPageNumber)||1)-1)("pageSize",(e.dataModelResult==null?null:e.dataModelResult.rowPerPage)||10)("pageSizeOptions",Z(4,Ys))}}var Ei=class Ei extends pe{constructor(e,i,t,n,d,m,E,X,ne,He,dt,he,ut){super(e,new St,he,E,ne);this.contentService=e;this.smsMainApiPathService=i;this.activatedRoute=t;this.cmsToastrService=n;this.cmsConfirmationDialogService=d;this.router=m;this.tokenHelper=E;this.cdr=X;this.translate=ne;this.cmsStoreService=He;this.pageInfo=dt;this.publicHelper=he;this.dialog=ut;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new F;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new y;this.dataModelPrivateResult=new y;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","adminRecordStatus","createdBy","scheduleSendStart","scheduleSendExpire","queueAllowNextRun","queueCompleted","queueCompleteDate","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","adminRecordStatus","createdBy","scheduleSendStart","scheduleSendExpire","queueAllowNextRun","queueCompleted","queueCompleteDate"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:te=>this.onSubmitOptionsSearch(te)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=P.Descending}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId"));let e=new N;this.requestLinkApiPathId?.length>0&&(e.propertyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>Y(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getPrivateConfig()}getPrivateConfig(){let e=new F;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new St);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new N;t.propertyName="LinkPrivateConfigId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=P.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ti,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(d,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(wi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new F,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),d=new N;d.propertyName="recordStatus",d.value=me.Available,n.filters.push(d),this.contentService.ServiceGetCount(n).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let n=e.touches[0];t.currentX=n.clientX;let d=t.currentX-t.startX,m=document.documentElement.dir==="rtl",E=m?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,X=m?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(X,Math.min(E,d))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let n=document.documentElement.dir==="rtl",d=n?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;n&&t.offset>d||!n&&t.offset<d||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){}};Ei.\u0275fac=function(i){return new(i||Ei)(g(wt),g(se),g(le),g(q),g(ae),g(ce),g(J),g(j),g($),g(U),g(ue),g(Q),g(re))},Ei.\u0275cmp=H({type:Ei,selectors:[["app-sms-log-outboxqueue-list-mobile"]],standalone:!1,features:[K],decls:26,vars:25,consts:[["paginator",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"aria-label"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["aria-hidden","true",1,"fa-solid","fa-chart-bar"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-statist-area","safe-area-content"],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content","safe-area-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],[1,"cms-m-footer","safe-area-bottom"],[1,"cms-m-pagination-wrapper"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[3,"optionsChange","options"],[1,"cms-m-pull-refresh-indicator"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-list-ul"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-footer"],[1,"cms-m-list-item-status"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-date"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-actions"],[1,"cms-m-action-btn","view"],[1,"cms-m-action-btn","edit"],[1,"cms-m-action-btn","delete"],[1,"cms-m-list-item-swipe-actions"],[1,"cms-m-swipe-action-btn","delete"],["aria-hidden","true",1,"fa-solid","fa-check-circle"],["aria-hidden","true",1,"fa-solid","fa-clock"],["aria-hidden","true",1,"fa-solid","fa-hourglass-end"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[1,"cms-m-action-btn","view",3,"click"],["aria-hidden","true",1,"fa-solid","fa-eye"],[1,"cms-m-action-btn","edit",3,"click"],["aria-hidden","true",1,"fa-solid","fa-pen"],[1,"cms-m-action-btn","delete",3,"click"],["aria-hidden","true",1,"fa-solid","fa-trash"],[1,"cms-m-swipe-action-btn","delete",3,"click"],[1,"cms-m-empty-state-icon"],[1,"cms-m-empty-state-text"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"]],template:function(i,t){i&1&&(r(0,"div",1),p(1,"app-progress-spinner",2),r(2,"div",3)(3,"div",4),v(4,Us,3,4,"button",5),r(5,"h1",6),u(6),f(7,"translate"),l(),r(8,"div",7)(9,"button",8),f(10,"translate"),x("click",function(){return t.optionsSearch.data.show=!t.optionsSearch.data.show}),p(11,"i",9),l(),r(12,"button",8),f(13,"translate"),x("click",function(){return t.onActionButtonReload()}),p(14,"i",10),l(),r(15,"button",8),f(16,"translate"),x("click",function(){return t.onActionButtonStatist()}),p(17,"i",11),l()()()(),v(18,Js,2,1,"div",12),v(19,Ks,2,1,"div",13),v(20,Zs,6,11,"div",14),r(21,"div",15),x("touchstart",function(d){return t.onTouchStart(d)})("touchmove",function(d){return t.onTouchMove(d)})("touchend",function(d){return t.onTouchEnd(d)}),v(22,dr,3,0,"div",16)(23,ur,6,3,"div",17),l(),r(24,"div",18),v(25,pr,3,5,"div",19),l()()),i&2&&(s(),M("optionsInfoAreaId",t.constructorInfoAreaId),s(3),b((t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0?4:-1),s(2),C(" ",S(7,17,"ROUTE.SMS.LOG")," "),s(3),A("active",t.optionsSearch.data.show),k("aria-label",S(10,19,"ACTION.SEARCH")),s(3),k("aria-label",S(13,21,"ACTION.RELOAD")),s(2),A("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s(),A("active",t.optionsStatist==null||t.optionsStatist.data==null?null:t.optionsStatist.data.show),k("aria-label",S(16,23,"ACTION.STATIST")),s(3),b(t.optionsSearch.data.show?18:-1),s(),b(!(t.optionsStatist==null||t.optionsStatist.data==null)&&t.optionsStatist.data.show?19:-1),s(),b(t.pullToRefreshState.pullDistance>0?20:-1),s(2),b(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?22:23),s(3),b((t.dataModelResult==null?null:t.dataModelResult.totalRowCount)>0?25:-1))},dependencies:[Le,de,fe,Se,ee,W,Oe,ke],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var to=Ei;var fr=["vform"];function Sr(o,a){if(o&1){let e=T();r(0,"app-cms-enum-record-status-selector",14),O("modelChange",function(t){h(e);let n=c();return B(n.dataModel.recordStatus,t)||(n.dataModel.recordStatus=t),_(t)}),l()}if(o&2){let e=c();D("model",e.dataModel.recordStatus),M("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function hr(o,a){if(o&1){let e=T();r(0,"div",11)(1,"label",15),u(2),l(),r(3,"input",16),O("ngModelChange",function(t){h(e);let n=c();return B(n.dataModel.scheduleSendStart,t)||(n.dataModel.scheduleSendStart=t),_(t)}),l(),p(4,"mat-datepicker-toggle",17)(5,"mat-datepicker",18,1),l()}if(o&2){let e=z(6),i=c();s(2),V(i.fieldsInfo.receiverDate==null?null:i.fieldsInfo.receiverDate.fieldTitle),s(),M("placeholder",oe(i.fieldsInfo.scheduleSendStart==null?null:i.fieldsInfo.scheduleSendStart.fieldTitle))("matDatepicker",e),D("ngModel",i.dataModel.scheduleSendStart),M("readonly",!(i.fieldsInfo.scheduleSendStart!=null&&i.fieldsInfo.scheduleSendStart.accessEditField)),s(),M("for",e),s(),M("calendarHeaderComponent",i.datapickerHeader)}}function _r(o,a){if(o&1){let e=T();r(0,"div",12)(1,"label",19),u(2),l(),r(3,"input",20,2),O("ngModelChange",function(t){h(e);let n=c();return B(n.dataModel.toNumbers,t)||(n.dataModel.toNumbers=t),_(t)}),l(),r(5,"em",21),u(6),l()()}if(o&2){let e=z(4),i=c();s(2),V(i.fieldsInfo.toNumbers==null?null:i.fieldsInfo.toNumbers.fieldTitle),s(),D("ngModel",i.dataModel.toNumbers),M("readonly",!(i.fieldsInfo.toNumbers!=null&&i.fieldsInfo.toNumbers.accessEditField)),s(3),C("",e.value.length," / 100")}}function gr(o,a){if(o&1){let e=T();r(0,"div",12)(1,"label",22),u(2),l(),r(3,"input",23,3),O("ngModelChange",function(t){h(e);let n=c();return B(n.dataModel.message,t)||(n.dataModel.message=t),_(t)}),l(),r(5,"em",21),u(6),l()()}if(o&2){let e=z(4),i=c();s(2),V(i.fieldsInfo.message==null?null:i.fieldsInfo.message.fieldTitle),s(),D("ngModel",i.dataModel.message),M("readonly",!(i.fieldsInfo.message!=null&&i.fieldsInfo.message.accessEditField)),s(3),C("",e.value.length," / 100")}}function Cr(o,a){if(o&1){let e=T();r(0,"div",13)(1,"button",24),x("click",function(){h(e);let t=c();return _(t.onFormCancel())}),p(2,"i",25),u(3),f(4,"translate"),l(),r(5,"button",26),p(6,"i",27),u(7),f(8,"translate"),l()()}if(o&2){c();let e=z(10);s(3),C(" ",S(4,3,"ACTION.CANCEL")," "),s(2),M("disabled",!e.form.valid),s(2),C(" ",S(8,5,"ACTION.SAVE")," ")}}var Ri=class Ri extends Jt{constructor(e,i,t,n,d,m,E,X){super(n,new ht,m,X);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsLogOutBoxTaskSchedulerService=n;this.cmsToastrService=d;this.publicHelper=m;this.cdr=E;this.translate=X;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Bt;this.dataModel=new ht;this.dataModelSmsMessageTypeEnumResult=new y;this.dataModelSmsOutBoxTypeEnumResult=new y;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getSmsMessageTypeEnum(),this.getSmsOutBoxTypeEnum()}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsLogOutBoxTaskSchedulerService.setAccessLoad(),this.smsLogOutBoxTaskSchedulerService.setAccessDataType(Mt.Editor),this.smsLogOutBoxTaskSchedulerService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsLogOutBoxTaskSchedulerService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ri.\u0275fac=function(i){return new(i||Ri)(g(Te),g(Me),g(kt),g(Et),g(q),g(Q),g(j),g($))},Ri.\u0275cmp=H({type:Ri,selectors:[["app-sms-log-outbox-task-scheduler-edit"]],viewQuery:function(i,t){if(i&1&&Ie(fr,5),i&2){let n;we(n=Ee())&&(t.formGroup=n.first)}},standalone:!1,features:[K],decls:16,vars:11,consts:[["vform","ngForm"],["ScheduleSendStart",""],["ToNumbers",""],["Message",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.scheduleSendStart",1,"color-highlight"],["matInput","","type","text","name","dataModel.scheduleSendStart","id","dataModel.scheduleSendStart",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","readonly"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.toNumbers",1,"color-highlight"],["matInput","","type","text","name","dataModel.toNumbers","placeholder","123","id","dataModel.toNumbers",1,"form-control","validate-name",3,"ngModelChange","ngModel","readonly"],[2,"text-align","right"],["for","dataModel.message",1,"color-highlight"],["matInput","","type","text","name","dataModel.message","placeholder","123","id","dataModel.message",1,"form-control","validate-name",3,"ngModelChange","ngModel","readonly"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let n=T();r(0,"div",4),p(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),u(4),l(),r(5,"p"),u(6),f(7,"translate"),l(),p(8,"app-cms-form-result-message",8),r(9,"form",9,0),x("ngSubmit",function(){return h(n),_(t.onFormSubmit())}),v(11,Sr,1,5,"app-cms-enum-record-status-selector",10),v(12,hr,7,8,"div",11),v(13,_r,7,4,"div",12),v(14,gr,7,4,"div",12),v(15,Cr,9,7,"div",13),l()()()}i&2&&(s(),M("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",S(7,9,"TITLE.Be_Careful_When_Entering_Information")," "),s(2),M("formInfo",t.formInfo),s(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),s(),b(t.fieldsInfo.scheduleSendStart!=null&&t.fieldsInfo.scheduleSendStart.accessWatchField?12:-1),s(),b(t.fieldsInfo.toNumbers!=null&&t.fieldsInfo.toNumbers.accessWatchField?13:-1),s(),b(t.fieldsInfo.message!=null&&t.fieldsInfo.message.accessWatchField?14:-1),s(),b(t.formInfo.submitButtonEnabled?15:-1))},dependencies:[Qt,Vt,Nt,Gt,Ft,Ht,Wt,qt,$t,jt,$e,Ut,ee,Ae,W],encapsulation:2});var Li=Ri;function vr(o,a){o&1&&(p(0,"i",19),f(1,"translate")),o&2&&M("title",S(1,1,"MESSAGE.Success"))}function br(o,a){o&1&&(p(0,"i",20),f(1,"translate")),o&2&&M("title",S(1,1,"MESSAGE.Failed"))}function xr(o,a){if(o&1&&(r(0,"span",21),u(1),l()),o&2){let e=c().$implicit;s(),V(e.errorMessage)}}function Mr(o,a){o&1&&(r(0,"span",22),u(1,"-"),l())}function Tr(o,a){if(o&1&&(r(0,"tr")(1,"td",15),u(2),l(),r(3,"td")(4,"span",16),u(5),l()(),r(6,"td")(7,"span",17),u(8),f(9,"localeDateTime"),l()(),r(10,"td")(11,"span",17),u(12),f(13,"localeDateTime"),l()(),r(14,"td")(15,"span",18),u(16),l()(),r(17,"td",15),v(18,vr,2,3,"i",19)(19,br,2,3,"i",20),l(),r(20,"td"),v(21,xr,2,1,"span",21)(22,Mr,2,0,"span",22),l()()),o&2){let e=a.$implicit,i=a.$index;s(2),V(i+1),s(3),V(e.scheduleLockerId),s(3),C(" ",S(9,7,e.scheduleLockedRun)," "),s(4),C(" ",S(13,9,e.scheduleLockedEnd)," "),s(4),V(e.scheduleLockerMicroservice),s(2),b(e.isSuccess?18:19),s(3),b(!e.isSuccess&&e.errorMessage?21:22)}}function Ir(o,a){if(o&1&&(r(0,"div",6)(1,"table",11)(2,"thead",12)(3,"tr")(4,"th",13),u(5,"#"),l(),r(6,"th",14),u(7),f(8,"translate"),l(),r(9,"th",14),u(10),f(11,"translate"),l(),r(12,"th",14),u(13),f(14,"translate"),l(),r(15,"th",14),u(16),f(17,"translate"),l(),r(18,"th",13),u(19),f(20,"translate"),l(),r(21,"th",14),u(22),f(23,"translate"),l()()(),r(24,"tbody"),Ve(25,Tr,23,11,"tr",null,qo),l()()()),o&2){let e=c();s(7),C(" ",S(8,6,"TITLE.Schedule_Locker_Id")," "),s(3),C(" ",S(11,8,"TITLE.Schedule_Locked_Run")," "),s(3),C(" ",S(14,10,"TITLE.Schedule_Locked_End")," "),s(3),C(" ",S(17,12,"TITLE.Schedule_Locker_Microservice")," "),s(3),C(" ",S(20,14,"TITLE.Status")," "),s(3),C(" ",S(23,16,"TITLE.Error_Message")," "),s(3),Ne(e.scheduleRunInfos)}}function wr(o,a){o&1&&(r(0,"div",7),p(1,"i",23),r(2,"p",24),u(3),f(4,"translate"),l()()),o&2&&(s(3),C(" ",S(4,1,"MESSAGE.No_Schedule_Run_Infos")," "))}var Ai=class Ai{constructor(a,e,i){this.data=a;this.dialogRef=e;this.publicHelper=i;this.scheduleRunInfos=[];this.taskSchedulerId="";a&&(this.scheduleRunInfos=a.scheduleRunInfos||[],this.taskSchedulerId=a.taskSchedulerId||"")}ngOnInit(){}onClose(){this.dialogRef.close()}};Ai.\u0275fac=function(e){return new(e||Ai)(g(Te),g(Me),g(Q))},Ai.\u0275cmp=H({type:Ai,selectors:[["app-schedule-run-info-list"]],standalone:!1,decls:17,vars:11,consts:[[1,"card","border-0","shadow-sm","rounded-m"],[1,"card-header","bg-gradient-highlight","text-white"],[1,"mb-0"],[1,"fa-solid","fa-list-check","me-2"],[1,"mb-0","font-12","opacity-80"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"text-center","p-5"],[1,"card-footer","bg-light","text-end"],["type","button",1,"btn","btn-secondary","btn-sm","rounded-s","shadow-sm",3,"click"],[1,"fa-solid","fa-times","me-1"],[1,"table","table-hover","table-striped","mb-0"],[1,"table-light"],["scope","col",1,"text-center"],["scope","col"],[1,"text-center"],[1,"font-12","text-muted"],[1,"font-12",2,"direction","ltr","display","block"],[1,"badge","bg-info","text-white"],[1,"fa-solid","fa-circle-check","text-success","font-18",3,"title"],[1,"fa-solid","fa-circle-xmark","text-danger","font-18",3,"title"],[1,"text-danger","font-12"],[1,"text-muted","font-12"],[1,"fa-solid","fa-inbox","font-48","text-muted","mb-3"],[1,"text-muted"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"div",1)(2,"h5",2),p(3,"i",3),u(4),f(5,"translate"),l(),r(6,"p",4),u(7),f(8,"translate"),l()(),r(9,"div",5),v(10,Ir,27,18,"div",6)(11,wr,5,3,"div",7),l(),r(12,"div",8)(13,"button",9),x("click",function(){return i.onClose()}),p(14,"i",10),u(15),f(16,"translate"),l()()()),e&2&&(s(4),C(" ",S(5,5,"TITLE.Schedule_Run_Infos")," "),s(3),R(" ",S(8,7,"TITLE.Task_Scheduler_ID"),": ",i.taskSchedulerId," "),s(3),b(i.scheduleRunInfos&&i.scheduleRunInfos.length>0?10:11),s(5),C(" ",S(16,9,"ACTION.CLOSE")," "))},dependencies:[W,Ge],encapsulation:2});var yi=Ai;var Er=["vform"];function Rr(o,a){if(o&1){let e=T();r(0,"div",7)(1,"button",8),x("click",function(){h(e);let t=c();return _(t.onFormCancel())}),p(2,"i",9),u(3),f(4,"translate"),l()()}o&2&&(s(3),C(" ",S(4,1,"ACTION.CANCEL")," "))}var Bi=class Bi{constructor(a,e,i,t,n,d,m,E,X,ne){this.data=a;this.dialogRef=e;this.coreEnumService=i;this.smsLogOutBoxTaskSchedulerService=t;this.cmsToastrService=n;this.tokenHelper=d;this.cmsStoreService=m;this.cdr=E;this.publicHelper=X;this.translate=ne;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Tt;this.dataModelResult=new y;this.dataModel=new ht;this.formInfo=new Rt;this.dataModelEnumSendSmsStatusTypeResult=new y;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>Y(this,null,function*(){this.tokenInfo=a}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.smsLogOutBoxTaskSchedulerService.setAccessLoad(),this.smsLogOutBoxTaskSchedulerService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Bi.\u0275fac=function(e){return new(e||Bi)(g(Te),g(Me),g(je),g(Et),g(q),g(J),g(U),g(j),g(Q),g($))},Bi.\u0275cmp=H({type:Bi,selectors:[["app-sms-log-outbox-task-scheduler-view"]],viewQuery:function(e,i){if(e&1&&Ie(Er,5),e&2){let t;we(t=Ee())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",0),u(1),l(),r(2,"div",1),p(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),r(5,"div",4),p(6,"app-cms-form-result-message",5),l(),r(7,"div",6),v(8,Rr,5,3,"div",7),l()),e&2&&(s(),C(" ",i.formInfo.formTitle," "),s(2),M("optionsInfoAreaId",i.constructorInfoAreaId),s(),M("dataModel",i.dataModel)("optionMethod",1),s(2),M("formInfo",i.formInfo),s(2),b(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[ee,Lt,Ae,W],encapsulation:2});var Oi=Bi;var Lr=()=>[5,10,20,100],Ar=(o,a)=>a.id;function yr(o,a){if(o&1){let e=T();r(0,"button",20),f(1,"translate"),x("click",function(){h(e);let t=c();return _(t.onActionBackToParent())}),p(2,"i",21),l()}o&2&&Qe("aria-label",oe(S(1,2,"ACTION.BACK")))}function Dr(o,a){if(o&1){let e=T();r(0,"div",12)(1,"app-cms-search-list",22),O("optionsChange",function(t){h(e);let n=c();return B(n.optionsSearch,t)||(n.optionsSearch=t),_(t)}),l()()}if(o&2){let e=c();s(),D("options",e.optionsSearch)}}function Br(o,a){if(o&1){let e=T();r(0,"div",13)(1,"app-cms-statist-list",22),O("optionsChange",function(t){h(e);let n=c();return B(n.optionsStatist,t)||(n.optionsStatist=t),_(t)}),l()()}if(o&2){let e=c();s(),D("options",e.optionsStatist)}}function Or(o,a){if(o&1&&(r(0,"div",23),p(1,"i",10),r(2,"span"),u(3),f(4,"translate"),f(5,"translate"),l()()),o&2){let e=c();Re("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),A("refreshing",e.pullToRefreshState.isRefreshing),s(),A("rotation360",e.pullToRefreshState.isRefreshing),s(2),V(e.pullToRefreshState.isRefreshing?S(4,7,"ACTION.RELOADING"):S(5,9,"ACTION.PULL_TO_REFRESH"))}}function kr(o,a){if(o&1&&(r(0,"div",31),p(1,"i",43),r(2,"span"),u(3),f(4,"translate"),l()()),o&2){let e=c().$implicit;s(3),R("",S(4,2,"TITLE.ScheduleCron"),": ",e.scheduleCron)}}function Pr(o,a){o&1&&(r(0,"span"),u(1),f(2,"translate"),l()),o&2&&(s(),V(S(2,1,"MESSAGE.AllowNextRun")))}function Vr(o,a){o&1&&(r(0,"span"),u(1),f(2,"translate"),l()),o&2&&(s(),V(S(2,1,"MESSAGE.NotAllowNextRun")))}function Nr(o,a){if(o&1&&(r(0,"div",35),p(1,"i",44),r(2,"span"),u(3),f(4,"translate"),l()()),o&2){let e=c().$implicit;s(3),R("",e.scheduleRunInfos.length," ",S(4,2,"MESSAGE.Runs"))}}function Gr(o,a){if(o&1&&(r(0,"div",31),p(1,"i",45),r(2,"span"),u(3),f(4,"translate"),f(5,"localeDate"),l()()),o&2){let e=c().$implicit;s(3),R("",S(4,2,"TITLE.ScheduleSendStart"),": ",S(5,4,e.scheduleSendStart))}}function Hr(o,a){if(o&1&&(r(0,"div",31),p(1,"i",46),r(2,"span"),u(3),f(4,"translate"),f(5,"localeDate"),l()()),o&2){let e=c().$implicit;s(3),R("",S(4,2,"TITLE.ScheduleSendExpire"),": ",S(5,4,e.scheduleSendExpire))}}function Fr(o,a){if(o&1&&(r(0,"div",35),p(1,"i",47),r(2,"span"),u(3),f(4,"translate"),f(5,"localeDate"),l()()),o&2){let e=c().$implicit;s(3),R("",S(4,2,"TITLE.CreatedDate"),": ",S(5,4,e.createdDate))}}function Qr(o,a){if(o&1){let e=T();r(0,"button",48),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c(2).onActionButtonScheduleRunInfos(n),_(t.stopPropagation())}),p(2,"i",44),l()}o&2&&k("aria-label",S(1,1,"ACTION.SCHEDULE_RUN_INFOS"))}function jr(o,a){if(o&1){let e=T();r(0,"button",49),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c(2).onActionButtonViewRow(n),_(t.stopPropagation())}),p(2,"i",50),l()}o&2&&k("aria-label",S(1,1,"ACTION.VIEW"))}function Wr(o,a){if(o&1){let e=T();r(0,"button",51),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c(2).onActionButtonEditRow(n),_(t.stopPropagation())}),p(2,"i",52),l()}o&2&&k("aria-label",S(1,1,"ACTION.EDIT"))}function qr(o,a){if(o&1){let e=T();r(0,"button",53),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c(2).onActionButtonDeleteRow(n),_(t.stopPropagation())}),p(2,"i",54),l()}o&2&&k("aria-label",S(1,1,"ACTION.DELETE"))}function $r(o,a){if(o&1){let e=T();r(0,"button",55),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c(2).onActionButtonDeleteRow(n),_(t.stopPropagation())}),p(2,"i",54),l()}o&2&&k("aria-label",S(1,1,"ACTION.DELETE"))}function Xr(o,a){if(o&1){let e=T();r(0,"div",25)(1,"div",26),x("click",function(){let t=h(e).$implicit,n=c(2);return _(n.onActionTableRowSelect(t))})("touchstart",function(t){let n=h(e).$implicit,d=c(2);return _(d.onItemTouchStart(t,n.id))})("touchmove",function(t){let n=h(e).$implicit,d=c(2);return _(d.onItemTouchMove(t,n.id))})("touchend",function(t){let n=h(e).$implicit,d=c(2);return _(d.onItemTouchEnd(t,n.id))}),r(2,"div",27),p(3,"i",28),l(),r(4,"div",29)(5,"div",30),u(6),l(),v(7,kr,5,4,"div",31),r(8,"div",32)(9,"div",33),p(10,"i",34),f(11,"statusIconClass"),v(12,Pr,3,3,"span")(13,Vr,3,3,"span"),l(),v(14,Nr,5,4,"div",35),l(),v(15,Gr,6,6,"div",31),v(16,Hr,6,6,"div",31),v(17,Fr,6,6,"div",35),l(),r(18,"div",36),v(19,Qr,3,3,"button",37),v(20,jr,3,3,"button",38),v(21,Wr,3,3,"button",39),v(22,qr,3,3,"button",40),l()(),r(23,"div",41),v(24,$r,3,3,"button",42),l()()}if(o&2){let e,i=a.$implicit,t=c(2);Re("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),s(),A("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),k("aria-label",i.id),s(5),C(" ",i.id," "),s(),b(i.scheduleCron?7:-1),s(3),M("ngClass",S(11,18,i.recordStatus)),s(2),b(i.scheduleSendAllowNextRun?12:13),s(2),b(i.scheduleRunInfos&&i.scheduleRunInfos.length>0?14:-1),s(),b(i.scheduleSendStart?15:-1),s(),b(i.scheduleSendExpire?16:-1),s(),b(i.createdDate?17:-1),s(2),b(i.scheduleRunInfos&&i.scheduleRunInfos.length>0?19:-1),s(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?20:-1),s(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?21:-1),s(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?22:-1),s(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1)}}function Yr(o,a){if(o&1&&(r(0,"div",16),Ve(1,Xr,25,20,"div",24,Ar),l()),o&2){let e=c();s(),Ne(e.dataModelResult.listItems)}}function zr(o,a){o&1&&(r(0,"div",17)(1,"div",56),p(2,"i",28),l(),r(3,"div",57),u(4),f(5,"translate"),l()()),o&2&&(s(4),C(" ",S(5,1,"MESSAGE.no_information")," "))}function Ur(o,a){if(o&1){let e=T();r(0,"div",19)(1,"mat-paginator",58,0),x("page",function(t){h(e);let n=c();return _(n.onTablePageingData(t))}),l()()}if(o&2){let e=c();s(),M("length",(e.dataModelResult==null?null:e.dataModelResult.totalRowCount)||0)("pageIndex",((e.dataModelResult==null?null:e.dataModelResult.currentPageNumber)||1)-1)("pageSize",(e.dataModelResult==null?null:e.dataModelResult.rowPerPage)||10)("pageSizeOptions",Z(4,Lr))}}var ki=class ki extends pe{constructor(e,i,t,n,d,m,E,X,ne,He,dt,he,ut){super(e,new ht,he,E,ne);this.contentService=e;this.smsMainApiPathService=i;this.activatedRoute=t;this.cmsToastrService=n;this.cmsConfirmationDialogService=d;this.router=m;this.tokenHelper=E;this.cdr=X;this.translate=ne;this.cmsStoreService=He;this.pageInfo=dt;this.publicHelper=he;this.dialog=ut;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new F;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new y;this.dataModelPrivateResult=new y;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","createdBy","scheduleCron","scheduleSendStart","scheduleSendExpire","scheduleSendAllowNextRun","scheduleRunInfos","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","createdBy","scheduleCron","scheduleSendStart","scheduleSendExpire","scheduleSendAllowNextRun","scheduleRunInfos","createdDate","updatedDate"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:te=>this.onSubmitOptionsSearch(te)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=P.Descending}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId"));let e=new N;this.requestLinkApiPathId?.length>0&&(e.propertyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>Y(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getPrivateConfig()}getPrivateConfig(){let e=new F;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ht);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new N;t.propertyName="LinkPrivateConfigId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=P.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Li,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(d,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Oi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new F,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),d=new N;d.propertyName="recordStatus",d.value=me.Available,n.filters.push(d),this.contentService.ServiceGetCount(n).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let n=e.touches[0];t.currentX=n.clientX;let d=t.currentX-t.startX,m=document.documentElement.dir==="rtl",E=m?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,X=m?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(X,Math.min(E,d))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let n=document.documentElement.dir==="rtl",d=n?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;n&&t.offset>d||!n&&t.offset<d||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){}onActionButtonScheduleRunInfos(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(!e.scheduleRunInfos||e.scheduleRunInfos.length===0){this.translate.get("MESSAGE.No_Schedule_Run_Infos").subscribe(n=>{this.cmsToastrService.typeWarning(n)});return}this.onActionTableRowSelect(e);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(yi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{scheduleRunInfos:e.scheduleRunInfos,taskSchedulerId:e.id}}).afterClosed().subscribe(n=>{})}};ki.\u0275fac=function(i){return new(i||ki)(g(Et),g(se),g(le),g(q),g(ae),g(ce),g(J),g(j),g($),g(U),g(ue),g(Q),g(re))},ki.\u0275cmp=H({type:ki,selectors:[["app-sms-log-outbox-task-scheduler-list-mobile"]],standalone:!1,features:[K],decls:26,vars:25,consts:[["paginator",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"aria-label"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["aria-hidden","true",1,"fa-solid","fa-chart-bar"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-statist-area","safe-area-content"],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content","safe-area-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],[1,"cms-m-footer","safe-area-bottom"],[1,"cms-m-pagination-wrapper"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[3,"optionsChange","options"],[1,"cms-m-pull-refresh-indicator"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-calendar-days"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-footer"],[1,"cms-m-list-item-status"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-date"],[1,"cms-m-list-item-actions"],[1,"cms-m-action-btn","schedule"],[1,"cms-m-action-btn","view"],[1,"cms-m-action-btn","edit"],[1,"cms-m-action-btn","delete"],[1,"cms-m-list-item-swipe-actions"],[1,"cms-m-swipe-action-btn","delete"],["aria-hidden","true",1,"fa-solid","fa-clock"],["aria-hidden","true",1,"fa-solid","fa-list-check"],["aria-hidden","true",1,"fa-solid","fa-play"],["aria-hidden","true",1,"fa-solid","fa-stop"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[1,"cms-m-action-btn","schedule",3,"click"],[1,"cms-m-action-btn","view",3,"click"],["aria-hidden","true",1,"fa-solid","fa-eye"],[1,"cms-m-action-btn","edit",3,"click"],["aria-hidden","true",1,"fa-solid","fa-pen"],[1,"cms-m-action-btn","delete",3,"click"],["aria-hidden","true",1,"fa-solid","fa-trash"],[1,"cms-m-swipe-action-btn","delete",3,"click"],[1,"cms-m-empty-state-icon"],[1,"cms-m-empty-state-text"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"]],template:function(i,t){i&1&&(r(0,"div",1),p(1,"app-progress-spinner",2),r(2,"div",3)(3,"div",4),v(4,yr,3,4,"button",5),r(5,"h1",6),u(6),f(7,"translate"),l(),r(8,"div",7)(9,"button",8),f(10,"translate"),x("click",function(){return t.optionsSearch.data.show=!t.optionsSearch.data.show}),p(11,"i",9),l(),r(12,"button",8),f(13,"translate"),x("click",function(){return t.onActionButtonReload()}),p(14,"i",10),l(),r(15,"button",8),f(16,"translate"),x("click",function(){return t.onActionButtonStatist()}),p(17,"i",11),l()()()(),v(18,Dr,2,1,"div",12),v(19,Br,2,1,"div",13),v(20,Or,6,11,"div",14),r(21,"div",15),x("touchstart",function(d){return t.onTouchStart(d)})("touchmove",function(d){return t.onTouchMove(d)})("touchend",function(d){return t.onTouchEnd(d)}),v(22,Yr,3,0,"div",16)(23,zr,6,3,"div",17),l(),r(24,"div",18),v(25,Ur,3,5,"div",19),l()()),i&2&&(s(),M("optionsInfoAreaId",t.constructorInfoAreaId),s(3),b((t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0?4:-1),s(2),C(" ",S(7,17,"ROUTE.SMS.LOG")," "),s(3),A("active",t.optionsSearch.data.show),k("aria-label",S(10,19,"ACTION.SEARCH")),s(3),k("aria-label",S(13,21,"ACTION.RELOAD")),s(2),A("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s(),A("active",t.optionsStatist==null||t.optionsStatist.data==null?null:t.optionsStatist.data.show),k("aria-label",S(16,23,"ACTION.STATIST")),s(3),b(t.optionsSearch.data.show?18:-1),s(),b(!(t.optionsStatist==null||t.optionsStatist.data==null)&&t.optionsStatist.data.show?19:-1),s(),b(t.pullToRefreshState.pullDistance>0?20:-1),s(2),b(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?22:23),s(3),b((t.dataModelResult==null?null:t.dataModelResult.totalRowCount)>0?25:-1))},dependencies:[Le,de,fe,Se,ee,W,Oe,ke],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var io=ki;var Jr=["vform"];function Kr(o,a){if(o&1){let e=T();r(0,"app-cms-enum-record-status-selector",14),O("modelChange",function(t){h(e);let n=c();return B(n.dataModel.recordStatus,t)||(n.dataModel.recordStatus=t),_(t)}),l()}if(o&2){let e=c();D("model",e.dataModel.recordStatus),M("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Zr(o,a){if(o&1){let e=T();r(0,"div",11)(1,"label",15),u(2),l(),r(3,"input",16),O("ngModelChange",function(t){h(e);let n=c();return B(n.dataModel.sendDate,t)||(n.dataModel.sendDate=t),_(t)}),l(),p(4,"mat-datepicker-toggle",17)(5,"mat-datepicker",18,1),l()}if(o&2){let e=z(6),i=c();s(2),V(i.fieldsInfo.sendDate==null?null:i.fieldsInfo.sendDate.fieldTitle),s(),M("placeholder",oe(i.fieldsInfo.sendDate==null?null:i.fieldsInfo.sendDate.fieldTitle))("disabled",oe(!(i.fieldsInfo.sendDate!=null&&i.fieldsInfo.sendDate.accessEditField)))("matDatepicker",e),D("ngModel",i.dataModel.sendDate),s(),M("for",e),s(),M("calendarHeaderComponent",i.datapickerHeader)}}function ea(o,a){if(o&1){let e=T();r(0,"div",12)(1,"label",19),u(2),l(),r(3,"input",20,2),O("ngModelChange",function(t){h(e);let n=c();return B(n.dataModel.message,t)||(n.dataModel.message=t),_(t)}),l(),r(5,"em",21),u(6),l()()}if(o&2){let e=z(4),i=c();s(2),V(i.fieldsInfo.message==null?null:i.fieldsInfo.message.fieldTitle),s(),M("disabled",oe(!(i.fieldsInfo.message!=null&&i.fieldsInfo.message.accessEditField))),D("ngModel",i.dataModel.message),s(3),C("",e.value.length," / 100")}}function ta(o,a){if(o&1){let e=T();r(0,"div",12)(1,"label",22),u(2),l(),r(3,"input",23,3),O("ngModelChange",function(t){h(e);let n=c();return B(n.dataModel.memo,t)||(n.dataModel.memo=t),_(t)}),l(),r(5,"em",21),u(6),l()()}if(o&2){let e=z(4),i=c();s(2),V(i.fieldsInfo.message==null?null:i.fieldsInfo.message.fieldTitle),s(),M("disabled",oe(!(i.fieldsInfo.memo!=null&&i.fieldsInfo.memo.accessEditField))),D("ngModel",i.dataModel.memo),s(3),C("",e.value.length," / 100")}}function ia(o,a){if(o&1){let e=T();r(0,"div",13)(1,"button",24),x("click",function(){h(e);let t=c();return _(t.onFormCancel())}),p(2,"i",25),u(3),f(4,"translate"),l(),r(5,"button",26),p(6,"i",27),u(7),f(8,"translate"),l()()}if(o&2){c();let e=z(10);s(3),C(" ",S(4,3,"ACTION.CANCEL")," "),s(2),M("disabled",!e.form.valid),s(2),C(" ",S(8,5,"ACTION.SAVE")," ")}}var Pi=class Pi extends Jt{constructor(e,i,t,n,d,m,E,X){super(n,new ft,m,X);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsLogOutBoxService=n;this.cmsToastrService=d;this.publicHelper=m;this.cdr=E;this.translate=X;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Bt;this.dataModel=new ft;this.dataModelSmsMessageTypeEnumResult=new y;this.dataModelSmsOutBoxTypeEnumResult=new y;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getSmsMessageTypeEnum(),this.getSmsOutBoxTypeEnum()}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsLogOutBoxService.setAccessLoad(),this.smsLogOutBoxService.setAccessDataType(Mt.Editor),this.smsLogOutBoxService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsLogOutBoxService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectLinkApiNumberId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiNumberId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Pi.\u0275fac=function(i){return new(i||Pi)(g(Te),g(Me),g(kt),g(We),g(q),g(Q),g(j),g($))},Pi.\u0275cmp=H({type:Pi,selectors:[["app-sms-log-inbox-edit"]],viewQuery:function(i,t){if(i&1&&Ie(Jr,5),i&2){let n;we(n=Ee())&&(t.formGroup=n.first)}},standalone:!1,features:[K],decls:16,vars:11,consts:[["vform","ngForm"],["SendDate",""],["Message",""],["Memo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.sendDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.sendDate","id","dataModel.sendDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.message",1,"color-highlight"],["matInput","","type","text","name","dataModel.message","placeholder","123","id","dataModel.message",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[2,"text-align","right"],["for","dataModel.memo",1,"color-highlight"],["matInput","","type","text","name","dataModel.memo","placeholder","123","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let n=T();r(0,"div",4),p(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),u(4),l(),r(5,"p"),u(6),f(7,"translate"),l(),p(8,"app-cms-form-result-message",8),r(9,"form",9,0),x("ngSubmit",function(){return h(n),_(t.onFormSubmit())}),v(11,Kr,1,5,"app-cms-enum-record-status-selector",10),v(12,Zr,7,9,"div",11),v(13,ea,7,5,"div",12),v(14,ta,7,5,"div",12),v(15,ia,9,7,"div",13),l()()()}i&2&&(s(),M("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",S(7,9,"TITLE.Be_Careful_When_Entering_Information")," "),s(2),M("formInfo",t.formInfo),s(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),s(),b(t.fieldsInfo.sendDate!=null&&t.fieldsInfo.sendDate.accessWatchField?12:-1),s(),b(t.fieldsInfo.message!=null&&t.fieldsInfo.message.accessWatchField?13:-1),s(),b(t.fieldsInfo.memo!=null&&t.fieldsInfo.memo.accessWatchField?14:-1),s(),b(t.formInfo.submitButtonEnabled?15:-1))},dependencies:[Qt,Vt,Nt,Gt,Ft,Ht,Wt,qt,$t,jt,$e,Ut,ee,Ae,W],encapsulation:2});var Vi=Pi;var oa=["vform"];function na(o,a){if(o&1){let e=T();r(0,"div",7)(1,"button",8),x("click",function(){h(e);let t=c();return _(t.onFormCancel())}),p(2,"i",9),u(3),f(4,"translate"),l()()}o&2&&(s(3),C(" ",S(4,1,"ACTION.CANCEL")," "))}var Ni=class Ni{constructor(a,e,i,t,n,d,m,E,X,ne){this.data=a;this.dialogRef=e;this.coreEnumService=i;this.smsLogOutBoxService=t;this.cmsToastrService=n;this.tokenHelper=d;this.cmsStoreService=m;this.cdr=E;this.publicHelper=X;this.translate=ne;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Tt;this.dataModelResult=new y;this.dataModel=new ft;this.formInfo=new Rt;this.dataModelEnumSendSmsStatusTypeResult=new y;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>Y(this,null,function*(){this.tokenInfo=a}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.smsLogOutBoxService.setAccessLoad(),this.smsLogOutBoxService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ni.\u0275fac=function(e){return new(e||Ni)(g(Te),g(Me),g(je),g(We),g(q),g(J),g(U),g(j),g(Q),g($))},Ni.\u0275cmp=H({type:Ni,selectors:[["app-sms-log-outbox-view"]],viewQuery:function(e,i){if(e&1&&Ie(oa,5),e&2){let t;we(t=Ee())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",0),u(1),l(),r(2,"div",1),p(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),r(5,"div",4),p(6,"app-cms-form-result-message",5),l(),r(7,"div",6),v(8,na,5,3,"div",7),l()),e&2&&(s(),C(" ",i.formInfo.formTitle," "),s(2),M("optionsInfoAreaId",i.constructorInfoAreaId),s(),M("dataModel",i.dataModel)("optionMethod",1),s(2),M("formInfo",i.formInfo),s(2),b(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[ee,Lt,Ae,W],encapsulation:2});var Gi=Ni;var sa=()=>[5,10,20,100],ra=(o,a)=>a.id;function aa(o,a){if(o&1){let e=T();r(0,"button",20),f(1,"translate"),x("click",function(){h(e);let t=c();return _(t.onActionBackToParent())}),p(2,"i",21),l()}o&2&&Qe("aria-label",oe(S(1,2,"ACTION.BACK")))}function la(o,a){if(o&1){let e=T();r(0,"div",12)(1,"app-cms-search-list",22),O("optionsChange",function(t){h(e);let n=c();return B(n.optionsSearch,t)||(n.optionsSearch=t),_(t)}),l()()}if(o&2){let e=c();s(),D("options",e.optionsSearch)}}function ca(o,a){if(o&1){let e=T();r(0,"div",13)(1,"app-cms-statist-list",22),O("optionsChange",function(t){h(e);let n=c();return B(n.optionsStatist,t)||(n.optionsStatist=t),_(t)}),l()()}if(o&2){let e=c();s(),D("options",e.optionsStatist)}}function ma(o,a){if(o&1&&(r(0,"div",23),p(1,"i",10),r(2,"span"),u(3),f(4,"translate"),f(5,"translate"),l()()),o&2){let e=c();Re("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),A("refreshing",e.pullToRefreshState.isRefreshing),s(),A("rotation360",e.pullToRefreshState.isRefreshing),s(2),V(e.pullToRefreshState.isRefreshing?S(4,7,"ACTION.RELOADING"):S(5,9,"ACTION.PULL_TO_REFRESH"))}}function da(o,a){if(o&1&&(r(0,"div",31),p(1,"i",45),r(2,"span"),u(3),f(4,"translate"),l()()),o&2){let e=c().$implicit;s(3),R("",S(4,2,"TITLE.ApiNumber"),": ",e.linkApiNumberId)}}function ua(o,a){if(o&1&&(r(0,"div",32),p(1,"i",46),r(2,"span"),u(3),l()()),o&2){let e=c().$implicit;s(3),V(e.message)}}function pa(o,a){if(o&1&&(r(0,"div",36),p(1,"i",28),r(2,"span"),u(3),f(4,"translate"),f(5,"localeDate"),l()()),o&2){let e=c().$implicit;s(3),R("",S(4,2,"TITLE.SendDate"),": ",S(5,4,e.sendDate))}}function fa(o,a){if(o&1&&(r(0,"div",36),p(1,"i",47),r(2,"span"),u(3),f(4,"translate"),f(5,"localeDate"),l()()),o&2){let e=c().$implicit;s(3),R("",S(4,2,"TITLE.CreatedDate"),": ",S(5,4,e.createdDate))}}function Sa(o,a){if(o&1&&(r(0,"div",36),p(1,"i",48),r(2,"span"),u(3),f(4,"translate"),f(5,"localeDate"),l()()),o&2){let e=c().$implicit;s(3),R("",S(4,2,"TITLE.UpdatedDate"),": ",S(5,4,e.updatedDate))}}function ha(o,a){if(o&1){let e=T();r(0,"button",49),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c(2).onActionButtonViewRow(n),_(t.stopPropagation())}),p(2,"i",50),l()}o&2&&k("aria-label",S(1,1,"ACTION.VIEW"))}function _a(o,a){if(o&1){let e=T();r(0,"button",51),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c(2).onActionButtonDetailRow(n),_(t.stopPropagation())}),p(2,"i",52),l()}o&2&&k("aria-label",S(1,1,"ACTION.DETAIL"))}function ga(o,a){if(o&1){let e=T();r(0,"button",53),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c(2).onActionButtonEditRow(n),_(t.stopPropagation())}),p(2,"i",54),l()}o&2&&k("aria-label",S(1,1,"ACTION.EDIT"))}function Ca(o,a){if(o&1){let e=T();r(0,"button",55),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c(2).onActionButtonDeleteRow(n),_(t.stopPropagation())}),p(2,"i",56),l()}o&2&&k("aria-label",S(1,1,"ACTION.DELETE"))}function va(o,a){if(o&1){let e=T();r(0,"button",57),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c(2).onActionButtonDeleteRow(n),_(t.stopPropagation())}),p(2,"i",56),l()}o&2&&k("aria-label",S(1,1,"ACTION.DELETE"))}function ba(o,a){if(o&1){let e=T();r(0,"div",25)(1,"div",26),x("click",function(){let t=h(e).$implicit,n=c(2);return _(n.onActionTableRowSelect(t))})("touchstart",function(t){let n=h(e).$implicit,d=c(2);return _(d.onItemTouchStart(t,n.id))})("touchmove",function(t){let n=h(e).$implicit,d=c(2);return _(d.onItemTouchMove(t,n.id))})("touchend",function(t){let n=h(e).$implicit,d=c(2);return _(d.onItemTouchEnd(t,n.id))}),r(2,"div",27),p(3,"i",28),l(),r(4,"div",29)(5,"div",30),u(6),f(7,"cmstitle"),f(8,"translate"),l(),v(9,da,5,4,"div",31),v(10,ua,4,1,"div",32),r(11,"div",33)(12,"div",34),p(13,"i",35),f(14,"statusIconClass"),l(),r(15,"div",36),p(16,"i",37),r(17,"span"),u(18),l()()(),v(19,pa,6,6,"div",36),v(20,fa,6,6,"div",36),v(21,Sa,6,6,"div",36),l(),r(22,"div",38),v(23,ha,3,3,"button",39),v(24,_a,3,3,"button",40),v(25,ga,3,3,"button",41),v(26,Ca,3,3,"button",42),l()(),r(27,"div",43),v(28,va,3,3,"button",44),l()()}if(o&2){let e,i=a.$implicit,t=c(2);Re("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),s(),A("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),k("aria-label",i.id),s(5),C(" ",i.linkApiPathId?ei(7,18,i.linkApiPathId,t.dataModelPrivateResult.listItems):S(8,21,"TITLE.ApiPath")," "),s(3),b(i.linkApiNumberId?9:-1),s(),b(i.message!=null&&i.message.length?10:-1),s(3),M("ngClass",S(14,23,i.recordStatus)),s(5),V(i.id),s(),b(i.sendDate?19:-1),s(),b(i.createdDate?20:-1),s(),b(i.updatedDate?21:-1),s(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?23:-1),s(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?24:-1),s(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?25:-1),s(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?26:-1),s(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?28:-1)}}function xa(o,a){if(o&1&&(r(0,"div",16),Ve(1,ba,29,25,"div",24,ra),l()),o&2){let e=c();s(),Ne(e.dataModelResult.listItems)}}function Ma(o,a){o&1&&(r(0,"div",17)(1,"div",58),p(2,"i",28),l(),r(3,"div",59),u(4),f(5,"translate"),l()()),o&2&&(s(4),C(" ",S(5,1,"MESSAGE.no_information")," "))}function Ta(o,a){if(o&1){let e=T();r(0,"div",19)(1,"mat-paginator",60,0),x("page",function(t){h(e);let n=c();return _(n.onTablePageingData(t))}),l()()}if(o&2){let e=c();s(),M("length",(e.dataModelResult==null?null:e.dataModelResult.totalRowCount)||0)("pageIndex",((e.dataModelResult==null?null:e.dataModelResult.currentPageNumber)||1)-1)("pageSize",(e.dataModelResult==null?null:e.dataModelResult.rowPerPage)||10)("pageSizeOptions",Z(4,sa))}}var Hi=class Hi extends pe{constructor(e,i,t,n,d,m,E,X,ne,He,dt,he,ut){super(e,new ft,he,E,ne);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=n;this.smsMainApiPathService=d;this.router=m;this.tokenHelper=E;this.cdr=X;this.translate=ne;this.cmsStoreService=He;this.pageInfo=dt;this.publicHelper=he;this.dialog=ut;this.requestLinkSiteId=0;this.requestLinkApiPathId="";this.requestLinkApiNumberId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new F;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new y;this.dataModelPrivateResult=new y;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkApiPathId","createdDate","SendDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["createdDate","SendDate","updatedDate"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:te=>this.onSubmitOptionsSearch(te)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=P.Descending}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")),this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId")&&(this.requestLinkApiNumberId=this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId"));let e=new N;if(this.requestLinkApiPathId?.length>0&&(e.propertyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)),this.requestLinkApiNumberId?.length>0){let i=new N;i.propertyName="LinkApiNumberId",i.value=this.requestLinkApiNumberId,this.filteModelContent.filters.push(i)}if(this.requestLinkSiteId>0){let i=new N;i.propertyName="linkSiteId",i.value=this.requestLinkSiteId,this.filteModelContent.filters.push(i)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>Y(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getPrivateConfig()}getPrivateConfig(){let e=new F;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ft);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new N;t.propertyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=P.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Vi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Gi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate})}onActionButtonDetailRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/sms/log/outbox-detail/LinkOutBoxId",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(d,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;if(this.filteModelContent=new F,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.requestLinkApiPathId?.length>0){let n=new N;n.propertyName="LinkApiPathId",n.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(n)}if(this.requestLinkApiNumberId?.length>0){let n=new N;n.propertyName="LinkApiNumberId",n.value=this.requestLinkApiNumberId,this.filteModelContent.filters.push(n)}if(this.requestLinkSiteId>0){let n=new N;n.propertyName="linkSiteId",n.value=this.requestLinkSiteId,this.filteModelContent.filters.push(n)}this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),d=new N;d.propertyName="recordStatus",d.value=me.Available,n.filters.push(d),this.contentService.ServiceGetCount(n).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPriceServicesList(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path-pagination/LinkApiPathId",this.tableRowSelected.linkApiPathId])}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let n=e.touches[0];t.currentX=n.clientX;let d=t.currentX-t.startX,m=document.documentElement.dir==="rtl",E=m?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,X=m?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(X,Math.min(E,d))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let n=document.documentElement.dir==="rtl",d=n?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;n&&t.offset>d||!n&&t.offset<d||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path-company"])}};Hi.\u0275fac=function(i){return new(i||Hi)(g(We),g(le),g(q),g(ae),g(se),g(ce),g(J),g(j),g($),g(U),g(ue),g(Q),g(re))},Hi.\u0275cmp=H({type:Hi,selectors:[["app-sms-log-outbox-list-mobile"]],standalone:!1,features:[K],decls:26,vars:25,consts:[["paginator",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"aria-label"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["aria-hidden","true",1,"fa-solid","fa-chart-bar"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-statist-area","safe-area-content"],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content","safe-area-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],[1,"cms-m-footer","safe-area-bottom"],[1,"cms-m-pagination-wrapper"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[3,"optionsChange","options"],[1,"cms-m-pull-refresh-indicator"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-paper-plane"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-message"],[1,"cms-m-list-item-footer"],[1,"cms-m-list-item-status"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-date"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],[1,"cms-m-list-item-actions"],[1,"cms-m-action-btn","view"],[1,"cms-m-action-btn","detail"],[1,"cms-m-action-btn","edit"],[1,"cms-m-action-btn","delete"],[1,"cms-m-list-item-swipe-actions"],[1,"cms-m-swipe-action-btn","delete"],["aria-hidden","true",1,"fa-solid","fa-sim-card"],["aria-hidden","true",1,"fa-solid","fa-comment-dots"],["aria-hidden","true",1,"fa-solid","fa-clock"],["aria-hidden","true",1,"fa-solid","fa-clock-rotate-left"],[1,"cms-m-action-btn","view",3,"click"],["aria-hidden","true",1,"fa-solid","fa-eye"],[1,"cms-m-action-btn","detail",3,"click"],["aria-hidden","true",1,"fa-solid","fa-list"],[1,"cms-m-action-btn","edit",3,"click"],["aria-hidden","true",1,"fa-solid","fa-pen"],[1,"cms-m-action-btn","delete",3,"click"],["aria-hidden","true",1,"fa-solid","fa-trash"],[1,"cms-m-swipe-action-btn","delete",3,"click"],[1,"cms-m-empty-state-icon"],[1,"cms-m-empty-state-text"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"]],template:function(i,t){i&1&&(r(0,"div",1),p(1,"app-progress-spinner",2),r(2,"div",3)(3,"div",4),v(4,aa,3,4,"button",5),r(5,"h1",6),u(6),f(7,"translate"),l(),r(8,"div",7)(9,"button",8),f(10,"translate"),x("click",function(){return t.optionsSearch.data.show=!t.optionsSearch.data.show}),p(11,"i",9),l(),r(12,"button",8),f(13,"translate"),x("click",function(){return t.onActionButtonReload()}),p(14,"i",10),l(),r(15,"button",8),f(16,"translate"),x("click",function(){return t.onActionButtonStatist()}),p(17,"i",11),l()()()(),v(18,la,2,1,"div",12),v(19,ca,2,1,"div",13),v(20,ma,6,11,"div",14),r(21,"div",15),x("touchstart",function(d){return t.onTouchStart(d)})("touchmove",function(d){return t.onTouchMove(d)})("touchend",function(d){return t.onTouchEnd(d)}),v(22,xa,3,0,"div",16)(23,Ma,6,3,"div",17),l(),r(24,"div",18),v(25,Ta,3,5,"div",19),l()()),i&2&&(s(),M("optionsInfoAreaId",t.constructorInfoAreaId),s(3),b((t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0||(t.requestLinkApiNumberId==null?null:t.requestLinkApiNumberId.length)>0?4:-1),s(2),C(" ",S(7,17,"ROUTE.SMS.LOG")," "),s(3),A("active",t.optionsSearch.data.show),k("aria-label",S(10,19,"ACTION.SEARCH")),s(3),k("aria-label",S(13,21,"ACTION.RELOAD")),s(2),A("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s(),A("active",t.optionsStatist==null||t.optionsStatist.data==null?null:t.optionsStatist.data.show),k("aria-label",S(16,23,"ACTION.STATIST")),s(3),b(t.optionsSearch.data.show?18:-1),s(),b(!(t.optionsStatist==null||t.optionsStatist.data==null)&&t.optionsStatist.data.show?19:-1),s(),b(t.pullToRefreshState.pullDistance>0?20:-1),s(2),b(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?22:23),s(3),b((t.dataModelResult==null?null:t.dataModelResult.totalRowCount)>0?25:-1))},dependencies:[Le,de,fe,Se,ee,W,pi,Oe,ke],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-list-item-message[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:flex-start;margin:6px 0;font-size:var(--cms-m-font-size-sm);color:var(--cms-m-text-secondary);line-height:20px;max-height:40px;overflow:hidden}.cms-m-list-item-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;color:var(--cms-m-primary-color);margin-top:2px}.cms-m-list-item-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var ni=Hi;var Fi=class Fi{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};Fi.\u0275fac=function(e){return new(e||Fi)},Fi.\u0275cmp=H({type:Fi,selectors:[["app-sms-log"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&p(0,"router-outlet")},dependencies:[Yo],encapsulation:2});var Qi=Fi;var gn=[{path:"",component:Qi,data:{title:"ROUTE.SMS.LOG"},children:[{path:"inbox",component:ii,data:{title:"ROUTE.SMS.LOG"}},{path:"inbox/list/LinkPrivateConfigId/:LinkPrivateConfigId",component:ii,data:{title:"ROUTE.SMS.LOG"}},{path:"inbox/list/LinkApiNumberId/:LinkApiNumberId",component:ii,data:{title:"ROUTE.SMS.LOG"}},{path:"inbox/list/LinkSiteId/:LinkSiteId",component:ii,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox",component:ni,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox/list/LinkPrivateConfigId/:LinkPrivateConfigId",component:ni,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox/list/LinkApiNumberId/:LinkApiNumberId",component:ni,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox/list/LinkSiteId/:LinkSiteId",component:ni,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox-detail/LinkOutBoxId/:LinkOutBoxId",component:Eo,data:{title:"ROUTE.SMS.LOG"}},{path:"api-path/LinkApiPathId/:LinkApiPathId",component:To,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox-queue",component:to,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox-queue/LinkApiPathId/:LinkApiPathId",component:to,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox-task-scheduler",component:io,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox-task-scheduler/LinkApiPathId/:LinkApiPathId",component:io,data:{title:"ROUTE.SMS.LOG"}}]}];var Ia=()=>["expandedTitle"],wa=()=>["expandedDetail"],Ea=()=>[5,10,20,100],Ra=o=>({display:o});function La(o,a){if(o&1){let e=T();r(0,"div",18)(1,"a",44),x("click",function(){h(e);let t=c();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),p(2,"i",45)(3,"br"),l(),r(4,"p",46),u(5),f(6,"translate"),l()()}o&2&&(s(5),C(" ",S(6,1,"ACTION.DELETE")," "))}function Aa(o,a){o&1&&(r(0,"mat-header-cell"),u(1),f(2,"translate"),l()),o&2&&(s(),C(" ",S(2,1,"TITLE.MENU")," "))}function ya(o,a){if(o&1){let e=T();r(0,"mat-cell")(1,"button",47),x("click",function(){let t=h(e).$implicit,n=c();return _(n.onActionTableRowSelectActionMenu(t))}),p(2,"i",48),l()()}}function Da(o,a){if(o&1&&(r(0,"mat-header-cell",49),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ba(o,a){if(o&1&&(r(0,"mat-cell"),u(1),l()),o&2){let e=a.$implicit;s(),C(" ",e.id," ")}}function Oa(o,a){if(o&1&&(r(0,"mat-header-cell",49),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.statusInfo==null?null:e.fieldsInfo.statusInfo.fieldTitle," ")}}function ka(o,a){if(o&1&&(r(0,"mat-cell"),u(1),l()),o&2){let e=a.$implicit;s(),C(" ",e.statusInfo," ")}}function Pa(o,a){if(o&1&&(r(0,"mat-header-cell",49),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Va(o,a){if(o&1&&(r(0,"mat-cell",50),u(1),f(2,"localeDateTime"),l()),o&2){let e=a.$implicit;s(),C(" ",S(2,1,e.createdDate)," ")}}function Na(o,a){if(o&1&&(r(0,"mat-header-cell",49),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.statusOutOfServiceActive==null?null:e.fieldsInfo.statusOutOfServiceActive.fieldTitle," ")}}function Ga(o,a){if(o&1&&(r(0,"mat-cell"),p(1,"i",51),f(2,"statusIconClass"),l()),o&2){let e=a.$implicit;s(),M("ngClass",S(2,1,e.statusOutOfServiceActive))}}function Ha(o,a){if(o&1&&(r(0,"mat-header-cell",49),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.statusOutOfServiceExpire==null?null:e.fieldsInfo.statusOutOfServiceExpire.fieldTitle," ")}}function Fa(o,a){if(o&1&&(r(0,"mat-cell",50),u(1),f(2,"localeDateTime"),l()),o&2){let e=a.$implicit;s(),C(" ",S(2,1,e.statusOutOfServiceExpire)," ")}}function Qa(o,a){if(o&1&&(r(0,"mat-header-cell",49),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.statusNotStableActive==null?null:e.fieldsInfo.statusNotStableActive.fieldTitle," ")}}function ja(o,a){if(o&1&&(r(0,"mat-cell"),p(1,"i",51),f(2,"statusIconClass"),l()),o&2){let e=a.$implicit;s(),M("ngClass",S(2,1,e.statusNotStableActive))}}function Wa(o,a){if(o&1&&(r(0,"mat-header-cell",49),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.statusNotStableExpire==null?null:e.fieldsInfo.statusNotStableExpire.fieldTitle," ")}}function qa(o,a){if(o&1&&(r(0,"mat-cell"),u(1),f(2,"localeDate"),l()),o&2){let e=a.$implicit;s(),C(" ",S(2,1,e.statusNotStableExpire)," ")}}function $a(o,a){if(o&1&&(r(0,"mat-header-cell",49),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.statusNotStableCount==null?null:e.fieldsInfo.statusNotStableCount.fieldTitle," ")}}function Xa(o,a){if(o&1&&(r(0,"mat-cell"),u(1),l()),o&2){let e=a.$implicit;s(),C(" ",e.statusNotStableCount," ")}}function Ya(o,a){if(o&1&&(r(0,"mat-cell"),u(1),l()),o&2){let e=a.$implicit;s(),C(" ",e.title," ")}}function za(o,a){if(o&1&&(r(0,"mat-cell")(1,"div")(2,"table")(3,"tr"),p(4,"td"),r(5,"td"),u(6),f(7,"number"),l()(),r(8,"tr"),p(9,"td"),r(10,"td"),u(11),f(12,"number"),l()()()()()),o&2){let e=a.$implicit,i=c();s(6),R(" ",i.fieldsInfo.credit==null?null:i.fieldsInfo.credit.fieldTitle," : ",S(7,4,e.credit)," "),s(5),R(" ",i.fieldsInfo.giveBackCredit==null?null:i.fieldsInfo.giveBackCredit.fieldTitle," : ",S(12,6,e.giveBackCredit)," ")}}function Ua(o,a){o&1&&p(0,"mat-header-row")}function Ja(o,a){if(o&1){let e=T();r(0,"mat-row",52),x("click",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=h(e).$implicit,n=c();return _(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=h(e).$implicit,n=c();return _(n.onActionTableRowMouseLeave(t))}),l()}if(o&2){let e=a.$implicit,i=c();A("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Ka(o,a){if(o&1){let e=T();r(0,"mat-row",53),x("click",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=h(e).$implicit,n=c();return _(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=h(e).$implicit,n=c();return _(n.onActionTableRowMouseLeave(t))}),l()}if(o&2){let e=a.$implicit,i=c();A("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Za(o,a){if(o&1){let e=T();r(0,"mat-row",54),x("click",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=h(e).$implicit,n=c();return _(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=h(e).$implicit,n=c();return _(n.onActionTableRowMouseLeave(t))}),l()}if(o&2){let e=a.$implicit,i=c();A("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),M("ngStyle",At(3,Ra,e.expanded===!0?"":"none"))}}var ji=class ji extends pe{constructor(e,i,t,n,d,m,E,X,ne,He,dt,he,ut){super(e,new mi,he,E,ne);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=n;this.smsMainApiPathService=d;this.router=m;this.tokenHelper=E;this.cdr=X;this.translate=ne;this.cmsStoreService=He;this.pageInfo=dt;this.publicHelper=he;this.dialog=ut;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new F;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new y;this.dataModelPrivateResult=new y;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","createdDate","StatusInfo","StatusOutOfServiceActive","StatusOutOfServiceExpire","StatusNotStableActive","StatusNotStableExpire","StatusNotStableCount","action_menu"];this.tabledisplayedColumnsMobileSource=["id","createdDate","StatusInfo","StatusOutOfServiceActive","StatusOutOfServiceExpire","StatusNotStableActive","StatusNotStableExpire","StatusNotStableCount","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId"),this.optionsSearch.parentMethods={onSubmit:Zt=>this.onSubmitOptionsSearch(Zt)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=P.Descending;let te=new N;this.requestLinkApiPathId?.length>0&&(te.propertyName="LinkApiPathId",te.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(te))}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Y(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getPrivateConfig()}getPrivateConfig(){let e=new F;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new mi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=P.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(d,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new F,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),d=new N;d.propertyName="recordStatus",d.value=me.Available,n.filters.push(d),this.contentService.ServiceGetCount(n).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};ji.\u0275fac=function(i){return new(i||ji)(g(di),g(le),g(q),g(ae),g(se),g(ce),g(J),g(j),g($),g(U),g(ue),g(Q),g(re))},ji.\u0275cmp=H({type:ji,selectors:[["app-sms-log-apipath-list"]],standalone:!1,features:[K],decls:68,vars:33,consts:[["tableSort","matSort"],["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","StatusInfo"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","StatusOutOfServiceActive"],["matColumnDef","StatusOutOfServiceExpire"],["matColumnDef","StatusNotStableActive"],["matColumnDef","StatusNotStableExpire"],["matColumnDef","StatusNotStableCount"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[2,"direction","ltr"],[3,"ngClass"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let n=T();r(0,"app-cms-html-list",2),O("optionActionGuideNoticeDisplayChange",function(m){return h(n),B(t.viewGuideNotice,m)||(t.viewGuideNotice=m),_(m)}),x("optionOnActionButtonMemoRow",function(){return h(n),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(n),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(n),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(n),_(t.onActionButtonPrintRow())}),I(1,3),r(2,"app-sms-apipath-tree",4),x("optionChange",function(m){return h(n),_(t.onActionSelectorSelect(m))}),l(),w(),Be(3,5)(4,6),I(5,7),r(6,"a",8),x("click",function(){return h(n),_(t.onActionBackToParent())}),p(7,"i",9),l(),r(8,"a",10),x("click",function(){return h(n),_(t.viewGuideNotice=!t.viewGuideNotice)}),p(9,"i",11),l(),r(10,"a",10),x("click",function(){return h(n),_(t.onActionButtonReload())}),p(11,"i",12),l(),w(),I(12,13),r(13,"a",14),x("click",function(){return h(n),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),p(14,"mat-slide-toggle",15),u(15),f(16,"translate"),l(),r(17,"a",14),x("click",function(){return h(n),_(t.onActionButtonStatist())}),p(18,"mat-slide-toggle",15),u(19),f(20,"translate"),l(),w(),Be(21,16),I(22,17),v(23,La,7,3,"div",18),w(),I(24,19),r(25,"app-cms-search-list",20),O("optionsChange",function(m){return h(n),B(t.optionsSearch,m)||(t.optionsSearch=m),_(m)}),l(),r(26,"app-cms-statist-list",20),O("optionsChange",function(m){return h(n),B(t.optionsStatist,m)||(t.optionsStatist=m),_(m)}),l(),w(),I(27,21),r(28,"mat-table",22,0),x("matSortChange",function(){h(n);let m=z(29);return _(t.onTableSortData(m))}),I(30,23),L(31,Aa,3,3,"mat-header-cell",24)(32,ya,3,0,"mat-cell",25),w(),I(33,26),L(34,Da,2,1,"mat-header-cell",27)(35,Ba,2,1,"mat-cell",25),w(),I(36,28),L(37,Oa,2,1,"mat-header-cell",27)(38,ka,2,1,"mat-cell",25),w(),I(39,29),L(40,Pa,2,1,"mat-header-cell",27)(41,Va,3,3,"mat-cell",30),w(),I(42,31),L(43,Na,2,1,"mat-header-cell",27)(44,Ga,3,3,"mat-cell",25),w(),I(45,32),L(46,Ha,2,1,"mat-header-cell",27)(47,Fa,3,3,"mat-cell",30),w(),I(48,33),L(49,Qa,2,1,"mat-header-cell",27)(50,ja,3,3,"mat-cell",25),w(),I(51,34),L(52,Wa,2,1,"mat-header-cell",27)(53,qa,3,3,"mat-cell",25),w(),I(54,35),L(55,$a,2,1,"mat-header-cell",27)(56,Xa,2,1,"mat-cell",25),w(),I(57,36),L(58,Ya,2,1,"mat-cell",25),w(),I(59,37),L(60,za,13,8,"mat-cell",25),w(),L(61,Ua,1,0,"mat-header-row",38)(62,Ja,1,2,"mat-row",39)(63,Ka,1,2,"mat-row",40)(64,Za,1,5,"mat-row",41),l(),w(),I(65,42),r(66,"mat-paginator",43,1),x("page",function(m){return h(n),_(t.onTablePageingData(m))}),l(),w(),l()}i&2&&(M("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),M("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(11),A("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s(3),M("checked",t.optionsSearch.data.show),s(),C("",S(16,26,"ACTION.SEARCH")," "),s(3),M("checked",t.optionsStatist.data.show),s(),C("",S(20,28,"ACTION.STATIST")," "),s(4),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?23:-1),s(2),D("options",t.optionsSearch),s(),D("options",t.optionsStatist),s(2),M("dataSource",t.tableSource),s(33),M("matHeaderRowDef",t.tabledisplayedColumns),s(),M("matRowDefColumns",Z(30,Ia)),s(),M("matRowDefColumns",t.tabledisplayedColumns),s(),M("matRowDefColumns",Z(31,wa)),s(2),M("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Z(32,Ea)))},dependencies:[Le,Dt,qe,de,Xe,Ye,ze,Ue,Ke,it,Ze,Je,ot,et,tt,nt,st,fe,Se,rt,at,lt,ci,W,Oe,Ge,ke],encapsulation:2});var Ro=ji;var Fe=class Fe{constructor(a,e,i){this.elementRef=a;this.renderer=e;this.contactContentService=i;this.tooltipPosition="above";this.subscription=null;this.tooltipElement=null}onMouseEnter(){this.loadAndShowTooltip()}onClick(){this.loadAndShowTooltip()}onMouseLeave(){this.hideTooltip(),this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}loadAndShowTooltip(){if(!this.contactContentByNumberTooltip)return;let a=this.contactContentByNumberTooltip.trim();if(!a||a.length===0)return;let e=Fe.cache.get(a);if(e){this.showTooltip(e);return}if(Fe.loadingCache.has(a)){this.showTooltip("\u062F\u0631 \u062D\u0627\u0644 \u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC...");return}this.showTooltip("\u062F\u0631 \u062D\u0627\u0644 \u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC..."),Fe.loadingCache.add(a),this.subscription=this.contactContentService.ServiceFindByNumber(a).pipe(Fo(i=>{let t=a;if(i?.isSuccess){let n=[];i.item&&n.push(i.item),Array.isArray(i.listItems)&&n.push(...i.listItems);let d=n.map(m=>{if(!m)return"";let E=[m.firstName,m.lastName].filter(X=>!!X&&X.trim().length>0).join(" ").trim();return E.length>0?E:m.title&&m.title.trim().length>0?m.title.trim():""}).filter(m=>m.length>0);d.length>0&&(t=a+": "+d.join(" | "))}return t}),Qo(()=>Ho(a))).subscribe(i=>{Fe.cache.set(a,i),Fe.loadingCache.delete(a),this.showTooltip(i)})}showTooltip(a){if(!a||a.trim().length===0)return;this.hideTooltip(),this.tooltipElement=this.renderer.createElement("span"),this.renderer.addClass(this.tooltipElement,"mat-tooltip"),this.renderer.addClass(this.tooltipElement,`mat-tooltip-${this.tooltipPosition}`),this.renderer.setStyle(this.tooltipElement,"position","absolute"),this.renderer.setStyle(this.tooltipElement,"z-index","1000"),this.renderer.setStyle(this.tooltipElement,"background-color","#616161"),this.renderer.setStyle(this.tooltipElement,"color","#fff"),this.renderer.setStyle(this.tooltipElement,"padding","8px 12px"),this.renderer.setStyle(this.tooltipElement,"border-radius","4px"),this.renderer.setStyle(this.tooltipElement,"font-size","12px"),this.renderer.setStyle(this.tooltipElement,"max-width","250px"),this.renderer.setStyle(this.tooltipElement,"word-wrap","break-word"),this.renderer.setStyle(this.tooltipElement,"opacity","0"),this.renderer.setStyle(this.tooltipElement,"transition","opacity 0.2s");let e=this.renderer.createText(a);this.renderer.appendChild(this.tooltipElement,e),this.renderer.appendChild(document.body,this.tooltipElement),this.setTooltipPosition(),setTimeout(()=>{this.tooltipElement&&this.renderer.setStyle(this.tooltipElement,"opacity","1")},10)}setTooltipPosition(){if(!this.tooltipElement)return;let e=this.elementRef.nativeElement.getBoundingClientRect(),i=this.tooltipElement.getBoundingClientRect(),t=window.pageYOffset||document.documentElement.scrollTop,n=window.pageXOffset||document.documentElement.scrollLeft,d=0,m=0;switch(this.tooltipPosition){case"above":d=e.top+t-i.height-8,m=e.left+n+(e.width-i.width)/2;break;case"below":d=e.bottom+t+8,m=e.left+n+(e.width-i.width)/2;break;case"left":d=e.top+t+(e.height-i.height)/2,m=e.left+n-i.width-8;break;case"right":d=e.top+t+(e.height-i.height)/2,m=e.right+n+8;break}this.renderer.setStyle(this.tooltipElement,"top",`${d}px`),this.renderer.setStyle(this.tooltipElement,"left",`${m}px`)}hideTooltip(){this.tooltipElement&&(this.renderer.setStyle(this.tooltipElement,"opacity","0"),setTimeout(()=>{this.tooltipElement&&this.tooltipElement.parentNode&&this.renderer.removeChild(document.body,this.tooltipElement),this.tooltipElement=null},200))}ngOnDestroy(){this.hideTooltip(),this.subscription&&this.subscription.unsubscribe()}};Fe.cache=new Map,Fe.loadingCache=new Set,Fe.\u0275fac=function(e){return new(e||Fe)(g(So),g(ho),g(tn))},Fe.\u0275dir=go({type:Fe,selectors:[["","contactContentByNumberTooltip",""]],hostBindings:function(e,i){e&1&&x("mouseenter",function(){return i.onMouseEnter()})("click",function(){return i.onClick()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{contactContentByNumberTooltip:"contactContentByNumberTooltip",tooltipPosition:"tooltipPosition"},standalone:!1});var Wi=Fe;var el=()=>["expandedTitle"],tl=()=>[5,10,20,100];function il(o,a){if(o&1){let e=T();r(0,"a",48),x("click",function(){h(e);let t=c();return _(t.onActionBackToParent())}),p(1,"i",49),l()}}function ol(o,a){if(o&1){let e=T();r(0,"div",18)(1,"a",50),x("click",function(){h(e);let t=c();return _(t.onActionButtonEditRow(t.tableRowSelected))}),p(2,"i",51)(3,"br"),l(),r(4,"p",21),u(5),f(6,"translate"),l()()}o&2&&(s(5),C(" ",S(6,1,"ACTION.EDIT")," "))}function nl(o,a){if(o&1){let e=T();r(0,"div",18)(1,"a",52),x("click",function(){h(e);let t=c();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),p(2,"i",53)(3,"br"),l(),r(4,"p",21),u(5),f(6,"translate"),l()()}o&2&&(s(5),C(" ",S(6,1,"ACTION.DELETE")," "))}function sl(o,a){if(o&1){let e=T();r(0,"div",18)(1,"a",54),x("click",function(){h(e);let t=c();return _(t.onActionButtonViewRow(t.tableRowSelected))}),p(2,"i",55)(3,"br"),l(),r(4,"p",21),u(5),f(6,"translate"),l()()}o&2&&(s(5),C(" ",S(6,1,"ACTION.VIEW")," "))}function rl(o,a){if(o&1){let e=T();r(0,"mat-row",56),x("click",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=h(e).$implicit,n=c();return _(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=h(e).$implicit,n=c();return _(n.onActionTableRowMouseLeave(t))}),l()}if(o&2){let e=a.$implicit,i=c();A("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function al(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ll(o,a){if(o&1&&(r(0,"mat-cell"),u(1),l()),o&2){let e=a.$implicit;s(),C(" ",e.id," ")}}function cl(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ml(o,a){if(o&1&&(r(0,"mat-cell",58),f(1,"statusCellClass"),p(2,"i",58),f(3,"statusIconClass"),l()),o&2){let e=a.$implicit;M("ngClass",S(1,2,e.recordStatus)),s(2),M("ngClass",S(3,4,e.recordStatus))}}function dl(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.message==null?null:e.fieldsInfo.message.fieldTitle," ")}}function ul(o,a){if(o&1&&(r(0,"mat-cell"),u(1),l()),o&2){let e=a.$implicit;s(),C(" ",e.message," ")}}function pl(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C("",e.fieldsInfo.senderNumber==null?null:e.fieldsInfo.senderNumber.fieldTitle," ")}}function fl(o,a){if(o&1&&(r(0,"mat-cell",59)(1,"span",60),u(2),l()()),o&2){let e=a.$implicit;s(),M("contactContentByNumberTooltip",e.senderNumber)("tooltipPosition","above"),s(),C(" ",e.senderNumber," ")}}function Sl(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.receiverNumber==null?null:e.fieldsInfo.receiverNumber.fieldTitle," ")}}function hl(o,a){if(o&1&&(r(0,"mat-cell"),u(1),l()),o&2){let e=a.$implicit;s(),C(" ",e.receiverNumber," ")}}function _l(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.linkPrivateConfigId==null?null:e.fieldsInfo.linkPrivateConfigId.fieldTitle," ")}}function gl(o,a){if(o&1&&(r(0,"mat-cell"),u(1),f(2,"cmstitle"),l()),o&2){let e=a.$implicit,i=c();s(),C(" ",ei(2,1,e.linkPrivateConfigId,i.dataModelPrivateResult.listItems)," ")}}function Cl(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function vl(o,a){if(o&1&&(r(0,"mat-cell",61),u(1),f(2,"localeDate"),l()),o&2){let e=a.$implicit,i=c();s(),R(" ",S(2,2,e.createdDate)," ",i.publicHelper.getTime(e.createdDate)," ")}}function bl(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function xl(o,a){if(o&1&&(r(0,"mat-cell",61),u(1),f(2,"localeDate"),l()),o&2){let e=a.$implicit,i=c();s(),R(" ",S(2,2,e.updatedDate)," ",i.publicHelper.getTime(e.updatedDate)," ")}}function Ml(o,a){o&1&&(r(0,"mat-header-cell"),u(1),f(2,"translate"),l()),o&2&&(s(),C(" ",S(2,1,"TITLE.OPTION")," "))}function Tl(o,a){if(o&1&&(r(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),u(3,"more_vert"),l()(),p(4,"mat-menu",null,2),l()),o&2){let e=z(5);s(),M("matMenuTriggerFor",e)}}function Il(o,a){o&1&&p(0,"mat-header-row")}function wl(o,a){if(o&1){let e=T();r(0,"mat-row",64),x("click",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))}),l()}if(o&2){let e=a.$implicit,i=c();A("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function El(o,a){if(o&1&&(r(0,"mat-cell"),u(1),f(2,"translate"),p(3,"br"),u(4),f(5,"translate"),f(6,"cmstitle"),p(7,"br"),u(8),f(9,"translate"),f(10,"localeDate"),p(11,"br"),u(12),f(13,"translate"),f(14,"localeDate"),p(15,"br"),l()),o&2){let e=a.$implicit,i=c();s(),R(" ",S(2,8,"TITLE.Id")," : ",e.id," "),s(3),R(" ",S(5,10,"TITLE.LinkPrivateConfigurationId")," : ",ei(6,12,e.linkPrivateConfigId,i.dataModelPrivateResult.listItems)," "),s(4),R(" ",S(9,15,"TITLE.CreationDate")," : ",S(10,17,e.createdDate)," "),s(4),R(" ",S(13,19,"TITLE.DateOfUpdate")," : ",S(14,21,e.updatedDate)," ")}}var qi=class qi extends pe{constructor(e,i,t,n,d,m,E,X,ne,He,dt,he,ut){super(e,new pt,he,E,ne);this.contentService=e;this.smsMainApiPathService=i;this.activatedRoute=t;this.cmsToastrService=n;this.cmsConfirmationDialogService=d;this.router=m;this.tokenHelper=E;this.cdr=X;this.translate=ne;this.cmsStoreService=He;this.pageInfo=dt;this.publicHelper=he;this.dialog=ut;this.requestLinkSiteId=0;this.requestLinkPrivateConfigId="";this.requestLinkApiNumberId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new F;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new y;this.dataModelPrivateResult=new y;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Message","SenderNumber","ReceiverNumber"];this.tabledisplayedColumnsMobileSource=["Message","SenderNumber","ReceiverNumber"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:te=>this.onSubmitOptionsSearch(te)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=P.Descending}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.activatedRoute.snapshot.paramMap.get("LinkPrivateConfigId")&&(this.requestLinkPrivateConfigId=this.activatedRoute.snapshot.paramMap.get("LinkPrivateConfigId")),this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId")&&(this.requestLinkApiNumberId=this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId"));let e=new N;if(this.requestLinkPrivateConfigId?.length>0&&(e.propertyName="LinkPrivateConfigId",e.value=this.requestLinkPrivateConfigId,this.filteModelContent.filters.push(e)),this.requestLinkApiNumberId?.length>0&&(e.propertyName="LinkApiNumberId",e.value=this.requestLinkApiNumberId,this.filteModelContent.filters.push(e)),this.requestLinkSiteId>0){let i=new N;i.propertyName="linkSiteId",i.value=this.requestLinkSiteId,this.filteModelContent.filters.push(i)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>Y(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getPrivateConfig()}getPrivateConfig(){let e=new F;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new pt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new N;t.propertyName="LinkPrivateConfigId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=P.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(hi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(d,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(gi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new F,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),d=new N;d.propertyName="recordStatus",d.value=me.Available,n.filters.push(d),this.contentService.ServiceGetCount(n).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSendMessage(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}let i={state:{LinkApiPathId:e.linkPrivateConfigId,LinkNumberId:e.linkApiNumberId,ReceiverNumber:e.senderNumber,SenderNumber:e.receiverNumber,Message:e.message}};this.router.navigate(["/sms/action/send-message"],i)}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){}};qi.\u0275fac=function(i){return new(i||qi)(g(It),g(se),g(le),g(q),g(ae),g(ce),g(J),g(j),g($),g(U),g(ue),g(Q),g(re))},qi.\u0275cmp=H({type:qi,selectors:[["app-sms-log-inbox-list"]],standalone:!1,features:[K],decls:73,vars:37,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-message","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Message"],["matColumnDef","SenderNumber"],["class","cursor-pointer",4,"matCellDef"],["matColumnDef","ReceiverNumber"],["matColumnDef","LinkPrivateConfigId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],["mat-sort-header",""],[3,"ngClass"],[1,"cursor-pointer"],[3,"contactContentByNumberTooltip","tooltipPosition"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let n=T();r(0,"app-cms-html-list",3),O("optionActionGuideNoticeDisplayChange",function(m){return h(n),B(t.viewGuideNotice,m)||(t.viewGuideNotice=m),_(m)}),x("optionOnActionButtonMemoRow",function(){return h(n),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(n),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(n),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(n),_(t.onActionButtonPrintRow())}),I(1,4),r(2,"app-sms-apipath-tree",5),x("optionChange",function(m){return h(n),_(t.onActionSelectorSelect(m))}),l(),w(),Be(3,6)(4,7),I(5,8),v(6,il,2,0,"a",9),r(7,"a",10),x("click",function(){return h(n),_(t.viewGuideNotice=!t.viewGuideNotice)}),p(8,"i",11),l(),r(9,"a",10),x("click",function(){return h(n),_(t.onActionButtonReload())}),p(10,"i",12),l(),w(),I(11,13),r(12,"a",14),x("click",function(){return h(n),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),p(13,"mat-slide-toggle",15),u(14),f(15,"translate"),l(),r(16,"a",14),x("click",function(){return h(n),_(t.onActionButtonStatist())}),p(17,"mat-slide-toggle",15),u(18),f(19,"translate"),l(),w(),Be(20,16),I(21,17),r(22,"div",18)(23,"a",19),x("click",function(){return h(n),_(t.onActionButtonSendMessage(t.tableRowSelected))}),p(24,"i",20)(25,"br"),l(),r(26,"p",21),u(27),f(28,"translate"),l()(),v(29,ol,7,3,"div",18),v(30,nl,7,3,"div",18),v(31,sl,7,3,"div",18),w(),I(32,22),r(33,"app-cms-search-list",23),O("optionsChange",function(m){return h(n),B(t.optionsSearch,m)||(t.optionsSearch=m),_(m)}),l(),r(34,"app-cms-statist-list",23),O("optionsChange",function(m){return h(n),B(t.optionsStatist,m)||(t.optionsStatist=m),_(m)}),l(),w(),I(35,24),r(36,"mat-table",25,0),x("matSortChange",function(){h(n);let m=z(37);return _(t.onTableSortData(m))}),L(38,rl,1,2,"mat-row",26),I(39,27),L(40,al,2,1,"mat-header-cell",28)(41,ll,2,1,"mat-cell",29),w(),I(42,30),L(43,cl,2,1,"mat-header-cell",28)(44,ml,4,6,"mat-cell",31),w(),I(45,32),L(46,dl,2,1,"mat-header-cell",28)(47,ul,2,1,"mat-cell",29),w(),I(48,33),L(49,pl,2,1,"mat-header-cell",28)(50,fl,3,3,"mat-cell",34),w(),I(51,35),L(52,Sl,2,1,"mat-header-cell",28)(53,hl,2,1,"mat-cell",29),w(),I(54,36),L(55,_l,2,1,"mat-header-cell",28)(56,gl,3,4,"mat-cell",29),w(),I(57,37),L(58,Cl,2,1,"mat-header-cell",28)(59,vl,3,4,"mat-cell",38),w(),I(60,39),L(61,bl,2,1,"mat-header-cell",28)(62,xl,3,4,"mat-cell",38),w(),I(63,40),L(64,Ml,3,3,"mat-header-cell",41)(65,Tl,6,1,"mat-cell",42),w(),L(66,Il,1,0,"mat-header-row",43)(67,wl,1,2,"mat-row",44),I(68,45),L(69,El,16,23,"mat-cell",29),w(),l(),w(),I(70,46),r(71,"mat-paginator",47,1),x("page",function(m){return h(n),_(t.onTablePageingData(m))}),l(),w(),l()}i&2&&(M("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),M("optionTreeDisplay",!1)("optionTreeDisplay",!t.requestLinkPrivateConfigId||t.requestLinkPrivateConfigId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.senderNumber),s(6),b((t.requestLinkPrivateConfigId==null?null:t.requestLinkPrivateConfigId.length)>0?6:-1),s(4),A("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s(3),M("checked",t.optionsSearch.data.show),s(),C("",S(15,29,"ACTION.SEARCH")," "),s(3),M("checked",t.optionsStatist.data.show),s(),C("",S(19,31,"ACTION.STATIST")," "),s(9),C(" ",S(28,33,"ACTION.SEND_ANSWER")," "),s(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?29:-1),s(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?30:-1),s(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?31:-1),s(2),D("options",t.optionsSearch),s(),D("options",t.optionsStatist),s(2),M("dataSource",t.tableSource),s(2),M("matRowDefColumns",Z(35,el)),s(28),M("matHeaderRowDef",t.tabledisplayedColumns),s(),M("matRowDefColumns",t.tabledisplayedColumns),s(4),M("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Z(36,tl)))},dependencies:[Le,qe,Xt,Yt,zt,de,Xe,Ye,ze,Ue,Ke,it,Ze,Je,ot,et,tt,nt,st,fe,Se,rt,Wi,at,lt,W,pi,Oe,ke,ui],encapsulation:2});var si=qi;var $i=class $i{constructor(a){this.sanitizer=a}transform(a){return a?.length>0?a.replace(/(?:\r\n|\r|\n)/g,"<br>"):a}};$i.\u0275fac=function(e){return new(e||$i)(g(Xo,16))},$i.\u0275pipe=Wo({name:"prettyLine",type:$i,pure:!0,standalone:!1});var mt=$i;var Xi=class Xi{constructor(a,e,i,t,n,d,m,E){this.headerService=a;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.dialog=n;this.translate=d;this.cmsStoreService=m;this.tokenHelper=E;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new y;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>Y(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}};Xi.\u0275fac=function(e){return new(e||Xi)(g(We),g(Q),g(j),g(q),g(re),g($),g(U),g(J))},Xi.\u0275cmp=H({type:Xi,selectors:[["app-sms-log-outbox-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:113,vars:31,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"td","large-width",3,"innerHTML"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(r(0,"div",0),p(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),p(6,"span",6),l(),r(7,"div",7)(8,"h5")(9,"b"),u(10),f(11,"translate"),l()()(),p(12,"div",8),l(),r(13,"div",4)(14,"div",9)(15,"b"),u(16),l(),u(17,": "),l(),r(18,"div",9),u(19),l(),p(20,"div",10)(21,"div",11),l(),r(22,"div",4)(23,"div",9)(24,"b"),u(25),l(),u(26,": "),l(),p(27,"div",12),f(28,"prettyLine"),p(29,"div",11),l(),r(30,"div",4)(31,"div",9)(32,"b"),u(33),l(),u(34,": "),l(),r(35,"div",9),u(36),l(),p(37,"div",10)(38,"div",11),l(),r(39,"div",4)(40,"div",9)(41,"b"),u(42),l(),u(43,": "),l(),r(44,"div",9),u(45),l(),p(46,"div",10)(47,"div",11),l(),r(48,"div",4)(49,"div",9)(50,"b"),u(51),l(),u(52,": "),l(),r(53,"div",9),u(54),f(55,"localeDateTime"),l(),p(56,"div",10)(57,"div",11),l(),r(58,"div",4)(59,"div",9)(60,"b"),u(61),l(),u(62,": "),l(),r(63,"div",9),u(64),l(),p(65,"div",10)(66,"div",11),l(),r(67,"div",4)(68,"div",9)(69,"b"),u(70),l(),u(71,": "),l(),r(72,"div",9),u(73),l(),p(74,"div",10)(75,"div",11),l(),r(76,"div",4)(77,"div",9)(78,"b"),u(79),l(),u(80,": "),l(),r(81,"div",9),u(82),l(),p(83,"div",10)(84,"div",11),l(),r(85,"div",4)(86,"div",9)(87,"b"),u(88),l(),u(89,": "),l(),r(90,"div",9),u(91),l(),p(92,"div",10)(93,"div",11),l(),r(94,"div",4)(95,"div",9)(96,"b"),u(97),l(),u(98,": "),l(),r(99,"div",9),u(100),l(),p(101,"div",10)(102,"div",11),l(),r(103,"div",4)(104,"div",9)(105,"b"),u(106),l(),u(107,": "),l(),r(108,"div",9),u(109),l(),p(110,"div",10)(111,"div",11),l()()()(),p(112,"div",13)),e&2&&(s(),M("optionsInfoAreaId",i.constructorInfoAreaId),s(5),M("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),s(4),C(" ",S(11,25,"TITLE.Selected_Message")," "),s(6),C("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),s(3),V(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),s(6),C("",i.fieldsInfo.message==null?null:i.fieldsInfo.message.fieldTitle," "),s(2),M("innerHTML",S(28,27,i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.message),xt),s(6),C("",i.fieldsInfo.linkApiPathId==null?null:i.fieldsInfo.linkApiPathId.fieldTitle," "),s(3),C(" ",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.linkApiPathId," "),s(6),C("",i.fieldsInfo.linkApiNumberId==null?null:i.fieldsInfo.linkApiNumberId.fieldTitle," "),s(3),C(" ",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.linkApiNumberId," "),s(6),C("",i.fieldsInfo.sendDate==null?null:i.fieldsInfo.sendDate.fieldTitle," "),s(3),C(" ",S(55,29,i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.sendDate)," "),s(7),C("",i.fieldsInfo.countRow==null?null:i.fieldsInfo.countRow.fieldTitle," "),s(3),V(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.countRow),s(6),C("",i.fieldsInfo.countSent==null?null:i.fieldsInfo.countSent.fieldTitle," "),s(3),V(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.countSent),s(6),C("",i.fieldsInfo.countDelivery==null?null:i.fieldsInfo.countDelivery.fieldTitle," "),s(3),C(" ",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.countDelivery," "),s(6),C("",i.fieldsInfo.countCreditBacked==null?null:i.fieldsInfo.countCreditBacked.fieldTitle," "),s(3),C(" ",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.countCreditBacked," "),s(6),C("",i.fieldsInfo.sumCredit==null?null:i.fieldsInfo.sumCredit.fieldTitle," "),s(3),V(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.sumCredit),s(6),C("",i.fieldsInfo.sumCreditBacked==null?null:i.fieldsInfo.sumCreditBacked.fieldTitle," "),s(3),C(" ",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.sumCreditBacked," "))},dependencies:[ee,mn,W,Ge,mt],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Lo=Xi;var Al=()=>["expandedTitle"],yl=()=>["expandedDetail"],Dl=()=>[5,10,20,100],Bl=o=>({display:o});function Ol(o,a){if(o&1&&p(0,"app-sms-log-outbox-header",2),o&2){let e=c();M("optionId",e.requestLinkOutBoxId)}}function kl(o,a){if(o&1){let e=T();r(0,"div",19)(1,"a",44),x("click",function(){h(e);let t=c();return _(t.onActionButtonViewRow(t.tableRowSelected))}),p(2,"i",45)(3,"br"),l(),r(4,"p",46),u(5),f(6,"translate"),l()()}o&2&&(s(5),C(" ",S(6,1,"ACTION.VIEW")," "))}function Pl(o,a){if(o&1){let e=T();r(0,"div",19)(1,"a",47),x("click",function(){h(e);let t=c();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),p(2,"i",48)(3,"br"),l(),r(4,"p",46),u(5),f(6,"translate"),l()()}o&2&&(s(5),C(" ",S(6,1,"ACTION.DELETE")," "))}function Vl(o,a){o&1&&(r(0,"mat-header-cell"),u(1),f(2,"translate"),l()),o&2&&(s(),C(" ",S(2,1,"TITLE.MENU")," "))}function Nl(o,a){if(o&1){let e=T();r(0,"mat-cell")(1,"button",49),x("click",function(){let t=h(e).$implicit,n=c();return _(n.onActionTableRowSelectActionMenu(t))}),p(2,"i",50),l()()}}function Gl(o,a){if(o&1&&(r(0,"mat-header-cell",51),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Hl(o,a){if(o&1&&(r(0,"mat-cell"),u(1),l()),o&2){let e=a.$implicit;s(),C(" ",e.id," ")}}function Fl(o,a){if(o&1&&(r(0,"mat-header-cell",51),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Ql(o,a){if(o&1&&(r(0,"mat-cell"),u(1),f(2,"localeDateTime"),l()),o&2){let e=a.$implicit;s(),C(" ",S(2,1,e.createdDate)," ")}}function jl(o,a){if(o&1&&(r(0,"mat-header-cell",51),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.senderNumber==null?null:e.fieldsInfo.senderNumber.fieldTitle," ")}}function Wl(o,a){if(o&1&&(r(0,"mat-cell",52),u(1),l()),o&2){let e=a.$implicit;s(),C(" ",e.senderNumber," ")}}function ql(o,a){if(o&1&&(r(0,"mat-header-cell",51),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.receiverNumber==null?null:e.fieldsInfo.receiverNumber.fieldTitle," ")}}function $l(o,a){if(o&1&&(r(0,"mat-cell",52)(1,"span",53),u(2),l()()),o&2){let e=a.$implicit;s(),M("contactContentByNumberTooltip",e.receiverNumber)("tooltipPosition","above"),s(),C(" ",e.receiverNumber," ")}}function Xl(o,a){if(o&1&&(r(0,"mat-header-cell",51),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.isSent==null?null:e.fieldsInfo.isSent.fieldTitle," ")}}function Yl(o,a){if(o&1&&(r(0,"mat-cell"),p(1,"i",54),f(2,"boolclass"),l()),o&2){let e=a.$implicit;s(),M("ngClass",S(2,1,e.isSent))}}function zl(o,a){if(o&1&&(r(0,"mat-header-cell",51),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.recordDetailStatus==null?null:e.fieldsInfo.recordDetailStatus.fieldTitle," ")}}function Ul(o,a){if(o&1&&(r(0,"mat-cell"),u(1),l()),o&2){let e=a.$implicit;s(),C(" ",e.recordDetailStatusTitle)}}function Jl(o,a){if(o&1&&(r(0,"mat-header-cell",51),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.getApiDeliveryStatus==null?null:e.fieldsInfo.getApiDeliveryStatus.fieldTitle," ")}}function Kl(o,a){if(o&1&&(r(0,"mat-cell"),u(1),l()),o&2){let e=a.$implicit;s(),C(" ",e.getApiDeliveryStatusTitle)}}function Zl(o,a){if(o&1&&(r(0,"mat-cell"),u(1),l()),o&2){let e=a.$implicit;s(),C(" ",e.title," ")}}function ec(o,a){if(o&1&&(r(0,"tr"),p(1,"td"),r(2,"td"),u(3),l()()),o&2){let e=c().$implicit,i=c();s(3),R(" ",i.fieldsInfo.slaLinkId==null?null:i.fieldsInfo.slaLinkId.fieldTitle," : ",e.slaLinkId," ")}}function tc(o,a){if(o&1&&(r(0,"tr"),p(1,"td"),r(2,"td"),u(3),l()()),o&2){let e=c().$implicit,i=c();s(3),R(" ",i.fieldsInfo.slaChanceCount==null?null:i.fieldsInfo.slaChanceCount.fieldTitle," : ",e.slaChanceCount," ")}}function ic(o,a){if(o&1&&(r(0,"mat-cell")(1,"div")(2,"table")(3,"tr"),p(4,"th"),r(5,"th"),u(6),l()(),r(7,"tr"),p(8,"td"),r(9,"td"),u(10),f(11,"number"),l()(),r(12,"tr"),p(13,"td"),r(14,"td"),u(15),f(16,"number"),l()(),v(17,ec,4,2,"tr"),v(18,tc,4,2,"tr"),l()(),p(19,"div",55),f(20,"prettyLine"),l()),o&2){let e=a.$implicit,i=c();s(6),R("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," : ",e.id),s(4),R(" ",i.fieldsInfo.credit==null?null:i.fieldsInfo.credit.fieldTitle," : ",S(11,9,e.credit)," "),s(5),R(" ",i.fieldsInfo.giveBackCredit==null?null:i.fieldsInfo.giveBackCredit.fieldTitle," : ",S(16,11,e.giveBackCredit)," "),s(2),b(e.slaLink?17:-1),s(),b(e.slaChanceCount?18:-1),s(),M("innerHTML",S(20,13,e.message),xt)}}function oc(o,a){o&1&&p(0,"mat-header-row")}function nc(o,a){if(o&1){let e=T();r(0,"mat-row",56),x("click",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=h(e).$implicit,n=c();return _(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=h(e).$implicit,n=c();return _(n.onActionTableRowMouseLeave(t))}),l()}if(o&2){let e=a.$implicit,i=c();A("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function sc(o,a){if(o&1){let e=T();r(0,"mat-row",57),x("click",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=h(e).$implicit,n=c();return _(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=h(e).$implicit,n=c();return _(n.onActionTableRowMouseLeave(t))}),l()}if(o&2){let e=a.$implicit,i=c();A("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function rc(o,a){if(o&1){let e=T();r(0,"mat-row",58),x("click",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=h(e).$implicit,n=c();return _(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=h(e).$implicit,n=c();return _(n.onActionTableRowMouseLeave(t))}),l()}if(o&2){let e=a.$implicit,i=c();A("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),M("ngStyle",At(3,Bl,e.expanded===!0?"":"none"))}}var Yi=class Yi extends pe{constructor(e,i,t,n,d,m,E,X,ne,He,dt,he,ut){super(e,new Ot,he,E,He);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=n;this.smsMainApiPathService=d;this.router=m;this.tokenHelper=E;this.cdr=X;this.cmsStoreService=ne;this.translate=He;this.pageInfo=dt;this.publicHelper=he;this.dialog=ut;this.requestLinkOutBoxId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new F;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new y;this.dataModelPrivateResult=new y;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","createdDate","SenderNumber","ReceiverNumber","IsSent","recordDetailStatus","getApiDeliveryStatus","action_menu"];this.tabledisplayedColumnsMobileSource=["id","createdDate","SenderNumber","ReceiverNumber","IsSent","recordDetailStatus","getApiDeliveryStatus","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.requestLinkOutBoxId=this.activatedRoute.snapshot.paramMap.get("LinkOutBoxId"),this.optionsSearch.parentMethods={onSubmit:Zt=>this.onSubmitOptionsSearch(Zt)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=P.Descending;let te=new N;this.requestLinkOutBoxId&&this.requestLinkOutBoxId.length>0&&(te.propertyName="LinkOutBoxId",te.value=this.requestLinkOutBoxId,this.filteModelContent.filters.push(te))}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Y(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getPrivateConfig()}getPrivateConfig(){let e=new F;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ot);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=P.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(d,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new F,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),d=new N;d.propertyName="recordStatus",d.value=me.Available,n.filters.push(d),this.contentService.ServiceGetCount(n).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(bi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/log/outbox"])}};Yi.\u0275fac=function(i){return new(i||Yi)(g(Pt),g(le),g(q),g(ae),g(se),g(ce),g(J),g(j),g(U),g($),g(ue),g(Q),g(re))},Yi.\u0275cmp=H({type:Yi,selectors:[["app-sms-log-outboxdetail-list"]],standalone:!1,features:[K],decls:67,vars:35,consts:[["tableSort","matSort"],["paginator",""],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","createdDate"],["matColumnDef","SenderNumber"],["class","input-ltr-center",4,"matCellDef"],["matColumnDef","ReceiverNumber"],["matColumnDef","IsSent"],["matColumnDef","recordDetailStatus"],["matColumnDef","getApiDeliveryStatus"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[1,"input-ltr-center"],[3,"contactContentByNumberTooltip","tooltipPosition"],[3,"ngClass"],[1,"col-sm-12","col-md-6",3,"innerHTML"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let n=T();v(0,Ol,1,1,"app-sms-log-outbox-header",2),r(1,"app-cms-html-list",3),O("optionActionGuideNoticeDisplayChange",function(m){return h(n),B(t.viewGuideNotice,m)||(t.viewGuideNotice=m),_(m)}),x("optionOnActionButtonMemoRow",function(){return h(n),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(n),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(n),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(n),_(t.onActionButtonPrintRow())}),I(2,4),r(3,"app-sms-apipath-tree",5),x("optionChange",function(m){return h(n),_(t.onActionSelectorSelect(m))}),l(),w(),Be(4,6)(5,7),I(6,8),r(7,"a",9),x("click",function(){return h(n),_(t.onActionBackToParent())}),p(8,"i",10),l(),r(9,"a",11),x("click",function(){return h(n),_(t.viewGuideNotice=!t.viewGuideNotice)}),p(10,"i",12),l(),r(11,"a",11),x("click",function(){return h(n),_(t.onActionButtonReload())}),p(12,"i",13),l(),w(),I(13,14),r(14,"a",15),x("click",function(){return h(n),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),p(15,"mat-slide-toggle",16),u(16),f(17,"translate"),l(),r(18,"a",15),x("click",function(){return h(n),_(t.onActionButtonStatist())}),p(19,"mat-slide-toggle",16),u(20),f(21,"translate"),l(),w(),Be(22,17),I(23,18),v(24,kl,7,3,"div",19),v(25,Pl,7,3,"div",19),w(),I(26,20),r(27,"app-cms-search-list",21),O("optionsChange",function(m){return h(n),B(t.optionsSearch,m)||(t.optionsSearch=m),_(m)}),l(),r(28,"app-cms-statist-list",21),O("optionsChange",function(m){return h(n),B(t.optionsStatist,m)||(t.optionsStatist=m),_(m)}),l(),w(),I(29,22),r(30,"mat-table",23,0),x("matSortChange",function(){h(n);let m=z(31);return _(t.onTableSortData(m))}),I(32,24),L(33,Vl,3,3,"mat-header-cell",25)(34,Nl,3,0,"mat-cell",26),w(),I(35,27),L(36,Gl,2,1,"mat-header-cell",28)(37,Hl,2,1,"mat-cell",26),w(),I(38,29),L(39,Fl,2,1,"mat-header-cell",28)(40,Ql,3,3,"mat-cell",26),w(),I(41,30),L(42,jl,2,1,"mat-header-cell",28)(43,Wl,2,1,"mat-cell",31),w(),I(44,32),L(45,ql,2,1,"mat-header-cell",28)(46,$l,3,3,"mat-cell",31),w(),I(47,33),L(48,Xl,2,1,"mat-header-cell",28)(49,Yl,3,3,"mat-cell",26),w(),I(50,34),L(51,zl,2,1,"mat-header-cell",28)(52,Ul,2,1,"mat-cell",26),w(),I(53,35),L(54,Jl,2,1,"mat-header-cell",28)(55,Kl,2,1,"mat-cell",26),w(),I(56,36),L(57,Zl,2,1,"mat-cell",26),w(),I(58,37),L(59,ic,21,15,"mat-cell",26),w(),L(60,oc,1,0,"mat-header-row",38)(61,nc,1,2,"mat-row",39)(62,sc,1,2,"mat-row",40)(63,rc,1,5,"mat-row",41),l(),w(),I(64,42),r(65,"mat-paginator",43,1),x("page",function(m){return h(n),_(t.onTablePageingData(m))}),l(),w(),l()}i&2&&(b((t.requestLinkOutBoxId==null?null:t.requestLinkOutBoxId.length)>0?0:-1),s(),M("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),M("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(11),A("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s(3),M("checked",t.optionsSearch.data.show),s(),C("",S(17,28,"ACTION.SEARCH")," "),s(3),M("checked",t.optionsStatist.data.show),s(),C("",S(21,30,"ACTION.STATIST")," "),s(4),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?24:-1),s(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?25:-1),s(2),D("options",t.optionsSearch),s(),D("options",t.optionsStatist),s(2),M("dataSource",t.tableSource),s(30),M("matHeaderRowDef",t.tabledisplayedColumns),s(),M("matRowDefColumns",Z(32,Al)),s(),M("matRowDefColumns",t.tabledisplayedColumns),s(),M("matRowDefColumns",Z(33,yl)),s(2),M("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Z(34,Dl)))},dependencies:[Le,Dt,qe,de,Xe,Ye,ze,Ue,Ke,it,Ze,Je,ot,et,tt,nt,st,fe,Se,rt,Wi,at,lt,Lo,ci,W,Ge,mt,bo],encapsulation:2});var Ao=Yi;var ac="https://i.pinimg.com/originals/7b/dd/1b/7bdd1bc7db7fd48025d4e39a0e2f0fd8.jpg",lc="https://www.seekpng.com/png/detail/334-3345964_error-icon-download-attention-symbol.png",cc="https://replit.com/public/images/loading_dots.gif",zi=class zi{constructor(a,e,i,t,n,d){this.elRef=a;this.renderer=e;this.publicHelper=i;this.cmsToastrService=t;this.cdr=n;this.document=d;this.DataEnumRecordAdminStatus()}DataEnumRecordAdminStatus(){return Y(this,null,function*(){(yield this.publicHelper.getEnumRecordAdminStatus()).listItems.forEach(e=>{let i=document.createElement("option");i.innerHTML=" "+e.title+' <i Class="'+this.iconAdminStatus(e.value)+'"></i>',i.value=e.value.toString(),this.elRef.nativeElement.add(i)}),this.elRef.nativeElement.options.length>0&&this.row&&this.row.adminRecordStatus&&this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.adminRecordStatus)})}onChange(){let a=this.elRef.nativeElement,e=a.value;this.addLoader(a),this.contentService.setAccessDataType(Mt.Editor),this.contentService.ServiceSetAdminStatus(this.row.id,e).subscribe({next:i=>{i.isSuccess?(this.handleSuccessCase(a),this.cmsToastrService.typeSuccessSetStatus(i.errorMessage),this.row.adminRecordStatus=e|0,this.cdr.markForCheck()):(this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.adminRecordStatus),this.cmsToastrService.typeErrorSetStatus(i.errorMessage),this.handleErrorCase(a))},error:i=>{this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.adminRecordStatus),this.cmsToastrService.typeError(i),this.handleErrorCase(a)}})}handleSuccessCase(a){this.removeBackground(a),this.addSuccess(a),setTimeout(()=>{this.removeBackground(a)},1e3)}handleErrorCase(a){this.removeBackground(a);let e=this.document.createElement("img");e.style.width="20px",e.src=lc;let i=this.renderer.parentNode(this.elRef.nativeElement);this.renderer.appendChild(i,e),setTimeout(()=>{this.renderer.removeChild(i,e)},1e3)}addLoader(a){this.addBackground(a,cc,20)}addSuccess(a){this.addBackground(a,ac,20)}addBackground(a,e,i){a.style.background=`#fff url("${e}") no-repeat right 20px center`,a.style.backgroundSize=`${i}px`}removeBackground(a){a.style.background="none"}iconAdminStatus(a){let e="";switch(a){case Zi.Pending:e="fa fa-hourglass-half";break;case Zi.Accept:e="fa fa-check";break;case Zi.Denied:e="fa fa-eye-slash";break;case Zi.NeedToCheck:e="fa fa-times";break;default:e="fa fa-hourglass-half"}return e}};zi.\u0275fac=function(e){return new(e||zi)(g(So),g(ho),g(Q),g(q),g(j),g(jo))},zi.\u0275dir=go({type:zi,selectors:[["","cmsRecordAdminStatusSelfSave",""]],hostBindings:function(e,i){e&1&&x("change",function(){return i.onChange()})},inputs:{row:"row",contentService:"contentService"},standalone:!1});var yo=zi;var fc=()=>["expandedTitle"],Sc=()=>[5,10,20,100],bn=o=>({display:o});function hc(o,a){if(o&1){let e=T();r(0,"a",10),x("click",function(){h(e);let t=c();return _(t.onActionButtonBulkDelete())}),p(1,"i",48),u(2),f(3,"translate"),l()}if(o&2){let e=c();s(2),R(" ",S(3,2,"ACTION.DELETE_SELECTED")," (",e.getSelectedCount(),") ")}}function _c(o,a){if(o&1){let e=T();r(0,"div",17)(1,"a",49),x("click",function(){h(e);let t=c();return _(t.onActionButtonBulkDelete())}),p(2,"i",50)(3,"br"),l(),r(4,"p",51),u(5),f(6,"translate"),l()()}if(o&2){let e=c();s(5),R(" ",S(6,2,"ACTION.DELETE_SELECTED")," (",e.getSelectedCount(),") ")}}function gc(o,a){if(o&1){let e=T();r(0,"div",17)(1,"a",52),x("click",function(){h(e);let t=c();return _(t.onActionButtonEditRow(t.tableRowSelected))}),p(2,"i",53)(3,"br"),l(),r(4,"p",51),u(5),f(6,"translate"),l()()}o&2&&(s(5),C(" ",S(6,1,"ACTION.EDIT")," "))}function Cc(o,a){if(o&1){let e=T();r(0,"div",17)(1,"a",49),x("click",function(){h(e);let t=c();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),p(2,"i",54)(3,"br"),l(),r(4,"p",51),u(5),f(6,"translate"),l()()}o&2&&(s(5),C(" ",S(6,1,"ACTION.DELETE")," "))}function vc(o,a){if(o&1){let e=T();r(0,"div",17)(1,"a",55),x("click",function(){h(e);let t=c();return _(t.onActionButtonViewRow(t.tableRowSelected))}),p(2,"i",56)(3,"br"),l(),r(4,"p",51),u(5),f(6,"translate"),l()()}o&2&&(s(5),C(" ",S(6,1,"ACTION.VIEW")," "))}function bc(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function xc(o,a){if(o&1&&(r(0,"mat-cell"),u(1),l()),o&2){let e=a.$implicit;s(),C(" ",e.id," ")}}function Mc(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Tc(o,a){if(o&1&&p(0,"select",59),o&2){let e=c(2).$implicit,i=c();M("contentService",i.contentService)("row",e)("ngStyle",At(3,bn,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Ic(o,a){if(o&1&&v(0,Tc,1,5,"select",59),o&2){let e=c(2);b(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?0:-1)}}function wc(o,a){if(o&1&&(r(0,"mat-cell",58),f(1,"statusCellClass"),p(2,"i",58),f(3,"statusIconClass"),v(4,Ic,1,1),l()),o&2){let e=a.$implicit,i=c();M("ngClass",S(1,3,e.recordStatus)),s(2),M("ngClass",S(3,5,e.recordStatus)),s(2),b(i.fieldsInfo.recordStatus!=null&&i.fieldsInfo.recordStatus.accessEditField&&!e.queueCompleted&&!e.queueLockedRun?4:-1)}}function Ec(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.adminRecordStatus==null?null:e.fieldsInfo.adminRecordStatus.fieldTitle," ")}}function Rc(o,a){if(o&1&&p(0,"select",60),o&2){let e=c().$implicit,i=c();M("contentService",i.contentService)("row",e)("ngStyle",At(3,bn,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Lc(o,a){if(o&1&&(r(0,"mat-cell"),p(1,"i",58),f(2,"adminStatusIconClass"),v(3,Rc,1,5,"select",60),l()),o&2){let e=a.$implicit,i=c();s(),M("ngClass",S(2,2,e.adminRecordStatus)),s(2),b(i.fieldsInfo.adminRecordStatus!=null&&i.fieldsInfo.adminRecordStatus.accessEditField&&!e.queueCompleted&&!e.queueLockedRun?3:-1)}}function Ac(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle," ")}}function yc(o,a){if(o&1&&(r(0,"mat-cell"),u(1),f(2,"cmsuserinfo"),f(3,"async"),l()),o&2){let e=a.$implicit;s(),C(" ",S(3,3,S(2,1,e.createdBy))," ")}}function Dc(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.scheduleSendStart==null?null:e.fieldsInfo.scheduleSendStart.fieldTitle," ")}}function Bc(o,a){if(o&1&&(r(0,"mat-cell",61),u(1),f(2,"localeDateTime"),l()),o&2){let e=a.$implicit;s(),C(" ",S(2,1,e.scheduleSendStart))}}function Oc(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.scheduleSendExpire==null?null:e.fieldsInfo.scheduleSendExpire.fieldTitle," ")}}function kc(o,a){if(o&1&&(r(0,"mat-cell",61),u(1),f(2,"localeDateTime"),l()),o&2){let e=a.$implicit;s(),C(" ",S(2,1,e.scheduleSendExpire))}}function Pc(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.queueAllowNextRun==null?null:e.fieldsInfo.queueAllowNextRun.fieldTitle," ")}}function Vc(o,a){if(o&1&&(r(0,"mat-cell",61),u(1),f(2,"localeDateTime"),l()),o&2){let e=a.$implicit;s(),C(" ",S(2,1,e.queueAllowNextRun))}}function Nc(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.queueCompleted==null?null:e.fieldsInfo.queueCompleted.fieldTitle," ")}}function Gc(o,a){if(o&1&&(r(0,"mat-cell"),p(1,"i",58),f(2,"boolclass"),l()),o&2){let e=a.$implicit;s(),M("ngClass",S(2,1,e.queueCompleted))}}function Hc(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.queueCompleteDate==null?null:e.fieldsInfo.queueCompleteDate.fieldTitle," ")}}function Fc(o,a){if(o&1&&(r(0,"mat-cell",61),u(1),f(2,"localeDateTime"),l()),o&2){let e=a.$implicit;s(),C(" ",S(2,1,e.queueCompleteDate))}}function Qc(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function jc(o,a){if(o&1&&(r(0,"mat-cell",61),u(1),f(2,"localeDateTime"),l()),o&2){let e=a.$implicit;s(),C(" ",S(2,1,e.createdDate))}}function Wc(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function qc(o,a){if(o&1&&(r(0,"mat-cell",61),u(1),f(2,"localeDateTime"),l()),o&2){let e=a.$implicit,i=c();s(),R(" ",S(2,2,e.updatedDate)," ",i.publicHelper.getTime(e.updatedDate)," ")}}function $c(o,a){o&1&&(r(0,"mat-header-cell"),u(1),f(2,"translate"),l()),o&2&&(s(),C(" ",S(2,1,"TITLE.OPTION")," "))}function Xc(o,a){if(o&1&&(r(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),u(3,"more_vert"),l()(),p(4,"mat-menu",null,2),l()),o&2){let e=z(5);s(),M("matMenuTriggerFor",e)}}function Yc(o,a){if(o&1){let e=T();r(0,"mat-header-cell")(1,"mat-checkbox",64),f(2,"translate"),x("change",function(t){h(e);let n=c();return _(n.onSelectAllChange(t))}),l()()}if(o&2){let e=c();s(),M("checked",e.isAllSelected)("indeterminate",e.selectedRowsForBulkDelete.size>0&&e.selectedRowsForBulkDelete.size<e.tableSource.data.length),k("aria-label",S(2,3,"ACTION.SELECT"))}}function zc(o,a){if(o&1){let e=T();r(0,"mat-cell")(1,"mat-checkbox",65),f(2,"translate"),x("change",function(t){let n=h(e).$implicit,d=c();return _(d.onCheckboxChange(n,t))})("click",function(t){return h(e),_(t.stopPropagation())}),l()()}if(o&2){let e=a.$implicit,i=c();s(),M("checked",i.isRowSelected(e.id)),k("aria-label",S(2,2,"ACTION.SELECT"))}}function Uc(o,a){if(o&1&&(u(0),f(1,"cmsuserinfo"),f(2,"async"),p(3,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.updatedBy==null?null:i.fieldsInfo.updatedBy.fieldTitle," : ",S(2,4,S(1,2,e.updatedBy))," ")}}function Jc(o,a){if(o&1&&(u(0),f(1,"translate"),f(2,"translate"),p(3,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.statusTextFiltering==null?null:i.fieldsInfo.statusTextFiltering.fieldTitle," : ",e.statusTextFiltering?S(1,2,"MESSAGE.Yes"):S(2,4,"MESSAGE.No")," ")}}function Kc(o,a){if(o&1&&(u(0),f(1,"translate"),f(2,"translate"),p(3,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.statusNumberFiltering==null?null:i.fieldsInfo.statusNumberFiltering.fieldTitle," : ",e.statusNumberFiltering?S(1,2,"MESSAGE.Yes"):S(2,4,"MESSAGE.No")," ")}}function Zc(o,a){if(o&1&&(u(0),p(1,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.textFilteringChar==null?null:i.fieldsInfo.textFilteringChar.fieldTitle," : ",e.textFilteringChar," ")}}function em(o,a){if(o&1&&(u(0),p(1,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.queueLockerId==null?null:i.fieldsInfo.queueLockerId.fieldTitle," : ",e.queueLockerId," ")}}function tm(o,a){if(o&1&&(u(0),p(1,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.queueLockerMicroservice==null?null:i.fieldsInfo.queueLockerMicroservice.fieldTitle," : ",e.queueLockerMicroservice," ")}}function im(o,a){if(o&1&&(u(0),p(1,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.queueAllowNextRun==null?null:i.fieldsInfo.queueAllowNextRun.fieldTitle," : ",e.queueAllowNextRun," ")}}function om(o,a){if(o&1&&(u(0),f(1,"translate"),f(2,"translate"),p(3,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.isFlash==null?null:i.fieldsInfo.isFlash.fieldTitle," : ",e.isFlash?S(1,2,"MESSAGE.Yes"):S(2,4,"MESSAGE.No")," ")}}function nm(o,a){if(o&1&&(u(0),p(1,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.linkApiPathId==null?null:i.fieldsInfo.linkApiPathId.fieldTitle," : ",e.linkApiPathId," ")}}function sm(o,a){if(o&1&&(u(0),p(1,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.linkFromNumber==null?null:i.fieldsInfo.linkFromNumber.fieldTitle," : ",e.linkFromNumber," ")}}function rm(o,a){if(o&1&&(u(0),f(1,"localeDateTime"),p(2,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.scheduleSendStart==null?null:i.fieldsInfo.scheduleSendStart.fieldTitle," : ",S(1,2,e.scheduleSendStart)," ")}}function am(o,a){if(o&1&&(u(0),f(1,"localeDateTime"),p(2,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.scheduleSendExpire==null?null:i.fieldsInfo.scheduleSendExpire.fieldTitle," : ",S(1,2,e.scheduleSendExpire)," ")}}function lm(o,a){if(o&1&&(u(0),p(1,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.toNumbers==null?null:i.fieldsInfo.toNumbers.fieldTitle," : ",e.toNumbers," ")}}function cm(o,a){if(o&1&&(u(0),f(1,"translate"),f(2,"translate"),p(3,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.statusNotStableApi==null?null:i.fieldsInfo.statusNotStableApi.fieldTitle," : ",e.statusNotStableApi?S(1,2,"MESSAGE.Yes"):S(2,4,"MESSAGE.No")," ")}}function mm(o,a){if(o&1&&(u(0),f(1,"translate"),f(2,"translate"),p(3,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.statusOutOfServiceApi==null?null:i.fieldsInfo.statusOutOfServiceApi.fieldTitle," : ",e.statusOutOfServiceApi?S(1,2,"MESSAGE.Yes"):S(2,4,"MESSAGE.No")," ")}}function dm(o,a){if(o&1&&(u(0),p(1,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.numberFilteringChar==null?null:i.fieldsInfo.numberFilteringChar.fieldTitle," : ",e.numberFilteringChar," ")}}function um(o,a){if(o&1&&(u(0),p(1,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.queueCountRun==null?null:i.fieldsInfo.queueCountRun.fieldTitle," : ",e.queueCountRun," ")}}function pm(o,a){if(o&1&&(u(0),f(1,"localeDateTime"),p(2,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.queueLockedRun==null?null:i.fieldsInfo.queueLockedRun.fieldTitle," : ",S(1,2,e.queueLockedRun)," ")}}function fm(o,a){if(o&1&&(u(0),f(1,"localeDateTime"),p(2,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.queueLockerExpire==null?null:i.fieldsInfo.queueLockerExpire.fieldTitle," : ",S(1,2,e.queueLockerExpire)," ")}}function Sm(o,a){if(o&1&&(u(0),f(1,"translate"),f(2,"translate"),p(3,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.queueCompleted==null?null:i.fieldsInfo.queueCompleted.fieldTitle," : ",e.queueCompleted?S(1,2,"MESSAGE.Yes"):S(2,4,"MESSAGE.No")," ")}}function hm(o,a){if(o&1&&(u(0),f(1,"localeDateTime"),p(2,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.queueCompleteDate==null?null:i.fieldsInfo.queueCompleteDate.fieldTitle," : ",S(1,2,e.queueCompleteDate)," ")}}function _m(o,a){if(o&1&&(u(0),p(1,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.queueLockerMicroservice==null?null:i.fieldsInfo.queueLockerMicroservice.fieldTitle," : ",e.queueLockerMicroservice," ")}}function gm(o,a){if(o&1&&(r(0,"mat-cell")(1,"div"),p(2,"span",66),f(3,"prettyLine"),p(4,"hr"),v(5,Uc,4,6),v(6,Jc,4,6),v(7,Kc,4,6),v(8,Zc,2,2),v(9,em,2,2),v(10,tm,2,2),v(11,im,2,2),v(12,om,4,6),v(13,nm,2,2),v(14,sm,2,2),v(15,rm,3,4),v(16,am,3,4),v(17,lm,2,2),v(18,cm,4,6),v(19,mm,4,6),v(20,dm,2,2),v(21,um,2,2),v(22,pm,3,4),v(23,fm,3,4),v(24,Sm,4,6),v(25,hm,3,4),v(26,_m,2,2),l()()),o&2){let e=a.$implicit;s(2),M("innerHTML",S(3,23,e.message),xt),s(3),b(e.updatedBy?5:-1),s(),b(e.statusTextFiltering?6:-1),s(),b(e.statusNumberFiltering?7:-1),s(),b(e.textFilteringChar?8:-1),s(),b(e.queueLockerId?9:-1),s(),b(e.queueLockerMicroservice?10:-1),s(),b(e.queueAllowNextRun?11:-1),s(),b(e.isFlash?12:-1),s(),b(e.linkApiPathId?13:-1),s(),b(e.linkFromNumber?14:-1),s(),b(e.scheduleSendStart?15:-1),s(),b(e.scheduleSendExpire?16:-1),s(),b(e.toNumbers?17:-1),s(),b(e.statusNotStableApi?18:-1),s(),b(e.statusOutOfServiceApi?19:-1),s(),b(e.numberFilteringChar?20:-1),s(),b(e.queueCountRun?21:-1),s(),b(e.queueLockedRun?22:-1),s(),b(e.queueLockerExpire?23:-1),s(),b(e.queueCompleted?24:-1),s(),b(e.queueCompleteDate?25:-1),s(),b(e.queueLockerMicroservice?26:-1)}}function Cm(o,a){o&1&&p(0,"mat-header-row")}function vm(o,a){if(o&1){let e=T();r(0,"mat-row",67),x("click",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))}),l()}if(o&2){let e=a.$implicit,i=c();A("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function bm(o,a){if(o&1){let e=T();r(0,"mat-row",68),x("click",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=h(e).$implicit,n=c();return _(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=h(e).$implicit,n=c();return _(n.onActionTableRowMouseLeave(t))}),l()}if(o&2){let e=a.$implicit,i=c();A("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ui=class Ui extends pe{constructor(e,i,t,n,d,m,E,X,ne,He,dt,he,ut){super(e,new St,he,E,ne);this.contentService=e;this.smsMainApiPathService=i;this.activatedRoute=t;this.cmsToastrService=n;this.cmsConfirmationDialogService=d;this.router=m;this.tokenHelper=E;this.cdr=X;this.translate=ne;this.cmsStoreService=He;this.pageInfo=dt;this.publicHelper=he;this.dialog=ut;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new F;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new y;this.dataModelPrivateResult=new y;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","adminRecordStatus","createdBy","scheduleSendStart","scheduleSendExpire","queueAllowNextRun","queueCompleted","queueCompleteDate","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","adminRecordStatus","createdBy","scheduleSendStart","scheduleSendExpire","queueAllowNextRun","queueCompleted","queueCompleteDate"];this.unsubscribe=[];this.selectedRowsForBulkDelete=new Set;this.isAllSelected=!1;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:te=>this.onSubmitOptionsSearch(te)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=P.Descending}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId"));let e=new N;this.requestLinkApiPathId?.length>0&&(e.propertyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>Y(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getPrivateConfig()}getPrivateConfig(){let e=new F;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tabledisplayedColumns.indexOf("select")===-1&&this.tabledisplayedColumns.push("select"),this.tableRowsSelected=[],this.selectedRowsForBulkDelete.clear(),this.isAllSelected=!1,this.onActionTableRowSelect(new St);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let n=new N;n.propertyName="LinkPrivateConfigId",n.value=this.categoryModelSelected.id,t.filters.push(n)}this.contentService.ServiceGetAllEditor(t).subscribe({next:n=>{n.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModelResult=n,this.tableSource.data=n.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(n.access)},1e3)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=P.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ti,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(d,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(wi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new F,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),d=new N;d.propertyName="recordStatus",d.value=me.Available,n.filters.push(d),this.contentService.ServiceGetCount(n).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){}onCheckboxChange(e,i){i.checked?this.selectedRowsForBulkDelete.add(e.id):this.selectedRowsForBulkDelete.delete(e.id),this.updateSelectAllState()}isRowSelected(e){return this.selectedRowsForBulkDelete.has(e)}onSelectAllChange(e){this.isAllSelected=e.checked,this.isAllSelected?this.tableSource.data.forEach(i=>{i.id&&this.selectedRowsForBulkDelete.add(i.id)}):this.selectedRowsForBulkDelete.clear()}updateSelectAllState(){if(this.tableSource.data.length===0){this.isAllSelected=!1;return}let e=this.tableSource.data.every(i=>this.selectedRowsForBulkDelete.has(i.id));this.isAllSelected=e}getSelectedCount(){return this.selectedRowsForBulkDelete.size}onActionButtonBulkDelete(){if(this.selectedRowsForBulkDelete.size===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var e="",i="";let t=this.selectedRowsForBulkDelete.size;this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{e=n["MESSAGE.Please_Confirm"],i=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+t+" \u0622\u06CC\u062A\u0645 \u0627\u0646\u062A\u062E\u0627\u0628 \u0634\u062F\u0647 ) "}),this.cmsConfirmationDialogService.confirm(e,i).then(n=>{if(n){let d=this.constructor.name+"BulkDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(E=>{this.publicHelper.processService.processStart(d,E,this.constructorInfoAreaId)});let m=Array.from(this.selectedRowsForBulkDelete);this.contentService.ServiceDeleteList(m).subscribe({next:E=>{E.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.selectedRowsForBulkDelete.clear(),this.isAllSelected=!1,this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:E=>{this.cmsToastrService.typeError(E),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}};Ui.\u0275fac=function(i){return new(i||Ui)(g(wt),g(se),g(le),g(q),g(ae),g(ce),g(J),g(j),g($),g(U),g(ue),g(Q),g(re))},Ui.\u0275cmp=H({type:Ui,selectors:[["app-sms-log-outboxqueue-list"]],standalone:!1,features:[K],decls:79,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","adminRecordStatus"],["matColumnDef","createdBy"],["matColumnDef","scheduleSendStart"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","scheduleSendExpire"],["matColumnDef","queueAllowNextRun"],["matColumnDef","queueCompleted"],["matColumnDef","queueCompleteDate"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","select"],["matColumnDef","expandedTitle"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"fa-solid","fa-trash-can","font-18",2,"color","#ff0000"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash-can","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],["matNativeControl","","cmsRecordAdminStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"change","checked","indeterminate"],[3,"change","click","checked"],[3,"innerHTML"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"]],template:function(i,t){if(i&1){let n=T();r(0,"app-cms-html-list",3),O("optionActionGuideNoticeDisplayChange",function(m){return h(n),B(t.viewGuideNotice,m)||(t.viewGuideNotice=m),_(m)}),x("optionOnActionButtonMemoRow",function(){return h(n),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(n),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(n),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(n),_(t.onActionButtonPrintRow())}),I(1,4),r(2,"app-sms-apipath-tree",5),x("optionChange",function(m){return h(n),_(t.onActionSelectorSelect(m))}),l(),w(),Be(3,6)(4,7),I(5,8),v(6,hc,4,4,"a",9),r(7,"a",10),x("click",function(){return h(n),_(t.viewGuideNotice=!t.viewGuideNotice)}),p(8,"i",11),l(),r(9,"a",10),x("click",function(){return h(n),_(t.onActionButtonReload())}),p(10,"i",12),l(),w(),I(11,13),r(12,"a",14),x("click",function(){return h(n),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),p(13,"mat-slide-toggle",15),u(14),f(15,"translate"),l(),r(16,"a",14),x("click",function(){return h(n),_(t.onActionButtonStatist())}),p(17,"mat-slide-toggle",15),u(18),f(19,"translate"),l(),w(),I(20,16),v(21,_c,7,4,"div",17),w(),I(22,18),v(23,gc,7,3,"div",17),v(24,Cc,7,3,"div",17),v(25,vc,7,3,"div",17),w(),I(26,19),r(27,"app-cms-search-list",20),O("optionsChange",function(m){return h(n),B(t.optionsSearch,m)||(t.optionsSearch=m),_(m)}),l(),r(28,"app-cms-statist-list",20),O("optionsChange",function(m){return h(n),B(t.optionsStatist,m)||(t.optionsStatist=m),_(m)}),l(),w(),I(29,21),r(30,"mat-table",22,0),x("matSortChange",function(){h(n);let m=z(31);return _(t.onTableSortData(m))}),I(32,23),L(33,bc,2,1,"mat-header-cell",24)(34,xc,2,1,"mat-cell",25),w(),I(35,26),L(36,Mc,2,1,"mat-header-cell",24)(37,wc,5,7,"mat-cell",27),w(),I(38,28),L(39,Ec,2,1,"mat-header-cell",24)(40,Lc,4,4,"mat-cell",25),w(),I(41,29),L(42,Ac,2,1,"mat-header-cell",24)(43,yc,4,5,"mat-cell",25),w(),I(44,30),L(45,Dc,2,1,"mat-header-cell",24)(46,Bc,3,3,"mat-cell",31),w(),I(47,32),L(48,Oc,2,1,"mat-header-cell",24)(49,kc,3,3,"mat-cell",31),w(),I(50,33),L(51,Pc,2,1,"mat-header-cell",24)(52,Vc,3,3,"mat-cell",31),w(),I(53,34),L(54,Nc,2,1,"mat-header-cell",24)(55,Gc,3,3,"mat-cell",25),w(),I(56,35),L(57,Hc,2,1,"mat-header-cell",24)(58,Fc,3,3,"mat-cell",31),w(),I(59,36),L(60,Qc,2,1,"mat-header-cell",24)(61,jc,3,3,"mat-cell",31),w(),I(62,37),L(63,Wc,2,1,"mat-header-cell",24)(64,qc,3,4,"mat-cell",31),w(),I(65,38),L(66,$c,3,3,"mat-header-cell",39)(67,Xc,6,1,"mat-cell",40),w(),I(68,41),L(69,Yc,3,5,"mat-header-cell",39)(70,zc,3,4,"mat-cell",25),w(),I(71,42),L(72,gm,27,25,"mat-cell",25),w(),L(73,Cm,1,0,"mat-header-row",43)(74,vm,1,2,"mat-row",44)(75,bm,1,2,"mat-row",45),l(),w(),I(76,46),r(77,"mat-paginator",47,1),x("page",function(m){return h(n),_(t.onTablePageingData(m))}),l(),w(),l()}i&2&&(M("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),M("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&t.selectedRowsForBulkDelete.size>0?6:-1),s(4),A("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s(3),M("checked",t.optionsSearch.data.show),s(),C("",S(15,28,"ACTION.SEARCH")," "),s(3),M("checked",t.optionsStatist.data.show),s(),C("",S(19,30,"ACTION.STATIST")," "),s(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&t.selectedRowsForBulkDelete.size>0?21:-1),s(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),s(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),s(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?25:-1),s(2),D("options",t.optionsSearch),s(),D("options",t.optionsStatist),s(2),M("dataSource",t.tableSource),s(43),M("matHeaderRowDef",t.tabledisplayedColumns),s(),M("matRowDefColumns",t.tabledisplayedColumns),s(),M("matRowDefColumns",Z(32,fc)),s(2),M("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Z(33,Sc)))},dependencies:[Le,Dt,qe,vo,Xt,$e,Yt,zt,de,Xe,Ye,ze,Ue,Ke,it,Ze,Je,ot,et,tt,nt,st,fe,Se,rt,at,Mo,yo,lt,Co,W,xo,Ge,mt,ke,un,ui,bo],encapsulation:2});var uo=Ui;var xm=()=>["expandedTitle"],Mm=()=>[5,10,20,100],Tm=o=>({display:o});function Im(o,a){if(o&1){let e=T();r(0,"a",10),x("click",function(){h(e);let t=c();return _(t.onActionButtonBulkDelete())}),p(1,"i",48),u(2),f(3,"translate"),l()}if(o&2){let e=c();s(2),R(" ",S(3,2,"ACTION.DELETE_SELECTED")," (",e.getSelectedCount(),") ")}}function wm(o,a){if(o&1){let e=T();r(0,"div",17)(1,"a",49),x("click",function(){h(e);let t=c();return _(t.onActionButtonBulkDelete())}),p(2,"i",50)(3,"br"),l(),r(4,"p",51),u(5),f(6,"translate"),l()()}if(o&2){let e=c();s(5),R(" ",S(6,2,"ACTION.DELETE_SELECTED")," (",e.getSelectedCount(),") ")}}function Em(o,a){if(o&1){let e=T();r(0,"div",17)(1,"a",52),x("click",function(){h(e);let t=c();return _(t.onActionButtonEditRow(t.tableRowSelected))}),p(2,"i",53)(3,"br"),l(),r(4,"p",51),u(5),f(6,"translate"),l()()}o&2&&(s(5),C(" ",S(6,1,"ACTION.EDIT")," "))}function Rm(o,a){if(o&1){let e=T();r(0,"div",17)(1,"a",49),x("click",function(){h(e);let t=c();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),p(2,"i",54)(3,"br"),l(),r(4,"p",51),u(5),f(6,"translate"),l()()}o&2&&(s(5),C(" ",S(6,1,"ACTION.DELETE")," "))}function Lm(o,a){if(o&1){let e=T();r(0,"div",17)(1,"a",55),x("click",function(){h(e);let t=c();return _(t.onActionButtonViewRow(t.tableRowSelected))}),p(2,"i",56)(3,"br"),l(),r(4,"p",51),u(5),f(6,"translate"),l()()}o&2&&(s(5),C(" ",S(6,1,"ACTION.VIEW")," "))}function Am(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ym(o,a){if(o&1&&(r(0,"mat-cell"),u(1),l()),o&2){let e=a.$implicit;s(),C(" ",e.id," ")}}function Dm(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Bm(o,a){if(o&1&&p(0,"select",59),o&2){let e=c().$implicit,i=c();M("contentService",i.contentService)("row",e)("ngStyle",At(3,Tm,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Om(o,a){if(o&1&&(r(0,"mat-cell",58),f(1,"statusCellClass"),p(2,"i",58),f(3,"statusIconClass"),v(4,Bm,1,5,"select",59),l()),o&2){let e=a.$implicit,i=c();M("ngClass",S(1,3,e.recordStatus)),s(2),M("ngClass",S(3,5,e.recordStatus)),s(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function km(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle," ")}}function Pm(o,a){if(o&1&&(r(0,"mat-cell"),u(1),f(2,"cmsuserinfo"),f(3,"async"),l()),o&2){let e=a.$implicit;s(),C(" ",S(3,3,S(2,1,e.createdBy))," ")}}function Vm(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.scheduleCron==null?null:e.fieldsInfo.scheduleCron.fieldTitle," ")}}function Nm(o,a){if(o&1&&(r(0,"mat-cell"),u(1),l()),o&2){let e=a.$implicit;s(),C(" ",e.scheduleCron," ")}}function Gm(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.scheduleSendStart==null?null:e.fieldsInfo.scheduleSendStart.fieldTitle," ")}}function Hm(o,a){if(o&1&&(r(0,"mat-cell",60),u(1),f(2,"localeDateTime"),l()),o&2){let e=a.$implicit;s(),C(" ",S(2,1,e.scheduleSendStart))}}function Fm(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.scheduleSendExpire==null?null:e.fieldsInfo.scheduleSendExpire.fieldTitle," ")}}function Qm(o,a){if(o&1&&(r(0,"mat-cell",60),u(1),f(2,"localeDateTime"),l()),o&2){let e=a.$implicit;s(),C(" ",S(2,1,e.scheduleSendExpire))}}function jm(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.scheduleSendAllowNextRun==null?null:e.fieldsInfo.scheduleSendAllowNextRun.fieldTitle," ")}}function Wm(o,a){if(o&1&&(r(0,"mat-cell",60),u(1),f(2,"localeDateTime"),l()),o&2){let e=a.$implicit;s(),C(" ",S(2,1,e.scheduleSendAllowNextRun))}}function qm(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function $m(o,a){if(o&1&&(r(0,"mat-cell",60),u(1),f(2,"localeDateTime"),l()),o&2){let e=a.$implicit;s(),C(" ",S(2,1,e.createdDate))}}function Xm(o,a){if(o&1&&(r(0,"mat-header-cell",57),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Ym(o,a){if(o&1&&(r(0,"mat-cell",60),u(1),f(2,"localeDateTime"),l()),o&2){let e=a.$implicit,i=c();s(),R(" ",S(2,2,e.updatedDate)," ",i.publicHelper.getTime(e.updatedDate)," ")}}function zm(o,a){o&1&&(r(0,"mat-header-cell"),u(1),f(2,"translate"),l()),o&2&&(s(),C(" ",S(2,1,"TITLE.Schedule_Run_Infos")," "))}function Um(o,a){if(o&1){let e=T();r(0,"button",64),f(1,"translate"),x("click",function(t){h(e);let n=c().$implicit;return c().onActionButtonScheduleRunInfos(n),_(t.stopPropagation())}),p(2,"i",65),r(3,"span",66),u(4),l()()}if(o&2){let e=c().$implicit;M("title",S(1,2,"ACTION.View_Schedule_Run_Infos")),s(4),V(e.scheduleRunInfos.length)}}function Jm(o,a){o&1&&(r(0,"span",63),u(1,"-"),l())}function Km(o,a){if(o&1&&(r(0,"mat-cell",61),v(1,Um,5,4,"button",62)(2,Jm,2,0,"span",63),l()),o&2){let e=a.$implicit;s(),b(e.scheduleRunInfos&&e.scheduleRunInfos.length>0?1:2)}}function Zm(o,a){o&1&&(r(0,"mat-header-cell"),u(1),f(2,"translate"),l()),o&2&&(s(),C(" ",S(2,1,"TITLE.OPTION")," "))}function ed(o,a){if(o&1&&(r(0,"mat-cell",67)(1,"button",68)(2,"mat-icon"),u(3,"more_vert"),l()(),p(4,"mat-menu",null,2),l()),o&2){let e=z(5);s(),M("matMenuTriggerFor",e)}}function td(o,a){if(o&1){let e=T();r(0,"mat-header-cell")(1,"mat-checkbox",69),f(2,"translate"),x("change",function(t){h(e);let n=c();return _(n.onSelectAllChange(t))}),l()()}if(o&2){let e=c();s(),M("checked",e.isAllSelected)("indeterminate",e.selectedRowsForBulkDelete.size>0&&e.selectedRowsForBulkDelete.size<e.tableSource.data.length),k("aria-label",S(2,3,"ACTION.SELECT"))}}function id(o,a){if(o&1){let e=T();r(0,"mat-cell")(1,"mat-checkbox",70),f(2,"translate"),x("change",function(t){let n=h(e).$implicit,d=c();return _(d.onCheckboxChange(n,t))})("click",function(t){return h(e),_(t.stopPropagation())}),l()()}if(o&2){let e=a.$implicit,i=c();s(),M("checked",i.isRowSelected(e.id)),k("aria-label",S(2,2,"ACTION.SELECT"))}}function od(o,a){if(o&1&&(u(0),f(1,"cmsuserinfo"),f(2,"async"),p(3,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.updatedBy==null?null:i.fieldsInfo.updatedBy.fieldTitle," : ",S(2,4,S(1,2,e.updatedBy))," ")}}function nd(o,a){if(o&1&&(u(0),p(1,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.linkApiPathId==null?null:i.fieldsInfo.linkApiPathId.fieldTitle," : ",e.linkApiPathId," ")}}function sd(o,a){if(o&1&&(u(0),p(1,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.scheduleLockerId==null?null:i.fieldsInfo.scheduleLockerId.fieldTitle," : ",e.scheduleLockerId," ")}}function rd(o,a){if(o&1&&(u(0),p(1,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.linkFromNumber==null?null:i.fieldsInfo.linkFromNumber.fieldTitle," : ",e.linkFromNumber," ")}}function ad(o,a){if(o&1&&(u(0),p(1,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.toNumbers==null?null:i.fieldsInfo.toNumbers.fieldTitle," : ",e.toNumbers," ")}}function ld(o,a){if(o&1&&(u(0),p(1,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.toContactCategories==null?null:i.fieldsInfo.toContactCategories.fieldTitle," : ",e.toContactCategories.join(", ")," ")}}function cd(o,a){if(o&1&&(u(0),p(1,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.toContactContents==null?null:i.fieldsInfo.toContactContents.fieldTitle," : ",e.toContactContents.join(", ")," ")}}function md(o,a){if(o&1&&(u(0),f(1,"translate"),f(2,"translate"),p(3,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.sendByQueue==null?null:i.fieldsInfo.sendByQueue.fieldTitle," : ",e.sendByQueue?S(1,2,"MESSAGE.Yes"):S(2,4,"MESSAGE.No")," ")}}function dd(o,a){if(o&1&&(u(0),f(1,"translate"),f(2,"translate"),p(3,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.isFlash==null?null:i.fieldsInfo.isFlash.fieldTitle," : ",e.isFlash?S(1,2,"MESSAGE.Yes"):S(2,4,"MESSAGE.No")," ")}}function ud(o,a){if(o&1&&(u(0),f(1,"localeDateTime"),p(2,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.scheduleSendStart==null?null:i.fieldsInfo.scheduleSendStart.fieldTitle," : ",S(1,2,e.scheduleSendStart)," ")}}function pd(o,a){if(o&1&&(u(0),f(1,"localeDateTime"),p(2,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.scheduleSendExpire==null?null:i.fieldsInfo.scheduleSendExpire.fieldTitle," : ",S(1,2,e.scheduleSendExpire)," ")}}function fd(o,a){if(o&1&&(u(0),f(1,"localeDateTime"),p(2,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.scheduleSendAllowNextRun==null?null:i.fieldsInfo.scheduleSendAllowNextRun.fieldTitle," : ",S(1,2,e.scheduleSendAllowNextRun)," ")}}function Sd(o,a){if(o&1&&(u(0),f(1,"localeDateTime"),p(2,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.scheduleLockerExpire==null?null:i.fieldsInfo.scheduleLockerExpire.fieldTitle," : ",S(1,2,e.scheduleLockerExpire)," ")}}function hd(o,a){if(o&1&&(u(0),f(1,"localeDateTime"),p(2,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.ScheduleLockedRun==null?null:i.fieldsInfo.ScheduleLockedRun.fieldTitle," : ",S(1,2,e.ScheduleLockedRun)," ")}}function _d(o,a){if(o&1&&(u(0),p(1,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.scheduleCron==null?null:i.fieldsInfo.scheduleCron.fieldTitle," : ",e.scheduleCron," ")}}function gd(o,a){if(o&1&&(u(0),p(1,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.scheduleCountRun==null?null:i.fieldsInfo.scheduleCountRun.fieldTitle," : ",e.scheduleCountRun," ")}}function Cd(o,a){if(o&1&&(u(0),f(1,"translate"),f(2,"translate"),p(3,"br")),o&2){let e=c().$implicit,i=c();R(" ",i.fieldsInfo.scheduleLockedRunIsSuccess==null?null:i.fieldsInfo.scheduleLockedRunIsSuccess.fieldTitle," : ",e.scheduleLockedRunIsSuccess?S(1,2,"MESSAGE.Yes"):S(2,4,"MESSAGE.No")," ")}}function vd(o,a){if(o&1&&(r(0,"mat-cell")(1,"div"),p(2,"span",71),f(3,"prettyLine"),p(4,"hr"),v(5,od,4,6),v(6,nd,2,2),v(7,sd,2,2),v(8,rd,2,2),v(9,ad,2,2),v(10,ld,2,2),v(11,cd,2,2),v(12,md,4,6),v(13,dd,4,6),v(14,ud,3,4),v(15,pd,3,4),v(16,fd,3,4),v(17,Sd,3,4),v(18,hd,3,4),v(19,_d,2,2),v(20,gd,2,2),v(21,Cd,4,6),l()()),o&2){let e=a.$implicit;s(2),M("innerHTML",S(3,18,e.message),xt),s(3),b(e.updatedBy?5:-1),s(),b(e.linkApiPathId?6:-1),s(),b(e.scheduleLockerId?7:-1),s(),b(e.linkFromNumber?8:-1),s(),b(e.toNumbers?9:-1),s(),b(e.toContactCategories!=null&&e.toContactCategories.length?10:-1),s(),b(e.toContactContents!=null&&e.toContactContents.length?11:-1),s(),b(e.sendByQueue?12:-1),s(),b(e.isFlash?13:-1),s(),b(e.scheduleSendStart?14:-1),s(),b(e.scheduleSendExpire?15:-1),s(),b(e.scheduleSendAllowNextRun?16:-1),s(),b(e.scheduleLockerExpire?17:-1),s(),b(e.ScheduleLockedRun?18:-1),s(),b(e.scheduleCron?19:-1),s(),b(e.scheduleCountRun?20:-1),s(),b(e.scheduleLockedRunIsSuccess?21:-1)}}function bd(o,a){o&1&&p(0,"mat-header-row")}function xd(o,a){if(o&1){let e=T();r(0,"mat-row",72),x("click",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))}),l()}if(o&2){let e=a.$implicit,i=c();A("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Md(o,a){if(o&1){let e=T();r(0,"mat-row",73),x("click",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=h(e).$implicit,n=c();return _(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=h(e).$implicit,n=c();return _(n.onActionTableRowMouseLeave(t))}),l()}if(o&2){let e=a.$implicit,i=c();A("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ji=class Ji extends pe{constructor(e,i,t,n,d,m,E,X,ne,He,dt,he,ut){super(e,new ht,he,E,ne);this.contentService=e;this.smsMainApiPathService=i;this.activatedRoute=t;this.cmsToastrService=n;this.cmsConfirmationDialogService=d;this.router=m;this.tokenHelper=E;this.cdr=X;this.translate=ne;this.cmsStoreService=He;this.pageInfo=dt;this.publicHelper=he;this.dialog=ut;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new F;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new y;this.dataModelPrivateResult=new y;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","createdBy","scheduleCron","scheduleSendStart","scheduleSendExpire","scheduleSendAllowNextRun","scheduleRunInfos","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","createdBy","scheduleCron","scheduleSendStart","scheduleSendExpire","scheduleSendAllowNextRun","scheduleRunInfos","createdDate","updatedDate"];this.unsubscribe=[];this.selectedRowsForBulkDelete=new Set;this.isAllSelected=!1;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:te=>this.onSubmitOptionsSearch(te)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=P.Descending}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId"));let e=new N;this.requestLinkApiPathId?.length>0&&(e.propertyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>Y(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getPrivateConfig()}getPrivateConfig(){let e=new F;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tabledisplayedColumns.indexOf("select")===-1&&this.tabledisplayedColumns.push("select"),this.tableRowsSelected=[],this.selectedRowsForBulkDelete.clear(),this.isAllSelected=!1,this.onActionTableRowSelect(new ht);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let n=new N;n.propertyName="LinkPrivateConfigId",n.value=this.categoryModelSelected.id,t.filters.push(n)}this.contentService.ServiceGetAllEditor(t).subscribe({next:n=>{n.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModelResult=n,this.tableSource.data=n.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(n.access)},1e3)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=P.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Li,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(d,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Oi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new F,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),d=new N;d.propertyName="recordStatus",d.value=me.Available,n.filters.push(d),this.contentService.ServiceGetCount(n).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSupersedesList(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/bankpayment/privatesiteconfig/LinkPrivateConfigId",this.tableRowSelected.id])}onActionButtonMustSupersedesList(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/bankpayment/privatesiteconfig/LinkPrivateConfigId",this.tableRowSelected.id])}onActionButtonNumbersList(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/bankpayment/privatesiteconfig/LinkPrivateConfigId",this.tableRowSelected.id])}onActionButtonPermitionList(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path-permission/LinkApiPathId",this.tableRowSelected.id])}onActionButtonPriceServicesList(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path-pagination/LinkApiPathId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){}onActionButtonScheduleRunInfos(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(!e.scheduleRunInfos||e.scheduleRunInfos.length===0){this.translate.get("MESSAGE.No_Schedule_Run_Infos").subscribe(n=>{this.cmsToastrService.typeWarning(n)});return}this.onActionTableRowSelect(e);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(yi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{scheduleRunInfos:e.scheduleRunInfos,taskSchedulerId:e.id}}).afterClosed().subscribe(n=>{})}onCheckboxChange(e,i){i.checked?this.selectedRowsForBulkDelete.add(e.id):this.selectedRowsForBulkDelete.delete(e.id),this.updateSelectAllState()}isRowSelected(e){return this.selectedRowsForBulkDelete.has(e)}onSelectAllChange(e){this.isAllSelected=e.checked,this.isAllSelected?this.tableSource.data.forEach(i=>{i.id&&this.selectedRowsForBulkDelete.add(i.id)}):this.selectedRowsForBulkDelete.clear()}updateSelectAllState(){if(this.tableSource.data.length===0){this.isAllSelected=!1;return}let e=this.tableSource.data.every(i=>this.selectedRowsForBulkDelete.has(i.id));this.isAllSelected=e}getSelectedCount(){return this.selectedRowsForBulkDelete.size}onActionButtonBulkDelete(){if(this.selectedRowsForBulkDelete.size===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var e="",i="";let t=this.selectedRowsForBulkDelete.size;this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{e=n["MESSAGE.Please_Confirm"],i=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+t+" \u0622\u06CC\u062A\u0645 \u0627\u0646\u062A\u062E\u0627\u0628 \u0634\u062F\u0647 ) "}),this.cmsConfirmationDialogService.confirm(e,i).then(n=>{if(n){let d=this.constructor.name+"BulkDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(E=>{this.publicHelper.processService.processStart(d,E,this.constructorInfoAreaId)});let m=Array.from(this.selectedRowsForBulkDelete);this.contentService.ServiceDeleteList(m).subscribe({next:E=>{E.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.selectedRowsForBulkDelete.clear(),this.isAllSelected=!1,this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:E=>{this.cmsToastrService.typeError(E),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}};Ji.\u0275fac=function(i){return new(i||Ji)(g(Et),g(se),g(le),g(q),g(ae),g(ce),g(J),g(j),g($),g(U),g(ue),g(Q),g(re))},Ji.\u0275cmp=H({type:Ji,selectors:[["app-sms-log-outbox-task-scheduler-list"]],standalone:!1,features:[K],decls:76,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","createdBy"],["matColumnDef","scheduleCron"],["matColumnDef","scheduleSendStart"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","scheduleSendExpire"],["matColumnDef","scheduleSendAllowNextRun"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","scheduleRunInfos"],[4,"matHeaderCellDef"],["class","text-center",4,"matCellDef"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","select"],["matColumnDef","expandedTitle"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"fa-solid","fa-trash-can","font-18",2,"color","#ff0000"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash-can","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"text-center"],["type","button","mat-icon-button","",1,"btn-icon-action",3,"title"],[1,"text-muted","font-12"],["type","button","mat-icon-button","",1,"btn-icon-action",3,"click","title"],[1,"fa-solid","fa-list-check","text-primary","font-18"],[1,"badge","bg-primary","rounded-circle","ms-1"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"change","checked","indeterminate"],[3,"change","click","checked"],[3,"innerHTML"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"]],template:function(i,t){if(i&1){let n=T();r(0,"app-cms-html-list",3),O("optionActionGuideNoticeDisplayChange",function(m){return h(n),B(t.viewGuideNotice,m)||(t.viewGuideNotice=m),_(m)}),x("optionOnActionButtonMemoRow",function(){return h(n),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(n),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(n),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(n),_(t.onActionButtonPrintRow())}),I(1,4),r(2,"app-sms-apipath-tree",5),x("optionChange",function(m){return h(n),_(t.onActionSelectorSelect(m))}),l(),w(),Be(3,6)(4,7),I(5,8),v(6,Im,4,4,"a",9),r(7,"a",10),x("click",function(){return h(n),_(t.viewGuideNotice=!t.viewGuideNotice)}),p(8,"i",11),l(),r(9,"a",10),x("click",function(){return h(n),_(t.onActionButtonReload())}),p(10,"i",12),l(),w(),I(11,13),r(12,"a",14),x("click",function(){return h(n),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),p(13,"mat-slide-toggle",15),u(14),f(15,"translate"),l(),r(16,"a",14),x("click",function(){return h(n),_(t.onActionButtonStatist())}),p(17,"mat-slide-toggle",15),u(18),f(19,"translate"),l(),w(),I(20,16),v(21,wm,7,4,"div",17),w(),I(22,18),v(23,Em,7,3,"div",17),v(24,Rm,7,3,"div",17),v(25,Lm,7,3,"div",17),w(),I(26,19),r(27,"app-cms-search-list",20),O("optionsChange",function(m){return h(n),B(t.optionsSearch,m)||(t.optionsSearch=m),_(m)}),l(),r(28,"app-cms-statist-list",20),O("optionsChange",function(m){return h(n),B(t.optionsStatist,m)||(t.optionsStatist=m),_(m)}),l(),w(),I(29,21),r(30,"mat-table",22,0),x("matSortChange",function(){h(n);let m=z(31);return _(t.onTableSortData(m))}),I(32,23),L(33,Am,2,1,"mat-header-cell",24)(34,ym,2,1,"mat-cell",25),w(),I(35,26),L(36,Dm,2,1,"mat-header-cell",24)(37,Om,5,7,"mat-cell",27),w(),I(38,28),L(39,km,2,1,"mat-header-cell",24)(40,Pm,4,5,"mat-cell",25),w(),I(41,29),L(42,Vm,2,1,"mat-header-cell",24)(43,Nm,2,1,"mat-cell",25),w(),I(44,30),L(45,Gm,2,1,"mat-header-cell",24)(46,Hm,3,3,"mat-cell",31),w(),I(47,32),L(48,Fm,2,1,"mat-header-cell",24)(49,Qm,3,3,"mat-cell",31),w(),I(50,33),L(51,jm,2,1,"mat-header-cell",24)(52,Wm,3,3,"mat-cell",31),w(),I(53,34),L(54,qm,2,1,"mat-header-cell",24)(55,$m,3,3,"mat-cell",31),w(),I(56,35),L(57,Xm,2,1,"mat-header-cell",24)(58,Ym,3,4,"mat-cell",31),w(),I(59,36),L(60,zm,3,3,"mat-header-cell",37)(61,Km,3,1,"mat-cell",38),w(),I(62,39),L(63,Zm,3,3,"mat-header-cell",37)(64,ed,6,1,"mat-cell",40),w(),I(65,41),L(66,td,3,5,"mat-header-cell",37)(67,id,3,4,"mat-cell",25),w(),I(68,42),L(69,vd,22,20,"mat-cell",25),w(),L(70,bd,1,0,"mat-header-row",43)(71,xd,1,2,"mat-row",44)(72,Md,1,2,"mat-row",45),l(),w(),I(73,46),r(74,"mat-paginator",47,1),x("page",function(m){return h(n),_(t.onTablePageingData(m))}),l(),w(),l()}i&2&&(M("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),M("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&t.selectedRowsForBulkDelete.size>0?6:-1),s(4),A("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s(3),M("checked",t.optionsSearch.data.show),s(),C("",S(15,28,"ACTION.SEARCH")," "),s(3),M("checked",t.optionsStatist.data.show),s(),C("",S(19,30,"ACTION.STATIST")," "),s(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&t.selectedRowsForBulkDelete.size>0?21:-1),s(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),s(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),s(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?25:-1),s(2),D("options",t.optionsSearch),s(),D("options",t.optionsStatist),s(2),M("dataSource",t.tableSource),s(40),M("matHeaderRowDef",t.tabledisplayedColumns),s(),M("matRowDefColumns",t.tabledisplayedColumns),s(),M("matRowDefColumns",Z(32,xm)),s(2),M("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Z(33,Mm)))},dependencies:[Le,Dt,qe,vo,Xt,$e,Yt,zt,de,Xe,Ye,ze,Ue,Ke,it,Ze,Je,ot,et,tt,nt,st,fe,Se,rt,at,Mo,lt,Co,W,xo,Ge,mt,ke,ui],encapsulation:2});var po=Ji;var Td=()=>["expandedTitle"],Id=()=>[5,10,20,100];function wd(o,a){if(o&1){let e=T();r(0,"a",46),x("click",function(){h(e);let t=c();return _(t.onActionBackToParent())}),p(1,"i",47),l()}}function Ed(o,a){if(o&1){let e=T();r(0,"div",20)(1,"a",48),x("click",function(){h(e);let t=c();return _(t.onActionButtonEditRow(t.tableRowSelected))}),p(2,"i",49)(3,"br"),l(),r(4,"p",23),u(5),f(6,"translate"),l()()}o&2&&(s(5),C(" ",S(6,1,"ACTION.EDIT")," "))}function Rd(o,a){if(o&1){let e=T();r(0,"div",20)(1,"a",12),x("click",function(){h(e);let t=c();return _(t.onActionButtonDetailRow(t.tableRowSelected))}),p(2,"i",50)(3,"br"),l(),r(4,"p",23),u(5),f(6,"translate"),l()()}o&2&&(s(5),C(" ",S(6,1,"ACTION.DETAIL")," "))}function Ld(o,a){if(o&1){let e=T();r(0,"div",20)(1,"a",51),x("click",function(){h(e);let t=c();return _(t.onActionButtonViewRow())}),p(2,"i",52)(3,"br"),l(),r(4,"p",23),u(5),f(6,"translate"),l()()}o&2&&(s(5),C(" ",S(6,1,"ACTION.VIEW")," "))}function Ad(o,a){if(o&1){let e=T();r(0,"div",20)(1,"a",53),x("click",function(){h(e);let t=c();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),p(2,"i",54)(3,"br"),l(),r(4,"p",23),u(5),f(6,"translate"),l()()}o&2&&(s(5),C(" ",S(6,1,"ACTION.DELETE")," "))}function yd(o,a){if(o&1){let e=T();r(0,"mat-row",55),x("click",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=h(e).$implicit,n=c();return _(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=h(e).$implicit,n=c();return _(n.onActionTableRowMouseLeave(t))}),l()}if(o&2){let e=a.$implicit,i=c();A("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Dd(o,a){if(o&1&&(r(0,"mat-header-cell",56),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Bd(o,a){if(o&1&&(r(0,"mat-cell"),u(1),l()),o&2){let e=a.$implicit;s(),C(" ",e.id," ")}}function Od(o,a){if(o&1&&(r(0,"mat-header-cell",56),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.linkApiPathId==null?null:e.fieldsInfo.linkApiPathId.fieldTitle," ")}}function kd(o,a){if(o&1&&(r(0,"mat-cell"),u(1),f(2,"cmstitle"),l()),o&2){let e=a.$implicit,i=c();s(),C(" ",ei(2,1,e.linkApiPathId,i.dataModelPrivateResult.listItems)," ")}}function Pd(o,a){if(o&1&&(r(0,"mat-header-cell",56),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.message==null?null:e.fieldsInfo.message.fieldTitle," ")}}function Vd(o,a){if(o&1&&(r(0,"mat-cell"),u(1),l()),o&2){let e=a.$implicit;s(),C(" ",e.message," ")}}function Nd(o,a){if(o&1&&(r(0,"mat-header-cell",56),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Gd(o,a){if(o&1&&(r(0,"mat-cell",57),u(1),f(2,"localeDateTime"),l()),o&2){let e=a.$implicit;s(),C(" ",S(2,1,e.createdDate)," ")}}function Hd(o,a){if(o&1&&(r(0,"mat-header-cell",56),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.sendDate==null?null:e.fieldsInfo.sendDate.fieldTitle," ")}}function Fd(o,a){if(o&1&&(r(0,"mat-cell",57),u(1),f(2,"localeDateTime"),l()),o&2){let e=a.$implicit;s(),C(" ",S(2,1,e.sendDate)," ")}}function Qd(o,a){if(o&1&&(r(0,"mat-header-cell",56),u(1),l()),o&2){let e=c();s(),C(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function jd(o,a){if(o&1&&(r(0,"mat-cell",57),u(1),f(2,"localeDateTime"),l()),o&2){let e=a.$implicit;s(),C(" ",S(2,1,e.updatedDate)," ")}}function Wd(o,a){o&1&&(r(0,"mat-header-cell"),u(1),f(2,"translate"),l()),o&2&&(s(),C(" ",S(2,1,"TITLE.OPTION")," "))}function qd(o,a){if(o&1&&(r(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),u(3,"more_vert"),l()(),p(4,"mat-menu",null,2),l()),o&2){let e=z(5);s(),M("matMenuTriggerFor",e)}}function $d(o,a){o&1&&p(0,"mat-header-row")}function Xd(o,a){if(o&1){let e=T();r(0,"mat-row",60),x("click",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=h(e).$implicit,d=c();return _(d.onActionTableRowSelect(n,t))}),l()}if(o&2){let e=a.$implicit,i=c();A("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Yd(o,a){if(o&1&&(r(0,"mat-cell")(1,"div",61),u(2),f(3,"translate"),p(4,"br"),u(5),p(6,"br"),u(7),f(8,"number"),p(9,"br"),u(10),f(11,"number"),p(12,"br"),u(13),f(14,"number"),p(15,"br"),u(16),f(17,"number"),p(18,"br"),u(19),f(20,"number"),p(21,"br"),u(22),f(23,"number"),p(24,"br"),u(25),f(26,"number"),l(),p(27,"div",62),f(28,"prettyLine"),l()),o&2){let e=a.$implicit,i=c();s(2),R(" ",S(3,19,"TITLE.Id")," : ",e.id," "),s(3),R(" ",i.fieldsInfo.countRow==null?null:i.fieldsInfo.countRow.fieldTitle," : ",e.countRow," "),s(2),R(" ",i.fieldsInfo.countSent==null?null:i.fieldsInfo.countSent.fieldTitle," : ",S(8,21,e.countSent)," "),s(3),R(" ",i.fieldsInfo.countDelivery==null?null:i.fieldsInfo.countDelivery.fieldTitle," : ",S(11,23,e.countDelivery)," "),s(3),R(" ",i.fieldsInfo.countCreditBacked==null?null:i.fieldsInfo.countCreditBacked.fieldTitle," : ",S(14,25,e.countCreditBacked)," "),s(3),R(" ",i.fieldsInfo.sumCredit==null?null:i.fieldsInfo.sumCredit.fieldTitle," : ",S(17,27,e.sumCredit)," "),s(3),R(" ",i.fieldsInfo.sumCreditBacked==null?null:i.fieldsInfo.sumCreditBacked.fieldTitle," : ",S(20,29,e.sumCreditBacked)," "),s(3),R(" ",i.fieldsInfo.creditOverPlus==null?null:i.fieldsInfo.creditOverPlus.fieldTitle," : ",S(23,31,e.creditOverPlus)," "),s(3),R(" ",i.fieldsInfo.creditUserBefor==null?null:i.fieldsInfo.creditUserBefor.fieldTitle," : ",S(26,33,e.creditUserBefor)," "),s(2),M("innerHTML",S(28,35,e.message),xt)}}var Ki=class Ki extends pe{constructor(e,i,t,n,d,m,E,X,ne,He,dt,he,ut){super(e,new ft,he,E,ne);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=n;this.smsMainApiPathService=d;this.router=m;this.tokenHelper=E;this.cdr=X;this.translate=ne;this.cmsStoreService=He;this.pageInfo=dt;this.publicHelper=he;this.dialog=ut;this.requestLinkSiteId=0;this.requestLinkApiPathId="";this.requestLinkApiNumberId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new F;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new y;this.dataModelPrivateResult=new y;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkApiPathId","createdDate","SendDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["createdDate","SendDate","updatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:te=>this.onSubmitOptionsSearch(te)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=P.Descending}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")),this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId")&&(this.requestLinkApiNumberId=this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId"));let e=new N;if(this.requestLinkApiPathId?.length>0&&(e.propertyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)),this.requestLinkApiNumberId?.length>0&&(e.propertyName="LinkApiNumberId",e.value=this.requestLinkApiNumberId,this.filteModelContent.filters.push(e)),this.requestLinkSiteId>0){let i=new N;i.propertyName="linkSiteId",i.value=this.requestLinkSiteId,this.filteModelContent.filters.push(i)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>Y(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getPrivateConfig()}getPrivateConfig(){let e=new F;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ft);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new N;t.propertyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=P.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Vi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Gi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate})}onActionButtonDetailRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/sms/log/outbox-detail/LinkOutBoxId",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(d,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new F,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),d=new N;d.propertyName="recordStatus",d.value=me.Available,n.filters.push(d),this.contentService.ServiceGetCount(n).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPriceServicesList(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path-pagination/LinkApiPathId",this.tableRowSelected.linkApiPathId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path-company"])}};Ki.\u0275fac=function(i){return new(i||Ki)(g(We),g(le),g(q),g(ae),g(se),g(ce),g(J),g(j),g($),g(U),g(ue),g(Q),g(re))},Ki.\u0275cmp=H({type:Ki,selectors:[["app-sms-log-outbox-list"]],standalone:!1,features:[K],decls:72,vars:41,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],[1,"badge","bg-red-dark","ms-2","me-2","px-2","py-1","rounded-s","font-11"],[1,"fa-solid","fa-paper-plane","me-1"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkApiPathId"],["matColumnDef","Message"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","SendDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],["mat-sort-header",""],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"col-sm-12","col-md-6"],[1,"col-sm-12","col-md-6",3,"innerHTML"]],template:function(i,t){if(i&1){let n=T();r(0,"app-cms-html-list",3),O("optionActionGuideNoticeDisplayChange",function(m){return h(n),B(t.viewGuideNotice,m)||(t.viewGuideNotice=m),_(m)}),x("optionOnActionButtonMemoRow",function(){return h(n),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(n),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(n),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(n),_(t.onActionButtonPrintRow())}),I(1,4),r(2,"app-sms-apipath-tree",5),x("optionChange",function(m){return h(n),_(t.onActionSelectorSelect(m))}),l(),w(),Be(3,6)(4,7),I(5,8),v(6,wd,2,0,"a",9),r(7,"span",10),p(8,"i",11),u(9),f(10,"translate"),l(),r(11,"a",12),x("click",function(){return h(n),_(t.viewGuideNotice=!t.viewGuideNotice)}),p(12,"i",13),l(),r(13,"a",12),x("click",function(){return h(n),_(t.onActionButtonReload())}),p(14,"i",14),l(),w(),I(15,15),r(16,"a",16),x("click",function(){return h(n),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),p(17,"mat-slide-toggle",17),u(18),f(19,"translate"),l(),r(20,"a",16),x("click",function(){return h(n),_(t.onActionButtonStatist())}),p(21,"mat-slide-toggle",17),u(22),f(23,"translate"),l(),w(),Be(24,18),I(25,19),v(26,Ed,7,3,"div",20),v(27,Rd,7,3,"div",20),v(28,Ld,7,3,"div",20),v(29,Ad,7,3,"div",20),r(30,"div",20)(31,"a",21),x("click",function(){return h(n),_(t.onActionButtonPriceServicesList(t.tableRowSelected))}),p(32,"i",22)(33,"br"),l(),r(34,"p",23),u(35),f(36,"translate"),l()(),w(),I(37,24),r(38,"app-cms-search-list",25),O("optionsChange",function(m){return h(n),B(t.optionsSearch,m)||(t.optionsSearch=m),_(m)}),l(),r(39,"app-cms-statist-list",25),O("optionsChange",function(m){return h(n),B(t.optionsStatist,m)||(t.optionsStatist=m),_(m)}),l(),w(),I(40,26),r(41,"mat-table",27,0),x("matSortChange",function(){h(n);let m=z(42);return _(t.onTableSortData(m))}),L(43,yd,1,2,"mat-row",28),I(44,29),L(45,Dd,2,1,"mat-header-cell",30)(46,Bd,2,1,"mat-cell",31),w(),I(47,32),L(48,Od,2,1,"mat-header-cell",30)(49,kd,3,4,"mat-cell",31),w(),I(50,33),L(51,Pd,2,1,"mat-header-cell",30)(52,Vd,2,1,"mat-cell",31),w(),I(53,34),L(54,Nd,2,1,"mat-header-cell",30)(55,Gd,3,3,"mat-cell",35),w(),I(56,36),L(57,Hd,2,1,"mat-header-cell",30)(58,Fd,3,3,"mat-cell",35),w(),I(59,37),L(60,Qd,2,1,"mat-header-cell",30)(61,jd,3,3,"mat-cell",35),w(),I(62,38),L(63,Wd,3,3,"mat-header-cell",39)(64,qd,6,1,"mat-cell",40),w(),L(65,$d,1,0,"mat-header-row",41)(66,Xd,1,2,"mat-row",42),I(67,43),L(68,Yd,29,37,"mat-cell",31),w(),l(),w(),I(69,44),r(70,"mat-paginator",45,1),x("page",function(m){return h(n),_(t.onTablePageingData(m))}),l(),w(),l()}i&2&&(M("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),M("optionTreeDisplay",!1)("optionTreeDisplay",!t.requestLinkApiPathId||t.requestLinkApiPathId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.message),s(6),b((t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0?6:-1),s(3),C(" ",S(10,31,"ROUTE.SMS.LOG")," "),s(5),A("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s(3),M("checked",t.optionsSearch.data.show),s(),C("",S(19,33,"ACTION.SEARCH")," "),s(3),M("checked",t.optionsStatist.data.show),s(),C("",S(23,35,"ACTION.STATIST")," "),s(4),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?26:-1),s(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?27:-1),s(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?28:-1),s(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?29:-1),s(6),C(" ",S(36,37,"ACTION.PRICE_LIST")," "),s(3),D("options",t.optionsSearch),s(),D("options",t.optionsStatist),s(2),M("dataSource",t.tableSource),s(2),M("matRowDefColumns",Z(39,Td)),s(22),M("matHeaderRowDef",t.tabledisplayedColumns),s(),M("matRowDefColumns",t.tabledisplayedColumns),s(4),M("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Z(40,Id)))},dependencies:[qe,Xt,Yt,zt,de,Xe,Ye,ze,Ue,Ke,it,Ze,Je,ot,et,tt,nt,st,fe,Se,rt,at,lt,ci,W,pi,Ge,mt],encapsulation:2});var ri=Ki;var xn=[{path:"",component:Qi,data:{title:"ROUTE.SMS.LOG"},children:[{path:"inbox",component:si,data:{title:"ROUTE.SMS.LOG"}},{path:"inbox/list/LinkPrivateConfigId/:LinkPrivateConfigId",component:si,data:{title:"ROUTE.SMS.LOG"}},{path:"inbox/list/LinkApiNumberId/:LinkApiNumberId",component:si,data:{title:"ROUTE.SMS.LOG"}},{path:"inbox/list/LinkSiteId/:LinkSiteId",component:si,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox",component:ri,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox/list/LinkPrivateConfigId/:LinkPrivateConfigId",component:ri,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox/list/LinkApiNumberId/:LinkApiNumberId",component:ri,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox/list/LinkSiteId/:LinkSiteId",component:ri,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox-detail/LinkOutBoxId/:LinkOutBoxId",component:Ao,data:{title:"ROUTE.SMS.LOG"}},{path:"api-path/LinkApiPathId/:LinkApiPathId",component:Ro,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox-queue",component:uo,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox-queue/LinkApiPathId/:LinkApiPathId",component:uo,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox-task-scheduler",component:po,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox-task-scheduler/LinkApiPathId/:LinkApiPathId",component:po,data:{title:"ROUTE.SMS.LOG"}}]}];var ai=class ai{};ai.\u0275fac=function(e){return new(e||ai)},ai.\u0275mod=_o({type:ai}),ai.\u0275inj=fo({imports:[Bo.forChild(window.innerWidth<1e3?gn:xn),Bo]});var Do=ai;var li=class li{};li.\u0275fac=function(e){return new(e||li)},li.\u0275mod=_o({type:li}),li.\u0275inj=fo({providers:[zo,je,Uo,ae,en,Jo,It,We,Pt,wt,Et,di,Ko,Zo,se],imports:[$o,Do,on,nn.withConfig({warnOnNgModelWithFormControl:"never"}),cn,dn,rn,sn,an,fn,ln,Sn,hn]});var Mn=li;export{Mn as SmsLogModule};
