import{a as Ri}from"./chunk-XOV3OKPM.js";import{a as it}from"./chunk-ZJL4NDIO.js";import{a as dt}from"./chunk-3FSPTOHV.js";import{a as tt}from"./chunk-IE2SMWCB.js";import{a as et}from"./chunk-CQ4LRZY6.js";import{a as Yo}from"./chunk-RYHEC5KY.js";import{a as Tt}from"./chunk-Q5O46W5X.js";import{a as gt}from"./chunk-KHCYPYQ3.js";import{a as ht}from"./chunk-ECYR5XCK.js";import{a as _t}from"./chunk-QGQZO7XF.js";import{c as Ke,d as $e,e as Xe,g as Ye,h as Ze}from"./chunk-FCVOEZR2.js";import{a as ct}from"./chunk-54S5FV75.js";import{a as mt}from"./chunk-4YRZRDFJ.js";import{a as lt}from"./chunk-R7TPZM3A.js";import{b as ze,d as Je}from"./chunk-PVCY3OZB.js";import{a as Ct}from"./chunk-LI37UUJ7.js";import"./chunk-4U6I2Z6G.js";import{a as wt}from"./chunk-HFRDQGUA.js";import"./chunk-NHABYHOC.js";import{a as ge}from"./chunk-GZBNP6Y7.js";import{a as Qe}from"./chunk-KBQX27H2.js";import{a as ee,d as te}from"./chunk-TX227Y4U.js";import{b as at,e as We,f as q}from"./chunk-2DIZYDRP.js";import{$a as _e,Ab as Ve,Ba as So,Bb as Oe,Ca as Co,Cb as Pe,D as Ei,Da as ho,Db as Ge,E as Ai,Eb as Ne,Fb as He,G as ki,Gb as Fe,Hb as je,Ib as qe,Ka as Y,La as Z,Lc as H,Ma as Ae,N as Ko,O as $o,Oc as F,Qc as j,Tc as Xo,W as yi,Wb as G,Xb as N,Z as fo,Za as ke,ba as Ee,eb as ye,fb as Re,ib as De,m as uo,n as Ii,nb as Le,pb as xe,q as Mi,qb as Ue,r as Qo,t as zo,v as wi,w as Jo,zb as Be}from"./chunk-PZIDJ2FQ.js";import{$d as rt,Ab as u,Ba as It,Cd as Ho,Dd as Me,Eb as K,Fa as n,Fb as $,Fe as Wo,Gb as X,Gd as Lt,Hd as L,Kb as Q,Lc as nt,Ld as x,Mb as oe,Md as we,Oa as f,Pb as m,Qb as pt,Rb as d,Rc as St,Sa as V,Sb as bi,Ta as po,Tc as Te,Vb as y,Wa as J,Wb as R,Xb as D,Y as mo,Ya as M,Yd as B,_c as Fo,ac as ve,af as Vt,bc as he,bf as Ot,cf as Pt,da as S,df as Gt,ea as C,fb as w,fc as h,ff as Mt,gb as E,gc as g,hc as ae,ib as yt,ig as Wt,jb as Rt,jg as Qt,kb as Dt,ke as xt,kg as st,lb as v,le as Ut,mb as a,me as Bt,mr as W,nb as s,ob as _,re as z,sb as T,tb as b,ub as re,ud as be,uf as Nt,vb as A,vd as jo,ve as qo,vf as Ht,wd as Ie,wf as Ft,xf as jt,yb as I,yc as P,yf as bt,zf as qt}from"./chunk-44NLGLKY.js";import{i as O}from"./chunk-SEDBTTTN.js";var nn=["vform"];function rn(i,r){if(i&1){let e=A();a(0,"app-cms-enum-record-status-selector",7),D("modelChange",function(t){S(e);let l=u();return R(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),C(t)}),s()}if(i&2){let e=u();y("model",e.dataModel.recordStatus),v("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function sn(i,r){if(i&1){let e=A();a(0,"div",6)(1,"button",8),I("click",function(){S(e);let t=u();return C(t.onFormCancel())}),_(2,"i",9),m(3),h(4,"translate"),s()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var Di=class Di extends ct{constructor(e,o,t,l,p,c,U,ne,ie,ce){super(l,new Wt,ce,ie);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenActivationService=l;this.cmsToastrService=p;this.tokenHelper=c;this.cmsStoreService=U;this.cdr=ne;this.translate=ie;this.publicHelper=ce;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new L;this.dataModel=new Wt;this.formInfo=new te;this.dataModelEnumManageUserAccessAreaTypesResult=new L;this.dataModelEnumManageUserAccessUserTypesResult=new L;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.setAccessDataType(rt.Editor),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Di.\u0275fac=function(o){return new(o||Di)(f(Z),f(Y),f(z),f(Vt),f(j),f(F),f(H),f(P),f(G),f(q))},Di.\u0275cmp=V({type:Di,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&K(nn,5),o&2){let l;$(l=X())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),_(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),h(7,"translate"),s(),w(8,rn,1,5,"app-cms-enum-record-status-selector",4),_(9,"app-cms-site-selector",5),h(10,"translate"),_(11,"app-cms-user-selector",5),h(12,"translate"),w(13,sn,5,3,"div",6),s()()),o&2&&(n(),v("optionsInfoAreaId",t.constructorInfoAreaId),n(3),d(" ",t.formInfo.formTitle," "),n(2),d(" ",g(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),E(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?8:-1),n(),v("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",g(10,13,"TITLE.WEBSITE")),n(2),v("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",g(12,15,"TITLE.USER")),n(2),E(t.formInfo.submitButtonEnabled?13:-1))},dependencies:[lt,Ct,mt,ee,N],encapsulation:2});var _o=Di;var an=["vform"];function ln(i,r){if(i&1){let e=A();a(0,"div",7)(1,"button",8),I("click",function(){S(e);let t=u();return C(t.onFormCancel())}),_(2,"i",9),m(3),h(4,"translate"),s()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var xi=class xi{constructor(r,e,o,t,l,p,c,U,ne,ie){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreTokenActivationService=t;this.cmsToastrService=l;this.tokenHelper=p;this.cmsStoreService=c;this.cdr=U;this.publicHelper=ne;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new L;this.dataModel=new Wt;this.formInfo=new te;this.dataModelEnumSendSmsStatusTypeResult=new L;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("aaaaaaaaaTITLE.VIEWaaaaa").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>O(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};xi.\u0275fac=function(e){return new(e||xi)(f(Z),f(Y),f(z),f(Vt),f(j),f(F),f(H),f(P),f(q),f(G))},xi.\u0275cmp=V({type:xi,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&K(an,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),_(6,"app-cms-form-result-message",5),s(),a(7,"div",6),w(8,ln,5,3,"div",7),s()),e&2&&(n(),d(" ",o.formInfo.formTitle," "),n(2),v("optionsInfoAreaId",o.constructorInfoAreaId),n(),v("dataModel",o.dataModel)("optionMethod",1),n(2),v("formInfo",o.formInfo),n(2),E(o.formInfo.submitButtonEnabled?8:-1))},dependencies:[ee,dt,Qe,N],encapsulation:2});var go=xi;var cn=()=>[5,10,20,100],mn=i=>({display:i}),dn=i=>({background:i});function pn(i,r){if(i&1&&_(0,"app-core-user-header",3),i&2){let e=u();v("optionId",e.requestLinkUserId)}}function un(i,r){if(i&1){let e=A();a(0,"a",51),I("click",function(){S(e);let t=u();return C(t.onActionBackToParent())}),_(1,"i",52),s()}}function fn(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",53),I("click",function(){S(e);let t=u();return C(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",54)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.EDIT")," "))}function Sn(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",55),I("click",function(){S(e);let t=u();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",56)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.DELETE")," "))}function Cn(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",57),I("click",function(){S(e);let t=u();return C(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",58)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.VIEW")," "))}function hn(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function _n(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),d(" ",e.id," ")}}function gn(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function vn(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmssiteinfo"),h(3,"async"),s()),i&2){let e=r.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function Tn(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function bn(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmsuserinfo"),h(3,"async"),s()),i&2){let e=r.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function In(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Mn(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),d(" ",e.linkMemberUserId," ")}}function wn(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function En(i,r){if(i&1&&_(0,"select",61),i&2){let e=u().$implicit,o=u();v("contentService",o.contentService)("row",e)("ngStyle",he(3,mn,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function An(i,r){if(i&1&&(a(0,"mat-cell",60),h(1,"statusCellClass"),_(2,"i",60),h(3,"statusIconClass"),w(4,En,1,5,"select",61),s()),i&2){let e=r.$implicit,o=u();v("ngClass",g(1,3,e.recordStatus)),n(2),v("ngClass",g(3,5,e.recordStatus)),n(2),E(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessEditRow?4:-1)}}function kn(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function yn(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=r.$implicit,o=u();n(),d(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Rn(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function Dn(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=r.$implicit,o=u();n(),d(" ",ae(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Ln(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function xn(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",60),h(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),v("ngClass",g(2,1,e.userAccessAdminAllowToAllData))}}function Un(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Bn(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",60),h(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),v("ngClass",g(2,1,e.userAccessAdminAllowToProfessionalData))}}function Vn(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function On(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",60),h(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),v("ngClass",g(2,1,e.rememberOnDevice))}}function Pn(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Gn(i,r){if(i&1&&(a(0,"mat-cell",62),m(1),h(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),d(" ",g(2,1,e.createdDate)," ")}}function Nn(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Hn(i,r){if(i&1&&(a(0,"mat-cell",63),m(1),h(2,"persianDate"),s()),i&2){let e=r.$implicit,o=u();v("ngStyle",he(4,dn,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),d(" ",g(2,2,e.expireDate)," ")}}function Fn(i,r){i&1&&(a(0,"mat-header-cell"),m(1),h(2,"translate"),s()),i&2&&(n(),d(" ",g(2,1,"TITLE.OPTION")," "))}function jn(i,r){if(i&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),m(3,"more_vert"),s()(),_(4,"mat-menu",null,2),s()),i&2){let e=Q(5);n(),v("matMenuTriggerFor",e)}}function qn(i,r){i&1&&_(0,"mat-header-row")}function Wn(i,r){if(i&1){let e=A();a(0,"mat-row",66),I("click",function(t){let l=S(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=S(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=u();oe("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Ui=class Ui extends Ke{constructor(e,o,t,l,p,c,U,ne,ie,ce,ot,Et){super(e,new Wt,ot,p,U);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=p;this.cdr=c;this.translate=U;this.cmsStoreService=ne;this.router=ie;this.pageInfo=ce;this.publicHelper=ot;this.dialog=Et;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new we;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new L;this.dataModelEnumManageUserAccessUserTypesResult=new L;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let k=new x;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new x;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestLinkDeviceId>0){let k=new x;k.propertyName="LinkDeviceId",k.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=B.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=B.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Wt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new x;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new x;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new x;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(go,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(_o,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(U=>{o.set(U,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),p=new x;p.propertyName="recordStatus",p.value=Me.Available,l.filters.push(p),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(U=>{o.set(U,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ui.\u0275fac=function(o){return new(o||Ui)(f(Vt),f(j),f(ge),f(be),f(F),f(P),f(G),f(H),f(Ie),f(We),f(q),f(Ae))},Ui.\u0275cmp=V({type:Ui,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[J],decls:89,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=A();w(0,pn,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),D("optionActionGuideNoticeDisplayChange",function(c){return S(l),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),I("optionOnActionButtonMemoRow",function(){return S(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(l),C(t.onActionButtonPrintRow())}),T(2,5),m(3," -------------------------------------- "),b(),re(4,6)(5,7),T(6,8),w(7,un,2,0,"a",9),a(8,"a",10),I("click",function(){return S(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),_(9,"i",11),s(),a(10,"a",10),I("click",function(){return S(l),C(t.onActionButtonReload())}),_(11,"i",12),s(),b(),T(12,13),a(13,"a",14),I("click",function(){return S(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(14,"mat-slide-toggle",15),m(15),h(16,"translate"),s(),a(17,"a",14),I("click",function(){return S(l),C(t.onActionButtonStatist())}),_(18,"mat-slide-toggle",15),m(19),h(20,"translate"),s(),b(),re(21,16),T(22,17),w(23,fn,7,3,"div",18),w(24,Sn,7,3,"div",18),a(25,"div",18)(26,"a",19),I("click",function(){return S(l),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),_(27,"i",20),s(),a(28,"p",21),m(29),h(30,"translate"),s()(),a(31,"div",18)(32,"a",19),I("click",function(){return S(l),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),_(33,"i",22)(34,"br"),s(),a(35,"p",21),m(36),h(37,"translate"),s()(),w(38,Cn,7,3,"div",18),b(),T(39,23),a(40,"app-cms-search-list",24),D("optionsChange",function(c){return S(l),R(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(41,"app-cms-statist-list",24),D("optionsChange",function(c){return S(l),R(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),T(42,25),a(43,"mat-table",26,0),I("matSortChange",function(){S(l);let c=Q(44);return C(t.onTableSortData(c))}),T(45,27),M(46,hn,2,1,"mat-header-cell",28)(47,_n,2,1,"mat-cell",29),b(),T(48,30),M(49,gn,2,1,"mat-header-cell",28)(50,vn,4,5,"mat-cell",29),b(),T(51,31),M(52,Tn,2,1,"mat-header-cell",28)(53,bn,4,5,"mat-cell",29),b(),T(54,32),M(55,In,2,1,"mat-header-cell",28)(56,Mn,2,1,"mat-cell",29),b(),T(57,33),M(58,wn,2,1,"mat-header-cell",28)(59,An,5,7,"mat-cell",34),b(),T(60,35),M(61,kn,2,1,"mat-header-cell",28)(62,yn,3,4,"mat-cell",29),b(),T(63,36),M(64,Rn,2,1,"mat-header-cell",28)(65,Dn,3,4,"mat-cell",29),b(),T(66,37),M(67,Ln,2,1,"mat-header-cell",28)(68,xn,3,3,"mat-cell",29),b(),T(69,38),M(70,Un,2,1,"mat-header-cell",28)(71,Bn,3,3,"mat-cell",29),b(),T(72,39),M(73,Vn,2,1,"mat-header-cell",28)(74,On,3,3,"mat-cell",29),b(),T(75,40),M(76,Pn,2,1,"mat-header-cell",28)(77,Gn,3,3,"mat-cell",41),b(),T(78,42),M(79,Nn,2,1,"mat-header-cell",28)(80,Hn,3,6,"mat-cell",43),b(),T(81,44),M(82,Fn,3,3,"mat-header-cell",45)(83,jn,6,1,"mat-cell",46),b(),M(84,qn,1,0,"mat-header-row",47)(85,Wn,1,2,"mat-row",48),s(),b(),T(86,49),a(87,"mat-paginator",50,1),I("page",function(c){return S(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(E(t.requestLinkUserId>0?0:-1),n(),v("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),v("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),E(t.requestLinkSiteId>0?7:-1),n(4),oe("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),v("checked",t.optionsSearch.data.show),n(),d("",g(16,29,"ACTION.SEARCH")," "),n(3),v("checked",t.optionsStatist.data.show),n(),d("",g(20,31,"ACTION.STATIST")," "),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),n(5),d(" ",g(30,33,"ACTION.SITE")," "),n(7),d(" ",g(37,35,"ACTION.USER")," "),n(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?38:-1),n(2),y("options",t.optionsSearch),n(),y("options",t.optionsStatist),n(2),v("dataSource",t.tableSource),n(41),v("matHeaderRowDef",t.tabledisplayedColumns),n(),v("matRowDefColumns",t.tabledisplayedColumns),n(2),v("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(37,cn)))},dependencies:[nt,St,Ee,ke,_e,ye,Re,De,Le,xe,Ue,Be,Oe,He,Pe,Ve,Fe,Ge,Ne,je,qe,$e,Xe,Ye,Ze,ht,tt,Te,N,Tt,it,ze,et,Je,_t,gt,at],encapsulation:2});var vo=Ui;var Pi=class Pi{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};Pi.\u0275fac=function(e){return new(e||Pi)},Pi.\u0275cmp=V({type:Pi,selectors:[["app-core-token"]],standalone:!1,decls:1,vars:0,template:function(e,o){e&1&&_(0,"router-outlet")},dependencies:[jo],encapsulation:2});var To=Pi;var Qn=["vform"];function zn(i,r){if(i&1){let e=A();a(0,"app-cms-enum-record-status-selector",7),D("modelChange",function(t){S(e);let l=u();return R(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),C(t)}),s()}if(i&2){let e=u();y("model",e.dataModel.recordStatus),v("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Jn(i,r){if(i&1){let e=A();a(0,"div",6)(1,"button",8),I("click",function(){S(e);let t=u();return C(t.onFormCancel())}),_(2,"i",9),m(3),h(4,"translate"),s()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var Gi=class Gi extends ct{constructor(e,o,t,l,p,c,U,ne,ie,ce){super(l,new jt,c,ce);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreLogTokenMicroServiceService=l;this.cmsToastrService=p;this.publicHelper=c;this.cdr=U;this.tokenHelper=ne;this.cmsStoreService=ie;this.translate=ce;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new L;this.dataModel=new jt;this.formInfo=new te;this.dataModelEnumManageUserAccessAreaTypesResult=new L;this.dataModelEnumManageUserAccessUserTypesResult=new L;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreLogTokenMicroServiceService.setAccessLoad(),this.coreLogTokenMicroServiceService.setAccessDataType(rt.Editor),this.coreLogTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Gi.\u0275fac=function(o){return new(o||Gi)(f(Z),f(Y),f(z),f(Ut),f(j),f(q),f(P),f(F),f(H),f(G))},Gi.\u0275cmp=V({type:Gi,selectors:[["app-coretoken-microservicelog-edit"]],viewQuery:function(o,t){if(o&1&&K(Qn,5),o&2){let l;$(l=X())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),_(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),h(7,"translate"),s(),w(8,zn,1,5,"app-cms-enum-record-status-selector",4),_(9,"app-cms-site-selector",5),h(10,"translate"),_(11,"app-cms-user-selector",5),h(12,"translate"),w(13,Jn,5,3,"div",6),s()()),o&2&&(n(),v("optionsInfoAreaId",t.constructorInfoAreaId),n(3),d(" ",t.formInfo.formTitle," "),n(2),d(" ",g(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),E(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?8:-1),n(),v("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",g(10,13,"TITLE.WEBSITE")),n(2),v("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",g(12,15,"TITLE.USER")),n(2),E(t.formInfo.submitButtonEnabled?13:-1))},dependencies:[lt,Ct,mt,ee,N],encapsulation:2});var bo=Gi;var Kn=["vform"];function $n(i,r){if(i&1){let e=A();a(0,"div",7)(1,"button",8),I("click",function(){S(e);let t=u();return C(t.onFormCancel())}),_(2,"i",9),m(3),h(4,"translate"),s()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var Ni=class Ni{constructor(r,e,o,t,l,p,c,U,ne,ie){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreLogTokenMicroServiceService=t;this.cmsToastrService=l;this.tokenHelper=p;this.cmsStoreService=c;this.cdr=U;this.publicHelper=ne;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new L;this.dataModel=new jt;this.formInfo=new te;this.dataModelEnumSendSmsStatusTypeResult=new L;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>O(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreLogTokenMicroServiceService.setAccessLoad(),this.coreLogTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ni.\u0275fac=function(e){return new(e||Ni)(f(Z),f(Y),f(z),f(Ut),f(j),f(F),f(H),f(P),f(q),f(G))},Ni.\u0275cmp=V({type:Ni,selectors:[["app-core-token-microservicelog-view"]],viewQuery:function(e,o){if(e&1&&K(Kn,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),_(6,"app-cms-form-result-message",5),s(),a(7,"div",6),w(8,$n,5,3,"div",7),s()),e&2&&(n(),d(" ",o.formInfo.formTitle," "),n(2),v("optionsInfoAreaId",o.constructorInfoAreaId),n(),v("dataModel",o.dataModel)("optionMethod",1),n(2),v("formInfo",o.formInfo),n(2),E(o.formInfo.submitButtonEnabled?8:-1))},dependencies:[ee,dt,Qe,N],encapsulation:2});var Io=Ni;var Xn=()=>[5,10,20,100],Yn=i=>({display:i}),Zn=i=>({background:i});function er(i,r){if(i&1&&_(0,"app-core-user-header",3),i&2){let e=u();v("optionId",e.requestLinkUserId)}}function tr(i,r){if(i&1){let e=A();a(0,"a",51),I("click",function(){S(e);let t=u();return C(t.onActionBackToParent())}),_(1,"i",52),s()}}function ir(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",53),I("click",function(){S(e);let t=u();return C(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",54)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.EDIT")," "))}function or(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",55),I("click",function(){S(e);let t=u();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",56)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.DELETE")," "))}function nr(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",57),I("click",function(){S(e);let t=u();return C(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",58)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.VIEW")," "))}function rr(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function sr(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),d(" ",e.id," ")}}function ar(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function lr(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmssiteinfo"),h(3,"async"),s()),i&2){let e=r.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function cr(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function mr(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmsuserinfo"),h(3,"async"),s()),i&2){let e=r.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function dr(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function pr(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),d(" ",e.linkMemberUserId," ")}}function ur(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function fr(i,r){if(i&1&&_(0,"select",61),i&2){let e=u().$implicit,o=u();v("contentService",o.contentService)("row",e)("ngStyle",he(3,Yn,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Sr(i,r){if(i&1&&(a(0,"mat-cell",60),h(1,"statusCellClass"),_(2,"i",60),h(3,"statusIconClass"),w(4,fr,1,5,"select",61),s()),i&2){let e=r.$implicit,o=u();v("ngClass",g(1,3,e.recordStatus)),n(2),v("ngClass",g(3,5,e.recordStatus)),n(2),E(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessEditRow?4:-1)}}function Cr(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function hr(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=r.$implicit,o=u();n(),d(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function _r(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function gr(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=r.$implicit,o=u();n(),d(" ",ae(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function vr(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Tr(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",60),h(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),v("ngClass",g(2,1,e.userAccessAdminAllowToAllData))}}function br(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Ir(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",60),h(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),v("ngClass",g(2,1,e.userAccessAdminAllowToProfessionalData))}}function Mr(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function wr(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",60),h(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),v("ngClass",g(2,1,e.rememberOnDevice))}}function Er(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Ar(i,r){if(i&1&&(a(0,"mat-cell",62),m(1),h(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),d(" ",g(2,1,e.createdDate)," ")}}function kr(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function yr(i,r){if(i&1&&(a(0,"mat-cell",63),m(1),h(2,"persianDate"),s()),i&2){let e=r.$implicit,o=u();v("ngStyle",he(4,Zn,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),d(" ",g(2,2,e.expireDate)," ")}}function Rr(i,r){i&1&&(a(0,"mat-header-cell"),m(1),h(2,"translate"),s()),i&2&&(n(),d(" ",g(2,1,"TITLE.OPTION")," "))}function Dr(i,r){if(i&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),m(3,"more_vert"),s()(),_(4,"mat-menu",null,2),s()),i&2){let e=Q(5);n(),v("matMenuTriggerFor",e)}}function Lr(i,r){i&1&&_(0,"mat-header-row")}function xr(i,r){if(i&1){let e=A();a(0,"mat-row",66),I("click",function(t){let l=S(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=S(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=u();oe("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Hi=class Hi extends Ke{constructor(e,o,t,l,p,c,U,ne,ie,ce,ot,Et){super(e,new jt,ot,p,U);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=p;this.cdr=c;this.translate=U;this.cmsStoreService=ne;this.router=ie;this.pageInfo=ce;this.publicHelper=ot;this.dialog=Et;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new we;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new L;this.dataModelEnumManageUserAccessUserTypesResult=new L;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let k=new x;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new x;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestLinkDeviceId>0){let k=new x;k.propertyName="LinkDeviceId",k.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=B.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=B.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new jt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new x;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new x;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new x;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Io,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(bo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(U=>{o.set(U,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),p=new x;p.propertyName="recordStatus",p.value=Me.Available,l.filters.push(p),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(U=>{o.set(U,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Hi.\u0275fac=function(o){return new(o||Hi)(f(Ut),f(j),f(ge),f(be),f(F),f(P),f(G),f(H),f(Ie),f(We),f(q),f(Ae))},Hi.\u0275cmp=V({type:Hi,selectors:[["app-coretoken-microservicelog-list"]],standalone:!1,features:[J],decls:86,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=A();w(0,er,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),D("optionActionGuideNoticeDisplayChange",function(c){return S(l),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),I("optionOnActionButtonMemoRow",function(){return S(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(l),C(t.onActionButtonPrintRow())}),T(2,5),m(3," -------------------------------------- "),b(),re(4,6)(5,7),T(6,8),w(7,tr,2,0,"a",9),a(8,"a",10),I("click",function(){return S(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),_(9,"i",11),s(),a(10,"a",10),I("click",function(){return S(l),C(t.onActionButtonReload())}),_(11,"i",12),s(),b(),T(12,13),a(13,"a",14),I("click",function(){return S(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(14,"mat-slide-toggle",15),m(15),h(16,"translate"),s(),b(),re(17,16),T(18,17),w(19,ir,7,3,"div",18),w(20,or,7,3,"div",18),a(21,"div",18)(22,"a",19),I("click",function(){return S(l),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),_(23,"i",20)(24,"br"),s(),a(25,"p",21),m(26),h(27,"translate"),s()(),a(28,"div",18)(29,"a",19),I("click",function(){return S(l),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),_(30,"i",22)(31,"br"),s(),a(32,"p",21),m(33),h(34,"translate"),s()(),w(35,nr,7,3,"div",18),b(),T(36,23),a(37,"app-cms-search-list",24),D("optionsChange",function(c){return S(l),R(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(38,"app-cms-statist-list",24),D("optionsChange",function(c){return S(l),R(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),T(39,25),a(40,"mat-table",26,0),I("matSortChange",function(){S(l);let c=Q(41);return C(t.onTableSortData(c))}),T(42,27),M(43,rr,2,1,"mat-header-cell",28)(44,sr,2,1,"mat-cell",29),b(),T(45,30),M(46,ar,2,1,"mat-header-cell",28)(47,lr,4,5,"mat-cell",29),b(),T(48,31),M(49,cr,2,1,"mat-header-cell",28)(50,mr,4,5,"mat-cell",29),b(),T(51,32),M(52,dr,2,1,"mat-header-cell",28)(53,pr,2,1,"mat-cell",29),b(),T(54,33),M(55,ur,2,1,"mat-header-cell",28)(56,Sr,5,7,"mat-cell",34),b(),T(57,35),M(58,Cr,2,1,"mat-header-cell",28)(59,hr,3,4,"mat-cell",29),b(),T(60,36),M(61,_r,2,1,"mat-header-cell",28)(62,gr,3,4,"mat-cell",29),b(),T(63,37),M(64,vr,2,1,"mat-header-cell",28)(65,Tr,3,3,"mat-cell",29),b(),T(66,38),M(67,br,2,1,"mat-header-cell",28)(68,Ir,3,3,"mat-cell",29),b(),T(69,39),M(70,Mr,2,1,"mat-header-cell",28)(71,wr,3,3,"mat-cell",29),b(),T(72,40),M(73,Er,2,1,"mat-header-cell",28)(74,Ar,3,3,"mat-cell",41),b(),T(75,42),M(76,kr,2,1,"mat-header-cell",28)(77,yr,3,6,"mat-cell",43),b(),T(78,44),M(79,Rr,3,3,"mat-header-cell",45)(80,Dr,6,1,"mat-cell",46),b(),M(81,Lr,1,0,"mat-header-row",47)(82,xr,1,2,"mat-row",48),s(),b(),T(83,49),a(84,"mat-paginator",50,1),I("page",function(c){return S(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(E(t.requestLinkUserId>0?0:-1),n(),v("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),v("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),E(t.requestLinkSiteId>0?7:-1),n(4),oe("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),v("checked",t.optionsSearch.data.show),n(),d("",g(16,27,"ACTION.SEARCH")," "),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?19:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?20:-1),n(6),d(" ",g(27,29,"ACTION.SITE")," "),n(7),d(" ",g(34,31,"ACTION.USER")," "),n(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?35:-1),n(2),y("options",t.optionsSearch),n(),y("options",t.optionsStatist),n(2),v("dataSource",t.tableSource),n(41),v("matHeaderRowDef",t.tabledisplayedColumns),n(),v("matRowDefColumns",t.tabledisplayedColumns),n(2),v("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(33,Xn)))},dependencies:[nt,St,Ee,ke,_e,ye,Re,De,Le,xe,Ue,Be,Oe,He,Pe,Ve,Fe,Ge,Ne,je,qe,$e,Xe,Ye,Ze,ht,tt,Te,N,Tt,it,ze,et,Je,_t,gt,at],encapsulation:2});var Mo=Hi;var Ur=["vform"];function Br(i,r){if(i&1){let e=A();a(0,"app-cms-enum-record-status-selector",7),D("modelChange",function(t){S(e);let l=u();return R(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),C(t)}),s()}if(i&2){let e=u();y("model",e.dataModel.recordStatus),v("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Vr(i,r){if(i&1&&(a(0,"div"),_(1,"div",8),h(2,"prettyjson"),s()),i&2){let e=u();n(),v("innerHTML",g(2,1,e.dataModel),It)}}function Or(i,r){if(i&1){let e=A();a(0,"div",6)(1,"button",9),I("click",function(){S(e);let t=u();return C(t.onFormCancel())}),_(2,"i",10),m(3),h(4,"translate"),s()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var Fi=class Fi extends ct{constructor(e,o,t,l,p,c,U,ne,ie,ce){super(l,new Ft,ie,ce);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenMicroServiceService=l;this.cmsToastrService=p;this.tokenHelper=c;this.cmsStoreService=U;this.cdr=ne;this.publicHelper=ie;this.translate=ce;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Lt;this.dataModel=new Ft;this.formInfo=new te;this.dataModelEnumManageUserAccessAreaTypesResult=new L;this.dataModelEnumManageUserAccessUserTypesResult=new L;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.setAccessDataType(rt.Editor),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Fi.\u0275fac=function(o){return new(o||Fi)(f(Z),f(Y),f(z),f(Gt),f(j),f(F),f(H),f(P),f(q),f(G))},Fi.\u0275cmp=V({type:Fi,selectors:[["app-coretoken-microservice-edit"]],viewQuery:function(o,t){if(o&1&&K(Ur,5),o&2){let l;$(l=X())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:15,vars:18,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),_(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),h(7,"translate"),s(),w(8,Br,1,5,"app-cms-enum-record-status-selector",4),_(9,"app-cms-site-selector",5),h(10,"translate"),_(11,"app-cms-user-selector",5),h(12,"translate"),w(13,Vr,3,3,"div"),w(14,Or,5,3,"div",6),s()()),o&2&&(n(),v("optionsInfoAreaId",t.constructorInfoAreaId),n(3),d(" ",t.formInfo.formTitle," "),n(2),d(" ",g(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),E(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?8:-1),n(),v("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",g(10,14,"TITLE.WEBSITE")),n(2),v("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",g(12,16,"TITLE.USER")),n(2),E(t.tokenInfo.access.userAccessAdminAllowToProfessionalData?13:-1),n(),E(t.formInfo.submitButtonEnabled?14:-1))},dependencies:[lt,Ct,mt,ee,N,wt],encapsulation:2});var wo=Fi;var Pr=["vform"];function Gr(i,r){if(i&1){let e=A();a(0,"div",7)(1,"button",8),I("click",function(){S(e);let t=u();return C(t.onFormCancel())}),_(2,"i",9),m(3),h(4,"translate"),s()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var ji=class ji{constructor(r,e,o,t,l,p,c,U,ne,ie){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreTokenMicroServiceService=t;this.cmsToastrService=l;this.tokenHelper=p;this.cmsStoreService=c;this.cdr=U;this.publicHelper=ne;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new L;this.dataModel=new Ft;this.formInfo=new te;this.dataModelEnumSendSmsStatusTypeResult=new L;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>O(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ji.\u0275fac=function(e){return new(e||ji)(f(Z),f(Y),f(z),f(Gt),f(j),f(F),f(H),f(P),f(q),f(G))},ji.\u0275cmp=V({type:ji,selectors:[["app-coretoken-microservice-view"]],viewQuery:function(e,o){if(e&1&&K(Pr,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),_(6,"app-cms-form-result-message",5),s(),a(7,"div",6),w(8,Gr,5,3,"div",7),s()),e&2&&(n(),d(" ",o.formInfo.formTitle," "),n(2),v("optionsInfoAreaId",o.constructorInfoAreaId),n(),v("dataModel",o.dataModel)("optionMethod",1),n(2),v("formInfo",o.formInfo),n(2),E(o.formInfo.submitButtonEnabled?8:-1))},dependencies:[ee,dt,Qe,N],encapsulation:2});var Ao=ji;var Nr=()=>[5,10,20,100],Hr=i=>({display:i}),Fr=i=>({background:i});function jr(i,r){if(i&1&&_(0,"app-core-user-header",3),i&2){let e=u();v("optionId",e.requestLinkUserId)}}function qr(i,r){if(i&1){let e=A();a(0,"a",51),I("click",function(){S(e);let t=u();return C(t.onActionBackToParent())}),_(1,"i",52),s()}}function Wr(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",53),I("click",function(){S(e);let t=u();return C(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",54)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.EDIT")," "))}function Qr(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",55),I("click",function(){S(e);let t=u();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",56)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.DELETE")," "))}function zr(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",57),I("click",function(){S(e);let t=u();return C(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",58)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.VIEW")," "))}function Jr(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Kr(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),d(" ",e.id," ")}}function $r(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Xr(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmssiteinfo"),h(3,"async"),s()),i&2){let e=r.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function Yr(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Zr(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmsuserinfo"),h(3,"async"),s()),i&2){let e=r.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function es(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function ts(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),d(" ",e.linkMemberUserId," ")}}function is(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function os(i,r){if(i&1&&_(0,"select",61),i&2){let e=u().$implicit,o=u();v("contentService",o.contentService)("row",e)("ngStyle",he(3,Hr,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function ns(i,r){if(i&1&&(a(0,"mat-cell",60),h(1,"statusCellClass"),_(2,"i",60),h(3,"statusIconClass"),w(4,os,1,5,"select",61),s()),i&2){let e=r.$implicit,o=u();v("ngClass",g(1,3,e.recordStatus)),n(2),v("ngClass",g(3,5,e.recordStatus)),n(2),E(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessEditRow?4:-1)}}function rs(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function ss(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=r.$implicit,o=u();n(),d(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function as(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function ls(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=r.$implicit,o=u();n(),d(" ",ae(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function cs(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function ms(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",60),h(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),v("ngClass",g(2,1,e.userAccessAdminAllowToAllData))}}function ds(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function ps(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",60),h(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),v("ngClass",g(2,1,e.userAccessAdminAllowToProfessionalData))}}function us(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function fs(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",60),h(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),v("ngClass",g(2,1,e.rememberOnDevice))}}function Ss(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Cs(i,r){if(i&1&&(a(0,"mat-cell",62),m(1),h(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),d(" ",g(2,1,e.createdDate)," ")}}function hs(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function _s(i,r){if(i&1&&(a(0,"mat-cell",63),m(1),h(2,"persianDate"),s()),i&2){let e=r.$implicit,o=u();v("ngStyle",he(4,Fr,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),d(" ",g(2,2,e.expireDate)," ")}}function gs(i,r){i&1&&(a(0,"mat-header-cell"),m(1),h(2,"translate"),s()),i&2&&(n(),d(" ",g(2,1,"TITLE.OPTION")," "))}function vs(i,r){if(i&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),m(3,"more_vert"),s()(),_(4,"mat-menu",null,2),s()),i&2){let e=Q(5);n(),v("matMenuTriggerFor",e)}}function Ts(i,r){i&1&&_(0,"mat-header-row")}function bs(i,r){if(i&1){let e=A();a(0,"mat-row",66),I("click",function(t){let l=S(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=S(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=u();oe("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var qi=class qi extends Ke{constructor(e,o,t,l,p,c,U,ne,ie,ce,ot,Et){super(e,new Ft,ot,p,U);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=p;this.cdr=c;this.translate=U;this.cmsStoreService=ne;this.router=ie;this.pageInfo=ce;this.publicHelper=ot;this.dialog=Et;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new we;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new L;this.dataModelEnumManageUserAccessUserTypesResult=new L;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let k=new x;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new x;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestLinkDeviceId>0){let k=new x;k.propertyName="LinkDeviceId",k.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=B.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=B.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ft);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new x;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new x;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new x;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Ao,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(wo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(U=>{o.set(U,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),p=new x;p.propertyName="recordStatus",p.value=Me.Available,l.filters.push(p),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(U=>{o.set(U,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};qi.\u0275fac=function(o){return new(o||qi)(f(Gt),f(j),f(ge),f(be),f(F),f(P),f(G),f(H),f(Ie),f(We),f(q),f(Ae))},qi.\u0275cmp=V({type:qi,selectors:[["app-coretoken-microservice-list"]],standalone:!1,features:[J],decls:90,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=A();w(0,jr,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),D("optionActionGuideNoticeDisplayChange",function(c){return S(l),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),I("optionOnActionButtonMemoRow",function(){return S(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(l),C(t.onActionButtonPrintRow())}),T(2,5),m(3," -------------------------------------- "),b(),re(4,6)(5,7),T(6,8),w(7,qr,2,0,"a",9),a(8,"a",10),I("click",function(){return S(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),_(9,"i",11),s(),a(10,"a",10),I("click",function(){return S(l),C(t.onActionButtonReload())}),_(11,"i",12),s(),b(),T(12,13),a(13,"a",14),I("click",function(){return S(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(14,"mat-slide-toggle",15),m(15),h(16,"translate"),s(),a(17,"a",14),I("click",function(){return S(l),C(t.onActionButtonStatist())}),_(18,"mat-slide-toggle",15),m(19),h(20,"translate"),s(),b(),re(21,16),T(22,17),w(23,Wr,7,3,"div",18),w(24,Qr,7,3,"div",18),a(25,"div",18)(26,"a",19),I("click",function(){return S(l),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),_(27,"i",20)(28,"br"),s(),a(29,"p",21),m(30),h(31,"translate"),s()(),a(32,"div",18)(33,"a",19),I("click",function(){return S(l),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),_(34,"i",22)(35,"br"),s(),a(36,"p",21),m(37),h(38,"translate"),s()(),w(39,zr,7,3,"div",18),b(),T(40,23),a(41,"app-cms-search-list",24),D("optionsChange",function(c){return S(l),R(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(42,"app-cms-statist-list",24),D("optionsChange",function(c){return S(l),R(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),T(43,25),a(44,"mat-table",26,0),I("matSortChange",function(){S(l);let c=Q(45);return C(t.onTableSortData(c))}),T(46,27),M(47,Jr,2,1,"mat-header-cell",28)(48,Kr,2,1,"mat-cell",29),b(),T(49,30),M(50,$r,2,1,"mat-header-cell",28)(51,Xr,4,5,"mat-cell",29),b(),T(52,31),M(53,Yr,2,1,"mat-header-cell",28)(54,Zr,4,5,"mat-cell",29),b(),T(55,32),M(56,es,2,1,"mat-header-cell",28)(57,ts,2,1,"mat-cell",29),b(),T(58,33),M(59,is,2,1,"mat-header-cell",28)(60,ns,5,7,"mat-cell",34),b(),T(61,35),M(62,rs,2,1,"mat-header-cell",28)(63,ss,3,4,"mat-cell",29),b(),T(64,36),M(65,as,2,1,"mat-header-cell",28)(66,ls,3,4,"mat-cell",29),b(),T(67,37),M(68,cs,2,1,"mat-header-cell",28)(69,ms,3,3,"mat-cell",29),b(),T(70,38),M(71,ds,2,1,"mat-header-cell",28)(72,ps,3,3,"mat-cell",29),b(),T(73,39),M(74,us,2,1,"mat-header-cell",28)(75,fs,3,3,"mat-cell",29),b(),T(76,40),M(77,Ss,2,1,"mat-header-cell",28)(78,Cs,3,3,"mat-cell",41),b(),T(79,42),M(80,hs,2,1,"mat-header-cell",28)(81,_s,3,6,"mat-cell",43),b(),T(82,44),M(83,gs,3,3,"mat-header-cell",45)(84,vs,6,1,"mat-cell",46),b(),M(85,Ts,1,0,"mat-header-row",47)(86,bs,1,2,"mat-row",48),s(),b(),T(87,49),a(88,"mat-paginator",50,1),I("page",function(c){return S(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(E(t.requestLinkUserId>0?0:-1),n(),v("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),v("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),E(t.requestLinkSiteId>0?7:-1),n(4),oe("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),v("checked",t.optionsSearch.data.show),n(),d("",g(16,29,"ACTION.SEARCH")," "),n(3),v("checked",t.optionsStatist.data.show),n(),d("",g(20,31,"ACTION.STATIST")," "),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),n(6),d(" ",g(31,33,"ACTION.SITE")," "),n(7),d(" ",g(38,35,"ACTION.USER")," "),n(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?39:-1),n(2),y("options",t.optionsSearch),n(),y("options",t.optionsStatist),n(2),v("dataSource",t.tableSource),n(41),v("matHeaderRowDef",t.tabledisplayedColumns),n(),v("matRowDefColumns",t.tabledisplayedColumns),n(2),v("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(37,Nr)))},dependencies:[nt,St,Ee,ke,_e,ye,Re,De,Le,xe,Ue,Be,Oe,He,Pe,Ve,Fe,Ge,Ne,je,qe,$e,Xe,Ye,Ze,ht,tt,Te,N,Tt,it,ze,et,Je,_t,gt,at],encapsulation:2});var ko=qi;var Is=["vform"];function Ms(i,r){if(i&1){let e=A();a(0,"app-cms-enum-record-status-selector",7),D("modelChange",function(t){S(e);let l=u();return R(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),C(t)}),s()}if(i&2){let e=u();y("model",e.dataModel.recordStatus),v("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ws(i,r){if(i&1){let e=A();a(0,"div",6)(1,"button",8),I("click",function(){S(e);let t=u();return C(t.onFormCancel())}),_(2,"i",9),m(3),h(4,"translate"),s()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var Wi=class Wi extends ct{constructor(e,o,t,l,p,c,U,ne,ie,ce){super(l,new qt,c,ce);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreLogTokenConnectionService=l;this.cmsToastrService=p;this.publicHelper=c;this.cdr=U;this.tokenHelper=ne;this.cmsStoreService=ie;this.translate=ce;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new L;this.dataModel=new qt;this.formInfo=new te;this.dataModelEnumManageUserAccessAreaTypesResult=new L;this.dataModelEnumManageUserAccessUserTypesResult=new L;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreLogTokenConnectionService.setAccessLoad(),this.coreLogTokenConnectionService.setAccessDataType(rt.Editor),this.coreLogTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Wi.\u0275fac=function(o){return new(o||Wi)(f(Z),f(Y),f(z),f(Bt),f(j),f(q),f(P),f(F),f(H),f(G))},Wi.\u0275cmp=V({type:Wi,selectors:[["app-coretoken-notificationlog-edit"]],viewQuery:function(o,t){if(o&1&&K(Is,5),o&2){let l;$(l=X())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),_(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),h(7,"translate"),s(),w(8,Ms,1,5,"app-cms-enum-record-status-selector",4),_(9,"app-cms-site-selector",5),h(10,"translate"),_(11,"app-cms-user-selector",5),h(12,"translate"),w(13,ws,5,3,"div",6),s()()),o&2&&(n(),v("optionsInfoAreaId",t.constructorInfoAreaId),n(3),d(" ",t.formInfo.formTitle," "),n(2),d(" ",g(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),E(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?8:-1),n(),v("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",g(10,13,"TITLE.WEBSITE")),n(2),v("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",g(12,15,"TITLE.USER")),n(2),E(t.formInfo.submitButtonEnabled?13:-1))},dependencies:[lt,Ct,mt,ee,N],encapsulation:2});var yo=Wi;var Es=["vform"];function As(i,r){if(i&1){let e=A();a(0,"div",7)(1,"button",8),I("click",function(){S(e);let t=u();return C(t.onFormCancel())}),_(2,"i",9),m(3),h(4,"translate"),s()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var Qi=class Qi{constructor(r,e,o,t,l,p,c,U,ne,ie){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreLogTokenConnectionService=t;this.cmsToastrService=l;this.tokenHelper=p;this.cmsStoreService=c;this.cdr=U;this.publicHelper=ne;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new L;this.dataModel=new qt;this.formInfo=new te;this.dataModelEnumSendSmsStatusTypeResult=new L;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>O(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreLogTokenConnectionService.setAccessLoad(),this.coreLogTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Qi.\u0275fac=function(e){return new(e||Qi)(f(Z),f(Y),f(z),f(Bt),f(j),f(F),f(H),f(P),f(q),f(G))},Qi.\u0275cmp=V({type:Qi,selectors:[["app-core-token-notificationlog-view"]],viewQuery:function(e,o){if(e&1&&K(Es,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),_(6,"app-cms-form-result-message",5),s(),a(7,"div",6),w(8,As,5,3,"div",7),s()),e&2&&(n(),d(" ",o.formInfo.formTitle," "),n(2),v("optionsInfoAreaId",o.constructorInfoAreaId),n(),v("dataModel",o.dataModel)("optionMethod",1),n(2),v("formInfo",o.formInfo),n(2),E(o.formInfo.submitButtonEnabled?8:-1))},dependencies:[ee,dt,Qe,N],encapsulation:2});var Ro=Qi;var ks=()=>[5,10,20,100],ys=i=>({display:i}),Rs=i=>({background:i});function Ds(i,r){if(i&1&&_(0,"app-core-user-header",3),i&2){let e=u();v("optionId",e.requestLinkUserId)}}function Ls(i,r){if(i&1){let e=A();a(0,"a",51),I("click",function(){S(e);let t=u();return C(t.onActionBackToParent())}),_(1,"i",52),s()}}function xs(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",53),I("click",function(){S(e);let t=u();return C(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",54)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.EDIT")," "))}function Us(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",55),I("click",function(){S(e);let t=u();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",56)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.DELETE")," "))}function Bs(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",57),I("click",function(){S(e);let t=u();return C(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",58)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.VIEW")," "))}function Vs(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Os(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),d(" ",e.id," ")}}function Ps(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Gs(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmssiteinfo"),h(3,"async"),s()),i&2){let e=r.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function Ns(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Hs(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmsuserinfo"),h(3,"async"),s()),i&2){let e=r.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function Fs(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function js(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),d(" ",e.linkMemberUserId," ")}}function qs(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ws(i,r){if(i&1&&_(0,"select",61),i&2){let e=u().$implicit,o=u();v("contentService",o.contentService)("row",e)("ngStyle",he(3,ys,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Qs(i,r){if(i&1&&(a(0,"mat-cell",60),h(1,"statusCellClass"),_(2,"i",60),h(3,"statusIconClass"),w(4,Ws,1,5,"select",61),s()),i&2){let e=r.$implicit,o=u();v("ngClass",g(1,3,e.recordStatus)),n(2),v("ngClass",g(3,5,e.recordStatus)),n(2),E(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessEditRow?4:-1)}}function zs(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Js(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=r.$implicit,o=u();n(),d(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Ks(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function $s(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=r.$implicit,o=u();n(),d(" ",ae(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Xs(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Ys(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",60),h(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),v("ngClass",g(2,1,e.userAccessAdminAllowToAllData))}}function Zs(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function ea(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",60),h(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),v("ngClass",g(2,1,e.userAccessAdminAllowToProfessionalData))}}function ta(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function ia(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",60),h(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),v("ngClass",g(2,1,e.rememberOnDevice))}}function oa(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function na(i,r){if(i&1&&(a(0,"mat-cell",62),m(1),h(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),d(" ",g(2,1,e.createdDate)," ")}}function ra(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function sa(i,r){if(i&1&&(a(0,"mat-cell",63),m(1),h(2,"persianDate"),s()),i&2){let e=r.$implicit,o=u();v("ngStyle",he(4,Rs,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),d(" ",g(2,2,e.expireDate)," ")}}function aa(i,r){i&1&&(a(0,"mat-header-cell"),m(1),h(2,"translate"),s()),i&2&&(n(),d(" ",g(2,1,"TITLE.OPTION")," "))}function la(i,r){if(i&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),m(3,"more_vert"),s()(),_(4,"mat-menu",null,2),s()),i&2){let e=Q(5);n(),v("matMenuTriggerFor",e)}}function ca(i,r){i&1&&_(0,"mat-header-row")}function ma(i,r){if(i&1){let e=A();a(0,"mat-row",66),I("click",function(t){let l=S(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=S(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=u();oe("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var zi=class zi extends Ke{constructor(e,o,t,l,p,c,U,ne,ie,ce,ot,Et){super(e,new qt,ot,p,U);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=p;this.cdr=c;this.translate=U;this.cmsStoreService=ne;this.router=ie;this.pageInfo=ce;this.publicHelper=ot;this.dialog=Et;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new we;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new L;this.dataModelEnumManageUserAccessUserTypesResult=new L;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let k=new x;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new x;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestLinkDeviceId>0){let k=new x;k.propertyName="LinkDeviceId",k.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=B.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=B.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new qt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new x;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new x;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new x;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Ro,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(yo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(U=>{o.set(U,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),p=new x;p.propertyName="recordStatus",p.value=Me.Available,l.filters.push(p),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(U=>{o.set(U,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};zi.\u0275fac=function(o){return new(o||zi)(f(Bt),f(j),f(ge),f(be),f(F),f(P),f(G),f(H),f(Ie),f(We),f(q),f(Ae))},zi.\u0275cmp=V({type:zi,selectors:[["app-coretoken-notificationlog-list"]],standalone:!1,features:[J],decls:90,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=A();w(0,Ds,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),D("optionActionGuideNoticeDisplayChange",function(c){return S(l),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),I("optionOnActionButtonMemoRow",function(){return S(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(l),C(t.onActionButtonPrintRow())}),T(2,5),m(3," -------------------------------------- "),b(),re(4,6)(5,7),T(6,8),w(7,Ls,2,0,"a",9),a(8,"a",10),I("click",function(){return S(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),_(9,"i",11),s(),a(10,"a",10),I("click",function(){return S(l),C(t.onActionButtonReload())}),_(11,"i",12),s(),b(),T(12,13),a(13,"a",14),I("click",function(){return S(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(14,"mat-slide-toggle",15),m(15),h(16,"translate"),s(),a(17,"a",14),I("click",function(){return S(l),C(t.onActionButtonStatist())}),_(18,"mat-slide-toggle",15),m(19),h(20,"translate"),s(),b(),re(21,16),T(22,17),w(23,xs,7,3,"div",18),w(24,Us,7,3,"div",18),a(25,"div",18)(26,"a",19),I("click",function(){return S(l),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),_(27,"i",20)(28,"br"),s(),a(29,"p",21),m(30),h(31,"translate"),s()(),a(32,"div",18)(33,"a",19),I("click",function(){return S(l),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),_(34,"i",22)(35,"br"),s(),a(36,"p",21),m(37),h(38,"translate"),s()(),w(39,Bs,7,3,"div",18),b(),T(40,23),a(41,"app-cms-search-list",24),D("optionsChange",function(c){return S(l),R(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(42,"app-cms-statist-list",24),D("optionsChange",function(c){return S(l),R(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),T(43,25),a(44,"mat-table",26,0),I("matSortChange",function(){S(l);let c=Q(45);return C(t.onTableSortData(c))}),T(46,27),M(47,Vs,2,1,"mat-header-cell",28)(48,Os,2,1,"mat-cell",29),b(),T(49,30),M(50,Ps,2,1,"mat-header-cell",28)(51,Gs,4,5,"mat-cell",29),b(),T(52,31),M(53,Ns,2,1,"mat-header-cell",28)(54,Hs,4,5,"mat-cell",29),b(),T(55,32),M(56,Fs,2,1,"mat-header-cell",28)(57,js,2,1,"mat-cell",29),b(),T(58,33),M(59,qs,2,1,"mat-header-cell",28)(60,Qs,5,7,"mat-cell",34),b(),T(61,35),M(62,zs,2,1,"mat-header-cell",28)(63,Js,3,4,"mat-cell",29),b(),T(64,36),M(65,Ks,2,1,"mat-header-cell",28)(66,$s,3,4,"mat-cell",29),b(),T(67,37),M(68,Xs,2,1,"mat-header-cell",28)(69,Ys,3,3,"mat-cell",29),b(),T(70,38),M(71,Zs,2,1,"mat-header-cell",28)(72,ea,3,3,"mat-cell",29),b(),T(73,39),M(74,ta,2,1,"mat-header-cell",28)(75,ia,3,3,"mat-cell",29),b(),T(76,40),M(77,oa,2,1,"mat-header-cell",28)(78,na,3,3,"mat-cell",41),b(),T(79,42),M(80,ra,2,1,"mat-header-cell",28)(81,sa,3,6,"mat-cell",43),b(),T(82,44),M(83,aa,3,3,"mat-header-cell",45)(84,la,6,1,"mat-cell",46),b(),M(85,ca,1,0,"mat-header-row",47)(86,ma,1,2,"mat-row",48),s(),b(),T(87,49),a(88,"mat-paginator",50,1),I("page",function(c){return S(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(E(t.requestLinkUserId>0?0:-1),n(),v("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),v("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),E(t.requestLinkSiteId>0?7:-1),n(4),oe("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),v("checked",t.optionsSearch.data.show),n(),d("",g(16,29,"ACTION.SEARCH")," "),n(3),v("checked",t.optionsStatist.data.show),n(),d("",g(20,31,"ACTION.STATIST")," "),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),n(6),d(" ",g(31,33,"ACTION.SITE")," "),n(7),d(" ",g(38,35,"ACTION.USER")," "),n(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?39:-1),n(2),y("options",t.optionsSearch),n(),y("options",t.optionsStatist),n(2),v("dataSource",t.tableSource),n(41),v("matHeaderRowDef",t.tabledisplayedColumns),n(),v("matRowDefColumns",t.tabledisplayedColumns),n(2),v("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(37,ks)))},dependencies:[nt,St,Ee,ke,_e,ye,Re,De,Le,xe,Ue,Be,Oe,He,Pe,Ve,Fe,Ge,Ne,je,qe,$e,Xe,Ye,Ze,ht,tt,Te,N,Tt,it,ze,et,Je,_t,gt,at],encapsulation:2});var Do=zi;var da=["vform"];function pa(i,r){if(i&1){let e=A();a(0,"app-cms-enum-record-status-selector",7),D("modelChange",function(t){S(e);let l=u();return R(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),C(t)}),s()}if(i&2){let e=u();y("model",e.dataModel.recordStatus),v("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ua(i,r){if(i&1&&(a(0,"div"),_(1,"div",8),h(2,"prettyjson"),s()),i&2){let e=u();n(),v("innerHTML",g(2,1,e.dataModel),It)}}function fa(i,r){if(i&1){let e=A();a(0,"div",6)(1,"button",9),I("click",function(){S(e);let t=u();return C(t.onFormCancel())}),_(2,"i",10),m(3),h(4,"translate"),s()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var Ji=class Ji extends ct{constructor(e,o,t,l,p,c,U,ne,ie,ce){super(l,new bt,ie,ce);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenConnectionService=l;this.cmsToastrService=p;this.tokenHelper=c;this.cmsStoreService=U;this.cdr=ne;this.publicHelper=ie;this.translate=ce;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Lt;this.dataModel=new bt;this.formInfo=new te;this.dataModelEnumManageUserAccessAreaTypesResult=new L;this.dataModelEnumManageUserAccessUserTypesResult=new L;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenConnectionService.setAccessLoad(),this.coreTokenConnectionService.setAccessDataType(rt.Editor),this.coreTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ji.\u0275fac=function(o){return new(o||Ji)(f(Z),f(Y),f(z),f(Mt),f(j),f(F),f(H),f(P),f(q),f(G))},Ji.\u0275cmp=V({type:Ji,selectors:[["app-coretoken-notification-edit"]],viewQuery:function(o,t){if(o&1&&K(da,5),o&2){let l;$(l=X())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:15,vars:18,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),_(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),h(7,"translate"),s(),w(8,pa,1,5,"app-cms-enum-record-status-selector",4),_(9,"app-cms-site-selector",5),h(10,"translate"),_(11,"app-cms-user-selector",5),h(12,"translate"),w(13,ua,3,3,"div"),w(14,fa,5,3,"div",6),s()()),o&2&&(n(),v("optionsInfoAreaId",t.constructorInfoAreaId),n(3),d(" ",t.formInfo.formTitle," "),n(2),d(" ",g(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),E(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?8:-1),n(),v("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",g(10,14,"TITLE.WEBSITE")),n(2),v("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",g(12,16,"TITLE.USER")),n(2),E(t.tokenInfo.access.userAccessAdminAllowToProfessionalData?13:-1),n(),E(t.formInfo.submitButtonEnabled?14:-1))},dependencies:[lt,Ct,mt,ee,N,wt],encapsulation:2});var Ki=Ji;var Sa=["vform"];function Ca(i,r){if(i&1){let e=A();a(0,"div",7)(1,"button",8),I("click",function(){S(e);let t=u();return C(t.onFormCancel())}),_(2,"i",9),m(3),h(4,"translate"),s()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var $i=class $i{constructor(r,e,o,t,l,p,c,U,ne,ie){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreTokenConnectionService=t;this.cmsToastrService=l;this.tokenHelper=p;this.cmsStoreService=c;this.cdr=U;this.publicHelper=ne;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new L;this.dataModel=new bt;this.formInfo=new te;this.dataModelEnumSendSmsStatusTypeResult=new L;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>O(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreTokenConnectionService.setAccessLoad(),this.coreTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$i.\u0275fac=function(e){return new(e||$i)(f(Z),f(Y),f(z),f(Mt),f(j),f(F),f(H),f(P),f(q),f(G))},$i.\u0275cmp=V({type:$i,selectors:[["app-coretoken-notification-view"]],viewQuery:function(e,o){if(e&1&&K(Sa,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),_(6,"app-cms-form-result-message",5),s(),a(7,"div",6),w(8,Ca,5,3,"div",7),s()),e&2&&(n(),d(" ",o.formInfo.formTitle," "),n(2),v("optionsInfoAreaId",o.constructorInfoAreaId),n(),v("dataModel",o.dataModel)("optionMethod",1),n(2),v("formInfo",o.formInfo),n(2),E(o.formInfo.submitButtonEnabled?8:-1))},dependencies:[ee,dt,Qe,N],encapsulation:2});var Xi=$i;var ha=()=>[5,10,20,100],_a=i=>({display:i}),ga=i=>({background:i});function va(i,r){if(i&1&&_(0,"app-core-user-header",3),i&2){let e=u();v("optionId",e.requestLinkUserId)}}function Ta(i,r){if(i&1){let e=A();a(0,"a",51),I("click",function(){S(e);let t=u();return C(t.onActionBackToParent())}),_(1,"i",52),s()}}function ba(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",53),I("click",function(){S(e);let t=u();return C(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",54)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.EDIT")," "))}function Ia(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",55),I("click",function(){S(e);let t=u();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",56)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.DELETE")," "))}function Ma(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",57),I("click",function(){S(e);let t=u();return C(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",58)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.VIEW")," "))}function wa(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ea(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),d(" ",e.id," ")}}function Aa(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ka(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmssiteinfo"),h(3,"async"),s()),i&2){let e=r.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function ya(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Ra(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmsuserinfo"),h(3,"async"),s()),i&2){let e=r.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function Da(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function La(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),d(" ",e.linkMemberUserId," ")}}function xa(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ua(i,r){if(i&1&&_(0,"select",61),i&2){let e=u().$implicit,o=u();v("contentService",o.contentService)("row",e)("ngStyle",he(3,_a,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Ba(i,r){if(i&1&&(a(0,"mat-cell",60),h(1,"statusCellClass"),_(2,"i",60),h(3,"statusIconClass"),w(4,Ua,1,5,"select",61),s()),i&2){let e=r.$implicit,o=u();v("ngClass",g(1,3,e.recordStatus)),n(2),v("ngClass",g(3,5,e.recordStatus)),n(2),E(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessEditRow?4:-1)}}function Va(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Oa(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=r.$implicit,o=u();n(),d(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Pa(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function Ga(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=r.$implicit,o=u();n(),d(" ",ae(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Na(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Ha(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",60),h(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),v("ngClass",g(2,1,e.userAccessAdminAllowToAllData))}}function Fa(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function ja(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",60),h(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),v("ngClass",g(2,1,e.userAccessAdminAllowToProfessionalData))}}function qa(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Wa(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",60),h(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),v("ngClass",g(2,1,e.rememberOnDevice))}}function Qa(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function za(i,r){if(i&1&&(a(0,"mat-cell",62),m(1),h(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),d(" ",g(2,1,e.createdDate)," ")}}function Ja(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Ka(i,r){if(i&1&&(a(0,"mat-cell",63),m(1),h(2,"persianDate"),s()),i&2){let e=r.$implicit,o=u();v("ngStyle",he(4,ga,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),d(" ",g(2,2,e.expireDate)," ")}}function $a(i,r){i&1&&(a(0,"mat-header-cell"),m(1),h(2,"translate"),s()),i&2&&(n(),d(" ",g(2,1,"TITLE.OPTION")," "))}function Xa(i,r){if(i&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),m(3,"more_vert"),s()(),_(4,"mat-menu",null,2),s()),i&2){let e=Q(5);n(),v("matMenuTriggerFor",e)}}function Ya(i,r){i&1&&_(0,"mat-header-row")}function Za(i,r){if(i&1){let e=A();a(0,"mat-row",66),I("click",function(t){let l=S(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=S(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=u();oe("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Yi=class Yi extends Ke{constructor(e,o,t,l,p,c,U,ne,ie,ce,ot,Et){super(e,new bt,ot,p,U);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=p;this.cdr=c;this.translate=U;this.cmsStoreService=ne;this.router=ie;this.pageInfo=ce;this.publicHelper=ot;this.dialog=Et;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new we;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new L;this.dataModelEnumManageUserAccessUserTypesResult=new L;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let k=new x;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new x;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestLinkDeviceId>0){let k=new x;k.propertyName="LinkDeviceId",k.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=B.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=B.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new bt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new x;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new x;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new x;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Xi,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Ki,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(U=>{o.set(U,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),p=new x;p.propertyName="recordStatus",p.value=Me.Available,l.filters.push(p),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(U=>{o.set(U,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Yi.\u0275fac=function(o){return new(o||Yi)(f(Mt),f(j),f(ge),f(be),f(F),f(P),f(G),f(H),f(Ie),f(We),f(q),f(Ae))},Yi.\u0275cmp=V({type:Yi,selectors:[["app-coretoken-notification-list"]],standalone:!1,features:[J],decls:90,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=A();w(0,va,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),D("optionActionGuideNoticeDisplayChange",function(c){return S(l),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),I("optionOnActionButtonMemoRow",function(){return S(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(l),C(t.onActionButtonPrintRow())}),T(2,5),m(3," -------------------------------------- "),b(),re(4,6)(5,7),T(6,8),w(7,Ta,2,0,"a",9),a(8,"a",10),I("click",function(){return S(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),_(9,"i",11),s(),a(10,"a",10),I("click",function(){return S(l),C(t.onActionButtonReload())}),_(11,"i",12),s(),b(),T(12,13),a(13,"a",14),I("click",function(){return S(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(14,"mat-slide-toggle",15),m(15),h(16,"translate"),s(),a(17,"a",14),I("click",function(){return S(l),C(t.onActionButtonStatist())}),_(18,"mat-slide-toggle",15),m(19),h(20,"translate"),s(),b(),re(21,16),T(22,17),w(23,ba,7,3,"div",18),w(24,Ia,7,3,"div",18),a(25,"div",18)(26,"a",19),I("click",function(){return S(l),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),_(27,"i",20)(28,"br"),s(),a(29,"p",21),m(30),h(31,"translate"),s()(),a(32,"div",18)(33,"a",19),I("click",function(){return S(l),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),_(34,"i",22)(35,"br"),s(),a(36,"p",21),m(37),h(38,"translate"),s()(),w(39,Ma,7,3,"div",18),b(),T(40,23),a(41,"app-cms-search-list",24),D("optionsChange",function(c){return S(l),R(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(42,"app-cms-statist-list",24),D("optionsChange",function(c){return S(l),R(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),T(43,25),a(44,"mat-table",26,0),I("matSortChange",function(){S(l);let c=Q(45);return C(t.onTableSortData(c))}),T(46,27),M(47,wa,2,1,"mat-header-cell",28)(48,Ea,2,1,"mat-cell",29),b(),T(49,30),M(50,Aa,2,1,"mat-header-cell",28)(51,ka,4,5,"mat-cell",29),b(),T(52,31),M(53,ya,2,1,"mat-header-cell",28)(54,Ra,4,5,"mat-cell",29),b(),T(55,32),M(56,Da,2,1,"mat-header-cell",28)(57,La,2,1,"mat-cell",29),b(),T(58,33),M(59,xa,2,1,"mat-header-cell",28)(60,Ba,5,7,"mat-cell",34),b(),T(61,35),M(62,Va,2,1,"mat-header-cell",28)(63,Oa,3,4,"mat-cell",29),b(),T(64,36),M(65,Pa,2,1,"mat-header-cell",28)(66,Ga,3,4,"mat-cell",29),b(),T(67,37),M(68,Na,2,1,"mat-header-cell",28)(69,Ha,3,3,"mat-cell",29),b(),T(70,38),M(71,Fa,2,1,"mat-header-cell",28)(72,ja,3,3,"mat-cell",29),b(),T(73,39),M(74,qa,2,1,"mat-header-cell",28)(75,Wa,3,3,"mat-cell",29),b(),T(76,40),M(77,Qa,2,1,"mat-header-cell",28)(78,za,3,3,"mat-cell",41),b(),T(79,42),M(80,Ja,2,1,"mat-header-cell",28)(81,Ka,3,6,"mat-cell",43),b(),T(82,44),M(83,$a,3,3,"mat-header-cell",45)(84,Xa,6,1,"mat-cell",46),b(),M(85,Ya,1,0,"mat-header-row",47)(86,Za,1,2,"mat-row",48),s(),b(),T(87,49),a(88,"mat-paginator",50,1),I("page",function(c){return S(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(E(t.requestLinkUserId>0?0:-1),n(),v("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),v("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),E(t.requestLinkSiteId>0?7:-1),n(4),oe("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),v("checked",t.optionsSearch.data.show),n(),d("",g(16,29,"ACTION.SEARCH")," "),n(3),v("checked",t.optionsStatist.data.show),n(),d("",g(20,31,"ACTION.STATIST")," "),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),n(6),d(" ",g(31,33,"ACTION.SITE")," "),n(7),d(" ",g(38,35,"ACTION.USER")," "),n(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?39:-1),n(2),y("options",t.optionsSearch),n(),y("options",t.optionsStatist),n(2),v("dataSource",t.tableSource),n(41),v("matHeaderRowDef",t.tabledisplayedColumns),n(),v("matRowDefColumns",t.tabledisplayedColumns),n(2),v("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(37,ha)))},dependencies:[nt,St,Ee,ke,_e,ye,Re,De,Le,xe,Ue,Be,Oe,He,Pe,Ve,Fe,Ge,Ne,je,qe,$e,Xe,Ye,Ze,ht,tt,Te,N,Tt,it,ze,et,Je,_t,gt,at],encapsulation:2});var Lo=Yi;var tl=["vform"];function il(i,r){if(i&1){let e=A();a(0,"app-cms-enum-record-status-selector",38),D("modelChange",function(t){S(e);let l=u();return R(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),C(t)}),s()}if(i&2){let e=u();y("model",e.dataModel.recordStatus),v("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ol(i,r){if(i&1&&(a(0,"option",19),m(1),s()),i&2){let e=r.$implicit;v("value",e.value),n(),d(" ",e.description," ")}}function nl(i,r){i&1&&(a(0,"mat-error"),m(1," LinkMemberId is "),a(2,"strong"),m(3),h(4,"translate"),s()()),i&2&&(n(3),pt(g(4,1,"MESSAGE.required")))}function rl(i,r){if(i&1&&(a(0,"option",19),m(1),s()),i&2){let e=r.$implicit;v("value",e.value),n(),d(" ",e.description," ")}}function sl(i,r){i&1&&(a(0,"mat-error"),m(1," UserAccessAreaType is "),a(2,"strong"),m(3),h(4,"translate"),s()()),i&2&&(n(3),pt(g(4,1,"MESSAGE.required")))}function al(i,r){if(i&1){let e=A();a(0,"div",22)(1,"div",39)(2,"h5",40),m(3),s()(),a(4,"div",41)(5,"div",42)(6,"input",43),D("ngModelChange",function(t){S(e);let l=u();return R(l.dataModel.userAccessAdminAllowToAllData,t)||(l.dataModel.userAccessAdminAllowToAllData=t),C(t)}),s(),_(7,"label",44),s()()()}if(i&2){let e=u();n(3),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," "),n(3),y("ngModel",e.dataModel.userAccessAdminAllowToAllData)}}function ll(i,r){if(i&1){let e=A();a(0,"div",22)(1,"div",39)(2,"h5",45),m(3),s()(),a(4,"div",41)(5,"div",42)(6,"input",46),D("ngModelChange",function(t){S(e);let l=u();return R(l.dataModel.userAccessAdminAllowToProfessionalData,t)||(l.dataModel.userAccessAdminAllowToProfessionalData=t),C(t)}),s(),_(7,"label",47),s()()()}if(i&2){let e=u();n(3),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," "),n(3),y("ngModel",e.dataModel.userAccessAdminAllowToProfessionalData)}}function cl(i,r){if(i&1){let e=A();a(0,"div",22)(1,"div",39)(2,"h5",48),m(3),s()(),a(4,"div",41)(5,"div",42)(6,"input",49),D("ngModelChange",function(t){S(e);let l=u();return R(l.dataModel.rememberOnDevice,t)||(l.dataModel.rememberOnDevice=t),C(t)}),s(),_(7,"label",50),s()()()}if(i&2){let e=u();n(3),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," "),n(3),y("ngModel",e.dataModel.rememberOnDevice)}}function ml(i,r){if(i&1){let e=A();a(0,"div",36)(1,"label",51),m(2),s(),a(3,"input",52),D("ngModelChange",function(t){S(e);let l=u();return R(l.dataModel.tokenExpireDate,t)||(l.dataModel.tokenExpireDate=t),C(t)}),s(),_(4,"mat-datepicker-toggle",53)(5,"mat-datepicker",54,9),s()}if(i&2){let e=Q(6),o=u();n(2),pt(o.fieldsInfo.tokenExpireDate==null?null:o.fieldsInfo.tokenExpireDate.fieldTitle),n(),v("matDatepicker",e),y("ngModel",o.dataModel.tokenExpireDate),n(),v("for",e)}}function dl(i,r){if(i&1&&(a(0,"div"),_(1,"div",55),h(2,"prettyjson"),s()),i&2){let e=u();n(),v("innerHTML",g(2,1,e.dataModel),It)}}function pl(i,r){if(i&1){let e=A();a(0,"div",37)(1,"button",56),I("click",function(){S(e);let t=u();return C(t.onFormCancel())}),_(2,"i",57),m(3),h(4,"translate"),s(),a(5,"button",58),_(6,"i",59),m(7),h(8,"translate"),s()()}if(i&2){u();let e=Q(10);n(3),d(" ",g(4,3,"ACTION.CANCEL")," "),n(2),v("disabled",!e.form.valid),n(2),d(" ",g(8,5,"ACTION.SAVE")," ")}}var Zi=class Zi extends ct{constructor(e,o,t,l,p,c,U,ne,ie,ce){super(l,new Nt,ne,ce);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenUserService=l;this.cmsToastrService=p;this.tokenHelper=c;this.cmsStoreService=U;this.publicHelper=ne;this.cdr=ie;this.translate=ce;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Lt;this.dataModel=new Nt;this.formInfo=new te;this.dataModelEnumManageUserAccessAreaTypesResult=new L;this.dataModelEnumManageUserAccessUserTypesResult=new L;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.setAccessDataType(rt.Editor),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenUserService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorEdit(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onActionSiteSelect(e){e&&e.id>0&&(this.dataModel.linkSiteId=e.id)}onActionUserSelect(e){e&&e.id>0&&(this.dataModel.linkUserId=e.id)}onActionMemberSelect(e){e&&e.id?.length>0&&(this.dataModel.linkMemberId=e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Zi.\u0275fac=function(o){return new(o||Zi)(f(Z),f(Y),f(z),f(Ot),f(j),f(F),f(H),f(q),f(P),f(G))},Zi.\u0275cmp=V({type:Zi,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&K(tl,5),o&2){let l;$(l=X())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:72,vars:44,consts:[["vform","ngForm"],["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["DeviceClientMAC",""],["Token",""],["LinkDeviceId",""],["LinkApplicationId",""],["tokenExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(o,t){if(o&1){let l=A();a(0,"div",10),_(1,"app-progress-spinner",11),a(2,"div",12)(3,"p",13),m(4),s(),a(5,"p"),m(6),h(7,"translate"),s(),_(8,"app-cms-form-result-message",14),a(9,"form",15,0),I("ngSubmit",function(){return S(l),C(t.onFormSubmit())}),w(11,il,1,5,"app-cms-enum-record-status-selector",16),a(12,"div",17)(13,"select",18,1),D("ngModelChange",function(c){return S(l),R(t.dataModel.linkMemberId,c)||(t.dataModel.linkMemberId=c),C(c)}),Rt(15,ol,2,2,"option",19,yt),s(),a(17,"em"),m(18),h(19,"translate"),s(),w(20,nl,5,3,"mat-error"),s(),a(21,"div",17)(22,"select",20,2),D("ngModelChange",function(c){return S(l),R(t.dataModel.userAccessAreaType,c)||(t.dataModel.userAccessAreaType=c),C(c)}),Rt(24,rl,2,2,"option",19,yt),s(),a(26,"em"),m(27),h(28,"translate"),s(),w(29,sl,5,3,"mat-error"),s(),a(30,"app-cms-site-selector",21),h(31,"translate"),I("optionChange",function(c){return S(l),C(t.onActionSiteSelect(c))}),s(),a(32,"app-cms-user-selector",21),h(33,"translate"),I("optionChange",function(c){return S(l),C(t.onActionUserSelect(c))}),s(),a(34,"app-cms-member-selector",21),h(35,"translate"),I("optionChange",function(c){return S(l),C(t.onActionMemberSelect(c))}),s(),w(36,al,8,2,"div",22),w(37,ll,8,2,"div",22),w(38,cl,8,2,"div",22),a(39,"div",23)(40,"label",24),m(41,"BrowserLanguage"),s(),a(42,"input",25,3),D("ngModelChange",function(c){return S(l),R(t.dataModel.browserLanguage,c)||(t.dataModel.browserLanguage=c),C(c)}),s()(),a(44,"div",23)(45,"label",26),m(46,"UserLanguage"),s(),a(47,"input",27,4),D("ngModelChange",function(c){return S(l),R(t.dataModel.userLanguage,c)||(t.dataModel.userLanguage=c),C(c)}),s()(),a(49,"div",23)(50,"label",28),m(51,"DeviceClientMAC"),s(),a(52,"input",29,5),D("ngModelChange",function(c){return S(l),R(t.dataModel.deviceClientMAC,c)||(t.dataModel.deviceClientMAC=c),C(c)}),s()(),a(54,"div",23)(55,"label",30),m(56,"Token"),s(),a(57,"input",31,6),D("ngModelChange",function(c){return S(l),R(t.dataModel.token,c)||(t.dataModel.token=c),C(c)}),s()(),a(59,"div",23)(60,"label",32),m(61,"LinkDeviceId"),s(),a(62,"input",33,7),D("ngModelChange",function(c){return S(l),R(t.dataModel.linkDeviceId,c)||(t.dataModel.linkDeviceId=c),C(c)}),s()(),a(64,"div",23)(65,"label",34),m(66,"LinkApplicationId"),s(),a(67,"input",35,8),D("ngModelChange",function(c){return S(l),R(t.dataModel.linkApplicationId,c)||(t.dataModel.linkApplicationId=c),C(c)}),s()(),w(69,ml,7,4,"div",36),w(70,dl,3,3,"div"),w(71,pl,9,7,"div",37),s()()()}if(o&2){let l=Q(14),p=Q(23);n(),v("optionsInfoAreaId",t.constructorInfoAreaId),n(3),d(" ",t.formInfo.formTitle," "),n(2),d(" ",g(7,32,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),v("formInfo",t.formInfo),n(3),E(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),n(2),y("ngModel",t.dataModel.linkMemberId),n(2),Dt(t.dataModelEnumManageUserAccessUserTypesResult.listItems),n(3),pt(g(19,34,"TITLE.SELECT_STATUS")),n(2),E(l.errors!=null&&l.errors.required?20:-1),n(2),y("ngModel",t.dataModel.userAccessAreaType),n(2),Dt(t.dataModelEnumManageUserAccessAreaTypesResult.listItems),n(3),pt(g(28,36,"TITLE.SELECT_STATUS")),n(2),E(p.errors!=null&&p.errors.required?29:-1),n(),v("optionDisabled",!1)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",g(31,38,"TITLE.WEBSITE")),n(2),v("optionDisabled",!1)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",g(33,40,"TITLE.USER")),n(2),v("optionDisabled",!1)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",g(35,42,"TITLE.Member")),n(2),E(t.fieldsInfo.userAccessAdminAllowToAllData!=null&&t.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField?36:-1),n(),E(t.fieldsInfo.userAccessAdminAllowToProfessionalData!=null&&t.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField?37:-1),n(),E(t.fieldsInfo.rememberOnDevice!=null&&t.fieldsInfo.rememberOnDevice.accessWatchField?38:-1),n(4),y("ngModel",t.dataModel.browserLanguage),n(5),y("ngModel",t.dataModel.userLanguage),n(5),y("ngModel",t.dataModel.deviceClientMAC),n(5),y("ngModel",t.dataModel.token),n(5),y("ngModel",t.dataModel.linkDeviceId),n(5),y("ngModel",t.dataModel.linkApplicationId),n(2),E(t.fieldsInfo.tokenExpireDate!=null&&t.fieldsInfo.tokenExpireDate.accessWatchField?69:-1),n(),E(t.tokenInfo.access.userAccessAdminAllowToProfessionalData?70:-1),n(),E(t.formInfo.submitButtonEnabled?71:-1)}},dependencies:[Jo,Ai,ki,Ii,uo,Ei,Mi,Qo,wi,zo,So,Co,ho,yi,fo,_e,lt,Ct,mt,Ri,ee,Qe,N,wt],encapsulation:2});var xo=Zi;var ul=["vform"];function fl(i,r){if(i&1){let e=A();a(0,"div",7)(1,"button",8),I("click",function(){S(e);let t=u();return C(t.onFormCancel())}),_(2,"i",9),m(3),h(4,"translate"),s()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var eo=class eo{constructor(r,e,o,t,l,p,c,U,ne,ie){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreTokenUserService=t;this.cmsToastrService=l;this.tokenHelper=p;this.cmsStoreService=c;this.cdr=U;this.publicHelper=ne;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new L;this.dataModel=new Nt;this.formInfo=new te;this.dataModelEnumSendSmsStatusTypeResult=new L;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>O(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};eo.\u0275fac=function(e){return new(e||eo)(f(Z),f(Y),f(z),f(Ot),f(j),f(F),f(H),f(P),f(q),f(G))},eo.\u0275cmp=V({type:eo,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&K(ul,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),_(6,"app-cms-form-result-message",5),s(),a(7,"div",6),w(8,fl,5,3,"div",7),s()),e&2&&(n(),d(" ",o.formInfo.formTitle," "),n(2),v("optionsInfoAreaId",o.constructorInfoAreaId),n(),v("dataModel",o.dataModel)("optionMethod",1),n(2),v("formInfo",o.formInfo),n(2),E(o.formInfo.submitButtonEnabled?8:-1))},dependencies:[ee,dt,Qe,N],encapsulation:2});var Uo=eo;var Sl=()=>[5,10,20,100],Cl=i=>({display:i});function hl(i,r){if(i&1&&_(0,"app-core-user-header",3),i&2){let e=u();v("optionId",e.requestLinkUserId)}}function _l(i,r){if(i&1){let e=A();a(0,"a",52),I("click",function(){S(e);let t=u();return C(t.onActionBackToParent())}),_(1,"i",53),s()}}function gl(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",54),I("click",function(){S(e);let t=u();return C(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",55)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.EDIT")," "))}function vl(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",56),I("click",function(){S(e);let t=u();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",57)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.DELETE")," "))}function Tl(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",58),I("click",function(){S(e);let t=u();return C(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",59)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.VIEW")," "))}function bl(i,r){if(i&1&&(a(0,"mat-header-cell",60),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Il(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),d(" ",e.id," ")}}function Ml(i,r){if(i&1&&(a(0,"mat-header-cell",60),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function wl(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmssiteinfo"),h(3,"async"),s()),i&2){let e=r.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function El(i,r){if(i&1&&(a(0,"mat-header-cell",60),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Al(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmsuserinfo"),h(3,"async"),s()),i&2){let e=r.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function kl(i,r){if(i&1&&(a(0,"mat-header-cell",60),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function yl(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),d(" ",e.linkMemberId," ")}}function Rl(i,r){if(i&1&&(a(0,"mat-header-cell",60),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Dl(i,r){if(i&1&&_(0,"select",62),i&2){let e=u().$implicit,o=u();v("contentService",o.contentService)("row",e)("ngStyle",he(3,Cl,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Ll(i,r){if(i&1&&(a(0,"mat-cell",61),h(1,"statusCellClass"),_(2,"i",61),h(3,"statusIconClass"),w(4,Dl,1,5,"select",62),s()),i&2){let e=r.$implicit,o=u();v("ngClass",g(1,3,e.recordStatus)),n(2),v("ngClass",g(3,5,e.recordStatus)),n(2),E(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessEditRow?4:-1)}}function xl(i,r){if(i&1&&(a(0,"mat-header-cell",60),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ul(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=r.$implicit,o=u();n(),d(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Bl(i,r){if(i&1&&(a(0,"mat-header-cell",60),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function Vl(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=r.$implicit,o=u();n(),d(" ",ae(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Ol(i,r){if(i&1&&(a(0,"mat-header-cell",60),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Pl(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",61),h(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),v("ngClass",g(2,1,e.userAccessAdminAllowToAllData))}}function Gl(i,r){if(i&1&&(a(0,"mat-header-cell",60),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Nl(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",61),h(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),v("ngClass",g(2,1,e.userAccessAdminAllowToProfessionalData))}}function Hl(i,r){if(i&1&&(a(0,"mat-header-cell",60),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Fl(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",61),h(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),v("ngClass",g(2,1,e.rememberOnDevice))}}function jl(i,r){if(i&1&&(a(0,"mat-header-cell",60),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ql(i,r){if(i&1&&(a(0,"mat-cell",63),m(1),h(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),d(" ",g(2,1,e.createdDate)," ")}}function Wl(i,r){if(i&1&&(a(0,"mat-header-cell",60),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.tokenExpireDate==null?null:e.fieldsInfo.tokenExpireDate.fieldTitle," ")}}function Ql(i,r){if(i&1&&(a(0,"mat-cell",63),m(1),h(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),d(" ",g(2,1,e.tokenExpireDate)," ")}}function zl(i,r){i&1&&(a(0,"mat-header-cell"),m(1),h(2,"translate"),s()),i&2&&(n(),d(" ",g(2,1,"TITLE.OPTION")," "))}function Jl(i,r){if(i&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),m(3,"more_vert"),s()(),_(4,"mat-menu",null,2),s()),i&2){let e=Q(5);n(),v("matMenuTriggerFor",e)}}function Kl(i,r){i&1&&_(0,"mat-header-row")}function $l(i,r){if(i&1){let e=A();a(0,"mat-row",66),I("click",function(t){let l=S(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=S(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=u();oe("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var to=class to extends Ke{constructor(e,o,t,l,p,c,U,ne,ie,ce,ot,Et){super(e,new Nt,ot,p,U);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=p;this.cdr=c;this.translate=U;this.cmsStoreService=ne;this.router=ie;this.pageInfo=ce;this.publicHelper=ot;this.dialog=Et;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new we;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","linkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","tokenExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","linkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","tokenExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new L;this.dataModelEnumManageUserAccessUserTypesResult=new L;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let k=new x;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new x;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestLinkDeviceId>0){let k=new x;k.propertyName="LinkDeviceId",k.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=B.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=B.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Nt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new x;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new x;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new x;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Uo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(xo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(U=>{o.set(U,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),p=new x;p.propertyName="recordStatus",p.value=Me.Available,l.filters.push(p),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(U=>{o.set(U,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};to.\u0275fac=function(o){return new(o||to)(f(Ot),f(j),f(ge),f(be),f(F),f(P),f(G),f(H),f(Ie),f(We),f(q),f(Ae))},to.\u0275cmp=V({type:to,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[J],decls:104,vars:44,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","tokenExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=A();w(0,hl,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),D("optionActionGuideNoticeDisplayChange",function(c){return S(l),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),I("optionOnActionButtonMemoRow",function(){return S(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(l),C(t.onActionButtonPrintRow())}),T(2,5),m(3," -------------------------------------- "),b(),re(4,6)(5,7),T(6,8),w(7,_l,2,0,"a",9),a(8,"a",10),I("click",function(){return S(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),_(9,"i",11),s(),a(10,"a",10),I("click",function(){return S(l),C(t.onActionButtonReload())}),_(11,"i",12),s(),b(),T(12,13),a(13,"a",14),I("click",function(){return S(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(14,"mat-slide-toggle",15),m(15),h(16,"translate"),s(),a(17,"a",14),I("click",function(){return S(l),C(t.onActionButtonStatist())}),_(18,"mat-slide-toggle",15),m(19),h(20,"translate"),s(),b(),re(21,16),T(22,17),w(23,gl,7,3,"div",18),w(24,vl,7,3,"div",18),a(25,"div",18)(26,"a",19),I("click",function(){return S(l),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),_(27,"i",20)(28,"br"),s(),a(29,"p",21),m(30),h(31,"translate"),s()(),a(32,"div",18)(33,"a",19),I("click",function(){return S(l),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),_(34,"i",22)(35,"br"),s(),a(36,"p",21),m(37),h(38,"translate"),s()(),a(39,"div",18)(40,"a",19),I("click",function(){return S(l),C(t.onActionButtonViewMemberRow(t.tableRowSelected))}),_(41,"i",23)(42,"br"),s(),a(43,"p",21),m(44),h(45,"translate"),s()(),a(46,"div",18)(47,"a",19),I("click",function(){return S(l),C(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),_(48,"i",24)(49,"br"),s(),a(50,"p",21),m(51),h(52,"translate"),s()(),w(53,Tl,7,3,"div",18),b(),T(54,25),a(55,"app-cms-search-list",26),D("optionsChange",function(c){return S(l),R(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(56,"app-cms-statist-list",26),D("optionsChange",function(c){return S(l),R(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),T(57,27),a(58,"mat-table",28,0),I("matSortChange",function(){S(l);let c=Q(59);return C(t.onTableSortData(c))}),T(60,29),M(61,bl,2,1,"mat-header-cell",30)(62,Il,2,1,"mat-cell",31),b(),T(63,32),M(64,Ml,2,1,"mat-header-cell",30)(65,wl,4,5,"mat-cell",31),b(),T(66,33),M(67,El,2,1,"mat-header-cell",30)(68,Al,4,5,"mat-cell",31),b(),T(69,34),M(70,kl,2,1,"mat-header-cell",30)(71,yl,2,1,"mat-cell",31),b(),T(72,35),M(73,Rl,2,1,"mat-header-cell",30)(74,Ll,5,7,"mat-cell",36),b(),T(75,37),M(76,xl,2,1,"mat-header-cell",30)(77,Ul,3,4,"mat-cell",31),b(),T(78,38),M(79,Bl,2,1,"mat-header-cell",30)(80,Vl,3,4,"mat-cell",31),b(),T(81,39),M(82,Ol,2,1,"mat-header-cell",30)(83,Pl,3,3,"mat-cell",31),b(),T(84,40),M(85,Gl,2,1,"mat-header-cell",30)(86,Nl,3,3,"mat-cell",31),b(),T(87,41),M(88,Hl,2,1,"mat-header-cell",30)(89,Fl,3,3,"mat-cell",31),b(),T(90,42),M(91,jl,2,1,"mat-header-cell",30)(92,ql,3,3,"mat-cell",43),b(),T(93,44),M(94,Wl,2,1,"mat-header-cell",30)(95,Ql,3,3,"mat-cell",43),b(),T(96,45),M(97,zl,3,3,"mat-header-cell",46)(98,Jl,6,1,"mat-cell",47),b(),M(99,Kl,1,0,"mat-header-row",48)(100,$l,1,2,"mat-row",49),s(),b(),T(101,50),a(102,"mat-paginator",51,1),I("page",function(c){return S(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(E(t.requestLinkUserId>0?0:-1),n(),v("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","report.user.list"),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),v("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),E(t.requestLinkSiteId>0?7:-1),n(4),oe("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),v("checked",t.optionsSearch.data.show),n(),d("",g(16,31,"ACTION.SEARCH")," "),n(3),v("checked",t.optionsStatist.data.show),n(),d("",g(20,33,"ACTION.STATIST")," "),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),n(6),d(" ",g(31,35,"ACTION.SITE")," "),n(7),d(" ",g(38,37,"ACTION.USER")," "),n(7),d(" ",g(45,39,"ACTION.MEMBER")," "),n(7),d(" ",g(52,41,"ACTION.DEVICE")," "),n(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?53:-1),n(2),y("options",t.optionsSearch),n(),y("options",t.optionsStatist),n(2),v("dataSource",t.tableSource),n(41),v("matHeaderRowDef",t.tabledisplayedColumns),n(),v("matRowDefColumns",t.tabledisplayedColumns),n(2),v("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(43,Sl)))},dependencies:[nt,St,Ee,ke,_e,ye,Re,De,Le,xe,Ue,Be,Oe,He,Pe,Ve,Fe,Ge,Ne,je,qe,$e,Xe,Ye,Ze,ht,tt,Te,N,it,ze,et,Je,_t,gt,at],encapsulation:2});var hi=to;var Xl=["vform"];function Yl(i,r){if(i&1&&(a(0,"option",17),m(1),s()),i&2){let e=r.$implicit;v("value",e.value),n(),d(" ",e.description," ")}}function Zl(i,r){i&1&&(a(0,"mat-error"),m(1," UserAccessAreaType is "),a(2,"strong"),m(3),h(4,"translate"),s()()),i&2&&(n(3),pt(g(4,1,"MESSAGE.required")))}function ec(i,r){if(i&1&&(a(0,"div"),_(1,"div",26),h(2,"prettyjson"),s()),i&2){let e=u();n(),v("innerHTML",g(2,1,e.dataModel),It)}}function tc(i,r){if(i&1){let e=A();a(0,"div",25)(1,"button",27),I("click",function(){S(e);let t=u();return C(t.onFormCancel())}),_(2,"i",28),m(3),h(4,"translate"),s()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var io=class io extends ct{constructor(e,o,t,l,p,c,U,ne,ie,ce){super(l,new Qt,ie,ce);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenUserBadLoginService=l;this.cmsToastrService=p;this.tokenHelper=c;this.cmsStoreService=U;this.cdr=ne;this.publicHelper=ie;this.translate=ce;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new L;this.dataModel=new Qt;this.formInfo=new te;this.dataModelEnumManageUserAccessAreaTypesResult=new L;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.setAccessDataType(rt.Editor),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};io.\u0275fac=function(o){return new(o||io)(f(Z),f(Y),f(z),f(Pt),f(j),f(F),f(H),f(P),f(q),f(G))},io.\u0275cmp=V({type:io,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&K(Xl,5),o&2){let l;$(l=X())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:50,vars:32,consts:[["UsedUsername",""],["UsedPwd",""],["UserAccessAreaType","ngModel"],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.usedUsername",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedUsername","placeholder","UsedUsername","id","dataModel.usedUsername",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.usedPwd",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedPwd","placeholder","UsedPwd","id","dataModel.usedPwd",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){if(o&1){let l=A();a(0,"div",6),_(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),m(4),s(),a(5,"p"),m(6),h(7,"translate"),s(),a(8,"div",10)(9,"label",11),m(10,"UsedUsername"),s(),a(11,"input",12,0),D("ngModelChange",function(c){return S(l),R(t.dataModel.usedUsername,c)||(t.dataModel.usedUsername=c),C(c)}),s()(),a(13,"div",10)(14,"label",13),m(15,"UsedPwd"),s(),a(16,"input",14,1),D("ngModelChange",function(c){return S(l),R(t.dataModel.usedPwd,c)||(t.dataModel.usedPwd=c),C(c)}),s()(),a(18,"div",15)(19,"select",16,2),D("ngModelChange",function(c){return S(l),R(t.dataModel.userAccessAreaType,c)||(t.dataModel.userAccessAreaType=c),C(c)}),Rt(21,Yl,2,2,"option",17,yt),s(),a(23,"em"),m(24),h(25,"translate"),s(),w(26,Zl,5,3,"mat-error"),s(),_(27,"app-cms-site-selector",18),h(28,"translate"),_(29,"app-cms-user-selector",18),h(30,"translate"),_(31,"app-cms-member-selector",18),h(32,"translate"),a(33,"div",10)(34,"label",19),m(35,"LinkDeviceId"),s(),a(36,"input",20,3),D("ngModelChange",function(c){return S(l),R(t.dataModel.linkDeviceId,c)||(t.dataModel.linkDeviceId=c),C(c)}),s()(),a(38,"div",10)(39,"label",21),m(40,"LinkApplicationId"),s(),a(41,"input",22,4),D("ngModelChange",function(c){return S(l),R(t.dataModel.linkApplicationId,c)||(t.dataModel.linkApplicationId=c),C(c)}),s()(),a(43,"div",10)(44,"label",23),m(45,"DeviceClientMAC"),s(),a(46,"input",24,5),D("ngModelChange",function(c){return S(l),R(t.dataModel.deviceClientMAC,c)||(t.dataModel.deviceClientMAC=c),C(c)}),s()(),w(48,ec,3,3,"div"),w(49,tc,5,3,"div",25),s()()}if(o&2){let l=Q(20);n(),v("optionsInfoAreaId",t.constructorInfoAreaId),n(3),d(" ",t.formInfo.formTitle," "),n(2),d(" ",g(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),n(5),y("ngModel",t.dataModel.usedUsername),n(5),y("ngModel",t.dataModel.usedPwd),n(3),y("ngModel",t.dataModel.userAccessAreaType),n(2),Dt(t.dataModelEnumManageUserAccessAreaTypesResult.listItems),n(3),pt(g(25,24,"TITLE.SELECT_STATUS")),n(2),E(l.errors!=null&&l.errors.required?26:-1),n(),v("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",g(28,26,"TITLE.WEBSITE")),n(2),v("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",g(30,28,"TITLE.USER")),n(2),v("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",g(32,30,"TITLE.Member")),n(5),y("ngModel",t.dataModel.linkDeviceId),n(5),y("ngModel",t.dataModel.linkApplicationId),n(5),y("ngModel",t.dataModel.deviceClientMAC),n(2),E(t.tokenInfo.access.userAccessAdminAllowToProfessionalData?48:-1),n(),E(t.formInfo.submitButtonEnabled?49:-1)}},dependencies:[Ai,ki,Ii,Ei,Mi,wi,yi,_e,lt,mt,Ri,ee,N,wt],encapsulation:2});var Bo=io;var ic=["vform"];function oc(i,r){if(i&1){let e=A();a(0,"div",7)(1,"button",8),I("click",function(){S(e);let t=u();return C(t.onFormCancel())}),_(2,"i",9),m(3),h(4,"translate"),s()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var oo=class oo{constructor(r,e,o,t,l,p,c,U,ne,ie){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreTokenUserBadLoginService=t;this.cmsToastrService=l;this.tokenHelper=p;this.cmsStoreService=c;this.cdr=U;this.publicHelper=ne;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new L;this.dataModel=new Qt;this.formInfo=new te;this.dataModelEnumSendSmsStatusTypeResult=new L;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>O(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};oo.\u0275fac=function(e){return new(e||oo)(f(Z),f(Y),f(z),f(Pt),f(j),f(F),f(H),f(P),f(q),f(G))},oo.\u0275cmp=V({type:oo,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&K(ic,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),_(6,"app-cms-form-result-message",5),s(),a(7,"div",6),w(8,oc,5,3,"div",7),s()),e&2&&(n(),d(" ",o.formInfo.formTitle," "),n(2),v("optionsInfoAreaId",o.constructorInfoAreaId),n(),v("dataModel",o.dataModel)("optionMethod",1),n(2),v("formInfo",o.formInfo),n(2),E(o.formInfo.submitButtonEnabled?8:-1))},dependencies:[ee,dt,Qe,N],encapsulation:2});var Vo=oo;var nc=()=>[5,10,20,100];function rc(i,r){if(i&1&&_(0,"app-core-user-header",3),i&2){let e=u();v("optionId",e.requestLinkUserId)}}function sc(i,r){if(i&1){let e=A();a(0,"a",46),I("click",function(){S(e);let t=u();return C(t.onActionBackToParent())}),_(1,"i",47),s()}}function ac(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",48),I("click",function(){S(e);let t=u();return C(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",49)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.EDIT")," "))}function lc(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",50),I("click",function(){S(e);let t=u();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",51)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.DELETE")," "))}function cc(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",52),I("click",function(){S(e);let t=u();return C(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",53)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.VIEW")," "))}function mc(i,r){if(i&1&&(a(0,"mat-header-cell",54),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function dc(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),d(" ",e.id," ")}}function pc(i,r){if(i&1&&(a(0,"mat-header-cell",54),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function uc(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmssiteinfo"),h(3,"async"),s()),i&2){let e=r.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function fc(i,r){if(i&1&&(a(0,"mat-header-cell",54),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Sc(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmsuserinfo"),h(3,"async"),s()),i&2){let e=r.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function Cc(i,r){if(i&1&&(a(0,"mat-header-cell",54),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function hc(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),d(" ",e.linkMemberId," ")}}function _c(i,r){if(i&1&&(a(0,"mat-header-cell",54),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function gc(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=r.$implicit,o=u();n(),d(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function vc(i,r){if(i&1&&(a(0,"mat-header-cell",54),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.usedUsername==null?null:e.fieldsInfo.usedUsername.fieldTitle," ")}}function Tc(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),d(" ",e.usedUsername," ")}}function bc(i,r){if(i&1&&(a(0,"mat-header-cell",54),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Ic(i,r){if(i&1&&(a(0,"mat-cell",55),m(1),h(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),d(" ",g(2,1,e.createdDate)," ")}}function Mc(i,r){i&1&&(a(0,"mat-header-cell"),m(1),h(2,"translate"),s()),i&2&&(n(),d(" ",g(2,1,"TITLE.OPTION")," "))}function wc(i,r){if(i&1&&(a(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),m(3,"more_vert"),s()(),_(4,"mat-menu",null,2),s()),i&2){let e=Q(5);n(),v("matMenuTriggerFor",e)}}function Ec(i,r){i&1&&_(0,"mat-header-row")}function Ac(i,r){if(i&1){let e=A();a(0,"mat-row",58),I("click",function(t){let l=S(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=S(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=u();oe("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var no=class no extends Ke{constructor(e,o,t,l,p,c,U,ne,ie,ce,ot,Et,k){super(o,new Qt,Et,c,ne);this.coreEnumService=e;this.contentService=o;this.cmsToastrService=t;this.cmsConfirmationDialogService=l;this.activatedRoute=p;this.tokenHelper=c;this.cdr=U;this.translate=ne;this.cmsStoreService=ie;this.router=ce;this.pageInfo=ot;this.publicHelper=Et;this.dialog=k;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new we;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","linkMemberId","UserAccessAreaType","UsedUsername","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","linkMemberId","UserAccessAreaType","UsedUsername","createdDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new L;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let vt=new x;vt.propertyName="LinkCmsSiteId",vt.value=this.requestLinkSiteId,this.filteModelContent.filters.push(vt)}if(this.requestLinkUserId>0){let vt=new x;vt.propertyName="linkUserId",vt.value=this.requestLinkUserId,this.filteModelContent.filters.push(vt)}if(this.requestLinkDeviceId>0){let vt=new x;vt.propertyName="LinkDeviceId",vt.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(vt)}this.optionsSearch.parentMethods={onSubmit:vt=>this.onSubmitOptionsSearch(vt)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=B.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=B.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Qt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new x;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new x;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new x;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Vo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Bo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(U=>{o.set(U,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),p=new x;p.propertyName="recordStatus",p.value=Me.Available,l.filters.push(p),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(U=>{o.set(U,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};no.\u0275fac=function(o){return new(o||no)(f(z),f(Pt),f(j),f(ge),f(be),f(F),f(P),f(G),f(H),f(Ie),f(We),f(q),f(Ae))},no.\u0275cmp=V({type:no,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[J],decls:89,vars:44,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UsedUsername"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=A();w(0,rc,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),D("optionActionGuideNoticeDisplayChange",function(c){return S(l),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),I("optionOnActionButtonMemoRow",function(){return S(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(l),C(t.onActionButtonPrintRow())}),T(2,5),m(3," -------------------------------------- "),b(),re(4,6)(5,7),T(6,8),w(7,sc,2,0,"a",9),a(8,"a",10),I("click",function(){return S(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),_(9,"i",11),s(),a(10,"a",10),I("click",function(){return S(l),C(t.onActionButtonReload())}),_(11,"i",12),s(),b(),T(12,13),a(13,"a",14),I("click",function(){return S(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(14,"mat-slide-toggle",15),m(15),h(16,"translate"),s(),a(17,"a",14),I("click",function(){return S(l),C(t.onActionButtonStatist())}),_(18,"mat-slide-toggle",15),m(19),h(20,"translate"),s(),b(),re(21,16),T(22,17),w(23,ac,7,3,"div",18),w(24,lc,7,3,"div",18),a(25,"div",18)(26,"a",19),I("click",function(){return S(l),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),_(27,"i",20)(28,"br"),s(),a(29,"p",21),m(30),h(31,"translate"),s()(),a(32,"div",18)(33,"a",19),I("click",function(){return S(l),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),_(34,"i",22)(35,"br"),s(),a(36,"p",21),m(37),h(38,"translate"),s()(),a(39,"div",18)(40,"a",19),I("click",function(){return S(l),C(t.onActionButtonViewMemberRow(t.tableRowSelected))}),_(41,"i",23)(42,"br"),s(),a(43,"p",21),m(44),h(45,"translate"),s()(),a(46,"div",18)(47,"a",19),I("click",function(){return S(l),C(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),_(48,"i",24)(49,"br"),s(),a(50,"p",21),m(51),h(52,"translate"),s()(),w(53,cc,7,3,"div",18),b(),T(54,25),a(55,"app-cms-search-list",26),D("optionsChange",function(c){return S(l),R(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(56,"app-cms-statist-list",26),D("optionsChange",function(c){return S(l),R(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),T(57,27),a(58,"mat-table",28,0),I("matSortChange",function(){S(l);let c=Q(59);return C(t.onTableSortData(c))}),T(60,29),M(61,mc,2,1,"mat-header-cell",30)(62,dc,2,1,"mat-cell",31),b(),T(63,32),M(64,pc,2,1,"mat-header-cell",30)(65,uc,4,5,"mat-cell",31),b(),T(66,33),M(67,fc,2,1,"mat-header-cell",30)(68,Sc,4,5,"mat-cell",31),b(),T(69,34),M(70,Cc,2,1,"mat-header-cell",30)(71,hc,2,1,"mat-cell",31),b(),T(72,35),M(73,_c,2,1,"mat-header-cell",30)(74,gc,3,4,"mat-cell",31),b(),T(75,36),M(76,vc,2,1,"mat-header-cell",30)(77,Tc,2,1,"mat-cell",31),b(),T(78,37),M(79,bc,2,1,"mat-header-cell",30)(80,Ic,3,3,"mat-cell",38),b(),T(81,39),M(82,Mc,3,3,"mat-header-cell",40)(83,wc,6,1,"mat-cell",41),b(),M(84,Ec,1,0,"mat-header-row",42)(85,Ac,1,2,"mat-row",43),s(),b(),T(86,44),a(87,"mat-paginator",45,1),I("page",function(c){return S(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(E(t.requestLinkUserId>0?0:-1),n(),v("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),v("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),E(t.requestLinkSiteId>0?7:-1),n(4),oe("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),v("checked",t.optionsSearch.data.show),n(),d("",g(16,31,"ACTION.SEARCH")," "),n(3),v("checked",t.optionsStatist.data.show),n(),d("",g(20,33,"ACTION.STATIST")," "),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),n(6),d(" ",g(31,35,"ACTION.SITE")," "),n(7),d(" ",g(38,37,"ACTION.USER")," "),n(7),d(" ",g(45,39,"ACTION.MEMBER")," "),n(7),d(" ",g(52,41,"ACTION.DEVICE")," "),n(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?53:-1),n(2),y("options",t.optionsSearch),n(),y("options",t.optionsStatist),n(2),v("dataSource",t.tableSource),n(26),v("matHeaderRowDef",t.tabledisplayedColumns),n(),v("matRowDefColumns",t.tabledisplayedColumns),n(2),v("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(43,nc)))},dependencies:[Ee,ke,ye,Re,De,Le,xe,Ue,Be,Oe,He,Pe,Ve,Fe,Ge,Ne,je,qe,$e,Xe,Ye,Ze,tt,Te,N,it,ze,et,Je],encapsulation:2});var _i=no;var kc=["vform"];function yc(i,r){if(i&1){let e=A();a(0,"app-cms-enum-record-status-selector",35),D("modelChange",function(t){S(e);let l=u();return R(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),C(t)}),s()}if(i&2){let e=u();y("model",e.dataModel.recordStatus),v("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Rc(i,r){if(i&1&&(a(0,"option",16),m(1),s()),i&2){let e=r.$implicit;v("value",e.value),n(),d(" ",e.description," ")}}function Dc(i,r){i&1&&(a(0,"mat-error"),m(1," LinkMemberId is "),a(2,"strong"),m(3),h(4,"translate"),s()()),i&2&&(n(3),pt(g(4,1,"MESSAGE.required")))}function Lc(i,r){if(i&1&&(a(0,"option",16),m(1),s()),i&2){let e=r.$implicit;v("value",e.value),n(),d(" ",e.description," ")}}function xc(i,r){i&1&&(a(0,"mat-error"),m(1," UserAccessAreaType is "),a(2,"strong"),m(3),h(4,"translate"),s()()),i&2&&(n(3),pt(g(4,1,"MESSAGE.required")))}function Uc(i,r){if(i&1){let e=A();a(0,"div",19)(1,"div",36)(2,"h5",37),m(3),s()(),a(4,"div",38)(5,"div",39)(6,"input",40),D("ngModelChange",function(t){S(e);let l=u();return R(l.dataModel.userAccessAdminAllowToAllData,t)||(l.dataModel.userAccessAdminAllowToAllData=t),C(t)}),s(),_(7,"label",41),s()()()}if(i&2){let e=u();n(3),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," "),n(3),y("ngModel",e.dataModel.userAccessAdminAllowToAllData)}}function Bc(i,r){if(i&1){let e=A();a(0,"div",19)(1,"div",36)(2,"h5",42),m(3),s()(),a(4,"div",38)(5,"div",39)(6,"input",43),D("ngModelChange",function(t){S(e);let l=u();return R(l.dataModel.userAccessAdminAllowToProfessionalData,t)||(l.dataModel.userAccessAdminAllowToProfessionalData=t),C(t)}),s(),_(7,"label",44),s()()()}if(i&2){let e=u();n(3),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," "),n(3),y("ngModel",e.dataModel.userAccessAdminAllowToProfessionalData)}}function Vc(i,r){if(i&1){let e=A();a(0,"div",19)(1,"div",36)(2,"h5",45),m(3),s()(),a(4,"div",38)(5,"div",39)(6,"input",46),D("ngModelChange",function(t){S(e);let l=u();return R(l.dataModel.rememberOnDevice,t)||(l.dataModel.rememberOnDevice=t),C(t)}),s(),_(7,"label",47),s()()()}if(i&2){let e=u();n(3),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," "),n(3),y("ngModel",e.dataModel.rememberOnDevice)}}function Oc(i,r){if(i&1){let e=A();a(0,"div",33)(1,"label",48),m(2),s(),a(3,"input",49),D("ngModelChange",function(t){S(e);let l=u();return R(l.dataModel.tokenExpireDate,t)||(l.dataModel.tokenExpireDate=t),C(t)}),s(),_(4,"mat-datepicker-toggle",50)(5,"mat-datepicker",51,8),s()}if(i&2){let e=Q(6),o=u();n(2),pt(o.fieldsInfo.tokenExpireDate==null?null:o.fieldsInfo.tokenExpireDate.fieldTitle),n(),v("matDatepicker",e),y("ngModel",o.dataModel.tokenExpireDate),n(),v("for",e)}}function Pc(i,r){if(i&1&&(a(0,"div"),_(1,"div",52),h(2,"prettyjson"),s()),i&2){let e=u();n(),v("innerHTML",g(2,1,e.dataModel),It)}}function Gc(i,r){if(i&1){let e=A();a(0,"div",34)(1,"button",53),I("click",function(){S(e);let t=u();return C(t.onFormCancel())}),_(2,"i",54),m(3),h(4,"translate"),s()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var ro=class ro extends ct{constructor(e,o,t,l,p,c,U,ne,ie,ce){super(l,new Ht,ie,ce);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreLogTokenUserService=l;this.cmsToastrService=p;this.tokenHelper=c;this.cmsStoreService=U;this.cdr=ne;this.publicHelper=ie;this.translate=ce;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Lt;this.dataModel=new Ht;this.formInfo=new te;this.dataModelEnumManageUserAccessAreaTypesResult=new L;this.dataModelEnumManageUserAccessUserTypesResult=new L;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreLogTokenUserService.setAccessLoad(),this.coreLogTokenUserService.setAccessDataType(rt.Editor),this.coreLogTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ro.\u0275fac=function(o){return new(o||ro)(f(Z),f(Y),f(z),f(xt),f(j),f(F),f(H),f(P),f(q),f(G))},ro.\u0275cmp=V({type:ro,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&K(kc,5),o&2){let l;$(l=X())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:69,vars:43,consts:[["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],["Token",""],["tokenExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){if(o&1){let l=A();a(0,"div",9),_(1,"app-progress-spinner",10),a(2,"div",11)(3,"p",12),m(4),s(),a(5,"p"),m(6),h(7,"translate"),s(),w(8,yc,1,5,"app-cms-enum-record-status-selector",13),a(9,"div",14)(10,"select",15,0),D("ngModelChange",function(c){return S(l),R(t.dataModel.linkMemberId,c)||(t.dataModel.linkMemberId=c),C(c)}),Rt(12,Rc,2,2,"option",16,yt),s(),a(14,"em"),m(15),h(16,"translate"),s(),w(17,Dc,5,3,"mat-error"),s(),a(18,"div",14)(19,"select",17,1),D("ngModelChange",function(c){return S(l),R(t.dataModel.userAccessAreaType,c)||(t.dataModel.userAccessAreaType=c),C(c)}),Rt(21,Lc,2,2,"option",16,yt),s(),a(23,"em"),m(24),h(25,"translate"),s(),w(26,xc,5,3,"mat-error"),s(),_(27,"app-cms-site-selector",18),h(28,"translate"),_(29,"app-cms-user-selector",18),h(30,"translate"),_(31,"app-cms-member-selector",18),h(32,"translate"),w(33,Uc,8,2,"div",19),w(34,Bc,8,2,"div",19),w(35,Vc,8,2,"div",19),a(36,"div",20)(37,"label",21),m(38,"BrowserLanguage"),s(),a(39,"input",22,2),D("ngModelChange",function(c){return S(l),R(t.dataModel.browserLanguage,c)||(t.dataModel.browserLanguage=c),C(c)}),s()(),a(41,"div",20)(42,"label",23),m(43,"UserLanguage"),s(),a(44,"input",24,3),D("ngModelChange",function(c){return S(l),R(t.dataModel.userLanguage,c)||(t.dataModel.userLanguage=c),C(c)}),s()(),a(46,"div",20)(47,"label",25),m(48,"LinkDeviceId"),s(),a(49,"input",26,4),D("ngModelChange",function(c){return S(l),R(t.dataModel.linkDeviceId,c)||(t.dataModel.linkDeviceId=c),C(c)}),s()(),a(51,"div",20)(52,"label",27),m(53,"LinkApplicationId"),s(),a(54,"input",28,5),D("ngModelChange",function(c){return S(l),R(t.dataModel.linkApplicationId,c)||(t.dataModel.linkApplicationId=c),C(c)}),s()(),a(56,"div",20)(57,"label",29),m(58,"DeviceClientMAC"),s(),a(59,"input",30,6),D("ngModelChange",function(c){return S(l),R(t.dataModel.deviceClientMAC,c)||(t.dataModel.deviceClientMAC=c),C(c)}),s()(),a(61,"div",20)(62,"label",31),m(63,"Token"),s(),a(64,"input",32,7),D("ngModelChange",function(c){return S(l),R(t.dataModel.token,c)||(t.dataModel.token=c),C(c)}),s()(),w(66,Oc,7,4,"div",33),w(67,Pc,3,3,"div"),w(68,Gc,5,3,"div",34),s()()}if(o&2){let l=Q(11),p=Q(20);n(),v("optionsInfoAreaId",t.constructorInfoAreaId),n(3),d(" ",t.formInfo.formTitle," "),n(2),d(" ",g(7,31,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),E(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?8:-1),n(2),y("ngModel",t.dataModel.linkMemberId),n(2),Dt(t.dataModelEnumManageUserAccessUserTypesResult.listItems),n(3),pt(g(16,33,"TITLE.SELECT_STATUS")),n(2),E(l.errors!=null&&l.errors.required?17:-1),n(2),y("ngModel",t.dataModel.userAccessAreaType),n(2),Dt(t.dataModelEnumManageUserAccessAreaTypesResult.listItems),n(3),pt(g(25,35,"TITLE.SELECT_STATUS")),n(2),E(p.errors!=null&&p.errors.required?26:-1),n(),v("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",g(28,37,"TITLE.WEBSITE")),n(2),v("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",g(30,39,"TITLE.USER")),n(2),v("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",g(32,41,"TITLE.Member")),n(2),E(t.fieldsInfo.userAccessAdminAllowToAllData!=null&&t.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField?33:-1),n(),E(t.fieldsInfo.userAccessAdminAllowToProfessionalData!=null&&t.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField?34:-1),n(),E(t.fieldsInfo.rememberOnDevice!=null&&t.fieldsInfo.rememberOnDevice.accessWatchField?35:-1),n(4),y("ngModel",t.dataModel.browserLanguage),n(5),y("ngModel",t.dataModel.userLanguage),n(5),y("ngModel",t.dataModel.linkDeviceId),n(5),y("ngModel",t.dataModel.linkApplicationId),n(5),y("ngModel",t.dataModel.deviceClientMAC),n(5),y("ngModel",t.dataModel.token),n(2),E(t.fieldsInfo.tokenExpireDate!=null&&t.fieldsInfo.tokenExpireDate.accessWatchField?66:-1),n(),E(t.tokenInfo.access.userAccessAdminAllowToProfessionalData?67:-1),n(),E(t.formInfo.submitButtonEnabled?68:-1)}},dependencies:[Ai,ki,Ii,uo,Ei,Mi,wi,So,Co,ho,yi,fo,_e,lt,Ct,mt,Ri,ee,N,wt],encapsulation:2});var Oo=ro;var Nc=["vform"];function Hc(i,r){if(i&1){let e=A();a(0,"div",7)(1,"button",8),I("click",function(){S(e);let t=u();return C(t.onFormCancel())}),_(2,"i",9),m(3),h(4,"translate"),s()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var so=class so{constructor(r,e,o,t,l,p,c,U,ne,ie){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreLogTokenUserService=t;this.cmsToastrService=l;this.tokenHelper=p;this.cmsStoreService=c;this.cdr=U;this.publicHelper=ne;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new L;this.dataModel=new Ht;this.formInfo=new te;this.dataModelEnumSendSmsStatusTypeResult=new L;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>O(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreLogTokenUserService.setAccessLoad(),this.coreLogTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};so.\u0275fac=function(e){return new(e||so)(f(Z),f(Y),f(z),f(xt),f(j),f(F),f(H),f(P),f(q),f(G))},so.\u0275cmp=V({type:so,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&K(Nc,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),_(6,"app-cms-form-result-message",5),s(),a(7,"div",6),w(8,Hc,5,3,"div",7),s()),e&2&&(n(),d(" ",o.formInfo.formTitle," "),n(2),v("optionsInfoAreaId",o.constructorInfoAreaId),n(),v("dataModel",o.dataModel)("optionMethod",1),n(2),v("formInfo",o.formInfo),n(2),E(o.formInfo.submitButtonEnabled?8:-1))},dependencies:[ee,dt,Qe,N],encapsulation:2});var Po=so;var Fc=()=>["expandedTitle"],jc=()=>[5,10,20,100];function qc(i,r){if(i&1&&_(0,"app-core-user-header",3),i&2){let e=u();v("optionId",e.requestLinkUserId)}}function Wc(i,r){if(i&1){let e=A();a(0,"a",46),I("click",function(){S(e);let t=u();return C(t.onActionBackToParent())}),_(1,"i",47),s()}}function Qc(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",48),I("click",function(){S(e);let t=u();return C(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",49)(3,"br"),s(),a(4,"p",50),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.EDIT")," "))}function zc(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",51),I("click",function(){S(e);let t=u();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",52)(3,"br"),s(),a(4,"p",50),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.DELETE")," "))}function Jc(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",53),I("click",function(){S(e);let t=u();return C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),_(2,"i",54)(3,"br"),s(),a(4,"p",50),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.SITE")," "))}function Kc(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",53),I("click",function(){S(e);let t=u();return C(t.onActionButtonViewUserRow(t.tableRowSelected))}),_(2,"i",55)(3,"br"),s(),a(4,"p",50),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.USER")," "))}function $c(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",53),I("click",function(){S(e);let t=u();return C(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),_(2,"i",56)(3,"br"),s(),a(4,"p",50),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.DEVICE")," "))}function Xc(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",57),I("click",function(){S(e);let t=u();return C(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",58)(3,"br"),s(),a(4,"p",50),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.VIEW")," "))}function Yc(i,r){if(i&1){let e=A();a(0,"mat-row",59),I("click",function(t){let l=S(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=S(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=S(e).$implicit,l=u();return C(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=S(e).$implicit,l=u();return C(l.onActionTableRowMouseLeave(t))}),s()}if(i&2){let e=r.$implicit,o=u();oe("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}function Zc(i,r){if(i&1&&(a(0,"mat-header-cell",60),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function em(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),d(" ",e.id," ")}}function tm(i,r){if(i&1&&(a(0,"mat-header-cell",60),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function im(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),d(" ",e.description," ")}}function om(i,r){if(i&1&&(a(0,"mat-header-cell",60),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function nm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmssiteinfo"),h(3,"async"),s()),i&2){let e=r.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function rm(i,r){if(i&1&&(a(0,"mat-header-cell",60),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function sm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmsuserinfo"),h(3,"async"),s()),i&2){let e=r.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function am(i,r){if(i&1&&(a(0,"mat-header-cell",60),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function lm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),d(" ",e.linkMemberUserId," ")}}function cm(i,r){if(i&1&&(a(0,"mat-header-cell",60),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function mm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=r.$implicit,o=u();n(),d(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function dm(i,r){if(i&1&&(a(0,"mat-header-cell",60),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function pm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=r.$implicit,o=u();n(),d(" ",ae(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function um(i,r){if(i&1&&(a(0,"mat-header-cell",60),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function fm(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",61),h(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),v("ngClass",g(2,1,e.userAccessAdminAllowToAllData))}}function Sm(i,r){if(i&1&&(a(0,"mat-header-cell",60),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Cm(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",61),h(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),v("ngClass",g(2,1,e.userAccessAdminAllowToProfessionalData))}}function hm(i,r){if(i&1&&(a(0,"mat-header-cell",60),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function _m(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",61),h(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),v("ngClass",g(2,1,e.rememberOnDevice))}}function gm(i,r){if(i&1&&(a(0,"mat-header-cell",60),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function vm(i,r){if(i&1&&(a(0,"mat-cell",62),m(1),h(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),d(" ",g(2,1,e.createdDate)," ")}}function Tm(i,r){i&1&&(a(0,"mat-header-cell"),m(1),h(2,"translate"),s()),i&2&&(n(),d(" ",g(2,1,"TITLE.OPTION")," "))}function bm(i,r){if(i&1&&(a(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),m(3,"more_vert"),s()(),_(4,"mat-menu",null,2),s()),i&2){let e=Q(5);n(),v("matMenuTriggerFor",e)}}function Im(i,r){i&1&&_(0,"mat-header-row")}function Mm(i,r){if(i&1){let e=A();a(0,"mat-row",65),I("click",function(t){let l=S(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=S(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=u();oe("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}function wm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"translate"),_(3,"br"),m(4),h(5,"translate"),_(6,"br"),m(7),h(8,"translate"),h(9,"cmssiteinfo"),h(10,"async"),_(11,"br"),m(12),h(13,"translate"),h(14,"cmsuserinfo"),h(15,"async"),_(16,"br"),m(17),h(18,"translate"),h(19,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),bi(" ",g(2,10,"TITLE.Id")," : ",e.id," "),n(3),bi(" ",g(5,12,"TITLE.Description")," : ",e.description," "),n(3),bi(" ",g(8,14,"TITLE.Site_Id")," : ",g(10,18,g(9,16,e.linkSiteId))," "),n(5),bi(" ",g(13,20,"TITLE.User_Id")," : ",g(15,24,g(14,22,e.linkUserId))," "),n(5),bi(" ",g(18,26,"TITLE.CreationDate")," : ",g(19,28,e.createdDate)," ")}}var ao=class ao extends Ke{constructor(e,o,t,l,p,c,U,ne,ie,ce,ot,Et){super(e,new Ht,ot,p,ne);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=p;this.cdr=c;this.cmsStoreService=U;this.translate=ne;this.router=ie;this.pageInfo=ce;this.publicHelper=ot;this.dialog=Et;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new we;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"];this.tabledisplayedColumnsMobileSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"];this.dataModelEnumManageUserAccessAreaTypesResult=new L;this.dataModelEnumManageUserAccessUserTypesResult=new L;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let k=new x;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new x;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestLinkDeviceId>0){let k=new x;k.propertyName="LinkDeviceId",k.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=B.Descending}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=B.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ht);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Po,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Oo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let p=this.constructor.name+"ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(U=>{o.set(U,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),p=new x;p.propertyName="recordStatus",p.value=Me.Available,l.filters.push(p),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(U=>{o.set(U,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};ao.\u0275fac=function(o){return new(o||ao)(f(xt),f(j),f(ge),f(be),f(F),f(P),f(H),f(G),f(Ie),f(We),f(q),f(Ae))},ao.\u0275cmp=V({type:ao,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[J],decls:79,vars:37,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],["mat-sort-header",""],[3,"ngClass"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=A();w(0,qc,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),D("optionActionGuideNoticeDisplayChange",function(c){return S(l),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),I("optionOnActionButtonMemoRow",function(){return S(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(l),C(t.onActionButtonPrintRow())}),T(2,5),m(3," -------------------------------------- "),b(),re(4,6)(5,7),T(6,8),w(7,Wc,2,0,"a",9),a(8,"a",10),I("click",function(){return S(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),_(9,"i",11),s(),a(10,"a",10),I("click",function(){return S(l),C(t.onActionButtonReload())}),_(11,"i",12),s(),b(),T(12,13),a(13,"a",14),I("click",function(){return S(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(14,"mat-slide-toggle",15),m(15),h(16,"translate"),s(),a(17,"a",14),I("click",function(){return S(l),C(t.onActionButtonStatist())}),_(18,"mat-slide-toggle",15),m(19),h(20,"translate"),s(),b(),re(21,16),T(22,17),w(23,Qc,7,3,"div",18),w(24,zc,7,3,"div",18),w(25,Jc,7,3,"div",18),w(26,Kc,7,3,"div",18),w(27,$c,7,3,"div",18),w(28,Xc,7,3,"div",18),b(),T(29,19),a(30,"app-cms-search-list",20),D("optionsChange",function(c){return S(l),R(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(31,"app-cms-statist-list",20),D("optionsChange",function(c){return S(l),R(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),T(32,21),a(33,"mat-table",22,0),I("matSortChange",function(){S(l);let c=Q(34);return C(t.onTableSortData(c))}),M(35,Yc,1,2,"mat-row",23),T(36,24),M(37,Zc,2,1,"mat-header-cell",25)(38,em,2,1,"mat-cell",26),b(),T(39,27),M(40,tm,2,1,"mat-header-cell",25)(41,im,2,1,"mat-cell",26),b(),T(42,28),M(43,om,2,1,"mat-header-cell",25)(44,nm,4,5,"mat-cell",26),b(),T(45,29),M(46,rm,2,1,"mat-header-cell",25)(47,sm,4,5,"mat-cell",26),b(),T(48,30),M(49,am,2,1,"mat-header-cell",25)(50,lm,2,1,"mat-cell",26),b(),T(51,31),M(52,cm,2,1,"mat-header-cell",25)(53,mm,3,4,"mat-cell",26),b(),T(54,32),M(55,dm,2,1,"mat-header-cell",25)(56,pm,3,4,"mat-cell",26),b(),T(57,33),M(58,um,2,1,"mat-header-cell",25)(59,fm,3,3,"mat-cell",26),b(),T(60,34),M(61,Sm,2,1,"mat-header-cell",25)(62,Cm,3,3,"mat-cell",26),b(),T(63,35),M(64,hm,2,1,"mat-header-cell",25)(65,_m,3,3,"mat-cell",26),b(),T(66,36),M(67,gm,2,1,"mat-header-cell",25)(68,vm,3,3,"mat-cell",37),b(),T(69,38),M(70,Tm,3,3,"mat-header-cell",39)(71,bm,6,1,"mat-cell",40),b(),M(72,Im,1,0,"mat-header-row",41)(73,Mm,1,2,"mat-row",42),T(74,43),M(75,wm,20,30,"mat-cell",26),b(),s(),b(),T(76,44),a(77,"mat-paginator",45,1),I("page",function(c){return S(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(E(t.requestLinkUserId>0?0:-1),n(),v("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),v("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),E(t.requestLinkSiteId>0?7:-1),n(4),oe("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),v("checked",t.optionsSearch.data.show),n(),d("",g(16,31,"ACTION.SEARCH")," "),n(3),v("checked",t.optionsStatist.data.show),n(),d("",g(20,33,"ACTION.STATIST")," "),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),n(),E((t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0?25:-1),n(),E((t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0?26:-1),n(),E((t.tableRowSelected==null||t.tableRowSelected.deviceClientMAC==null?null:t.tableRowSelected.deviceClientMAC.length)>0?27:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?28:-1),n(2),y("options",t.optionsSearch),n(),y("options",t.optionsStatist),n(2),v("dataSource",t.tableSource),n(2),v("matRowDefColumns",ve(35,Fc)),n(37),v("matHeaderRowDef",t.tabledisplayedColumns),n(),v("matRowDefColumns",t.tabledisplayedColumns),n(4),v("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(36,jc)))},dependencies:[nt,Ee,ke,ye,Re,De,Le,xe,Ue,Be,Oe,He,Pe,Ve,Fe,Ge,Ne,je,qe,$e,Xe,Ye,Ze,tt,Te,N,it,ze,et,Je,at],encapsulation:2});var gi=ao;var Em=()=>[5,10,20,100],Am=i=>({display:i}),km=i=>({background:i});function ym(i,r){if(i&1&&_(0,"app-core-user-header",3),i&2){let e=u();v("optionId",e.requestLinkUserId)}}function Rm(i,r){if(i&1){let e=A();a(0,"a",51),I("click",function(){S(e);let t=u();return C(t.onActionBackToParent())}),_(1,"i",52),s()}}function Dm(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",53),I("click",function(){S(e);let t=u();return C(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",54)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.EDIT")," "))}function Lm(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",55),I("click",function(){S(e);let t=u();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",56)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.DELETE")," "))}function xm(i,r){if(i&1){let e=A();a(0,"div",18)(1,"a",57),I("click",function(){S(e);let t=u();return C(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",58)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.VIEW")," "))}function Um(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Bm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),d(" ",e.id," ")}}function Vm(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Om(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmssiteinfo"),h(3,"async"),s()),i&2){let e=r.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function Pm(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Gm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmsuserinfo"),h(3,"async"),s()),i&2){let e=r.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function Nm(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Hm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),d(" ",e.linkMemberUserId," ")}}function Fm(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function jm(i,r){if(i&1&&_(0,"select",61),i&2){let e=u().$implicit,o=u();v("contentService",o.contentService)("row",e)("ngStyle",he(3,Am,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function qm(i,r){if(i&1&&(a(0,"mat-cell",60),h(1,"statusCellClass"),_(2,"i",60),h(3,"statusIconClass"),w(4,jm,1,5,"select",61),s()),i&2){let e=r.$implicit,o=u();v("ngClass",g(1,3,e.recordStatus)),n(2),v("ngClass",g(3,5,e.recordStatus)),n(2),E(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessEditRow?4:-1)}}function Wm(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Qm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=r.$implicit,o=u();n(),d(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function zm(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function Jm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=r.$implicit,o=u();n(),d(" ",ae(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Km(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function $m(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",60),h(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),v("ngClass",g(2,1,e.userAccessAdminAllowToAllData))}}function Xm(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Ym(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",60),h(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),v("ngClass",g(2,1,e.userAccessAdminAllowToProfessionalData))}}function Zm(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function ed(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",60),h(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),v("ngClass",g(2,1,e.rememberOnDevice))}}function td(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function id(i,r){if(i&1&&(a(0,"mat-cell",62),m(1),h(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),d(" ",g(2,1,e.createdDate)," ")}}function od(i,r){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();n(),d(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function nd(i,r){if(i&1&&(a(0,"mat-cell",63),m(1),h(2,"persianDate"),s()),i&2){let e=r.$implicit,o=u();v("ngStyle",he(4,km,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),d(" ",g(2,2,e.expireDate)," ")}}function rd(i,r){i&1&&(a(0,"mat-header-cell"),m(1),h(2,"translate"),s()),i&2&&(n(),d(" ",g(2,1,"TITLE.OPTION")," "))}function sd(i,r){if(i&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),m(3,"more_vert"),s()(),_(4,"mat-menu",null,2),s()),i&2){let e=Q(5);n(),v("matMenuTriggerFor",e)}}function ad(i,r){i&1&&_(0,"mat-header-row")}function ld(i,r){if(i&1){let e=A();a(0,"mat-row",66),I("click",function(t){let l=S(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=S(e).$implicit,p=u();return C(p.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=u();oe("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var lo=class lo extends Ke{constructor(e,o,t,l,p,c,U,ne,ie,ce,ot,Et){super(e,new bt,ot,p,U);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=p;this.cdr=c;this.translate=U;this.cmsStoreService=ne;this.router=ie;this.pageInfo=ce;this.publicHelper=ot;this.dialog=Et;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new we;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new L;this.dataModelEnumManageUserAccessUserTypesResult=new L;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let k=new x;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new x;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestLinkDeviceId>0){let k=new x;k.propertyName="LinkDeviceId",k.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=B.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=B.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>O(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.processOrderStore).subscribe(e=>O(this,null,function*(){var o=e.find(t=>t.contentAction=="core_token_online_update_list"&&!t.isRun);o&&o?.id?.length>0&&(o.isRun=!0,this.publicHelper.setProcessOrder(o),this.DataGetAll(t=>{o.isComplate=!0,o.isSuccess=t,this.publicHelper.setProcessOrder(o)}))})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(e=()=>{}){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new bt);let o=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(l=>{this.publicHelper.processService.processStart(o,l,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let l=new x;l.propertyName="recordStatus",l.value=this.filteModelContent.filterActionSearchRecordStatus,t.filters.push(l)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let l=new x;l.propertyAnyName="linkSiteId",l.propertyName="SiteUsers",l.value=this.filteModelContent.filterActionSearchLinkSiteId,t.filters.push(l)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let l=new x;l.propertyAnyName="linkUserId",l.value=this.filteModelContent.filterActionSearchLinkUserId,t.filters.push(l)}this.contentService.ServiceGetAllLiveConnection(t).subscribe({next:l=>{l.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)},1e3)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(o),e&&e(!0)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(o,!1),e&&e(!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Xi,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Ki,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(U=>{o.set(U,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),p=new x;p.propertyName="recordStatus",p.value=Me.Available,l.filters.push(p),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(U=>{o.set(U,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};lo.\u0275fac=function(o){return new(o||lo)(f(Mt),f(j),f(ge),f(be),f(F),f(P),f(G),f(H),f(Ie),f(We),f(q),f(Ae))},lo.\u0275cmp=V({type:lo,selectors:[["app-coretoken-notification-list-online"]],standalone:!1,features:[J],decls:90,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=A();w(0,ym,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),D("optionActionGuideNoticeDisplayChange",function(c){return S(l),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),I("optionOnActionButtonMemoRow",function(){return S(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(l),C(t.onActionButtonPrintRow())}),T(2,5),m(3," -------------------------------------- "),b(),re(4,6)(5,7),T(6,8),w(7,Rm,2,0,"a",9),a(8,"a",10),I("click",function(){return S(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),_(9,"i",11),s(),a(10,"a",10),I("click",function(){return S(l),C(t.onActionButtonReload())}),_(11,"i",12),s(),b(),T(12,13),a(13,"a",14),I("click",function(){return S(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(14,"mat-slide-toggle",15),m(15),h(16,"translate"),s(),a(17,"a",14),I("click",function(){return S(l),C(t.onActionButtonStatist())}),_(18,"mat-slide-toggle",15),m(19),h(20,"translate"),s(),b(),re(21,16),T(22,17),w(23,Dm,7,3,"div",18),w(24,Lm,7,3,"div",18),a(25,"div",18)(26,"a",19),I("click",function(){return S(l),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),_(27,"i",20)(28,"br"),s(),a(29,"p",21),m(30),h(31,"translate"),s()(),a(32,"div",18)(33,"a",19),I("click",function(){return S(l),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),_(34,"i",22)(35,"br"),s(),a(36,"p",21),m(37),h(38,"translate"),s()(),w(39,xm,7,3,"div",18),b(),T(40,23),a(41,"app-cms-search-list",24),D("optionsChange",function(c){return S(l),R(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(42,"app-cms-statist-list",24),D("optionsChange",function(c){return S(l),R(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),T(43,25),a(44,"mat-table",26,0),I("matSortChange",function(){S(l);let c=Q(45);return C(t.onTableSortData(c))}),T(46,27),M(47,Um,2,1,"mat-header-cell",28)(48,Bm,2,1,"mat-cell",29),b(),T(49,30),M(50,Vm,2,1,"mat-header-cell",28)(51,Om,4,5,"mat-cell",29),b(),T(52,31),M(53,Pm,2,1,"mat-header-cell",28)(54,Gm,4,5,"mat-cell",29),b(),T(55,32),M(56,Nm,2,1,"mat-header-cell",28)(57,Hm,2,1,"mat-cell",29),b(),T(58,33),M(59,Fm,2,1,"mat-header-cell",28)(60,qm,5,7,"mat-cell",34),b(),T(61,35),M(62,Wm,2,1,"mat-header-cell",28)(63,Qm,3,4,"mat-cell",29),b(),T(64,36),M(65,zm,2,1,"mat-header-cell",28)(66,Jm,3,4,"mat-cell",29),b(),T(67,37),M(68,Km,2,1,"mat-header-cell",28)(69,$m,3,3,"mat-cell",29),b(),T(70,38),M(71,Xm,2,1,"mat-header-cell",28)(72,Ym,3,3,"mat-cell",29),b(),T(73,39),M(74,Zm,2,1,"mat-header-cell",28)(75,ed,3,3,"mat-cell",29),b(),T(76,40),M(77,td,2,1,"mat-header-cell",28)(78,id,3,3,"mat-cell",41),b(),T(79,42),M(80,od,2,1,"mat-header-cell",28)(81,nd,3,6,"mat-cell",43),b(),T(82,44),M(83,rd,3,3,"mat-header-cell",45)(84,sd,6,1,"mat-cell",46),b(),M(85,ad,1,0,"mat-header-row",47)(86,ld,1,2,"mat-row",48),s(),b(),T(87,49),a(88,"mat-paginator",50,1),I("page",function(c){return S(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(E(t.requestLinkUserId>0?0:-1),n(),v("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),v("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),E(t.requestLinkSiteId>0?7:-1),n(4),oe("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),v("checked",t.optionsSearch.data.show),n(),d("",g(16,29,"ACTION.SEARCH")," "),n(3),v("checked",t.optionsStatist.data.show),n(),d("",g(20,31,"ACTION.STATIST")," "),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),n(6),d(" ",g(31,33,"ACTION.SITE")," "),n(7),d(" ",g(38,35,"ACTION.USER")," "),n(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?39:-1),n(2),y("options",t.optionsSearch),n(),y("options",t.optionsStatist),n(2),v("dataSource",t.tableSource),n(41),v("matHeaderRowDef",t.tabledisplayedColumns),n(),v("matRowDefColumns",t.tabledisplayedColumns),n(2),v("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(37,Em)))},dependencies:[nt,St,Ee,ke,_e,ye,Re,De,Le,xe,Ue,Be,Oe,He,Pe,Ve,Fe,Ge,Ne,je,qe,$e,Xe,Ye,Ze,ht,tt,Te,N,Tt,it,ze,et,Je,_t,gt,at],encapsulation:2});var Go=lo;var cd=[{path:"",component:To,data:{title:"ROUTE.CORETOKEN"},children:[{path:"user",component:hi,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkSiteId/:LinkSiteId",component:hi,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkUserId/:LinkUserId",component:hi,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkDeviceId/:LinkDeviceId",component:hi,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"userlog",component:gi,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkSiteId/:LinkSiteId",component:gi,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkUserId/:LinkUserId",component:gi,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkDeviceId/:LinkDeviceId",component:gi,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userbadlogin",component:_i,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkSiteId/:LinkSiteId",component:_i,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkUserId/:LinkUserId",component:_i,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkDeviceId/:LinkDeviceId",component:_i,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"activation",component:vo,data:{title:"ROUTE.CORETOKEN.ACTIVATION"}},{path:"microservice",component:ko,data:{title:"ROUTE.CORETOKEN.MICROSERVICE"}},{path:"microservicelog",component:Mo,data:{title:"ROUTE.CORETOKEN.MICROSERVICELOG"}},{path:"notification",component:Lo,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"online",component:Go,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"notificationlog",component:Do,data:{title:"ROUTE.CORETOKEN.NOTIFICATIONLOG"}}]}],vi=class vi{};vi.\u0275fac=function(e){return new(e||vi)},vi.\u0275mod=po({type:vi}),vi.\u0275inj=mo({imports:[Ho.forChild(cd),Ho]});var No=vi;var Ti=class Ti{};Ti.\u0275fac=function(e){return new(e||Ti)},Ti.\u0275mod=po({type:Ti}),Ti.\u0275inj=mo({providers:[qo,z,Ot,xt,Pt,Vt,Gt,Ut,Mt,Bt,Wo,ge],imports:[No,Fo,Ko,$o.withConfig({warnOnNgModelWithFormControl:"never"}),Xo,Yo]});var on=Ti;export{on as CoreTokenModule};
