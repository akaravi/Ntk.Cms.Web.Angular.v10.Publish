import{a as ir,b as Pr,c as gi}from"./chunk-24GC37FP.js";import{a as Rr}from"./chunk-ZETVLFUT.js";import{a as wr,b as Tr}from"./chunk-QD3BSJIN.js";import{a as Io}from"./chunk-XKVSC3OV.js";import{a as Ft}from"./chunk-ZULSJGVM.js";import{a as Bt}from"./chunk-O7GG2HRO.js";import{a as Er}from"./chunk-XSBG6UYX.js";import{a as bo}from"./chunk-FNI7GNBM.js";import{a as vo}from"./chunk-HYCJ4UQO.js";import{d as Ir}from"./chunk-J6PAIZXD.js";import{a as Ar}from"./chunk-KPCRUKUG.js";import{a as Lt}from"./chunk-T7S3XGNG.js";import{a as yr}from"./chunk-JCUWFHRI.js";import{a as Kt}from"./chunk-RSTBODDH.js";import{a as _t}from"./chunk-Z7LLDNBU.js";import{a as ht}from"./chunk-3OXB4ASU.js";import{c as pt,d as ut,e as ft,g as St}from"./chunk-YDHLJ4TH.js";import{a as mt}from"./chunk-3QSD7AKS.js";import{a as Nt}from"./chunk-F4GE6T4T.js";import{a as vr,b as ct}from"./chunk-7WZNS4SX.js";import{a as dt}from"./chunk-R5M5JHUG.js";import{a as ce}from"./chunk-27U6GDRG.js";import{b as br}from"./chunk-TQPV7N57.js";import{a as Fe}from"./chunk-S5CSJLUW.js";import{a as j}from"./chunk-NUBMZ3DS.js";import{$b as ho,Aa as wt,Ab as Ke,Ac as Co,B as zi,Bb as Xe,C as dr,Cb as Ye,Dc as L,E as li,F as di,Ga as Wn,H as ci,Ha as ie,Ia as ne,Ja as Ie,Jb as Ze,K as Se,Kb as $e,L as Pe,Lb as et,M as Re,Mb as tt,Nb as it,O as cr,Ob as nt,P as mr,Pa as Ae,Pb as ot,Q as to,Qb as rt,R as Ce,Rb as at,Sb as st,T as io,U as It,V as no,Wa as Ki,Wb as mo,X as oo,Xa as Xi,Xb as po,Y as ro,Ya as Yi,Yb as uo,Z as ao,Zb as fo,_ as so,_b as So,ac as go,bc as _o,cc as Mo,fc as k,gc as O,kb as co,l as lr,ma as J,n as ve,nc as Vt,o as Q,oa as ke,oc as Mr,r as z,s as re,u as ae,ub as Qe,uc as Ee,v as zt,vb as ze,vc as N,w as te,x as se,xc as Cr,y as bt,ya as yt,yb as Je,za as Et,zc as lt}from"./chunk-24G4XMFB.js";import{m as ye}from"./chunk-WNRZ34IP.js";import{a as H}from"./chunk-YAEKLF2S.js";import{$d as _e,Ak as xt,Bb as Z,Bd as jt,Bk as ui,Ca as ge,Cb as $,Ck as Ji,Db as ee,Dk as lo,E as Gi,Ed as Ve,Ek as Jt,Fa as o,Fk as Dt,Gd as U,Gk as fi,H as Wi,Hb as R,Hc as je,Hk as Si,Ic as De,Ik as hi,Jb as be,Jc as G,Jk as kt,Ka as h,Kd as Ne,Mb as m,Nb as A,Nd as Ue,O as Hi,Ob as C,Od as D,P as ji,Pa as x,Pb as ai,Pc as si,Qa as eo,Sa as ar,Sb as y,Sd as K,Ta as W,Tb as E,Td as X,Ub as w,Ud as oe,Va as b,Vb as F,Vc as sr,Vd as ur,W as or,Wb as Zt,X as $n,Xa as We,Zb as He,bc as g,be as fr,ca as p,cb as Qt,cc as _,da as u,dc as Qi,de as Sr,dk as Rt,ek as qt,gk as $t,ha as rr,hk as ei,ib as c,ik as pi,jb as a,jk as hr,kb as r,kk as tr,lb as M,lk as Tt,mk as ti,nk as ii,ok as Mt,p as Fi,pb as T,pd as At,pk as ni,q as Oi,qb as P,qd as pr,rb as Te,rd as qe,sb as I,sk as gr,tk as xe,uc as V,vb as v,vd as er,wd as mi,xb as f,yb as qi,yk as _r,zb as Ui,zk as Pt}from"./chunk-MDNBQXON.js";import{i as he}from"./chunk-SEDBTTTN.js";var Fr=["*"];function Or(n,l){if(n&1&&(a(0,"label",11),m(1),r()),n&2){let e=f();c("for",Zt("app-cms-site-selector-",e.id)),o(),A(e.optionLabel)}}function Gr(n,l){if(n&1&&(a(0,"mat-option",12)(1,"span"),m(2),r()()),n&2){let e=l.$implicit,i=f();c("value",e)("disabled",i.optionDisabled),o(2),A(i.displayOption(e))}}function Wr(n,l){n&1&&M(0,"i",13)}function Hr(n,l){n&1&&M(0,"i",14)}function jr(n,l){if(n&1){let e=I();a(0,"i",15),v("click",function(){p(e);let t=f();return u(t.onActionSelectClear())}),r()}}function qr(n,l){n&1&&(a(0,"em"),m(1),g(2,"translate"),r()),n&2&&(o(),C("(",_(2,1,"TITLE.Necessary"),")"))}var _i=class _i{constructor(l,e,i,t,s,S){this.coreEnumService=l;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=s;this.categoryService=S;this.id=++_i.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new D;this.dataModelSelect=new Tt;this.formControl=new zt;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionSelectFirstItemOnChangeApi=!1;this.optionPlaceholder="";this.optionLabel="";this.optionSelectForSendMessage=!1;this.optionChange=new We;this.optionReload=()=>this.onActionButtonReload();this.privateLinkApiPathId="";this.privateLinkApiPathIdLast="";this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}set optionLinkApiPathId(l){l!=this.privateLinkApiPathId&&(this.privateLinkApiPathId!=""&&this.onActionSelectClear(),this.privateLinkApiPathId=l,this.privateLinkApiPathId!=this.privateLinkApiPathIdLast&&(this.optionSelectFirstItem=this.optionSelectFirstItemOnChangeApi),this.privateLinkApiPathIdLast=l,this.optionChange.emit(this.dataModelSelect),this.loadOptions())}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Hi(""),Gi(1500),Wi(),ji(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.numberChar:void 0}displayOption(l){return l?l.numberChar:void 0}DataGetAll(l){return he(this,null,function*(){let e=new X;e.rowPerPage=20,e.accessLoad=!0;let i=new K;return i.propertyName="NumberChar",i.value=l,i.searchType=jt.Contains,i.clauseType=mi.Or,e.filters.push(i),this.privateLinkApiPathId&&this.privateLinkApiPathId.length>0&&(i=new K,i.propertyName="ApiPathAndApiNumbers",i.propertyAnyName="LinkApiPathId",i.value=this.privateLinkApiPathId,i.searchType=jt.Equal,e.filters.push(i)),this.optionSelectForSendMessage&&(i=new K,i.propertyName="RecordStatus",i.value=Ve.Available,i.searchType=jt.Equal,e.filters.push(i)),this.publicHelper.processService.processStart("DataGetAll"),yield Fi(this.categoryService.ServiceGetAll(e)).then(t=>(this.dataModelResult=t,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0]),this.onActionSelect(this.dataModelResult.listItems[0])},1e3)),this.publicHelper.processService.processStop("DataGetAll"),t.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=new Tt,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(Oi(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.numberChar===l)){let e=this.dataModelResult.listItems.find(i=>i.numberChar===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Tt){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Tt,this.loadOptions()}};_i.nextId=0,_i.\u0275fac=function(e){return new(e||_i)(h(_e),h(N),h(k),h(V),h(L),h(Dt))},_i.\u0275cmp=x({type:_i,selectors:[["app-sms-api-number-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionSelectFirstItemOnChangeApi:"optionSelectFirstItemOnChangeApi",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectForSendMessage:"optionSelectForSendMessage",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionLinkApiPathId:"optionLinkApiPathId"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Fr,decls:13,vars:18,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();qi(),a(0,"div",1),M(1,"app-progress-spinner",2),b(2,Or,2,3,"label",3),M(3,"input",4),a(4,"mat-autocomplete",5,0),v("optionSelected",function(S){return p(t),u(i.onActionSelect(S.option.value))}),b(6,Gr,3,3,"mat-option",6),g(7,"async"),r(),b(8,Wr,1,0,"i",7)(9,Hr,1,0,"i",8)(10,jr,1,0,"i",9)(11,qr,3,3,"em",10),Ui(12),r()}if(e&2){let t=R(5);o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),c("placeholder",F(i.optionPlaceholder))("id",Zt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Qt("disabled",i.optionDisabled?!0:null),o(),c("displayWith",i.displayFn),o(2),c("ngForOf",_(7,16,i.filteredOptions)),o(2),c("ngIf",!i.formControl.valid),o(),c("ngIf",i.optionRequired&&i.formControl.valid),o(),c("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),c("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0))}},dependencies:[De,G,Q,z,Se,zi,Xi,Ki,Yi,J,j,si,O],encapsulation:2});var Zi=_i;var Ur=["vform"];function Qr(n,l){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",28),w("modelChange",function(t){p(e);let s=f();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=f();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function zr(n,l){if(n&1){let e=I();a(0,"div",29)(1,"div",30)(2,"h5",31),m(3),r()(),a(4,"div",32)(5,"div",33)(6,"input",34),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.hasInherits,t)||(s.dataModel.hasInherits=t),u(t)}),r(),M(7,"label",35),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle),o(3),y("ngModel",e.dataModel.hasInherits)}}function Jr(n,l){if(n&1&&(a(0,"option",36),m(1),r()),n&2){let e=l.$implicit;c("ngValue",e.value),o(),C(" ",e.description," ")}}function Kr(n,l){n&1&&(a(0,"mat-error"),m(1," AccessStatus is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function Xr(n,l){if(n&1&&(a(0,"option",36),m(1),r()),n&2){let e=l.$implicit;c("ngValue",e.value),o(),C(" ",e.description," ")}}function Yr(n,l){n&1&&(a(0,"mat-error"),m(1," Action is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function Zr(n,l){if(n&1){let e=I();a(0,"div",20)(1,"label",37),m(2),g(3,"translate"),r(),a(4,"input",38),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),u(t)}),r(),M(5,"mat-datepicker-toggle",23)(6,"mat-datepicker",24,4),r()}if(n&2){let e=R(7),i=f();o(2),A(_(3,4,"TITLE.Expire_Date")),o(2),y("ngModel",i.dataModel.expireDate),c("matDatepicker",e),o(),c("for",e)}}function $r(n,l){if(n&1){let e=I();a(0,"div",39)(1,"button",40),v("click",function(){p(e);let t=f();return u(t.onFormCancel())}),M(2,"i",41),m(3),g(4,"translate"),r(),a(5,"button",42),M(6,"i",43),m(7),g(8,"translate"),r()()}if(n&2){f();let e=R(9);o(3),C(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var $i=class $i extends dt{constructor(e,i,t,s,S,d,B,q){super(s,new ti,d,q);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiNumberPermissionService=s;this.cmsToastrService=S;this.publicHelper=d;this.cdr=B;this.translate=q;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new D;this.dataModel=new ti;this.formInfo=new oe;this.dataModelEnumApiNumberPermissionAccessStatusResult=new D;this.dataModelEnumApiNumberPermissionActionResult=new D;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&e.linkApiNumberId&&(this.dataModel.linkApiNumberId=e.linkApiNumberId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.getEnumApiNumberPermissionAccessStatus(),this.getEnumApiNumberPermissionAction(),this.DataGetAccess()}getEnumApiNumberPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiNumberPermissionAccessStatusEnum().subscribe(e=>{this.dataModelEnumApiNumberPermissionAccessStatusResult=e})}getEnumApiNumberPermissionAction(){this.smsEnumService.ServiceSmsApiNumberPermissionActionEnum().subscribe(e=>{this.dataModelEnumApiNumberPermissionActionResult=e})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberPermissionService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiNumberId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiNumberId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$i.\u0275fac=function(i){return new(i||$i)(h(ne),h(ie),h(xe),h(fi),h(N),h(L),h(V),h(k))},$i.\u0275cmp=x({type:$i,selectors:[["app-sms-api-number-permission-add"]],viewQuery:function(i,t){if(i&1&&Z(Ur,5),i&2){let s;$(s=ee())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:49,vars:50,consts:[["vform","ngForm"],["AccessStatus","ngModel"],["Action","ngModel"],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accessStatus","name","dataModel.accessStatus","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"mt-n3"],[4,"ngIf"],["id","dataModel.action","name","dataModel.action","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[1,"pb-5"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.hasInherits",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.hasInherits","name","dataModel.hasInherits",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasInherits",1,"custom-control-label"],[3,"ngValue"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",5),M(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),m(4),r(),a(5,"p"),m(6),g(7,"translate"),r(),a(8,"form",9,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(10,Qr,1,5,"app-cms-enum-record-status-selector",10),m(11),a(12,"app-sms-api-number-selector",11),g(13,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorSelectLinkApiNumberId(d))}),r(),a(14,"app-cms-user-selector",12),g(15,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorCmsUser(d))}),r(),a(16,"app-cms-site-selector",12),g(17,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorCmsSite(d))}),r(),a(18,"app-cms-usergroup-selector",12),g(19,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorCoreUserGroup(d))}),r(),a(20,"app-cms-sitecategory-selector",12),g(21,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorCoreSiteCategory(d))}),r(),b(22,zr,8,2,"div",13),a(23,"div",14)(24,"select",15,1),w("ngModelChange",function(d){return p(s),E(t.dataModel.accessStatus,d)||(t.dataModel.accessStatus=d),u(d)}),b(26,Jr,2,2,"option",16),r(),a(27,"em",17),m(28),g(29,"translate"),r(),b(30,Kr,5,3,"mat-error",18),r(),a(31,"div",14)(32,"select",19,2),w("ngModelChange",function(d){return p(s),E(t.dataModel.action,d)||(t.dataModel.action=d),u(d)}),b(34,Xr,2,2,"option",16),r(),a(35,"em",17),m(36),g(37,"translate"),r(),b(38,Yr,5,3,"mat-error",18),r(),a(39,"div",20)(40,"label",21),m(41),r(),a(42,"input",22),w("ngModelChange",function(d){return p(s),E(t.dataModel.fromDate,d)||(t.dataModel.fromDate=d),u(d)}),r(),M(43,"mat-datepicker-toggle",23)(44,"mat-datepicker",24,3),r(),b(46,Zr,8,6,"div",25),M(47,"hr",26),b(48,$r,9,7,"div",27),r()()()}if(i&2){let s=R(25),S=R(33),d=R(45);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",_(7,34,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),C(" aaaa ",t.dataModel.linkApiNumberId," bbb "),o(),c("optionSelectForce",t.dataModel.linkApiNumberId)("optionPlaceholder",_(13,36,"TITLE.No")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",_(15,38,"TITLE.USER")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreSiteId!=null&&t.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",_(17,40,"TITLE.SITE")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreUserGroupId!=null&&t.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",_(19,42,"TITLE.Type_Usage")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",_(21,44,"TITLE.Site_Type")),o(2),c("ngIf",t.fieldsInfo.hasInherits==null?null:t.fieldsInfo.hasInherits.accessWatchField),o(2),y("ngModel",t.dataModel.accessStatus),o(2),c("ngForOf",t.dataModelEnumApiNumberPermissionAccessStatusResult.listItems),o(2),C("",_(29,46,"TITLE.Select_type_of_content")," "),o(2),c("ngIf",s.errors==null?null:s.errors.required),o(2),y("ngModel",t.dataModel.action),o(2),c("ngForOf",t.dataModelEnumApiNumberPermissionActionResult.listItems),o(2),C("",_(37,48,"TITLE.Select_type_of_content")," "),o(2),c("ngIf",S.errors==null?null:S.errors.required),o(3),A(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),y("ngModel",t.dataModel.fromDate),c("matDatepicker",d),o(),c("for",d),o(3),c("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(2),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[De,G,se,di,ci,Q,ve,li,z,re,Se,te,ae,yt,Et,wt,Ce,It,J,Nt,ce,Bt,Lt,Ft,j,Zi,O],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Ao=$i;var ea=["vform"];function ta(n,l){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",28),w("modelChange",function(t){p(e);let s=f();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=f();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ia(n,l){if(n&1){let e=I();a(0,"div",29)(1,"div",30)(2,"h5",31),m(3),r()(),a(4,"div",32)(5,"div",33)(6,"input",34),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.hasInherits,t)||(s.dataModel.hasInherits=t),u(t)}),r(),M(7,"label",35),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle),o(3),y("ngModel",e.dataModel.hasInherits)}}function na(n,l){if(n&1&&(a(0,"option",36),m(1),r()),n&2){let e=l.$implicit;c("ngValue",e.value),o(),C(" ",e.description," ")}}function oa(n,l){n&1&&(a(0,"mat-error"),m(1," AccessStatus is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function ra(n,l){if(n&1&&(a(0,"option",36),m(1),r()),n&2){let e=l.$implicit;c("ngValue",e.value),o(),C(" ",e.description," ")}}function aa(n,l){n&1&&(a(0,"mat-error"),m(1," Action is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function sa(n,l){if(n&1){let e=I();a(0,"div",20)(1,"label",37),m(2),r(),a(3,"input",38),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),u(t)}),r(),M(4,"mat-datepicker-toggle",23)(5,"mat-datepicker",24,4),r()}if(n&2){let e=R(6),i=f();o(2),A(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),y("ngModel",i.dataModel.expireDate),c("matDatepicker",e),o(),c("for",e)}}function la(n,l){if(n&1){let e=I();a(0,"div",39)(1,"button",40),v("click",function(){p(e);let t=f();return u(t.onFormCancel())}),M(2,"i",41),m(3),g(4,"translate"),r(),a(5,"button",42),M(6,"i",43),m(7),g(8,"translate"),r()()}if(n&2){f();let e=R(9);o(3),C(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var tn=class tn extends mt{constructor(e,i,t,s,S,d,B,q){super(s,new ti,d,q);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiNumberPermissionService=s;this.cmsToastrService=S;this.publicHelper=d;this.cdr=B;this.translate=q;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ue;this.dataModel=new ti;this.formInfo=new oe;this.dataModelEnumApiNumberPermissionAccessStatusResult=new D;this.dataModelEnumApiNumberPermissionActionResult=new D;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getEnumApiNumberPermissionAccessStatus(),this.getEnumApiNumberPermissionAction()}getEnumApiNumberPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiNumberPermissionAccessStatusEnum().subscribe(e=>{this.dataModelEnumApiNumberPermissionAccessStatusResult=e})}getEnumApiNumberPermissionAction(){this.smsEnumService.ServiceSmsApiNumberPermissionActionEnum().subscribe(e=>{this.dataModelEnumApiNumberPermissionActionResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberPermissionService.setAccessLoad(),this.smsMainApiNumberPermissionService.setAccessDataType(Ne.Editor),this.smsMainApiNumberPermissionService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberPermissionService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiNumberId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiNumberId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};tn.\u0275fac=function(i){return new(i||tn)(h(ne),h(ie),h(xe),h(fi),h(N),h(L),h(V),h(k))},tn.\u0275cmp=x({type:tn,selectors:[["app-sms-api-number-permission-edit"]],viewQuery:function(i,t){if(i&1&&Z(ea,5),i&2){let s;$(s=ee())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:48,vars:49,consts:[["vform","ngForm"],["AccessStatus","ngModel"],["Action","ngModel"],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accessStatus","name","dataModel.accessStatus","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"mt-n3"],[4,"ngIf"],["id","dataModel.action","name","dataModel.action","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[1,"pb-5"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.hasInherits",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.hasInherits","name","dataModel.hasInherits",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasInherits",1,"custom-control-label"],[3,"ngValue"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",5),M(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),m(4),r(),a(5,"p"),m(6),g(7,"translate"),r(),a(8,"form",9,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(10,ta,1,5,"app-cms-enum-record-status-selector",10),a(11,"app-sms-api-number-selector",11),g(12,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorSelectLinkApiNumberId(d))}),r(),a(13,"app-cms-user-selector",12),g(14,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorCmsUser(d))}),r(),a(15,"app-cms-site-selector",12),g(16,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorCmsSite(d))}),r(),a(17,"app-cms-usergroup-selector",12),g(18,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorCoreUserGroup(d))}),r(),a(19,"app-cms-sitecategory-selector",12),g(20,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorCoreSiteCategory(d))}),r(),b(21,ia,8,2,"div",13),a(22,"div",14)(23,"select",15,1),w("ngModelChange",function(d){return p(s),E(t.dataModel.accessStatus,d)||(t.dataModel.accessStatus=d),u(d)}),b(25,na,2,2,"option",16),r(),a(26,"em",17),m(27),g(28,"translate"),r(),b(29,oa,5,3,"mat-error",18),r(),a(30,"div",14)(31,"select",19,2),w("ngModelChange",function(d){return p(s),E(t.dataModel.action,d)||(t.dataModel.action=d),u(d)}),b(33,ra,2,2,"option",16),r(),a(34,"em",17),m(35),g(36,"translate"),r(),b(37,aa,5,3,"mat-error",18),r(),a(38,"div",20)(39,"label",21),m(40),r(),a(41,"input",22),w("ngModelChange",function(d){return p(s),E(t.dataModel.fromDate,d)||(t.dataModel.fromDate=d),u(d)}),r(),M(42,"mat-datepicker-toggle",23)(43,"mat-datepicker",24,3),r(),b(45,sa,7,4,"div",25),M(46,"hr",26),b(47,la,9,7,"div",27),r()()()}if(i&2){let s=R(24),S=R(32),d=R(44);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",_(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionSelectForce",t.dataModel.linkApiNumberId)("optionPlaceholder",_(12,35,"TITLE.No")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",_(14,37,"TITLE.USER")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreSiteId!=null&&t.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",_(16,39,"TITLE.SITE")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreUserGroupId!=null&&t.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",_(18,41,"TITLE.Type_Usage")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",_(20,43,"TITLE.Site_Type")),o(2),c("ngIf",t.fieldsInfo.hasInherits==null?null:t.fieldsInfo.hasInherits.accessWatchField),o(2),y("ngModel",t.dataModel.accessStatus),o(2),c("ngForOf",t.dataModelEnumApiNumberPermissionAccessStatusResult.listItems),o(2),C("",_(28,45,"TITLE.Select_type_of_content")," "),o(2),c("ngIf",s.errors==null?null:s.errors.required),o(2),y("ngModel",t.dataModel.action),o(2),c("ngForOf",t.dataModelEnumApiNumberPermissionActionResult.listItems),o(2),C("",_(36,47,"TITLE.Select_type_of_content")," "),o(2),c("ngIf",S.errors==null?null:S.errors.required),o(3),A(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),y("ngModel",t.dataModel.fromDate),c("matDatepicker",d),o(),c("for",d),o(3),c("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(2),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[De,G,se,di,ci,Q,ve,li,z,re,Se,te,ae,yt,Et,wt,Ce,It,J,Nt,ce,Bt,Lt,Ft,j,Zi,O],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var yo=tn;var nn=class nn{constructor(l,e,i,t,s,S,d,B){this.headerService=l;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.dialog=s;this.translate=S;this.cmsStoreService=d;this.tokenHelper=B;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new D;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>he(this,null,function*(){this.DataGetOneContent()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};nn.\u0275fac=function(e){return new(e||nn)(h(Dt),h(L),h(V),h(N),h(Ie),h(k),h(ye),h(Ee))},nn.\u0275cmp=x({type:nn,selectors:[["app-api-number-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:32,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"td","large-width","cell-ltr"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(a(0,"div",0),M(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),M(6,"span",6),r(),a(7,"div",7)(8,"h5")(9,"b"),m(10),g(11,"translate"),r()()(),M(12,"div",8),r(),a(13,"div",4)(14,"div",5)(15,"b"),m(16),r(),m(17,": "),r(),a(18,"div",9),m(19),r(),M(20,"div",10)(21,"div",11),r(),a(22,"div",4)(23,"div",5)(24,"b"),m(25),r(),m(26,": "),r(),a(27,"div",12),m(28),r(),M(29,"div",8)(30,"div",11),r()()()(),M(31,"div",13)),e&2&&(o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(5),c("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),C(" ",_(11,7,"TITLE.Selected_Api_Number")," "),o(6),C("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),A(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),C("",i.fieldsInfo.numberChar==null?null:i.fieldsInfo.numberChar.fieldTitle," "),o(3),A(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.numberChar))},dependencies:[j,Co,O],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Eo=nn;var ma=()=>[5,10,20,100];function pa(n,l){if(n&1&&M(0,"app-api-number-header",43),n&2){let e=f();c("optionId",e.requestLinkApiNumberId)}}function ua(n,l){if(n&1){let e=I();a(0,"a",44),v("click",function(){p(e);let t=f();return u(t.onActionBackToParent())}),M(1,"i",45),r()}}function fa(n,l){if(n&1){let e=I();a(0,"div",20)(1,"a",46),v("click",function(){p(e);let t=f();return u(t.onActionButtonNewRow())}),M(2,"i",47)(3,"br"),r(),a(4,"p",23),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.ADD")))}function Sa(n,l){if(n&1){let e=I();a(0,"div",20)(1,"a",48),v("click",function(){p(e);let t=f();return u(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",49)(3,"br"),r(),a(4,"p",23),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.EDIT")))}function ha(n,l){if(n&1){let e=I();a(0,"div",20)(1,"a",50),v("click",function(){p(e);let t=f();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",51)(3,"br"),r(),a(4,"p",23),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.DELETE")))}function ga(n,l){if(n&1&&(a(0,"mat-header-cell",52),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function _a(n,l){if(n&1&&(a(0,"mat-cell"),m(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.id," ")}}function Ma(n,l){if(n&1&&(a(0,"mat-header-cell",52),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ca(n,l){if(n&1&&(a(0,"mat-cell",53),g(1,"statusCellClass"),M(2,"i",53),g(3,"statusIconClass"),r()),n&2){let e=l.$implicit;c("ngClass",_(1,2,e.recordStatus)),o(2),c("ngClass",_(3,4,e.recordStatus))}}function va(n,l){if(n&1&&(a(0,"mat-header-cell",52),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.linkApiNumberId==null?null:e.fieldsInfo.linkApiNumberId.fieldTitle," ")}}function ba(n,l){if(n&1&&(a(0,"mat-cell"),m(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.linkApiNumberId," ")}}function Ia(n,l){if(n&1&&(a(0,"mat-header-cell",52),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Aa(n,l){if(n&1&&(a(0,"mat-cell"),m(1),g(2,"localeDate"),r()),n&2){let e=l.$implicit;o(),C(" ",_(2,1,e.createdDate)," ")}}function ya(n,l){if(n&1&&(a(0,"mat-header-cell",52),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Ea(n,l){if(n&1&&(a(0,"mat-cell"),m(1),g(2,"localeDate"),r()),n&2){let e=l.$implicit;o(),C(" ",_(2,1,e.updatedDate)," ")}}function wa(n,l){n&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),r()),n&2&&(o(),C(" ",_(2,1,"TITLE.OPTION")," "))}function Ta(n,l){if(n&1&&(a(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),m(3,"more_vert"),r()(),M(4,"mat-menu",null,2),r()),n&2){let e=R(5);o(),c("matMenuTriggerFor",e)}}function Pa(n,l){n&1&&M(0,"mat-header-row")}function Ra(n,l){if(n&1){let e=I();a(0,"mat-row",56),v("click",function(){let t=p(e).$implicit,s=f();return u(s.onActionTableRowSelect(t))}),r()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=f();be("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var on=class on extends pt{constructor(e,i,t,s,S,d,B,q,Ct,Ut,vt,Yt){super(e,new ti,vt,d,Ct);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=s;this.router=S;this.tokenHelper=d;this.cmsStoreService=B;this.cdr=q;this.translate=Ct;this.pageInfo=Ut;this.publicHelper=vt;this.dialog=Yt;this.requestLinkApiNumberId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new X;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","linkApiNumberId","CreatedDate","UpdatedDate"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","linkApiNumberId"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Oe=>this.onSubmitOptionsSearch(Oe)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=U.Descending}ngOnInit(){if(this.filteModelContent.sortColumn="Title",this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId")&&(this.requestLinkApiNumberId=this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId")),this.requestLinkApiNumberId.length>0){let e=new K;e.propertyName="LinkApiNumberId",e.value=this.requestLinkApiNumberId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>he(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ti);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ao,{height:"90%",panelClass:e,enterAnimationDuration:H.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:H.cmsViewConfig.exitAnimationDuration,data:{linkApiNumberId:this.requestLinkApiNumberId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(yo,{height:"90%",panelClass:i,enterAnimationDuration:H.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:H.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let S=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(S,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(S)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(S,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(t,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(B=>{i.set(B,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),S=new K;S.propertyName="RecordStatus",S.value=Ve.Available,s.filters.push(S),this.contentService.ServiceGetCount(s).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(B=>{i.set(B,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonApiList(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path/list/LinkPermissionId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};on.\u0275fac=function(i){return new(i||on)(h(fi),h(N),h(At),h(Fe),h(qe),h(Ee),h(ye),h(V),h(k),h(lt),h(L),h(Ie))},on.\u0275cmp=x({type:on,selectors:[["app-sms-api-number-permission-list"]],standalone:!1,features:[W],decls:61,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"checked"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkApiNumberId"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let s=I();b(0,pa,1,1,"app-api-number-header",3),a(1,"app-cms-html-list",4),w("optionActionGuideNoticeDisplayChange",function(d){return p(s),E(t.viewGuideNotice,d)||(t.viewGuideNotice=d),u(d)}),v("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),Te(2,5)(3,6)(4,7),T(5,8),b(6,ua,2,0,"a",9),a(7,"a",10),v("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),M(8,"i",11),r(),a(9,"a",10),v("click",function(){return p(s),u(t.onActionButtonReload())}),M(10,"i",12),r(),P(),T(11,13),a(12,"a",14),M(13,"mat-slide-toggle",15),m(14),g(15,"translate"),r(),a(16,"a",16),v("click",function(){return p(s),u(t.onActionButtonStatist())}),M(17,"mat-slide-toggle",15),m(18),g(19,"translate"),r(),P(),T(20,17),b(21,fa,7,3,"div",18),P(),T(22,19),b(23,Sa,7,3,"div",18)(24,ha,7,3,"div",18),a(25,"div",20)(26,"a",21),v("click",function(){return p(s),u(t.onActionButtonApiList(t.tableRowSelected))}),M(27,"i",22)(28,"br"),r(),a(29,"p",23),m(30),g(31,"translate"),r()(),P(),T(32,24),a(33,"app-cms-search-list",25),w("optionsChange",function(d){return p(s),E(t.optionsSearch,d)||(t.optionsSearch=d),u(d)}),r(),a(34,"app-cms-statist-list",25),w("optionsChange",function(d){return p(s),E(t.optionsStatist,d)||(t.optionsStatist=d),u(d)}),r(),P(),T(35,26),a(36,"mat-table",27,0),v("matSortChange",function(){p(s);let d=R(37);return u(t.onTableSortData(d))}),T(38,28),b(39,ga,2,1,"mat-header-cell",29)(40,_a,2,1,"mat-cell",30),P(),T(41,31),b(42,Ma,2,1,"mat-header-cell",29)(43,Ca,4,6,"mat-cell",32),P(),T(44,33),b(45,va,2,1,"mat-header-cell",29)(46,ba,2,1,"mat-cell",30),P(),T(47,34),b(48,Ia,2,1,"mat-header-cell",29)(49,Aa,3,3,"mat-cell",30),P(),T(50,35),b(51,ya,2,1,"mat-header-cell",29)(52,Ea,3,3,"mat-cell",30),P(),T(53,36),b(54,wa,3,3,"mat-header-cell",37)(55,Ta,6,1,"mat-cell",38),P(),b(56,Pa,1,0,"mat-header-row",39)(57,Ra,1,6,"mat-row",40),r(),P(),T(58,41),a(59,"mat-paginator",42,1),v("page",function(d){return p(s),u(t.onTablePageingData(d))}),r(),P(),r()}i&2&&(c("ngIf",(t.requestLinkApiNumberId==null?null:t.requestLinkApiNumberId.length)>0),o(),c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(5),c("ngIf",(t.requestLinkApiNumberId==null?null:t.requestLinkApiNumberId.length)>0),o(7),c("checked",t.optionsSearch.data.show),o(),C("",_(15,26,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),C("",_(19,28,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),A(_(31,30,"ACTION.ROUTES")),o(3),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(20),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",He(32,ma)))},dependencies:[je,G,ke,Ae,Qe,ze,Je,Ke,Xe,Ye,Ze,et,ot,tt,$e,rt,it,nt,at,st,ut,ft,St,Eo,O,Kt,ht,_t],encapsulation:2});var Qn=on;var xa=["vform"];function Da(n,l){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",10),w("modelChange",function(t){p(e);let s=f();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=f();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ka(n,l){if(n&1){let e=I();a(0,"div",11)(1,"label",12),m(2),r(),a(3,"input",13,1),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.numberChar,t)||(s.dataModel.numberChar=t),u(t)}),r(),a(5,"em"),m(6),r()()}if(n&2){let e=R(4),i=f();o(2),A(i.fieldsInfo.numberChar==null?null:i.fieldsInfo.numberChar.fieldTitle),o(),c("disabled",F(!(i.fieldsInfo.numberChar!=null&&i.fieldsInfo.numberChar.accessAddField))),y("ngModel",i.dataModel.numberChar),o(3),C("",e.value.length," / 100")}}function Va(n,l){if(n&1){let e=I();a(0,"div",14)(1,"button",15),v("click",function(){p(e);let t=f();return u(t.onFormCancel())}),M(2,"i",16),m(3),g(4,"translate"),r(),a(5,"button",17),M(6,"i",18),m(7),g(8,"translate"),r()()}if(n&2){f();let e=R(9);o(3),C(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var rn=class rn extends dt{constructor(e,i,t,s,S,d,B,q){super(s,new Tt,d,q);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiNumberService=s;this.cmsToastrService=S;this.publicHelper=d;this.cdr=B;this.translate=q;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new D;this.dataModel=new Tt;this.formInfo=new oe;this.dataModelEnumApiNumberAccessStatusResult=new D;this.dataModelEnumApiNumberActionResult=new D;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0,model:i.item})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};rn.\u0275fac=function(i){return new(i||rn)(h(ne),h(ie),h(xe),h(Dt),h(N),h(L),h(V),h(k))},rn.\u0275cmp=x({type:rn,selectors:[["app-sms-api-number-add"]],viewQuery:function(i,t){if(i&1&&Z(xa,5),i&2){let s;$(s=ee())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:13,vars:8,consts:[["vform","ngForm"],["NumberChar",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.numberChar",1,"color-highlight"],["matInput","","type","text","name","dataModel.numberChar","placeholder","123","id","dataModel.numberChar",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",2),M(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),m(4),r(),a(5,"p"),m(6),g(7,"translate"),r(),a(8,"form",6,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(10,Da,1,5,"app-cms-enum-record-status-selector",7)(11,ka,7,5,"div",8)(12,Va,9,7,"div",9),r()()()}i&2&&(o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",_(7,6,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.numberChar==null?null:t.fieldsInfo.numberChar.accessWatchField),o(),c("ngIf",t.formInfo.formSubmitAllow))},dependencies:[G,se,Q,z,re,te,ae,J,ce,j,O],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var To=rn;function La(n,l){if(n&1){let e=I();a(0,"li")(1,"mat-checkbox",1),v("change",function(){let t=p(e).$implicit,s=f();return u(s.onActionSelect(t))}),m(2),r()()}if(n&2){let e=l.$implicit,i=f();o(),c("checked",i.fieldsStatus.get(e.id))("disabled",i.optionDisabled),o(),C(" ",e.title," ")}}var an=class an{constructor(l,e,i,t,s,S){this.coreEnumService=l;this.categoryService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.cmsToastrService=S;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new D;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new zt;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new We;this.optionSelectAdded=new We;this.optionSelectRemoved=new We;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.DataGetAll()}DataGetAll(){let l=new X;l.rowPerPage=50,l.accessLoad=!0;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(l).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataModelResult.listItems.forEach(t=>this.fieldsStatus.set(t.id,!1)),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0)),this.dataModelResult.listItems.forEach(t=>{this.fieldsStatus.get(t.id)&&this.dataModelSelect.push(t)})):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelect(l){this.fieldsStatus.get(l.id)?(this.fieldsStatus.set(l.id,!1),this.optionSelectRemoved.emit(l),this.dataModelSelect.splice(this.dataModelSelect.indexOf(l),1)):(this.fieldsStatus.set(l.id,!0),this.optionSelectAdded.emit(l),this.dataModelSelect.push(l)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(l){typeof l==typeof Array(String)?l.forEach(e=>{this.dataIdsSelect.push(e)}):typeof l==typeof Array(qt)&&l.forEach(e=>{this.dataIdsSelect.push(e.id)}),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){this.DataGetAll()}};an.\u0275fac=function(e){return new(e||an)(h(_e),h(Pt),h(V),h(L),h(k),h(N))},an.\u0275cmp=x({type:an,selectors:[["app-sms-apipath-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(e,i){e&1&&(a(0,"ul"),b(1,La,3,3,"li",0),r()),e&2&&(o(),c("ngForOf",i.dataModelResult.listItems))},dependencies:[De,co],encapsulation:2});var Po=an;var Fa=["vform"];function Oa(n,l){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",24),w("modelChange",function(t){p(e);let s=f();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=f();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ga(n,l){if(n&1){let e=I();a(0,"div",25)(1,"label",26),m(2),r(),a(3,"input",27,2),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.numberChar,t)||(s.dataModel.numberChar=t),u(t)}),r(),a(5,"em"),m(6),r()()}if(n&2){let e=R(4),i=f();o(2),A(i.fieldsInfo.numberChar==null?null:i.fieldsInfo.numberChar.fieldTitle),o(),c("disabled",F(!(i.fieldsInfo.numberChar!=null&&i.fieldsInfo.numberChar.accessEditField))),y("ngModel",i.dataModel.numberChar),o(3),C("",e.value.length," / 100")}}function Wa(n,l){if(n&1){let e=I();a(0,"div",28)(1,"div",29)(2,"h5",30),m(3),r()(),a(4,"div",31)(5,"div",32)(6,"input",33),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.isPublic,t)||(s.dataModel.isPublic=t),u(t)}),r(),M(7,"label",34),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.isPublic==null?null:e.fieldsInfo.isPublic.fieldTitle),o(3),y("ngModel",e.dataModel.isPublic)}}function Ha(n,l){if(n&1){let e=I();a(0,"div",28)(1,"div",29)(2,"h5",35),m(3),r()(),a(4,"div",31)(5,"div",32)(6,"input",36),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.saleStatus,t)||(s.dataModel.saleStatus=t),u(t)}),r(),M(7,"label",37),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.saleStatus==null?null:e.fieldsInfo.saleStatus.fieldTitle),o(3),y("ngModel",e.dataModel.saleStatus)}}function ja(n,l){if(n&1){let e=I();a(0,"div",25)(1,"label",38),m(2),r(),a(3,"input",39,3),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.priority,t)||(s.dataModel.priority=t),u(t)}),r(),a(5,"em"),m(6),r()()}if(n&2){let e=R(4),i=f();o(2),A(i.fieldsInfo.priority==null?null:i.fieldsInfo.priority.fieldTitle),o(),c("disabled",F(!(i.fieldsInfo.priority!=null&&i.fieldsInfo.priority.accessEditField))),y("ngModel",i.dataModel.priority),o(3),C("",e.value.length," / 100")}}function qa(n,l){if(n&1){let e=I();a(0,"div",28)(1,"div",29)(2,"h5",40),m(3),r()(),a(4,"div",31)(5,"div",32)(6,"input",41),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.deliveryRelayStatus,t)||(s.dataModel.deliveryRelayStatus=t),u(t)}),r(),M(7,"label",42),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.deliveryRelayStatus==null?null:e.fieldsInfo.deliveryRelayStatus.fieldTitle),o(3),y("ngModel",e.dataModel.deliveryRelayStatus)}}function Ua(n,l){if(n&1){let e=I();a(0,"div",25)(1,"label",43),m(2),r(),a(3,"input",44,4),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.deliveryRelayUrl,t)||(s.dataModel.deliveryRelayUrl=t),u(t)}),r()()}if(n&2){let e=f();o(2),A(e.fieldsInfo.deliveryRelayUrl==null?null:e.fieldsInfo.deliveryRelayUrl.fieldTitle),o(),y("ngModel",e.dataModel.deliveryRelayUrl),c("readonly",!e.dataModel.deliveryRelayStatus)("disabled",!(e.fieldsInfo.deliveryRelayUrl!=null&&e.fieldsInfo.deliveryRelayUrl.accessEditField))}}function Qa(n,l){if(n&1){let e=I();a(0,"div",28)(1,"div",29)(2,"h5",45),m(3),r()(),a(4,"div",31)(5,"div",32)(6,"input",46),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.smsRelayStatus,t)||(s.dataModel.smsRelayStatus=t),u(t)}),r(),M(7,"label",47),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.smsRelayStatus==null?null:e.fieldsInfo.smsRelayStatus.fieldTitle),o(3),y("ngModel",e.dataModel.smsRelayStatus)}}function za(n,l){if(n&1){let e=I();a(0,"div",25)(1,"label",48),m(2),r(),a(3,"input",49,5),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.smsRelayUrl,t)||(s.dataModel.smsRelayUrl=t),u(t)}),r()()}if(n&2){let e=f();o(2),A(e.fieldsInfo.smsRelayUrl==null?null:e.fieldsInfo.smsRelayUrl.fieldTitle),o(),y("ngModel",e.dataModel.smsRelayUrl),c("readonly",!e.dataModel.smsRelayStatus)("disabled",!(e.fieldsInfo.smsRelayUrl!=null&&e.fieldsInfo.smsRelayUrl.accessEditField))}}function Ja(n,l){if(n&1){let e=I();a(0,"div",16)(1,"label",50),m(2),r(),a(3,"input",51),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),u(t)}),r(),M(4,"mat-datepicker-toggle",19)(5,"mat-datepicker",20,6),r()}if(n&2){let e=R(6),i=f();o(2),A(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),y("ngModel",i.dataModel.expireDate),c("matDatepicker",e),o(),c("for",e)}}function Ka(n,l){if(n&1){let e=I();a(0,"div",25)(1,"label",52),m(2),r(),a(3,"input",53,7),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.actionMemo,t)||(s.dataModel.actionMemo=t),u(t)}),r()()}if(n&2){let e=f();o(2),A(e.fieldsInfo.actionMemo==null?null:e.fieldsInfo.actionMemo.fieldTitle),o(),y("ngModel",e.dataModel.actionMemo),c("disabled",!(e.fieldsInfo.actionMemo!=null&&e.fieldsInfo.actionMemo.accessEditField))}}function Xa(n,l){if(n&1){let e=I();a(0,"div",54)(1,"button",55),v("click",function(){p(e);let t=f();return u(t.onFormCancel())}),M(2,"i",56),m(3),g(4,"translate"),r(),a(5,"button",57),M(6,"i",58),m(7),g(8,"translate"),r()()}if(n&2){f();let e=R(9);o(3),C(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var sn=class sn extends mt{constructor(e,i,t,s,S,d,B,q,Ct){super(s,new Tt,B,Ct);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiNumberService=s;this.smsMainApiPathAndApiNumberService=S;this.cmsToastrService=d;this.publicHelper=B;this.cdr=q;this.translate=Ct;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ue;this.dataModel=new Tt;this.formInfo=new oe;this.dataModelEnumApiNumberAccessStatusResult=new D;this.dataModelEnumApiNumberActionResult=new D;this.fileManagerOpenForm=!1;this.dataCoreCpMainMenuIds=[];this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberService.setAccessLoad(),this.smsMainApiNumberService.setAccessDataType(Ne.Editor),this.smsMainApiNumberService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.DataGetAllMenuCoreUserGroup(),this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllMenuCoreUserGroup(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Getting_access_category_from_the_server").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new X,t=new K;t.propertyName="LinkApiNumberId",t.value=this.requestId,i.filters.push(t),this.smsMainApiPathAndApiNumberService.ServiceGetAll(i).subscribe({next:s=>{this.dataCoreCpMainMenuCmsUserGroupModel=s.listItems;let S=[];this.dataCoreCpMainMenuCmsUserGroupModel.forEach(d=>{S.push(d.linkApiPathId)}),this.dataCoreCpMainMenuIds=S,s.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(d=>{this.formInfo.formAlert=d}),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorUserCategorySelect(e){this.dataCoreCpMainMenuModel=e}onActionSelectorUserCategorySelectAdded(e){let i=new tr;i.linkApiPathId=e.id,i.linkApiNumberId=this.dataModel.id,this.smsMainApiPathAndApiNumberService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.formAlert=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorUserCategorySelectRemoved(e){let i=new tr;i.linkApiPathId=e.id,i.linkApiNumberId=this.dataModel.id,this.smsMainApiPathAndApiNumberService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(s=>{this.formInfo.formAlert=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t)}})}};sn.\u0275fac=function(i){return new(i||sn)(h(ne),h(ie),h(xe),h(Dt),h(lo),h(N),h(L),h(V),h(k))},sn.\u0275cmp=x({type:sn,selectors:[["app-sms-api-number-edit"]],viewQuery:function(i,t){if(i&1&&Z(Fa,5),i&2){let s;$(s=ee())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:30,vars:23,consts:[["vform","ngForm"],["accessUseStartDate",""],["NumberChar",""],["Priority",""],["DeliveryRelayUrl",""],["SmsRelayUrl",""],["ExpireDate",""],["ActionMemo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.accessUseStartDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.accessUseStartDate","id","dataModel.accessUseStartDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.numberChar",1,"color-highlight"],["matInput","","type","text","name","dataModel.numberChar","placeholder","123","id","dataModel.numberChar",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isPublic",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isPublic","name","dataModel.isPublic",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublic",1,"custom-control-label"],["data-trigger-switch","dataModel.saleStatus",1,"font-600","font-14"],["type","checkbox","id","dataModel.saleStatus","name","dataModel.saleStatus",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.saleStatus",1,"custom-control-label"],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","placeholder","1","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","dataModel.deliveryRelayStatus",1,"font-600","font-14"],["type","checkbox","id","dataModel.deliveryRelayStatus","name","dataModel.deliveryRelayStatus",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.deliveryRelayStatus",1,"custom-control-label"],["for","dataModel.deliveryRelayUrl",1,"color-highlight"],["matInput","","type","text","name","dataModel.deliveryRelayUrl","placeholder","1","id","dataModel.deliveryRelayUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel","readonly","disabled"],["data-trigger-switch","dataModel.smsRelayStatus",1,"font-600","font-14"],["type","checkbox","id","dataModel.smsRelayStatus","name","dataModel.smsRelayStatus",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.smsRelayStatus",1,"custom-control-label"],["for","dataModel.smsRelayUrl",1,"color-highlight"],["matInput","","type","text","name","dataModel.smsRelayUrl","placeholder","1","id","dataModel.smsRelayUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel","readonly","disabled"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["for","dataModel.actionMemo",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionMemo","placeholder","1","id","dataModel.actionMemo",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",8),M(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),m(4),r(),a(5,"p"),m(6),g(7,"translate"),r(),a(8,"form",12,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(10,Oa,1,5,"app-cms-enum-record-status-selector",13)(11,Ga,7,5,"div",14)(12,Wa,8,2,"div",15)(13,Ha,8,2,"div",15)(14,ja,7,5,"div",14)(15,qa,8,2,"div",15)(16,Ua,5,4,"div",14)(17,Qa,8,2,"div",15)(18,za,5,4,"div",14),a(19,"div",16)(20,"label",17),m(21),r(),a(22,"input",18),w("ngModelChange",function(d){return p(s),E(t.dataModel.accessUseStartDate,d)||(t.dataModel.accessUseStartDate=d),u(d)}),r(),M(23,"mat-datepicker-toggle",19)(24,"mat-datepicker",20,1),r(),b(26,Ja,7,4,"div",21)(27,Ka,5,3,"div",14),a(28,"app-sms-apipath-selectionlist",22),v("optionChange",function(d){return p(s),u(t.onActionSelectorUserCategorySelect(d))})("optionSelectAdded",function(d){return p(s),u(t.onActionSelectorUserCategorySelectAdded(d))})("optionSelectRemoved",function(d){return p(s),u(t.onActionSelectorUserCategorySelectRemoved(d))}),r(),b(29,Xa,9,7,"div",23),r()()()}if(i&2){let s=R(25);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",_(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.numberChar==null?null:t.fieldsInfo.numberChar.accessWatchField),o(),c("ngIf",t.fieldsInfo.isPublic==null?null:t.fieldsInfo.isPublic.accessWatchField),o(),c("ngIf",t.fieldsInfo.saleStatus==null?null:t.fieldsInfo.saleStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.priority==null?null:t.fieldsInfo.priority.accessWatchField),o(),c("ngIf",t.fieldsInfo.deliveryRelayStatus==null?null:t.fieldsInfo.deliveryRelayStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.deliveryRelayUrl==null?null:t.fieldsInfo.deliveryRelayUrl.accessWatchField),o(),c("ngIf",t.fieldsInfo.smsRelayStatus==null?null:t.fieldsInfo.smsRelayStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.smsRelayUrl==null?null:t.fieldsInfo.smsRelayUrl.accessWatchField),o(3),A(t.fieldsInfo.accessUseStartDate==null?null:t.fieldsInfo.accessUseStartDate.fieldTitle),o(),c("matDatepicker",s),y("ngModel",t.dataModel.accessUseStartDate),o(),c("for",s),o(3),c("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(),c("ngIf",t.fieldsInfo.actionMemo==null?null:t.fieldsInfo.actionMemo.accessWatchField),o(),c("optionSelectForce",t.dataCoreCpMainMenuIds)("optionDisabled",!1),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[G,se,Q,bt,ve,z,re,te,ae,yt,Et,wt,It,J,ce,j,Po,O],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Ro=sn;var ri=class ri{constructor(l){this.persianCalendarService=l}transform(l){if(typeof l=="string"){if(!l||l.length===0)return"";let e=new Date(l);if(!e)return"";let i=new Date;return i.setFullYear(i.getFullYear()-100),e<i?"":e.getHours()+":"+e.getMinutes()}if(typeof l==typeof Date){if(!l)return"";let e=new Date;return e.setFullYear(e.getFullYear()-100),l<e?"":l.getHours()+":"+l.getMinutes()}return""}};ri.\u0275fac=function(e){return new(e||ri)(h(vr,16))},ri.\u0275pipe=ar({name:"localeTime",type:ri,pure:!0,standalone:!1}),ri.\u0275prov=or({token:ri,factory:ri.\u0275fac});var xo=ri;var Za=()=>[5,10,20,100];function $a(n,l){if(n&1){let e=I();a(0,"a",48),v("click",function(){p(e);let t=f();return u(t.onActionBackToParent())}),M(1,"i",49),r()}}function es(n,l){if(n&1){let e=I();a(0,"div",19)(1,"a",50),v("click",function(){p(e);let t=f();return u(t.onActionButtonNewRow())}),M(2,"i",51),r(),a(3,"p",22),m(4),g(5,"translate"),r()()}n&2&&(o(4),C(" ",_(5,1,"ACTION.ADD")," "))}function ts(n,l){if(n&1){let e=I();a(0,"div",19)(1,"a",52),v("click",function(){p(e);let t=f();return u(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",53)(3,"br"),r(),a(4,"p",22),m(5),g(6,"translate"),r()()}n&2&&(o(5),C(" ",_(6,1,"ACTION.EDIT")," "))}function is(n,l){if(n&1){let e=I();a(0,"div",19)(1,"a",54),v("click",function(){p(e);let t=f();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",55)(3,"br"),r(),a(4,"p",22),m(5),g(6,"translate"),r()()}n&2&&(o(5),C(" ",_(6,1,"ACTION.DELETE")," "))}function ns(n,l){if(n&1&&(a(0,"mat-header-cell",56),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function os(n,l){if(n&1&&(a(0,"mat-cell"),m(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.id," ")}}function rs(n,l){if(n&1&&(a(0,"mat-header-cell",56),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function as(n,l){if(n&1&&(a(0,"mat-cell",57),g(1,"statusCellClass"),M(2,"i",57),g(3,"statusIconClass"),r()),n&2){let e=l.$implicit;c("ngClass",_(1,2,e.recordStatus)),o(2),c("ngClass",_(3,4,e.recordStatus))}}function ss(n,l){if(n&1&&(a(0,"mat-header-cell",56),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.numberChar==null?null:e.fieldsInfo.numberChar.fieldTitle," ")}}function ls(n,l){if(n&1&&(a(0,"mat-cell",58),m(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.numberChar," ")}}function ds(n,l){if(n&1&&(a(0,"mat-header-cell",56),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.saleStatus==null?null:e.fieldsInfo.saleStatus.fieldTitle," ")}}function cs(n,l){if(n&1&&(a(0,"mat-cell"),M(1,"i",57),g(2,"statusIconClass"),r()),n&2){let e=l.$implicit;o(),c("ngClass",_(2,1,e.saleStatus))}}function ms(n,l){if(n&1&&(a(0,"mat-header-cell",56),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.accessUseStartDate==null?null:e.fieldsInfo.accessUseStartDate.fieldTitle," ")}}function ps(n,l){if(n&1&&(a(0,"mat-cell"),m(1),g(2,"localeDate"),r()),n&2){let e=l.$implicit;o(),C(" ",_(2,1,e.accessUseStartDate)," ")}}function us(n,l){if(n&1&&(a(0,"mat-header-cell",56),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.lastUseOfDate==null?null:e.fieldsInfo.lastUseOfDate.fieldTitle," ")}}function fs(n,l){if(n&1&&(a(0,"mat-cell",59),m(1),g(2,"localeDate"),g(3,"localeTime"),r()),n&2){let e=l.$implicit;o(),ai(" ",_(2,2,e.lastUseOfDate)," ",_(3,4,e.lastUseOfDate)," ")}}function Ss(n,l){if(n&1&&(a(0,"mat-header-cell",56),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function hs(n,l){if(n&1&&(a(0,"mat-cell"),m(1),g(2,"localeDate"),r()),n&2){let e=l.$implicit;o(),C(" ",_(2,1,e.createdDate)," ")}}function gs(n,l){if(n&1&&(a(0,"mat-header-cell",56),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function _s(n,l){if(n&1&&(a(0,"mat-cell"),m(1),g(2,"localeDate"),r()),n&2){let e=l.$implicit;o(),C(" ",_(2,1,e.updatedDate)," ")}}function Ms(n,l){n&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),r()),n&2&&(o(),C(" ",_(2,1,"TITLE.OPTION")," "))}function Cs(n,l){if(n&1&&(a(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),m(3,"more_vert"),r()(),M(4,"mat-menu",null,2),r()),n&2){let e=R(5);o(),c("matMenuTriggerFor",e)}}function vs(n,l){n&1&&M(0,"mat-header-row")}function bs(n,l){if(n&1){let e=I();a(0,"mat-row",62),v("click",function(){let t=p(e).$implicit,s=f();return u(s.onActionTableRowSelect(t))}),r()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=f();be("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var ln=class ln extends pt{constructor(e,i,t,s,S,d,B,q,Ct,Ut,vt,Yt){super(e,new Tt,vt,d,Ct);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=s;this.router=S;this.tokenHelper=d;this.cdr=B;this.cmsStoreService=q;this.translate=Ct;this.pageInfo=Ut;this.publicHelper=vt;this.dialog=Yt;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new X;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","NumberChar","accessUseStartDate","lastUseOfDate","SaleStatus","CreatedDate","UpdatedDate"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","NumberChar","accessUseStartDate","lastUseOfDate","SaleStatus","CreatedDate","UpdatedDate"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Oe=>this.onSubmitOptionsSearch(Oe)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=U.Descending}ngOnInit(){if(this.filteModelContent.sortColumn="Title",this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")),this.requestLinkApiPathId.length>0){let e=new K;e.propertyName="ApiPathAndApiNumbers",e.propertyAnyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>he(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Tt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new K;t.propertyName="ApiPathAndApiNumbers",t.propertyAnyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new X,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.requestLinkApiPathId;this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(To,{height:"90%",width:"60%",panelClass:i,enterAnimationDuration:H.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:H.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:e}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&(this.onActionButtonEditRow(s.model),this.DataGetAll())})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ro,{height:"90%",panelClass:i,enterAnimationDuration:H.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:H.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let S=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(S,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(S)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(S,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(t,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(B=>{i.set(B,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),S=new K;S.propertyName="RecordStatus",S.value=Ve.Available,s.filters.push(S),this.contentService.ServiceGetCount(s).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(B=>{i.set(B,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReceiveList(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/log/inbox/list/ReceiverNumber",this.tableRowSelected.numberChar])}onActionButtonPermissionList(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-number-permission/LinkApiNumberId/",this.tableRowSelected.id])}onActionButtonSendList(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/log/outbox/list/SenderNumber",this.tableRowSelected.numberChar])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};ln.\u0275fac=function(i){return new(i||ln)(h(Dt),h(N),h(At),h(Fe),h(qe),h(Ee),h(V),h(ye),h(k),h(lt),h(L),h(Ie))},ln.\u0275cmp=x({type:ln,selectors:[["app-sms-api-number-list"]],standalone:!1,features:[W],decls:84,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-receipt","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-paper-plane-top","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","NumberChar"],["class","input-ltr",4,"matCellDef"],["matColumnDef","SaleStatus"],["matColumnDef","accessUseStartDate"],["matColumnDef","lastUseOfDate"],["dir","ltr",4,"matCellDef"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"input-ltr"],["dir","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let s=I();a(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(d){return p(s),E(t.viewGuideNotice,d)||(t.viewGuideNotice=d),u(d)}),v("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),T(1,4),a(2,"app-sms-apipath-tree",5),v("optionChange",function(d){return p(s),u(t.onActionSelectorSelect(d))}),r(),P(),Te(3,6)(4,7),T(5,8),b(6,$a,2,0,"a",9),a(7,"a",10),v("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),M(8,"i",11),r(),a(9,"a",10),v("click",function(){return p(s),u(t.onActionButtonReload())}),M(10,"i",12),r(),P(),T(11,13),a(12,"a",14),v("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),M(13,"mat-slide-toggle",15),m(14),g(15,"translate"),r(),a(16,"a",14),v("click",function(){return p(s),u(t.onActionButtonStatist())}),M(17,"mat-slide-toggle",15),m(18),g(19,"translate"),r(),P(),T(20,16),b(21,es,6,3,"div",17),P(),T(22,18),b(23,ts,7,3,"div",17)(24,is,7,3,"div",17),a(25,"div",19)(26,"a",20),v("click",function(){return p(s),u(t.onActionButtonReceiveList(t.tableRowSelected))}),M(27,"i",21)(28,"br"),r(),a(29,"p",22),m(30),g(31,"translate"),r()(),a(32,"div",19)(33,"a",20),v("click",function(){return p(s),u(t.onActionButtonPermissionList(t.tableRowSelected))}),M(34,"i",21)(35,"br"),r(),a(36,"p",22),m(37),g(38,"translate"),r()(),a(39,"div",19)(40,"a",20),v("click",function(){return p(s),u(t.onActionButtonSendList(t.tableRowSelected))}),M(41,"i",23)(42,"br"),r(),a(43,"p",22),m(44),g(45,"translate"),r()(),P(),T(46,24),a(47,"app-cms-search-list",25),w("optionsChange",function(d){return p(s),E(t.optionsSearch,d)||(t.optionsSearch=d),u(d)}),r(),a(48,"app-cms-statist-list",25),w("optionsChange",function(d){return p(s),E(t.optionsStatist,d)||(t.optionsStatist=d),u(d)}),r(),P(),T(49,26),a(50,"mat-table",27,0),v("matSortChange",function(){p(s);let d=R(51);return u(t.onTableSortData(d))}),T(52,28),b(53,ns,2,1,"mat-header-cell",29)(54,os,2,1,"mat-cell",30),P(),T(55,31),b(56,rs,2,1,"mat-header-cell",29)(57,as,4,6,"mat-cell",32),P(),T(58,33),b(59,ss,2,1,"mat-header-cell",29)(60,ls,2,1,"mat-cell",34),P(),T(61,35),b(62,ds,2,1,"mat-header-cell",29)(63,cs,3,3,"mat-cell",30),P(),T(64,36),b(65,ms,2,1,"mat-header-cell",29)(66,ps,3,3,"mat-cell",30),P(),T(67,37),b(68,us,2,1,"mat-header-cell",29)(69,fs,4,6,"mat-cell",38),P(),T(70,39),b(71,Ss,2,1,"mat-header-cell",29)(72,hs,3,3,"mat-cell",30),P(),T(73,40),b(74,gs,2,1,"mat-header-cell",29)(75,_s,3,3,"mat-cell",30),P(),T(76,41),b(77,Ms,3,3,"mat-header-cell",42)(78,Cs,6,1,"mat-cell",43),P(),b(79,vs,1,0,"mat-header-row",44)(80,bs,1,6,"mat-row",45),r(),P(),T(81,46),a(82,"mat-paginator",47,1),v("page",function(d){return p(s),u(t.onTablePageingData(d))}),r(),P(),r()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!t.requestLinkApiPathId||t.requestLinkApiPathId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.numberChar),o(6),c("ngIf",(t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0),o(7),c("checked",t.optionsSearch.data.show),o(),C("",_(15,27,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),C("",_(19,29,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),C(" ",_(31,31,"ACTION.RECEIPTS")," "),o(7),C(" ",_(38,33,"ACTION.Permission")," "),o(7),C(" ",_(45,35,"ACTION.SUBMISSIONS")," "),o(3),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(29),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",He(37,Za)))},dependencies:[je,G,lr,ke,Ae,Qe,ze,Je,Ke,Xe,Ye,Ze,et,ot,tt,$e,rt,it,nt,at,st,ut,ft,St,gi,O,Kt,xo,ht,_t],encapsulation:2});var zn=ln;var Is=["vform"];function As(n,l){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",27),w("modelChange",function(t){p(e);let s=f();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=f();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ys(n,l){n&1&&M(0,"i",32)}function Es(n,l){n&1&&M(0,"i",33)}function ws(n,l){n&1&&(a(0,"mat-error"),m(1," Title is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function Ts(n,l){if(n&1){let e=I();a(0,"div",16)(1,"label",28),m(2),r(),a(3,"input",29,3),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),r(),b(5,ys,1,0,"i",30)(6,Es,1,0,"i",31),a(7,"em"),m(8),r(),b(9,ws,5,3,"mat-error",19),r()}if(n&2){let e=R(4),i=f();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",F(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.title),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),C("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Ps(n,l){if(n&1){let e=I();a(0,"div",34)(1,"div",35)(2,"h5",36),m(3),r()(),a(4,"div",37)(5,"div",38)(6,"input",39),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.checkCredit,t)||(s.dataModel.checkCredit=t),u(t)}),r(),M(7,"label",40),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.checkCredit==null?null:e.fieldsInfo.checkCredit.fieldTitle),o(3),y("ngModel",e.dataModel.checkCredit)}}function Rs(n,l){if(n&1){let e=I();a(0,"div",34)(1,"div",35)(2,"h5",41),m(3),r()(),a(4,"div",37)(5,"div",38)(6,"input",42),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.calculateCredit,t)||(s.dataModel.calculateCredit=t),u(t)}),r(),M(7,"label",43),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.calculateCredit==null?null:e.fieldsInfo.calculateCredit.fieldTitle),o(3),y("ngModel",e.dataModel.calculateCredit)}}function xs(n,l){n&1&&M(0,"i",32)}function Ds(n,l){n&1&&M(0,"i",33)}function ks(n,l){if(n&1&&(a(0,"mat-error"),m(1),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2){let e=f(2);o(),C(" ",e.fieldsInfo.serviceAvailableCredit==null?null:e.fieldsInfo.serviceAvailableCredit.fieldTitle," is "),o(2),A(_(4,2,"MESSAGE.required"))}}function Vs(n,l){if(n&1){let e=I();a(0,"div",16)(1,"label",44),m(2),r(),a(3,"input",45,4),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.serviceAvailableCredit,t)||(s.dataModel.serviceAvailableCredit=t),u(t)}),r(),b(5,xs,1,0,"i",30)(6,Ds,1,0,"i",31)(7,ks,5,4,"mat-error",19),r()}if(n&2){let e=R(4),i=f();o(2),A(i.fieldsInfo.serviceAvailableCredit==null?null:i.fieldsInfo.serviceAvailableCredit.fieldTitle),o(),y("ngModel",i.dataModel.serviceAvailableCredit),c("disabled",!(i.fieldsInfo.serviceAvailableCredit!=null&&i.fieldsInfo.serviceAvailableCredit.accessAddField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Ns(n,l){n&1&&M(0,"i",32)}function Ls(n,l){n&1&&M(0,"i",33)}function Bs(n,l){if(n&1&&(a(0,"mat-error"),m(1),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2){let e=f(2);o(),C(" ",e.fieldsInfo.serviceSumCredit==null?null:e.fieldsInfo.serviceSumCredit.fieldTitle," is "),o(2),A(_(4,2,"MESSAGE.required"))}}function Fs(n,l){if(n&1){let e=I();a(0,"div",16)(1,"label",46),m(2),r(),a(3,"input",47,5),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.serviceSumCredit,t)||(s.dataModel.serviceSumCredit=t),u(t)}),r(),b(5,Ns,1,0,"i",30)(6,Ls,1,0,"i",31)(7,Bs,5,4,"mat-error",19),r()}if(n&2){let e=R(4),i=f();o(2),A(i.fieldsInfo.serviceSumCredit==null?null:i.fieldsInfo.serviceSumCredit.fieldTitle),o(),y("ngModel",i.dataModel.serviceSumCredit),c("disabled",!(i.fieldsInfo.serviceSumCredit!=null&&i.fieldsInfo.serviceSumCredit.accessAddField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Os(n,l){n&1&&M(0,"i",32)}function Gs(n,l){n&1&&M(0,"i",33)}function Ws(n,l){if(n&1&&(a(0,"mat-error"),m(1),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2){let e=f(2);o(),C(" ",e.fieldsInfo.userAvailableCredit==null?null:e.fieldsInfo.userAvailableCredit.fieldTitle," is "),o(2),A(_(4,2,"MESSAGE.required"))}}function Hs(n,l){if(n&1){let e=I();a(0,"div",16)(1,"label",48),m(2),r(),a(3,"input",49,6),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.userAvailableCredit,t)||(s.dataModel.userAvailableCredit=t),u(t)}),r(),b(5,Os,1,0,"i",30)(6,Gs,1,0,"i",31)(7,Ws,5,4,"mat-error",19),r()}if(n&2){let e=R(4),i=f();o(2),A(i.fieldsInfo.userAvailableCredit==null?null:i.fieldsInfo.userAvailableCredit.fieldTitle),o(),y("ngModel",i.dataModel.userAvailableCredit),c("disabled",!(i.fieldsInfo.userAvailableCredit!=null&&i.fieldsInfo.userAvailableCredit.accessAddField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function js(n,l){n&1&&M(0,"i",32)}function qs(n,l){n&1&&M(0,"i",33)}function Us(n,l){if(n&1&&(a(0,"mat-error"),m(1),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2){let e=f(2);o(),C(" ",e.fieldsInfo.userSumCredit==null?null:e.fieldsInfo.userSumCredit.fieldTitle," is "),o(2),A(_(4,2,"MESSAGE.required"))}}function Qs(n,l){if(n&1){let e=I();a(0,"div",16)(1,"label",50),m(2),r(),a(3,"input",51,7),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.userSumCredit,t)||(s.dataModel.userSumCredit=t),u(t)}),r(),b(5,js,1,0,"i",30)(6,qs,1,0,"i",31)(7,Us,5,4,"mat-error",19),r()}if(n&2){let e=R(4),i=f();o(2),A(i.fieldsInfo.userSumCredit==null?null:i.fieldsInfo.userSumCredit.fieldTitle),o(),y("ngModel",i.dataModel.userSumCredit),c("disabled",!(i.fieldsInfo.userSumCredit!=null&&i.fieldsInfo.userSumCredit.accessAddField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function zs(n,l){n&1&&(a(0,"mat-error"),m(1," Description is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function Js(n,l){if(n&1&&(M(0,"img",52),g(1,"cmsthumbnail")),n&2){let e=f();c("src",F(_(1,2,e.dataModel.linkMainImageIdSrc)),ge)}}function Ks(n,l){if(n&1){let e=I();a(0,"div",53)(1,"button",54),v("click",function(){p(e);let t=f();return u(t.onFormCancel())}),M(2,"i",55),m(3),g(4,"translate"),r(),a(5,"button",56),M(6,"i",57),m(7),g(8,"translate"),r()()}if(n&2){f();let e=R(12);o(3),C(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var dn=class dn extends dt{constructor(e,i,t,s,S,d,B,q){super(s,new Rt,d,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainApiPathCompanyService=s;this.cmsToastrService=S;this.publicHelper=d;this.cdr=B;this.translate=q;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new D;this.dataModel=new Rt;this.formInfo=new oe;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathCompanyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};dn.\u0275fac=function(i){return new(i||dn)(h(ne),h(ie),h(_e),h(xt),h(N),h(L),h(V),h(k))},dn.\u0275cmp=x({type:dn,selectors:[["app-sms-apipathcompany-add"]],viewQuery:function(i,t){if(i&1&&Z(Is,5),i&2){let s;$(s=ee())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:42,vars:44,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["ServiceAvailableCredit",""],["ServiceSumCredit",""],["UserAvailableCredit",""],["UserSumCredit",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.checkCredit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.checkCredit","name","dataModel.checkCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.checkCredit",1,"custom-control-label"],["data-trigger-switch","dataModel.calculateCredit",1,"font-600","font-14"],["type","checkbox","id","dataModel.calculateCredit","name","dataModel.calculateCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.calculateCredit",1,"custom-control-label"],["for","dataModel.serviceAvailableCredit",1,"color-highlight"],["matInput","","type","text","currencyMask","","name","dataModel.serviceAvailableCredit","type","number","placeholder","0","required","","id","dataModel.serviceAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.serviceSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceSumCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.serviceSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userAvailableCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.userAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userSumCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.userSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",8),M(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),m(4),r(),a(5,"h4"),m(6),g(7,"translate"),r(),a(8,"p"),m(9),g(10,"translate"),r(),a(11,"form",12,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(13,As,1,5,"app-cms-enum-record-status-selector",13)(14,Ts,10,8,"div",14)(15,Ps,8,2,"div",15)(16,Rs,8,2,"div",15)(17,Vs,8,6,"div",14)(18,Fs,8,6,"div",14)(19,Hs,8,6,"div",14)(20,Qs,8,6,"div",14),a(21,"div",16)(22,"label",17),m(23),r(),a(24,"textarea",18,1),w("ngModelChange",function(d){return p(s),E(t.dataModel.description,d)||(t.dataModel.description=d),u(d)}),r(),a(26,"em"),m(27),r(),b(28,zs,5,3,"mat-error",19),r(),a(29,"div",20)(30,"a",21),g(31,"cmsthumbnail"),b(32,Js,2,4,"img",22),r()(),a(33,"div",16)(34,"label",23),v("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),m(35),g(36,"translate"),r(),a(37,"input",24,2),g(39,"translate"),w("ngModelChange",function(d){return p(s),E(t.dataModel.linkMainImageId,d)||(t.dataModel.linkMainImageId=d),u(d)}),v("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),r(),a(40,"cms-file-manager",25),v("itemSelected",function(d){return p(s),u(t.onActionFileSelected(d))}),w("openFormChange",function(d){return p(s),E(t.fileManagerOpenForm,d)||(t.fileManagerOpenForm=d),u(d)}),r()(),b(41,Ks,9,7,"div",26),r()()()}if(i&2){let s=R(25);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),A(_(7,34,"TITLE.SERVICE_PROVIDER_COMPANIES")),o(3),C(" ",_(10,36,"TITLE.SERVICE_PROVIDER_COMPANIES_DESCRIPTION")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),c("ngIf",t.fieldsInfo.checkCredit==null?null:t.fieldsInfo.checkCredit.accessWatchField),o(),c("ngIf",t.fieldsInfo.calculateCredit==null?null:t.fieldsInfo.calculateCredit.accessWatchField),o(),c("ngIf",t.fieldsInfo.serviceAvailableCredit==null?null:t.fieldsInfo.serviceAvailableCredit.accessWatchField),o(),c("ngIf",t.fieldsInfo.serviceSumCredit==null?null:t.fieldsInfo.serviceSumCredit.accessWatchField),o(),c("ngIf",t.fieldsInfo.userAvailableCredit==null?null:t.fieldsInfo.userAvailableCredit.accessWatchField),o(),c("ngIf",t.fieldsInfo.userSumCredit==null?null:t.fieldsInfo.userSumCredit.accessWatchField),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),c("placeholder",F(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),y("ngModel",t.dataModel.description),o(3),C("",s.value.length," / 500"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(2),c("href",F(_(31,38,t.dataModel.linkMainImageIdSrc)),ge),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),A(_(36,40,"TITLE.Icon_File")),o(2),c("placeholder",F(_(39,42,"TITLE.Original_File_ID"))),y("ngModel",t.dataModel.linkMainImageId),o(3),c("language",t.appLanguage)("isPopup",!0),y("openForm",t.fileManagerOpenForm),c("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[G,se,Q,bt,ve,z,re,Se,Pe,Re,te,ae,Ce,J,ce,j,Vt,O,ct],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var cn=dn;var Xs=["vform"];function Ys(n,l){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",27),w("modelChange",function(t){p(e);let s=f();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=f();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Zs(n,l){n&1&&M(0,"i",32)}function $s(n,l){n&1&&M(0,"i",33)}function el(n,l){n&1&&(a(0,"mat-error"),m(1," Title is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function tl(n,l){if(n&1){let e=I();a(0,"div",16)(1,"label",28),m(2),r(),a(3,"input",29,3),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),r(),b(5,Zs,1,0,"i",30)(6,$s,1,0,"i",31),a(7,"em"),m(8),r(),b(9,el,5,3,"mat-error",19),r()}if(n&2){let e=R(4),i=f();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",F(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.title),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),C("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function il(n,l){if(n&1){let e=I();a(0,"div",34)(1,"div",35)(2,"h5",36),m(3),r()(),a(4,"div",37)(5,"div",38)(6,"input",39),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.checkCredit,t)||(s.dataModel.checkCredit=t),u(t)}),r(),M(7,"label",40),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.checkCredit==null?null:e.fieldsInfo.checkCredit.fieldTitle),o(3),y("ngModel",e.dataModel.checkCredit)}}function nl(n,l){if(n&1){let e=I();a(0,"div",34)(1,"div",35)(2,"h5",41),m(3),r()(),a(4,"div",37)(5,"div",38)(6,"input",42),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.calculateCredit,t)||(s.dataModel.calculateCredit=t),u(t)}),r(),M(7,"label",43),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.calculateCredit==null?null:e.fieldsInfo.calculateCredit.fieldTitle),o(3),y("ngModel",e.dataModel.calculateCredit)}}function ol(n,l){n&1&&M(0,"i",32)}function rl(n,l){n&1&&M(0,"i",33)}function al(n,l){if(n&1&&(a(0,"mat-error"),m(1),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2){let e=f(2);o(),C(" ",e.fieldsInfo.serviceAvailableCredit==null?null:e.fieldsInfo.serviceAvailableCredit.fieldTitle," is "),o(2),A(_(4,2,"MESSAGE.required"))}}function sl(n,l){if(n&1){let e=I();a(0,"div",16)(1,"label",44),m(2),r(),a(3,"input",45,4),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.serviceAvailableCredit,t)||(s.dataModel.serviceAvailableCredit=t),u(t)}),r(),b(5,ol,1,0,"i",30)(6,rl,1,0,"i",31)(7,al,5,4,"mat-error",19),r()}if(n&2){let e=R(4),i=f();o(2),A(i.fieldsInfo.serviceAvailableCredit==null?null:i.fieldsInfo.serviceAvailableCredit.fieldTitle),o(),y("ngModel",i.dataModel.serviceAvailableCredit),c("disabled",!(i.fieldsInfo.serviceAvailableCredit!=null&&i.fieldsInfo.serviceAvailableCredit.accessEditField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function ll(n,l){n&1&&M(0,"i",32)}function dl(n,l){n&1&&M(0,"i",33)}function cl(n,l){if(n&1&&(a(0,"mat-error"),m(1),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2){let e=f(2);o(),C(" ",e.fieldsInfo.serviceSumCredit==null?null:e.fieldsInfo.serviceSumCredit.fieldTitle," is "),o(2),A(_(4,2,"MESSAGE.required"))}}function ml(n,l){if(n&1){let e=I();a(0,"div",16)(1,"label",46),m(2),r(),a(3,"input",47,5),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.serviceSumCredit,t)||(s.dataModel.serviceSumCredit=t),u(t)}),r(),b(5,ll,1,0,"i",30)(6,dl,1,0,"i",31)(7,cl,5,4,"mat-error",19),r()}if(n&2){let e=R(4),i=f();o(2),A(i.fieldsInfo.serviceSumCredit==null?null:i.fieldsInfo.serviceSumCredit.fieldTitle),o(),y("ngModel",i.dataModel.serviceSumCredit),c("disabled",!(i.fieldsInfo.serviceSumCredit!=null&&i.fieldsInfo.serviceSumCredit.accessEditField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function pl(n,l){n&1&&M(0,"i",32)}function ul(n,l){n&1&&M(0,"i",33)}function fl(n,l){if(n&1&&(a(0,"mat-error"),m(1),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2){let e=f(2);o(),C(" ",e.fieldsInfo.userAvailableCredit==null?null:e.fieldsInfo.userAvailableCredit.fieldTitle," is "),o(2),A(_(4,2,"MESSAGE.required"))}}function Sl(n,l){if(n&1){let e=I();a(0,"div",16)(1,"label",48),m(2),r(),a(3,"input",49,6),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.userAvailableCredit,t)||(s.dataModel.userAvailableCredit=t),u(t)}),r(),b(5,pl,1,0,"i",30)(6,ul,1,0,"i",31)(7,fl,5,4,"mat-error",19),r()}if(n&2){let e=R(4),i=f();o(2),A(i.fieldsInfo.userAvailableCredit==null?null:i.fieldsInfo.userAvailableCredit.fieldTitle),o(),y("ngModel",i.dataModel.userAvailableCredit),c("disabled",!(i.fieldsInfo.userAvailableCredit!=null&&i.fieldsInfo.userAvailableCredit.accessEditField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function hl(n,l){n&1&&M(0,"i",32)}function gl(n,l){n&1&&M(0,"i",33)}function _l(n,l){if(n&1&&(a(0,"mat-error"),m(1),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2){let e=f(2);o(),C(" ",e.fieldsInfo.userSumCredit==null?null:e.fieldsInfo.userSumCredit.fieldTitle," is "),o(2),A(_(4,2,"MESSAGE.required"))}}function Ml(n,l){if(n&1){let e=I();a(0,"div",16)(1,"label",50),m(2),r(),a(3,"input",51,7),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.userSumCredit,t)||(s.dataModel.userSumCredit=t),u(t)}),r(),b(5,hl,1,0,"i",30)(6,gl,1,0,"i",31)(7,_l,5,4,"mat-error",19),r()}if(n&2){let e=R(4),i=f();o(2),A(i.fieldsInfo.userSumCredit==null?null:i.fieldsInfo.userSumCredit.fieldTitle),o(),y("ngModel",i.dataModel.userSumCredit),c("disabled",!(i.fieldsInfo.userSumCredit!=null&&i.fieldsInfo.userSumCredit.accessEditField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Cl(n,l){n&1&&(a(0,"mat-error"),m(1," Description is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function vl(n,l){if(n&1&&(M(0,"img",52),g(1,"cmsthumbnail")),n&2){let e=f();c("src",F(_(1,2,e.dataModel.linkMainImageIdSrc)),ge)}}function bl(n,l){if(n&1){let e=I();a(0,"div",53)(1,"button",54),v("click",function(){p(e);let t=f();return u(t.onFormCancel())}),M(2,"i",55),m(3),g(4,"translate"),r(),a(5,"button",56),M(6,"i",57),m(7),g(8,"translate"),r()()}if(n&2){f();let e=R(12);o(3),C(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var mn=class mn extends mt{constructor(e,i,t,s,S,d,B,q){super(s,new Rt,d,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainApiPathCompanyService=s;this.cmsToastrService=S;this.publicHelper=d;this.cdr=B;this.translate=q;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ue;this.dataModel=new Rt;this.formInfo=new oe;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathCompanyService.setAccessLoad(),this.smsMainApiPathCompanyService.setAccessDataType(Ne.Editor),this.smsMainApiPathCompanyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathCompanyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};mn.\u0275fac=function(i){return new(i||mn)(h(ne),h(ie),h(_e),h(xt),h(N),h(L),h(V),h(k))},mn.\u0275cmp=x({type:mn,selectors:[["app-sms-apipathcompany-edit"]],viewQuery:function(i,t){if(i&1&&Z(Xs,5),i&2){let s;$(s=ee())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:42,vars:44,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["ServiceAvailableCredit",""],["ServiceSumCredit",""],["UserAvailableCredit",""],["UserSumCredit",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.checkCredit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.checkCredit","name","dataModel.checkCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.checkCredit",1,"custom-control-label"],["data-trigger-switch","dataModel.calculateCredit",1,"font-600","font-14"],["type","checkbox","id","dataModel.calculateCredit","name","dataModel.calculateCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.calculateCredit",1,"custom-control-label"],["for","dataModel.serviceAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceAvailableCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.serviceAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.serviceSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceSumCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.serviceSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userAvailableCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.userAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userSumCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.userSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",8),M(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),m(4),r(),a(5,"h4"),m(6),g(7,"translate"),r(),a(8,"p"),m(9),g(10,"translate"),r(),a(11,"form",12,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(13,Ys,1,5,"app-cms-enum-record-status-selector",13)(14,tl,10,8,"div",14)(15,il,8,2,"div",15)(16,nl,8,2,"div",15)(17,sl,8,6,"div",14)(18,ml,8,6,"div",14)(19,Sl,8,6,"div",14)(20,Ml,8,6,"div",14),a(21,"div",16)(22,"label",17),m(23),r(),a(24,"textarea",18,1),w("ngModelChange",function(d){return p(s),E(t.dataModel.description,d)||(t.dataModel.description=d),u(d)}),r(),a(26,"em"),m(27),r(),b(28,Cl,5,3,"mat-error",19),r(),a(29,"div",20)(30,"a",21),g(31,"cmsthumbnail"),b(32,vl,2,4,"img",22),r()(),a(33,"div",16)(34,"label",23),v("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),m(35),g(36,"translate"),r(),a(37,"input",24,2),g(39,"translate"),w("ngModelChange",function(d){return p(s),E(t.dataModel.linkMainImageId,d)||(t.dataModel.linkMainImageId=d),u(d)}),v("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),r(),a(40,"cms-file-manager",25),v("itemSelected",function(d){return p(s),u(t.onActionFileSelected(d))}),w("openFormChange",function(d){return p(s),E(t.fileManagerOpenForm,d)||(t.fileManagerOpenForm=d),u(d)}),r()(),b(41,bl,9,7,"div",26),r()()()}if(i&2){let s=R(25);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),A(_(7,34,"TITLE.SERVICE_PROVIDER_COMPANIES")),o(3),C(" ",_(10,36,"TITLE.SERVICE_PROVIDER_COMPANIES_DESCRIPTION")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),c("ngIf",t.fieldsInfo.checkCredit==null?null:t.fieldsInfo.checkCredit.accessWatchField),o(),c("ngIf",t.fieldsInfo.calculateCredit==null?null:t.fieldsInfo.calculateCredit.accessWatchField),o(),c("ngIf",t.fieldsInfo.serviceAvailableCredit==null?null:t.fieldsInfo.serviceAvailableCredit.accessWatchField),o(),c("ngIf",t.fieldsInfo.serviceSumCredit==null?null:t.fieldsInfo.serviceSumCredit.accessWatchField),o(),c("ngIf",t.fieldsInfo.userAvailableCredit==null?null:t.fieldsInfo.userAvailableCredit.accessWatchField),o(),c("ngIf",t.fieldsInfo.userSumCredit==null?null:t.fieldsInfo.userSumCredit.accessWatchField),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),c("placeholder",F(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),y("ngModel",t.dataModel.description),o(3),C("",s.value.length," / 500"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(2),c("href",F(_(31,38,t.dataModel.linkMainImageIdSrc)),ge),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),A(_(36,40,"TITLE.Icon_File")),o(2),c("placeholder",F(_(39,42,"TITLE.Original_File_ID"))),y("ngModel",t.dataModel.linkMainImageId),o(3),c("language",t.appLanguage)("isPopup",!0),y("openForm",t.fileManagerOpenForm),c("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[G,se,Q,bt,ve,z,re,Se,Pe,Re,te,ae,Ce,J,ce,j,Vt,O,ct],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var pn=mn;var Il=()=>[5,10,20,100];function Al(n,l){if(n&1){let e=I();a(0,"div",17)(1,"a",39),v("click",function(){p(e);let t=f();return u(t.onActionButtonNewRow())}),M(2,"i",40)(3,"br"),r(),a(4,"p",20),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.ADD")))}function yl(n,l){if(n&1){let e=I();a(0,"div",17)(1,"a",41),v("click",function(){p(e);let t=f();return u(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",42)(3,"br"),r(),a(4,"p",20),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.EDIT")))}function El(n,l){if(n&1){let e=I();a(0,"div",17)(1,"a",43),v("click",function(){p(e);let t=f();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",44)(3,"br"),r(),a(4,"p",20),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.DELETE")))}function wl(n,l){n&1&&(a(0,"mat-header-cell",45),m(1),g(2,"translate"),r()),n&2&&(o(),C(" ",_(2,1,"TITLE.PICTURE")," "))}function Tl(n,l){if(n&1&&M(0,"img",47),n&2){let e=f().$implicit;c("src",F(e.linkMainImageIdSrc),ge)}}function Pl(n,l){if(n&1&&(a(0,"mat-cell"),b(1,Tl,1,2,"img",46),r()),n&2){let e=l.$implicit;o(),c("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Rl(n,l){if(n&1&&(a(0,"mat-header-cell",45),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function xl(n,l){if(n&1&&(a(0,"mat-cell"),m(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.id," ")}}function Dl(n,l){if(n&1&&(a(0,"mat-header-cell",45),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function kl(n,l){if(n&1&&(a(0,"mat-cell",48),g(1,"statusCellClass"),M(2,"i",48),g(3,"statusIconClass"),r()),n&2){let e=l.$implicit;c("ngClass",_(1,2,e.recordStatus)),o(2),c("ngClass",_(3,4,e.recordStatus))}}function Vl(n,l){if(n&1&&(a(0,"mat-header-cell",45),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Nl(n,l){if(n&1&&(a(0,"mat-cell"),m(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.title," ")}}function Ll(n,l){n&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),r()),n&2&&(o(),C(" ",_(2,1,"TITLE.OPTION")," "))}function Bl(n,l){if(n&1&&(a(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),m(3,"more_vert"),r()(),M(4,"mat-menu",null,2),r()),n&2){let e=R(5);o(),c("matMenuTriggerFor",e)}}function Fl(n,l){n&1&&M(0,"mat-header-row")}function Ol(n,l){if(n&1){let e=I();a(0,"mat-row",51),v("click",function(){let t=p(e).$implicit,s=f();return u(s.onActionTableRowSelect(t))}),r()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=f();be("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var un=class un extends pt{constructor(e,i,t,s,S,d,B,q,Ct,Ut,vt){super(e,new Rt,Ut,S,B);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.router=s;this.tokenHelper=S;this.cdr=d;this.translate=B;this.cmsStoreService=q;this.pageInfo=Ct;this.publicHelper=Ut;this.dialog=vt;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new X;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","RecordStatus","Title"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","RecordStatus","Title"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Yt=>this.onSubmitOptionsSearch(Yt)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>he(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Rt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(cn,{height:"90%",panelClass:e,enterAnimationDuration:H.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:H.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(pn,{height:"90%",panelClass:i,enterAnimationDuration:H.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:H.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let S=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(S,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(S)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(S,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(t,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(B=>{i.set(B,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),S=new K;S.propertyName="RecordStatus",S.value=Ve.Available,s.filters.push(S),this.contentService.ServiceGetCount(s).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(B=>{i.set(B,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonApiList(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path/list/LinkCompanyId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}};un.\u0275fac=function(i){return new(i||un)(h(xt),h(N),h(Fe),h(qe),h(Ee),h(V),h(k),h(ye),h(lt),h(L),h(Ie))},un.\u0275cmp=x({type:un,selectors:[["app-sms-apipathcompany-list"]],standalone:!1,features:[W],decls:57,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let s=I();a(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(d){return p(s),E(t.viewGuideNotice,d)||(t.viewGuideNotice=d),u(d)}),v("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),T(1,4),m(2," -------------------------------------- "),P(),Te(3,5)(4,6),T(5,7),a(6,"a",8),v("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),M(7,"i",9),r(),a(8,"a",8),v("click",function(){return p(s),u(t.onActionButtonReload())}),M(9,"i",10),r(),P(),T(10,11),a(11,"a",12),v("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),M(12,"mat-slide-toggle",13),m(13),g(14,"translate"),r(),a(15,"a",12),v("click",function(){return p(s),u(t.onActionButtonStatist())}),M(16,"mat-slide-toggle",13),m(17),g(18,"translate"),r(),P(),T(19,14),b(20,Al,7,3,"div",15),P(),T(21,16),b(22,yl,7,3,"div",15)(23,El,7,3,"div",15),a(24,"div",17)(25,"a",18),v("click",function(){return p(s),u(t.onActionButtonApiList(t.tableRowSelected))}),M(26,"i",19)(27,"br"),r(),a(28,"p",20),m(29),g(30,"translate"),r()(),P(),T(31,21),a(32,"app-cms-search-list",22),w("optionsChange",function(d){return p(s),E(t.optionsSearch,d)||(t.optionsSearch=d),u(d)}),r(),a(33,"app-cms-statist-list",22),w("optionsChange",function(d){return p(s),E(t.optionsStatist,d)||(t.optionsStatist=d),u(d)}),r(),P(),T(34,23),a(35,"mat-table",24,0),v("matSortChange",function(){p(s);let d=R(36);return u(t.onTableSortData(d))}),T(37,25),b(38,wl,3,3,"mat-header-cell",26)(39,Pl,2,1,"mat-cell",27),P(),T(40,28),b(41,Rl,2,1,"mat-header-cell",26)(42,xl,2,1,"mat-cell",27),P(),T(43,29),b(44,Dl,2,1,"mat-header-cell",26)(45,kl,4,6,"mat-cell",30),P(),T(46,31),b(47,Vl,2,1,"mat-header-cell",26)(48,Nl,2,1,"mat-cell",27),P(),T(49,32),b(50,Ll,3,3,"mat-header-cell",33)(51,Bl,6,1,"mat-cell",34),P(),b(52,Fl,1,0,"mat-header-row",35)(53,Ol,1,6,"mat-row",36),r(),P(),T(54,37),a(55,"mat-paginator",38,1),v("page",function(d){return p(s),u(t.onTablePageingData(d))}),r(),P(),r()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(12),c("checked",t.optionsSearch.data.show),o(),C("",_(14,24,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),C("",_(18,26,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),A(_(30,28,"ACTION.ROUTES")),o(3),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(17),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",He(30,Il)))},dependencies:[je,G,ke,Ae,Qe,ze,Je,Ke,Xe,Ye,Ze,et,ot,tt,$e,rt,it,nt,at,st,ut,ft,St,O,ht,_t],encapsulation:2});var Do=un;var Gl=["*"];function Wl(n,l){if(n&1&&(a(0,"label",13),m(1),r()),n&2){let e=f();c("for",Zt("app-cms-site-selector-",e.id)),o(),A(e.optionLabel)}}function Hl(n,l){if(n&1&&(M(0,"img",14),g(1,"cmsthumbnail")),n&2){let e=f();c("src",F(_(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),ge)}}function jl(n,l){if(n&1&&(M(0,"img",14),g(1,"cmsthumbnail")),n&2){let e=f().$implicit;c("src",F(_(1,2,e.linkMainImageIdSrc)),ge)}}function ql(n,l){if(n&1&&(a(0,"mat-option",15),b(1,jl,2,4,"img",5),a(2,"span"),m(3),r()()),n&2){let e=l.$implicit,i=f();c("value",e)("disabled",i.optionDisabled),o(),c("ngIf",e.linkMainImageIdSrc),o(2),A(i.displayOption(e))}}function Ul(n,l){n&1&&M(0,"i",16)}function Ql(n,l){n&1&&M(0,"i",17)}function zl(n,l){if(n&1){let e=I();a(0,"i",18),v("click",function(){p(e);let t=f();return u(t.onActionSelectClear())}),r()}}function Jl(n,l){n&1&&(a(0,"em"),m(1),g(2,"translate"),r()),n&2&&(o(),C("(",_(2,1,"TITLE.Necessary"),")"))}var xi=class xi{constructor(l,e,i,t,s,S){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.categoryService=S;this.id=++xi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new D;this.dataModelSelect=new qt;this.formControl=new zt;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionSelectForSendMessage=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new We;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Hi(""),Gi(1500),Wi(),ji(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return he(this,null,function*(){let e=new X;e.rowPerPage=20,e.accessLoad=!0;let i=new K;return i.propertyName="Title",i.value=l,i.searchType=jt.Contains,i.clauseType=mi.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new K,i.propertyName="Id",i.value=l,i.searchType=jt.Equal,i.clauseType=mi.Or,e.filters.push(i)),this.optionSelectForSendMessage&&(i=new K,i.propertyName="RecordStatus",i.value=Ve.Available,i.searchType=jt.Equal,e.filters.push(i)),this.publicHelper.processService.processStart("DataGetAll"),e.sortColumn="priority",e.sortType=U.Ascending,yield Fi(this.categoryService.ServiceGetAll(e)).then(t=>(this.dataModelResult=t,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop("DataGetAll"),t.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(Oi(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof qt){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new qt}};xi.nextId=0,xi.\u0275fac=function(e){return new(e||xi)(h(_e),h(N),h(V),h(L),h(k),h(Pt))},xi.\u0275cmp=x({type:xi,selectors:[["app-sms-apipath-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionSelectForSendMessage:"optionSelectForSendMessage",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Gl,decls:16,vars:19,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();qi(),a(0,"div",1),M(1,"app-progress-spinner",2),b(2,Wl,2,3,"label",3),a(3,"span",4),b(4,Hl,2,4,"img",5),m(5," \xA0"),r(),M(6,"input",6),a(7,"mat-autocomplete",7,0),v("optionSelected",function(S){return p(t),u(i.onActionSelect(S.option.value))}),b(9,ql,4,4,"mat-option",8),g(10,"async"),r(),b(11,Ul,1,0,"i",9)(12,Ql,1,0,"i",10)(13,zl,1,0,"i",11)(14,Jl,3,3,"em",12),Ui(15),r()}if(e&2){let t=R(8);o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),c("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),c("placeholder",F(i.optionPlaceholder))("id",Zt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Qt("disabled",i.optionDisabled?!0:null),o(),c("displayWith",i.displayFn),o(2),c("ngForOf",_(10,17,i.filteredOptions)),o(2),c("ngIf",!i.formControl.valid),o(),c("ngIf",i.optionRequired&&i.formControl.valid),o(),c("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),c("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0))}},dependencies:[De,G,Q,z,Se,zi,Xi,Ki,Yi,io,J,j,si,O,ct],encapsulation:2});var Ht=xi;var Kl=["vform"];function Xl(n,l){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",26),w("modelChange",function(t){p(e);let s=f();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=f();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Yl(n,l){if(n&1){let e=I();a(0,"div",27)(1,"div",28)(2,"h5",29),m(3),r()(),a(4,"div",30)(5,"div",31)(6,"input",32),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.hasInherits,t)||(s.dataModel.hasInherits=t),u(t)}),r(),M(7,"label",33),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle),o(3),y("ngModel",e.dataModel.hasInherits)}}function Zl(n,l){if(n&1&&(a(0,"option",34),m(1),r()),n&2){let e=l.$implicit;c("ngValue",e.value),o(),C(" ",e.description," ")}}function $l(n,l){n&1&&(a(0,"mat-error"),m(1," AccessStatus is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function ed(n,l){if(n&1&&(a(0,"option",34),m(1),r()),n&2){let e=l.$implicit;c("ngValue",e.value),o(),C(" ",e.description," ")}}function td(n,l){n&1&&(a(0,"mat-error"),m(1," Action is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function id(n,l){if(n&1){let e=I();a(0,"div",19)(1,"label",35),m(2),g(3,"translate"),r(),a(4,"input",36),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),u(t)}),r(),M(5,"mat-datepicker-toggle",22)(6,"mat-datepicker",23,4),r()}if(n&2){let e=R(7),i=f();o(2),A(_(3,4,"TITLE.Expire_Date")),o(2),y("ngModel",i.dataModel.expireDate),c("matDatepicker",e),o(),c("for",e)}}function nd(n,l){if(n&1){let e=I();a(0,"div",37)(1,"button",38),v("click",function(){p(e);let t=f();return u(t.onFormCancel())}),M(2,"i",39),m(3),g(4,"translate"),r(),a(5,"button",40),M(6,"i",41),m(7),g(8,"translate"),r()()}if(n&2){f();let e=R(9);o(3),C(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var fn=class fn extends dt{constructor(e,i,t,s,S,d,B,q){super(s,new $t,d,q);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiPathPermissionService=s;this.cmsToastrService=S;this.publicHelper=d;this.cdr=B;this.translate=q;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new D;this.dataModel=new $t;this.formInfo=new oe;this.dataModelEnumApiPathPermissionAccessStatusResult=new D;this.dataModelEnumApiPathPermissionActionResult=new D;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.getEnumApiPathPermissionAccessStatus(),this.getEnumApiPathPermissionAction(),this.DataGetAccess()}getEnumApiPathPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiPathPermissionAccessStatusEnum().subscribe(e=>{this.dataModelEnumApiPathPermissionAccessStatusResult=e})}getEnumApiPathPermissionAction(){this.smsEnumService.ServiceSmsApiPathPermissionActionEnum().subscribe(e=>{this.dataModelEnumApiPathPermissionActionResult=e})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPermissionService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiPathId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiPathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};fn.\u0275fac=function(i){return new(i||fn)(h(ne),h(ie),h(xe),h(ui),h(N),h(L),h(V),h(k))},fn.\u0275cmp=x({type:fn,selectors:[["app-sms-apipathpermission-add"]],viewQuery:function(i,t){if(i&1&&Z(Kl,5),i&2){let s;$(s=ee())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:47,vars:49,consts:[["vform","ngForm"],["AccessStatus","ngModel"],["Action","ngModel"],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accessStatus","name","dataModel.accessStatus","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.action","name","dataModel.action","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.hasInherits",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.hasInherits","name","dataModel.hasInherits",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasInherits",1,"custom-control-label"],[3,"ngValue"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",5),M(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),m(4),r(),a(5,"p"),m(6),g(7,"translate"),r(),a(8,"form",9,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(10,Xl,1,5,"app-cms-enum-record-status-selector",10),a(11,"app-cms-user-selector",11),g(12,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorCmsUser(d))}),r(),a(13,"app-cms-site-selector",11),g(14,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorCmsSite(d))}),r(),a(15,"app-cms-usergroup-selector",11),g(16,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorCoreUserGroup(d))}),r(),a(17,"app-cms-sitecategory-selector",11),g(18,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorCoreSiteCategory(d))}),r(),a(19,"app-sms-apipath-selector",12),g(20,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorSelectLinkApiPathId(d))}),r(),b(21,Yl,8,2,"div",13),a(22,"div",14)(23,"select",15,1),w("ngModelChange",function(d){return p(s),E(t.dataModel.accessStatus,d)||(t.dataModel.accessStatus=d),u(d)}),b(25,Zl,2,2,"option",16),r(),a(26,"em"),m(27),g(28,"translate"),r(),b(29,$l,5,3,"mat-error",17),r(),a(30,"div",14)(31,"select",18,2),w("ngModelChange",function(d){return p(s),E(t.dataModel.action,d)||(t.dataModel.action=d),u(d)}),b(33,ed,2,2,"option",16),r(),a(34,"em"),m(35),g(36,"translate"),r(),b(37,td,5,3,"mat-error",17),r(),a(38,"div",19)(39,"label",20),m(40),r(),a(41,"input",21),w("ngModelChange",function(d){return p(s),E(t.dataModel.fromDate,d)||(t.dataModel.fromDate=d),u(d)}),r(),M(42,"mat-datepicker-toggle",22)(43,"mat-datepicker",23,3),r(),b(45,id,8,6,"div",24)(46,nd,9,7,"div",25),r()()()}if(i&2){let s=R(24),S=R(32),d=R(44);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",_(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",_(12,35,"TITLE.USER")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreSiteId!=null&&t.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",_(14,37,"TITLE.SITE")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreUserGroupId!=null&&t.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",_(16,39,"TITLE.Type_Usage")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",_(18,41,"TITLE.Site_Type")),o(2),c("optionSelectForce",t.dataModel.linkApiPathId)("optionPlaceholder",_(20,43,"TITLE.Direction")),o(2),c("ngIf",t.fieldsInfo.hasInherits==null?null:t.fieldsInfo.hasInherits.accessWatchField),o(2),y("ngModel",t.dataModel.accessStatus),o(2),c("ngForOf",t.dataModelEnumApiPathPermissionAccessStatusResult.listItems),o(2),C("",_(28,45,"TITLE.Select_type_of_content")," "),o(2),c("ngIf",s.errors==null?null:s.errors.required),o(2),y("ngModel",t.dataModel.action),o(2),c("ngForOf",t.dataModelEnumApiPathPermissionActionResult.listItems),o(2),C("",_(36,47,"TITLE.Select_type_of_content")," "),o(2),c("ngIf",S.errors==null?null:S.errors.required),o(3),A(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),y("ngModel",t.dataModel.fromDate),c("matDatepicker",d),o(),c("for",d),o(3),c("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[De,G,se,di,ci,Q,ve,li,z,re,Se,te,ae,yt,Et,wt,Ce,It,J,Nt,ce,Bt,Lt,Ft,j,Ht,O],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var ko=fn;var od=["vform"];function rd(n,l){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",26),w("modelChange",function(t){p(e);let s=f();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=f();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ad(n,l){if(n&1){let e=I();a(0,"div",27)(1,"div",28)(2,"h5",29),m(3),r()(),a(4,"div",30)(5,"div",31)(6,"input",32),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.hasInherits,t)||(s.dataModel.hasInherits=t),u(t)}),r(),M(7,"label",33),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle),o(3),y("ngModel",e.dataModel.hasInherits)}}function sd(n,l){if(n&1&&(a(0,"option",34),m(1),r()),n&2){let e=l.$implicit;c("ngValue",e.value),o(),C(" ",e.description," ")}}function ld(n,l){n&1&&(a(0,"mat-error"),m(1," AccessStatus is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function dd(n,l){if(n&1&&(a(0,"option",34),m(1),r()),n&2){let e=l.$implicit;c("ngValue",e.value),o(),C(" ",e.description," ")}}function cd(n,l){n&1&&(a(0,"mat-error"),m(1," Action is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function md(n,l){if(n&1){let e=I();a(0,"div",19)(1,"label",35),m(2),g(3,"translate"),r(),a(4,"input",36),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),u(t)}),r(),M(5,"mat-datepicker-toggle",22)(6,"mat-datepicker",23,4),r()}if(n&2){let e=R(7),i=f();o(2),A(_(3,4,"TITLE.Expire_Date")),o(2),y("ngModel",i.dataModel.expireDate),c("matDatepicker",e),o(),c("for",e)}}function pd(n,l){if(n&1){let e=I();a(0,"div",37)(1,"button",38),v("click",function(){p(e);let t=f();return u(t.onFormCancel())}),M(2,"i",39),m(3),g(4,"translate"),r(),a(5,"button",40),M(6,"i",41),m(7),g(8,"translate"),r()()}if(n&2){f();let e=R(9);o(3),C(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var Sn=class Sn extends mt{constructor(e,i,t,s,S,d,B,q){super(s,new $t,d,q);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiPathPermissionService=s;this.cmsToastrService=S;this.publicHelper=d;this.cdr=B;this.translate=q;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ue;this.dataModel=new $t;this.formInfo=new oe;this.dataModelEnumApiPathPermissionAccessStatusResult=new D;this.dataModelEnumApiPathPermissionActionResult=new D;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getEnumApiPathPermissionAccessStatus(),this.getEnumApiPathPermissionAction()}getEnumApiPathPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiPathPermissionAccessStatusEnum().subscribe(e=>{this.dataModelEnumApiPathPermissionAccessStatusResult=e})}getEnumApiPathPermissionAction(){this.smsEnumService.ServiceSmsApiPathPermissionActionEnum().subscribe(e=>{this.dataModelEnumApiPathPermissionActionResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPermissionService.setAccessLoad(),this.smsMainApiPathPermissionService.setAccessDataType(Ne.Editor),this.smsMainApiPathPermissionService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPermissionService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiPathId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiPathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Sn.\u0275fac=function(i){return new(i||Sn)(h(ne),h(ie),h(xe),h(ui),h(N),h(L),h(V),h(k))},Sn.\u0275cmp=x({type:Sn,selectors:[["app-sms-apipathpermission-edit"]],viewQuery:function(i,t){if(i&1&&Z(od,5),i&2){let s;$(s=ee())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:47,vars:49,consts:[["vform","ngForm"],["AccessStatus","ngModel"],["Action","ngModel"],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accessStatus","name","dataModel.accessStatus","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.action","name","dataModel.action","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.hasInherits",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.hasInherits","name","dataModel.hasInherits",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasInherits",1,"custom-control-label"],[3,"ngValue"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",5),M(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),m(4),r(),a(5,"p"),m(6),g(7,"translate"),r(),a(8,"form",9,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(10,rd,1,5,"app-cms-enum-record-status-selector",10),a(11,"app-cms-user-selector",11),g(12,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorCmsUser(d))}),r(),a(13,"app-cms-site-selector",11),g(14,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorCmsSite(d))}),r(),a(15,"app-cms-usergroup-selector",11),g(16,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorCoreUserGroup(d))}),r(),a(17,"app-cms-sitecategory-selector",11),g(18,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorCoreSiteCategory(d))}),r(),a(19,"app-sms-apipath-selector",12),g(20,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorSelectLinkApiPathId(d))}),r(),b(21,ad,8,2,"div",13),a(22,"div",14)(23,"select",15,1),w("ngModelChange",function(d){return p(s),E(t.dataModel.accessStatus,d)||(t.dataModel.accessStatus=d),u(d)}),b(25,sd,2,2,"option",16),r(),a(26,"em"),m(27),g(28,"translate"),r(),b(29,ld,5,3,"mat-error",17),r(),a(30,"div",14)(31,"select",18,2),w("ngModelChange",function(d){return p(s),E(t.dataModel.action,d)||(t.dataModel.action=d),u(d)}),b(33,dd,2,2,"option",16),r(),a(34,"em"),m(35),g(36,"translate"),r(),b(37,cd,5,3,"mat-error",17),r(),a(38,"div",19)(39,"label",20),m(40),r(),a(41,"input",21),w("ngModelChange",function(d){return p(s),E(t.dataModel.fromDate,d)||(t.dataModel.fromDate=d),u(d)}),r(),M(42,"mat-datepicker-toggle",22)(43,"mat-datepicker",23,3),r(),b(45,md,8,6,"div",24)(46,pd,9,7,"div",25),r()()()}if(i&2){let s=R(24),S=R(32),d=R(44);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",_(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",_(12,35,"TITLE.USER")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreSiteId!=null&&t.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",_(14,37,"TITLE.SITE")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreUserGroupId!=null&&t.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",_(16,39,"TITLE.Type_Usage")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",_(18,41,"TITLE.Site_Type")),o(2),c("optionSelectForce",t.dataModel.linkApiPathId)("optionPlaceholder",_(20,43,"TITLE.Direction")),o(2),c("ngIf",t.fieldsInfo.hasInherits==null?null:t.fieldsInfo.hasInherits.accessWatchField),o(2),y("ngModel",t.dataModel.accessStatus),o(2),c("ngForOf",t.dataModelEnumApiPathPermissionAccessStatusResult.listItems),o(2),C("",_(28,45,"TITLE.Select_type_of_content")," "),o(2),c("ngIf",s.errors==null?null:s.errors.required),o(2),y("ngModel",t.dataModel.action),o(2),c("ngForOf",t.dataModelEnumApiPathPermissionActionResult.listItems),o(2),C("",_(36,47,"TITLE.Select_type_of_content")," "),o(2),c("ngIf",S.errors==null?null:S.errors.required),o(3),A(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),y("ngModel",t.dataModel.fromDate),c("matDatepicker",d),o(),c("for",d),o(3),c("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[De,G,se,di,ci,Q,ve,li,z,re,Se,te,ae,yt,Et,wt,Ce,It,J,Nt,ce,Bt,Lt,Ft,j,Ht,O],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Vo=Sn;var hn=class hn{constructor(l,e,i,t,s,S,d,B){this.headerService=l;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.dialog=s;this.translate=S;this.cmsStoreService=d;this.tokenHelper=B;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new D;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>he(this,null,function*(){this.DataGetOneContent()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};hn.\u0275fac=function(e){return new(e||hn)(h(Pt),h(L),h(V),h(N),h(Ie),h(k),h(ye),h(Ee))},hn.\u0275cmp=x({type:hn,selectors:[["app-sms-apipath-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:31,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(a(0,"div",0),M(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),M(6,"span",6),r(),a(7,"div",7)(8,"h5")(9,"b"),m(10),g(11,"translate"),r()()(),M(12,"div",8),r(),a(13,"div",4)(14,"div",5)(15,"b"),m(16),r(),m(17,": "),r(),a(18,"div",9),m(19),r(),M(20,"div",10)(21,"div",11),r(),a(22,"div",4)(23,"div",5)(24,"b"),m(25),r(),m(26,": "),r(),a(27,"div",9),m(28),r(),M(29,"div",11),r()()()(),M(30,"div",12)),e&2&&(o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(5),c("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),C(" ",_(11,7,"TITLE.Selected_Route")," "),o(6),C("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),A(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),C("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," "),o(3),A(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[j,Co,O],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var gn=hn;var ud=()=>[5,10,20,100];function fd(n,l){if(n&1&&M(0,"app-sms-apipath-header",41),n&2){let e=f();c("optionId",e.requestLinkApiPathId)}}function Sd(n,l){if(n&1){let e=I();a(0,"a",42),v("click",function(){p(e);let t=f();return u(t.onActionBackToParent())}),M(1,"i",43),r()}}function hd(n,l){if(n&1){let e=I();a(0,"div",20)(1,"a",44),v("click",function(){p(e);let t=f();return u(t.onActionButtonNewRow())}),M(2,"i",45)(3,"br"),r(),a(4,"p",23),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.ADD")))}function gd(n,l){if(n&1){let e=I();a(0,"div",20)(1,"a",46),v("click",function(){p(e);let t=f();return u(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",47)(3,"br"),r(),a(4,"p",23),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.EDIT")))}function _d(n,l){if(n&1){let e=I();a(0,"div",20)(1,"a",48),v("click",function(){p(e);let t=f();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",49)(3,"br"),r(),a(4,"p",23),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.DELETE")))}function Md(n,l){if(n&1&&(a(0,"mat-header-cell",50),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Cd(n,l){if(n&1&&(a(0,"mat-cell"),m(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.id," ")}}function vd(n,l){if(n&1&&(a(0,"mat-header-cell",50),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function bd(n,l){if(n&1&&(a(0,"mat-cell",51),g(1,"statusCellClass"),M(2,"i",51),g(3,"statusIconClass"),r()),n&2){let e=l.$implicit;c("ngClass",_(1,2,e.recordStatus)),o(2),c("ngClass",_(3,4,e.recordStatus))}}function Id(n,l){if(n&1&&(a(0,"mat-header-cell",50),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.linkApiPathId==null?null:e.fieldsInfo.linkApiPathId.fieldTitle," ")}}function Ad(n,l){if(n&1&&(a(0,"mat-cell"),m(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.linkApiPathId," ")}}function yd(n,l){n&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),r()),n&2&&(o(),C(" ",_(2,1,"TITLE.OPTION")," "))}function Ed(n,l){if(n&1&&(a(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),m(3,"more_vert"),r()(),M(4,"mat-menu",null,2),r()),n&2){let e=R(5);o(),c("matMenuTriggerFor",e)}}function wd(n,l){n&1&&M(0,"mat-header-row")}function Td(n,l){if(n&1){let e=I();a(0,"mat-row",54),v("click",function(){let t=p(e).$implicit,s=f();return u(s.onActionTableRowSelect(t))}),r()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=f();be("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var _n=class _n extends pt{constructor(e,i,t,s,S,d,B,q,Ct,Ut,vt,Yt){super(e,new $t,vt,d,q);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=s;this.router=S;this.tokenHelper=d;this.cdr=B;this.translate=q;this.cmsStoreService=Ct;this.pageInfo=Ut;this.publicHelper=vt;this.dialog=Yt;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new X;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["RecordStatus","linkApiPathId"];this.tabledisplayedColumnsMobileSource=["RecordStatus","linkApiPathId"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Oe=>this.onSubmitOptionsSearch(Oe)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=U.Descending}ngOnInit(){if(this.filteModelContent.sortColumn="Title",this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")),this.requestLinkApiPathId.length>0){let e=new K;e.propertyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>he(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new $t);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new K;t.propertyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new X,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ko,{height:"90%",panelClass:e,enterAnimationDuration:H.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:H.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Vo,{height:"90%",panelClass:i,enterAnimationDuration:H.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:H.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let S=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(S,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(S)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(S,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(t,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(B=>{i.set(B,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),S=new K;S.propertyName="RecordStatus",S.value=Ve.Available,s.filters.push(S),this.contentService.ServiceGetCount(s).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(B=>{i.set(B,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonApiList(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path/list/LinkPermissionId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};_n.\u0275fac=function(i){return new(i||_n)(h(ui),h(N),h(At),h(Fe),h(qe),h(Ee),h(V),h(k),h(ye),h(lt),h(L),h(Ie))},_n.\u0275cmp=x({type:_n,selectors:[["app-sms-apipathpermission-list"]],standalone:!1,features:[W],decls:56,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkApiPathId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let s=I();b(0,fd,1,1,"app-sms-apipath-header",3),a(1,"app-cms-html-list",4),w("optionActionGuideNoticeDisplayChange",function(d){return p(s),E(t.viewGuideNotice,d)||(t.viewGuideNotice=d),u(d)}),v("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),T(2,5),a(3,"app-sms-apipath-tree",6),v("optionChange",function(d){return p(s),u(t.onActionSelectorSelect(d))}),r(),P(),Te(4,7)(5,8),T(6,9),b(7,Sd,2,0,"a",10),a(8,"a",11),v("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),M(9,"i",12),r(),a(10,"a",11),v("click",function(){return p(s),u(t.onActionButtonReload())}),M(11,"i",13),r(),P(),T(12,14),a(13,"a",15),v("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),M(14,"mat-slide-toggle",16),m(15),g(16,"translate"),r(),a(17,"a",15),v("click",function(){return p(s),u(t.onActionButtonStatist())}),M(18,"mat-slide-toggle",16),m(19),g(20,"translate"),r(),P(),T(21,17),b(22,hd,7,3,"div",18),P(),T(23,19),b(24,gd,7,3,"div",18)(25,_d,7,3,"div",18),a(26,"div",20)(27,"a",21),v("click",function(){return p(s),u(t.onActionButtonApiList(t.tableRowSelected))}),M(28,"i",22)(29,"br"),r(),a(30,"p",23),m(31),g(32,"translate"),r()(),P(),T(33,24),a(34,"app-cms-search-list",25),w("optionsChange",function(d){return p(s),E(t.optionsSearch,d)||(t.optionsSearch=d),u(d)}),r(),a(35,"app-cms-statist-list",25),w("optionsChange",function(d){return p(s),E(t.optionsStatist,d)||(t.optionsStatist=d),u(d)}),r(),P(),T(36,26),a(37,"mat-table",27,0),v("matSortChange",function(){p(s);let d=R(38);return u(t.onTableSortData(d))}),T(39,28),b(40,Md,2,1,"mat-header-cell",29)(41,Cd,2,1,"mat-cell",30),P(),T(42,31),b(43,vd,2,1,"mat-header-cell",29)(44,bd,4,6,"mat-cell",32),P(),T(45,33),b(46,Id,2,1,"mat-header-cell",29)(47,Ad,2,1,"mat-cell",30),P(),T(48,34),b(49,yd,3,3,"mat-header-cell",35)(50,Ed,6,1,"mat-cell",36),P(),b(51,wd,1,0,"mat-header-row",37)(52,Td,1,6,"mat-row",38),r(),P(),T(53,39),a(54,"mat-paginator",40,1),v("page",function(d){return p(s),u(t.onTablePageingData(d))}),r(),P(),r()}i&2&&(c("ngIf",(t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0),o(),c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!t.requestLinkApiPathId||t.requestLinkApiPathId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),c("ngIf",(t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0),o(7),c("checked",t.optionsSearch.data.show),o(),C("",_(16,26,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),C("",_(20,28,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),A(_(32,30,"ACTION.ROUTES")),o(3),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(14),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",He(32,ud)))},dependencies:[je,G,ke,Ae,Qe,ze,Je,Ke,Xe,Ye,Ze,et,ot,tt,$e,rt,it,nt,at,st,ut,ft,St,gi,gn,O,ht,_t],encapsulation:2});var Xn=_n;function Pd(n,l){if(n&1){let e=I();a(0,"li")(1,"mat-checkbox",1),v("change",function(){let t=p(e).$implicit,s=f();return u(s.onActionSelect(t))}),m(2),r()()}if(n&2){let e=l.$implicit,i=f();o(),c("checked",i.fieldsStatus.get(e.value))("disabled",i.optionDisabled),o(),C(" ",e.title," ")}}var Di=class Di{constructor(l){this.translate=l;this.id=++Di.nextId;this.modelChange=new We;this.dataModelResult=new D;this.optionDisabled=!1;this.optionLabel="";this.optionRequired=!1;this.dataIdsSelect=[];this.formControl=new zt;this.fieldsStatus=new Map;this.optionPlaceholder="";this.optionSelectAdded=new We;this.optionSelectRemoved=new We;this.optionReload=()=>this.onActionButtonReload()}set model(l){this.onActionSelectForce(l)}set optionDataListResult(l){this.dataModelResult=l,this.dataModelResult.listItems.forEach(e=>this.fieldsStatus.set(e.value,!1)),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0)),this.dataModelResult.listItems.forEach(e=>{this.fieldsStatus.get(e.value)&&this.dataIdsSelect.push(e.value)})}ngOnInit(){}onActionSelect(l){this.fieldsStatus.get(l.value)?(this.fieldsStatus.set(l.value,!1),this.optionSelectRemoved.emit(l),this.dataIdsSelect.splice(this.dataIdsSelect.indexOf(l.value),1)):(this.fieldsStatus.set(l.value,!0),this.optionSelectAdded.emit(l),this.dataIdsSelect.push(l.value)),this.modelChange.emit(this.dataIdsSelect)}onActionSelectForce(l){typeof l==typeof Array(Number)?l.forEach(e=>{this.dataIdsSelect.indexOf(e)<0&&this.dataIdsSelect.push(e)}):typeof l==typeof Array(ur)&&l.forEach(e=>{this.dataIdsSelect.push(e.value)}),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){}};Di.nextId=0,Di.\u0275fac=function(e){return new(e||Di)(h(k))},Di.\u0275cmp=x({type:Di,selectors:[["app-cms-enum-x-selectionlist"]],inputs:{model:"model",optionDisabled:"optionDisabled",optionLabel:"optionLabel",optionRequired:"optionRequired",optionDataListResult:"optionDataListResult",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload"},outputs:{modelChange:"modelChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(e,i){e&1&&(a(0,"ul"),b(1,Pd,3,3,"li",0),r()),e&2&&(o(),c("ngForOf",i.dataModelResult.listItems))},dependencies:[De,co],encapsulation:2});var Mn=Di;var kd=["vform"];function Vd(n,l){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",34),w("modelChange",function(t){p(e);let s=f();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=f();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Nd(n,l){n&1&&M(0,"i",35)}function Ld(n,l){n&1&&M(0,"i",36)}function Bd(n,l){n&1&&(a(0,"mat-error"),m(1," Title is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function Fd(n,l){if(n&1){let e=I();a(0,"div",37)(1,"div",38)(2,"h5",39),m(3),r()(),a(4,"div",40)(5,"div",41)(6,"input",42),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.serviceDeliveryCostBase,t)||(s.dataModel.serviceDeliveryCostBase=t),u(t)}),r(),M(7,"label",43),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.serviceDeliveryCostBase==null?null:e.fieldsInfo.serviceDeliveryCostBase.fieldTitle," "),o(3),y("ngModel",e.dataModel.serviceDeliveryCostBase)}}function Od(n,l){if(n&1){let e=I();a(0,"div",37)(1,"div",38)(2,"h5",44),m(3),r()(),a(4,"div",40)(5,"div",41)(6,"input",45),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.endUserDeliveryCostBase,t)||(s.dataModel.endUserDeliveryCostBase=t),u(t)}),r(),M(7,"label",46),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.endUserDeliveryCostBase==null?null:e.fieldsInfo.endUserDeliveryCostBase.fieldTitle," "),o(3),y("ngModel",e.dataModel.endUserDeliveryCostBase)}}function Gd(n,l){if(n&1){let e=I();a(0,"div",14)(1,"label",47),m(2),r(),a(3,"input",48,6),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.servicePricePerPage,t)||(s.dataModel.servicePricePerPage=t),u(t)}),r()()}if(n&2){let e=f();o(2),A(e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle),o(),y("ngModel",e.dataModel.servicePricePerPage),c("disabled",!(e.fieldsInfo.servicePricePerPage!=null&&e.fieldsInfo.servicePricePerPage.accessAddField))}}function Wd(n,l){if(n&1){let e=I();a(0,"div",14)(1,"label",49),m(2),r(),a(3,"input",50,7),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.endUserPricePerPage,t)||(s.dataModel.endUserPricePerPage=t),u(t)}),r()()}if(n&2){let e=f();o(2),A(e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle),o(),y("ngModel",e.dataModel.endUserPricePerPage),c("disabled",!(e.fieldsInfo.endUserPricePerPage!=null&&e.fieldsInfo.endUserPricePerPage.accessAddField))}}function Hd(n,l){if(n&1){let e=I();a(0,"mat-chip",51),v("removed",function(){let t=p(e).$implicit,s=f();return u(s.removeTagRegulatorNumberList(t))}),a(1,"div",52),m(2),r(),a(3,"button",53)(4,"mat-icon"),m(5,"cancel"),r()()()}if(n&2){let e=l.$implicit;o(2),A(e)}}function jd(n,l){if(n&1&&(a(0,"div"),m(1),r()),n&2){let e=l.$implicit;o(),C(" ",e," ")}}function qd(n,l){if(n&1){let e=I();a(0,"mat-chip",51),v("removed",function(){let t=p(e).$implicit,s=f();return u(s.removeTagServicePagination(t))}),m(1),a(2,"button",53)(3,"mat-icon"),m(4,"cancel"),r()()()}if(n&2){let e=l.$implicit;o(),C(" ",e," ")}}function Ud(n,l){if(n&1&&(a(0,"div"),m(1),r()),n&2){let e=l.$implicit,i=l.index;o(),ai(" ",i+1," - ",e," ")}}function Qd(n,l){if(n&1){let e=I();a(0,"mat-chip",51),v("removed",function(){let t=p(e).$implicit,s=f();return u(s.removeTagEndUserPagination(t))}),m(1),a(2,"button",53)(3,"mat-icon"),m(4,"cancel"),r()()()}if(n&2){let e=l.$implicit;o(),C(" ",e," ")}}function zd(n,l){if(n&1&&(a(0,"div"),m(1),r()),n&2){let e=l.$implicit,i=l.index;o(),ai(" ",i+1," - ",e," ")}}function Jd(n,l){if(n&1){let e=I();a(0,"app-cms-enum-x-selector",54),w("modelChange",function(t){p(e);let s=f();return E(s.dataModel.messageType,t)||(s.dataModel.messageType=t),u(t)}),r()}if(n&2){let e=f();c("optionDataListResult",e.dataModelSmsMessageTypeEnumResult),y("model",e.dataModel.messageType),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.messageType==null?null:e.fieldsInfo.messageType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Kd(n,l){if(n&1){let e=I();a(0,"app-cms-enum-x-selectionlist",55),w("modelChange",function(t){p(e);let s=f();return E(s.dataModel.outBoxTypeList,t)||(s.dataModel.outBoxTypeList=t),u(t)}),r()}if(n&2){let e=f();c("optionDataListResult",e.dataModelSmsOutBoxTypeEnumResult),y("model",e.dataModel.outBoxTypeList),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.outBoxTypeJson==null?null:e.fieldsInfo.outBoxTypeJson.fieldTitle)("optionRequired",!0)}}function Xd(n,l){if(n&1){let e=I();a(0,"div",56)(1,"button",57),v("click",function(){p(e);let t=f();return u(t.onFormCancel())}),M(2,"i",58),m(3),g(4,"translate"),r(),a(5,"button",59),M(6,"i",60),m(7),g(8,"translate"),r()()}if(n&2){f();let e=R(9);o(3),C(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var Cn=class Cn extends dt{constructor(e,i,t,s,S,d,B,q){super(s,new ei,d,q);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiPathPriceServiceService=s;this.cmsToastrService=S;this.publicHelper=d;this.cdr=B;this.translate=q;this.constructorInfoAreaId=this.constructor.name;this.requestId="";this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new D;this.dataModel=new ei;this.formInfo=new oe;this.dataModelSmsMessageTypeEnumResult=new D;this.dataModelSmsOutBoxTypeEnumResult=new D;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(e.linkApiPathId&&e.linkApiPathId.length>0&&(this.dataModel.linkApiPathId=e.linkApiPathId),e.id&&(this.requestId=e.id))}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.requestId?this.DataGetOneContent():this.DataGetAccess(),this.getSmsMessageTypeEnum(),this.getSmsOutBoxTypeEnum()}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPriceServiceService.setAccessLoad(),this.smsMainApiPathPriceServiceService.setAccessDataType(Ne.Editor),this.smsMainApiPathPriceServiceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.dataModel.title=this.dataModel.title+" (COPY)",this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPriceServiceService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiPathId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiPathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTagRegulatorNumberList(e){let i=(e.value||"").trim();this.dataModel.regulatorNumberList||(this.dataModel.regulatorNumberList=[]),i&&this.dataModel.regulatorNumberList.push(i),e.chipInput.clear()}removeTagRegulatorNumberList(e){let i=this.dataModel.regulatorNumberList.indexOf(e);i>=0&&this.dataModel.regulatorNumberList.splice(i,1)}addTagServicePagination(e){var t=+(e.value||"").trim()||-1;this.dataModel.serviceMessageLengthPaginationList||(this.dataModel.serviceMessageLengthPaginationList=[]),t>=0&&this.dataModel.serviceMessageLengthPaginationList.push(t),e.chipInput.clear()}removeTagServicePagination(e){let i=this.dataModel.serviceMessageLengthPaginationList.indexOf(e);i>=0&&this.dataModel.serviceMessageLengthPaginationList.splice(i,1)}addTagEndUserPagination(e){let i=(e.value||"").trim();this.dataModel.endUserMessageLengthPaginationList||(this.dataModel.endUserMessageLengthPaginationList=[]);var t=+i||-1;t>=0&&this.dataModel.endUserMessageLengthPaginationList.push(t),e.chipInput.clear()}removeTagEndUserPagination(e){let i=this.dataModel.endUserMessageLengthPaginationList.indexOf(e);i>=0&&this.dataModel.endUserMessageLengthPaginationList.splice(i,1)}};Cn.\u0275fac=function(i){return new(i||Cn)(h(ne),h(ie),h(xe),h(Ji),h(N),h(L),h(V),h(k))},Cn.\u0275cmp=x({type:Cn,selectors:[["app-sms-apipathpriceservice-add"]],viewQuery:function(i,t){if(i&1&&Z(kd,5),i&2){let s;$(s=ee())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:98,vars:96,consts:[["vform","ngForm"],["Title",""],["chipListRegulatorNumberList",""],["tagInput",""],["chipListServicePagination",""],["chipListEndUserPagination",""],["servicePricePerPage",""],["endUserPricePerPage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"divider","mt-3","mb-3"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.Number'|translate"],[3,"removed",4,"ngFor","ngForOf"],[1,"input-ltr",3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","modelChange",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.serviceDeliveryCostBase",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.serviceDeliveryCostBase","name","dataModel.serviceDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.serviceDeliveryCostBase",1,"custom-control-label"],["data-trigger-switch","dataModel.endUserDeliveryCostBase",1,"font-600","font-14"],["type","checkbox","id","dataModel.endUserDeliveryCostBase","name","dataModel.endUserDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.endUserDeliveryCostBase",1,"custom-control-label"],["for","dataModel.servicePricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.servicePricePerPage","placeholder","0","id","dataModel.servicePricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.endUserPricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.endUserPricePerPage","placeholder","0","id","dataModel.endUserPricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[3,"removed"],[1,"input-ltr"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",8),M(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),m(4),r(),a(5,"p"),m(6),g(7,"translate"),r(),a(8,"form",12,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(10,Vd,1,5,"app-cms-enum-record-status-selector",13),a(11,"div",14)(12,"label",15),m(13),r(),a(14,"input",16,1),w("ngModelChange",function(d){return p(s),E(t.dataModel.title,d)||(t.dataModel.title=d),u(d)}),r(),b(16,Nd,1,0,"i",17)(17,Ld,1,0,"i",18),a(18,"em"),m(19),r(),b(20,Bd,5,3,"mat-error",19),r(),a(21,"app-sms-apipath-selector",20),g(22,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorSelectLinkApiPathId(d))}),r(),a(23,"app-cms-user-selector",21),g(24,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorCmsUser(d))}),r(),a(25,"app-cms-site-selector",21),g(26,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorCmsSite(d))}),r(),a(27,"app-cms-usergroup-selector",21),g(28,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorCoreUserGroup(d))}),r(),a(29,"app-cms-sitecategory-selector",21),g(30,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorCoreSiteCategory(d))}),r(),M(31,"div",22),b(32,Fd,8,2,"div",23)(33,Od,8,2,"div",23),M(34,"div",22),b(35,Gd,5,3,"div",24)(36,Wd,5,3,"div",24),a(37,"b"),m(38),g(39,"translate"),r(),a(40,"mat-form-field",25)(41,"mat-label"),m(42),g(43,"translate"),r(),a(44,"mat-chip-grid",26,2),b(46,Hd,6,1,"mat-chip",27),a(47,"input",28,3),g(49,"translate"),v("matChipInputTokenEnd",function(d){return p(s),u(t.addTagRegulatorNumberList(d))}),r()()(),m(50," \u0645\u062B\u0627\u0644 :00983 009715 0098930 "),a(51,"div"),m(52),g(53,"translate"),M(54,"br"),b(55,jd,2,1,"div",29),r(),M(56,"br"),a(57,"b"),m(58),g(59,"translate"),r(),a(60,"mat-form-field",25)(61,"mat-label"),m(62),g(63,"translate"),r(),a(64,"mat-chip-grid",26,4),b(66,qd,5,1,"mat-chip",27),a(67,"input",30,3),g(69,"translate"),v("matChipInputTokenEnd",function(d){return p(s),u(t.addTagServicePagination(d))}),r()()(),a(70,"div"),m(71),g(72,"translate"),M(73,"br"),b(74,Ud,2,2,"div",29),r(),M(75,"br"),a(76,"b"),m(77),g(78,"translate"),r(),a(79,"mat-form-field",25)(80,"mat-label"),m(81),g(82,"translate"),r(),a(83,"mat-chip-grid",26,5),b(85,Qd,5,1,"mat-chip",27),a(86,"input",30,3),g(88,"translate"),v("matChipInputTokenEnd",function(d){return p(s),u(t.addTagEndUserPagination(d))}),r()()(),a(89,"div"),m(90),g(91,"translate"),M(92,"br"),b(93,zd,2,2,"div",29),r(),M(94,"br"),b(95,Jd,1,6,"app-cms-enum-x-selector",31)(96,Kd,1,5,"app-cms-enum-x-selectionlist",32)(97,Xd,9,7,"div",33),r()()()}if(i&2){let s=R(15),S=R(45),d=R(65),B=R(84);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",_(7,60,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(3),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),c("placeholder",F(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),y("ngModel",t.dataModel.title),o(2),c("ngIf",!s.value),o(),c("ngIf",s.value),o(2),C("",s.value.length," / 100"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(),c("optionSelectForce",t.dataModel.linkApiPathId)("optionPlaceholder",_(22,62,"TITLE.Direction")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",_(24,64,"TITLE.USER")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreSiteId!=null&&t.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",_(26,66,"TITLE.SITE")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreUserGroupId!=null&&t.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",_(28,68,"TITLE.Type_Usage")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",_(30,70,"TITLE.Site_Type")),o(3),c("ngIf",t.fieldsInfo.serviceDeliveryCostBase==null?null:t.fieldsInfo.serviceDeliveryCostBase.accessWatchField),o(),c("ngIf",t.fieldsInfo.endUserDeliveryCostBase==null?null:t.fieldsInfo.endUserDeliveryCostBase.accessWatchField),o(2),c("ngIf",t.fieldsInfo.servicePricePerPage==null?null:t.fieldsInfo.servicePricePerPage.accessWatchField),o(),c("ngIf",t.fieldsInfo.endUserPricePerPage==null?null:t.fieldsInfo.endUserPricePerPage.accessWatchField),o(2),A(_(39,72,"TITLE.ACCEPTABLE_PREFIXES")),o(4),A(_(43,74,"TITLE.ACCEPTABLE_PREFIXES")),o(4),c("ngForOf",t.dataModel.regulatorNumberList),o(),c("placeholder",_(49,76,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",S)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(5),C(" ",_(53,78,"TITLE.ACCEPTABLE_PREFIXES")," "),o(3),c("ngForOf",t.dataModel.regulatorNumberList),o(3),A(_(59,80,"TITLE.PROVIDER_PAGINATION")),o(4),A(_(63,82,"TITLE.PROVIDER_PAGINATION")),o(4),c("ngForOf",t.dataModel.serviceMessageLengthPaginationList),o(),c("placeholder",_(69,84,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",d)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),C(" ",_(72,86,"TITLE.PROVIDER_PAGINATION")," "),o(3),c("ngForOf",t.dataModel.serviceMessageLengthPaginationList),o(3),A(_(78,88,"TITLE.RECIPIENT_PAGINATION")),o(4),A(_(82,90,"TITLE.RECIPIENT_PAGINATION")),o(4),c("ngForOf",t.dataModel.endUserMessageLengthPaginationList),o(),c("placeholder",_(88,92,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",B)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),C(" ",_(91,94,"TITLE.RECIPIENT_PAGINATION")," "),o(3),c("ngForOf",t.dataModel.endUserMessageLengthPaginationList),o(2),c("ngIf",t.fieldsInfo.messageType==null?null:t.fieldsInfo.messageType.accessWatchField),o(),c("ngIf",t.fieldsInfo.outBoxTypeJson==null?null:t.fieldsInfo.outBoxTypeJson.accessWatchField),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[De,G,se,Q,bt,ve,z,re,Se,Pe,Re,te,ae,ro,ao,so,oo,no,to,Ce,Ae,J,Nt,ce,Io,Mn,Bt,Lt,Ft,j,Ht,O],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Yn=Cn;var Yd=["vform"];function Zd(n,l){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",28),w("modelChange",function(t){p(e);let s=f();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=f();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function $d(n,l){n&1&&M(0,"i",35)}function ec(n,l){n&1&&M(0,"i",36)}function tc(n,l){n&1&&(a(0,"mat-error"),m(1," Title is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function ic(n,l){if(n&1){let e=I();a(0,"div",29)(1,"label",30),m(2),r(),a(3,"input",31,5),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),r(),b(5,$d,1,0,"i",32)(6,ec,1,0,"i",33),a(7,"em"),m(8),r(),b(9,tc,5,3,"mat-error",34),r()}if(n&2){let e=R(4),i=f();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",F(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.title),c("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),C("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function nc(n,l){if(n&1){let e=I();a(0,"div",37)(1,"div",38)(2,"h5",39),m(3),r()(),a(4,"div",40)(5,"div",41)(6,"input",42),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.serviceDeliveryCostBase,t)||(s.dataModel.serviceDeliveryCostBase=t),u(t)}),r(),M(7,"label",43),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.serviceDeliveryCostBase==null?null:e.fieldsInfo.serviceDeliveryCostBase.fieldTitle," "),o(3),y("ngModel",e.dataModel.serviceDeliveryCostBase)}}function oc(n,l){if(n&1){let e=I();a(0,"div",37)(1,"div",38)(2,"h5",44),m(3),r()(),a(4,"div",40)(5,"div",41)(6,"input",45),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.endUserDeliveryCostBase,t)||(s.dataModel.endUserDeliveryCostBase=t),u(t)}),r(),M(7,"label",46),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.endUserDeliveryCostBase==null?null:e.fieldsInfo.endUserDeliveryCostBase.fieldTitle," "),o(3),y("ngModel",e.dataModel.endUserDeliveryCostBase)}}function rc(n,l){if(n&1){let e=I();a(0,"div",29)(1,"label",47),m(2),r(),a(3,"input",48,6),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.servicePricePerPage,t)||(s.dataModel.servicePricePerPage=t),u(t)}),r()()}if(n&2){let e=f();o(2),A(e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle),o(),y("ngModel",e.dataModel.servicePricePerPage),c("disabled",!(e.fieldsInfo.servicePricePerPage!=null&&e.fieldsInfo.servicePricePerPage.accessEditField))}}function ac(n,l){if(n&1){let e=I();a(0,"div",29)(1,"label",49),m(2),r(),a(3,"input",50,7),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.endUserPricePerPage,t)||(s.dataModel.endUserPricePerPage=t),u(t)}),r()()}if(n&2){let e=f();o(2),A(e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle),o(),y("ngModel",e.dataModel.endUserPricePerPage),c("disabled",!(e.fieldsInfo.endUserPricePerPage!=null&&e.fieldsInfo.endUserPricePerPage.accessEditField))}}function sc(n,l){if(n&1){let e=I();a(0,"mat-chip",51),v("removed",function(){let t=p(e).$implicit,s=f();return u(s.removeTagRegulatorNumberList(t))}),a(1,"div",52),m(2),r(),a(3,"button",53)(4,"mat-icon"),m(5,"cancel"),r()()()}if(n&2){let e=l.$implicit;o(2),A(e)}}function lc(n,l){if(n&1&&(a(0,"div"),m(1),r()),n&2){let e=l.$implicit;o(),C(" ",e," ")}}function dc(n,l){if(n&1){let e=I();a(0,"mat-chip",51),v("removed",function(){let t=p(e).$implicit,s=f();return u(s.removeTagServicePagination(t))}),m(1),a(2,"button",53)(3,"mat-icon"),m(4,"cancel"),r()()()}if(n&2){let e=l.$implicit;o(),C(" ",e," ")}}function cc(n,l){if(n&1&&(a(0,"div"),m(1),r()),n&2){let e=l.$implicit,i=l.index;o(),ai(" ",i+1," - ",e," ")}}function mc(n,l){if(n&1){let e=I();a(0,"mat-chip",51),v("removed",function(){let t=p(e).$implicit,s=f();return u(s.removeTagEndUserPagination(t))}),m(1),a(2,"button",53)(3,"mat-icon"),m(4,"cancel"),r()()()}if(n&2){let e=l.$implicit;o(),C(" ",e," ")}}function pc(n,l){if(n&1&&(a(0,"div"),m(1),r()),n&2){let e=l.$implicit,i=l.index;o(),ai(" ",i+1," - ",e," ")}}function uc(n,l){if(n&1){let e=I();a(0,"app-cms-enum-x-selector",54),w("modelChange",function(t){p(e);let s=f();return E(s.dataModel.messageType,t)||(s.dataModel.messageType=t),u(t)}),r()}if(n&2){let e=f();c("optionDataListResult",e.dataModelSmsMessageTypeEnumResult),y("model",e.dataModel.messageType),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.messageType==null?null:e.fieldsInfo.messageType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function fc(n,l){if(n&1){let e=I();a(0,"app-cms-enum-x-selectionlist",55),w("modelChange",function(t){p(e);let s=f();return E(s.dataModel.outBoxTypeList,t)||(s.dataModel.outBoxTypeList=t),u(t)}),r()}if(n&2){let e=f();c("optionDataListResult",e.dataModelSmsOutBoxTypeEnumResult),y("model",e.dataModel.outBoxTypeList),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.outBoxTypeJson==null?null:e.fieldsInfo.outBoxTypeJson.fieldTitle)("optionRequired",!0)}}function Sc(n,l){if(n&1){let e=I();a(0,"div",56)(1,"button",57),v("click",function(){p(e);let t=f();return u(t.onFormCancel())}),M(2,"i",58),m(3),g(4,"translate"),r(),a(5,"button",59),M(6,"i",60),m(7),g(8,"translate"),r()()}if(n&2){f();let e=R(9);o(3),C(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var vn=class vn extends mt{constructor(e,i,t,s,S,d,B,q){super(s,new ei,d,q);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiPathPriceServiceService=s;this.cmsToastrService=S;this.publicHelper=d;this.cdr=B;this.translate=q;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ue;this.dataModel=new ei;this.formInfo=new oe;this.dataModelSmsMessageTypeEnumResult=new D;this.dataModelSmsOutBoxTypeEnumResult=new D;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getSmsMessageTypeEnum(),this.getSmsOutBoxTypeEnum()}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPriceServiceService.setAccessLoad(),this.smsMainApiPathPriceServiceService.setAccessDataType(Ne.Editor),this.smsMainApiPathPriceServiceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPriceServiceService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiPathId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiPathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTagRegulatorNumberList(e){let i=(e.value||"").trim();this.dataModel.regulatorNumberList||(this.dataModel.regulatorNumberList=[]),i&&this.dataModel.regulatorNumberList.push(i),e.chipInput.clear()}removeTagRegulatorNumberList(e){let i=this.dataModel.regulatorNumberList.indexOf(e);i>=0&&this.dataModel.regulatorNumberList.splice(i,1)}addTagServicePagination(e){let i=(e.value||"").trim();this.dataModel.serviceMessageLengthPaginationList||(this.dataModel.serviceMessageLengthPaginationList=[]);var t=+i||-1;t>=0&&this.dataModel.serviceMessageLengthPaginationList.push(t),e.chipInput.clear()}removeTagServicePagination(e){let i=this.dataModel.serviceMessageLengthPaginationList.indexOf(e);i>=0&&this.dataModel.serviceMessageLengthPaginationList.splice(i,1)}addTagEndUserPagination(e){let i=(e.value||"").trim();this.dataModel.endUserMessageLengthPaginationList||(this.dataModel.endUserMessageLengthPaginationList=[]);var t=+i||-1;t>=0&&this.dataModel.endUserMessageLengthPaginationList.push(t),e.chipInput.clear()}removeTagEndUserPagination(e){let i=this.dataModel.endUserMessageLengthPaginationList.indexOf(e);i>=0&&this.dataModel.endUserMessageLengthPaginationList.splice(i,1)}};vn.\u0275fac=function(i){return new(i||vn)(h(ne),h(ie),h(xe),h(Ji),h(N),h(L),h(V),h(k))},vn.\u0275cmp=x({type:vn,selectors:[["app-sms-apipathpriceservice-edit"]],viewQuery:function(i,t){if(i&1&&Z(Yd,5),i&2){let s;$(s=ee())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:89,vars:89,consts:[["vform","ngForm"],["chipListRegulatorNumberList",""],["tagInput",""],["chipListServicePagination",""],["chipListEndUserPagination",""],["Title",""],["servicePricePerPage",""],["endUserPricePerPage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"divider","mt-3","mb-3"],["class","d-flex mb-3",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.Number'|translate"],[3,"removed",4,"ngFor","ngForOf"],[1,"input-ltr",3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","modelChange",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.serviceDeliveryCostBase",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.serviceDeliveryCostBase","name","dataModel.serviceDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.serviceDeliveryCostBase",1,"custom-control-label"],["data-trigger-switch","dataModel.endUserDeliveryCostBase",1,"font-600","font-14"],["type","checkbox","id","dataModel.endUserDeliveryCostBase","name","dataModel.endUserDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.endUserDeliveryCostBase",1,"custom-control-label"],["for","dataModel.servicePricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.servicePricePerPage","placeholder","0","id","dataModel.servicePricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.endUserPricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.endUserPricePerPage","placeholder","0","id","dataModel.endUserPricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[3,"removed"],[1,"input-ltr"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",8),M(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),m(4),r(),a(5,"p"),m(6),g(7,"translate"),r(),a(8,"form",12,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(10,Zd,1,5,"app-cms-enum-record-status-selector",13)(11,ic,10,9,"div",14),a(12,"app-sms-apipath-selector",15),g(13,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorSelectLinkApiPathId(d))}),r(),a(14,"app-cms-user-selector",16),g(15,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorCmsUser(d))}),r(),a(16,"app-cms-site-selector",16),g(17,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorCmsSite(d))}),r(),a(18,"app-cms-usergroup-selector",16),g(19,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorCoreUserGroup(d))}),r(),a(20,"app-cms-sitecategory-selector",16),g(21,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectorCoreSiteCategory(d))}),r(),M(22,"div",17),b(23,nc,8,2,"div",18)(24,oc,8,2,"div",18),M(25,"div",17),b(26,rc,5,3,"div",14)(27,ac,5,3,"div",14),M(28,"br"),a(29,"b"),m(30),g(31,"translate"),r(),a(32,"mat-form-field",19)(33,"mat-label"),m(34),g(35,"translate"),r(),a(36,"mat-chip-grid",20,1),b(38,sc,6,1,"mat-chip",21),a(39,"input",22,2),g(41,"translate"),v("matChipInputTokenEnd",function(d){return p(s),u(t.addTagRegulatorNumberList(d))}),r()()(),a(42,"div"),m(43),g(44,"translate"),M(45,"br"),b(46,lc,2,1,"div",23),r(),M(47,"br"),a(48,"b"),m(49),g(50,"translate"),r(),a(51,"mat-form-field",19)(52,"mat-label"),m(53),g(54,"translate"),r(),a(55,"mat-chip-grid",20,3),b(57,dc,5,1,"mat-chip",21),a(58,"input",24,2),g(60,"translate"),v("matChipInputTokenEnd",function(d){return p(s),u(t.addTagServicePagination(d))}),r()()(),a(61,"div"),m(62),g(63,"translate"),M(64,"br"),b(65,cc,2,2,"div",23),r(),M(66,"br"),a(67,"b"),m(68),g(69,"translate"),r(),a(70,"mat-form-field",19)(71,"mat-label"),m(72),g(73,"translate"),r(),a(74,"mat-chip-grid",20,4),b(76,mc,5,1,"mat-chip",21),a(77,"input",24,2),g(79,"translate"),v("matChipInputTokenEnd",function(d){return p(s),u(t.addTagEndUserPagination(d))}),r()()(),a(80,"div"),m(81),g(82,"translate"),M(83,"br"),b(84,pc,2,2,"div",23),r(),M(85,"br"),b(86,uc,1,6,"app-cms-enum-x-selector",25)(87,fc,1,5,"app-cms-enum-x-selectionlist",26)(88,Sc,9,7,"div",27),r()()()}if(i&2){let s=R(37),S=R(56),d=R(75);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",_(7,53,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),c("optionSelectForce",t.dataModel.linkApiPathId)("optionPlaceholder",_(13,55,"TITLE.Direction")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",_(15,57,"TITLE.USER")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreSiteId!=null&&t.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",_(17,59,"TITLE.SITE")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreUserGroupId!=null&&t.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",_(19,61,"TITLE.Type_Usage")),o(2),c("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",_(21,63,"TITLE.Site_Type")),o(3),c("ngIf",t.fieldsInfo.serviceDeliveryCostBase==null?null:t.fieldsInfo.serviceDeliveryCostBase.accessWatchField),o(),c("ngIf",t.fieldsInfo.endUserDeliveryCostBase==null?null:t.fieldsInfo.endUserDeliveryCostBase.accessWatchField),o(2),c("ngIf",t.fieldsInfo.servicePricePerPage==null?null:t.fieldsInfo.servicePricePerPage.accessWatchField),o(),c("ngIf",t.fieldsInfo.endUserPricePerPage==null?null:t.fieldsInfo.endUserPricePerPage.accessWatchField),o(3),A(_(31,65,"TITLE.ACCEPTABLE_PREFIXES")),o(4),A(_(35,67,"TITLE.ACCEPTABLE_PREFIXES")),o(4),c("ngForOf",t.dataModel.regulatorNumberList),o(),c("placeholder",_(41,69,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",s)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),C(" ",_(44,71,"TITLE.ACCEPTABLE_PREFIXES")," "),o(3),c("ngForOf",t.dataModel.regulatorNumberList),o(3),A(_(50,73,"TITLE.PROVIDER_PAGINATION")),o(4),A(_(54,75,"TITLE.PROVIDER_PAGINATION")),o(4),c("ngForOf",t.dataModel.serviceMessageLengthPaginationList),o(),c("placeholder",_(60,77,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",S)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),C(" ",_(63,79,"TITLE.PROVIDER_PAGINATION")," "),o(3),c("ngForOf",t.dataModel.serviceMessageLengthPaginationList),o(3),A(_(69,81,"TITLE.RECIPIENT_PAGINATION")),o(4),A(_(73,83,"TITLE.RECIPIENT_PAGINATION")),o(4),c("ngForOf",t.dataModel.endUserMessageLengthPaginationList),o(),c("placeholder",_(79,85,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",d)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),C(" ",_(82,87,"TITLE.RECIPIENT_PAGINATION")," "),o(3),c("ngForOf",t.dataModel.endUserMessageLengthPaginationList),o(2),c("ngIf",t.fieldsInfo.messageType==null?null:t.fieldsInfo.messageType.accessWatchField),o(),c("ngIf",t.fieldsInfo.outBoxTypeJson==null?null:t.fieldsInfo.outBoxTypeJson.accessWatchField),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[De,G,se,Q,bt,ve,z,re,Se,Pe,Re,te,ae,ro,ao,so,oo,no,to,Ce,Ae,J,Nt,ce,Io,Mn,Bt,Lt,Ft,j,Ht,O],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var No=vn;var gc=()=>[5,10,20,100];function _c(n,l){if(n&1&&M(0,"app-sms-apipath-header",42),n&2){let e=f();c("optionId",e.requestLinkApiPathId)}}function Mc(n,l){if(n&1){let e=I();a(0,"a",43),v("click",function(){p(e);let t=f();return u(t.onActionBackToParent())}),M(1,"i",44),r()}}function Cc(n,l){if(n&1){let e=I();a(0,"div",45)(1,"a",46),v("click",function(){p(e);let t=f();return u(t.onActionButtonNewRow())}),M(2,"i",47)(3,"br"),r(),a(4,"p",48),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.ADD")))}function vc(n,l){if(n&1){let e=I();a(0,"div",45)(1,"a",49),v("click",function(){p(e);let t=f();return u(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",50)(3,"br"),r(),a(4,"p",48),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.EDIT")))}function bc(n,l){if(n&1){let e=I();a(0,"div",45)(1,"a",51),v("click",function(){p(e);let t=f();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",52)(3,"br"),r(),a(4,"p",48),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.DELETE")))}function Ic(n,l){if(n&1){let e=I();a(0,"div",45)(1,"a",53),v("click",function(){p(e);let t=f();return u(t.onActionButtonCopyRow(t.tableRowSelected))}),M(2,"i",54)(3,"br"),r(),a(4,"p",48),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.COPY")))}function Ac(n,l){if(n&1&&(a(0,"mat-header-cell",55),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function yc(n,l){if(n&1&&(a(0,"mat-cell"),m(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.id," ")}}function Ec(n,l){if(n&1&&(a(0,"mat-header-cell",55),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function wc(n,l){if(n&1&&(a(0,"mat-cell",56),g(1,"statusCellClass"),M(2,"i",56),g(3,"statusIconClass"),r()),n&2){let e=l.$implicit;c("ngClass",_(1,2,e.recordStatus)),o(2),c("ngClass",_(3,4,e.recordStatus))}}function Tc(n,l){if(n&1&&(a(0,"mat-header-cell",55),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Pc(n,l){if(n&1&&(a(0,"mat-cell"),m(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.title," ")}}function Rc(n,l){if(n&1&&(a(0,"mat-header-cell",55),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.linkApiPathId==null?null:e.fieldsInfo.linkApiPathId.fieldTitle," ")}}function xc(n,l){if(n&1&&(a(0,"mat-cell"),m(1),g(2,"cmstitle"),r()),n&2){let e=l.$implicit,i=f();o(),A(Qi(2,1,e.linkApiPathId,i.dataModelPrivateResult.listItems))}}function Dc(n,l){if(n&1&&(a(0,"mat-header-cell",55),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.regulatorNumber==null?null:e.fieldsInfo.regulatorNumber.fieldTitle," ")}}function kc(n,l){if(n&1&&(a(0,"mat-cell"),m(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.regulatorNumber," ")}}function Vc(n,l){if(n&1&&(a(0,"mat-header-cell",55),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle," ")}}function Nc(n,l){if(n&1&&(a(0,"mat-cell"),m(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.servicePricePerPage," ")}}function Lc(n,l){if(n&1&&(a(0,"mat-header-cell",55),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle," ")}}function Bc(n,l){if(n&1&&(a(0,"mat-cell"),m(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.endUserPricePerPage," ")}}function Fc(n,l){if(n&1&&(a(0,"mat-header-cell",55),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.messageType==null?null:e.fieldsInfo.messageType.fieldTitle," ")}}function Oc(n,l){if(n&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),r()),n&2){let e=l.$implicit,i=f();o(),C(" ",Qi(2,1,e.messageType,i.dataModelSmsMessageTypeEnumResult.listItems)," ")}}function Gc(n,l){n&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),r()),n&2&&(o(),C(" ",_(2,1,"TITLE.OPTION")," "))}function Wc(n,l){if(n&1&&(a(0,"mat-cell",57)(1,"button",58)(2,"mat-icon"),m(3,"more_vert"),r()(),M(4,"mat-menu",null,2),r()),n&2){let e=R(5);o(),c("matMenuTriggerFor",e)}}function Hc(n,l){n&1&&M(0,"mat-header-row")}function jc(n,l){if(n&1){let e=I();a(0,"mat-row",59),v("click",function(){let t=p(e).$implicit,s=f();return u(s.onActionTableRowSelect(t))}),r()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=f();be("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var bn=class bn extends pt{constructor(e,i,t,s,S,d,B,q,Ct,Ut,vt,Yt,Oe,Br){super(e,new ei,Oe,d,q);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=s;this.router=S;this.tokenHelper=d;this.cdr=B;this.translate=q;this.smsMainApiPathService=Ct;this.cmsStoreService=Ut;this.smsEnumService=vt;this.pageInfo=Yt;this.publicHelper=Oe;this.dialog=Br;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new X;this.dataModelSmsMessageTypeEnumResult=new D;this.dataModelSmsOutBoxTypeEnumResult=new D;this.dataModelPrivateResult=new D;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["RecordStatus","Title","LinkApiPathId","servicePricePerPage","endUserPricePerPage","messageType"];this.tabledisplayedColumnsMobileSource=["RecordStatus","Title","LinkApiPathId","servicePricePerPage","endUserPricePerPage","messageType"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:$o=>this.onSubmitOptionsSearch($o)},this.filteModelContent.sortColumn="LinkApiPathId",this.filteModelContent.sortType=U.Ascending}ngOnInit(){if(this.filteModelContent.sortColumn="LinkApiPathId",this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")),this.requestLinkApiPathId.length>0){let e=new K;e.propertyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>he(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})),this.getPrivateConfig()}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}getPrivateConfig(){let e=new X;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ei);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new K;t.propertyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new X,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Yn,{height:"90%",panelClass:e,enterAnimationDuration:H.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:H.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:this.categoryModelSelected?.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(No,{height:"90%",panelClass:i,enterAnimationDuration:H.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:H.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonCopyRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Yn,{height:"90%",panelClass:i,enterAnimationDuration:H.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:H.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let S=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(S,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(S)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(S,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(t,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(B=>{i.set(B,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),S=new K;S.propertyName="RecordStatus",S.value=Ve.Available,s.filters.push(S),this.contentService.ServiceGetCount(s).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(B=>{i.set(B,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};bn.\u0275fac=function(i){return new(i||bn)(h(Ji),h(N),h(At),h(Fe),h(qe),h(Ee),h(V),h(k),h(Pt),h(ye),h(xe),h(lt),h(L),h(Ie))},bn.\u0275cmp=x({type:bn,selectors:[["app-sms-apipathpriceservice-list"]],standalone:!1,features:[W],decls:65,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","LinkApiPathId"],["matColumnDef","RegulatorNumber"],["matColumnDef","servicePricePerPage"],["matColumnDef","endUserPricePerPage"],["matColumnDef","messageType"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let s=I();b(0,_c,1,1,"app-sms-apipath-header",3),a(1,"app-cms-html-list",4),w("optionActionGuideNoticeDisplayChange",function(d){return p(s),E(t.viewGuideNotice,d)||(t.viewGuideNotice=d),u(d)}),v("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),T(2,5),a(3,"app-sms-apipath-tree",6),v("optionChange",function(d){return p(s),u(t.onActionSelectorSelect(d))}),r(),P(),Te(4,7)(5,8),T(6,9),b(7,Mc,2,0,"a",10),a(8,"a",11),v("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),M(9,"i",12),r(),a(10,"a",11),v("click",function(){return p(s),u(t.onActionButtonReload())}),M(11,"i",13),r(),P(),T(12,14),a(13,"a",15),v("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),M(14,"mat-slide-toggle",16),m(15),g(16,"translate"),r(),a(17,"a",15),v("click",function(){return p(s),u(t.onActionButtonStatist())}),M(18,"mat-slide-toggle",16),m(19),g(20,"translate"),r(),P(),T(21,17),b(22,Cc,7,3,"div",18),P(),T(23,19),b(24,vc,7,3,"div",18)(25,bc,7,3,"div",18)(26,Ic,7,3,"div",18),P(),T(27,20),a(28,"app-cms-search-list",21),w("optionsChange",function(d){return p(s),E(t.optionsSearch,d)||(t.optionsSearch=d),u(d)}),r(),a(29,"app-cms-statist-list",21),w("optionsChange",function(d){return p(s),E(t.optionsStatist,d)||(t.optionsStatist=d),u(d)}),r(),P(),T(30,22),a(31,"mat-table",23,0),v("matSortChange",function(){p(s);let d=R(32);return u(t.onTableSortData(d))}),T(33,24),b(34,Ac,2,1,"mat-header-cell",25)(35,yc,2,1,"mat-cell",26),P(),T(36,27),b(37,Ec,2,1,"mat-header-cell",25)(38,wc,4,6,"mat-cell",28),P(),T(39,29),b(40,Tc,2,1,"mat-header-cell",25)(41,Pc,2,1,"mat-cell",26),P(),T(42,30),b(43,Rc,2,1,"mat-header-cell",25)(44,xc,3,4,"mat-cell",26),P(),T(45,31),b(46,Dc,2,1,"mat-header-cell",25)(47,kc,2,1,"mat-cell",26),P(),T(48,32),b(49,Vc,2,1,"mat-header-cell",25)(50,Nc,2,1,"mat-cell",26),P(),T(51,33),b(52,Lc,2,1,"mat-header-cell",25)(53,Bc,2,1,"mat-cell",26),P(),T(54,34),b(55,Fc,2,1,"mat-header-cell",25)(56,Oc,3,4,"mat-cell",26),P(),T(57,35),b(58,Gc,3,3,"mat-header-cell",36)(59,Wc,6,1,"mat-cell",37),P(),b(60,Hc,1,0,"mat-header-row",38)(61,jc,1,6,"mat-row",39),r(),P(),T(62,40),a(63,"mat-paginator",41,1),v("page",function(d){return p(s),u(t.onTablePageingData(d))}),r(),P(),r()}i&2&&(c("ngIf",(t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0),o(),c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!t.requestLinkApiPathId||t.requestLinkApiPathId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),c("ngIf",(t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0),o(7),c("checked",t.optionsSearch.data.show),o(),C("",_(16,26,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),C("",_(20,28,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(29),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",He(30,gc)))},dependencies:[je,G,ke,Ae,Qe,ze,Je,Ke,Xe,Ye,Ze,et,ot,tt,$e,rt,it,nt,at,st,ut,ft,St,gi,gn,O,Er,vo,ht,_t],encapsulation:2});var Zn=bn;var qc=["vform"];function Uc(n,l){n&1&&(a(0,"mat-error"),m(1),g(2,"translate"),a(3,"strong"),m(4),g(5,"translate"),r()()),n&2&&(o(),C(" ",_(2,2,"MESSAGE.Message_Text")," "),o(3),A(_(5,4,"MESSAGE.required")))}function Qc(n,l){if(n&1&&M(0,"app-cms-json-list",30),n&2){let e=f();c("dataModel",e.dataModelResult.item)("optionMethod",1)}}function zc(n,l){if(n&1&&(a(0,"button",35),M(1,"i",36),m(2),g(3,"translate"),r()),n&2){f(2);let e=R(9);c("disabled",!e.valid),o(2),C(" ",_(3,2,"ACTION.Send_Message")," ")}}function Jc(n,l){if(n&1){let e=I();a(0,"div",31)(1,"button",32),v("click",function(){p(e);let t=f();return u(t.onFormCancel())}),M(2,"i",33),m(3),g(4,"translate"),r(),b(5,zc,4,4,"button",34),r()}if(n&2){let e=f();o(3),C(" ",_(4,2,"ACTION.CANCEL")," "),o(2),c("ngIf",!e.publicHelper.processService.process.inRunAll)}}var In=class In{constructor(l,e,i,t,s,S,d,B,q){this.data=l;this.document=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainApiPathService=s;this.cmsToastrService=S;this.cdr=d;this.publicHelper=B;this.translate=q;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelParentSelected=new qt;this.dataModel=new _r;this.dataModelResult=new D;this.formInfo=new oe;this.sendByShow=!1;this.publicHelper.processService.cdr=this.cdr,l&&l.linkApiPathId&&(this.requestLinkApiPathId=l.linkApiPathId)}ngOnInit(){if(this.requestLinkApiPathId.length<=0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.dataModel.linkApiPathId=this.requestLinkApiPathId}onActionSelectPrivateSiteConfig(l){this.dataModel.linkApiPathId=this.requestLinkApiPathId,this.dataModelParentSelected=l,l&&l.id?.length>0&&(this.dataModel.linkApiPathId=l.id,this.sendByShow=!1,l.apiAbilitySendByDirect&&(this.dataModel.sendByQueue=!1),l.apiAbilitySendByQueue&&(this.dataModel.sendByQueue=!0),l.apiAbilitySendByQueue&&l.apiAbilitySendByDirect&&(this.sendByShow=!0))}onFormSubmit(){if(!this.formGroup.valid)return;(!this.dataModel.linkApiPathId||this.dataModel.linkApiPathId.length<=0)&&this.cmsToastrService.typeErrorFormInvalid(),this.formInfo.formSubmitAllow=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.smsMainApiPathService.ServiceSendMessageTest(this.dataModel).subscribe({next:e=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=e,e.isSuccess?(this.translate.get("MESSAGE.Submit_request_was_successfully_registered").subscribe(i=>{this.formInfo.formAlert=i}),this.translate.get("MESSAGE.Send_request_was_successfully_registered").subscribe(i=>{this.cmsToastrService.typeSuccessMessage(i)})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};In.\u0275fac=function(e){return new(e||In)(h(ne),h(rr),h(ie),h(_e),h(Pt),h(N),h(V),h(L),h(k))},In.\u0275cmp=x({type:In,selectors:[["app-sms-privateconfig-sendtest"]],viewQuery:function(e,i){if(e&1&&Z(qc,5),e&2){let t;$(t=ee())&&(i.formGroup=t.first)}},standalone:!1,decls:57,vars:34,consts:[["vform","ngForm"],["FromNumber",""],["ToNumber",""],["Message",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionChange","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.fromNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromNumber","minlength","0","maxlength","50","id","dataModel.fromNumber","placeholder","10000118",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.toNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.toNumber","minlength","0","maxlength","100","id","dataModel.toNumber","placeholder","0912",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.message",1,"color-highlight"],["matInput","","type","text","name","dataModel.message","minlength","1","maxlength","500","id","dataModel.message","placeholder","...",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[4,"ngIf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isFlash",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isFlash","name","dataModel.isFlash",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isFlash",1,"custom-control-label"],["data-trigger-switch","dataModel.sendByQueue",1,"font-600","font-14"],["type","checkbox","id","dataModel.sendByQueue","name","dataModel.sendByQueue",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.sendByQueue",1,"custom-control-label"],[3,"dataModel","optionMethod",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"dataModel","optionMethod"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){if(e&1){let t=I();a(0,"div",4),M(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),m(4),r(),a(5,"p"),m(6),g(7,"translate"),r(),a(8,"form",8,0),v("ngSubmit",function(){return p(t),u(i.onFormSubmit())}),a(10,"app-sms-apipath-selector",9),g(11,"translate"),v("optionChange",function(S){return p(t),u(i.onActionSelectPrivateSiteConfig(S))}),r(),a(12,"div",10)(13,"label",11),m(14),g(15,"translate"),r(),a(16,"input",12,1),w("ngModelChange",function(S){return p(t),E(i.dataModel.fromNumber,S)||(i.dataModel.fromNumber=S),u(S)}),r(),a(18,"em"),m(19),r()(),a(20,"div",10)(21,"label",13),m(22),g(23,"translate"),r(),a(24,"input",14,2),w("ngModelChange",function(S){return p(t),E(i.dataModel.toNumber,S)||(i.dataModel.toNumber=S),u(S)}),r(),a(26,"em"),m(27),r()(),a(28,"div",10)(29,"label",15),m(30),g(31,"translate"),r(),a(32,"input",16,3),w("ngModelChange",function(S){return p(t),E(i.dataModel.message,S)||(i.dataModel.message=S),u(S)}),r(),a(34,"em"),m(35),r(),b(36,Uc,6,6,"mat-error",17),r(),a(37,"div",18)(38,"div",19)(39,"h5",20),m(40),g(41,"translate"),r()(),a(42,"div",21)(43,"div",22)(44,"input",23),w("ngModelChange",function(S){return p(t),E(i.dataModel.isFlash,S)||(i.dataModel.isFlash=S),u(S)}),r(),M(45,"label",24),r()()(),a(46,"div",18)(47,"div",19)(48,"h5",25),m(49),g(50,"translate"),r()(),a(51,"div",21)(52,"div",22)(53,"input",26),w("ngModelChange",function(S){return p(t),E(i.dataModel.sendByQueue,S)||(i.dataModel.sendByQueue=S),u(S)}),r(),M(54,"label",27),r()()(),b(55,Qc,1,2,"app-cms-json-list",28)(56,Jc,6,4,"div",29),r()()()}if(e&2){let t=R(17),s=R(25),S=R(33);o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(3),C(" ",i.formInfo.formTitle," "),o(2),C(" ",_(7,20,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("optionPlaceholder",_(11,22,"TITLE.Direction")),o(4),A(_(15,24,"TITLE.sender_number")),o(2),y("ngModel",i.dataModel.fromNumber),o(3),C("",t.value.length," / 50"),o(3),A(_(23,26,"TITLE.Receiver_number")),o(2),y("ngModel",i.dataModel.toNumber),o(3),C("",s.value.length," / 100"),o(3),A(_(31,28,"MESSAGE.Message_Text")),o(2),y("ngModel",i.dataModel.message),o(3),C("",S.value.length," / 500"),o(),c("ngIf",S.errors==null?null:S.errors.required),o(4),C(" ",_(41,30,"TITLE.Send_as_flash")),o(4),y("ngModel",i.dataModel.isFlash),o(5),C(" ",_(50,32,"TITLE.Send_in_queue")),o(4),y("ngModel",i.dataModel.sendByQueue),o(2),c("ngIf",i.dataModelResult==null?null:i.dataModelResult.item),o(),c("ngIf",i.formInfo.formSubmitAllow)}},dependencies:[G,se,Q,ve,z,re,Pe,Re,te,ae,Ce,J,j,Ar,Ht,O],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Lo=In;function Yc(n,l){if(n&1){let e=I();a(0,"button",12),v("click",function(){p(e);let t=f();return u(t.onActionAdd())}),m(1),g(2,"translate"),r()}n&2&&(o(),A(_(2,1,"ACTION.ADD")))}function Zc(n,l){if(n&1){let e=I();a(0,"button",13),v("click",function(){p(e);let t=f();return u(t.onActionEdit())}),m(1),g(2,"translate"),r()}n&2&&(o(),A(_(2,1,"ACTION.EDIT")))}function $c(n,l){if(n&1){let e=I();a(0,"button",14),v("click",function(){p(e);let t=f();return u(t.onActionButtonReload())}),a(1,"mat-icon",15),g(2,"translate"),m(3,"refresh"),r()()}n&2&&(o(),c("title",F(_(2,2,"ACTION.RELOAD"))))}function em(n,l){if(n&1){let e=I();a(0,"mat-tree-node",16),v("click",function(){let t=p(e).$implicit,s=f();return u(s.onActionSelect(t))}),M(1,"button",17)(2,"img",18),m(3),r()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=f();be("ntk-tree-odd",i%2)("ntk-tree-even",!(i%2))("ntk-tree-selected",(t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0&&t.dataModelSelect.id===e.id),o(2),c("src",F(e.linkMainImageIdSrc),ge),o(),C("\xA0 ",e.title," ")}}function tm(n,l){if(n&1){let e=I();a(0,"mat-nested-tree-node")(1,"li")(2,"div",19),v("click",function(){let t=p(e).$implicit,s=f();return u(s.onActionSelect(t))}),a(3,"button",20),v("click",function(){let t=p(e).$implicit,s=f();return u(s.onActionSelect(t))}),a(4,"mat-icon",21),m(5),r()(),m(6),r(),a(7,"ul"),Te(8,22),r()()()}if(n&2){let e=l.$implicit,i=f();o(2),be("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===e.id),o(),Qt("aria-label","Toggle "+e.title),o(2),C(" ",i.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),o(),C(" ",e.title," "),o(),be("category-tree-invisible",!i.treeControl.isExpanded(e))}}var An=class An{constructor(l,e,i,t,s,S,d,B,q){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=s;this.publicHelper=S;this.tokenHelper=d;this.cmsStoreService=B;this.translate=q;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Rt;this.dataModelResult=new D;this.filterModel=new X;this.treeControl=new mo(l=>null);this.dataSource=new Mo;this.optionChange=new We;this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!1;this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){setTimeout(()=>{this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>he(this,null,function*(){this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Rt,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){var l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(cn,{height:"90%",panelClass:l,enterAnimationDuration:H.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:H.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l="";if(this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(l=this.dataModelSelect.id),l.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(pn,{height:"90%",panelClass:e,enterAnimationDuration:H.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:H.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};An.\u0275fac=function(e){return new(e||An)(h(N),h(_e),h(xt),h(Ie),h(V),h(L),h(Ee),h(ye),h(k))},An.\u0275cmp=x({type:An,selectors:[["app-sms-apipathcompany-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:14,vars:13,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",0),T(1,1),m(2),g(3,"translate"),P(),T(4,2),b(5,Yc,3,3,"button",3)(6,Zc,3,3,"button",4)(7,$c,4,4,"button",5),P(),T(8,6),M(9,"app-progress-spinner",7),a(10,"mat-tree",8),b(11,em,4,9,"mat-tree-node",9)(12,tm,9,7,"mat-nested-tree-node",10),r(),P(),Te(13,11),r()),e&2&&(c("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),C(" ",_(3,11,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),c("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),o(2),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("dataSource",i.dataSource)("treeControl",i.treeControl),o(2),c("matTreeNodeDefWhen",i.hasChild))},dependencies:[G,ke,Ae,fo,uo,So,_o,go,po,ho,j,bo,O],encapsulation:2});var Bo=An;var nm=()=>[5,10,20,100];function om(n,l){if(n&1){let e=I();a(0,"a",50),v("click",function(){p(e);let t=f();return u(t.onActionBackToParent())}),M(1,"i",51),r()}}function rm(n,l){if(n&1){let e=I();a(0,"div",19)(1,"a",22),v("click",function(){p(e);let t=f();return u(t.onActionButtonNewRow())}),M(2,"i",52)(3,"br"),r(),a(4,"p",21),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.ADD")))}function am(n,l){if(n&1){let e=I();a(0,"div",19)(1,"a",53),v("click",function(){p(e);let t=f();return u(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",54)(3,"br"),r(),a(4,"p",21),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.EDIT")))}function sm(n,l){if(n&1){let e=I();a(0,"div",19)(1,"a",55),v("click",function(){p(e);let t=f();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",56)(3,"br"),r(),a(4,"p",21),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.DELETE")))}function lm(n,l){if(n&1){let e=I();a(0,"div",19)(1,"a",20),v("click",function(){p(e);let t=f();return u(t.onActionButtonCopy(t.tableRowSelected))}),M(2,"i",57)(3,"br"),r(),a(4,"p",21),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.COPY")))}function dm(n,l){if(n&1){let e=I();a(0,"div",19)(1,"a",10),v("click",function(){p(e);let t=f();return u(t.onActionButtonSendTest(t.tableRowSelected))}),M(2,"i",58)(3,"br"),r(),a(4,"p",21),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.SEND_TEST")))}function cm(n,l){if(n&1){let e=I();a(0,"div",19)(1,"a",10),v("click",function(){p(e);let t=f();return u(t.onActionButtonReportsRow(t.tableRowSelected))}),M(2,"i",59)(3,"br"),r(),a(4,"p",21),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.REPORTS")))}function mm(n,l){n&1&&(a(0,"mat-header-cell",60),m(1),g(2,"translate"),r()),n&2&&(o(),C(" ",_(2,1,"TITLE.PICTURE")," "))}function pm(n,l){if(n&1&&(M(0,"img",62),g(1,"cmsthumbnail")),n&2){let e=f().$implicit;c("src",F(_(1,2,e.linkMainImageIdSrc)),ge)}}function um(n,l){if(n&1&&(a(0,"mat-cell"),b(1,pm,2,4,"img",61),r()),n&2){let e=l.$implicit;o(),c("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function fm(n,l){if(n&1&&(a(0,"mat-header-cell",60),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Sm(n,l){if(n&1&&(a(0,"mat-cell"),m(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.id," ")}}function hm(n,l){if(n&1&&(a(0,"mat-header-cell",60),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function gm(n,l){if(n&1&&(a(0,"mat-cell",63),g(1,"statusCellClass"),M(2,"i",63),g(3,"statusIconClass"),r()),n&2){let e=l.$implicit;c("ngClass",_(1,2,e.recordStatus)),o(2),c("ngClass",_(3,4,e.recordStatus))}}function _m(n,l){if(n&1&&(a(0,"mat-header-cell",60),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Mm(n,l){if(n&1&&(a(0,"mat-cell"),m(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.title," ")}}function Cm(n,l){if(n&1&&(a(0,"mat-header-cell",60),m(1),r()),n&2){let e=f();o(),C("",e.fieldsInfo.linkApiPathCompanyId==null?null:e.fieldsInfo.linkApiPathCompanyId.fieldTitle," ")}}function vm(n,l){if(n&1&&(a(0,"mat-cell"),m(1),g(2,"cmstitle"),r()),n&2){let e=l.$implicit,i=f();o(),C(" ",Qi(2,1,e.linkApiPathCompanyId,i.dataModelCompanyResult.listItems)," ")}}function bm(n,l){if(n&1&&(a(0,"mat-header-cell",60),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.linkPublicConfigId==null?null:e.fieldsInfo.linkPublicConfigId.fieldTitle," ")}}function Im(n,l){if(n&1&&(a(0,"mat-cell"),m(1),g(2,"cmstitle"),r()),n&2){let e=l.$implicit,i=f();o(),C(" ",Qi(2,1,e.linkPublicConfigId,i.dataModelPublicResult.listItems)," ")}}function Am(n,l){if(n&1&&(a(0,"mat-header-cell",60),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function ym(n,l){if(n&1&&(a(0,"mat-cell"),m(1),g(2,"localeDate"),r()),n&2){let e=l.$implicit;o(),C(" ",_(2,1,e.updatedDate)," ")}}function Em(n,l){n&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),r()),n&2&&(o(),C(" ",_(2,1,"TITLE.OPTION")," "))}function wm(n,l){if(n&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),m(3,"more_vert"),r()(),M(4,"mat-menu",null,2),r()),n&2){let e=R(5);o(),c("matMenuTriggerFor",e)}}function Tm(n,l){n&1&&M(0,"mat-header-row")}function Pm(n,l){if(n&1){let e=I();a(0,"mat-row",66),v("click",function(){let t=p(e).$implicit,s=f();return u(s.onActionTableRowSelect(t))}),r()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=f();be("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var yn=class yn extends pt{constructor(e,i,t,s,S,d,B,q,Ct,Ut,vt,Yt,Oe,Br){super(e,new qt,Oe,q,Ut);this.contentService=e;this.smsMainApiPathCompanyService=i;this.smsMainApiPathPublicConfigService=t;this.activatedRoute=s;this.cmsToastrService=S;this.cmsConfirmationDialogService=d;this.router=B;this.tokenHelper=q;this.cdr=Ct;this.translate=Ut;this.cmsStoreService=vt;this.pageInfo=Yt;this.publicHelper=Oe;this.dialog=Br;this.requestLinkSiteId=0;this.requestLinkCompanyId="";this.requestLinkPublicConfigId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new X;this.dataModelCoreCurrencyResult=new D;this.dataModelCompanyResult=new D;this.dataModelPublicResult=new D;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","RecordStatus","Title","LinkApiPathCompanyId","LinkPublicConfigId","UpdatedDate"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","RecordStatus","Title","LinkApiPathCompanyId","LinkPublicConfigId"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:$o=>this.onSubmitOptionsSearch($o)},this.filteModelContent.sortColumn="priority",this.filteModelContent.sortType=U.Ascending}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")&&(this.requestLinkCompanyId=this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")),this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId")&&(this.requestLinkPublicConfigId=this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId"));let e=new K;if(this.requestLinkPublicConfigId?.length>0&&(e.propertyName="LinkPublicConfigId",e.value=this.requestLinkPublicConfigId,this.filteModelContent.filters.push(e)),this.requestLinkCompanyId.length>0){let i=new K;i.propertyName="LinkApiPathCompanyId",i.value=this.requestLinkCompanyId,this.filteModelContent.filters.push(i)}if(this.requestLinkSiteId>0){let i=new K;i.propertyName="LinkSiteId",i.value=this.requestLinkSiteId,this.filteModelContent.filters.push(i)}this.filteModelContent.sortColumn="priority",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>he(this,null,function*(){this.tokenInfo=i,this.DataGetAll()})),this.getApiCopmanyList(),this.getPublicConfig()}getPublicConfig(){let e=new X;e.rowPerPage=100,this.smsMainApiPathPublicConfigService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPublicResult=i}})}getApiCopmanyList(){let e=new X;e.rowPerPage=100,this.smsMainApiPathCompanyService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCompanyResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new qt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new K;t.propertyName="LinkApiPathCompanyId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if((!this.requestLinkCompanyId||this.requestLinkCompanyId&&this.requestLinkCompanyId.length==0)&&(this.categoryModelSelected==null||this.categoryModelSelected.id.length===0)){this.translate.get("MESSAGE.Company_not_selected").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id),this.requestLinkCompanyId&&this.requestLinkCompanyId.length>0&&(e=this.requestLinkCompanyId);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ir,{height:"90%",panelClass:i,enterAnimationDuration:H.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:H.cmsViewConfig.exitAnimationDuration,data:{linkApiPathCompanyId:e}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/sms/main/api-path/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let S=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(S,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(S)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(S,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new X,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(t,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(B=>{i.set(B,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),S=new K;S.propertyName="RecordStatus",S.value=Ve.Available,s.filters.push(S),this.contentService.ServiceGetCount(s).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(B=>{i.set(B,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonGetBalance(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=this.constructor.name+"GetBalance";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.ServiceGetBalance(e.id).subscribe({next:t=>{t.isSuccess?this.cmsToastrService.typeSuccessMessage(t.item.info+" "+t.item.status+" "+t.item.credit):this.cmsToastrService.typeErrorMessage(t.errorMessage+t.item.info+" "+t.item.status),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonSuperSedersList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/bankpayment/privatesiteconfig/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonMustSuperSedersList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/bankpayment/privatesiteconfig/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonNumbersList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-number/LinkApiPathId",this.tableRowSelected.id])}onActionButtonPermitionList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path-permission/LinkApiPathId",this.tableRowSelected.id])}onActionButtonOutBoxQueue(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/log/outbox-queue/LinkApiPathId",this.tableRowSelected.id])}onActionButtonCopy(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ir,{height:"90%",panelClass:i,enterAnimationDuration:H.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:H.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonPriceServicesList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path-price-service/LinkApiPathId",this.tableRowSelected.id])}onActionButtonSendTest(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}this.onActionTableRowSelect(e);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Lo,{height:"90%",panelClass:i,enterAnimationDuration:H.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:H.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonReportsRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/sms/log/api-path/LinkApiPathId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path-company"])}};yn.\u0275fac=function(i){return new(i||yn)(h(Pt),h(xt),h(Jt),h(At),h(N),h(Fe),h(qe),h(Ee),h(V),h(k),h(ye),h(lt),h(L),h(Ie))},yn.\u0275cmp=x({type:yn,selectors:[["app-sms-apipath-list"]],standalone:!1,features:[W],decls:119,vars:56,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-dollar","font-18",2,"color","#FFFFFF"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-phone","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list","font-18",2,"color","#FFFFFF"],[1,"fa-solid","fa-universal-access","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list-ol","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","LinkApiPathCompanyId"],["matColumnDef","LinkPublicConfigId"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-paper-plane-top","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file-chart-column","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let s=I();a(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(d){return p(s),E(t.viewGuideNotice,d)||(t.viewGuideNotice=d),u(d)}),v("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),T(1,4),a(2,"app-sms-apipathcompany-tree",5),v("optionChange",function(d){return p(s),u(t.onActionSelectorSelect(d))}),r(),P(),Te(3,6)(4,7),T(5,8),b(6,om,2,0,"a",9),a(7,"a",10),v("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),M(8,"i",11),r(),a(9,"a",10),v("click",function(){return p(s),u(t.onActionButtonReload())}),M(10,"i",12),r(),P(),T(11,13),a(12,"a",14),v("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),M(13,"mat-slide-toggle",15),m(14),g(15,"translate"),r(),a(16,"a",14),v("click",function(){return p(s),u(t.onActionButtonStatist())}),M(17,"mat-slide-toggle",15),m(18),g(19,"translate"),r(),P(),T(20,16),b(21,rm,7,3,"div",17),P(),T(22,18),b(23,am,7,3,"div",17)(24,sm,7,3,"div",17),a(25,"div",19)(26,"a",20),v("click",function(){return p(s),u(t.onActionButtonSendTest(t.tableRowSelected))}),a(27,"mat-icon"),m(28,"payment"),r()(),a(29,"p",21),m(30),g(31,"translate"),r()(),a(32,"div",19)(33,"a",22),v("click",function(){return p(s),u(t.onActionButtonGetBalance(t.tableRowSelected))}),M(34,"i",23)(35,"br"),r(),a(36,"p",21),m(37),g(38,"translate"),r()(),a(39,"div",19)(40,"a",20),v("click",function(){return p(s),u(t.onActionButtonSuperSedersList(t.tableRowSelected))}),M(41,"i",24)(42,"br"),r(),a(43,"p",21),m(44),g(45,"translate"),r()(),a(46,"div",19)(47,"a",20),v("click",function(){return p(s),u(t.onActionButtonMustSuperSedersList(t.tableRowSelected))}),M(48,"i",24)(49,"br"),r(),a(50,"p",21),m(51),g(52,"translate"),r()(),a(53,"div",19)(54,"a",20),v("click",function(){return p(s),u(t.onActionButtonNumbersList(t.tableRowSelected))}),M(55,"i",25)(56,"br"),r(),a(57,"p",21),m(58),g(59,"translate"),r()(),a(60,"div",19)(61,"a",20),v("click",function(){return p(s),u(t.onActionButtonPriceServicesList(t.tableRowSelected))}),M(62,"i",26)(63,"br"),r(),a(64,"p",21),m(65),g(66,"translate"),r()(),a(67,"div",19)(68,"a",20),v("click",function(){return p(s),u(t.onActionButtonPermitionList(t.tableRowSelected))}),M(69,"i",27)(70,"br"),r(),a(71,"p",21),m(72),g(73,"translate"),r()(),a(74,"div",19)(75,"a",20),v("click",function(){return p(s),u(t.onActionButtonOutBoxQueue(t.tableRowSelected))}),M(76,"i",28)(77,"br"),r(),a(78,"p",21),m(79),g(80,"translate"),r()(),b(81,lm,7,3,"div",17)(82,dm,7,3,"div",17)(83,cm,7,3,"div",17),P(),T(84,29),a(85,"app-cms-search-list",30),w("optionsChange",function(d){return p(s),E(t.optionsSearch,d)||(t.optionsSearch=d),u(d)}),r(),a(86,"app-cms-statist-list",30),w("optionsChange",function(d){return p(s),E(t.optionsStatist,d)||(t.optionsStatist=d),u(d)}),r(),P(),T(87,31),a(88,"mat-table",32,0),v("matSortChange",function(){p(s);let d=R(89);return u(t.onTableSortData(d))}),T(90,33),b(91,mm,3,3,"mat-header-cell",34)(92,um,2,1,"mat-cell",35),P(),T(93,36),b(94,fm,2,1,"mat-header-cell",34)(95,Sm,2,1,"mat-cell",35),P(),T(96,37),b(97,hm,2,1,"mat-header-cell",34)(98,gm,4,6,"mat-cell",38),P(),T(99,39),b(100,_m,2,1,"mat-header-cell",34)(101,Mm,2,1,"mat-cell",35),P(),T(102,40),b(103,Cm,2,1,"mat-header-cell",34)(104,vm,3,4,"mat-cell",35),P(),T(105,41),b(106,bm,2,1,"mat-header-cell",34)(107,Im,3,4,"mat-cell",35),P(),T(108,42),b(109,Am,2,1,"mat-header-cell",34)(110,ym,3,3,"mat-cell",35),P(),T(111,43),b(112,Em,3,3,"mat-header-cell",44)(113,wm,6,1,"mat-cell",45),P(),b(114,Tm,1,0,"mat-header-row",46)(115,Pm,1,6,"mat-row",47),r(),P(),T(116,48),a(117,"mat-paginator",49,1),v("page",function(d){return p(s),u(t.onTablePageingData(d))}),r(),P(),r()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!t.requestLinkCompanyId||t.requestLinkCompanyId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),c("ngIf",(t.requestLinkCompanyId==null?null:t.requestLinkCompanyId.length)>0),o(7),c("checked",t.optionsSearch.data.show),o(),C("",_(15,35,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),C("",_(19,37,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),A(_(31,39,"ACTION.SEND_TEST")),o(7),A(_(38,41,"ACTION.GET_BALANCE")),o(7),A(_(45,43,"ACTION.BACKUP_ROUTES")),o(7),A(_(52,45,"ACTION.SUPPORTED_ROUTES")),o(7),A(_(59,47,"ACTION.SPECIFIC_NUMBERS")),o(7),A(_(66,49,"ACTION.PRICE_LIST")),o(7),A(_(73,51,"ACTION.ACEESS")),o(7),A(_(80,53,"ACTION.QUEUE")),o(2),c("ngIf",t.categoryModelSelected&&t.categoryModelSelected.id.length>0),o(),c("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),o(),c("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),o(2),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(26),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",He(55,nm)))},dependencies:[je,G,ke,Ae,Qe,ze,Je,Ke,Xe,Ye,Ze,et,ot,tt,$e,rt,it,nt,at,st,ut,ft,St,Bo,O,vo,ct,Kt,ht,_t],encapsulation:2});var ki=yn;var Rm=["vform"];function xm(n,l){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",27),w("modelChange",function(t){p(e);let s=f();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=f();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Dm(n,l){if(n&1){let e=I();a(0,"div",28)(1,"label",29),m(2),r(),a(3,"input",30,3),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.number,t)||(s.dataModel.number=t),u(t)}),r()()}if(n&2){let e=f();o(2),A(e.fieldsInfo.number==null?null:e.fieldsInfo.number.fieldTitle),o(),y("ngModel",e.dataModel.number),c("disabled",!(e.fieldsInfo.number!=null&&e.fieldsInfo.number.accessAddField))}}function km(n,l){if(n&1){let e=I();a(0,"div",28)(1,"label",31),m(2),r(),a(3,"input",32,4),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.description,t)||(s.dataModel.description=t),u(t)}),r()()}if(n&2){let e=f();o(2),A(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),y("ngModel",e.dataModel.description),c("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessAddField))}}function Vm(n,l){if(n&1){let e=I();a(0,"div",28)(1,"label",33),m(2),r(),a(3,"input",34,5),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.debtor,t)||(s.dataModel.debtor=t),u(t)}),r()()}if(n&2){let e=f();o(2),A(e.fieldsInfo.debtor==null?null:e.fieldsInfo.debtor.fieldTitle),o(),y("ngModel",e.dataModel.debtor),c("disabled",!(e.fieldsInfo.debtor!=null&&e.fieldsInfo.debtor.accessEditField))}}function Nm(n,l){if(n&1){let e=I();a(0,"div",28)(1,"label",35),m(2),r(),a(3,"input",36,6),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.creditor,t)||(s.dataModel.creditor=t),u(t)}),r()()}if(n&2){let e=f();o(2),A(e.fieldsInfo.creditor==null?null:e.fieldsInfo.creditor.fieldTitle),o(),y("ngModel",e.dataModel.creditor),c("disabled",!(e.fieldsInfo.creditor!=null&&e.fieldsInfo.creditor.accessEditField))}}function Lm(n,l){if(n&1){let e=I();a(0,"div",28)(1,"label",37),m(2),r(),a(3,"input",38,7),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.userAcceptor,t)||(s.dataModel.userAcceptor=t),u(t)}),r()()}if(n&2){let e=f();o(2),A(e.fieldsInfo.userAcceptor==null?null:e.fieldsInfo.userAcceptor.fieldTitle),o(),y("ngModel",e.dataModel.userAcceptor),c("disabled",!(e.fieldsInfo.userAcceptor!=null&&e.fieldsInfo.userAcceptor.accessEditField))}}function Bm(n,l){if(n&1){let e=I();a(0,"div",39)(1,"div",40)(2,"h5",41),m(3),r()(),a(4,"div",42)(5,"div",43)(6,"input",44),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.isAccepted,t)||(s.dataModel.isAccepted=t),u(t)}),r(),M(7,"label",45),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.isAccepted==null?null:e.fieldsInfo.isAccepted.fieldTitle),o(3),y("ngModel",e.dataModel.isAccepted)}}function Fm(n,l){if(n&1){let e=I();a(0,"div",39)(1,"div",40)(2,"h5",46),m(3),r()(),a(4,"div",42)(5,"div",43)(6,"input",47),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.isBankAccepted,t)||(s.dataModel.isBankAccepted=t),u(t)}),r(),M(7,"label",48),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.isBankAccepted==null?null:e.fieldsInfo.isBankAccepted.fieldTitle),o(3),y("ngModel",e.dataModel.isBankAccepted)}}function Om(n,l){if(n&1){let e=I();a(0,"div",28)(1,"label",49),m(2),r(),a(3,"input",50,8),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.userBankAcceptor,t)||(s.dataModel.userBankAcceptor=t),u(t)}),r()()}if(n&2){let e=f();o(2),A(e.fieldsInfo.userBankAcceptor==null?null:e.fieldsInfo.userBankAcceptor.fieldTitle),o(),y("ngModel",e.dataModel.userBankAcceptor),c("disabled",!(e.fieldsInfo.userBankAcceptor!=null&&e.fieldsInfo.userBankAcceptor.accessEditField))}}function Gm(n,l){if(n&1){let e=I();a(0,"div",28)(1,"label",51),m(2),r(),a(3,"input",52,9),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.cardNumber,t)||(s.dataModel.cardNumber=t),u(t)}),r()()}if(n&2){let e=f();o(2),A(e.fieldsInfo.cardNumber==null?null:e.fieldsInfo.cardNumber.fieldTitle),o(),y("ngModel",e.dataModel.cardNumber),c("disabled",!(e.fieldsInfo.cardNumber!=null&&e.fieldsInfo.cardNumber.accessAddField))}}function Wm(n,l){if(n&1){let e=I();a(0,"div",28)(1,"label",53),m(2),r(),a(3,"input",54,10),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.accountNumber,t)||(s.dataModel.accountNumber=t),u(t)}),r()()}if(n&2){let e=f();o(2),A(e.fieldsInfo.accountNumber==null?null:e.fieldsInfo.accountNumber.fieldTitle),o(),y("ngModel",e.dataModel.accountNumber),c("disabled",!(e.fieldsInfo.accountNumber!=null&&e.fieldsInfo.accountNumber.accessAddField))}}function Hm(n,l){if(n&1){let e=I();a(0,"div",55)(1,"button",56),v("click",function(){p(e);let t=f();return u(t.onFormCancel())}),M(2,"i",57),m(3),g(4,"translate"),r(),a(5,"button",58),M(6,"i",59),m(7),g(8,"translate"),r()()}if(n&2){f();let e=R(9);o(3),C(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var En=class En extends dt{constructor(e,i,t,s,S,d,B,q){super(s,new ii,d,q);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.SmsMainCustomerCreditService=s;this.cmsToastrService=S;this.publicHelper=d;this.cdr=B;this.translate=q;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new D;this.dataModel=new ii;this.formInfo=new oe;this.dataModelEnumApiPathPermissionAccessStatusResult=new D;this.dataModelEnumApiPathPermissionActionResult=new D;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.getEnumApiPathPermissionAccessStatus(),this.getEnumApiPathPermissionAction(),this.DataGetAccess()}getEnumApiPathPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiPathPermissionAccessStatusEnum().subscribe(e=>{this.dataModelEnumApiPathPermissionAccessStatusResult=e})}getEnumApiPathPermissionAction(){this.smsEnumService.ServiceSmsApiPathPermissionActionEnum().subscribe(e=>{this.dataModelEnumApiPathPermissionActionResult=e})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.SmsMainCustomerCreditService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};En.\u0275fac=function(i){return new(i||En)(h(ne),h(ie),h(xe),h(Si),h(N),h(L),h(V),h(k))},En.\u0275cmp=x({type:En,selectors:[["app-sms-customercredit-add"]],viewQuery:function(i,t){if(i&1&&Z(Rm,5),i&2){let s;$(s=ee())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:36,vars:25,consts:[["vform","ngForm"],["AcceptDate",""],["BankAcceptDate",""],["Number",""],["Description",""],["Debtor",""],["Creditor",""],["UserAcceptor",""],["UserBankAcceptor",""],["CardNumber",""],["AccountNumber",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.acceptDate",1,"color-highlight"],["matInput","","type","number","name","dataModel.acceptDate","id","dataModel.acceptDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.bankAcceptDate",1,"color-highlight"],["matInput","","type","number","name","dataModel.bankAcceptDate","id","dataModel.bankAcceptDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.number",1,"color-highlight"],["matInput","","type","text","name","dataModel.number","placeholder","123","id","dataModel.number",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","type","text","name","dataModel.description","placeholder","123","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.debtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.debtor","placeholder","1","id","dataModel.debtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.creditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.creditor","placeholder","1","id","dataModel.creditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userAcceptor",1,"color-highlight"],["matInput","","type","number","name","dataModel.userAcceptor","placeholder","1","id","dataModel.userAcceptor",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isAccepted",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isAccepted","name","dataModel.isAccepted",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isAccepted",1,"custom-control-label"],["data-trigger-switch","dataModel.isBankAccepted",1,"font-600","font-14"],["type","checkbox","id","dataModel.isBankAccepted","name","dataModel.isBankAccepted",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isBankAccepted",1,"custom-control-label"],["for","dataModel.userBankAcceptor",1,"color-highlight"],["matInput","","type","number","name","dataModel.userBankAcceptor","placeholder","1","id","dataModel.userBankAcceptor",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.cardNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.cardNumber","placeholder","123","id","dataModel.cardNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.accountNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.accountNumber","placeholder","123","id","dataModel.accountNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",11),M(1,"app-progress-spinner",12),a(2,"div",13)(3,"p",14),m(4),r(),a(5,"p"),m(6),g(7,"translate"),r(),a(8,"form",15,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(10,xm,1,5,"app-cms-enum-record-status-selector",16)(11,Dm,5,3,"div",17)(12,km,5,3,"div",17)(13,Vm,5,3,"div",17)(14,Nm,5,3,"div",17),a(15,"div",18)(16,"label",19),m(17),r(),a(18,"input",20),w("ngModelChange",function(d){return p(s),E(t.dataModel.acceptDate,d)||(t.dataModel.acceptDate=d),u(d)}),r(),M(19,"mat-datepicker-toggle",21)(20,"mat-datepicker",22,1),r(),b(22,Lm,5,3,"div",17)(23,Bm,8,2,"div",23)(24,Fm,8,2,"div",23),a(25,"div",18)(26,"label",24),m(27),r(),a(28,"input",25),w("ngModelChange",function(d){return p(s),E(t.dataModel.bankAcceptDate,d)||(t.dataModel.bankAcceptDate=d),u(d)}),r(),M(29,"mat-datepicker-toggle",21)(30,"mat-datepicker",22,2),r(),b(32,Om,5,3,"div",17)(33,Gm,5,3,"div",17)(34,Wm,5,3,"div",17)(35,Hm,9,7,"div",26),r()()()}if(i&2){let s=R(21),S=R(31);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",_(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.number==null?null:t.fieldsInfo.number.accessWatchField),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),c("ngIf",t.fieldsInfo.debtor==null?null:t.fieldsInfo.debtor.accessWatchField),o(),c("ngIf",t.fieldsInfo.creditor==null?null:t.fieldsInfo.creditor.accessWatchField),o(3),A(t.fieldsInfo.acceptDate==null?null:t.fieldsInfo.acceptDate.fieldTitle),o(),c("matDatepicker",s),y("ngModel",t.dataModel.acceptDate),o(),c("for",s),o(3),c("ngIf",t.fieldsInfo.userAcceptor==null?null:t.fieldsInfo.userAcceptor.accessWatchField),o(),c("ngIf",t.fieldsInfo.isAccepted==null?null:t.fieldsInfo.isAccepted.accessWatchField),o(),c("ngIf",t.fieldsInfo.isBankAccepted==null?null:t.fieldsInfo.isBankAccepted.accessWatchField),o(3),A(t.fieldsInfo.bankAcceptDate==null?null:t.fieldsInfo.bankAcceptDate.fieldTitle),o(),c("matDatepicker",S),y("ngModel",t.dataModel.bankAcceptDate),o(),c("for",S),o(3),c("ngIf",t.fieldsInfo.userBankAcceptor==null?null:t.fieldsInfo.userBankAcceptor.accessWatchField),o(),c("ngIf",t.fieldsInfo.cardNumber==null?null:t.fieldsInfo.cardNumber.accessWatchField),o(),c("ngIf",t.fieldsInfo.accountNumber==null?null:t.fieldsInfo.accountNumber.accessWatchField),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[G,se,Q,bt,ve,z,re,te,ae,yt,Et,wt,It,J,ce,j,O],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Fo=En;var jm=["vform"];function qm(n,l){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",27),w("modelChange",function(t){p(e);let s=f();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=f();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Um(n,l){if(n&1){let e=I();a(0,"div",28)(1,"label",29),m(2),r(),a(3,"input",30,3),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.number,t)||(s.dataModel.number=t),u(t)}),r()()}if(n&2){let e=f();o(2),A(e.fieldsInfo.number==null?null:e.fieldsInfo.number.fieldTitle),o(),y("ngModel",e.dataModel.number),c("disabled",!(e.fieldsInfo.number!=null&&e.fieldsInfo.number.accessAddField))}}function Qm(n,l){if(n&1){let e=I();a(0,"div",28)(1,"label",31),m(2),r(),a(3,"input",32,4),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.description,t)||(s.dataModel.description=t),u(t)}),r()()}if(n&2){let e=f();o(2),A(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),y("ngModel",e.dataModel.description),c("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessAddField))}}function zm(n,l){if(n&1){let e=I();a(0,"div",28)(1,"label",33),m(2),r(),a(3,"input",34,5),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.debtor,t)||(s.dataModel.debtor=t),u(t)}),r()()}if(n&2){let e=f();o(2),A(e.fieldsInfo.debtor==null?null:e.fieldsInfo.debtor.fieldTitle),o(),y("ngModel",e.dataModel.debtor),c("disabled",!(e.fieldsInfo.debtor!=null&&e.fieldsInfo.debtor.accessEditField))}}function Jm(n,l){if(n&1){let e=I();a(0,"div",28)(1,"label",35),m(2),r(),a(3,"input",36,6),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.creditor,t)||(s.dataModel.creditor=t),u(t)}),r()()}if(n&2){let e=f();o(2),A(e.fieldsInfo.creditor==null?null:e.fieldsInfo.creditor.fieldTitle),o(),y("ngModel",e.dataModel.creditor),c("disabled",!(e.fieldsInfo.creditor!=null&&e.fieldsInfo.creditor.accessEditField))}}function Km(n,l){if(n&1){let e=I();a(0,"div",28)(1,"label",37),m(2),r(),a(3,"input",38,7),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.userAcceptor,t)||(s.dataModel.userAcceptor=t),u(t)}),r()()}if(n&2){let e=f();o(2),A(e.fieldsInfo.userAcceptor==null?null:e.fieldsInfo.userAcceptor.fieldTitle),o(),y("ngModel",e.dataModel.userAcceptor),c("disabled",!(e.fieldsInfo.userAcceptor!=null&&e.fieldsInfo.userAcceptor.accessEditField))}}function Xm(n,l){if(n&1){let e=I();a(0,"div",39)(1,"div",40)(2,"h5",41),m(3),r()(),a(4,"div",42)(5,"div",43)(6,"input",44),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.isAccepted,t)||(s.dataModel.isAccepted=t),u(t)}),r(),M(7,"label",45),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.isAccepted==null?null:e.fieldsInfo.isAccepted.fieldTitle),o(3),y("ngModel",e.dataModel.isAccepted)}}function Ym(n,l){if(n&1){let e=I();a(0,"div",39)(1,"div",40)(2,"h5",46),m(3),r()(),a(4,"div",42)(5,"div",43)(6,"input",47),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.isBankAccepted,t)||(s.dataModel.isBankAccepted=t),u(t)}),r(),M(7,"label",48),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.isBankAccepted==null?null:e.fieldsInfo.isBankAccepted.fieldTitle),o(3),y("ngModel",e.dataModel.isBankAccepted)}}function Zm(n,l){if(n&1){let e=I();a(0,"div",28)(1,"label",49),m(2),r(),a(3,"input",50,8),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.userBankAcceptor,t)||(s.dataModel.userBankAcceptor=t),u(t)}),r()()}if(n&2){let e=f();o(2),A(e.fieldsInfo.userBankAcceptor==null?null:e.fieldsInfo.userBankAcceptor.fieldTitle),o(),y("ngModel",e.dataModel.userBankAcceptor),c("disabled",!(e.fieldsInfo.userBankAcceptor!=null&&e.fieldsInfo.userBankAcceptor.accessEditField))}}function $m(n,l){if(n&1){let e=I();a(0,"div",28)(1,"label",51),m(2),r(),a(3,"input",52,9),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.cardNumber,t)||(s.dataModel.cardNumber=t),u(t)}),r()()}if(n&2){let e=f();o(2),A(e.fieldsInfo.cardNumber==null?null:e.fieldsInfo.cardNumber.fieldTitle),o(),y("ngModel",e.dataModel.cardNumber),c("disabled",!(e.fieldsInfo.cardNumber!=null&&e.fieldsInfo.cardNumber.accessAddField))}}function ep(n,l){if(n&1){let e=I();a(0,"div",28)(1,"label",53),m(2),r(),a(3,"input",54,10),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.accountNumber,t)||(s.dataModel.accountNumber=t),u(t)}),r()()}if(n&2){let e=f();o(2),A(e.fieldsInfo.accountNumber==null?null:e.fieldsInfo.accountNumber.fieldTitle),o(),y("ngModel",e.dataModel.accountNumber),c("disabled",!(e.fieldsInfo.accountNumber!=null&&e.fieldsInfo.accountNumber.accessAddField))}}function tp(n,l){if(n&1){let e=I();a(0,"div",55)(1,"button",56),v("click",function(){p(e);let t=f();return u(t.onFormCancel())}),M(2,"i",57),m(3),g(4,"translate"),r(),a(5,"button",58),M(6,"i",59),m(7),g(8,"translate"),r()()}if(n&2){f();let e=R(9);o(3),C(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var wn=class wn extends mt{constructor(e,i,t,s,S,d,B,q){super(s,new ii,d,q);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.SmsMainCustomerCreditService=s;this.cmsToastrService=S;this.publicHelper=d;this.cdr=B;this.translate=q;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ue;this.dataModel=new ii;this.formInfo=new oe;this.dataModelEnumApiPathPermissionAccessStatusResult=new D;this.dataModelEnumApiPathPermissionActionResult=new D;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getEnumApiPathPermissionAccessStatus(),this.getEnumApiPathPermissionAction()}getEnumApiPathPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiPathPermissionAccessStatusEnum().subscribe(e=>{this.dataModelEnumApiPathPermissionAccessStatusResult=e})}getEnumApiPathPermissionAction(){this.smsEnumService.ServiceSmsApiPathPermissionActionEnum().subscribe(e=>{this.dataModelEnumApiPathPermissionActionResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.SmsMainCustomerCreditService.setAccessLoad(),this.SmsMainCustomerCreditService.setAccessDataType(Ne.Editor),this.SmsMainCustomerCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.SmsMainCustomerCreditService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};wn.\u0275fac=function(i){return new(i||wn)(h(ne),h(ie),h(xe),h(Si),h(N),h(L),h(V),h(k))},wn.\u0275cmp=x({type:wn,selectors:[["app-sms-customercredit-edit"]],viewQuery:function(i,t){if(i&1&&Z(jm,5),i&2){let s;$(s=ee())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:36,vars:25,consts:[["vform","ngForm"],["AcceptDate",""],["BankAcceptDate",""],["Number",""],["Description",""],["Debtor",""],["Creditor",""],["UserAcceptor",""],["UserBankAcceptor",""],["CardNumber",""],["AccountNumber",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.acceptDate",1,"color-highlight"],["matInput","","type","number","name","dataModel.acceptDate","id","dataModel.acceptDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.bankAcceptDate",1,"color-highlight"],["matInput","","type","number","name","dataModel.bankAcceptDate","id","dataModel.bankAcceptDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.number",1,"color-highlight"],["matInput","","type","text","name","dataModel.number","placeholder","123","id","dataModel.number",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","type","text","name","dataModel.description","placeholder","123","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.debtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.debtor","placeholder","1","id","dataModel.debtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.creditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.creditor","placeholder","1","id","dataModel.creditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userAcceptor",1,"color-highlight"],["matInput","","type","number","name","dataModel.userAcceptor","placeholder","1","id","dataModel.userAcceptor",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isAccepted",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isAccepted","name","dataModel.isAccepted",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isAccepted",1,"custom-control-label"],["data-trigger-switch","dataModel.isBankAccepted",1,"font-600","font-14"],["type","checkbox","id","dataModel.isBankAccepted","name","dataModel.isBankAccepted",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isBankAccepted",1,"custom-control-label"],["for","dataModel.userBankAcceptor",1,"color-highlight"],["matInput","","type","number","name","dataModel.userBankAcceptor","placeholder","1","id","dataModel.userBankAcceptor",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.cardNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.cardNumber","placeholder","123","id","dataModel.cardNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.accountNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.accountNumber","placeholder","123","id","dataModel.accountNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",11),M(1,"app-progress-spinner",12),a(2,"div",13)(3,"p",14),m(4),r(),a(5,"p"),m(6),g(7,"translate"),r(),a(8,"form",15,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(10,qm,1,5,"app-cms-enum-record-status-selector",16)(11,Um,5,3,"div",17)(12,Qm,5,3,"div",17)(13,zm,5,3,"div",17)(14,Jm,5,3,"div",17),a(15,"div",18)(16,"label",19),m(17),r(),a(18,"input",20),w("ngModelChange",function(d){return p(s),E(t.dataModel.acceptDate,d)||(t.dataModel.acceptDate=d),u(d)}),r(),M(19,"mat-datepicker-toggle",21)(20,"mat-datepicker",22,1),r(),b(22,Km,5,3,"div",17)(23,Xm,8,2,"div",23)(24,Ym,8,2,"div",23),a(25,"div",18)(26,"label",24),m(27),r(),a(28,"input",25),w("ngModelChange",function(d){return p(s),E(t.dataModel.bankAcceptDate,d)||(t.dataModel.bankAcceptDate=d),u(d)}),r(),M(29,"mat-datepicker-toggle",21)(30,"mat-datepicker",22,2),r(),b(32,Zm,5,3,"div",17)(33,$m,5,3,"div",17)(34,ep,5,3,"div",17)(35,tp,9,7,"div",26),r()()()}if(i&2){let s=R(21),S=R(31);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",_(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.number==null?null:t.fieldsInfo.number.accessWatchField),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),c("ngIf",t.fieldsInfo.debtor==null?null:t.fieldsInfo.debtor.accessWatchField),o(),c("ngIf",t.fieldsInfo.creditor==null?null:t.fieldsInfo.creditor.accessWatchField),o(3),A(t.fieldsInfo.acceptDate==null?null:t.fieldsInfo.acceptDate.fieldTitle),o(),c("matDatepicker",s),y("ngModel",t.dataModel.acceptDate),o(),c("for",s),o(3),c("ngIf",t.fieldsInfo.userAcceptor==null?null:t.fieldsInfo.userAcceptor.accessWatchField),o(),c("ngIf",t.fieldsInfo.isAccepted==null?null:t.fieldsInfo.isAccepted.accessWatchField),o(),c("ngIf",t.fieldsInfo.isBankAccepted==null?null:t.fieldsInfo.isBankAccepted.accessWatchField),o(3),A(t.fieldsInfo.bankAcceptDate==null?null:t.fieldsInfo.bankAcceptDate.fieldTitle),o(),c("matDatepicker",S),y("ngModel",t.dataModel.bankAcceptDate),o(),c("for",S),o(3),c("ngIf",t.fieldsInfo.userBankAcceptor==null?null:t.fieldsInfo.userBankAcceptor.accessWatchField),o(),c("ngIf",t.fieldsInfo.cardNumber==null?null:t.fieldsInfo.cardNumber.accessWatchField),o(),c("ngIf",t.fieldsInfo.accountNumber==null?null:t.fieldsInfo.accountNumber.accessWatchField),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[G,se,Q,bt,ve,z,re,te,ae,yt,Et,wt,It,J,ce,j,O],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Oo=wn;var ip=()=>[5,10,20,100];function np(n,l){if(n&1){let e=I();a(0,"div",35)(1,"a",36),v("click",function(){p(e);let t=f();return u(t.onActionButtonNewRow())}),M(2,"i",37)(3,"br"),r(),a(4,"p",38),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.ADD")))}function op(n,l){if(n&1){let e=I();a(0,"div",35)(1,"a",39),v("click",function(){p(e);let t=f();return u(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",40)(3,"br"),r(),a(4,"p",38),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.EDIT")))}function rp(n,l){if(n&1){let e=I();a(0,"div",35)(1,"a",41),v("click",function(){p(e);let t=f();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",42)(3,"br"),r(),a(4,"p",38),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.DELETE")))}function ap(n,l){if(n&1&&(a(0,"mat-header-cell",43),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function sp(n,l){if(n&1&&(a(0,"mat-cell"),m(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.id," ")}}function lp(n,l){if(n&1&&(a(0,"mat-header-cell",43),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function dp(n,l){if(n&1&&(a(0,"mat-cell",44),g(1,"statusCellClass"),M(2,"i",44),g(3,"statusIconClass"),r()),n&2){let e=l.$implicit;c("ngClass",_(1,2,e.recordStatus)),o(2),c("ngClass",_(3,4,e.recordStatus))}}function cp(n,l){if(n&1&&(a(0,"mat-header-cell",43),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function mp(n,l){if(n&1&&(a(0,"mat-cell"),m(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.title," ")}}function pp(n,l){n&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),r()),n&2&&(o(),C(" ",_(2,1,"TITLE.OPTION")," "))}function up(n,l){if(n&1&&(a(0,"mat-cell",45)(1,"button",46)(2,"mat-icon"),m(3,"more_vert"),r()(),M(4,"mat-menu",null,2),r()),n&2){let e=R(5);o(),c("matMenuTriggerFor",e)}}function fp(n,l){n&1&&M(0,"mat-header-row")}function Sp(n,l){if(n&1){let e=I();a(0,"mat-row",47),v("click",function(){let t=p(e).$implicit,s=f();return u(s.onActionTableRowSelect(t))}),r()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=f();be("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Tn=class Tn extends pt{constructor(e,i,t,s,S,d,B,q,Ct,Ut,vt,Yt){super(e,new ii,vt,d,Ct);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=s;this.router=S;this.tokenHelper=d;this.cmsStoreService=B;this.cdr=q;this.translate=Ct;this.pageInfo=Ut;this.publicHelper=vt;this.dialog=Yt;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new X;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["RecordStatus"];this.tabledisplayedColumnsMobileSource=["RecordStatus"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Oe=>this.onSubmitOptionsSearch(Oe)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>he(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ii);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new K;t.propertyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new X,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fo,{height:"90%",panelClass:e,enterAnimationDuration:H.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:H.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Oo,{height:"90%",panelClass:i,enterAnimationDuration:H.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:H.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let S=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(S,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(S)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(S,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(t,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(B=>{i.set(B,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),S=new K;S.propertyName="RecordStatus",S.value=Ve.Available,s.filters.push(S),this.contentService.ServiceGetCount(s).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(B=>{i.set(B,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}};Tn.\u0275fac=function(i){return new(i||Tn)(h(Si),h(N),h(At),h(Fe),h(qe),h(Ee),h(ye),h(V),h(k),h(lt),h(L),h(Ie))},Tn.\u0275cmp=x({type:Tn,selectors:[["app-sms-customercredit-list"]],standalone:!1,features:[W],decls:47,vars:28,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let s=I();a(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(d){return p(s),E(t.viewGuideNotice,d)||(t.viewGuideNotice=d),u(d)}),v("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),T(1,4),a(2,"app-sms-apipath-tree",5),v("optionChange",function(d){return p(s),u(t.onActionSelectorSelect(d))}),r(),P(),Te(3,6)(4,7),T(5,8),a(6,"a",9),v("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),M(7,"i",10),r(),a(8,"a",9),v("click",function(){return p(s),u(t.onActionButtonReload())}),M(9,"i",11),r(),P(),T(10,12),a(11,"a",13),v("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),M(12,"mat-slide-toggle",14),m(13),g(14,"translate"),r(),a(15,"a",13),v("click",function(){return p(s),u(t.onActionButtonStatist())}),M(16,"mat-slide-toggle",14),m(17),g(18,"translate"),r(),P(),T(19,15),b(20,np,7,3,"div",16),P(),T(21,17),b(22,op,7,3,"div",16)(23,rp,7,3,"div",16),P(),T(24,18),a(25,"app-cms-search-list",19),w("optionsChange",function(d){return p(s),E(t.optionsSearch,d)||(t.optionsSearch=d),u(d)}),r(),a(26,"app-cms-statist-list",19),w("optionsChange",function(d){return p(s),E(t.optionsStatist,d)||(t.optionsStatist=d),u(d)}),r(),P(),T(27,20),a(28,"mat-table",21,0),v("matSortChange",function(){p(s);let d=R(29);return u(t.onTableSortData(d))}),T(30,22),b(31,ap,2,1,"mat-header-cell",23)(32,sp,2,1,"mat-cell",24),P(),T(33,25),b(34,lp,2,1,"mat-header-cell",23)(35,dp,4,6,"mat-cell",26),P(),T(36,27),b(37,cp,2,1,"mat-header-cell",23)(38,mp,2,1,"mat-cell",24),P(),T(39,28),b(40,pp,3,3,"mat-header-cell",29)(41,up,6,1,"mat-cell",30),P(),b(42,fp,1,0,"mat-header-row",31)(43,Sp,1,6,"mat-row",32),r(),P(),T(44,33),a(45,"mat-paginator",34,1),v("page",function(d){return p(s),u(t.onTablePageingData(d))}),r(),P(),r()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!t.requestLinkApiPathId||t.requestLinkApiPathId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(12),c("checked",t.optionsSearch.data.show),o(),C("",_(14,23,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),C("",_(18,25,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(14),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",He(27,ip)))},dependencies:[je,G,ke,Ae,Qe,ze,Je,Ke,Xe,Ye,Ze,et,ot,tt,$e,rt,it,nt,at,st,ut,ft,St,gi,O,ht,_t],encapsulation:2});var Go=Tn;var hp=["*"];function gp(n,l){if(n&1&&(a(0,"label",13),m(1),r()),n&2){let e=f();c("for",Zt("app-cms-site-selector-",e.id)),o(),A(e.optionLabel)}}function _p(n,l){if(n&1&&(M(0,"img",14),g(1,"cmsthumbnail")),n&2){let e=f();c("src",F(_(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),ge)}}function Mp(n,l){if(n&1&&(M(0,"img",14),g(1,"cmsthumbnail")),n&2){let e=f().$implicit;c("src",F(_(1,2,e.linkMainImageIdSrc)),ge)}}function Cp(n,l){if(n&1&&(a(0,"mat-option",15),b(1,Mp,2,4,"img",5),a(2,"span"),m(3),r()()),n&2){let e=l.$implicit,i=f();c("value",e)("disabled",i.optionDisabled),o(),c("ngIf",e.linkMainImageIdSrc),o(2),A(i.displayOption(e))}}function vp(n,l){n&1&&M(0,"i",16)}function bp(n,l){n&1&&M(0,"i",17)}function Ip(n,l){if(n&1){let e=I();a(0,"i",18),v("click",function(){p(e);let t=f();return u(t.onActionSelectClear())}),r()}}function Ap(n,l){n&1&&(a(0,"em"),m(1),g(2,"translate"),r()),n&2&&(o(),C("(",_(2,1,"TITLE.Necessary"),")"))}var Vi=class Vi{constructor(l,e,i,t,s,S){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.categoryService=S;this.id=++Vi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new D;this.dataModelSelect=new Mt;this.formControl=new zt;this.optionPlaceholder="";this.optionRequired=!1;this.optionDisabled=!1;this.optionLabel="";this.optionSelectFirstItem=!1;this.optionChange=new We;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Hi(""),Gi(1500),Wi(),ji(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return he(this,null,function*(){let e=new X;e.rowPerPage=20,e.accessLoad=!0;let i=new K;l&&l.length>0&&(i.propertyName="Title",i.value=l,i.searchType=jt.Contains,i.clauseType=mi.Or,e.filters.push(i)),l&&typeof l=="string"&&l.length>10&&(i=new K,i.propertyName="Id",i.value=l,i.searchType=jt.Equal,i.clauseType=mi.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield Fi(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length==0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(Oi(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Mt){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Mt,this.loadOptions()}};Vi.nextId=0,Vi.\u0275fac=function(e){return new(e||Vi)(h(_e),h(N),h(V),h(L),h(k),h(kt))},Vi.\u0275cmp=x({type:Vi,selectors:[["app-sms-main-message-category-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionRequired:"optionRequired",optionDisabled:"optionDisabled",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:hp,decls:16,vars:19,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();qi(),a(0,"div",1),M(1,"app-progress-spinner",2),b(2,gp,2,3,"label",3),a(3,"span",4),b(4,_p,2,4,"img",5),m(5," \xA0"),r(),M(6,"input",6),a(7,"mat-autocomplete",7,0),v("optionSelected",function(S){return p(t),u(i.onActionSelect(S.option.value))}),b(9,Cp,4,4,"mat-option",8),g(10,"async"),r(),b(11,vp,1,0,"i",9)(12,bp,1,0,"i",10)(13,Ip,1,0,"i",11)(14,Ap,3,3,"em",12),Ui(15),r()}if(e&2){let t=R(8);o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),c("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),c("placeholder",F(i.optionPlaceholder))("id",Zt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Qt("disabled",i.optionDisabled?!0:null),o(),c("displayWith",i.displayFn),o(2),c("ngForOf",_(10,17,i.filteredOptions)),o(2),c("ngIf",!i.formControl.valid),o(),c("ngIf",i.optionRequired&&i.formControl.valid),o(),c("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),c("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[De,G,Q,z,Se,zi,Xi,Ki,Yi,io,J,j,si,O,ct],encapsulation:2});var Pn=Vi;var yp=["vform"];function Ep(n,l){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",16),w("modelChange",function(t){p(e);let s=f();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=f();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function wp(n,l){n&1&&M(0,"i",21)}function Tp(n,l){n&1&&M(0,"i",22)}function Pp(n,l){n&1&&(a(0,"mat-error"),m(1," Title is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function Rp(n,l){if(n&1){let e=I();a(0,"div",11)(1,"label",17),m(2),r(),a(3,"input",18,2),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),r(),b(5,wp,1,0,"i",19)(6,Tp,1,0,"i",20),a(7,"em"),m(8),r(),b(9,Pp,5,3,"mat-error",14),r()}if(n&2){let e=R(4),i=f();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",F(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.title),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),C("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function xp(n,l){n&1&&(a(0,"mat-error"),m(1," messageBody is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function Dp(n,l){if(n&1){let e=I();a(0,"div",23)(1,"button",24),v("click",function(){p(e);let t=f();return u(t.onFormCancel())}),M(2,"i",25),m(3),g(4,"translate"),r(),a(5,"button",26),M(6,"i",27),m(7),g(8,"translate"),r()()}if(n&2){f();let e=R(9);o(3),C(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var Rn=class Rn extends dt{constructor(e,i,t,s,S,d,B,q){super(s,new ni,d,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.SmsMainMessageContentService=s;this.cmsToastrService=S;this.publicHelper=d;this.cdr=B;this.translate=q;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new D;this.dataModel=new ni;this.formInfo=new oe;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.linkCategoryId&&e.linkCategoryId.length>0&&(this.dataModel.linkCategoryId=e.linkCategoryId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.SmsMainMessageContentService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){if(this.formGroup.valid){if(!this.dataModel.linkCategoryId||this.dataModel.linkCategoryId.length==0){this.cmsToastrService.typeErrorSelected("\u062F\u0633\u062A \u0628\u0646\u062F\u06CC   \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.formInfo.formSubmitAllow=!1,this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(e){if(!e||e.id?.length==0){this.translate.get("MESSAGE.Category_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkCategoryId=e.id}};Rn.\u0275fac=function(i){return new(i||Rn)(h(ne),h(ie),h(_e),h(hi),h(N),h(L),h(V),h(k))},Rn.\u0275cmp=x({type:Rn,selectors:[["app-sms-main-message-content-add"]],viewQuery:function(i,t){if(i&1&&Z(yp,5),i&2){let s;$(s=ee())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:23,vars:18,consts:[["vform","ngForm"],["messageBody",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.messageBody",1,"color-highlight"],["matInput","","name","dataModel.messageBody","type","text","minlength","1","maxlength","5000","rows","5","id","dataModel.messageBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",3),M(1,"app-progress-spinner",4),a(2,"div",5)(3,"p",6),m(4),r(),a(5,"p"),m(6),g(7,"translate"),r(),a(8,"form",7,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(10,Ep,1,5,"app-cms-enum-record-status-selector",8),a(11,"app-sms-main-message-category-selector",9),g(12,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectCategory(d))}),r(),b(13,Rp,10,8,"div",10),a(14,"div",11)(15,"label",12),m(16),r(),a(17,"textarea",13,1),w("ngModelChange",function(d){return p(s),E(t.dataModel.messageBody,d)||(t.dataModel.messageBody=d),u(d)}),r(),a(19,"em"),m(20),r(),b(21,xp,5,3,"mat-error",14),r(),b(22,Dp,9,7,"div",15),r()()()}if(i&2){let s=R(18);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",_(7,14,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionSelectForce",t.dataModel.linkCategoryId)("optionPlaceholder",_(12,16,"TITLE.Category")),o(2),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),A(t.fieldsInfo.messageBody==null?null:t.fieldsInfo.messageBody.fieldTitle),o(),c("placeholder",F(t.fieldsInfo.messageBody==null?null:t.fieldsInfo.messageBody.fieldTitle)),y("ngModel",t.dataModel.messageBody),o(3),C("",s.value.length," / 5000"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[G,se,Q,z,re,Se,Pe,Re,te,ae,Ce,J,ce,j,Pn,O],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Wo=Rn;var kp=["vform"];function Vp(n,l){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",16),w("modelChange",function(t){p(e);let s=f();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=f();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Np(n,l){n&1&&M(0,"i",21)}function Lp(n,l){n&1&&M(0,"i",22)}function Bp(n,l){n&1&&(a(0,"mat-error"),m(1," Title is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function Fp(n,l){if(n&1){let e=I();a(0,"div",11)(1,"label",17),m(2),r(),a(3,"input",18,2),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),r(),b(5,Np,1,0,"i",19)(6,Lp,1,0,"i",20),a(7,"em"),m(8),r(),b(9,Bp,5,3,"mat-error",14),r()}if(n&2){let e=R(4),i=f();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",F(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.title),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),C("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Op(n,l){n&1&&(a(0,"mat-error"),m(1," messageBody is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function Gp(n,l){if(n&1){let e=I();a(0,"div",23)(1,"button",24),v("click",function(){p(e);let t=f();return u(t.onFormCancel())}),M(2,"i",25),m(3),g(4,"translate"),r(),a(5,"button",26),M(6,"i",27),m(7),g(8,"translate"),r()()}if(n&2){f();let e=R(9);o(3),C(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var xn=class xn extends mt{constructor(e,i,t,s,S,d,B,q){super(s,new ni,d,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.SmsMainMessageContentService=s;this.cmsToastrService=S;this.publicHelper=d;this.cdr=B;this.translate=q;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ue;this.dataModel=new ni;this.formInfo=new oe;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.SmsMainMessageContentService.setAccessLoad(),this.SmsMainMessageContentService.setAccessDataType(Ne.Editor),this.SmsMainMessageContentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.SmsMainMessageContentService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){if(this.formGroup.valid){if(!this.dataModel.linkCategoryId||this.dataModel.linkCategoryId.length==0){this.translate.get("MESSAGE.Category_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.formInfo.formSubmitAllow=!1,this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(e){if(!e||e.id.length==0){this.translate.get("MESSAGE.Category_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkCategoryId=e.id}};xn.\u0275fac=function(i){return new(i||xn)(h(ne),h(ie),h(_e),h(hi),h(N),h(L),h(V),h(k))},xn.\u0275cmp=x({type:xn,selectors:[["app-sms-main-message-content-edit"]],viewQuery:function(i,t){if(i&1&&Z(kp,5),i&2){let s;$(s=ee())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:23,vars:18,consts:[["vform","ngForm"],["messageBody",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.messageBody",1,"color-highlight"],["matInput","","name","dataModel.messageBody","type","text","minlength","1","maxlength","5000","rows","5","id","dataModel.messageBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",3),M(1,"app-progress-spinner",4),a(2,"div",5)(3,"p",6),m(4),r(),a(5,"p"),m(6),g(7,"translate"),r(),a(8,"form",7,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(10,Vp,1,5,"app-cms-enum-record-status-selector",8),a(11,"app-sms-main-message-category-selector",9),g(12,"translate"),v("optionChange",function(d){return p(s),u(t.onActionSelectCategory(d))}),r(),b(13,Fp,10,8,"div",10),a(14,"div",11)(15,"label",12),m(16),r(),a(17,"textarea",13,1),w("ngModelChange",function(d){return p(s),E(t.dataModel.messageBody,d)||(t.dataModel.messageBody=d),u(d)}),r(),a(19,"em"),m(20),r(),b(21,Op,5,3,"mat-error",14),r(),b(22,Gp,9,7,"div",15),r()()()}if(i&2){let s=R(18);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",_(7,14,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionSelectForce",t.dataModel.linkCategoryId)("optionPlaceholder",_(12,16,"TITLE.Category")),o(2),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),A(t.fieldsInfo.messageBody==null?null:t.fieldsInfo.messageBody.fieldTitle),o(),c("placeholder",F(t.fieldsInfo.messageBody==null?null:t.fieldsInfo.messageBody.fieldTitle)),y("ngModel",t.dataModel.messageBody),o(3),C("",s.value.length," / 5000"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[G,se,Q,z,re,Se,Pe,Re,te,ae,Ce,J,ce,j,Pn,O],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Ho=xn;var Wp=["vform"];function Hp(n,l){if(n&1){let e=I();T(0),a(1,"div",6)(2,"label",10),m(3),r(),a(4,"input",11,0),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModelResultCategory.item.title,t)||(s.dataModelResultCategory.item.title=t),u(t)}),r()(),a(6,"div",6)(7,"label",7),m(8),r(),a(9,"textarea",8,0),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModelResultCategory.item.description,t)||(s.dataModelResultCategory.item.description=t),u(t)}),m(11,"              "),r()(),P()}if(n&2){let e=f();o(3),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),y("ngModel",e.dataModelResultCategory.item.title),o(4),A(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),y("ngModel",e.dataModelResultCategory.item.description)}}function jp(n,l){if(n&1){let e=I();a(0,"div",12)(1,"button",13),v("click",function(){p(e);let t=f();return u(t.onFormMove())}),M(2,"i",14),m(3),g(4,"translate"),r(),a(5,"button",15),v("click",function(){p(e);let t=f();return u(t.onFormDelete())}),M(6,"i",16),m(7),g(8,"translate"),r(),a(9,"button",17),v("click",function(){p(e);let t=f();return u(t.onFormCancel())}),M(10,"i",14),m(11),g(12,"translate"),r()()}if(n&2){let e=f();o(),c("disabled",!e.formInfo.buttonSubmittedEnabled),o(2),C(" ",_(4,5,"TITLE.MOVE_DATA")," "),o(2),c("disabled",!e.formInfo.buttonSubmittedEnabled),o(2),C(" ",_(8,7,"ACTION.DELETE")," "),o(4),C(" ",_(12,9,"ACTION.CANCEL")," ")}}var Dn=class Dn{constructor(l,e,i,t,s,S,d){this.data=l;this.dialogRef=e;this.publicHelper=i;this.smsMainMessageCategoryService=t;this.cdr=s;this.translate=S;this.cmsToastrService=d;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultCategory=new D;this.dataModelResultCategoryAllData=new D;this.dataModel={};this.formInfo=new oe;this.publicHelper.processService.cdr=this.cdr,l&&l.id&&l.id.length>0&&(this.requestId=l.id)}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(),this.DataGetAll()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.formAlert=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.setAccessLoad(),this.smsMainMessageCategoryService.setAccessDataType(Ne.Editor),this.smsMainMessageCategoryService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultCategory=e,e.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}DataGetAll(){this.translate.get("TITLE.Loading_Information").subscribe(i=>{this.formInfo.formAlert=i});let l=new X;l.rowPerPage=100;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceGetAll(l).subscribe({next:i=>{this.dataModelResultCategoryAllData=i,i.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetAll()),this.publicHelper.processService.processStop(e)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormMove(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(!this.formGroup.valid)return;this.formInfo.formSubmitAllow=!0,this.dataModel.newCatId===this.requestId&&(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.formError=e}),this.formInfo.buttonSubmittedEnabled=!0),this.formInfo.buttonSubmittedEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceMove(this.requestId,this.dataModel.newCatId).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.The_Transfer_Was_Successful").subscribe(i=>{this.formInfo.formAlert=i}),this.cmsToastrService.typeSuccessMove()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMove()),this.formInfo.formSubmitAllow=!0,this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.cmsToastrService.typeError(e),this.formInfo.buttonSubmittedEnabled=!0,this.formInfo.formSubmitAllow=!0,this.publicHelper.processService.processStop(l)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.formSubmitAllow=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.formAlert=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormChangeNewCatId(l){if(this.formInfo.formAlert="",this.requestId.length===0||!l||l.id.length<=0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.dataModel.newCatId=l.id,this.dataModel.newCatId===this.requestId?(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.formError=e}),this.formInfo.buttonSubmittedEnabled=!1):(this.formInfo.buttonSubmittedEnabled=!0,this.formInfo.formError="")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Dn.\u0275fac=function(e){return new(e||Dn)(h(ne),h(ie),h(L),h(kt),h(V),h(k),h(N))},Dn.\u0275cmp=x({type:Dn,selectors:[["app-sms-main-message-category-delete"]],viewQuery:function(e,i){if(e&1&&Z(Wp,5),e&2){let t;$(t=ee())&&(i.formGroup=t.first)}},standalone:!1,decls:16,vars:9,consts:[["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultCategory.item.description",1,"color-highlight"],["matInput","","type","text","name","dataModelResultCategory.item.description","minlength","1","maxlength","100","rows","5","id","dataModelResultCategory.item.description","placeholder","0",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],["for","dataModelResultCategory.item.title",1,"color-highlight"],["matInput","","type","text","name","dataModelResultCategory.item.title","minlength","3","maxlength","50","id","dataModelResultCategory.item.title","placeholder","0",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"]],template:function(e,i){if(e&1){let t=I();a(0,"div",1),M(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),m(4),r(),a(5,"p"),m(6),g(7,"translate"),r(),b(8,Hp,12,4,"ng-container",5),a(9,"div",6)(10,"label",7),m(11),r(),a(12,"textarea",8,0),w("ngModelChange",function(S){return p(t),E(i.dataModelResultCategory.item.description,S)||(i.dataModelResultCategory.item.description=S),u(S)}),m(14,"              "),r()(),b(15,jp,13,11,"div",9),r()()}e&2&&(o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(3),C(" ",i.formInfo.formTitle," "),o(2),C(" ",_(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("ngIf",i.dataModelResultCategory==null?null:i.dataModelResultCategory.item),o(3),A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),y("ngModel",i.dataModelResultCategory.item.description),o(3),c("ngIf",i.formInfo.formSubmitAllow))},dependencies:[G,Q,z,Pe,Re,te,J,j,O],encapsulation:2});var jo=Dn;var qp=["vform"];function Up(n,l){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",22),w("modelChange",function(t){p(e);let s=f();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=f();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Qp(n,l){n&1&&M(0,"i",27)}function zp(n,l){n&1&&M(0,"i",28)}function Jp(n,l){n&1&&(a(0,"mat-error"),m(1," Title is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function Kp(n,l){if(n&1){let e=I();a(0,"div",11)(1,"label",23),m(2),r(),a(3,"input",24,3),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),r(),b(5,Qp,1,0,"i",25)(6,zp,1,0,"i",26),a(7,"em"),m(8),r(),b(9,Jp,5,3,"mat-error",14),r()}if(n&2){let e=R(4),i=f();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",F(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.title),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),C("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Xp(n,l){n&1&&(a(0,"mat-error"),m(1," Description is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function Yp(n,l){if(n&1&&(M(0,"img",29),g(1,"cmsthumbnail")),n&2){let e=f();c("src",F(_(1,2,e.dataModel.linkMainImageIdSrc)),ge)}}function Zp(n,l){if(n&1){let e=I();a(0,"div",30)(1,"button",31),v("click",function(){p(e);let t=f();return u(t.onFormCancel())}),M(2,"i",32),m(3),g(4,"translate"),r(),a(5,"button",33),M(6,"i",34),m(7),g(8,"translate"),r()()}if(n&2){f();let e=R(9);o(3),C(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var kn=class kn extends mt{constructor(e,i,t,s,S,d,B,q){super(s,new Mt,d,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainMessageCategoryService=s;this.cmsToastrService=S;this.publicHelper=d;this.cdr=B;this.translate=q;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ue;this.dataModel=new Mt;this.formInfo=new oe;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&e.id.length>0&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId.length==0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.setAccessLoad(),this.smsMainMessageCategoryService.setAccessDataType(Ne.Editor),this.smsMainMessageCategoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};kn.\u0275fac=function(i){return new(i||kn)(h(ne),h(ie),h(_e),h(kt),h(N),h(L),h(V),h(k))},kn.\u0275cmp=x({type:kn,selectors:[["app-sms-main-message-category-edit"]],viewQuery:function(i,t){if(i&1&&Z(qp,5),i&2){let s;$(s=ee())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:33,vars:35,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",4),M(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),m(4),r(),a(5,"p"),m(6),g(7,"translate"),r(),a(8,"form",8,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(10,Up,1,5,"app-cms-enum-record-status-selector",9)(11,Kp,10,8,"div",10),a(12,"div",11)(13,"label",12),m(14),r(),a(15,"textarea",13,1),w("ngModelChange",function(d){return p(s),E(t.dataModel.description,d)||(t.dataModel.description=d),u(d)}),r(),a(17,"em"),m(18),r(),b(19,Xp,5,3,"mat-error",14),r(),a(20,"div",15)(21,"a",16),g(22,"cmsthumbnail"),b(23,Yp,2,4,"img",17),r()(),a(24,"div",11)(25,"label",18),v("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),m(26),g(27,"translate"),r(),a(28,"input",19,2),g(30,"translate"),w("ngModelChange",function(d){return p(s),E(t.dataModel.linkMainImageId,d)||(t.dataModel.linkMainImageId=d),u(d)}),v("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),r(),a(31,"cms-file-manager",20),v("itemSelected",function(d){return p(s),u(t.onActionFileSelected(d))}),w("openFormChange",function(d){return p(s),E(t.fileManagerOpenForm,d)||(t.fileManagerOpenForm=d),u(d)}),r()(),b(32,Zp,9,7,"div",21),r()()()}if(i&2){let s=R(16);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",_(7,27,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),c("placeholder",F(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),y("ngModel",t.dataModel.description),o(3),C("",s.value.length," / 500"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(2),c("href",F(_(22,29,t.dataModel.linkMainImageIdSrc)),ge),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),A(_(27,31,"TITLE.Icon_File")),o(2),c("placeholder",F(_(30,33,"TITLE.Original_File_ID"))),y("ngModel",t.dataModel.linkMainImageId),o(3),c("language",t.appLanguage)("isPopup",!0),y("openForm",t.fileManagerOpenForm),c("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[G,se,Q,z,re,Se,Pe,Re,te,ae,Ce,J,ce,j,Vt,O,ct],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var qo=kn;var $p=["vform"];function eu(n,l){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",22),w("modelChange",function(t){p(e);let s=f();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=f();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function tu(n,l){n&1&&M(0,"i",27)}function iu(n,l){n&1&&M(0,"i",28)}function nu(n,l){n&1&&(a(0,"mat-error"),m(1," Title is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function ou(n,l){if(n&1){let e=I();a(0,"div",11)(1,"label",23),m(2),r(),a(3,"input",24,3),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),r(),b(5,tu,1,0,"i",25)(6,iu,1,0,"i",26),a(7,"em"),m(8),r(),b(9,nu,5,3,"mat-error",14),r()}if(n&2){let e=R(4),i=f();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",F(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.title),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),C("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function ru(n,l){n&1&&(a(0,"mat-error"),m(1," Description is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function au(n,l){if(n&1&&(M(0,"img",29),g(1,"cmsthumbnail")),n&2){let e=f();c("src",F(_(1,2,e.dataModel.linkMainImageIdSrc)),ge)}}function su(n,l){if(n&1){let e=I();a(0,"div",30)(1,"button",31),v("click",function(){p(e);let t=f();return u(t.onFormCancel())}),M(2,"i",32),m(3),g(4,"translate"),r(),a(5,"button",33),M(6,"i",34),m(7),g(8,"translate"),r()()}if(n&2){f();let e=R(9);o(3),C(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var Vn=class Vn extends dt{constructor(e,i,t,s,S,d,B,q){super(s,new Mt,d,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainMessageCategoryService=s;this.cmsToastrService=S;this.publicHelper=d;this.cdr=B;this.translate=q;this.requestParentId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new D;this.dataModel=new Mt;this.formInfo=new oe;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.parentId&&e.parentId.length>0&&(this.requestParentId=e.parentId),this.requestParentId.length>0&&(this.dataModel.linkParentId=this.requestParentId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vn.\u0275fac=function(i){return new(i||Vn)(h(ne),h(ie),h(_e),h(kt),h(N),h(L),h(V),h(k))},Vn.\u0275cmp=x({type:Vn,selectors:[["app-sms-main-message-category-add"]],viewQuery:function(i,t){if(i&1&&Z($p,5),i&2){let s;$(s=ee())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:33,vars:35,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",4),M(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),m(4),r(),a(5,"p"),m(6),g(7,"translate"),r(),a(8,"form",8,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(10,eu,1,5,"app-cms-enum-record-status-selector",9)(11,ou,10,8,"div",10),a(12,"div",11)(13,"label",12),m(14),r(),a(15,"textarea",13,1),w("ngModelChange",function(d){return p(s),E(t.dataModel.description,d)||(t.dataModel.description=d),u(d)}),r(),a(17,"em"),m(18),r(),b(19,ru,5,3,"mat-error",14),r(),a(20,"div",15)(21,"a",16),g(22,"cmsthumbnail"),b(23,au,2,4,"img",17),r()(),a(24,"div",11)(25,"label",18),v("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),m(26),g(27,"translate"),r(),a(28,"input",19,2),g(30,"translate"),w("ngModelChange",function(d){return p(s),E(t.dataModel.linkMainImageId,d)||(t.dataModel.linkMainImageId=d),u(d)}),v("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),r(),a(31,"cms-file-manager",20),v("itemSelected",function(d){return p(s),u(t.onActionFileSelected(d))}),w("openFormChange",function(d){return p(s),E(t.fileManagerOpenForm,d)||(t.fileManagerOpenForm=d),u(d)}),r()(),b(32,su,9,7,"div",21),r()()()}if(i&2){let s=R(16);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",_(7,27,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),c("placeholder",F(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),y("ngModel",t.dataModel.description),o(3),C("",s.value.length," / 500"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(2),c("href",F(_(22,29,t.dataModel.linkMainImageIdSrc)),ge),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),A(_(27,31,"TITLE.Icon_File")),o(2),c("placeholder",F(_(30,33,"TITLE.Original_File_ID"))),y("ngModel",t.dataModel.linkMainImageId),o(3),c("language",t.appLanguage)("isPopup",!0),y("openForm",t.fileManagerOpenForm),c("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[G,se,Q,z,re,Se,Pe,Re,te,ae,Ce,J,ce,j,Vt,O,ct],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Uo=Vn;function lu(n,l){if(n&1){let e=I();a(0,"button",13),v("click",function(){p(e);let t=f();return u(t.onActionAdd())}),m(1),g(2,"translate"),r()}n&2&&(o(),A(_(2,1,"ACTION.ADD")))}function du(n,l){if(n&1){let e=I();a(0,"button",14),v("click",function(){p(e);let t=f();return u(t.onActionEdit())}),m(1),g(2,"translate"),r()}n&2&&(o(),A(_(2,1,"ACTION.EDIT")))}function cu(n,l){if(n&1){let e=I();a(0,"button",15),v("click",function(){p(e);let t=f();return u(t.onActionDelete())}),m(1),g(2,"translate"),r()}n&2&&(o(),A(_(2,1,"ACTION.DELETE")))}function mu(n,l){if(n&1){let e=I();a(0,"button",16),v("click",function(){p(e);let t=f();return u(t.onActionButtonReload())}),a(1,"mat-icon",17),g(2,"translate"),m(3,"refresh"),r()()}n&2&&(o(),c("title",F(_(2,2,"ACTION.RELOAD"))))}function pu(n,l){if(n&1){let e=I();a(0,"mat-tree-node",18),v("click",function(){let t=p(e).$implicit,s=f();return u(s.onActionSelect(t))}),M(1,"button",19),m(2),r()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=f();be("ntk-tree-odd",i%2)("ntk-tree-even",!(i%2))("ntk-tree-selected",(t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0&&t.dataModelSelect.id===e.id),o(2),C(" ",e.title," ")}}function uu(n,l){if(n&1){let e=I();a(0,"mat-nested-tree-node")(1,"li")(2,"div",20),v("click",function(){let t=p(e).$implicit,s=f();return u(s.onActionSelect(t))}),a(3,"button",21),v("click",function(){let t=p(e).$implicit,s=f();return u(s.onActionSelect(t))}),a(4,"mat-icon",22),m(5),r()(),m(6),r(),a(7,"ul"),Te(8,23),r()()()}if(n&2){let e=l.$implicit,i=f();o(2),be("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===e.id),o(),Qt("aria-label","Toggle "+e.title),o(2),C(" ",i.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),o(),C(" ",e.title," "),o(),be("category-tree-invisible",!i.treeControl.isExpanded(e))}}var Nn=class Nn{constructor(l,e,i,t,s,S,d,B,q){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=s;this.publicHelper=S;this.tokenHelper=d;this.cmsStoreService=B;this.translate=q;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Mt;this.dataModelResult=new D;this.filterModel=new X;this.treeControl=new mo(l=>l.children);this.dataSource=new Mo;this.optionChange=new We;this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!!e.children&&e.children.length>0;this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){setTimeout(()=>{this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>he(this,null,function*(){this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Mt,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){let l="";this.dataModelSelect&&this.dataModelSelect.id?.length>0&&(l=this.dataModelSelect.id);let e=new Wn;e.disableClose=!0,e.autoFocus=!0,e.data={parentId:l},this.dialog.open(Uo,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(qo,{height:"90%",panelClass:e,enterAnimationDuration:H.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:H.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(jo,{height:"90%",panelClass:e,enterAnimationDuration:H.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:H.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};Nn.\u0275fac=function(e){return new(e||Nn)(h(N),h(_e),h(kt),h(Ie),h(V),h(L),h(Ee),h(ye),h(k))},Nn.\u0275cmp=x({type:Nn,selectors:[["app-sms-main-message-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:15,vars:14,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled",""],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",0),T(1,1),m(2),g(3,"translate"),P(),T(4,2),b(5,lu,3,3,"button",3)(6,du,3,3,"button",4)(7,cu,3,3,"button",5)(8,mu,4,4,"button",6),P(),T(9,7),M(10,"app-progress-spinner",8),a(11,"mat-tree",9),b(12,pu,3,7,"mat-tree-node",10)(13,uu,9,7,"mat-nested-tree-node",11),r(),P(),Te(14,12),r()),e&2&&(c("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),C(" ",_(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),c("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),c("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow)&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),o(2),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("dataSource",i.dataSource)("treeControl",i.treeControl),o(2),c("matTreeNodeDefWhen",i.hasChild))},dependencies:[G,ke,Ae,fo,uo,So,_o,go,po,ho,j,bo,O],encapsulation:2});var Qo=Nn;var Su=()=>[5,10,20,100];function hu(n,l){if(n&1){let e=I();a(0,"div",37)(1,"a",38),v("click",function(){p(e);let t=f();return u(t.onActionButtonNewRow())}),M(2,"i",39)(3,"br"),r(),a(4,"p",40),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.ADD")))}function gu(n,l){if(n&1){let e=I();a(0,"div",37)(1,"a",41),v("click",function(){p(e);let t=f();return u(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",42)(3,"br"),r(),a(4,"p",40),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.EDIT")))}function _u(n,l){if(n&1){let e=I();a(0,"div",37)(1,"a",43),v("click",function(){p(e);let t=f();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",44)(3,"br"),r(),a(4,"p",40),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.DELETE")))}function Mu(n,l){if(n&1&&(a(0,"mat-header-cell",45),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Cu(n,l){if(n&1&&(a(0,"mat-cell"),m(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.id," ")}}function vu(n,l){if(n&1&&(a(0,"mat-header-cell",45),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function bu(n,l){if(n&1&&(a(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),r()),n&2){let e=l.$implicit;o(),C(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function Iu(n,l){if(n&1&&(a(0,"mat-header-cell",45),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Au(n,l){if(n&1&&(a(0,"mat-cell"),M(1,"i",46),g(2,"statusIconClass"),r()),n&2){let e=l.$implicit;o(),c("ngClass",_(2,1,e.recordStatus))}}function yu(n,l){if(n&1&&(a(0,"mat-header-cell",45),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Eu(n,l){if(n&1&&(a(0,"mat-cell"),m(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.title," ")}}function wu(n,l){if(n&1&&(a(0,"mat-header-cell",45),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Tu(n,l){if(n&1&&(a(0,"mat-cell"),m(1),g(2,"localeDate"),r()),n&2){let e=l.$implicit;o(),C(" ",_(2,1,e.createdDate)," ")}}function Pu(n,l){if(n&1&&(a(0,"mat-header-cell",45),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Ru(n,l){if(n&1&&(a(0,"mat-cell"),m(1),g(2,"localeDate"),r()),n&2){let e=l.$implicit;o(),C(" ",_(2,1,e.updatedDate)," ")}}function xu(n,l){n&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),r()),n&2&&(o(),C(" ",_(2,1,"TITLE.OPTION")," "))}function Du(n,l){if(n&1&&(a(0,"mat-cell",47)(1,"button",48)(2,"mat-icon"),m(3,"more_vert"),r()(),M(4,"mat-menu",null,2),r()),n&2){let e=R(5);o(),c("matMenuTriggerFor",e)}}function ku(n,l){n&1&&M(0,"mat-header-row")}function Vu(n,l){if(n&1){let e=I();a(0,"mat-row",49),v("click",function(){let t=p(e).$implicit,s=f();return u(s.onActionTableRowSelect(t))}),r()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=f();be("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Ln=class Ln extends pt{constructor(e,i,t,s,S,d,B,q,Ct,Ut,vt,Yt){super(e,new ni,vt,d,q);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.router=s;this.activatedRoute=S;this.tokenHelper=d;this.cmsStoreService=B;this.translate=q;this.cdr=Ct;this.pageInfo=Ut;this.publicHelper=vt;this.dialog=Yt;this.requestLinkCategoryId="";this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new X;this.categoryModelSelected=new Mt;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["RecordStatus","Title","CreatedDate","UpdatedDate"];this.tabledisplayedColumnsMobileSource=["RecordStatus","Title","CreatedDate","UpdatedDate"];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkCategoryId=this.activatedRoute.snapshot.paramMap.get("LinkCategoryId"),this.optionsSearch.parentMethods={onSubmit:Oe=>this.onSubmitOptionsSearch(Oe)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=U.Descending,this.requestLinkCategoryId&&this.requestLinkCategoryId.length>0){let Oe=new K;Oe.propertyName="LinkCategoryId",Oe.value=this.requestLinkCategoryId,this.filteModelContent.filters.push(Oe)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>he(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ni);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id?.length>0){let t=new K;t.propertyName="LinkCategoryId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){let e=new Wn;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={linkCategoryId:this.categoryModelSelected?.id},this.dialog.open(Wo,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new Wn;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id},this.dialog.open(Ho,i).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let S=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(S,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(S)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(S,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(t,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(B=>{i.set(B,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),S=new K;S.propertyName="RecordStatus",S.value=Ve.Available,s.filters.push(S),this.contentService.ServiceGetCount(s).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(B=>{i.set(B,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new X,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}};Ln.\u0275fac=function(i){return new(i||Ln)(h(hi),h(N),h(Fe),h(qe),h(At),h(Ee),h(ye),h(k),h(V),h(lt),h(L),h(Ie))},Ln.\u0275cmp=x({type:Ln,selectors:[["app-sms-main-message-content-list"]],standalone:!1,features:[W],decls:56,vars:28,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","Title"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let s=I();a(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(d){return p(s),E(t.viewGuideNotice,d)||(t.viewGuideNotice=d),u(d)}),v("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),T(1,4),a(2,"app-sms-main-message-category-tree",5),v("optionChange",function(d){return p(s),u(t.onActionSelectorSelect(d))}),r(),P(),Te(3,6)(4,7),T(5,8),a(6,"a",9),v("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),M(7,"i",10),r(),a(8,"a",9),v("click",function(){return p(s),u(t.onActionButtonReload())}),M(9,"i",11),r(),P(),T(10,12),a(11,"a",13),v("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),M(12,"mat-slide-toggle",14),m(13),g(14,"translate"),r(),a(15,"a",13),v("click",function(){return p(s),u(t.onActionButtonStatist())}),M(16,"mat-slide-toggle",14),m(17),g(18,"translate"),r(),P(),T(19,15),b(20,hu,7,3,"div",16),P(),T(21,17),b(22,gu,7,3,"div",16)(23,_u,7,3,"div",16),P(),T(24,18),a(25,"app-cms-search-list",19),w("optionsChange",function(d){return p(s),E(t.optionsSearch,d)||(t.optionsSearch=d),u(d)}),r(),a(26,"app-cms-statist-list",19),w("optionsChange",function(d){return p(s),E(t.optionsStatist,d)||(t.optionsStatist=d),u(d)}),r(),P(),T(27,20),a(28,"mat-table",21,0),v("matSortChange",function(){p(s);let d=R(29);return u(t.onTableSortData(d))}),T(30,22),b(31,Mu,2,1,"mat-header-cell",23)(32,Cu,2,1,"mat-cell",24),P(),T(33,25),b(34,vu,2,1,"mat-header-cell",23)(35,bu,4,5,"mat-cell",24),P(),T(36,26),b(37,Iu,2,1,"mat-header-cell",23)(38,Au,3,3,"mat-cell",24),P(),T(39,27),b(40,yu,2,1,"mat-header-cell",23)(41,Eu,2,1,"mat-cell",24),P(),T(42,28),b(43,wu,2,1,"mat-header-cell",23)(44,Tu,3,3,"mat-cell",24),P(),T(45,29),b(46,Pu,2,1,"mat-header-cell",23)(47,Ru,3,3,"mat-cell",24),P(),T(48,30),b(49,xu,3,3,"mat-header-cell",31)(50,Du,6,1,"mat-cell",32),P(),b(51,ku,1,0,"mat-header-row",33)(52,Vu,1,6,"mat-row",34),r(),P(),T(53,35),a(54,"mat-paginator",36,1),v("page",function(d){return p(s),u(t.onTablePageingData(d))}),r(),P(),r()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","sms.message.content.list"),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!t.requestLinkCategoryId||t.requestLinkCategoryId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(12),c("checked",t.optionsSearch.data.show),o(),C("",_(14,23,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),C("",_(18,25,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(23),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",He(27,Su)))},dependencies:[je,G,ke,Ae,Qe,ze,Je,Ke,Xe,Ye,Ze,et,ot,tt,$e,rt,it,nt,at,st,ut,ft,St,Qo,si,O,yr,Kt,ht],encapsulation:2});var zo=Ln;var Nu=["vform"];function Lu(n,l){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",28),w("modelChange",function(t){p(e);let s=f();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=f();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Bu(n,l){n&1&&M(0,"i",31)}function Fu(n,l){n&1&&M(0,"i",32)}function Ou(n,l){n&1&&(a(0,"mat-error"),m(1," Title is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function Gu(n,l){if(n&1){let e=I();a(0,"div",12)(1,"label",29),m(2),r(),a(3,"input",30,4),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),r(),b(5,Bu,1,0,"i",15)(6,Fu,1,0,"i",16),a(7,"em"),m(8),r(),b(9,Ou,5,3,"mat-error",17),r()}if(n&2){let e=R(4),i=f();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",F(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.title),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),C("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Wu(n,l){n&1&&M(0,"i",31)}function Hu(n,l){n&1&&M(0,"i",32)}function ju(n,l){n&1&&(a(0,"mat-error"),m(1," ClassName is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function qu(n,l){if(n&1){let e=I();a(0,"div",33)(1,"div",34)(2,"h5",35),m(3),r()(),a(4,"div",36)(5,"div",37)(6,"input",38),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.abilityCreditCheck,t)||(s.dataModel.abilityCreditCheck=t),u(t)}),r(),M(7,"label",39),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.abilityCreditCheck==null?null:e.fieldsInfo.abilityCreditCheck.fieldTitle),o(3),y("ngModel",e.dataModel.abilityCreditCheck)}}function Uu(n,l){if(n&1){let e=I();a(0,"div",33)(1,"div",34)(2,"h5",40),m(3),r()(),a(4,"div",36)(5,"div",37)(6,"input",41),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.abilityDelivery,t)||(s.dataModel.abilityDelivery=t),u(t)}),r(),M(7,"label",42),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.abilityDelivery==null?null:e.fieldsInfo.abilityDelivery.fieldTitle),o(3),y("ngModel",e.dataModel.abilityDelivery)}}function Qu(n,l){if(n&1){let e=I();a(0,"div",33)(1,"div",34)(2,"h5",43),m(3),r()(),a(4,"div",36)(5,"div",37)(6,"input",44),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.abilityReceive,t)||(s.dataModel.abilityReceive=t),u(t)}),r(),M(7,"label",45),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.abilityReceive==null?null:e.fieldsInfo.abilityReceive.fieldTitle),o(3),y("ngModel",e.dataModel.abilityReceive)}}function zu(n,l){n&1&&(a(0,"mat-error"),m(1," Memo is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function Ju(n,l){if(n&1&&(M(0,"img",46),g(1,"cmsthumbnail")),n&2){let e=f();c("src",F(_(1,2,e.dataModel.linkMainImageIdSrc)),ge)}}function Ku(n,l){if(n&1){let e=I();a(0,"div",47)(1,"button",48),v("click",function(){p(e);let t=f();return u(t.onFormCancel())}),M(2,"i",49),m(3),g(4,"translate"),r(),a(5,"button",50),M(6,"i",51),m(7),g(8,"translate"),r()()}if(n&2){f();let e=R(12);o(3),C(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var Bn=class Bn extends dt{constructor(e,i,t,s,S,d,B,q){super(s,new pi,d,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainApiPathPublicConfigService=s;this.cmsToastrService=S;this.publicHelper=d;this.cdr=B;this.translate=q;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new D;this.dataModel=new pi;this.formInfo=new oe;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPublicConfigService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Bn.\u0275fac=function(i){return new(i||Bn)(h(ne),h(ie),h(_e),h(Jt),h(N),h(L),h(V),h(k))},Bn.\u0275cmp=x({type:Bn,selectors:[["app-sms-publicconfig-add"]],viewQuery:function(i,t){if(i&1&&Z(Nu,5),i&2){let s;$(s=ee())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:49,vars:47,consts:[["vform","ngForm"],["ClassName",""],["Memo",""],["LinkMainImageId",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.className",1,"color-highlight"],["matInput","","type","text","name","dataModel.className","placeholder","ClassName","minlength","3","maxlength","100","required","","id","dataModel.className",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.abilityCreditCheck",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.abilityCreditCheck","name","dataModel.abilityCreditCheck",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityCreditCheck",1,"custom-control-label"],["data-trigger-switch","dataModel.abilityDelivery",1,"font-600","font-14"],["type","checkbox","id","dataModel.abilityDelivery","name","dataModel.abilityDelivery",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityDelivery",1,"custom-control-label"],["data-trigger-switch","dataModel.abilityReceive",1,"font-600","font-14"],["type","checkbox","id","dataModel.abilityReceive","name","dataModel.abilityReceive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityReceive",1,"custom-control-label"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",5),M(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),m(4),r(),a(5,"h4"),m(6),g(7,"translate"),r(),a(8,"p"),m(9),g(10,"translate"),r(),a(11,"form",9,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(13,Lu,1,5,"app-cms-enum-record-status-selector",10)(14,Gu,10,8,"div",11),a(15,"div",12)(16,"label",13),m(17),r(),a(18,"input",14,1),w("ngModelChange",function(d){return p(s),E(t.dataModel.className,d)||(t.dataModel.className=d),u(d)}),r(),b(20,Wu,1,0,"i",15)(21,Hu,1,0,"i",16),a(22,"em"),m(23),r(),b(24,ju,5,3,"mat-error",17),r(),b(25,qu,8,2,"div",18)(26,Uu,8,2,"div",18)(27,Qu,8,2,"div",18),a(28,"div",12)(29,"label",19),m(30),r(),a(31,"textarea",20,2),w("ngModelChange",function(d){return p(s),E(t.dataModel.memo,d)||(t.dataModel.memo=d),u(d)}),r(),a(33,"em"),m(34),r(),b(35,zu,5,3,"mat-error",17),r(),a(36,"div",21)(37,"a",22),g(38,"cmsthumbnail"),b(39,Ju,2,4,"img",23),r()(),a(40,"div",12)(41,"label",24),v("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),m(42),g(43,"translate"),r(),a(44,"input",25,3),g(46,"translate"),w("ngModelChange",function(d){return p(s),E(t.dataModel.linkMainImageId,d)||(t.dataModel.linkMainImageId=d),u(d)}),v("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),r(),a(47,"cms-file-manager",26),v("itemSelected",function(d){return p(s),u(t.onActionFileSelected(d))}),w("openFormChange",function(d){return p(s),E(t.fileManagerOpenForm,d)||(t.fileManagerOpenForm=d),u(d)}),r()(),b(48,Ku,9,7,"div",27),r()()()}if(i&2){let s=R(19),S=R(32);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),A(_(7,37,"TITLE.BASIC_SERVICE_SETTINGS")),o(3),C(" ",_(10,39,"TITLE.BASIC_SERVICE_SETTINGS_DESCRIPTION")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),y("ngModel",t.dataModel.className),o(2),c("ngIf",!s.value),o(),c("ngIf",s.value),o(2),C("",s.value.length," / 100"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(),c("ngIf",t.fieldsInfo.abilityCreditCheck==null?null:t.fieldsInfo.abilityCreditCheck.accessWatchField),o(),c("ngIf",t.fieldsInfo.abilityDelivery==null?null:t.fieldsInfo.abilityDelivery.accessWatchField),o(),c("ngIf",t.fieldsInfo.abilityReceive==null?null:t.fieldsInfo.abilityReceive.accessWatchField),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),c("placeholder",F(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),y("ngModel",t.dataModel.memo),o(3),C("",S.value.length," / 500"),o(),c("ngIf",S.errors==null?null:S.errors.required),o(2),c("href",F(_(38,41,t.dataModel.linkMainImageIdSrc)),ge),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),A(_(43,43,"TITLE.Icon_File")),o(2),c("placeholder",F(_(46,45,"TITLE.Original_File_ID"))),y("ngModel",t.dataModel.linkMainImageId),o(3),c("language",t.appLanguage)("isPopup",!0),y("openForm",t.fileManagerOpenForm),c("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[G,se,Q,ve,z,re,Se,Pe,Re,te,ae,Ce,J,ce,j,Vt,O,ct],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Jo=Bn;var Xu=["vform"];function Yu(n,l){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",29),w("modelChange",function(t){p(e);let s=f();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=f();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Zu(n,l){n&1&&M(0,"i",32)}function $u(n,l){n&1&&M(0,"i",33)}function e0(n,l){n&1&&(a(0,"mat-error"),m(1," Title is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function t0(n,l){if(n&1){let e=I();a(0,"div",12)(1,"label",30),m(2),r(),a(3,"input",31,4),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),r(),b(5,Zu,1,0,"i",15)(6,$u,1,0,"i",16),a(7,"em"),m(8),r(),b(9,e0,5,3,"mat-error",17),r()}if(n&2){let e=R(4),i=f();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",F(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.title),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),C("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function i0(n,l){n&1&&M(0,"i",32)}function n0(n,l){n&1&&M(0,"i",33)}function o0(n,l){n&1&&(a(0,"mat-error"),m(1," ClassName is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function r0(n,l){if(n&1){let e=I();a(0,"div",34)(1,"div",35)(2,"h5",36),m(3),r()(),a(4,"div",37)(5,"div",38)(6,"input",39),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.abilityCreditCheck,t)||(s.dataModel.abilityCreditCheck=t),u(t)}),r(),M(7,"label",40),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.abilityCreditCheck==null?null:e.fieldsInfo.abilityCreditCheck.fieldTitle),o(3),y("ngModel",e.dataModel.abilityCreditCheck)}}function a0(n,l){if(n&1){let e=I();a(0,"div",34)(1,"div",35)(2,"h5",41),m(3),r()(),a(4,"div",37)(5,"div",38)(6,"input",42),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.abilityDelivery,t)||(s.dataModel.abilityDelivery=t),u(t)}),r(),M(7,"label",43),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.abilityDelivery==null?null:e.fieldsInfo.abilityDelivery.fieldTitle),o(3),y("ngModel",e.dataModel.abilityDelivery)}}function s0(n,l){if(n&1){let e=I();a(0,"div",34)(1,"div",35)(2,"h5",44),m(3),r()(),a(4,"div",37)(5,"div",38)(6,"input",45),w("ngModelChange",function(t){p(e);let s=f();return E(s.dataModel.abilityReceive,t)||(s.dataModel.abilityReceive=t),u(t)}),r(),M(7,"label",46),r()()()}if(n&2){let e=f();o(3),C(" ",e.fieldsInfo.abilityReceive==null?null:e.fieldsInfo.abilityReceive.fieldTitle),o(3),y("ngModel",e.dataModel.abilityReceive)}}function l0(n,l){n&1&&(a(0,"mat-error"),m(1," Memo is "),a(2,"strong"),m(3),g(4,"translate"),r()()),n&2&&(o(3),A(_(4,1,"MESSAGE.required")))}function d0(n,l){if(n&1&&(M(0,"img",47),g(1,"cmsthumbnail")),n&2){let e=f();c("src",F(_(1,2,e.dataModel.linkMainImageIdSrc)),ge)}}function c0(n,l){if(n&1){let e=I();a(0,"div",48)(1,"button",49),v("click",function(){p(e);let t=f();return u(t.onFormCancel())}),M(2,"i",50),m(3),g(4,"translate"),r(),a(5,"button",51),M(6,"i",52),m(7),g(8,"translate"),r()()}if(n&2){f();let e=R(12);o(3),C(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var Fn=class Fn extends mt{constructor(e,i,t,s,S,d,B,q){super(s,new pi,d,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainApiPathPublicConfigService=s;this.cmsToastrService=S;this.publicHelper=d;this.cdr=B;this.translate=q;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ue;this.dataModel=new hr;this.formInfo=new oe;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPublicConfigService.setAccessLoad(),this.smsMainApiPathPublicConfigService.setAccessDataType(Ne.Editor),this.smsMainApiPathPublicConfigService.ServiceGetOneWithJsonFormatter(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPublicConfigService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Fn.\u0275fac=function(i){return new(i||Fn)(h(ne),h(ie),h(_e),h(Jt),h(N),h(L),h(V),h(k))},Fn.\u0275cmp=x({type:Fn,selectors:[["app-sms-publicconfig-edit"]],viewQuery:function(i,t){if(i&1&&Z(Xu,5),i&2){let s;$(s=ee())&&(t.formGroup=s.first)}},standalone:!1,features:[W],decls:50,vars:50,consts:[["vform","ngForm"],["ClassName",""],["Memo",""],["LinkMainImageId",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.className",1,"color-highlight"],["matInput","","type","text","name","dataModel.className","placeholder","ClassName","minlength","3","maxlength","100","required","","id","dataModel.className",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"jsonValueChange","formGroup","jsonValue","propertiesInfos"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.abilityCreditCheck",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.abilityCreditCheck","name","dataModel.abilityCreditCheck",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityCreditCheck",1,"custom-control-label"],["data-trigger-switch","dataModel.abilityDelivery",1,"font-600","font-14"],["type","checkbox","id","dataModel.abilityDelivery","name","dataModel.abilityDelivery",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityDelivery",1,"custom-control-label"],["data-trigger-switch","dataModel.abilityReceive",1,"font-600","font-14"],["type","checkbox","id","dataModel.abilityReceive","name","dataModel.abilityReceive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityReceive",1,"custom-control-label"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",5),M(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),m(4),r(),a(5,"h4"),m(6),g(7,"translate"),r(),a(8,"p"),m(9),g(10,"translate"),r(),a(11,"form",9,0),v("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),b(13,Yu,1,5,"app-cms-enum-record-status-selector",10)(14,t0,10,8,"div",11),a(15,"div",12)(16,"label",13),m(17),r(),a(18,"input",14,1),w("ngModelChange",function(d){return p(s),E(t.dataModel.className,d)||(t.dataModel.className=d),u(d)}),r(),b(20,i0,1,0,"i",15)(21,n0,1,0,"i",16),a(22,"em"),m(23),r(),b(24,o0,5,3,"mat-error",17),r(),b(25,r0,8,2,"div",18)(26,a0,8,2,"div",18)(27,s0,8,2,"div",18),a(28,"dynamic-form-builder-cms",19),w("jsonValueChange",function(d){return p(s),E(t.dataModel.publicConfigJsonValues,d)||(t.dataModel.publicConfigJsonValues=d),u(d)}),r(),a(29,"div",12)(30,"label",20),m(31),r(),a(32,"textarea",21,2),w("ngModelChange",function(d){return p(s),E(t.dataModel.memo,d)||(t.dataModel.memo=d),u(d)}),r(),a(34,"em"),m(35),r(),b(36,l0,5,3,"mat-error",17),r(),a(37,"div",22)(38,"a",23),g(39,"cmsthumbnail"),b(40,d0,2,4,"img",24),r()(),a(41,"div",12)(42,"label",25),v("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),m(43),g(44,"translate"),r(),a(45,"input",26,3),g(47,"translate"),w("ngModelChange",function(d){return p(s),E(t.dataModel.linkMainImageId,d)||(t.dataModel.linkMainImageId=d),u(d)}),v("click",function(){return p(s),u(t.fileManagerOpenForm=!0)}),r(),a(48,"cms-file-manager",27),v("itemSelected",function(d){return p(s),u(t.onActionFileSelected(d))}),w("openFormChange",function(d){return p(s),E(t.fileManagerOpenForm,d)||(t.fileManagerOpenForm=d),u(d)}),r()(),b(49,c0,9,7,"div",28),r()()()}if(i&2){let s=R(12),S=R(19),d=R(33);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),A(_(7,40,"TITLE.BASIC_SERVICE_SETTINGS")),o(3),C(" ",_(10,42,"TITLE.BASIC_SERVICE_SETTINGS_DESCRIPTION")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),y("ngModel",t.dataModel.className),o(2),c("ngIf",!S.value),o(),c("ngIf",S.value),o(2),C("",S.value.length," / 100"),o(),c("ngIf",S.errors==null?null:S.errors.required),o(),c("ngIf",t.fieldsInfo.abilityCreditCheck==null?null:t.fieldsInfo.abilityCreditCheck.accessWatchField),o(),c("ngIf",t.fieldsInfo.abilityDelivery==null?null:t.fieldsInfo.abilityDelivery.accessWatchField),o(),c("ngIf",t.fieldsInfo.abilityReceive==null?null:t.fieldsInfo.abilityReceive.accessWatchField),o(),c("formGroup",s.form),y("jsonValue",t.dataModel.publicConfigJsonValues),c("propertiesInfos",t.dataModel.publicConfigJsonFormatter),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),c("placeholder",F(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),y("ngModel",t.dataModel.memo),o(3),C("",d.value.length," / 500"),o(),c("ngIf",d.errors==null?null:d.errors.required),o(2),c("href",F(_(39,44,t.dataModel.linkMainImageIdSrc)),ge),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),A(_(44,46,"TITLE.Icon_File")),o(2),c("placeholder",F(_(47,48,"TITLE.Original_File_ID"))),y("ngModel",t.dataModel.linkMainImageId),o(3),c("language",t.appLanguage)("isPopup",!0),y("openForm",t.fileManagerOpenForm),c("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[G,se,Q,ve,z,re,Se,Pe,Re,te,ae,dr,Ce,J,ce,j,Vt,wr,O,ct],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Ko=Fn;var m0=()=>[5,10,20,100];function p0(n,l){if(n&1){let e=I();a(0,"div",17)(1,"a",41),v("click",function(){p(e);let t=f();return u(t.onActionButtonNewRow())}),M(2,"i",42)(3,"br"),r(),a(4,"p",20),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.ADD")))}function u0(n,l){if(n&1){let e=I();a(0,"div",17)(1,"a",41),v("click",function(){p(e);let t=f();return u(t.onActionButtonNewRowAuto())}),M(2,"i",42)(3,"br"),r(),a(4,"p",20),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.AUTOADD")))}function f0(n,l){if(n&1){let e=I();a(0,"div",17)(1,"a",43),v("click",function(){p(e);let t=f();return u(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",44)(3,"br"),r(),a(4,"p",20),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.EDIT")))}function S0(n,l){if(n&1){let e=I();a(0,"div",17)(1,"a",45),v("click",function(){p(e);let t=f();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",46)(3,"br"),r(),a(4,"p",20),m(5),g(6,"translate"),r()()}n&2&&(o(5),A(_(6,1,"ACTION.DELETE")))}function h0(n,l){n&1&&(a(0,"mat-header-cell",47),m(1),g(2,"translate"),r()),n&2&&(o(),C(" ",_(2,1,"TITLE.PICTURE")," "))}function g0(n,l){if(n&1&&M(0,"img",49),n&2){let e=f().$implicit;c("src",F(e.linkMainImageIdSrc),ge)}}function _0(n,l){if(n&1&&(a(0,"mat-cell"),b(1,g0,1,2,"img",48),r()),n&2){let e=l.$implicit;o(),c("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function M0(n,l){if(n&1&&(a(0,"mat-header-cell",47),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function C0(n,l){if(n&1&&(a(0,"mat-cell"),m(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.id," ")}}function v0(n,l){if(n&1&&(a(0,"mat-header-cell",47),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function b0(n,l){if(n&1&&(a(0,"mat-cell",50),g(1,"statusCellClass"),M(2,"i",50),g(3,"statusIconClass"),r()),n&2){let e=l.$implicit;c("ngClass",_(1,2,e.recordStatus)),o(2),c("ngClass",_(3,4,e.recordStatus))}}function I0(n,l){if(n&1&&(a(0,"mat-header-cell",47),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function A0(n,l){if(n&1&&(a(0,"mat-cell"),m(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.title," ")}}function y0(n,l){if(n&1&&(a(0,"mat-header-cell",47),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.className==null?null:e.fieldsInfo.className.fieldTitle," ")}}function E0(n,l){if(n&1&&(a(0,"mat-cell"),m(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.className," ")}}function w0(n,l){if(n&1&&(a(0,"mat-header-cell",47),m(1),r()),n&2){let e=f();o(),C(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function T0(n,l){if(n&1&&(a(0,"mat-cell"),m(1),g(2,"localeDate"),r()),n&2){let e=l.$implicit;o(),C(" ",_(2,1,e.updatedDate)," ")}}function P0(n,l){n&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),r()),n&2&&(o(),C(" ",_(2,1,"TITLE.OPTION")," "))}function R0(n,l){if(n&1&&(a(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),m(3,"more_vert"),r()(),M(4,"mat-menu",null,2),r()),n&2){let e=R(5);o(),c("matMenuTriggerFor",e)}}function x0(n,l){n&1&&M(0,"mat-header-row")}function D0(n,l){if(n&1){let e=I();a(0,"mat-row",53),v("click",function(){let t=p(e).$implicit,s=f();return u(s.onActionTableRowSelect(t))}),r()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=f();be("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var On=class On extends pt{constructor(e,i,t,s,S,d,B,q,Ct,Ut,vt,Yt){super(e,new pi,vt,B,Ct);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.coreCurrencyService=s;this.cmsStoreService=S;this.router=d;this.tokenHelper=B;this.cdr=q;this.translate=Ct;this.pageInfo=Ut;this.publicHelper=vt;this.dialog=Yt;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new X;this.dataModelCoreCurrencyResult=new D;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","RecordStatus","ClassName","UpdatedDate"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","RecordStatus","ClassName","UpdatedDate"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Oe=>this.onSubmitOptionsSearch(Oe)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>he(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})),this.getCurrency()}getCurrency(){let e=new X;e.rowPerPage=100,this.coreCurrencyService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreCurrencyResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new pi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Jo,{height:"90%",panelClass:e,enterAnimationDuration:H.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:H.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ko,{height:"90%",panelClass:i,enterAnimationDuration:H.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:H.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let S=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(S,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(S)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(S,!1)}})}}).catch(()=>{})}onActionButtonNewRowAuto(){let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.ServiceAutoAdd().subscribe({next:i=>{i.isSuccess?(this.cmsToastrService.typeSuccessAdd(),this.DataGetAll()):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(t,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(B=>{i.set(B,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),S=new K;S.propertyName="RecordStatus",S.value=Ve.Available,s.filters.push(S),this.contentService.ServiceGetCount(s).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(B=>{i.set(B,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPrivateList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path/list/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}};On.\u0275fac=function(i){return new(i||On)(h(Jt),h(N),h(Fe),h(fr),h(ye),h(qe),h(Ee),h(V),h(k),h(lt),h(L),h(Ie))},On.\u0275cmp=x({type:On,selectors:[["app-sms-publicconfig-list"]],standalone:!1,features:[W],decls:64,vars:32,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","ClassName"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let s=I();a(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(d){return p(s),E(t.viewGuideNotice,d)||(t.viewGuideNotice=d),u(d)}),v("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),T(1,4),m(2," -------------------------------------- "),P(),Te(3,5)(4,6),T(5,7),a(6,"a",8),v("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),M(7,"i",9),r(),a(8,"a",8),v("click",function(){return p(s),u(t.onActionButtonReload())}),M(9,"i",10),r(),P(),T(10,11),a(11,"a",12),v("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),M(12,"mat-slide-toggle",13),m(13),g(14,"translate"),r(),a(15,"a",12),v("click",function(){return p(s),u(t.onActionButtonStatist())}),M(16,"mat-slide-toggle",13),m(17),g(18,"translate"),r(),P(),T(19,14),b(20,p0,7,3,"div",15)(21,u0,7,3,"div",15),P(),T(22,16),b(23,f0,7,3,"div",15)(24,S0,7,3,"div",15),a(25,"div",17)(26,"a",18),v("click",function(){return p(s),u(t.onActionButtonPrivateList(t.tableRowSelected))}),M(27,"i",19)(28,"br"),r(),a(29,"p",20),m(30),g(31,"translate"),r()(),P(),T(32,21),a(33,"app-cms-search-list",22),w("optionsChange",function(d){return p(s),E(t.optionsSearch,d)||(t.optionsSearch=d),u(d)}),r(),a(34,"app-cms-statist-list",22),w("optionsChange",function(d){return p(s),E(t.optionsStatist,d)||(t.optionsStatist=d),u(d)}),r(),P(),T(35,23),a(36,"mat-table",24,0),v("matSortChange",function(){p(s);let d=R(37);return u(t.onTableSortData(d))}),T(38,25),b(39,h0,3,3,"mat-header-cell",26)(40,_0,2,1,"mat-cell",27),P(),T(41,28),b(42,M0,2,1,"mat-header-cell",26)(43,C0,2,1,"mat-cell",27),P(),T(44,29),b(45,v0,2,1,"mat-header-cell",26)(46,b0,4,6,"mat-cell",30),P(),T(47,31),b(48,I0,2,1,"mat-header-cell",26)(49,A0,2,1,"mat-cell",27),P(),T(50,32),b(51,y0,2,1,"mat-header-cell",26)(52,E0,2,1,"mat-cell",27),P(),T(53,33),b(54,w0,2,1,"mat-header-cell",26)(55,T0,3,3,"mat-cell",27),P(),T(56,34),b(57,P0,3,3,"mat-header-cell",35)(58,R0,6,1,"mat-cell",36),P(),b(59,x0,1,0,"mat-header-row",37)(60,D0,1,6,"mat-row",38),r(),P(),T(61,39),a(62,"mat-paginator",40,1),v("page",function(d){return p(s),u(t.onTablePageingData(d))}),r(),P(),r()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(12),c("checked",t.optionsSearch.data.show),o(),C("",_(14,25,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),C("",_(18,27,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),A(_(31,29,"ACTION.ROUTES")),o(3),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(23),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",He(31,m0)))},dependencies:[je,G,ke,Ae,Qe,ze,Je,Ke,Xe,Ye,Ze,et,ot,tt,$e,rt,it,nt,at,st,ut,ft,St,O,Kt,ht,_t],encapsulation:2});var Xo=On;var Gn=class Gn{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};Gn.\u0275fac=function(e){return new(e||Gn)},Gn.\u0275cmp=x({type:Gn,selectors:[["app-sms-main"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&M(0,"router-outlet")},dependencies:[pr],encapsulation:2});var Yo=Gn;var k0=[{path:"",component:Yo,children:[{path:"api-path-company",component:Do},{path:"publicconfig",component:Xo},{path:"api-path",component:ki},{path:"api-path/list",component:ki},{path:"api-path/list/LinkCompanyId/:LinkCompanyId",component:ki},{path:"api-path/list/LinkPublicConfigId/:LinkPublicConfigId",component:ki},{path:"api-path/list/LinkSiteId/:LinkSiteId",component:ki},{path:"api-path/edit/:Id",component:Pr},{path:"api-path-permission",component:Xn},{path:"api-path-permission/LinkApiPathId/:LinkApiPathId",component:Xn},{path:"api-path-price-service",component:Zn},{path:"api-path-price-service/LinkApiPathId/:LinkApiPathId",component:Zn},{path:"api-number",component:zn},{path:"api-number/LinkApiPathId/:LinkApiPathId",component:zn},{path:"api-number-permission",component:Qn},{path:"api-number-permission/LinkApiNumberId/:LinkApiNumberId",component:Qn},{path:"customer-credit",component:Go},{path:"message",component:zo}]}],Li=class Li{};Li.\u0275fac=function(e){return new(e||Li)},Li.\u0275mod=eo({type:Li}),Li.\u0275inj=$n({imports:[er.forChild(k0),er]});var Zo=Li;var Bi=class Bi{};Bi.\u0275fac=function(e){return new(e||Bi)},Bi.\u0275mod=eo({type:Bi}),Bi.\u0275inj=$n({providers:[Sr,_e,xe,Fe,gr,Pt,xt,ui,fi,Jt,Dt,lo,Si,hi,kt],imports:[sr,Zo,cr,mr.withConfig({warnOnNgModelWithFormControl:"never"}),Cr,br,Mr,Tr,Ir,Rr]});var Lr=Bi;export{Zi as a,Ht as b,Pn as c,Lr as d};
