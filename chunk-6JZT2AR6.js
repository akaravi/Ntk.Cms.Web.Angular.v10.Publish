import{a as vi}from"./chunk-M4XQJGA2.js";import{a as Ze}from"./chunk-GNSR22JE.js";import{a as Tt}from"./chunk-NEXPSZBM.js";import{a as lt}from"./chunk-6H2ZLIBY.js";import{a as st}from"./chunk-66FFHBGB.js";import{a as Ye}from"./chunk-U66SL2LY.js";import{a as ht}from"./chunk-5ENU7LZD.js";import{a as St}from"./chunk-RCR3K54D.js";import{a as ut}from"./chunk-WB3CNXMO.js";import{a as ft}from"./chunk-KEGKJLVW.js";import{c as Je,d as Ke,e as $e,g as Xe}from"./chunk-MAVXMDV6.js";import{a as rt}from"./chunk-AGSOMTCP.js";import{a as at}from"./chunk-UIDFAJWA.js";import{a as Qe,c as ze}from"./chunk-FHBGYUMC.js";import{a as pt}from"./chunk-R5NY4CBC.js";import{a as _e}from"./chunk-5G4DA27I.js";import{a as ee}from"./chunk-RDV4OOWU.js";import{b as qe,d as nt,f as F}from"./chunk-PPFEGQ6M.js";import{$b as He,Aa as ao,E as Ci,F as hi,Gb as ye,H as _i,Ha as X,Hb as Re,Ia as Y,Ja as we,Kb as De,Mb as xe,Nb as Le,Nc as N,O as Vo,Ob as Ue,Oc as H,P as Oo,Pa as Ee,R as gi,Rc as Ho,U as oo,Vb as Be,Wb as Ve,Xb as Oe,Yb as Pe,Zb as Ge,_b as Ne,ac as Fe,bc as je,cc as We,eb as O,ma as he,n as io,o as ui,oa as Me,pc as P,qc as G,r as fi,s as Lo,u as Uo,w as Si,x as Bo,ya as no,za as ro}from"./chunk-I2C44L4V.js";import{$e as vt,$f as Gt,Aa as gt,Ab as J,Bb as K,Cb as $,Ea as n,Fd as Ae,Gb as q,Gc as tt,Hc as pi,Hd as x,Ib as ge,Ic as V,Ja as u,Lb as m,Ld as it,Mb as ct,Mc as dt,Nb as d,Oa as L,Ob as di,Oc as Te,Od as wt,Oe as Et,Pa as to,Pd as R,Pe as At,Qe as kt,Rb as A,Sa as z,Sb as k,Tb as y,Td as j,Ua as T,Uc as xo,Ud as ke,Uf as Lt,Vd as Z,Vf as Ut,We as yt,Wf as Bt,X as eo,Xe as Rt,Xf as Vt,Yb as ve,Ye as Dt,Yf as _t,Zb as Ce,Ze as xt,Zf as Ot,_f as Pt,ac as S,ae as Q,ag as ot,bc as g,ca as h,cc as re,da as _,ee as Go,hb as p,ib as s,jb as r,kb as v,ob as I,od as Ie,oe as No,pb as b,pd as Po,qb as oe,qd as be,qq as W,rb as w,tc as B,ub as M,wb as f,wd as Do}from"./chunk-DNWUFWKW.js";import{i as U}from"./chunk-SEDBTTTN.js";var Qo=["vform"];function zo(i,a){if(i&1){let e=w();s(0,"app-cms-enum-record-status-selector",7),y("modelChange",function(t){h(e);let c=f();return k(c.dataModel.recordStatus,t)||(c.dataModel.recordStatus=t),_(t)}),r()}if(i&2){let e=f();A("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Jo(i,a){if(i&1){let e=w();s(0,"div",8)(1,"button",9),M("click",function(){h(e);let t=f();return _(t.onFormCancel())}),v(2,"i",10),m(3),S(4,"translate"),r()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var Ti=class Ti extends rt{constructor(e,o,t,c,C,l,D,ie,te,se){super(c,new Pt,se,te);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenActivationService=c;this.cmsToastrService=C;this.tokenHelper=l;this.cmsStoreService=D;this.cdr=ie;this.translate=te;this.publicHelper=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new R;this.dataModel=new Pt;this.formInfo=new Z;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>U(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.setAccessDataType(it.Editor),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ti.\u0275fac=function(o){return new(o||Ti)(u(Y),u(X),u(Q),u(yt),u(H),u(N),u(O),u(B),u(P),u(F))},Ti.\u0275cmp=L({type:Ti,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&J(Qo,5),o&2){let c;K(c=$())&&(t.formGroup=c.first)}},standalone:!1,features:[z],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(s(0,"div",0),v(1,"app-progress-spinner",1),s(2,"div",2)(3,"p",3),m(4),r(),s(5,"p"),m(6),S(7,"translate"),r(),T(8,zo,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),S(10,"translate"),v(11,"app-cms-user-selector",5),S(12,"translate"),T(13,Jo,5,3,"div",6),r()()),o&2&&(n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),d(" ",t.formInfo.formTitle," "),n(2),d(" ",g(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",g(10,13,"TITLE.WEBSITE")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",g(12,15,"TITLE.USER")),n(2),p("ngIf",t.formInfo.formSubmitAllow))},dependencies:[V,at,pt,st,ee,G],encapsulation:2});var so=Ti;var Ko=["vform"];function $o(i,a){if(i&1){let e=w();s(0,"div",5)(1,"button",10),M("click",function(){h(e);let t=f();return _(t.onFormCancel())}),v(2,"i",11),m(3),S(4,"translate"),r()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var bi=class bi{constructor(a,e,o,t,c,C,l,D,ie,te){this.data=a;this.dialogRef=e;this.coreEnumService=o;this.coreTokenActivationService=t;this.cmsToastrService=c;this.tokenHelper=C;this.cmsStoreService=l;this.cdr=D;this.publicHelper=ie;this.translate=te;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new ot;this.dataModelResult=new R;this.dataModel=new Pt;this.formInfo=new Z;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("aaaaaaaaaTITLE.VIEWaaaaa").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>U(this,null,function*(){this.tokenInfo=a}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};bi.\u0275fac=function(e){return new(e||bi)(u(Y),u(X),u(Q),u(yt),u(H),u(N),u(O),u(B),u(F),u(P))},bi.\u0275cmp=L({type:bi,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&J(Ko,5),e&2){let t;K(t=$())&&(o.formGroup=t.first)}},standalone:!1,decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(s(0,"div",0),m(1),r(),s(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),s(5,"div",4)(6,"div",5)(7,"small",6),m(8),r(),s(9,"small",7),m(10),r()()(),s(11,"div",8),T(12,$o,5,3,"div",9),r()),e&2&&(n(),d(" ",o.formInfo.formTitle," "),n(2),p("optionsInfoAreaId",o.constructorInfoAreaId),n(),p("dataModel",o.dataModel)("optionMethod",1),n(4),d("",o.formInfo.formAlert," "),n(2),d("",o.formInfo.formError," "),n(2),p("ngIf",o.formInfo.formSubmitAllow))},dependencies:[V,ee,lt,G],encapsulation:2});var lo=bi;var Xo=()=>[5,10,20,100],Yo=i=>({display:i}),Zo=i=>({background:i});function en(i,a){if(i&1){let e=w();s(0,"a",51),M("click",function(){h(e);let t=f();return _(t.onActionBackToParent())}),v(1,"i",52),r()}}function tn(i,a){if(i&1){let e=w();s(0,"div",18)(1,"a",53),M("click",function(){h(e);let t=f();return _(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",54)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.EDIT")," "))}function on(i,a){if(i&1){let e=w();s(0,"div",18)(1,"a",55),M("click",function(){h(e);let t=f();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",56)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.DELETE")," "))}function nn(i,a){if(i&1){let e=w();s(0,"div",18)(1,"a",57),M("click",function(){h(e);let t=f();return _(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",58)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.VIEW")," "))}function rn(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function an(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),d(" ",e.id," ")}}function sn(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ln(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function cn(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function mn(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function dn(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function pn(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),d(" ",e.linkMemberUserId," ")}}function un(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function fn(i,a){if(i&1&&v(0,"select",62),i&2){let e=f().$implicit,o=f();p("contentService",o.contentService)("row",e)("ngStyle",Ce(3,Yo,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Sn(i,a){if(i&1&&(s(0,"mat-cell",60),S(1,"statusCellClass"),v(2,"i",60),S(3,"statusIconClass"),T(4,fn,1,5,"select",61),r()),i&2){let e=a.$implicit,o=f();p("ngClass",g(1,3,e.recordStatus)),n(2),p("ngClass",g(3,5,e.recordStatus)),n(2),p("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function Cn(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function hn(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=f();n(),d(" ",re(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function _n(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function gn(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=f();n(),d(" ",re(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function vn(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Tn(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),p("ngClass",g(2,1,e.userAccessAdminAllowToAllData))}}function In(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function bn(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),p("ngClass",g(2,1,e.userAccessAdminAllowToProfessionalData))}}function Mn(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function wn(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),p("ngClass",g(2,1,e.rememberOnDevice))}}function En(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function An(i,a){if(i&1&&(s(0,"mat-cell",63),m(1),S(2,"localeDateTime"),r()),i&2){let e=a.$implicit;n(),d(" ",g(2,1,e.createdDate)," ")}}function kn(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function yn(i,a){if(i&1&&(s(0,"mat-cell",64),m(1),S(2,"persianDate"),r()),i&2){let e=a.$implicit,o=f();p("ngStyle",Ce(4,Zo,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),d(" ",g(2,2,e.expireDate)," ")}}function Rn(i,a){i&1&&(s(0,"mat-header-cell"),m(1),S(2,"translate"),r()),i&2&&(n(),d(" ",g(2,1,"TITLE.OPTION")," "))}function Dn(i,a){if(i&1&&(s(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),r()(),v(4,"mat-menu",null,2),r()),i&2){let e=q(5);n(),p("matMenuTriggerFor",e)}}function xn(i,a){i&1&&v(0,"mat-header-row")}function Ln(i,a){if(i&1){let e=w();s(0,"mat-row",67),M("click",function(){let t=h(e).$implicit,c=f();return _(c.onActionTableRowSelect(t))}),r()}if(i&2){let e=a.$implicit,o=f();ge("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Mi=class Mi extends Je{constructor(e,o,t,c,C,l,D,ie,te,se,et,It){super(e,new Pt,et,C,D);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=c;this.tokenHelper=C;this.cdr=l;this.translate=D;this.cmsStoreService=ie;this.router=te;this.pageInfo=se;this.publicHelper=et;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ke;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new j;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new j;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new j;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=x.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>U(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Pt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(lo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(so,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(C,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{o.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{o.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),C=new j;C.propertyName="RecordStatus",C.value=Ae.Available,c.filters.push(C),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Mi.\u0275fac=function(o){return new(o||Mi)(u(yt),u(H),u(_e),u(Ie),u(N),u(B),u(P),u(O),u(be),u(qe),u(F),u(we))},Mi.\u0275cmp=L({type:Mi,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[z],decls:88,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click"]],template:function(o,t){if(o&1){let c=w();s(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(l){return h(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),_(l)}),M("optionOnActionButtonMemoRow",function(){return h(c),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),_(t.onActionButtonPrintRow())}),I(1,4),m(2," -------------------------------------- "),b(),oe(3,5)(4,6),I(5,7),T(6,en,2,0,"a",8),s(7,"a",9),M("click",function(){return h(c),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),r(),s(9,"a",9),M("click",function(){return h(c),_(t.onActionButtonReload())}),v(10,"i",11),r(),b(),I(11,12),s(12,"a",13),M("click",function(){return h(c),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),r(),s(16,"a",13),M("click",function(){return h(c),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",14),m(18),S(19,"translate"),r(),b(),oe(20,15),I(21,16),T(22,tn,7,3,"div",17)(23,on,7,3,"div",17),s(24,"div",18)(25,"a",19),M("click",function(){return h(c),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(26,"i",20),r(),s(27,"p",21),m(28),S(29,"translate"),r()(),s(30,"div",18)(31,"a",19),M("click",function(){return h(c),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(32,"i",22)(33,"br"),r(),s(34,"p",21),m(35),S(36,"translate"),r()(),T(37,nn,7,3,"div",17),b(),I(38,23),s(39,"app-cms-search-list",24),y("optionsChange",function(l){return h(c),k(t.optionsSearch,l)||(t.optionsSearch=l),_(l)}),r(),s(40,"app-cms-statist-list",24),y("optionsChange",function(l){return h(c),k(t.optionsStatist,l)||(t.optionsStatist=l),_(l)}),r(),b(),I(41,25),s(42,"mat-table",26,0),M("matSortChange",function(){h(c);let l=q(43);return _(t.onTableSortData(l))}),I(44,27),T(45,rn,2,1,"mat-header-cell",28)(46,an,2,1,"mat-cell",29),b(),I(47,30),T(48,sn,2,1,"mat-header-cell",28)(49,ln,4,5,"mat-cell",29),b(),I(50,31),T(51,cn,2,1,"mat-header-cell",28)(52,mn,4,5,"mat-cell",29),b(),I(53,32),T(54,dn,2,1,"mat-header-cell",28)(55,pn,2,1,"mat-cell",29),b(),I(56,33),T(57,un,2,1,"mat-header-cell",28)(58,Sn,5,7,"mat-cell",34),b(),I(59,35),T(60,Cn,2,1,"mat-header-cell",28)(61,hn,3,4,"mat-cell",29),b(),I(62,36),T(63,_n,2,1,"mat-header-cell",28)(64,gn,3,4,"mat-cell",29),b(),I(65,37),T(66,vn,2,1,"mat-header-cell",28)(67,Tn,3,3,"mat-cell",29),b(),I(68,38),T(69,In,2,1,"mat-header-cell",28)(70,bn,3,3,"mat-cell",29),b(),I(71,39),T(72,Mn,2,1,"mat-header-cell",28)(73,wn,3,3,"mat-cell",29),b(),I(74,40),T(75,En,2,1,"mat-header-cell",28)(76,An,3,3,"mat-cell",41),b(),I(77,42),T(78,kn,2,1,"mat-header-cell",28)(79,yn,3,6,"mat-cell",43),b(),I(80,44),T(81,Rn,3,3,"mat-header-cell",45)(82,Dn,6,1,"mat-cell",46),b(),T(83,xn,1,0,"mat-header-row",47)(84,Ln,1,2,"mat-row",48),r(),b(),I(85,49),s(86,"mat-paginator",50,1),M("page",function(l){return h(c),_(t.onTablePageingData(l))}),r(),b(),r()}o&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(7),p("checked",t.optionsSearch.data.show),n(),d("",g(15,26,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),d("",g(19,28,"ACTION.STATIST")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(5),d(" ",g(29,30,"ACTION.SITE")," "),n(7),d(" ",g(36,32,"ACTION.USER")," "),n(2),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(41),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(34,Xo)))},dependencies:[tt,V,dt,Me,Ee,he,ye,Re,De,xe,Le,Ue,Be,Oe,He,Pe,Ve,Fe,Ge,Ne,je,We,Ke,$e,Xe,ut,Te,G,ht,Ze,Qe,Ye,ze,ft,St,nt],encapsulation:2});var co=Mi;var ki=class ki{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};ki.\u0275fac=function(e){return new(e||ki)},ki.\u0275cmp=L({type:ki,selectors:[["app-core-token"]],standalone:!1,decls:1,vars:0,template:function(e,o){e&1&&v(0,"router-outlet")},dependencies:[Po],encapsulation:2});var mo=ki;var Un=["vform"];function Bn(i,a){if(i&1){let e=w();s(0,"app-cms-enum-record-status-selector",7),y("modelChange",function(t){h(e);let c=f();return k(c.dataModel.recordStatus,t)||(c.dataModel.recordStatus=t),_(t)}),r()}if(i&2){let e=f();A("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Vn(i,a){if(i&1){let e=w();s(0,"div",8)(1,"button",9),M("click",function(){h(e);let t=f();return _(t.onFormCancel())}),v(2,"i",10),m(3),S(4,"translate"),r()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var yi=class yi extends rt{constructor(e,o,t,c,C,l,D,ie,te,se){super(c,new Vt,l,se);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreLogTokenMicroServiceService=c;this.cmsToastrService=C;this.publicHelper=l;this.cdr=D;this.tokenHelper=ie;this.cmsStoreService=te;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new R;this.dataModel=new Vt;this.formInfo=new Z;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>U(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreLogTokenMicroServiceService.setAccessLoad(),this.coreLogTokenMicroServiceService.setAccessDataType(it.Editor),this.coreLogTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};yi.\u0275fac=function(o){return new(o||yi)(u(Y),u(X),u(Q),u(At),u(H),u(F),u(B),u(N),u(O),u(P))},yi.\u0275cmp=L({type:yi,selectors:[["app-coretoken-microservicelog-edit"]],viewQuery:function(o,t){if(o&1&&J(Un,5),o&2){let c;K(c=$())&&(t.formGroup=c.first)}},standalone:!1,features:[z],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(s(0,"div",0),v(1,"app-progress-spinner",1),s(2,"div",2)(3,"p",3),m(4),r(),s(5,"p"),m(6),S(7,"translate"),r(),T(8,Bn,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),S(10,"translate"),v(11,"app-cms-user-selector",5),S(12,"translate"),T(13,Vn,5,3,"div",6),r()()),o&2&&(n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),d(" ",t.formInfo.formTitle," "),n(2),d(" ",g(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",g(10,13,"TITLE.WEBSITE")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",g(12,15,"TITLE.USER")),n(2),p("ngIf",t.formInfo.formSubmitAllow))},dependencies:[V,at,pt,st,ee,G],encapsulation:2});var po=yi;var On=["vform"];function Pn(i,a){if(i&1){let e=w();s(0,"div",5)(1,"button",10),M("click",function(){h(e);let t=f();return _(t.onFormCancel())}),v(2,"i",11),m(3),S(4,"translate"),r()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var Ri=class Ri{constructor(a,e,o,t,c,C,l,D,ie,te){this.data=a;this.dialogRef=e;this.coreEnumService=o;this.coreLogTokenMicroServiceService=t;this.cmsToastrService=c;this.tokenHelper=C;this.cmsStoreService=l;this.cdr=D;this.publicHelper=ie;this.translate=te;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new ot;this.dataModelResult=new R;this.dataModel=new Vt;this.formInfo=new Z;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>U(this,null,function*(){this.tokenInfo=a}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.coreLogTokenMicroServiceService.setAccessLoad(),this.coreLogTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ri.\u0275fac=function(e){return new(e||Ri)(u(Y),u(X),u(Q),u(At),u(H),u(N),u(O),u(B),u(F),u(P))},Ri.\u0275cmp=L({type:Ri,selectors:[["app-core-token-microservicelog-view"]],viewQuery:function(e,o){if(e&1&&J(On,5),e&2){let t;K(t=$())&&(o.formGroup=t.first)}},standalone:!1,decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(s(0,"div",0),m(1),r(),s(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),s(5,"div",4)(6,"div",5)(7,"small",6),m(8),r(),s(9,"small",7),m(10),r()()(),s(11,"div",8),T(12,Pn,5,3,"div",9),r()),e&2&&(n(),d(" ",o.formInfo.formTitle," "),n(2),p("optionsInfoAreaId",o.constructorInfoAreaId),n(),p("dataModel",o.dataModel)("optionMethod",1),n(4),d("",o.formInfo.formAlert," "),n(2),d("",o.formInfo.formError," "),n(2),p("ngIf",o.formInfo.formSubmitAllow))},dependencies:[V,ee,lt,G],encapsulation:2});var uo=Ri;var Gn=()=>[5,10,20,100],Nn=i=>({display:i}),Hn=i=>({background:i});function Fn(i,a){if(i&1){let e=w();s(0,"a",51),M("click",function(){h(e);let t=f();return _(t.onActionBackToParent())}),v(1,"i",52),r()}}function jn(i,a){if(i&1){let e=w();s(0,"div",18)(1,"a",53),M("click",function(){h(e);let t=f();return _(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",54)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.EDIT")," "))}function Wn(i,a){if(i&1){let e=w();s(0,"div",18)(1,"a",55),M("click",function(){h(e);let t=f();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",56)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.DELETE")," "))}function qn(i,a){if(i&1){let e=w();s(0,"div",18)(1,"a",57),M("click",function(){h(e);let t=f();return _(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",58)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.VIEW")," "))}function Qn(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function zn(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),d(" ",e.id," ")}}function Jn(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Kn(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function $n(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Xn(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function Yn(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Zn(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),d(" ",e.linkMemberUserId," ")}}function er(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function tr(i,a){if(i&1&&v(0,"select",62),i&2){let e=f().$implicit,o=f();p("contentService",o.contentService)("row",e)("ngStyle",Ce(3,Nn,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function ir(i,a){if(i&1&&(s(0,"mat-cell",60),S(1,"statusCellClass"),v(2,"i",60),S(3,"statusIconClass"),T(4,tr,1,5,"select",61),r()),i&2){let e=a.$implicit,o=f();p("ngClass",g(1,3,e.recordStatus)),n(2),p("ngClass",g(3,5,e.recordStatus)),n(2),p("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function or(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function nr(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=f();n(),d(" ",re(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function rr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function ar(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=f();n(),d(" ",re(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function sr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function lr(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),p("ngClass",g(2,1,e.userAccessAdminAllowToAllData))}}function cr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function mr(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),p("ngClass",g(2,1,e.userAccessAdminAllowToProfessionalData))}}function dr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function pr(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),p("ngClass",g(2,1,e.rememberOnDevice))}}function ur(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function fr(i,a){if(i&1&&(s(0,"mat-cell",63),m(1),S(2,"localeDateTime"),r()),i&2){let e=a.$implicit;n(),d(" ",g(2,1,e.createdDate)," ")}}function Sr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Cr(i,a){if(i&1&&(s(0,"mat-cell",64),m(1),S(2,"persianDate"),r()),i&2){let e=a.$implicit,o=f();p("ngStyle",Ce(4,Hn,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),d(" ",g(2,2,e.expireDate)," ")}}function hr(i,a){i&1&&(s(0,"mat-header-cell"),m(1),S(2,"translate"),r()),i&2&&(n(),d(" ",g(2,1,"TITLE.OPTION")," "))}function _r(i,a){if(i&1&&(s(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),r()(),v(4,"mat-menu",null,2),r()),i&2){let e=q(5);n(),p("matMenuTriggerFor",e)}}function gr(i,a){i&1&&v(0,"mat-header-row")}function vr(i,a){if(i&1){let e=w();s(0,"mat-row",67),M("click",function(){let t=h(e).$implicit,c=f();return _(c.onActionTableRowSelect(t))}),r()}if(i&2){let e=a.$implicit,o=f();ge("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Di=class Di extends Je{constructor(e,o,t,c,C,l,D,ie,te,se,et,It){super(e,new Vt,et,C,D);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=c;this.tokenHelper=C;this.cdr=l;this.translate=D;this.cmsStoreService=ie;this.router=te;this.pageInfo=se;this.publicHelper=et;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ke;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new j;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new j;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new j;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=x.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>U(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Vt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(uo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(po,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(C,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{o.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{o.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),C=new j;C.propertyName="RecordStatus",C.value=Ae.Available,c.filters.push(C),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Di.\u0275fac=function(o){return new(o||Di)(u(At),u(H),u(_e),u(Ie),u(N),u(B),u(P),u(O),u(be),u(qe),u(F),u(we))},Di.\u0275cmp=L({type:Di,selectors:[["app-coretoken-microservicelog-list"]],standalone:!1,features:[z],decls:85,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click"]],template:function(o,t){if(o&1){let c=w();s(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(l){return h(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),_(l)}),M("optionOnActionButtonMemoRow",function(){return h(c),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),_(t.onActionButtonPrintRow())}),I(1,4),m(2," -------------------------------------- "),b(),oe(3,5)(4,6),I(5,7),T(6,Fn,2,0,"a",8),s(7,"a",9),M("click",function(){return h(c),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),r(),s(9,"a",9),M("click",function(){return h(c),_(t.onActionButtonReload())}),v(10,"i",11),r(),b(),I(11,12),s(12,"a",13),M("click",function(){return h(c),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),r(),b(),oe(16,15),I(17,16),T(18,jn,7,3,"div",17)(19,Wn,7,3,"div",17),s(20,"div",18)(21,"a",19),M("click",function(){return h(c),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(22,"i",20)(23,"br"),r(),s(24,"p",21),m(25),S(26,"translate"),r()(),s(27,"div",18)(28,"a",19),M("click",function(){return h(c),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(29,"i",22)(30,"br"),r(),s(31,"p",21),m(32),S(33,"translate"),r()(),T(34,qn,7,3,"div",17),b(),I(35,23),s(36,"app-cms-search-list",24),y("optionsChange",function(l){return h(c),k(t.optionsSearch,l)||(t.optionsSearch=l),_(l)}),r(),s(37,"app-cms-statist-list",24),y("optionsChange",function(l){return h(c),k(t.optionsStatist,l)||(t.optionsStatist=l),_(l)}),r(),b(),I(38,25),s(39,"mat-table",26,0),M("matSortChange",function(){h(c);let l=q(40);return _(t.onTableSortData(l))}),I(41,27),T(42,Qn,2,1,"mat-header-cell",28)(43,zn,2,1,"mat-cell",29),b(),I(44,30),T(45,Jn,2,1,"mat-header-cell",28)(46,Kn,4,5,"mat-cell",29),b(),I(47,31),T(48,$n,2,1,"mat-header-cell",28)(49,Xn,4,5,"mat-cell",29),b(),I(50,32),T(51,Yn,2,1,"mat-header-cell",28)(52,Zn,2,1,"mat-cell",29),b(),I(53,33),T(54,er,2,1,"mat-header-cell",28)(55,ir,5,7,"mat-cell",34),b(),I(56,35),T(57,or,2,1,"mat-header-cell",28)(58,nr,3,4,"mat-cell",29),b(),I(59,36),T(60,rr,2,1,"mat-header-cell",28)(61,ar,3,4,"mat-cell",29),b(),I(62,37),T(63,sr,2,1,"mat-header-cell",28)(64,lr,3,3,"mat-cell",29),b(),I(65,38),T(66,cr,2,1,"mat-header-cell",28)(67,mr,3,3,"mat-cell",29),b(),I(68,39),T(69,dr,2,1,"mat-header-cell",28)(70,pr,3,3,"mat-cell",29),b(),I(71,40),T(72,ur,2,1,"mat-header-cell",28)(73,fr,3,3,"mat-cell",41),b(),I(74,42),T(75,Sr,2,1,"mat-header-cell",28)(76,Cr,3,6,"mat-cell",43),b(),I(77,44),T(78,hr,3,3,"mat-header-cell",45)(79,_r,6,1,"mat-cell",46),b(),T(80,gr,1,0,"mat-header-row",47)(81,vr,1,2,"mat-row",48),r(),b(),I(82,49),s(83,"mat-paginator",50,1),M("page",function(l){return h(c),_(t.onTablePageingData(l))}),r(),b(),r()}o&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(7),p("checked",t.optionsSearch.data.show),n(),d("",g(15,24,"ACTION.SEARCH")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),d(" ",g(26,26,"ACTION.SITE")," "),n(7),d(" ",g(33,28,"ACTION.USER")," "),n(2),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(41),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(30,Gn)))},dependencies:[tt,V,dt,Me,Ee,he,ye,Re,De,xe,Le,Ue,Be,Oe,He,Pe,Ve,Fe,Ge,Ne,je,We,Ke,$e,Xe,ut,Te,G,ht,Ze,Qe,Ye,ze,ft,St,nt],encapsulation:2});var fo=Di;var Tr=["vform"];function Ir(i,a){if(i&1){let e=w();s(0,"app-cms-enum-record-status-selector",8),y("modelChange",function(t){h(e);let c=f();return k(c.dataModel.recordStatus,t)||(c.dataModel.recordStatus=t),_(t)}),r()}if(i&2){let e=f();A("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function br(i,a){if(i&1&&(s(0,"div"),v(1,"div",9),S(2,"prettyjson"),r()),i&2){let e=f();n(),p("innerHTML",g(2,1,e.dataModel),gt)}}function Mr(i,a){if(i&1){let e=w();s(0,"div",10)(1,"button",11),M("click",function(){h(e);let t=f();return _(t.onFormCancel())}),v(2,"i",12),m(3),S(4,"translate"),r()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var xi=class xi extends rt{constructor(e,o,t,c,C,l,D,ie,te,se){super(c,new Bt,te,se);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenMicroServiceService=c;this.cmsToastrService=C;this.tokenHelper=l;this.cmsStoreService=D;this.cdr=ie;this.publicHelper=te;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new wt;this.dataModel=new Bt;this.formInfo=new Z;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>U(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.setAccessDataType(it.Editor),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};xi.\u0275fac=function(o){return new(o||xi)(u(Y),u(X),u(Q),u(xt),u(H),u(N),u(O),u(B),u(F),u(P))},xi.\u0275cmp=L({type:xi,selectors:[["app-coretoken-microservice-edit"]],viewQuery:function(o,t){if(o&1&&J(Tr,5),o&2){let c;K(c=$())&&(t.formGroup=c.first)}},standalone:!1,features:[z],decls:15,vars:18,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(s(0,"div",0),v(1,"app-progress-spinner",1),s(2,"div",2)(3,"p",3),m(4),r(),s(5,"p"),m(6),S(7,"translate"),r(),T(8,Ir,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),S(10,"translate"),v(11,"app-cms-user-selector",5),S(12,"translate"),T(13,br,3,3,"div",6)(14,Mr,5,3,"div",7),r()()),o&2&&(n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),d(" ",t.formInfo.formTitle," "),n(2),d(" ",g(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",g(10,14,"TITLE.WEBSITE")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",g(12,16,"TITLE.USER")),n(2),p("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(),p("ngIf",t.formInfo.formSubmitAllow))},dependencies:[V,at,pt,st,ee,G,Tt],encapsulation:2});var So=xi;var wr=["vform"];function Er(i,a){if(i&1){let e=w();s(0,"div",5)(1,"button",10),M("click",function(){h(e);let t=f();return _(t.onFormCancel())}),v(2,"i",11),m(3),S(4,"translate"),r()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var Li=class Li{constructor(a,e,o,t,c,C,l,D,ie,te){this.data=a;this.dialogRef=e;this.coreEnumService=o;this.coreTokenMicroServiceService=t;this.cmsToastrService=c;this.tokenHelper=C;this.cmsStoreService=l;this.cdr=D;this.publicHelper=ie;this.translate=te;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new ot;this.dataModelResult=new R;this.dataModel=new Bt;this.formInfo=new Z;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>U(this,null,function*(){this.tokenInfo=a}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Li.\u0275fac=function(e){return new(e||Li)(u(Y),u(X),u(Q),u(xt),u(H),u(N),u(O),u(B),u(F),u(P))},Li.\u0275cmp=L({type:Li,selectors:[["app-coretoken-microservice-view"]],viewQuery:function(e,o){if(e&1&&J(wr,5),e&2){let t;K(t=$())&&(o.formGroup=t.first)}},standalone:!1,decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(s(0,"div",0),m(1),r(),s(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),s(5,"div",4)(6,"div",5)(7,"small",6),m(8),r(),s(9,"small",7),m(10),r()()(),s(11,"div",8),T(12,Er,5,3,"div",9),r()),e&2&&(n(),d(" ",o.formInfo.formTitle," "),n(2),p("optionsInfoAreaId",o.constructorInfoAreaId),n(),p("dataModel",o.dataModel)("optionMethod",1),n(4),d("",o.formInfo.formAlert," "),n(2),d("",o.formInfo.formError," "),n(2),p("ngIf",o.formInfo.formSubmitAllow))},dependencies:[V,ee,lt,G],encapsulation:2});var ho=Li;var Ar=()=>[5,10,20,100],kr=i=>({display:i}),yr=i=>({background:i});function Rr(i,a){if(i&1){let e=w();s(0,"a",51),M("click",function(){h(e);let t=f();return _(t.onActionBackToParent())}),v(1,"i",52),r()}}function Dr(i,a){if(i&1){let e=w();s(0,"div",18)(1,"a",53),M("click",function(){h(e);let t=f();return _(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",54)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.EDIT")," "))}function xr(i,a){if(i&1){let e=w();s(0,"div",18)(1,"a",55),M("click",function(){h(e);let t=f();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",56)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.DELETE")," "))}function Lr(i,a){if(i&1){let e=w();s(0,"div",18)(1,"a",57),M("click",function(){h(e);let t=f();return _(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",58)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.VIEW")," "))}function Ur(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Br(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),d(" ",e.id," ")}}function Vr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Or(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function Pr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Gr(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function Nr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Hr(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),d(" ",e.linkMemberUserId," ")}}function Fr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function jr(i,a){if(i&1&&v(0,"select",62),i&2){let e=f().$implicit,o=f();p("contentService",o.contentService)("row",e)("ngStyle",Ce(3,kr,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Wr(i,a){if(i&1&&(s(0,"mat-cell",60),S(1,"statusCellClass"),v(2,"i",60),S(3,"statusIconClass"),T(4,jr,1,5,"select",61),r()),i&2){let e=a.$implicit,o=f();p("ngClass",g(1,3,e.recordStatus)),n(2),p("ngClass",g(3,5,e.recordStatus)),n(2),p("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function qr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Qr(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=f();n(),d(" ",re(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function zr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function Jr(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=f();n(),d(" ",re(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Kr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function $r(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),p("ngClass",g(2,1,e.userAccessAdminAllowToAllData))}}function Xr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Yr(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),p("ngClass",g(2,1,e.userAccessAdminAllowToProfessionalData))}}function Zr(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function ea(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),p("ngClass",g(2,1,e.rememberOnDevice))}}function ta(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ia(i,a){if(i&1&&(s(0,"mat-cell",63),m(1),S(2,"localeDateTime"),r()),i&2){let e=a.$implicit;n(),d(" ",g(2,1,e.createdDate)," ")}}function oa(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function na(i,a){if(i&1&&(s(0,"mat-cell",64),m(1),S(2,"persianDate"),r()),i&2){let e=a.$implicit,o=f();p("ngStyle",Ce(4,yr,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),d(" ",g(2,2,e.expireDate)," ")}}function ra(i,a){i&1&&(s(0,"mat-header-cell"),m(1),S(2,"translate"),r()),i&2&&(n(),d(" ",g(2,1,"TITLE.OPTION")," "))}function aa(i,a){if(i&1&&(s(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),r()(),v(4,"mat-menu",null,2),r()),i&2){let e=q(5);n(),p("matMenuTriggerFor",e)}}function sa(i,a){i&1&&v(0,"mat-header-row")}function la(i,a){if(i&1){let e=w();s(0,"mat-row",67),M("click",function(){let t=h(e).$implicit,c=f();return _(c.onActionTableRowSelect(t))}),r()}if(i&2){let e=a.$implicit,o=f();ge("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Ui=class Ui extends Je{constructor(e,o,t,c,C,l,D,ie,te,se,et,It){super(e,new Bt,et,C,D);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=c;this.tokenHelper=C;this.cdr=l;this.translate=D;this.cmsStoreService=ie;this.router=te;this.pageInfo=se;this.publicHelper=et;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ke;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new j;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new j;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new j;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=x.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>U(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Bt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(ho,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(So,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(C,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{o.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{o.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),C=new j;C.propertyName="RecordStatus",C.value=Ae.Available,c.filters.push(C),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ui.\u0275fac=function(o){return new(o||Ui)(u(xt),u(H),u(_e),u(Ie),u(N),u(B),u(P),u(O),u(be),u(qe),u(F),u(we))},Ui.\u0275cmp=L({type:Ui,selectors:[["app-coretoken-microservice-list"]],standalone:!1,features:[z],decls:89,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click"]],template:function(o,t){if(o&1){let c=w();s(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(l){return h(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),_(l)}),M("optionOnActionButtonMemoRow",function(){return h(c),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),_(t.onActionButtonPrintRow())}),I(1,4),m(2," -------------------------------------- "),b(),oe(3,5)(4,6),I(5,7),T(6,Rr,2,0,"a",8),s(7,"a",9),M("click",function(){return h(c),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),r(),s(9,"a",9),M("click",function(){return h(c),_(t.onActionButtonReload())}),v(10,"i",11),r(),b(),I(11,12),s(12,"a",13),M("click",function(){return h(c),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),r(),s(16,"a",13),M("click",function(){return h(c),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",14),m(18),S(19,"translate"),r(),b(),oe(20,15),I(21,16),T(22,Dr,7,3,"div",17)(23,xr,7,3,"div",17),s(24,"div",18)(25,"a",19),M("click",function(){return h(c),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(26,"i",20)(27,"br"),r(),s(28,"p",21),m(29),S(30,"translate"),r()(),s(31,"div",18)(32,"a",19),M("click",function(){return h(c),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(33,"i",22)(34,"br"),r(),s(35,"p",21),m(36),S(37,"translate"),r()(),T(38,Lr,7,3,"div",17),b(),I(39,23),s(40,"app-cms-search-list",24),y("optionsChange",function(l){return h(c),k(t.optionsSearch,l)||(t.optionsSearch=l),_(l)}),r(),s(41,"app-cms-statist-list",24),y("optionsChange",function(l){return h(c),k(t.optionsStatist,l)||(t.optionsStatist=l),_(l)}),r(),b(),I(42,25),s(43,"mat-table",26,0),M("matSortChange",function(){h(c);let l=q(44);return _(t.onTableSortData(l))}),I(45,27),T(46,Ur,2,1,"mat-header-cell",28)(47,Br,2,1,"mat-cell",29),b(),I(48,30),T(49,Vr,2,1,"mat-header-cell",28)(50,Or,4,5,"mat-cell",29),b(),I(51,31),T(52,Pr,2,1,"mat-header-cell",28)(53,Gr,4,5,"mat-cell",29),b(),I(54,32),T(55,Nr,2,1,"mat-header-cell",28)(56,Hr,2,1,"mat-cell",29),b(),I(57,33),T(58,Fr,2,1,"mat-header-cell",28)(59,Wr,5,7,"mat-cell",34),b(),I(60,35),T(61,qr,2,1,"mat-header-cell",28)(62,Qr,3,4,"mat-cell",29),b(),I(63,36),T(64,zr,2,1,"mat-header-cell",28)(65,Jr,3,4,"mat-cell",29),b(),I(66,37),T(67,Kr,2,1,"mat-header-cell",28)(68,$r,3,3,"mat-cell",29),b(),I(69,38),T(70,Xr,2,1,"mat-header-cell",28)(71,Yr,3,3,"mat-cell",29),b(),I(72,39),T(73,Zr,2,1,"mat-header-cell",28)(74,ea,3,3,"mat-cell",29),b(),I(75,40),T(76,ta,2,1,"mat-header-cell",28)(77,ia,3,3,"mat-cell",41),b(),I(78,42),T(79,oa,2,1,"mat-header-cell",28)(80,na,3,6,"mat-cell",43),b(),I(81,44),T(82,ra,3,3,"mat-header-cell",45)(83,aa,6,1,"mat-cell",46),b(),T(84,sa,1,0,"mat-header-row",47)(85,la,1,2,"mat-row",48),r(),b(),I(86,49),s(87,"mat-paginator",50,1),M("page",function(l){return h(c),_(t.onTablePageingData(l))}),r(),b(),r()}o&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(7),p("checked",t.optionsSearch.data.show),n(),d("",g(15,26,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),d("",g(19,28,"ACTION.STATIST")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),d(" ",g(30,30,"ACTION.SITE")," "),n(7),d(" ",g(37,32,"ACTION.USER")," "),n(2),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(41),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(34,Ar)))},dependencies:[tt,V,dt,Me,Ee,he,ye,Re,De,xe,Le,Ue,Be,Oe,He,Pe,Ve,Fe,Ge,Ne,je,We,Ke,$e,Xe,ut,Te,G,ht,Ze,Qe,Ye,ze,ft,St,nt],encapsulation:2});var _o=Ui;var ca=["vform"];function ma(i,a){if(i&1){let e=w();s(0,"app-cms-enum-record-status-selector",7),y("modelChange",function(t){h(e);let c=f();return k(c.dataModel.recordStatus,t)||(c.dataModel.recordStatus=t),_(t)}),r()}if(i&2){let e=f();A("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function da(i,a){if(i&1){let e=w();s(0,"div",8)(1,"button",9),M("click",function(){h(e);let t=f();return _(t.onFormCancel())}),v(2,"i",10),m(3),S(4,"translate"),r()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var Bi=class Bi extends rt{constructor(e,o,t,c,C,l,D,ie,te,se){super(c,new Ot,l,se);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreLogTokenConnectionService=c;this.cmsToastrService=C;this.publicHelper=l;this.cdr=D;this.tokenHelper=ie;this.cmsStoreService=te;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new R;this.dataModel=new Ot;this.formInfo=new Z;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>U(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreLogTokenConnectionService.setAccessLoad(),this.coreLogTokenConnectionService.setAccessDataType(it.Editor),this.coreLogTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Bi.\u0275fac=function(o){return new(o||Bi)(u(Y),u(X),u(Q),u(kt),u(H),u(F),u(B),u(N),u(O),u(P))},Bi.\u0275cmp=L({type:Bi,selectors:[["app-coretoken-notificationlog-edit"]],viewQuery:function(o,t){if(o&1&&J(ca,5),o&2){let c;K(c=$())&&(t.formGroup=c.first)}},standalone:!1,features:[z],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(s(0,"div",0),v(1,"app-progress-spinner",1),s(2,"div",2)(3,"p",3),m(4),r(),s(5,"p"),m(6),S(7,"translate"),r(),T(8,ma,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),S(10,"translate"),v(11,"app-cms-user-selector",5),S(12,"translate"),T(13,da,5,3,"div",6),r()()),o&2&&(n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),d(" ",t.formInfo.formTitle," "),n(2),d(" ",g(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",g(10,13,"TITLE.WEBSITE")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",g(12,15,"TITLE.USER")),n(2),p("ngIf",t.formInfo.formSubmitAllow))},dependencies:[V,at,pt,st,ee,G],encapsulation:2});var go=Bi;var pa=["vform"];function ua(i,a){if(i&1){let e=w();s(0,"div",5)(1,"button",10),M("click",function(){h(e);let t=f();return _(t.onFormCancel())}),v(2,"i",11),m(3),S(4,"translate"),r()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var Vi=class Vi{constructor(a,e,o,t,c,C,l,D,ie,te){this.data=a;this.dialogRef=e;this.coreEnumService=o;this.coreLogTokenConnectionService=t;this.cmsToastrService=c;this.tokenHelper=C;this.cmsStoreService=l;this.cdr=D;this.publicHelper=ie;this.translate=te;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new ot;this.dataModelResult=new R;this.dataModel=new Ot;this.formInfo=new Z;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>U(this,null,function*(){this.tokenInfo=a}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.coreLogTokenConnectionService.setAccessLoad(),this.coreLogTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vi.\u0275fac=function(e){return new(e||Vi)(u(Y),u(X),u(Q),u(kt),u(H),u(N),u(O),u(B),u(F),u(P))},Vi.\u0275cmp=L({type:Vi,selectors:[["app-core-token-notificationlog-view"]],viewQuery:function(e,o){if(e&1&&J(pa,5),e&2){let t;K(t=$())&&(o.formGroup=t.first)}},standalone:!1,decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(s(0,"div",0),m(1),r(),s(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),s(5,"div",4)(6,"div",5)(7,"small",6),m(8),r(),s(9,"small",7),m(10),r()()(),s(11,"div",8),T(12,ua,5,3,"div",9),r()),e&2&&(n(),d(" ",o.formInfo.formTitle," "),n(2),p("optionsInfoAreaId",o.constructorInfoAreaId),n(),p("dataModel",o.dataModel)("optionMethod",1),n(4),d("",o.formInfo.formAlert," "),n(2),d("",o.formInfo.formError," "),n(2),p("ngIf",o.formInfo.formSubmitAllow))},dependencies:[V,ee,lt,G],encapsulation:2});var vo=Vi;var fa=()=>[5,10,20,100],Sa=i=>({display:i}),Ca=i=>({background:i});function ha(i,a){if(i&1){let e=w();s(0,"a",51),M("click",function(){h(e);let t=f();return _(t.onActionBackToParent())}),v(1,"i",52),r()}}function _a(i,a){if(i&1){let e=w();s(0,"div",18)(1,"a",53),M("click",function(){h(e);let t=f();return _(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",54)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.EDIT")," "))}function ga(i,a){if(i&1){let e=w();s(0,"div",18)(1,"a",55),M("click",function(){h(e);let t=f();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",56)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.DELETE")," "))}function va(i,a){if(i&1){let e=w();s(0,"div",18)(1,"a",57),M("click",function(){h(e);let t=f();return _(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",58)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.VIEW")," "))}function Ta(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ia(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),d(" ",e.id," ")}}function ba(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ma(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function wa(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Ea(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function Aa(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function ka(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),d(" ",e.linkMemberUserId," ")}}function ya(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ra(i,a){if(i&1&&v(0,"select",62),i&2){let e=f().$implicit,o=f();p("contentService",o.contentService)("row",e)("ngStyle",Ce(3,Sa,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Da(i,a){if(i&1&&(s(0,"mat-cell",60),S(1,"statusCellClass"),v(2,"i",60),S(3,"statusIconClass"),T(4,Ra,1,5,"select",61),r()),i&2){let e=a.$implicit,o=f();p("ngClass",g(1,3,e.recordStatus)),n(2),p("ngClass",g(3,5,e.recordStatus)),n(2),p("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function xa(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function La(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=f();n(),d(" ",re(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Ua(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function Ba(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=f();n(),d(" ",re(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Va(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Oa(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),p("ngClass",g(2,1,e.userAccessAdminAllowToAllData))}}function Pa(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Ga(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),p("ngClass",g(2,1,e.userAccessAdminAllowToProfessionalData))}}function Na(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Ha(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),p("ngClass",g(2,1,e.rememberOnDevice))}}function Fa(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ja(i,a){if(i&1&&(s(0,"mat-cell",63),m(1),S(2,"localeDateTime"),r()),i&2){let e=a.$implicit;n(),d(" ",g(2,1,e.createdDate)," ")}}function Wa(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function qa(i,a){if(i&1&&(s(0,"mat-cell",64),m(1),S(2,"persianDate"),r()),i&2){let e=a.$implicit,o=f();p("ngStyle",Ce(4,Ca,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),d(" ",g(2,2,e.expireDate)," ")}}function Qa(i,a){i&1&&(s(0,"mat-header-cell"),m(1),S(2,"translate"),r()),i&2&&(n(),d(" ",g(2,1,"TITLE.OPTION")," "))}function za(i,a){if(i&1&&(s(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),r()(),v(4,"mat-menu",null,2),r()),i&2){let e=q(5);n(),p("matMenuTriggerFor",e)}}function Ja(i,a){i&1&&v(0,"mat-header-row")}function Ka(i,a){if(i&1){let e=w();s(0,"mat-row",67),M("click",function(){let t=h(e).$implicit,c=f();return _(c.onActionTableRowSelect(t))}),r()}if(i&2){let e=a.$implicit,o=f();ge("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Oi=class Oi extends Je{constructor(e,o,t,c,C,l,D,ie,te,se,et,It){super(e,new Ot,et,C,D);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=c;this.tokenHelper=C;this.cdr=l;this.translate=D;this.cmsStoreService=ie;this.router=te;this.pageInfo=se;this.publicHelper=et;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ke;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new j;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new j;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new j;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=x.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>U(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ot);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(vo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(go,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(C,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{o.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{o.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),C=new j;C.propertyName="RecordStatus",C.value=Ae.Available,c.filters.push(C),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Oi.\u0275fac=function(o){return new(o||Oi)(u(kt),u(H),u(_e),u(Ie),u(N),u(B),u(P),u(O),u(be),u(qe),u(F),u(we))},Oi.\u0275cmp=L({type:Oi,selectors:[["app-coretoken-notificationlog-list"]],standalone:!1,features:[z],decls:89,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click"]],template:function(o,t){if(o&1){let c=w();s(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(l){return h(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),_(l)}),M("optionOnActionButtonMemoRow",function(){return h(c),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),_(t.onActionButtonPrintRow())}),I(1,4),m(2," -------------------------------------- "),b(),oe(3,5)(4,6),I(5,7),T(6,ha,2,0,"a",8),s(7,"a",9),M("click",function(){return h(c),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),r(),s(9,"a",9),M("click",function(){return h(c),_(t.onActionButtonReload())}),v(10,"i",11),r(),b(),I(11,12),s(12,"a",13),M("click",function(){return h(c),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),r(),s(16,"a",13),M("click",function(){return h(c),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",14),m(18),S(19,"translate"),r(),b(),oe(20,15),I(21,16),T(22,_a,7,3,"div",17)(23,ga,7,3,"div",17),s(24,"div",18)(25,"a",19),M("click",function(){return h(c),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(26,"i",20)(27,"br"),r(),s(28,"p",21),m(29),S(30,"translate"),r()(),s(31,"div",18)(32,"a",19),M("click",function(){return h(c),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(33,"i",22)(34,"br"),r(),s(35,"p",21),m(36),S(37,"translate"),r()(),T(38,va,7,3,"div",17),b(),I(39,23),s(40,"app-cms-search-list",24),y("optionsChange",function(l){return h(c),k(t.optionsSearch,l)||(t.optionsSearch=l),_(l)}),r(),s(41,"app-cms-statist-list",24),y("optionsChange",function(l){return h(c),k(t.optionsStatist,l)||(t.optionsStatist=l),_(l)}),r(),b(),I(42,25),s(43,"mat-table",26,0),M("matSortChange",function(){h(c);let l=q(44);return _(t.onTableSortData(l))}),I(45,27),T(46,Ta,2,1,"mat-header-cell",28)(47,Ia,2,1,"mat-cell",29),b(),I(48,30),T(49,ba,2,1,"mat-header-cell",28)(50,Ma,4,5,"mat-cell",29),b(),I(51,31),T(52,wa,2,1,"mat-header-cell",28)(53,Ea,4,5,"mat-cell",29),b(),I(54,32),T(55,Aa,2,1,"mat-header-cell",28)(56,ka,2,1,"mat-cell",29),b(),I(57,33),T(58,ya,2,1,"mat-header-cell",28)(59,Da,5,7,"mat-cell",34),b(),I(60,35),T(61,xa,2,1,"mat-header-cell",28)(62,La,3,4,"mat-cell",29),b(),I(63,36),T(64,Ua,2,1,"mat-header-cell",28)(65,Ba,3,4,"mat-cell",29),b(),I(66,37),T(67,Va,2,1,"mat-header-cell",28)(68,Oa,3,3,"mat-cell",29),b(),I(69,38),T(70,Pa,2,1,"mat-header-cell",28)(71,Ga,3,3,"mat-cell",29),b(),I(72,39),T(73,Na,2,1,"mat-header-cell",28)(74,Ha,3,3,"mat-cell",29),b(),I(75,40),T(76,Fa,2,1,"mat-header-cell",28)(77,ja,3,3,"mat-cell",41),b(),I(78,42),T(79,Wa,2,1,"mat-header-cell",28)(80,qa,3,6,"mat-cell",43),b(),I(81,44),T(82,Qa,3,3,"mat-header-cell",45)(83,za,6,1,"mat-cell",46),b(),T(84,Ja,1,0,"mat-header-row",47)(85,Ka,1,2,"mat-row",48),r(),b(),I(86,49),s(87,"mat-paginator",50,1),M("page",function(l){return h(c),_(t.onTablePageingData(l))}),r(),b(),r()}o&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(7),p("checked",t.optionsSearch.data.show),n(),d("",g(15,26,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),d("",g(19,28,"ACTION.STATIST")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),d(" ",g(30,30,"ACTION.SITE")," "),n(7),d(" ",g(37,32,"ACTION.USER")," "),n(2),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(41),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(34,fa)))},dependencies:[tt,V,dt,Me,Ee,he,ye,Re,De,xe,Le,Ue,Be,Oe,He,Pe,Ve,Fe,Ge,Ne,je,We,Ke,$e,Xe,ut,Te,G,ht,Ze,Qe,Ye,ze,ft,St,nt],encapsulation:2});var To=Oi;var $a=["vform"];function Xa(i,a){if(i&1){let e=w();s(0,"app-cms-enum-record-status-selector",8),y("modelChange",function(t){h(e);let c=f();return k(c.dataModel.recordStatus,t)||(c.dataModel.recordStatus=t),_(t)}),r()}if(i&2){let e=f();A("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ya(i,a){if(i&1&&(s(0,"div"),v(1,"div",9),S(2,"prettyjson"),r()),i&2){let e=f();n(),p("innerHTML",g(2,1,e.dataModel),gt)}}function Za(i,a){if(i&1){let e=w();s(0,"div",10)(1,"button",11),M("click",function(){h(e);let t=f();return _(t.onFormCancel())}),v(2,"i",12),m(3),S(4,"translate"),r()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var Pi=class Pi extends rt{constructor(e,o,t,c,C,l,D,ie,te,se){super(c,new _t,te,se);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenConnectionService=c;this.cmsToastrService=C;this.tokenHelper=l;this.cmsStoreService=D;this.cdr=ie;this.publicHelper=te;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new wt;this.dataModel=new _t;this.formInfo=new Z;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>U(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenConnectionService.setAccessLoad(),this.coreTokenConnectionService.setAccessDataType(it.Editor),this.coreTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Pi.\u0275fac=function(o){return new(o||Pi)(u(Y),u(X),u(Q),u(vt),u(H),u(N),u(O),u(B),u(F),u(P))},Pi.\u0275cmp=L({type:Pi,selectors:[["app-coretoken-notification-edit"]],viewQuery:function(o,t){if(o&1&&J($a,5),o&2){let c;K(c=$())&&(t.formGroup=c.first)}},standalone:!1,features:[z],decls:15,vars:18,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(s(0,"div",0),v(1,"app-progress-spinner",1),s(2,"div",2)(3,"p",3),m(4),r(),s(5,"p"),m(6),S(7,"translate"),r(),T(8,Xa,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),S(10,"translate"),v(11,"app-cms-user-selector",5),S(12,"translate"),T(13,Ya,3,3,"div",6)(14,Za,5,3,"div",7),r()()),o&2&&(n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),d(" ",t.formInfo.formTitle," "),n(2),d(" ",g(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",g(10,14,"TITLE.WEBSITE")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",g(12,16,"TITLE.USER")),n(2),p("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(),p("ngIf",t.formInfo.formSubmitAllow))},dependencies:[V,at,pt,st,ee,G,Tt],encapsulation:2});var Gi=Pi;var es=["vform"];function ts(i,a){if(i&1){let e=w();s(0,"div",5)(1,"button",10),M("click",function(){h(e);let t=f();return _(t.onFormCancel())}),v(2,"i",11),m(3),S(4,"translate"),r()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var Ni=class Ni{constructor(a,e,o,t,c,C,l,D,ie,te){this.data=a;this.dialogRef=e;this.coreEnumService=o;this.coreTokenConnectionService=t;this.cmsToastrService=c;this.tokenHelper=C;this.cmsStoreService=l;this.cdr=D;this.publicHelper=ie;this.translate=te;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new ot;this.dataModelResult=new R;this.dataModel=new _t;this.formInfo=new Z;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>U(this,null,function*(){this.tokenInfo=a}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.coreTokenConnectionService.setAccessLoad(),this.coreTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ni.\u0275fac=function(e){return new(e||Ni)(u(Y),u(X),u(Q),u(vt),u(H),u(N),u(O),u(B),u(F),u(P))},Ni.\u0275cmp=L({type:Ni,selectors:[["app-coretoken-notification-view"]],viewQuery:function(e,o){if(e&1&&J(es,5),e&2){let t;K(t=$())&&(o.formGroup=t.first)}},standalone:!1,decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(s(0,"div",0),m(1),r(),s(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),s(5,"div",4)(6,"div",5)(7,"small",6),m(8),r(),s(9,"small",7),m(10),r()()(),s(11,"div",8),T(12,ts,5,3,"div",9),r()),e&2&&(n(),d(" ",o.formInfo.formTitle," "),n(2),p("optionsInfoAreaId",o.constructorInfoAreaId),n(),p("dataModel",o.dataModel)("optionMethod",1),n(4),d("",o.formInfo.formAlert," "),n(2),d("",o.formInfo.formError," "),n(2),p("ngIf",o.formInfo.formSubmitAllow))},dependencies:[V,ee,lt,G],encapsulation:2});var Hi=Ni;var is=()=>[5,10,20,100],os=i=>({display:i}),ns=i=>({background:i});function rs(i,a){if(i&1){let e=w();s(0,"a",51),M("click",function(){h(e);let t=f();return _(t.onActionBackToParent())}),v(1,"i",52),r()}}function as(i,a){if(i&1){let e=w();s(0,"div",18)(1,"a",53),M("click",function(){h(e);let t=f();return _(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",54)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.EDIT")," "))}function ss(i,a){if(i&1){let e=w();s(0,"div",18)(1,"a",55),M("click",function(){h(e);let t=f();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",56)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.DELETE")," "))}function ls(i,a){if(i&1){let e=w();s(0,"div",18)(1,"a",57),M("click",function(){h(e);let t=f();return _(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",58)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.VIEW")," "))}function cs(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ms(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),d(" ",e.id," ")}}function ds(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ps(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function us(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function fs(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function Ss(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Cs(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),d(" ",e.linkMemberUserId," ")}}function hs(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function _s(i,a){if(i&1&&v(0,"select",62),i&2){let e=f().$implicit,o=f();p("contentService",o.contentService)("row",e)("ngStyle",Ce(3,os,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function gs(i,a){if(i&1&&(s(0,"mat-cell",60),S(1,"statusCellClass"),v(2,"i",60),S(3,"statusIconClass"),T(4,_s,1,5,"select",61),r()),i&2){let e=a.$implicit,o=f();p("ngClass",g(1,3,e.recordStatus)),n(2),p("ngClass",g(3,5,e.recordStatus)),n(2),p("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function vs(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ts(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=f();n(),d(" ",re(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Is(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function bs(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=f();n(),d(" ",re(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Ms(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function ws(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),p("ngClass",g(2,1,e.userAccessAdminAllowToAllData))}}function Es(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function As(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),p("ngClass",g(2,1,e.userAccessAdminAllowToProfessionalData))}}function ks(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function ys(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),p("ngClass",g(2,1,e.rememberOnDevice))}}function Rs(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Ds(i,a){if(i&1&&(s(0,"mat-cell",63),m(1),S(2,"localeDateTime"),r()),i&2){let e=a.$implicit;n(),d(" ",g(2,1,e.createdDate)," ")}}function xs(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Ls(i,a){if(i&1&&(s(0,"mat-cell",64),m(1),S(2,"persianDate"),r()),i&2){let e=a.$implicit,o=f();p("ngStyle",Ce(4,ns,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),d(" ",g(2,2,e.expireDate)," ")}}function Us(i,a){i&1&&(s(0,"mat-header-cell"),m(1),S(2,"translate"),r()),i&2&&(n(),d(" ",g(2,1,"TITLE.OPTION")," "))}function Bs(i,a){if(i&1&&(s(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),r()(),v(4,"mat-menu",null,2),r()),i&2){let e=q(5);n(),p("matMenuTriggerFor",e)}}function Vs(i,a){i&1&&v(0,"mat-header-row")}function Os(i,a){if(i&1){let e=w();s(0,"mat-row",67),M("click",function(){let t=h(e).$implicit,c=f();return _(c.onActionTableRowSelect(t))}),r()}if(i&2){let e=a.$implicit,o=f();ge("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Fi=class Fi extends Je{constructor(e,o,t,c,C,l,D,ie,te,se,et,It){super(e,new _t,et,C,D);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=c;this.tokenHelper=C;this.cdr=l;this.translate=D;this.cmsStoreService=ie;this.router=te;this.pageInfo=se;this.publicHelper=et;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ke;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new j;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new j;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new j;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=x.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>U(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new _t);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Hi,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Gi,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(C,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{o.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{o.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),C=new j;C.propertyName="RecordStatus",C.value=Ae.Available,c.filters.push(C),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Fi.\u0275fac=function(o){return new(o||Fi)(u(vt),u(H),u(_e),u(Ie),u(N),u(B),u(P),u(O),u(be),u(qe),u(F),u(we))},Fi.\u0275cmp=L({type:Fi,selectors:[["app-coretoken-notification-list"]],standalone:!1,features:[z],decls:89,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click"]],template:function(o,t){if(o&1){let c=w();s(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(l){return h(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),_(l)}),M("optionOnActionButtonMemoRow",function(){return h(c),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),_(t.onActionButtonPrintRow())}),I(1,4),m(2," -------------------------------------- "),b(),oe(3,5)(4,6),I(5,7),T(6,rs,2,0,"a",8),s(7,"a",9),M("click",function(){return h(c),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),r(),s(9,"a",9),M("click",function(){return h(c),_(t.onActionButtonReload())}),v(10,"i",11),r(),b(),I(11,12),s(12,"a",13),M("click",function(){return h(c),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),r(),s(16,"a",13),M("click",function(){return h(c),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",14),m(18),S(19,"translate"),r(),b(),oe(20,15),I(21,16),T(22,as,7,3,"div",17)(23,ss,7,3,"div",17),s(24,"div",18)(25,"a",19),M("click",function(){return h(c),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(26,"i",20)(27,"br"),r(),s(28,"p",21),m(29),S(30,"translate"),r()(),s(31,"div",18)(32,"a",19),M("click",function(){return h(c),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(33,"i",22)(34,"br"),r(),s(35,"p",21),m(36),S(37,"translate"),r()(),T(38,ls,7,3,"div",17),b(),I(39,23),s(40,"app-cms-search-list",24),y("optionsChange",function(l){return h(c),k(t.optionsSearch,l)||(t.optionsSearch=l),_(l)}),r(),s(41,"app-cms-statist-list",24),y("optionsChange",function(l){return h(c),k(t.optionsStatist,l)||(t.optionsStatist=l),_(l)}),r(),b(),I(42,25),s(43,"mat-table",26,0),M("matSortChange",function(){h(c);let l=q(44);return _(t.onTableSortData(l))}),I(45,27),T(46,cs,2,1,"mat-header-cell",28)(47,ms,2,1,"mat-cell",29),b(),I(48,30),T(49,ds,2,1,"mat-header-cell",28)(50,ps,4,5,"mat-cell",29),b(),I(51,31),T(52,us,2,1,"mat-header-cell",28)(53,fs,4,5,"mat-cell",29),b(),I(54,32),T(55,Ss,2,1,"mat-header-cell",28)(56,Cs,2,1,"mat-cell",29),b(),I(57,33),T(58,hs,2,1,"mat-header-cell",28)(59,gs,5,7,"mat-cell",34),b(),I(60,35),T(61,vs,2,1,"mat-header-cell",28)(62,Ts,3,4,"mat-cell",29),b(),I(63,36),T(64,Is,2,1,"mat-header-cell",28)(65,bs,3,4,"mat-cell",29),b(),I(66,37),T(67,Ms,2,1,"mat-header-cell",28)(68,ws,3,3,"mat-cell",29),b(),I(69,38),T(70,Es,2,1,"mat-header-cell",28)(71,As,3,3,"mat-cell",29),b(),I(72,39),T(73,ks,2,1,"mat-header-cell",28)(74,ys,3,3,"mat-cell",29),b(),I(75,40),T(76,Rs,2,1,"mat-header-cell",28)(77,Ds,3,3,"mat-cell",41),b(),I(78,42),T(79,xs,2,1,"mat-header-cell",28)(80,Ls,3,6,"mat-cell",43),b(),I(81,44),T(82,Us,3,3,"mat-header-cell",45)(83,Bs,6,1,"mat-cell",46),b(),T(84,Vs,1,0,"mat-header-row",47)(85,Os,1,2,"mat-row",48),r(),b(),I(86,49),s(87,"mat-paginator",50,1),M("page",function(l){return h(c),_(t.onTablePageingData(l))}),r(),b(),r()}o&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(7),p("checked",t.optionsSearch.data.show),n(),d("",g(15,26,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),d("",g(19,28,"ACTION.STATIST")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),d(" ",g(30,30,"ACTION.SITE")," "),n(7),d(" ",g(37,32,"ACTION.USER")," "),n(2),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(41),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(34,is)))},dependencies:[tt,V,dt,Me,Ee,he,ye,Re,De,xe,Le,Ue,Be,Oe,He,Pe,Ve,Fe,Ge,Ne,je,We,Ke,$e,Xe,ut,Te,G,ht,Ze,Qe,Ye,ze,ft,St,nt],encapsulation:2});var Io=Fi;var Gs=["vform"];function Ns(i,a){if(i&1){let e=w();s(0,"app-cms-enum-record-status-selector",38),y("modelChange",function(t){h(e);let c=f();return k(c.dataModel.recordStatus,t)||(c.dataModel.recordStatus=t),_(t)}),r()}if(i&2){let e=f();A("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Hs(i,a){if(i&1&&(s(0,"option",39),m(1),r()),i&2){let e=a.$implicit;p("value",e.value),n(),d(" ",e.description," ")}}function Fs(i,a){i&1&&(s(0,"mat-error"),m(1," LinkMemberId is "),s(2,"strong"),m(3),S(4,"translate"),r()()),i&2&&(n(3),ct(g(4,1,"MESSAGE.required")))}function js(i,a){if(i&1&&(s(0,"option",39),m(1),r()),i&2){let e=a.$implicit;p("value",e.value),n(),d(" ",e.description," ")}}function Ws(i,a){i&1&&(s(0,"mat-error"),m(1," UserAccessAreaType is "),s(2,"strong"),m(3),S(4,"translate"),r()()),i&2&&(n(3),ct(g(4,1,"MESSAGE.required")))}function qs(i,a){if(i&1){let e=w();s(0,"div",40)(1,"div",41)(2,"h5",42),m(3),r()(),s(4,"div",43)(5,"div",44)(6,"input",45),y("ngModelChange",function(t){h(e);let c=f();return k(c.dataModel.userAccessAdminAllowToAllData,t)||(c.dataModel.userAccessAdminAllowToAllData=t),_(t)}),r(),v(7,"label",46),r()()()}if(i&2){let e=f();n(3),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," "),n(3),A("ngModel",e.dataModel.userAccessAdminAllowToAllData)}}function Qs(i,a){if(i&1){let e=w();s(0,"div",40)(1,"div",41)(2,"h5",47),m(3),r()(),s(4,"div",43)(5,"div",44)(6,"input",48),y("ngModelChange",function(t){h(e);let c=f();return k(c.dataModel.userAccessAdminAllowToProfessionalData,t)||(c.dataModel.userAccessAdminAllowToProfessionalData=t),_(t)}),r(),v(7,"label",49),r()()()}if(i&2){let e=f();n(3),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," "),n(3),A("ngModel",e.dataModel.userAccessAdminAllowToProfessionalData)}}function zs(i,a){if(i&1){let e=w();s(0,"div",40)(1,"div",41)(2,"h5",50),m(3),r()(),s(4,"div",43)(5,"div",44)(6,"input",51),y("ngModelChange",function(t){h(e);let c=f();return k(c.dataModel.rememberOnDevice,t)||(c.dataModel.rememberOnDevice=t),_(t)}),r(),v(7,"label",52),r()()()}if(i&2){let e=f();n(3),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," "),n(3),A("ngModel",e.dataModel.rememberOnDevice)}}function Js(i,a){if(i&1){let e=w();s(0,"div",53)(1,"label",54),m(2),r(),s(3,"input",55),y("ngModelChange",function(t){h(e);let c=f();return k(c.dataModel.tokenExpireDate,t)||(c.dataModel.tokenExpireDate=t),_(t)}),r(),v(4,"mat-datepicker-toggle",56)(5,"mat-datepicker",57,9),r()}if(i&2){let e=q(6),o=f();n(2),ct(o.fieldsInfo.tokenExpireDate==null?null:o.fieldsInfo.tokenExpireDate.fieldTitle),n(),p("matDatepicker",e),A("ngModel",o.dataModel.tokenExpireDate),n(),p("for",e)}}function Ks(i,a){if(i&1&&(s(0,"div"),v(1,"div",58),S(2,"prettyjson"),r()),i&2){let e=f();n(),p("innerHTML",g(2,1,e.dataModel),gt)}}function $s(i,a){if(i&1){let e=w();s(0,"div",59)(1,"button",60),M("click",function(){h(e);let t=f();return _(t.onFormCancel())}),v(2,"i",61),m(3),S(4,"translate"),r(),s(5,"button",62),v(6,"i",63),m(7),S(8,"translate"),r()()}if(i&2){f();let e=q(9);n(3),d(" ",g(4,3,"ACTION.CANCEL")," "),n(2),p("disabled",!e.form.valid),n(2),d(" ",g(8,5,"ACTION.SAVE")," ")}}var ji=class ji extends rt{constructor(e,o,t,c,C,l,D,ie,te,se){super(c,new Lt,ie,se);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenUserService=c;this.cmsToastrService=C;this.tokenHelper=l;this.cmsStoreService=D;this.publicHelper=ie;this.cdr=te;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new wt;this.dataModel=new Lt;this.formInfo=new Z;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>U(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.setAccessDataType(it.Editor),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenUserService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorEdit(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onActionSiteSelect(e){e&&e.id>0&&(this.dataModel.linkSiteId=e.id)}onActionUserSelect(e){e&&e.id>0&&(this.dataModel.linkUserId=e.id)}onActionMemberSelect(e){e&&e.id?.length>0&&(this.dataModel.linkMemberId=e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ji.\u0275fac=function(o){return new(o||ji)(u(Y),u(X),u(Q),u(Rt),u(H),u(N),u(O),u(F),u(B),u(P))},ji.\u0275cmp=L({type:ji,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&J(Gs,5),o&2){let c;K(c=$())&&(t.formGroup=c.first)}},standalone:!1,features:[z],decls:69,vars:45,consts:[["vform","ngForm"],["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["DeviceClientMAC",""],["Token",""],["LinkDeviceId",""],["LinkApplicationId",""],["tokenExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(o,t){if(o&1){let c=w();s(0,"div",10),v(1,"app-progress-spinner",11),s(2,"div",12)(3,"p",13),m(4),r(),s(5,"p"),m(6),S(7,"translate"),r(),s(8,"form",14,0),M("ngSubmit",function(){return h(c),_(t.onFormSubmit())}),T(10,Ns,1,5,"app-cms-enum-record-status-selector",15),s(11,"div",16)(12,"select",17,1),y("ngModelChange",function(l){return h(c),k(t.dataModel.linkMemberId,l)||(t.dataModel.linkMemberId=l),_(l)}),T(14,Hs,2,2,"option",18),r(),s(15,"em"),m(16),S(17,"translate"),r(),T(18,Fs,5,3,"mat-error",19),r(),s(19,"div",16)(20,"select",20,2),y("ngModelChange",function(l){return h(c),k(t.dataModel.userAccessAreaType,l)||(t.dataModel.userAccessAreaType=l),_(l)}),T(22,js,2,2,"option",18),r(),s(23,"em"),m(24),S(25,"translate"),r(),T(26,Ws,5,3,"mat-error",19),r(),s(27,"app-cms-site-selector",21),S(28,"translate"),M("optionChange",function(l){return h(c),_(t.onActionSiteSelect(l))}),r(),s(29,"app-cms-user-selector",21),S(30,"translate"),M("optionChange",function(l){return h(c),_(t.onActionUserSelect(l))}),r(),s(31,"app-cms-member-selector",21),S(32,"translate"),M("optionChange",function(l){return h(c),_(t.onActionMemberSelect(l))}),r(),T(33,qs,8,2,"div",22)(34,Qs,8,2,"div",22)(35,zs,8,2,"div",22),s(36,"div",23)(37,"label",24),m(38,"BrowserLanguage"),r(),s(39,"input",25,3),y("ngModelChange",function(l){return h(c),k(t.dataModel.browserLanguage,l)||(t.dataModel.browserLanguage=l),_(l)}),r()(),s(41,"div",23)(42,"label",26),m(43,"UserLanguage"),r(),s(44,"input",27,4),y("ngModelChange",function(l){return h(c),k(t.dataModel.userLanguage,l)||(t.dataModel.userLanguage=l),_(l)}),r()(),s(46,"div",23)(47,"label",28),m(48,"DeviceClientMAC"),r(),s(49,"input",29,5),y("ngModelChange",function(l){return h(c),k(t.dataModel.deviceClientMAC,l)||(t.dataModel.deviceClientMAC=l),_(l)}),r()(),s(51,"div",23)(52,"label",30),m(53,"Token"),r(),s(54,"input",31,6),y("ngModelChange",function(l){return h(c),k(t.dataModel.token,l)||(t.dataModel.token=l),_(l)}),r()(),s(56,"div",23)(57,"label",32),m(58,"LinkDeviceId"),r(),s(59,"input",33,7),y("ngModelChange",function(l){return h(c),k(t.dataModel.linkDeviceId,l)||(t.dataModel.linkDeviceId=l),_(l)}),r()(),s(61,"div",23)(62,"label",34),m(63,"LinkApplicationId"),r(),s(64,"input",35,8),y("ngModelChange",function(l){return h(c),k(t.dataModel.linkApplicationId,l)||(t.dataModel.linkApplicationId=l),_(l)}),r()(),T(66,Js,7,4,"div",36)(67,Ks,3,3,"div",19)(68,$s,9,7,"div",37),r()()()}if(o&2){let c=q(13),C=q(21);n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),d(" ",t.formInfo.formTitle," "),n(2),d(" ",g(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(2),A("ngModel",t.dataModel.linkMemberId),n(2),p("ngForOf",t.dataModelEnumManageUserAccessUserTypesResult.listItems),n(2),ct(g(17,35,"TITLE.SELECT_STATUS")),n(2),p("ngIf",c.errors==null?null:c.errors.required),n(2),A("ngModel",t.dataModel.userAccessAreaType),n(2),p("ngForOf",t.dataModelEnumManageUserAccessAreaTypesResult.listItems),n(2),ct(g(25,37,"TITLE.SELECT_STATUS")),n(2),p("ngIf",C.errors==null?null:C.errors.required),n(),p("optionDisabled",!1)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",g(28,39,"TITLE.WEBSITE")),n(2),p("optionDisabled",!1)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",g(30,41,"TITLE.USER")),n(2),p("optionDisabled",!1)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",g(32,43,"TITLE.Member")),n(2),p("ngIf",t.fieldsInfo.userAccessAdminAllowToAllData==null?null:t.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),n(),p("ngIf",t.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),n(),p("ngIf",t.fieldsInfo.rememberOnDevice==null?null:t.fieldsInfo.rememberOnDevice.accessWatchField),n(4),A("ngModel",t.dataModel.browserLanguage),n(5),A("ngModel",t.dataModel.userLanguage),n(5),A("ngModel",t.dataModel.deviceClientMAC),n(5),A("ngModel",t.dataModel.token),n(5),A("ngModel",t.dataModel.linkDeviceId),n(5),A("ngModel",t.dataModel.linkApplicationId),n(2),p("ngIf",t.fieldsInfo.tokenExpireDate==null?null:t.fieldsInfo.tokenExpireDate.accessWatchField),n(),p("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(),p("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[pi,V,Bo,hi,_i,ui,io,Ci,fi,Lo,Si,Uo,no,ro,ao,gi,oo,he,at,pt,st,vi,ee,G,Tt],encapsulation:2});var bo=ji;var Xs=["vform"];function Ys(i,a){if(i&1){let e=w();s(0,"div",5)(1,"button",10),M("click",function(){h(e);let t=f();return _(t.onFormCancel())}),v(2,"i",11),m(3),S(4,"translate"),r()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var Wi=class Wi{constructor(a,e,o,t,c,C,l,D,ie,te){this.data=a;this.dialogRef=e;this.coreEnumService=o;this.coreTokenUserService=t;this.cmsToastrService=c;this.tokenHelper=C;this.cmsStoreService=l;this.cdr=D;this.publicHelper=ie;this.translate=te;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new ot;this.dataModelResult=new R;this.dataModel=new Lt;this.formInfo=new Z;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>U(this,null,function*(){this.tokenInfo=a}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Wi.\u0275fac=function(e){return new(e||Wi)(u(Y),u(X),u(Q),u(Rt),u(H),u(N),u(O),u(B),u(F),u(P))},Wi.\u0275cmp=L({type:Wi,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&J(Xs,5),e&2){let t;K(t=$())&&(o.formGroup=t.first)}},standalone:!1,decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(s(0,"div",0),m(1),r(),s(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),s(5,"div",4)(6,"div",5)(7,"small",6),m(8),r(),s(9,"small",7),m(10),r()()(),s(11,"div",8),T(12,Ys,5,3,"div",9),r()),e&2&&(n(),d(" ",o.formInfo.formTitle," "),n(2),p("optionsInfoAreaId",o.constructorInfoAreaId),n(),p("dataModel",o.dataModel)("optionMethod",1),n(4),d("",o.formInfo.formAlert," "),n(2),d("",o.formInfo.formError," "),n(2),p("ngIf",o.formInfo.formSubmitAllow))},dependencies:[V,ee,lt,G],encapsulation:2});var Mo=Wi;var Zs=()=>[5,10,20,100],el=i=>({display:i});function tl(i,a){if(i&1){let e=w();s(0,"a",52),M("click",function(){h(e);let t=f();return _(t.onActionBackToParent())}),v(1,"i",53),r()}}function il(i,a){if(i&1){let e=w();s(0,"div",18)(1,"a",54),M("click",function(){h(e);let t=f();return _(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",55)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.EDIT")," "))}function ol(i,a){if(i&1){let e=w();s(0,"div",18)(1,"a",56),M("click",function(){h(e);let t=f();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",57)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.DELETE")," "))}function nl(i,a){if(i&1){let e=w();s(0,"div",18)(1,"a",58),M("click",function(){h(e);let t=f();return _(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",59)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.VIEW")," "))}function rl(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function al(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),d(" ",e.id," ")}}function sl(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ll(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function cl(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function ml(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function dl(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function pl(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),d(" ",e.linkMemberId," ")}}function ul(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function fl(i,a){if(i&1&&v(0,"select",63),i&2){let e=f().$implicit,o=f();p("contentService",o.contentService)("row",e)("ngStyle",Ce(3,el,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Sl(i,a){if(i&1&&(s(0,"mat-cell",61),S(1,"statusCellClass"),v(2,"i",61),S(3,"statusIconClass"),T(4,fl,1,5,"select",62),r()),i&2){let e=a.$implicit,o=f();p("ngClass",g(1,3,e.recordStatus)),n(2),p("ngClass",g(3,5,e.recordStatus)),n(2),p("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function Cl(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function hl(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=f();n(),d(" ",re(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function _l(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function gl(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=f();n(),d(" ",re(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function vl(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Tl(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",61),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),p("ngClass",g(2,1,e.userAccessAdminAllowToAllData))}}function Il(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function bl(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",61),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),p("ngClass",g(2,1,e.userAccessAdminAllowToProfessionalData))}}function Ml(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function wl(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",61),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),p("ngClass",g(2,1,e.rememberOnDevice))}}function El(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Al(i,a){if(i&1&&(s(0,"mat-cell",64),m(1),S(2,"localeDateTime"),r()),i&2){let e=a.$implicit;n(),d(" ",g(2,1,e.createdDate)," ")}}function kl(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.tokenExpireDate==null?null:e.fieldsInfo.tokenExpireDate.fieldTitle," ")}}function yl(i,a){if(i&1&&(s(0,"mat-cell",64),m(1),S(2,"localeDateTime"),r()),i&2){let e=a.$implicit;n(),d(" ",g(2,1,e.tokenExpireDate)," ")}}function Rl(i,a){i&1&&(s(0,"mat-header-cell"),m(1),S(2,"translate"),r()),i&2&&(n(),d(" ",g(2,1,"TITLE.OPTION")," "))}function Dl(i,a){if(i&1&&(s(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),r()(),v(4,"mat-menu",null,2),r()),i&2){let e=q(5);n(),p("matMenuTriggerFor",e)}}function xl(i,a){i&1&&v(0,"mat-header-row")}function Ll(i,a){if(i&1){let e=w();s(0,"mat-row",67),M("click",function(){let t=h(e).$implicit,c=f();return _(c.onActionTableRowSelect(t))}),r()}if(i&2){let e=a.$implicit,o=f();ge("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var qi=class qi extends Je{constructor(e,o,t,c,C,l,D,ie,te,se,et,It){super(e,new Lt,et,C,D);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=c;this.tokenHelper=C;this.cdr=l;this.translate=D;this.cmsStoreService=ie;this.router=te;this.pageInfo=se;this.publicHelper=et;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ke;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new j;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new j;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new j;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=x.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>U(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Lt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Mo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(bo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(C,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{o.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{o.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),C=new j;C.propertyName="RecordStatus",C.value=Ae.Available,c.filters.push(C),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};qi.\u0275fac=function(o){return new(o||qi)(u(Rt),u(H),u(_e),u(Ie),u(N),u(B),u(P),u(O),u(be),u(qe),u(F),u(we))},qi.\u0275cmp=L({type:qi,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[z],decls:103,vars:41,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","tokenExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click"]],template:function(o,t){if(o&1){let c=w();s(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(l){return h(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),_(l)}),M("optionOnActionButtonMemoRow",function(){return h(c),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),_(t.onActionButtonPrintRow())}),I(1,4),m(2," -------------------------------------- "),b(),oe(3,5)(4,6),I(5,7),T(6,tl,2,0,"a",8),s(7,"a",9),M("click",function(){return h(c),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),r(),s(9,"a",9),M("click",function(){return h(c),_(t.onActionButtonReload())}),v(10,"i",11),r(),b(),I(11,12),s(12,"a",13),M("click",function(){return h(c),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),r(),s(16,"a",13),M("click",function(){return h(c),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",14),m(18),S(19,"translate"),r(),b(),oe(20,15),I(21,16),T(22,il,7,3,"div",17)(23,ol,7,3,"div",17),s(24,"div",18)(25,"a",19),M("click",function(){return h(c),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(26,"i",20)(27,"br"),r(),s(28,"p",21),m(29),S(30,"translate"),r()(),s(31,"div",18)(32,"a",19),M("click",function(){return h(c),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(33,"i",22)(34,"br"),r(),s(35,"p",21),m(36),S(37,"translate"),r()(),s(38,"div",18)(39,"a",19),M("click",function(){return h(c),_(t.onActionButtonViewMemberRow(t.tableRowSelected))}),v(40,"i",23)(41,"br"),r(),s(42,"p",21),m(43),S(44,"translate"),r()(),s(45,"div",18)(46,"a",19),M("click",function(){return h(c),_(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),v(47,"i",24)(48,"br"),r(),s(49,"p",21),m(50),S(51,"translate"),r()(),T(52,nl,7,3,"div",17),b(),I(53,25),s(54,"app-cms-search-list",26),y("optionsChange",function(l){return h(c),k(t.optionsSearch,l)||(t.optionsSearch=l),_(l)}),r(),s(55,"app-cms-statist-list",26),y("optionsChange",function(l){return h(c),k(t.optionsStatist,l)||(t.optionsStatist=l),_(l)}),r(),b(),I(56,27),s(57,"mat-table",28,0),M("matSortChange",function(){h(c);let l=q(58);return _(t.onTableSortData(l))}),I(59,29),T(60,rl,2,1,"mat-header-cell",30)(61,al,2,1,"mat-cell",31),b(),I(62,32),T(63,sl,2,1,"mat-header-cell",30)(64,ll,4,5,"mat-cell",31),b(),I(65,33),T(66,cl,2,1,"mat-header-cell",30)(67,ml,4,5,"mat-cell",31),b(),I(68,34),T(69,dl,2,1,"mat-header-cell",30)(70,pl,2,1,"mat-cell",31),b(),I(71,35),T(72,ul,2,1,"mat-header-cell",30)(73,Sl,5,7,"mat-cell",36),b(),I(74,37),T(75,Cl,2,1,"mat-header-cell",30)(76,hl,3,4,"mat-cell",31),b(),I(77,38),T(78,_l,2,1,"mat-header-cell",30)(79,gl,3,4,"mat-cell",31),b(),I(80,39),T(81,vl,2,1,"mat-header-cell",30)(82,Tl,3,3,"mat-cell",31),b(),I(83,40),T(84,Il,2,1,"mat-header-cell",30)(85,bl,3,3,"mat-cell",31),b(),I(86,41),T(87,Ml,2,1,"mat-header-cell",30)(88,wl,3,3,"mat-cell",31),b(),I(89,42),T(90,El,2,1,"mat-header-cell",30)(91,Al,3,3,"mat-cell",43),b(),I(92,44),T(93,kl,2,1,"mat-header-cell",30)(94,yl,3,3,"mat-cell",43),b(),I(95,45),T(96,Rl,3,3,"mat-header-cell",46)(97,Dl,6,1,"mat-cell",47),b(),T(98,xl,1,0,"mat-header-row",48)(99,Ll,1,2,"mat-row",49),r(),b(),I(100,50),s(101,"mat-paginator",51,1),M("page",function(l){return h(c),_(t.onTablePageingData(l))}),r(),b(),r()}o&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","report.user.list"),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(7),p("checked",t.optionsSearch.data.show),n(),d("",g(15,28,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),d("",g(19,30,"ACTION.STATIST")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),d(" ",g(30,32,"ACTION.SITE")," "),n(7),d(" ",g(37,34,"ACTION.USER")," "),n(7),d(" ",g(44,36,"ACTION.MEMBER")," "),n(7),d(" ",g(51,38,"ACTION.DEVICE")," "),n(2),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(41),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(40,Zs)))},dependencies:[tt,V,dt,Me,Ee,he,ye,Re,De,xe,Le,Ue,Be,Oe,He,Pe,Ve,Fe,Ge,Ne,je,We,Ke,$e,Xe,ut,Te,G,Ze,Qe,Ye,ze,ft,St,nt],encapsulation:2});var ai=qi;var Ul=["vform"];function Bl(i,a){if(i&1&&(s(0,"option",27),m(1),r()),i&2){let e=a.$implicit;p("value",e.value),n(),d(" ",e.description," ")}}function Vl(i,a){i&1&&(s(0,"mat-error"),m(1," UserAccessAreaType is "),s(2,"strong"),m(3),S(4,"translate"),r()()),i&2&&(n(3),ct(g(4,1,"MESSAGE.required")))}function Ol(i,a){if(i&1&&(s(0,"div"),v(1,"div",28),S(2,"prettyjson"),r()),i&2){let e=f();n(),p("innerHTML",g(2,1,e.dataModel),gt)}}function Pl(i,a){if(i&1){let e=w();s(0,"div",29)(1,"button",30),M("click",function(){h(e);let t=f();return _(t.onFormCancel())}),v(2,"i",31),m(3),S(4,"translate"),r()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var Qi=class Qi extends rt{constructor(e,o,t,c,C,l,D,ie,te,se){super(c,new Gt,te,se);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenUserBadLoginService=c;this.cmsToastrService=C;this.tokenHelper=l;this.cmsStoreService=D;this.cdr=ie;this.publicHelper=te;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new R;this.dataModel=new Gt;this.formInfo=new Z;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>U(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.setAccessDataType(it.Editor),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Qi.\u0275fac=function(o){return new(o||Qi)(u(Y),u(X),u(Q),u(Dt),u(H),u(N),u(O),u(B),u(F),u(P))},Qi.\u0275cmp=L({type:Qi,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&J(Ul,5),o&2){let c;K(c=$())&&(t.formGroup=c.first)}},standalone:!1,features:[z],decls:49,vars:33,consts:[["UsedUsername",""],["UsedPwd",""],["UserAccessAreaType","ngModel"],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.usedUsername",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedUsername","placeholder","UsedUsername","id","dataModel.usedUsername",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.usedPwd",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedPwd","placeholder","UsedPwd","id","dataModel.usedPwd",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[3,"value"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){if(o&1){let c=w();s(0,"div",6),v(1,"app-progress-spinner",7),s(2,"div",8)(3,"p",9),m(4),r(),s(5,"p"),m(6),S(7,"translate"),r(),s(8,"div",10)(9,"label",11),m(10,"UsedUsername"),r(),s(11,"input",12,0),y("ngModelChange",function(l){return h(c),k(t.dataModel.usedUsername,l)||(t.dataModel.usedUsername=l),_(l)}),r()(),s(13,"div",10)(14,"label",13),m(15,"UsedPwd"),r(),s(16,"input",14,1),y("ngModelChange",function(l){return h(c),k(t.dataModel.usedPwd,l)||(t.dataModel.usedPwd=l),_(l)}),r()(),s(18,"div",15)(19,"select",16,2),y("ngModelChange",function(l){return h(c),k(t.dataModel.userAccessAreaType,l)||(t.dataModel.userAccessAreaType=l),_(l)}),T(21,Bl,2,2,"option",17),r(),s(22,"em"),m(23),S(24,"translate"),r(),T(25,Vl,5,3,"mat-error",18),r(),v(26,"app-cms-site-selector",19),S(27,"translate"),v(28,"app-cms-user-selector",19),S(29,"translate"),v(30,"app-cms-member-selector",19),S(31,"translate"),s(32,"div",10)(33,"label",20),m(34,"LinkDeviceId"),r(),s(35,"input",21,3),y("ngModelChange",function(l){return h(c),k(t.dataModel.linkDeviceId,l)||(t.dataModel.linkDeviceId=l),_(l)}),r()(),s(37,"div",10)(38,"label",22),m(39,"LinkApplicationId"),r(),s(40,"input",23,4),y("ngModelChange",function(l){return h(c),k(t.dataModel.linkApplicationId,l)||(t.dataModel.linkApplicationId=l),_(l)}),r()(),s(42,"div",10)(43,"label",24),m(44,"DeviceClientMAC"),r(),s(45,"input",25,5),y("ngModelChange",function(l){return h(c),k(t.dataModel.deviceClientMAC,l)||(t.dataModel.deviceClientMAC=l),_(l)}),r()(),T(47,Ol,3,3,"div",18)(48,Pl,5,3,"div",26),r()()}if(o&2){let c=q(20);n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),d(" ",t.formInfo.formTitle," "),n(2),d(" ",g(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),n(5),A("ngModel",t.dataModel.usedUsername),n(5),A("ngModel",t.dataModel.usedPwd),n(3),A("ngModel",t.dataModel.userAccessAreaType),n(2),p("ngForOf",t.dataModelEnumManageUserAccessAreaTypesResult.listItems),n(2),ct(g(24,25,"TITLE.SELECT_STATUS")),n(2),p("ngIf",c.errors==null?null:c.errors.required),n(),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",g(27,27,"TITLE.WEBSITE")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",g(29,29,"TITLE.USER")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",g(31,31,"TITLE.Member")),n(5),A("ngModel",t.dataModel.linkDeviceId),n(5),A("ngModel",t.dataModel.linkApplicationId),n(5),A("ngModel",t.dataModel.deviceClientMAC),n(2),p("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(),p("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[pi,V,hi,_i,ui,Ci,fi,Si,gi,he,at,st,vi,ee,G,Tt],encapsulation:2});var wo=Qi;var Gl=["vform"];function Nl(i,a){if(i&1){let e=w();s(0,"div",5)(1,"button",10),M("click",function(){h(e);let t=f();return _(t.onFormCancel())}),v(2,"i",11),m(3),S(4,"translate"),r()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var zi=class zi{constructor(a,e,o,t,c,C,l,D,ie,te){this.data=a;this.dialogRef=e;this.coreEnumService=o;this.coreTokenUserBadLoginService=t;this.cmsToastrService=c;this.tokenHelper=C;this.cmsStoreService=l;this.cdr=D;this.publicHelper=ie;this.translate=te;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new ot;this.dataModelResult=new R;this.dataModel=new Gt;this.formInfo=new Z;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>U(this,null,function*(){this.tokenInfo=a}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};zi.\u0275fac=function(e){return new(e||zi)(u(Y),u(X),u(Q),u(Dt),u(H),u(N),u(O),u(B),u(F),u(P))},zi.\u0275cmp=L({type:zi,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&J(Gl,5),e&2){let t;K(t=$())&&(o.formGroup=t.first)}},standalone:!1,decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(s(0,"div",0),m(1),r(),s(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),s(5,"div",4)(6,"div",5)(7,"small",6),m(8),r(),s(9,"small",7),m(10),r()()(),s(11,"div",8),T(12,Nl,5,3,"div",9),r()),e&2&&(n(),d(" ",o.formInfo.formTitle," "),n(2),p("optionsInfoAreaId",o.constructorInfoAreaId),n(),p("dataModel",o.dataModel)("optionMethod",1),n(4),d("",o.formInfo.formAlert," "),n(2),d("",o.formInfo.formError," "),n(2),p("ngIf",o.formInfo.formSubmitAllow))},dependencies:[V,ee,lt,G],encapsulation:2});var Eo=zi;var Hl=()=>[5,10,20,100];function Fl(i,a){if(i&1){let e=w();s(0,"a",46),M("click",function(){h(e);let t=f();return _(t.onActionBackToParent())}),v(1,"i",47),r()}}function jl(i,a){if(i&1){let e=w();s(0,"div",18)(1,"a",48),M("click",function(){h(e);let t=f();return _(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",49)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.EDIT")," "))}function Wl(i,a){if(i&1){let e=w();s(0,"div",18)(1,"a",50),M("click",function(){h(e);let t=f();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",51)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.DELETE")," "))}function ql(i,a){if(i&1){let e=w();s(0,"div",18)(1,"a",52),M("click",function(){h(e);let t=f();return _(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",53)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.VIEW")," "))}function Ql(i,a){if(i&1&&(s(0,"mat-header-cell",54),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function zl(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),d(" ",e.id," ")}}function Jl(i,a){if(i&1&&(s(0,"mat-header-cell",54),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Kl(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function $l(i,a){if(i&1&&(s(0,"mat-header-cell",54),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Xl(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function Yl(i,a){if(i&1&&(s(0,"mat-header-cell",54),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function Zl(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),d(" ",e.linkMemberId," ")}}function ec(i,a){if(i&1&&(s(0,"mat-header-cell",54),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function tc(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=f();n(),d(" ",re(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function ic(i,a){if(i&1&&(s(0,"mat-header-cell",54),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.usedUsername==null?null:e.fieldsInfo.usedUsername.fieldTitle," ")}}function oc(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),d(" ",e.usedUsername," ")}}function nc(i,a){if(i&1&&(s(0,"mat-header-cell",54),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function rc(i,a){if(i&1&&(s(0,"mat-cell",55),m(1),S(2,"localeDateTime"),r()),i&2){let e=a.$implicit;n(),d(" ",g(2,1,e.createdDate)," ")}}function ac(i,a){i&1&&(s(0,"mat-header-cell"),m(1),S(2,"translate"),r()),i&2&&(n(),d(" ",g(2,1,"TITLE.OPTION")," "))}function sc(i,a){if(i&1&&(s(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),m(3,"more_vert"),r()(),v(4,"mat-menu",null,2),r()),i&2){let e=q(5);n(),p("matMenuTriggerFor",e)}}function lc(i,a){i&1&&v(0,"mat-header-row")}function cc(i,a){if(i&1){let e=w();s(0,"mat-row",58),M("click",function(){let t=h(e).$implicit,c=f();return _(c.onActionTableRowSelect(t))}),r()}if(i&2){let e=a.$implicit,o=f();ge("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Ji=class Ji extends Je{constructor(e,o,t,c,C,l,D,ie,te,se,et,It,E){super(o,new Gt,It,l,ie);this.coreEnumService=e;this.contentService=o;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=C;this.tokenHelper=l;this.cdr=D;this.translate=ie;this.cmsStoreService=te;this.router=se;this.pageInfo=et;this.publicHelper=It;this.dialog=E;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ke;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let Ct=new j;Ct.propertyName="LinkCmsSiteId",Ct.value=this.requestLinkSiteId,this.filteModelContent.filters.push(Ct)}if(this.requestLinkUserId>0){let Ct=new j;Ct.propertyName="LinkUserId",Ct.value=this.requestLinkUserId,this.filteModelContent.filters.push(Ct)}if(this.requestLinkDeviceId>0){let Ct=new j;Ct.propertyName="LinkDeviceId",Ct.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(Ct)}this.optionsSearch.parentMethods={onSubmit:Ct=>this.onSubmitOptionsSearch(Ct)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=x.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>U(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Gt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Eo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(wo,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(C,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{o.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{o.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),C=new j;C.propertyName="RecordStatus",C.value=Ae.Available,c.filters.push(C),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ji.\u0275fac=function(o){return new(o||Ji)(u(Q),u(Dt),u(H),u(_e),u(Ie),u(N),u(B),u(P),u(O),u(be),u(qe),u(F),u(we))},Ji.\u0275cmp=L({type:Ji,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[z],decls:88,vars:41,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UsedUsername"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click"]],template:function(o,t){if(o&1){let c=w();s(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(l){return h(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),_(l)}),M("optionOnActionButtonMemoRow",function(){return h(c),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),_(t.onActionButtonPrintRow())}),I(1,4),m(2," -------------------------------------- "),b(),oe(3,5)(4,6),I(5,7),T(6,Fl,2,0,"a",8),s(7,"a",9),M("click",function(){return h(c),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),r(),s(9,"a",9),M("click",function(){return h(c),_(t.onActionButtonReload())}),v(10,"i",11),r(),b(),I(11,12),s(12,"a",13),M("click",function(){return h(c),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),r(),s(16,"a",13),M("click",function(){return h(c),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",14),m(18),S(19,"translate"),r(),b(),oe(20,15),I(21,16),T(22,jl,7,3,"div",17)(23,Wl,7,3,"div",17),s(24,"div",18)(25,"a",19),M("click",function(){return h(c),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(26,"i",20)(27,"br"),r(),s(28,"p",21),m(29),S(30,"translate"),r()(),s(31,"div",18)(32,"a",19),M("click",function(){return h(c),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(33,"i",22)(34,"br"),r(),s(35,"p",21),m(36),S(37,"translate"),r()(),s(38,"div",18)(39,"a",19),M("click",function(){return h(c),_(t.onActionButtonViewMemberRow(t.tableRowSelected))}),v(40,"i",23)(41,"br"),r(),s(42,"p",21),m(43),S(44,"translate"),r()(),s(45,"div",18)(46,"a",19),M("click",function(){return h(c),_(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),v(47,"i",24)(48,"br"),r(),s(49,"p",21),m(50),S(51,"translate"),r()(),T(52,ql,7,3,"div",17),b(),I(53,25),s(54,"app-cms-search-list",26),y("optionsChange",function(l){return h(c),k(t.optionsSearch,l)||(t.optionsSearch=l),_(l)}),r(),s(55,"app-cms-statist-list",26),y("optionsChange",function(l){return h(c),k(t.optionsStatist,l)||(t.optionsStatist=l),_(l)}),r(),b(),I(56,27),s(57,"mat-table",28,0),M("matSortChange",function(){h(c);let l=q(58);return _(t.onTableSortData(l))}),I(59,29),T(60,Ql,2,1,"mat-header-cell",30)(61,zl,2,1,"mat-cell",31),b(),I(62,32),T(63,Jl,2,1,"mat-header-cell",30)(64,Kl,4,5,"mat-cell",31),b(),I(65,33),T(66,$l,2,1,"mat-header-cell",30)(67,Xl,4,5,"mat-cell",31),b(),I(68,34),T(69,Yl,2,1,"mat-header-cell",30)(70,Zl,2,1,"mat-cell",31),b(),I(71,35),T(72,ec,2,1,"mat-header-cell",30)(73,tc,3,4,"mat-cell",31),b(),I(74,36),T(75,ic,2,1,"mat-header-cell",30)(76,oc,2,1,"mat-cell",31),b(),I(77,37),T(78,nc,2,1,"mat-header-cell",30)(79,rc,3,3,"mat-cell",38),b(),I(80,39),T(81,ac,3,3,"mat-header-cell",40)(82,sc,6,1,"mat-cell",41),b(),T(83,lc,1,0,"mat-header-row",42)(84,cc,1,2,"mat-row",43),r(),b(),I(85,44),s(86,"mat-paginator",45,1),M("page",function(l){return h(c),_(t.onTablePageingData(l))}),r(),b(),r()}o&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(7),p("checked",t.optionsSearch.data.show),n(),d("",g(15,28,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),d("",g(19,30,"ACTION.STATIST")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),d(" ",g(30,32,"ACTION.SITE")," "),n(7),d(" ",g(37,34,"ACTION.USER")," "),n(7),d(" ",g(44,36,"ACTION.MEMBER")," "),n(7),d(" ",g(51,38,"ACTION.DEVICE")," "),n(2),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(26),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(40,Hl)))},dependencies:[V,Me,Ee,ye,Re,De,xe,Le,Ue,Be,Oe,He,Pe,Ve,Fe,Ge,Ne,je,We,Ke,$e,Xe,Te,G,Ze,Qe,Ye,ze],encapsulation:2});var si=Ji;var mc=["vform"];function dc(i,a){if(i&1){let e=w();s(0,"app-cms-enum-record-status-selector",36),y("modelChange",function(t){h(e);let c=f();return k(c.dataModel.recordStatus,t)||(c.dataModel.recordStatus=t),_(t)}),r()}if(i&2){let e=f();A("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function pc(i,a){if(i&1&&(s(0,"option",37),m(1),r()),i&2){let e=a.$implicit;p("value",e.value),n(),d(" ",e.description," ")}}function uc(i,a){i&1&&(s(0,"mat-error"),m(1," LinkMemberId is "),s(2,"strong"),m(3),S(4,"translate"),r()()),i&2&&(n(3),ct(g(4,1,"MESSAGE.required")))}function fc(i,a){if(i&1&&(s(0,"option",37),m(1),r()),i&2){let e=a.$implicit;p("value",e.value),n(),d(" ",e.description," ")}}function Sc(i,a){i&1&&(s(0,"mat-error"),m(1," UserAccessAreaType is "),s(2,"strong"),m(3),S(4,"translate"),r()()),i&2&&(n(3),ct(g(4,1,"MESSAGE.required")))}function Cc(i,a){if(i&1){let e=w();s(0,"div",38)(1,"div",39)(2,"h5",40),m(3),r()(),s(4,"div",41)(5,"div",42)(6,"input",43),y("ngModelChange",function(t){h(e);let c=f();return k(c.dataModel.userAccessAdminAllowToAllData,t)||(c.dataModel.userAccessAdminAllowToAllData=t),_(t)}),r(),v(7,"label",44),r()()()}if(i&2){let e=f();n(3),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," "),n(3),A("ngModel",e.dataModel.userAccessAdminAllowToAllData)}}function hc(i,a){if(i&1){let e=w();s(0,"div",38)(1,"div",39)(2,"h5",45),m(3),r()(),s(4,"div",41)(5,"div",42)(6,"input",46),y("ngModelChange",function(t){h(e);let c=f();return k(c.dataModel.userAccessAdminAllowToProfessionalData,t)||(c.dataModel.userAccessAdminAllowToProfessionalData=t),_(t)}),r(),v(7,"label",47),r()()()}if(i&2){let e=f();n(3),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," "),n(3),A("ngModel",e.dataModel.userAccessAdminAllowToProfessionalData)}}function _c(i,a){if(i&1){let e=w();s(0,"div",38)(1,"div",39)(2,"h5",48),m(3),r()(),s(4,"div",41)(5,"div",42)(6,"input",49),y("ngModelChange",function(t){h(e);let c=f();return k(c.dataModel.rememberOnDevice,t)||(c.dataModel.rememberOnDevice=t),_(t)}),r(),v(7,"label",50),r()()()}if(i&2){let e=f();n(3),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," "),n(3),A("ngModel",e.dataModel.rememberOnDevice)}}function gc(i,a){if(i&1){let e=w();s(0,"div",51)(1,"label",52),m(2),r(),s(3,"input",53),y("ngModelChange",function(t){h(e);let c=f();return k(c.dataModel.tokenExpireDate,t)||(c.dataModel.tokenExpireDate=t),_(t)}),r(),v(4,"mat-datepicker-toggle",54)(5,"mat-datepicker",55,8),r()}if(i&2){let e=q(6),o=f();n(2),ct(o.fieldsInfo.tokenExpireDate==null?null:o.fieldsInfo.tokenExpireDate.fieldTitle),n(),p("matDatepicker",e),A("ngModel",o.dataModel.tokenExpireDate),n(),p("for",e)}}function vc(i,a){if(i&1&&(s(0,"div"),v(1,"div",56),S(2,"prettyjson"),r()),i&2){let e=f();n(),p("innerHTML",g(2,1,e.dataModel),gt)}}function Tc(i,a){if(i&1){let e=w();s(0,"div",57)(1,"button",58),M("click",function(){h(e);let t=f();return _(t.onFormCancel())}),v(2,"i",59),m(3),S(4,"translate"),r()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var Ki=class Ki extends rt{constructor(e,o,t,c,C,l,D,ie,te,se){super(c,new Ut,te,se);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreLogTokenUserService=c;this.cmsToastrService=C;this.tokenHelper=l;this.cmsStoreService=D;this.cdr=ie;this.publicHelper=te;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new wt;this.dataModel=new Ut;this.formInfo=new Z;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>U(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreLogTokenUserService.setAccessLoad(),this.coreLogTokenUserService.setAccessDataType(it.Editor),this.coreLogTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ki.\u0275fac=function(o){return new(o||Ki)(u(Y),u(X),u(Q),u(Et),u(H),u(N),u(O),u(B),u(F),u(P))},Ki.\u0275cmp=L({type:Ki,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&J(mc,5),o&2){let c;K(c=$())&&(t.formGroup=c.first)}},standalone:!1,features:[z],decls:67,vars:45,consts:[["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],["Token",""],["tokenExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){if(o&1){let c=w();s(0,"div",9),v(1,"app-progress-spinner",10),s(2,"div",11)(3,"p",12),m(4),r(),s(5,"p"),m(6),S(7,"translate"),r(),T(8,dc,1,5,"app-cms-enum-record-status-selector",13),s(9,"div",14)(10,"select",15,0),y("ngModelChange",function(l){return h(c),k(t.dataModel.linkMemberId,l)||(t.dataModel.linkMemberId=l),_(l)}),T(12,pc,2,2,"option",16),r(),s(13,"em"),m(14),S(15,"translate"),r(),T(16,uc,5,3,"mat-error",17),r(),s(17,"div",14)(18,"select",18,1),y("ngModelChange",function(l){return h(c),k(t.dataModel.userAccessAreaType,l)||(t.dataModel.userAccessAreaType=l),_(l)}),T(20,fc,2,2,"option",16),r(),s(21,"em"),m(22),S(23,"translate"),r(),T(24,Sc,5,3,"mat-error",17),r(),v(25,"app-cms-site-selector",19),S(26,"translate"),v(27,"app-cms-user-selector",19),S(28,"translate"),v(29,"app-cms-member-selector",19),S(30,"translate"),T(31,Cc,8,2,"div",20)(32,hc,8,2,"div",20)(33,_c,8,2,"div",20),s(34,"div",21)(35,"label",22),m(36,"BrowserLanguage"),r(),s(37,"input",23,2),y("ngModelChange",function(l){return h(c),k(t.dataModel.browserLanguage,l)||(t.dataModel.browserLanguage=l),_(l)}),r()(),s(39,"div",21)(40,"label",24),m(41,"UserLanguage"),r(),s(42,"input",25,3),y("ngModelChange",function(l){return h(c),k(t.dataModel.userLanguage,l)||(t.dataModel.userLanguage=l),_(l)}),r()(),s(44,"div",21)(45,"label",26),m(46,"LinkDeviceId"),r(),s(47,"input",27,4),y("ngModelChange",function(l){return h(c),k(t.dataModel.linkDeviceId,l)||(t.dataModel.linkDeviceId=l),_(l)}),r()(),s(49,"div",21)(50,"label",28),m(51,"LinkApplicationId"),r(),s(52,"input",29,5),y("ngModelChange",function(l){return h(c),k(t.dataModel.linkApplicationId,l)||(t.dataModel.linkApplicationId=l),_(l)}),r()(),s(54,"div",21)(55,"label",30),m(56,"DeviceClientMAC"),r(),s(57,"input",31,6),y("ngModelChange",function(l){return h(c),k(t.dataModel.deviceClientMAC,l)||(t.dataModel.deviceClientMAC=l),_(l)}),r()(),s(59,"div",21)(60,"label",32),m(61,"Token"),r(),s(62,"input",33,7),y("ngModelChange",function(l){return h(c),k(t.dataModel.token,l)||(t.dataModel.token=l),_(l)}),r()(),T(64,gc,7,4,"div",34)(65,vc,3,3,"div",17)(66,Tc,5,3,"div",35),r()()}if(o&2){let c=q(11),C=q(19);n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),d(" ",t.formInfo.formTitle," "),n(2),d(" ",g(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(2),A("ngModel",t.dataModel.linkMemberId),n(2),p("ngForOf",t.dataModelEnumManageUserAccessUserTypesResult.listItems),n(2),ct(g(15,35,"TITLE.SELECT_STATUS")),n(2),p("ngIf",c.errors==null?null:c.errors.required),n(2),A("ngModel",t.dataModel.userAccessAreaType),n(2),p("ngForOf",t.dataModelEnumManageUserAccessAreaTypesResult.listItems),n(2),ct(g(23,37,"TITLE.SELECT_STATUS")),n(2),p("ngIf",C.errors==null?null:C.errors.required),n(),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",g(26,39,"TITLE.WEBSITE")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",g(28,41,"TITLE.USER")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",g(30,43,"TITLE.Member")),n(2),p("ngIf",t.fieldsInfo.userAccessAdminAllowToAllData==null?null:t.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),n(),p("ngIf",t.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),n(),p("ngIf",t.fieldsInfo.rememberOnDevice==null?null:t.fieldsInfo.rememberOnDevice.accessWatchField),n(4),A("ngModel",t.dataModel.browserLanguage),n(5),A("ngModel",t.dataModel.userLanguage),n(5),A("ngModel",t.dataModel.linkDeviceId),n(5),A("ngModel",t.dataModel.linkApplicationId),n(5),A("ngModel",t.dataModel.deviceClientMAC),n(5),A("ngModel",t.dataModel.token),n(2),p("ngIf",t.fieldsInfo.tokenExpireDate==null?null:t.fieldsInfo.tokenExpireDate.accessWatchField),n(),p("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(),p("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[pi,V,hi,_i,ui,io,Ci,fi,Si,no,ro,ao,gi,oo,he,at,pt,st,vi,ee,G,Tt],encapsulation:2});var Ao=Ki;var Ic=["vform"];function bc(i,a){if(i&1){let e=w();s(0,"div",5)(1,"button",10),M("click",function(){h(e);let t=f();return _(t.onFormCancel())}),v(2,"i",11),m(3),S(4,"translate"),r()()}i&2&&(n(3),d(" ",g(4,1,"ACTION.CANCEL")," "))}var $i=class $i{constructor(a,e,o,t,c,C,l,D,ie,te){this.data=a;this.dialogRef=e;this.coreEnumService=o;this.coreLogTokenUserService=t;this.cmsToastrService=c;this.tokenHelper=C;this.cmsStoreService=l;this.cdr=D;this.publicHelper=ie;this.translate=te;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new ot;this.dataModelResult=new R;this.dataModel=new Ut;this.formInfo=new Z;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>U(this,null,function*(){this.tokenInfo=a}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.coreLogTokenUserService.setAccessLoad(),this.coreLogTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$i.\u0275fac=function(e){return new(e||$i)(u(Y),u(X),u(Q),u(Et),u(H),u(N),u(O),u(B),u(F),u(P))},$i.\u0275cmp=L({type:$i,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&J(Ic,5),e&2){let t;K(t=$())&&(o.formGroup=t.first)}},standalone:!1,decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(s(0,"div",0),m(1),r(),s(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),s(5,"div",4)(6,"div",5)(7,"small",6),m(8),r(),s(9,"small",7),m(10),r()()(),s(11,"div",8),T(12,bc,5,3,"div",9),r()),e&2&&(n(),d(" ",o.formInfo.formTitle," "),n(2),p("optionsInfoAreaId",o.constructorInfoAreaId),n(),p("dataModel",o.dataModel)("optionMethod",1),n(4),d("",o.formInfo.formAlert," "),n(2),d("",o.formInfo.formError," "),n(2),p("ngIf",o.formInfo.formSubmitAllow))},dependencies:[V,ee,lt,G],encapsulation:2});var ko=$i;var Mc=()=>["expandedTitle"],wc=()=>[5,10,20,100];function Ec(i,a){if(i&1){let e=w();s(0,"a",45),M("click",function(){h(e);let t=f();return _(t.onActionBackToParent())}),v(1,"i",46),r()}}function Ac(i,a){if(i&1){let e=w();s(0,"div",47)(1,"a",48),M("click",function(){h(e);let t=f();return _(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",49)(3,"br"),r(),s(4,"p",50),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.EDIT")," "))}function kc(i,a){if(i&1){let e=w();s(0,"div",47)(1,"a",51),M("click",function(){h(e);let t=f();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",52)(3,"br"),r(),s(4,"p",50),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.DELETE")," "))}function yc(i,a){if(i&1){let e=w();s(0,"div",47)(1,"a",53),M("click",function(){h(e);let t=f();return _(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(2,"i",54)(3,"br"),r(),s(4,"p",50),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.SITE")," "))}function Rc(i,a){if(i&1){let e=w();s(0,"div",47)(1,"a",53),M("click",function(){h(e);let t=f();return _(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(2,"i",55)(3,"br"),r(),s(4,"p",50),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.USER")," "))}function Dc(i,a){if(i&1){let e=w();s(0,"div",47)(1,"a",53),M("click",function(){h(e);let t=f();return _(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),v(2,"i",56)(3,"br"),r(),s(4,"p",50),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.DEVICE")," "))}function xc(i,a){if(i&1){let e=w();s(0,"div",47)(1,"a",57),M("click",function(){h(e);let t=f();return _(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",58)(3,"br"),r(),s(4,"p",50),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.VIEW")," "))}function Lc(i,a){if(i&1){let e=w();s(0,"mat-row",59),M("click",function(){let t=h(e).$implicit,c=f();return _(c.onActionTableRowSelect(t))})("mouseenter",function(){let t=h(e).$implicit,c=f();return _(c.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=h(e).$implicit,c=f();return _(c.onActionTableRowMouseLeave(t))}),r()}if(i&2){let e=a.$implicit,o=f();ge("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}function Uc(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Bc(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),d(" ",e.id," ")}}function Vc(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function Oc(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),d(" ",e.description," ")}}function Pc(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Gc(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function Nc(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Hc(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function Fc(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function jc(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),d(" ",e.linkMemberUserId," ")}}function Wc(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function qc(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=f();n(),d(" ",re(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Qc(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function zc(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=f();n(),d(" ",re(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Jc(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Kc(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",61),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),p("ngClass",g(2,1,e.userAccessAdminAllowToAllData))}}function $c(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Xc(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",61),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),p("ngClass",g(2,1,e.userAccessAdminAllowToProfessionalData))}}function Yc(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Zc(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",61),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),p("ngClass",g(2,1,e.rememberOnDevice))}}function em(i,a){if(i&1&&(s(0,"mat-header-cell",60),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function tm(i,a){if(i&1&&(s(0,"mat-cell",62),m(1),S(2,"localeDateTime"),r()),i&2){let e=a.$implicit;n(),d(" ",g(2,1,e.createdDate)," ")}}function im(i,a){i&1&&(s(0,"mat-header-cell"),m(1),S(2,"translate"),r()),i&2&&(n(),d(" ",g(2,1,"TITLE.OPTION")," "))}function om(i,a){if(i&1&&(s(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),m(3,"more_vert"),r()(),v(4,"mat-menu",null,2),r()),i&2){let e=q(5);n(),p("matMenuTriggerFor",e)}}function nm(i,a){i&1&&v(0,"mat-header-row")}function rm(i,a){if(i&1){let e=w();s(0,"mat-row",65),M("click",function(){let t=h(e).$implicit,c=f();return _(c.onActionTableRowSelect(t))}),r()}if(i&2){let e=a.$implicit,o=f();ge("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}function am(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"translate"),v(3,"br"),m(4),S(5,"translate"),v(6,"br"),m(7),S(8,"translate"),S(9,"cmssiteinfo"),S(10,"async"),v(11,"br"),m(12),S(13,"translate"),S(14,"cmsuserinfo"),S(15,"async"),v(16,"br"),m(17),S(18,"translate"),S(19,"localeDateTime"),r()),i&2){let e=a.$implicit;n(),di(" ",g(2,10,"TITLE.Id")," : ",e.id," "),n(3),di(" ",g(5,12,"TITLE.Description")," : ",e.description," "),n(3),di(" ",g(8,14,"TITLE.Site_Id")," : ",g(10,18,g(9,16,e.linkSiteId))," "),n(5),di(" ",g(13,20,"TITLE.User_Id")," : ",g(15,24,g(14,22,e.linkUserId))," "),n(5),di(" ",g(18,26,"TITLE.CreationDate")," : ",g(19,28,e.createdDate)," ")}}var Xi=class Xi extends Je{constructor(e,o,t,c,C,l,D,ie,te,se,et,It){super(e,new Ut,et,C,ie);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=c;this.tokenHelper=C;this.cdr=l;this.cmsStoreService=D;this.translate=ie;this.router=te;this.pageInfo=se;this.publicHelper=et;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ke;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"];this.tabledisplayedColumnsMobileSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new j;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new j;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new j;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=x.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>U(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ut);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(ko,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Ao,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let C=this.constructor.name+"ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(C,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{o.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{o.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),C=new j;C.propertyName="RecordStatus",C.value=Ae.Available,c.filters.push(C),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Xi.\u0275fac=function(o){return new(o||Xi)(u(Et),u(H),u(_e),u(Ie),u(N),u(B),u(O),u(P),u(be),u(qe),u(F),u(we))},Xi.\u0275cmp=L({type:Xi,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[z],decls:78,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"ntk-row-expandedTitle",3,"click","mouseenter","mouseleave"],["mat-sort-header",""],[3,"ngClass"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click"]],template:function(o,t){if(o&1){let c=w();s(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(l){return h(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),_(l)}),M("optionOnActionButtonMemoRow",function(){return h(c),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),_(t.onActionButtonPrintRow())}),I(1,4),m(2," -------------------------------------- "),b(),oe(3,5)(4,6),I(5,7),T(6,Ec,2,0,"a",8),s(7,"a",9),M("click",function(){return h(c),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),r(),s(9,"a",9),M("click",function(){return h(c),_(t.onActionButtonReload())}),v(10,"i",11),r(),b(),I(11,12),s(12,"a",13),M("click",function(){return h(c),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),r(),s(16,"a",13),M("click",function(){return h(c),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",14),m(18),S(19,"translate"),r(),b(),oe(20,15),I(21,16),T(22,Ac,7,3,"div",17)(23,kc,7,3,"div",17)(24,yc,7,3,"div",17)(25,Rc,7,3,"div",17)(26,Dc,7,3,"div",17)(27,xc,7,3,"div",17),b(),I(28,18),s(29,"app-cms-search-list",19),y("optionsChange",function(l){return h(c),k(t.optionsSearch,l)||(t.optionsSearch=l),_(l)}),r(),s(30,"app-cms-statist-list",19),y("optionsChange",function(l){return h(c),k(t.optionsStatist,l)||(t.optionsStatist=l),_(l)}),r(),b(),I(31,20),s(32,"mat-table",21,0),M("matSortChange",function(){h(c);let l=q(33);return _(t.onTableSortData(l))}),T(34,Lc,1,2,"mat-row",22),I(35,23),T(36,Uc,2,1,"mat-header-cell",24)(37,Bc,2,1,"mat-cell",25),b(),I(38,26),T(39,Vc,2,1,"mat-header-cell",24)(40,Oc,2,1,"mat-cell",25),b(),I(41,27),T(42,Pc,2,1,"mat-header-cell",24)(43,Gc,4,5,"mat-cell",25),b(),I(44,28),T(45,Nc,2,1,"mat-header-cell",24)(46,Hc,4,5,"mat-cell",25),b(),I(47,29),T(48,Fc,2,1,"mat-header-cell",24)(49,jc,2,1,"mat-cell",25),b(),I(50,30),T(51,Wc,2,1,"mat-header-cell",24)(52,qc,3,4,"mat-cell",25),b(),I(53,31),T(54,Qc,2,1,"mat-header-cell",24)(55,zc,3,4,"mat-cell",25),b(),I(56,32),T(57,Jc,2,1,"mat-header-cell",24)(58,Kc,3,3,"mat-cell",25),b(),I(59,33),T(60,$c,2,1,"mat-header-cell",24)(61,Xc,3,3,"mat-cell",25),b(),I(62,34),T(63,Yc,2,1,"mat-header-cell",24)(64,Zc,3,3,"mat-cell",25),b(),I(65,35),T(66,em,2,1,"mat-header-cell",24)(67,tm,3,3,"mat-cell",36),b(),I(68,37),T(69,im,3,3,"mat-header-cell",38)(70,om,6,1,"mat-cell",39),b(),T(71,nm,1,0,"mat-header-row",40)(72,rm,1,2,"mat-row",41),I(73,42),T(74,am,20,30,"mat-cell",25),b(),r(),b(),I(75,43),s(76,"mat-paginator",44,1),M("page",function(l){return h(c),_(t.onTablePageingData(l))}),r(),b(),r()}o&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(7),p("checked",t.optionsSearch.data.show),n(),d("",g(15,28,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),d("",g(19,30,"ACTION.STATIST")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0),n(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),n(),p("ngIf",(t.tableRowSelected==null||t.tableRowSelected.deviceClientMAC==null?null:t.tableRowSelected.deviceClientMAC.length)>0),n(),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(2),p("matRowDefColumns",ve(32,Mc)),n(37),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(4),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(33,wc)))},dependencies:[tt,V,Me,Ee,ye,Re,De,xe,Le,Ue,Be,Oe,He,Pe,Ve,Fe,Ge,Ne,je,We,Ke,$e,Xe,Te,G,Ze,Qe,Ye,ze,nt],encapsulation:2});var li=Xi;var sm=()=>[5,10,20,100],lm=i=>({display:i}),cm=i=>({background:i});function mm(i,a){if(i&1){let e=w();s(0,"a",51),M("click",function(){h(e);let t=f();return _(t.onActionBackToParent())}),v(1,"i",52),r()}}function dm(i,a){if(i&1){let e=w();s(0,"div",18)(1,"a",53),M("click",function(){h(e);let t=f();return _(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",54)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.EDIT")," "))}function pm(i,a){if(i&1){let e=w();s(0,"div",18)(1,"a",55),M("click",function(){h(e);let t=f();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",56)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.DELETE")," "))}function um(i,a){if(i&1){let e=w();s(0,"div",18)(1,"a",57),M("click",function(){h(e);let t=f();return _(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",58)(3,"br"),r(),s(4,"p",21),m(5),S(6,"translate"),r()()}i&2&&(n(5),d(" ",g(6,1,"ACTION.VIEW")," "))}function fm(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Sm(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),d(" ",e.id," ")}}function Cm(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function hm(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function _m(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function gm(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),r()),i&2){let e=a.$implicit;n(),d(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function vm(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Tm(i,a){if(i&1&&(s(0,"mat-cell"),m(1),r()),i&2){let e=a.$implicit;n(),d(" ",e.linkMemberUserId," ")}}function Im(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function bm(i,a){if(i&1&&v(0,"select",62),i&2){let e=f().$implicit,o=f();p("contentService",o.contentService)("row",e)("ngStyle",Ce(3,lm,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Mm(i,a){if(i&1&&(s(0,"mat-cell",60),S(1,"statusCellClass"),v(2,"i",60),S(3,"statusIconClass"),T(4,bm,1,5,"select",61),r()),i&2){let e=a.$implicit,o=f();p("ngClass",g(1,3,e.recordStatus)),n(2),p("ngClass",g(3,5,e.recordStatus)),n(2),p("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function wm(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Em(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=f();n(),d(" ",re(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Am(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function km(i,a){if(i&1&&(s(0,"mat-cell"),m(1),S(2,"enums"),r()),i&2){let e=a.$implicit,o=f();n(),d(" ",re(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function ym(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Rm(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),p("ngClass",g(2,1,e.userAccessAdminAllowToAllData))}}function Dm(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function xm(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),p("ngClass",g(2,1,e.userAccessAdminAllowToProfessionalData))}}function Lm(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Um(i,a){if(i&1&&(s(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),r()),i&2){let e=a.$implicit;n(),p("ngClass",g(2,1,e.rememberOnDevice))}}function Bm(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Vm(i,a){if(i&1&&(s(0,"mat-cell",63),m(1),S(2,"localeDateTime"),r()),i&2){let e=a.$implicit;n(),d(" ",g(2,1,e.createdDate)," ")}}function Om(i,a){if(i&1&&(s(0,"mat-header-cell",59),m(1),r()),i&2){let e=f();n(),d(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Pm(i,a){if(i&1&&(s(0,"mat-cell",64),m(1),S(2,"persianDate"),r()),i&2){let e=a.$implicit,o=f();p("ngStyle",Ce(4,cm,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),d(" ",g(2,2,e.expireDate)," ")}}function Gm(i,a){i&1&&(s(0,"mat-header-cell"),m(1),S(2,"translate"),r()),i&2&&(n(),d(" ",g(2,1,"TITLE.OPTION")," "))}function Nm(i,a){if(i&1&&(s(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),r()(),v(4,"mat-menu",null,2),r()),i&2){let e=q(5);n(),p("matMenuTriggerFor",e)}}function Hm(i,a){i&1&&v(0,"mat-header-row")}function Fm(i,a){if(i&1){let e=w();s(0,"mat-row",67),M("click",function(){let t=h(e).$implicit,c=f();return _(c.onActionTableRowSelect(t))}),r()}if(i&2){let e=a.$implicit,o=f();ge("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Yi=class Yi extends Je{constructor(e,o,t,c,C,l,D,ie,te,se,et,It){super(e,new _t,et,C,D);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=c;this.tokenHelper=C;this.cdr=l;this.translate=D;this.cmsStoreService=ie;this.router=te;this.pageInfo=se;this.publicHelper=et;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ke;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new j;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new j;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new j;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=x.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>U(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.processOrderStore).subscribe(e=>U(this,null,function*(){var o=e.find(t=>t.contentAction=="core_token_online_update_list"&&!t.isRun);o&&o?.id?.length>0&&(o.isRun=!0,this.publicHelper.setProcessOrder(o),this.DataGetAll(t=>{o.isComplate=!0,o.isSuccess=t,this.publicHelper.setProcessOrder(o)}))})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(e=()=>{}){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new _t);let o=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(c=>{this.publicHelper.processService.processStart(o,c,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllLiveConnection(t).subscribe({next:c=>{c.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(c.access),this.dataModelResult=c,this.tableSource.data=c.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(c.access)},1e3)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(o),e&&e(!0)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(o,!1),e&&e(!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Hi,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Gi,{height:"90%",panelClass:o,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(C,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{o.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{o.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),C=new j;C.propertyName="RecordStatus",C.value=Ae.Available,c.filters.push(C),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Yi.\u0275fac=function(o){return new(o||Yi)(u(vt),u(H),u(_e),u(Ie),u(N),u(B),u(P),u(O),u(be),u(qe),u(F),u(we))},Yi.\u0275cmp=L({type:Yi,selectors:[["app-coretoken-notification-list-online"]],standalone:!1,features:[z],decls:89,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click"]],template:function(o,t){if(o&1){let c=w();s(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(l){return h(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),_(l)}),M("optionOnActionButtonMemoRow",function(){return h(c),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),_(t.onActionButtonPrintRow())}),I(1,4),m(2," -------------------------------------- "),b(),oe(3,5)(4,6),I(5,7),T(6,mm,2,0,"a",8),s(7,"a",9),M("click",function(){return h(c),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),r(),s(9,"a",9),M("click",function(){return h(c),_(t.onActionButtonReload())}),v(10,"i",11),r(),b(),I(11,12),s(12,"a",13),M("click",function(){return h(c),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),r(),s(16,"a",13),M("click",function(){return h(c),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",14),m(18),S(19,"translate"),r(),b(),oe(20,15),I(21,16),T(22,dm,7,3,"div",17)(23,pm,7,3,"div",17),s(24,"div",18)(25,"a",19),M("click",function(){return h(c),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(26,"i",20)(27,"br"),r(),s(28,"p",21),m(29),S(30,"translate"),r()(),s(31,"div",18)(32,"a",19),M("click",function(){return h(c),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(33,"i",22)(34,"br"),r(),s(35,"p",21),m(36),S(37,"translate"),r()(),T(38,um,7,3,"div",17),b(),I(39,23),s(40,"app-cms-search-list",24),y("optionsChange",function(l){return h(c),k(t.optionsSearch,l)||(t.optionsSearch=l),_(l)}),r(),s(41,"app-cms-statist-list",24),y("optionsChange",function(l){return h(c),k(t.optionsStatist,l)||(t.optionsStatist=l),_(l)}),r(),b(),I(42,25),s(43,"mat-table",26,0),M("matSortChange",function(){h(c);let l=q(44);return _(t.onTableSortData(l))}),I(45,27),T(46,fm,2,1,"mat-header-cell",28)(47,Sm,2,1,"mat-cell",29),b(),I(48,30),T(49,Cm,2,1,"mat-header-cell",28)(50,hm,4,5,"mat-cell",29),b(),I(51,31),T(52,_m,2,1,"mat-header-cell",28)(53,gm,4,5,"mat-cell",29),b(),I(54,32),T(55,vm,2,1,"mat-header-cell",28)(56,Tm,2,1,"mat-cell",29),b(),I(57,33),T(58,Im,2,1,"mat-header-cell",28)(59,Mm,5,7,"mat-cell",34),b(),I(60,35),T(61,wm,2,1,"mat-header-cell",28)(62,Em,3,4,"mat-cell",29),b(),I(63,36),T(64,Am,2,1,"mat-header-cell",28)(65,km,3,4,"mat-cell",29),b(),I(66,37),T(67,ym,2,1,"mat-header-cell",28)(68,Rm,3,3,"mat-cell",29),b(),I(69,38),T(70,Dm,2,1,"mat-header-cell",28)(71,xm,3,3,"mat-cell",29),b(),I(72,39),T(73,Lm,2,1,"mat-header-cell",28)(74,Um,3,3,"mat-cell",29),b(),I(75,40),T(76,Bm,2,1,"mat-header-cell",28)(77,Vm,3,3,"mat-cell",41),b(),I(78,42),T(79,Om,2,1,"mat-header-cell",28)(80,Pm,3,6,"mat-cell",43),b(),I(81,44),T(82,Gm,3,3,"mat-header-cell",45)(83,Nm,6,1,"mat-cell",46),b(),T(84,Hm,1,0,"mat-header-row",47)(85,Fm,1,2,"mat-row",48),r(),b(),I(86,49),s(87,"mat-paginator",50,1),M("page",function(l){return h(c),_(t.onTablePageingData(l))}),r(),b(),r()}o&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(7),p("checked",t.optionsSearch.data.show),n(),d("",g(15,26,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),d("",g(19,28,"ACTION.STATIST")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),d(" ",g(30,30,"ACTION.SITE")," "),n(7),d(" ",g(37,32,"ACTION.USER")," "),n(2),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(41),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(34,sm)))},dependencies:[tt,V,dt,Me,Ee,he,ye,Re,De,xe,Le,Ue,Be,Oe,He,Pe,Ve,Fe,Ge,Ne,je,We,Ke,$e,Xe,ut,Te,G,ht,Ze,Qe,Ye,ze,ft,St,nt],encapsulation:2});var yo=Yi;var jm=[{path:"",component:mo,data:{title:"ROUTE.CORETOKEN"},children:[{path:"user",component:ai,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkSiteId/:LinkSiteId",component:ai,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkUserId/:LinkUserId",component:ai,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkDeviceId/:LinkDeviceId",component:ai,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"userlog",component:li,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkSiteId/:LinkSiteId",component:li,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkUserId/:LinkUserId",component:li,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkDeviceId/:LinkDeviceId",component:li,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userbadlogin",component:si,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkSiteId/:LinkSiteId",component:si,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkUserId/:LinkUserId",component:si,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkDeviceId/:LinkDeviceId",component:si,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"activation",component:co,data:{title:"ROUTE.CORETOKEN.ACTIVATION"}},{path:"microservice",component:_o,data:{title:"ROUTE.CORETOKEN.MICROSERVICE"}},{path:"microservicelog",component:fo,data:{title:"ROUTE.CORETOKEN.MICROSERVICELOG"}},{path:"notification",component:Io,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"online",component:yo,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"notificationlog",component:To,data:{title:"ROUTE.CORETOKEN.NOTIFICATIONLOG"}}]}],ci=class ci{};ci.\u0275fac=function(e){return new(e||ci)},ci.\u0275mod=to({type:ci}),ci.\u0275inj=eo({imports:[Do.forChild(jm),Do]});var Ro=ci;var mi=class mi{};mi.\u0275fac=function(e){return new(e||mi)},mi.\u0275mod=to({type:mi}),mi.\u0275inj=eo({providers:[Go,Q,Rt,Et,Dt,yt,xt,At,vt,kt,No,_e],imports:[Ro,xo,Vo,Oo.withConfig({warnOnNgModelWithFormControl:"never"}),Ho]});var qo=mi;export{qo as CoreTokenModule};
