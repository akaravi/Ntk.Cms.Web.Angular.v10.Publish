import{a as Uo}from"./chunk-XP4NDQ24.js";import{a as No}from"./chunk-NWNMEVWC.js";import{a as qo}from"./chunk-FWKTQDO6.js";import{a as Go}from"./chunk-RZJLUZZN.js";import{a as pr}from"./chunk-JLELIEK5.js";import{a as lr}from"./chunk-5RL5EZDV.js";import{a as Bo}from"./chunk-GCXY2JAM.js";import{a as cr}from"./chunk-6CL47M2V.js";import{a as sr}from"./chunk-SIUS5MTY.js";import{a as Ho}from"./chunk-QGXUCCQL.js";import{a as Fo}from"./chunk-ZK44JXFW.js";import{a as Lo}from"./chunk-NQ7GWIZY.js";import{a as ut}from"./chunk-GGGJDHXV.js";import{a as rr,b as ar,c as Do,d as Ro,e as ko,g as Vo,h as Oo}from"./chunk-2EX4NELS.js";import{a as Po}from"./chunk-KDTV5CIJ.js";import{j as bo,k as Mo,l as To}from"./chunk-YM3IA5Y7.js";import{a as Le,c as At,e as vi}from"./chunk-SG43NEFY.js";import{a as xo}from"./chunk-C5NPUYFA.js";import{b as nr}from"./chunk-AOTJ5O3P.js";import{a as wo}from"./chunk-QVSBUWHR.js";import{a as or}from"./chunk-D7CEBCJB.js";import{a as Ao}from"./chunk-XHM57VXZ.js";import{a as ze}from"./chunk-5QDJNW4W.js";import{a as Q,d as Qe}from"./chunk-GGQ7GVZY.js";import{a as Si,e as wt,f as N}from"./chunk-UAJZPUTD.js";import{$ as ke,$a as K,A as Se,Ab as ci,B as An,Ba as ai,Bb as pi,C as Pn,Ca as li,Cb as di,Da as xt,Db as mi,Ea as Hn,Eb as ui,Fa as Fn,Fb as fi,Ga as Bn,Gb as _i,Ha as Nn,Hb as Ci,Ib as hi,J as Z,K as bt,Ka as Ue,Kb as yi,L as Mt,La as je,Lc as ae,Ma as Oe,N as Dn,O as Rn,Ob as Jn,Oc as le,Pb as Xn,Q as De,Qb as Yn,Qc as B,Rb as Zn,Sa as qn,Sb as er,Sc as gi,Ta as Gn,Tb as tr,Tc as ir,Ua as Un,V as _o,Va as jn,W as Re,Wa as Wn,Wb as F,Xa as Qn,Xb as O,Y as it,Ya as zn,Z as ot,Za as We,_ as Co,_a as $n,a as mo,aa as Ve,ba as Tt,c as ri,eb as ho,fb as yo,hc as Eo,ib as go,m as uo,n as z,nb as So,pb as vo,q as j,qb as Io,r as mt,s as wn,t as It,u as me,ua as kn,v as ge,va as Vn,w as Et,x as fo,xa as On,ya as Ln,yb as Kn,zb as si}from"./chunk-UQKNR4GM.js";import{$d as lt,Ab as p,Bb as Pe,Bn as ct,Ca as se,Cb as he,Cn as ti,Da as un,Dd as Qt,Eb as Ne,Ee as an,F as xe,Fa as r,Fb as qe,Gb as Ge,Gd as gn,Gn as ii,Ha as X,Hd as U,I as Be,In as oi,Jn as lo,Kb as x,Kn as bn,Lb as tt,Lc as Ce,Ld as D,Ln as ln,Mb as de,Md as Me,Nb as ft,Nn as so,Oa as S,P as we,Pb as s,Pd as H,Q as Ae,Qb as M,Rb as g,Rc as yt,Rn as co,Sa as R,Sb as ne,Ta as fn,Tc as re,Ud as L,Va as ht,Vb as w,Vn as ni,Wa as et,Wb as A,Xb as P,Xc as _n,Xn as pt,Y as mn,Ya as q,Yb as T,Yd as _t,Zb as W,_b as to,_c as Cn,ac as ye,b as Ct,bc as at,bo as po,da as h,db as _e,dn as ro,do as gt,ea as y,en as ao,fb as f,fc as m,fn as Je,fo as St,gb as _,gc as u,go as vt,hc as Xt,ib as te,in as In,jb as ie,jn as En,kb as oe,kg as st,lb as d,lr as J,mb as a,nb as l,no as dt,ob as C,p as Fe,q as pe,re as Y,rn as Zt,ro as Mn,sb as k,so as Tn,tb as V,tn as ei,to as xn,ub as Wt,ud as hn,ue as Sn,vb as b,ve as vn,vg as Yt,wd as yn,yb as E,yc as G}from"./chunk-CZ63DPC3.js";import{i as $}from"./chunk-SEDBTTTN.js";var zt=class zt{};zt.\u0275fac=function(e){return new(e||zt)},zt.\u0275mod=fn({type:zt}),zt.\u0275inj=mn({providers:[vn,St],imports:[Cn,Dn,Rn.withConfig({warnOnNgModelWithFormControl:"never"}),ir,sr,nr,$n,zn,Kn]});var dr=zt;var Fr=["vform"];function Br(n,i){if(n&1){let e=b();a(0,"button",16),E("click",function(){h(e);let o=p(3);return y(o.onActionNext())}),C(1,"i",17),s(2," < "),l()}}function Nr(n,i){if(n&1){let e=b();a(0,"button",16),E("click",function(){h(e);let o=p(3);return y(o.onActionPervious())}),C(1,"i",17),s(2," > "),l()}}function qr(n,i){if(n&1){let e=b();a(0,"div",9)(1,"button",16),E("click",function(){h(e);let o=p(2);return y(o.onFormCancel())}),C(2,"i",17),s(3),m(4,"translate"),l(),f(5,Br,3,0,"button",18),f(6,Nr,3,0,"button",18),l()}if(n&2){let e=p(2);r(3),g(" ",u(4,3,"ACTION.CANCEL")," "),r(2),_(e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0?5:-1),r(),_(e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0?6:-1)}}function Gr(n,i){if(n&1&&(a(0,"tr")(1,"td"),s(2),m(3,"translate"),l(),a(4,"td"),s(5),l()()),n&2){let e=p(2);r(2),g("",u(3,2,"TITLE.Description_Hidden"),":"),r(3),M(e.dataModel.descriptionHidden)}}function Ur(n,i){if(n&1){let e=b();a(0,"button",16),E("click",function(){h(e);let o=p(3);return y(o.onActionNext())}),C(1,"i",17),s(2," < "),l()}}function jr(n,i){if(n&1){let e=b();a(0,"button",16),E("click",function(){h(e);let o=p(3);return y(o.onActionPervious())}),C(1,"i",17),s(2," > "),l()}}function Wr(n,i){if(n&1){let e=b();a(0,"div",9)(1,"button",16),E("click",function(){h(e);let o=p(2);return y(o.onFormCancel())}),C(2,"i",17),s(3),m(4,"translate"),l(),f(5,Ur,3,0,"button",18),f(6,jr,3,0,"button",18),l()}if(n&2){let e=p(2);r(3),g(" ",u(4,3,"ACTION.CANCEL")," "),r(2),_(e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0?5:-1),r(),_(e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0?6:-1)}}function Qr(n,i){if(n&1&&(a(0,"div",8),f(1,qr,7,5,"div",9),l(),a(2,"div",10)(3,"table",11)(4,"tbody")(5,"tr")(6,"td"),s(7),l(),a(8,"td"),C(9,"i",12),m(10,"statusIconClass"),l()(),a(11,"tr")(12,"td"),s(13),l(),a(14,"td"),s(15),l()(),a(16,"tr")(17,"td")(18,"b"),s(19),l()(),a(20,"td")(21,"b"),s(22),l()()(),a(23,"tr")(24,"td"),s(25),l(),a(26,"td"),s(27),m(28,"cmsuserinfo"),m(29,"async"),l()(),a(30,"tr")(31,"td"),s(32),l(),a(33,"td"),s(34),l()(),a(35,"tr")(36,"td"),s(37),m(38,"translate"),l(),a(39,"td"),s(40),l()(),f(41,Gr,6,4,"tr"),l()()(),a(42,"div",13),C(43,"app-cms-form-result-message",14),l(),a(44,"div",15),f(45,Wr,7,5,"div",9),l()),n&2){let e=p();r(),_(e.formInfo.submitButtonEnabled?1:-1),r(6),g("",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle,":"),r(2),d("ngClass",u(10,16,e.dataModel.recordStatus)),r(4),g("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle,":"),r(2),M(e.dataModel.title),r(4),g(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle,":"),r(3),M(e.dataModel.caseCode),r(3),g("",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle,":"),r(2),M(u(29,20,u(28,18,e.dataModel.createdBy))),r(5),g("",e.fieldsInfo.linkEstateExpertId==null?null:e.fieldsInfo.linkEstateExpertId.fieldTitle,":"),r(2),M(e.dataModel.linkEstateExpertId),r(3),g("",u(38,22,"TITLE.General_Description"),":"),r(3),M(e.dataModel.description),r(),_(e.fieldsInfo.descriptionHidden!=null&&e.fieldsInfo.descriptionHidden.accessWatchField?41:-1),r(2),d("formInfo",e.formInfo),r(2),_(e.formInfo.submitButtonEnabled?45:-1)}}var Ii=class Ii{constructor(i,e,t,o,c,v,I,Ee,Ze,rt){this.data=i;this.dialogRef=e;this.coreEnumService=t;this.estateCustomerOrderService=o;this.cmsToastrService=c;this.tokenHelper=v;this.cmsStoreService=I;this.cdr=Ee;this.publicHelper=Ze;this.translate=rt;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new U;this.dataModelEstateContractTypeResult=new U;this.dataModel=new ei;this.formInfo=new Qe;this.fieldsInfo=new Map;this.optionTabledataSource=new yi;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"];this.fileManagerOpenForm=!1;this.errorMessage="";this.enumInputDataType=Yt;this.unsubscribe=[];this.step=0;this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"",this.requestPerviousItem=i.perviousItem,this.requestNextItem=i.nextItem)}ngOnInit(){if(this.translate.get("TITLE.QUICK_VIEW").subscribe(i=>{this.formInfo.formTitle=i}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>$(this,null,function*(){this.tokenInfo=i})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(i=>i.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.estateCustomerOrderService.setAccessLoad(),this.estateCustomerOrderService.setAccessDataType(lt.Editor),this.estateCustomerOrderService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.errorMessage=e.errorMessage+"<br> ( "+e.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}setStep(i){this.step=i}nextStep(){this.step++}prevStep(){this.step--}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};Ii.\u0275fac=function(e){return new(e||Ii)(S(je),S(Ue),S(Y),S(gt),S(B),S(le),S(ae),S(G),S(N),S(F))},Ii.\u0275cmp=R({type:Ii,selectors:[["app-estate-property-history-quick-view"]],viewQuery:function(e,t){if(e&1&&Ne(Fr,5),e&2){let o;qe(o=Ge())&&(t.formGroup=o.first)}},standalone:!1,decls:12,vars:4,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-header"],[1,"form-actions"],["dir","rtl",1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"table","table-striped"],[3,"ngClass"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"]],template:function(e,t){e&1&&(a(0,"div",0),C(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),s(4),l(),a(5,"a",4),E("click",function(){return t.onFormCancel()}),C(6,"i",5),l(),C(7,"hr"),l(),a(8,"div",6)(9,"p",7),s(10),l(),f(11,Qr,46,24),l()()),e&2&&(r(),d("optionsInfoAreaId",t.constructorInfoAreaId),r(3),M(t.formInfo.formTitle),r(6),g(" ",t.formInfo.formDescription," "),r(),_(t.publicHelper.processService.process.inRunAll?-1:11))},dependencies:[Ce,ri,Q,ze,re,O,At,ut],encapsulation:2});var Ei=Ii;var zr=()=>({standalone:!0});function $r(n,i){n&1&&(a(0,"em"),s(1),m(2,"translate"),l()),n&2&&(r(),g("(",u(2,1,"TITLE.Necessary"),")"))}function Kr(n,i){if(n&1&&(a(0,"mat-error"),s(1),a(2,"strong"),s(3),m(4,"translate"),l()()),n&2){let e=p(2);r(),g(" ",e.optionLabel," "),r(2),M(u(4,2,"MESSAGE.required"))}}function Jr(n,i){if(n&1){let e=b();a(0,"div",1)(1,"label",2),s(2),l(),a(3,"input",3,0),P("ngModelChange",function(o){h(e);let c=p();return A(c.modelDate,o)||(c.modelDate=o),y(o)}),l(),f(5,$r,3,3,"em"),f(6,Kr,5,4,"mat-error"),l()}if(n&2){let e=x(4),t=p();r(),d("for",W("string-",t.id)),r(),M(t.optionLabel),r(),d("placeholder",T(t.optionPlaceholder))("id",W("string-",t.id)),w("ngModel",t.modelDate),d("disabled",t.optionDisabled)("ngModelOptions",ye(13,zr))("required",t.optionRequired),r(2),_(t.optionRequired?5:-1),r(),_(e.errors!=null&&e.errors.required?6:-1)}}function Xr(n,i){if(n&1&&(a(0,"div",4),C(1,"input",5),a(2,"label",6),s(3),l(),C(4,"i",7)(5,"i",8),l()),n&2){let e=i.$implicit,t=i.$index,o=p(3);r(),d("id",to("string-",o.id,"-",t))("value",e),r(),d("for",to("string-",o.id,"-",t)),r(),M(e)}}function Yr(n,i){if(n&1&&ie(0,Xr,6,8,"div",4,te),n&2){let e=p(2);oe(e.optionDefaultValue)}}function Zr(n,i){if(n&1){let e=b();a(0,"div",9),E("change",function(){h(e);let o=p().$implicit,c=p(3);return y(c.onActionSelect(o))}),a(1,"input",10),P("ngModelChange",function(o){h(e);let c=p().$implicit,v=p(3);return A(v.itemSelected[c],o)||(v.itemSelected[c]=o),y(o)}),l(),a(2,"label",6),s(3),l(),C(4,"i",11)(5,"i",12),l()}if(n&2){let e=p(),t=e.$implicit,o=e.$index,c=p(3);r(),d("id",to("string-",c.id,"-",o))("disabled",c.optionDisabled),w("ngModel",c.itemSelected[t]),r(),d("for",to("string-",c.id,"-",o)),r(),M(t)}}function ea(n,i){if(n&1&&f(0,Zr,6,9,"div",4),n&2){let e=i.$implicit,t=p(3);_(!t.optionDisplayOnlyValid||t.itemSelected[e]?0:-1)}}function ta(n,i){if(n&1&&ie(0,ea,1,1,null,null,te),n&2){let e=p(2);oe(e.optionDefaultValue)}}function ia(n,i){if(n&1&&(a(0,"label"),s(1),l(),C(2,"br"),f(3,Yr,2,0),f(4,ta,2,0)),n&2){let e=p();ft(W("color:'",e.optionIconColor,"';")),r(),g("",e.optionLabel," :"),r(2),_(e.optionMultipleChoice?-1:3),r(),_(e.optionMultipleChoice?4:-1)}}var Pt=class Pt{constructor(){this.id=++Pt.nextId;this.modelChange=new X;this.optionMultipleChoice=!1;this.optionForceUseDefaultValue=!1;this.optionDefaultValue=[];this.optionRequired=!1;this.optionDisplayOnlyValid=!1;this.optionDisabled=!1;this.optionLabel="";this.optionPlaceholder="";this.optionIconColor="";this.privateModelDate="";this.itemSelected=new Map;this.colors=["primary","accent","warn","primary","accent","warn","primary","accent","warn"]}set model(i){i&&i.split(",").forEach(e=>{this.itemSelected[e]=!0}),this.privateModelDate=i}get modelDate(){return this.privateModelDate}set modelDate(i){this.privateModelDate=i,this.modelChange.emit(i)}ngOnInit(){}onActionSelect(i){let e=[];this.optionDefaultValue.forEach(t=>{this.itemSelected[t]&&this.itemSelected[t]===!0&&e.push(t)}),this.modelDate=e.join(",")}};Pt.nextId=0,Pt.\u0275fac=function(e){return new(e||Pt)},Pt.\u0275cmp=R({type:Pt,selectors:[["app-input-string"]],inputs:{model:"model",optionMultipleChoice:"optionMultipleChoice",optionForceUseDefaultValue:"optionForceUseDefaultValue",optionDefaultValue:"optionDefaultValue",optionRequired:"optionRequired",optionDisplayOnlyValid:"optionDisplayOnlyValid",optionDisabled:"optionDisabled",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder",optionIconColor:"optionIconColor"},outputs:{modelChange:"modelChange"},standalone:!1,decls:2,vars:2,consts:[["string",""],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"color-highlight",3,"for"],["name","string","type","text",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","id","disabled","ngModelOptions","required"],[1,"form-check","icon-check"],["type","radio","name","inlineRadioOptions",1,"form-check-input",3,"value","id"],[1,"form-check-label",3,"for"],[1,"icon-check-1","far","fa-circle","color-gray-dark","font-16"],[1,"icon-check-2","far","fa-check-circle","font-16","color-highlight"],[1,"form-check","icon-check",3,"change"],["type","checkbox",1,"form-check-input",3,"ngModelChange","disabled","ngModel","id"],[1,"icon-check-1","far","fa-square","color-gray-dark","font-16"],[1,"icon-check-2","far","fa-check-square","font-16","color-highlight"]],template:function(e,t){e&1&&(f(0,Jr,7,14,"div",1),f(1,ia,5,6)),e&2&&(_(!t.optionDefaultValue||t.optionDefaultValue.length===0?0:-1),r(),_(t.optionDefaultValue&&t.optionDefaultValue.length>0?1:-1))},dependencies:[z,uo,j,Z,ge,Re,O],encapsulation:2});var Wo=Pt;var ra=()=>({standalone:!0});function aa(n,i){n&1&&(a(0,"em"),s(1),m(2,"translate"),l()),n&2&&(r(),g("(",u(2,1,"TITLE.Necessary"),")"))}function la(n,i){if(n&1&&(a(0,"mat-error"),s(1),a(2,"strong"),s(3),m(4,"translate"),l()()),n&2){let e=p();r(),g(" ",e.optionLabel," "),r(2),M(u(4,2,"MESSAGE.required"))}}var Dt=class Dt{constructor(){this.id=++Dt.nextId;this.modelChange=new X;this.optionValueMin=null;this.optionValueMax=null;this.optionRequired=!1;this.optionDisabled=!1;this.optionLabel="";this.optionPlaceholder=""}set model(i){this.privateModelDate=i}get modelDate(){return this.privateModelDate}set modelDate(i){this.optionValueMin&&i<this.optionValueMin&&(i=this.optionValueMin),this.optionValueMax&&i>this.optionValueMax&&(i=this.optionValueMax),this.privateModelDate=i,this.modelChange.emit(i)}ngOnInit(){}};Dt.nextId=0,Dt.\u0275fac=function(e){return new(e||Dt)},Dt.\u0275cmp=R({type:Dt,selectors:[["app-input-int"]],inputs:{model:"model",optionValueMin:"optionValueMin",optionValueMax:"optionValueMax",optionRequired:"optionRequired",optionDisabled:"optionDisabled",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder"},outputs:{modelChange:"modelChange"},standalone:!1,decls:7,vars:14,consts:[["number",""],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"color-highlight",3,"for"],["matInput","","name","number","type","number",1,"form-control","validate-name",3,"ngModelChange","ngModel","id","placeholder","disabled","ngModelOptions","required"]],template:function(e,t){if(e&1){let o=b();a(0,"div",1)(1,"label",2),s(2),l(),a(3,"input",3,0),P("ngModelChange",function(v){return h(o),A(t.modelDate,v)||(t.modelDate=v),y(v)}),l(),f(5,aa,3,3,"em"),f(6,la,5,4,"mat-error"),l()}if(e&2){let o=x(4);r(),d("for",W("int-",t.id)),r(),M(t.optionLabel),r(),d("id",W("int-",t.id))("placeholder",T(t.optionPlaceholder)),w("ngModel",t.modelDate),d("disabled",t.optionDisabled)("ngModelOptions",ye(13,ra))("required",t.optionRequired),r(2),_(t.optionRequired?5:-1),r(),_(o.errors!=null&&o.errors.required?6:-1)}},dependencies:[z,fo,j,Z,ge,Re,K,wo,O],encapsulation:2});var Qo=Dt;var ca=["*"],Rt=class Rt{constructor(){this.id=++Rt.nextId;this.optionDisabled=!1;this.optionLabel="";this.modelChange=new X;this.isChecked=!1}set model(i){i&&(i===!0||i==="true"||i===1||i==="1")&&(this.isChecked=!0)}ngOnInit(){}setValueToggle(i){i==="true"?(this.isChecked=!0,this.modelChange.emit(!0)):(this.isChecked=!1,this.modelChange.emit(!1))}};Rt.nextId=0,Rt.\u0275fac=function(e){return new(e||Rt)},Rt.\u0275cmp=R({type:Rt,selectors:[["app-input-boolean"]],inputs:{optionDisabled:"optionDisabled",optionLabel:"optionLabel",model:"model"},outputs:{modelChange:"modelChange"},standalone:!1,ngContentSelectors:ca,decls:9,vars:8,consts:[[1,"d-flex","mb-3"],[1,"pt-1"],[1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox",1,"ios-input",3,"ngModelChange","change","id","ngModel","disabled"],[1,"custom-control-label",3,"for"]],template:function(e,t){e&1&&(Pe(),a(0,"div",0)(1,"div",1)(2,"h5",2),he(3),s(4),l()(),a(5,"div",3)(6,"div",4)(7,"input",5),P("ngModelChange",function(c){return A(t.isChecked,c)||(t.isChecked=c),c}),E("change",function(){return t.setValueToggle(t.isChecked?"true":"false")}),l(),C(8,"label",6),l()()()),e&2&&(r(2),_e("data-trigger-switch","boolean-"+t.id),r(2),g("",t.optionLabel," "),r(3),d("id",W("boolean-",t.id)),w("ngModel",t.isChecked),d("disabled",t.optionDisabled),r(),d("for",W("boolean-",t.id)))},dependencies:[uo,j,ge],encapsulation:2});var zo=Rt;var da=()=>({standalone:!0});function ma(n,i){n&1&&(a(0,"em"),s(1),m(2,"translate"),l()),n&2&&(r(),g("(",u(2,1,"TITLE.Necessary"),")"))}function ua(n,i){if(n&1&&(a(0,"mat-error"),s(1),a(2,"strong"),s(3),m(4,"translate"),l()()),n&2){let e=p();r(),g(" ",e.optionLabel," "),r(2),M(u(4,2,"MESSAGE.required"))}}var kt=class kt{constructor(){this.id=++kt.nextId;this.modelChange=new X;this.optionValueMin=null;this.optionValueMax=null;this.optionRequired=!1;this.optionDisabled=!1;this.optionLabel="";this.optionPlaceholder=""}set model(i){this.privateModelDate=i}get modelDate(){return this.privateModelDate}set modelDate(i){this.optionValueMin&&i<this.optionValueMin&&(i=this.optionValueMin),this.optionValueMax&&i>this.optionValueMax&&(i=this.optionValueMax),this.privateModelDate=i,this.modelChange.emit(i)}ngOnInit(){}};kt.nextId=0,kt.\u0275fac=function(e){return new(e||kt)},kt.\u0275cmp=R({type:kt,selectors:[["app-input-float"]],inputs:{model:"model",optionValueMin:"optionValueMin",optionValueMax:"optionValueMax",optionRequired:"optionRequired",optionDisabled:"optionDisabled",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder"},outputs:{modelChange:"modelChange"},standalone:!1,decls:7,vars:14,consts:[["number",""],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"color-highlight",3,"for"],["matInput","","name","number","type","number","step","0.01",1,"form-control","validate-name",3,"ngModelChange","ngModel","id","placeholder","disabled","ngModelOptions","required"]],template:function(e,t){if(e&1){let o=b();a(0,"div",1)(1,"label",2),s(2),l(),a(3,"input",3,0),P("ngModelChange",function(v){return h(o),A(t.modelDate,v)||(t.modelDate=v),y(v)}),l(),f(5,ma,3,3,"em"),f(6,ua,5,4,"mat-error"),l()}if(e&2){let o=x(4);r(),d("for",W("float-",t.id)),r(),M(t.optionLabel),r(),d("id",W("float-",t.id))("placeholder",T(t.optionPlaceholder)),w("ngModel",t.modelDate),d("disabled",t.optionDisabled)("ngModelOptions",ye(13,da))("required",t.optionRequired),r(2),_(t.optionRequired?5:-1),r(),_(o.errors!=null&&o.errors.required?6:-1)}},dependencies:[z,fo,j,Z,ge,Re,K,wo,O],encapsulation:2});var $o=kt;var _a=()=>({standalone:!0}),Mi=class Mi{constructor(){this.modelChange=new X;this.optionRequired=!1;this.optionDisabled=!1}set model(i){this.privateModelDate=i}get modelDate(){return this.privateModelDate}set modelDate(i){this.privateModelDate=i,this.modelChange.emit(i)}ngOnInit(){}};Mi.\u0275fac=function(e){return new(e||Mi)},Mi.\u0275cmp=R({type:Mi,selectors:[["app-input-date"]],inputs:{model:"model",optionRequired:"optionRequired",optionDisabled:"optionDisabled"},outputs:{modelChange:"modelChange"},standalone:!1,decls:4,vars:6,consts:[["ExpireDate",""],["matInput","",3,"ngModelChange","matDatepicker","ngModel","ngModelOptions"],["matSuffix","",3,"for","disabled"],["touchUi",""]],template:function(e,t){if(e&1){let o=b();a(0,"input",1),P("ngModelChange",function(v){return h(o),A(t.modelDate,v)||(t.modelDate=v),y(v)}),l(),C(1,"mat-datepicker-toggle",2)(2,"mat-datepicker",3,0)}if(e&2){let o=x(3);d("matDatepicker",o),w("ngModel",t.modelDate),d("ngModelOptions",ye(5,_a)),r(),d("for",o)("disabled",t.optionDisabled)}},dependencies:[z,j,ge,ai,li,xt,ot,K],encapsulation:2});var Ko=Mi;var ha=()=>({standalone:!0});function ya(n,i){n&1&&(a(0,"em"),s(1),m(2,"translate"),l()),n&2&&(r(),g("(",u(2,1,"TITLE.Necessary"),")"))}function ga(n,i){if(n&1&&(a(0,"mat-error"),s(1),a(2,"strong"),s(3),m(4,"translate"),l()()),n&2){let e=p();r(),g(" ",e.optionLabel," "),r(2),M(u(4,2,"MESSAGE.required"))}}var Vt=class Vt{constructor(){this.id=++Vt.nextId;this.modelChange=new X;this.optionRequired=!1;this.optionDisabled=!1;this.optionLabel="";this.optionPlaceholder="";this.privateModelDate=""}set model(i){this.privateModelDate=i}get modelDate(){return this.privateModelDate}set modelDate(i){this.privateModelDate=i,this.modelChange.emit(i)}ngOnInit(){}};Vt.nextId=0,Vt.\u0275fac=function(e){return new(e||Vt)},Vt.\u0275cmp=R({type:Vt,selectors:[["app-input-textarea"]],inputs:{model:"model",optionRequired:"optionRequired",optionDisabled:"optionDisabled",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder"},outputs:{modelChange:"modelChange"},standalone:!1,decls:7,vars:14,consts:[["string",""],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"color-highlight",3,"for"],["name","string","type","text","rows","5",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","id","disabled","ngModelOptions","required"]],template:function(e,t){if(e&1){let o=b();a(0,"div",1)(1,"label",2),s(2),l(),a(3,"textarea",3,0),P("ngModelChange",function(v){return h(o),A(t.modelDate,v)||(t.modelDate=v),y(v)}),l(),f(5,ya,3,3,"em"),f(6,ga,5,4,"mat-error"),l()}if(e&2){let o=x(4);r(),d("for",W("textarea-",t.id)),r(),M(t.optionLabel),r(),d("placeholder",T(t.optionPlaceholder))("id",W("textarea-",t.id)),w("ngModel",t.modelDate),d("disabled",t.optionDisabled)("ngModelOptions",ye(13,ha))("required",t.optionRequired),r(2),_(t.optionRequired?5:-1),r(),_(o.errors!=null&&o.errors.required?6:-1)}},dependencies:[z,j,Z,ge,Re,O],encapsulation:2});var Jo=Vt;var Ia=["vform"];function Ea(n,i){if(n&1){let e=b();a(0,"button",21),E("click",function(){h(e);let o=p(2);return y(o.onActionNext())}),C(1,"i",22),s(2," < "),l()}}function ba(n,i){if(n&1){let e=b();a(0,"button",21),E("click",function(){h(e);let o=p(2);return y(o.onActionPervious())}),C(1,"i",22),s(2," > "),l()}}function Ma(n,i){if(n&1&&(a(0,"tr")(1,"td"),s(2),l(),a(3,"td"),s(4),m(5,"localeDateTime"),l()()),n&2){let e=p(2);r(2),g("",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle,":"),r(2),M(u(5,2,e.dataModel.updatedDate))}}function Ta(n,i){if(n&1&&(a(0,"tr")(1,"td"),s(2),m(3,"translate"),l(),a(4,"td"),s(5),l()()),n&2){let e=p(2);r(2),g("",u(3,2,"TITLE.CreatedYaer"),":"),r(3),M(e.dataModel.createdYaer)}}function xa(n,i){if(n&1&&(a(0,"tr")(1,"td"),s(2),m(3,"translate"),l(),a(4,"td"),s(5),l()()),n&2){let e=p(2);r(2),g("",u(3,2,"TITLE.ROOM"),":"),r(3),M(e.dataModel.partition)}}function wa(n,i){if(n&1&&(a(0,"tr")(1,"td"),s(2),l(),a(3,"td"),s(4),l()()),n&2){let e=p(2);r(2),g("",e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle,":"),r(2),M(e.dataModel.area)}}function Aa(n,i){if(n&1&&(a(0,"tr")(1,"td"),s(2),l(),a(3,"td",13),s(4),l()()),n&2){let e=p(2);r(2),g("",e.fieldsInfo.aboutAgentMobile==null?null:e.fieldsInfo.aboutAgentMobile.fieldTitle,":"),r(2),M(e.dataModel.aboutAgentMobile)}}function Pa(n,i){if(n&1&&(a(0,"tr")(1,"td"),s(2),l(),a(3,"td",13),s(4),l()()),n&2){let e=p(2);r(2),g("",e.fieldsInfo.aboutAgentTel==null?null:e.fieldsInfo.aboutAgentTel.fieldTitle,":"),r(2),M(e.dataModel.aboutAgentTel)}}function Da(n,i){if(n&1&&(a(0,"tr")(1,"td"),s(2),l(),a(3,"td",13),s(4),l()()),n&2){let e=p(2);r(2),g("",e.fieldsInfo.aboutCustomerMobile==null?null:e.fieldsInfo.aboutCustomerMobile.fieldTitle,":"),r(2),g(" ",e.dataModel.aboutCustomerMobile," ")}}function Ra(n,i){if(n&1&&(a(0,"tr")(1,"td"),s(2),l(),a(3,"td",13),s(4),l()()),n&2){let e=p(2);r(2),g("",e.fieldsInfo.aboutCustomerTel==null?null:e.fieldsInfo.aboutCustomerTel.fieldTitle,":"),r(2),M(e.dataModel.aboutCustomerTel)}}function ka(n,i){if(n&1&&(a(0,"tr")(1,"td"),s(2),l(),a(3,"td"),s(4),l()()),n&2){let e=p(2);r(2),g("",e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle,":"),r(2),M(e.dataModel.address)}}function Va(n,i){if(n&1&&(a(0,"tr")(1,"td"),s(2),m(3,"translate"),l(),a(4,"td"),s(5),l()()),n&2){let e=p(2);r(2),g("",u(3,2,"TITLE.General_Description"),":"),r(3),M(e.dataModel.description)}}function Oa(n,i){if(n&1&&(a(0,"tr")(1,"td"),s(2),m(3,"translate"),l(),a(4,"td"),s(5),l()()),n&2){let e=p(2);r(2),g("",u(3,2,"TITLE.Description_Hidden"),":"),r(3),M(e.dataModel.descriptionHidden)}}function La(n,i){if(n&1&&(a(0,"tr")(1,"td"),s(2),l(),a(3,"td"),s(4),l()()),n&2){let e=p(2);r(2),g("",e.fieldsInfo.addressHidden==null?null:e.fieldsInfo.addressHidden.fieldTitle,":"),r(2),M(e.dataModel.addressHidden)}}function Ha(n,i){n&1&&(a(0,"mat-header-cell"),s(1),m(2,"translate"),l()),n&2&&(r(),g(" ",u(2,1,"TITLE.Contract")," "))}function Fa(n,i){if(n&1&&(a(0,"mat-cell"),s(1),m(2,"cmstitle"),l()),n&2){let e=i.$implicit,t=p(3);r(),g(" ",Xt(2,1,e.linkEstateContractTypeId,t.dataModelEstateContractTypeResult.listItems)," ")}}function Ba(n,i){n&1&&(a(0,"mat-header-cell"),s(1),m(2,"translate"),l()),n&2&&(r(),g(" ",u(2,1,"TITLE.Price")," "))}function Na(n,i){if(n&1&&(s(0),m(1,"translate"),m(2,"number")),n&2){let e=p(2).$implicit,t=p(3);ne(" (",u(1,2,"TITLE.SQUARE_METERS")," :",Xt(2,4,e.salePrice/t.dataModel.area,"1.0-0"),") ")}}function qa(n,i){if(n&1&&(s(0),m(1,"translate"),m(2,"number"),C(3,"br"),s(4),f(5,Na,3,7)),n&2){let e=p().$implicit,t=p(3);ne(" ",u(1,5,"TITLE.SalePrice"),": ",u(2,7,e.salePrice)," "),r(4),ne("( ",e.currencyTitle," ",e.currencySymbol," ) "),r(),_(t.dataModel.area>0?5:-1)}}function Ga(n,i){n&1&&(s(0),m(1,"translate"),m(2,"translate")),n&2&&ne(" ",u(1,2,"TITLE.SalePrice"),": ",u(2,4,"TITLE.PriceByAgreement")," ")}function Ua(n,i){if(n&1&&(s(0),m(1,"translate"),m(2,"number"),C(3,"br"),s(4)),n&2){let e=p().$implicit;ne(" ",u(1,4,"TITLE.DepositPrice"),": ",u(2,6,e.depositPrice)),r(4),ne(" ( ",e.currencyTitle," ",e.currencySymbol," ) ")}}function ja(n,i){n&1&&(s(0),m(1,"translate"),m(2,"translate")),n&2&&ne(" ",u(1,2,"TITLE.DepositPrice"),": ",u(2,4,"TITLE.PriceByAgreement")," ")}function Wa(n,i){if(n&1&&(s(0),m(1,"translate"),m(2,"number"),C(3,"br"),s(4)),n&2){let e=p().$implicit;ne(" ",u(1,4,"TITLE.RentPrice")," ",u(2,6,e.rentPrice)),r(4),ne(" ( ",e.currencyTitle," ",e.currencySymbol," ) ")}}function Qa(n,i){n&1&&(s(0),m(1,"translate"),m(2,"translate")),n&2&&ne(" ",u(1,2,"TITLE.RentPrice")," ",u(2,4,"TITLE.PriceByAgreement")," ")}function za(n,i){if(n&1&&(s(0),m(1,"translate"),m(2,"number"),C(3,"br"),s(4)),n&2){let e=p().$implicit;ne(" ",u(1,4,"TITLE.PeriodPrice"),": ",u(2,6,e.periodPrice)," "),r(4),ne(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function $a(n,i){n&1&&(s(0),m(1,"translate"),m(2,"translate")),n&2&&ne(" ",u(1,2,"TITLE.PeriodPrice"),": ",u(2,4,"TITLE.PriceByAgreement")," ")}function Ka(n,i){if(n&1&&(a(0,"mat-cell"),f(1,qa,6,9),f(2,Ga,3,6),C(3,"br"),f(4,Ua,5,8),f(5,ja,3,6),C(6,"br"),f(7,Wa,5,8),f(8,Qa,3,6),C(9,"br"),f(10,za,5,8),f(11,$a,3,6),l()),n&2){let e=i.$implicit;r(),_(e.salePrice>0?1:-1),r(),_(e.salePriceByAgreement?2:-1),r(2),_(e.depositPrice>0?4:-1),r(),_(e.depositPriceByAgreement?5:-1),r(2),_(e.rentPrice>0?7:-1),r(),_(e.rentPriceByAgreement?8:-1),r(2),_(e.periodPrice>0?10:-1),r(),_(e.periodPriceByAgreement?11:-1)}}function Ja(n,i){n&1&&(a(0,"mat-header-cell"),s(1),m(2,"translate"),l()),n&2&&(r(),g(" ",u(2,1,"TITLE.SalePrice")," "))}function Xa(n,i){if(n&1&&(s(0),m(1,"number"),C(2,"br"),s(3)),n&2){let e=p().$implicit;g(" ",u(1,3,e.salePrice)," "),r(3),ne("( ",e.currencyTitle," ",e.currencySymbol," ) ")}}function Ya(n,i){n&1&&(s(0),m(1,"translate")),n&2&&g(" ",u(1,1,"TITLE.PriceByAgreement")," ")}function Za(n,i){if(n&1&&(a(0,"mat-cell"),f(1,Xa,4,5),f(2,Ya,2,3),l()),n&2){let e=i.$implicit;r(),_(e.salePrice>0?1:-1),r(),_(e.salePriceByAgreement?2:-1)}}function el(n,i){n&1&&(a(0,"mat-header-cell"),s(1),m(2,"translate"),l()),n&2&&(r(),g(" ",u(2,1,"TITLE.DepositPrice")," "))}function tl(n,i){if(n&1&&(s(0),m(1,"number"),C(2,"br"),s(3)),n&2){let e=p().$implicit;g(" ",u(1,3,e.depositPrice)),r(3),ne(" ( ",e.currencyTitle," ",e.currencySymbol," ) ")}}function il(n,i){n&1&&(s(0),m(1,"translate")),n&2&&g(" ",u(1,1,"TITLE.PriceByAgreement")," ")}function ol(n,i){if(n&1&&(a(0,"mat-cell"),f(1,tl,4,5),f(2,il,2,3),l()),n&2){let e=i.$implicit;r(),_(e.depositPrice>0?1:-1),r(),_(e.depositPriceByAgreement?2:-1)}}function nl(n,i){n&1&&(a(0,"mat-header-cell"),s(1),m(2,"translate"),l()),n&2&&(r(),g(" ",u(2,1,"TITLE.RentPrice")," "))}function rl(n,i){if(n&1&&(s(0),m(1,"number"),C(2,"br"),s(3)),n&2){let e=p().$implicit;g(" ",u(1,3,e.rentPrice)),r(3),ne(" ( ",e.currencyTitle," ",e.currencySymbol," ) ")}}function al(n,i){n&1&&(s(0),m(1,"translate")),n&2&&g(" ",u(1,1,"TITLE.PriceByAgreement")," ")}function ll(n,i){if(n&1&&(a(0,"mat-cell"),f(1,rl,4,5),f(2,al,2,3),l()),n&2){let e=i.$implicit;r(),_(e.rentPrice>0?1:-1),r(),_(e.rentPriceByAgreement?2:-1)}}function sl(n,i){n&1&&(a(0,"mat-header-cell"),s(1),m(2,"translate"),l()),n&2&&(r(),g(" ",u(2,1,"TITLE.PeriodPrice")," "))}function cl(n,i){if(n&1&&(s(0),m(1,"number"),C(2,"br"),s(3)),n&2){let e=p().$implicit;g(" ",u(1,3,e.periodPrice)," "),r(3),ne(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function pl(n,i){n&1&&(s(0),m(1,"translate")),n&2&&g(" ",u(1,1,"TITLE.PriceByAgreement")," ")}function dl(n,i){if(n&1&&(a(0,"mat-cell"),f(1,cl,4,5),f(2,pl,2,3),l()),n&2){let e=i.$implicit;r(),_(e.periodPrice>0?1:-1),r(),_(e.periodPriceByAgreement?2:-1)}}function ml(n,i){n&1&&C(0,"mat-header-row")}function ul(n,i){if(n&1&&C(0,"mat-row"),n&2){let e=i.dataIndex;de("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function fl(n,i){if(n&1&&(a(0,"div",14)(1,"mat-table",23),k(2,24),q(3,Ha,3,3,"mat-header-cell",25)(4,Fa,3,4,"mat-cell",26),V(),k(5,27),q(6,Ba,3,3,"mat-header-cell",25)(7,Ka,12,8,"mat-cell",26),V(),k(8,28),q(9,Ja,3,3,"mat-header-cell",25)(10,Za,3,2,"mat-cell",26),V(),k(11,29),q(12,el,3,3,"mat-header-cell",25)(13,ol,3,2,"mat-cell",26),V(),k(14,30),q(15,nl,3,3,"mat-header-cell",25)(16,ll,3,2,"mat-cell",26),V(),k(17,31),q(18,sl,3,3,"mat-header-cell",25)(19,dl,3,2,"mat-cell",26),V(),q(20,ml,1,0,"mat-header-row",32)(21,ul,1,4,"mat-row",33),l()()),n&2){let e=p(2);r(),d("dataSource",e.optionTabledataSource),r(19),d("matHeaderRowDef",e.optionTabledisplayedColumns),r(),d("matRowDefColumns",e.optionTabledisplayedColumns)}}function _l(n,i){if(n&1){let e=b();a(0,"div",37),C(1,"i",38),s(2,"\xA0 "),a(3,"app-input-string",39),P("modelChange",function(o){h(e);let c=p(2).$implicit,v=p(3);return A(v.propertyDetails[c.id],o)||(v.propertyDetails[c.id]=o),y(o)}),l()()}if(n&2){let e=p(2).$implicit,t=p(3);r(),tt("color",e.iconColor),d("ngClass",e.iconFont),r(2),ft(W("color:'",e.iconColor,"';")),w("model",t.propertyDetails[e.id]),d("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionDisabled",!0)("optionDisplayOnlyValid",!0)("optionLabel",e.title)}}function Cl(n,i){if(n&1){let e=b();a(0,"div",37),C(1,"i",38),s(2,"\xA0 "),a(3,"app-input-int",40),P("modelChange",function(o){h(e);let c=p(2).$implicit,v=p(3);return A(v.propertyDetails[c.id],o)||(v.propertyDetails[c.id]=o),y(o)}),l()()}if(n&2){let e=p(2).$implicit,t=p(3);r(),tt("color",e.iconColor),d("ngClass",e.iconFont),r(2),ft(W("color:'",e.iconColor,"';")),w("model",t.propertyDetails[e.id]),d("optionDisabled",!0)("optionLabel",e.title)}}function hl(n,i){if(n&1){let e=b();C(0,"i",38),s(1,"\xA0 "),a(2,"app-input-boolean",41),P("modelChange",function(o){h(e);let c=p(3).$implicit,v=p(3);return A(v.propertyDetails[c.id],o)||(v.propertyDetails[c.id]=o),y(o)}),s(3),l()}if(n&2){let e=p(3).$implicit,t=p(3);tt("color",e.iconColor),d("ngClass",e.iconFont),r(2),w("model",t.propertyDetails[e.id]),d("optionDisabled",!0),r(),g("",e.title," ")}}function yl(n,i){if(n&1&&(a(0,"div",37),f(1,hl,4,6),l()),n&2){let e=p(2).$implicit,t=p(3);r(),_(t.propertyDetails[e.id]==="true"?1:-1)}}function gl(n,i){if(n&1){let e=b();a(0,"div",37),C(1,"i",38),s(2,"\xA0 "),a(3,"app-input-float",40),P("modelChange",function(o){h(e);let c=p(2).$implicit,v=p(3);return A(v.propertyDetails[c.id],o)||(v.propertyDetails[c.id]=o),y(o)}),l()()}if(n&2){let e=p(2).$implicit,t=p(3);r(),tt("color",e.iconColor),d("ngClass",e.iconFont),r(2),ft(W("color:'",e.iconColor,"';")),w("model",t.propertyDetails[e.id]),d("optionDisabled",!0)("optionLabel",e.title)}}function Sl(n,i){if(n&1){let e=b();a(0,"div",37),C(1,"i",38),s(2,"\xA0 "),a(3,"label"),s(4),l(),a(5,"app-input-date",41),P("modelChange",function(o){h(e);let c=p(2).$implicit,v=p(3);return A(v.propertyDetails[c.id],o)||(v.propertyDetails[c.id]=o),y(o)}),l()()}if(n&2){let e=p(2).$implicit,t=p(3);r(),tt("color",e.iconColor),d("ngClass",e.iconFont),r(2),ft(W("color:'",e.iconColor,"';")),r(),M(e.title),r(),w("model",t.propertyDetails[e.id]),d("optionDisabled",!0)}}function vl(n,i){if(n&1){let e=b();a(0,"div",37),C(1,"i",38),s(2,"\xA0 "),a(3,"app-input-textarea",40),P("modelChange",function(o){h(e);let c=p(2).$implicit,v=p(3);return A(v.propertyDetails[c.id],o)||(v.propertyDetails[c.id]=o),y(o)}),l()()}if(n&2){let e=p(2).$implicit,t=p(3);r(),tt("color",e.iconColor),d("ngClass",e.iconFont),r(2),ft(W("color:'",e.iconColor,"';")),w("model",t.propertyDetails[e.id]),d("optionDisabled",!0)("optionLabel",e.title)}}function Il(n,i){if(n&1){let e=b();a(0,"div",37),C(1,"i",38),s(2,"\xA0 "),a(3,"app-input-string",42),P("modelChange",function(o){h(e);let c=p(2).$implicit,v=p(3);return A(v.propertyDetails[c.id],o)||(v.propertyDetails[c.id]=o),y(o)}),l()()}if(n&2){let e=p(2).$implicit,t=p(3);r(),tt("color",e.iconColor),d("ngClass",e.iconFont),r(2),ft(W("color:'",e.iconColor,"';")),w("model",t.propertyDetails[e.id]),d("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionDisabled",!0)("optionLabel",e.title)}}function El(n,i){if(n&1&&f(0,_l,4,13,"div",37)(1,Cl,4,9,"div",37)(2,yl,2,1,"div",37)(3,gl,4,9,"div",37)(4,Sl,6,9,"div",37)(5,vl,4,9,"div",37)(6,Il,4,12,"div",37),n&2){let e,t=p().$implicit,o=p(3);_((e=t.inputDataType)===o.enumInputDataType.String?0:e===o.enumInputDataType.Int?1:e===o.enumInputDataType.Boolean?2:e===o.enumInputDataType.Float?3:e===o.enumInputDataType.Date?4:e===o.enumInputDataType.TextArea?5:6)}}function bl(n,i){if(n&1&&f(0,El,7,1),n&2){let e=i.$implicit,t=p(3);_(t.propertyDetails[e.id]&&t.propertyDetails[e.id].length>0?0:-1)}}function Ml(n,i){if(n&1){let e=b();a(0,"button",43),E("click",function(){h(e);let o=p(3);return y(o.prevStep())}),s(1),m(2,"translate"),l()}n&2&&(r(),g(" ",u(2,1,"ACTION.PREVIOUS")," "))}function Tl(n,i){if(n&1){let e=b();a(0,"button",44),E("click",function(){h(e);let o=p(3);return y(o.nextStep())}),s(1),m(2,"translate"),l()}n&2&&(r(),g(" ",u(2,1,"ACTION.NEXT")," "))}function xl(n,i){if(n&1){let e=b();a(0,"button",44),E("click",function(){h(e);let o=p(3);return y(o.nextStep())}),s(1),m(2,"translate"),l()}n&2&&(r(),g(" ",u(2,1,"ACTION.NEXT")," "))}function wl(n,i){if(n&1){let e=b();a(0,"mat-expansion-panel",34),E("opened",function(){let o=h(e).$index,c=p(2);return y(c.setStep(o))}),a(1,"mat-expansion-panel-header")(2,"mat-panel-title"),s(3),l(),a(4,"mat-panel-description"),s(5),a(6,"mat-icon"),s(7),l()()(),ie(8,bl,1,1,null,null,te),a(10,"mat-action-row"),f(11,Ml,3,3,"button",35),f(12,Tl,3,3,"button",36),f(13,xl,3,3,"button",36),l()()}if(n&2){let e=i.$implicit,t=i.$index,o=p(2);d("expanded",o.step===t),r(3),g(" ",e.title," "),r(2),g(" ",e.description," "),r(2),M(e.iconFont),r(),oe(e.propertyDetails),r(3),_(t>0?11:-1),r(),_(t+1<o.dataModel.propertyDetailGroups.length?12:-1),r(),_(t+1===o.dataModel.propertyDetailGroups.length?13:-1)}}function Al(n,i){if(n&1){let e=b();a(0,"button",21),E("click",function(){h(e);let o=p(3);return y(o.onActionNext())}),C(1,"i",22),s(2," < "),l()}}function Pl(n,i){if(n&1){let e=b();a(0,"button",21),E("click",function(){h(e);let o=p(3);return y(o.onActionPervious())}),C(1,"i",22),s(2," > "),l()}}function Dl(n,i){if(n&1){let e=b();a(0,"div",20)(1,"button",21),E("click",function(){h(e);let o=p(2);return y(o.onFormCancel())}),C(2,"i",22),s(3),m(4,"translate"),l(),f(5,Al,3,0,"button",9),f(6,Pl,3,0,"button",9),l()}if(n&2){let e=p(2);r(3),g(" ",u(4,3,"ACTION.CANCEL")," "),r(2),_(e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0?5:-1),r(),_(e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0?6:-1)}}function Rl(n,i){if(n&1&&(a(0,"div",8),f(1,Ea,3,0,"button",9),f(2,ba,3,0,"button",9),C(3,"hr"),l(),a(4,"div",10)(5,"table",11)(6,"tbody")(7,"tr")(8,"td")(9,"b"),s(10),m(11,"translate"),l()(),a(12,"td")(13,"b"),s(14),l()()(),a(15,"tr")(16,"td")(17,"b"),s(18),l()(),a(19,"td")(20,"b"),s(21),l()()(),a(22,"tr")(23,"td"),s(24),m(25,"translate"),l(),a(26,"td"),s(27),l()(),a(28,"tr")(29,"td"),s(30),l(),a(31,"td"),C(32,"i",12),m(33,"statusIconClass"),l()(),a(34,"tr")(35,"td"),s(36),l(),a(37,"td"),s(38),l()(),a(39,"tr")(40,"td"),s(41),l(),a(42,"td"),s(43),m(44,"localeDateTime"),l()(),f(45,Ma,6,4,"tr"),a(46,"tr")(47,"td"),s(48),l(),a(49,"td",13),s(50),m(51,"cmsuserinfo"),m(52,"async"),l()(),f(53,Ta,6,4,"tr"),a(54,"tr")(55,"td"),s(56),m(57,"translate"),l(),a(58,"td"),s(59),C(60,"br"),s(61),l()(),f(62,xa,6,4,"tr"),f(63,wa,5,2,"tr"),f(64,Aa,5,2,"tr"),f(65,Pa,5,2,"tr"),f(66,Da,5,2,"tr"),f(67,Ra,5,2,"tr"),f(68,ka,5,2,"tr"),f(69,Va,6,4,"tr"),f(70,Oa,6,4,"tr"),f(71,La,5,2,"tr"),l()(),C(72,"hr"),a(73,"p"),s(74),m(75,"translate"),l(),f(76,fl,22,3,"div",14),C(77,"hr"),a(78,"mat-accordion",15),ie(79,wl,14,7,"mat-expansion-panel",16,te),C(81,"br"),l()(),a(82,"div",17),C(83,"app-cms-form-result-message",18),l(),a(84,"div",19),f(85,Dl,7,5,"div",20),l()),n&2){let e=p();r(),_(e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0?1:-1),r(),_(e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0?2:-1),r(8),g(" ",u(11,35,"TITLE.Sharing_Key"),":"),r(4),M(e.dataModel.sharingKey),r(4),g("",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle,":"),r(3),M(e.dataModel.caseCode),r(3),g("",u(25,37,"TITLE.Property_Type"),":"),r(3),M(e.propertyTypeLanduse),r(3),g("",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle,":"),r(2),d("ngClass",u(33,39,e.dataModel.recordStatus)),r(4),g("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle,":"),r(2),M(e.dataModel.title),r(3),g("",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle,":"),r(2),M(u(44,41,e.dataModel.createdDate)),r(2),_(e.fieldsInfo.descriptionHidden!=null&&e.fieldsInfo.descriptionHidden.accessWatchField?45:-1),r(3),g("",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle,":"),r(2),g(" ",u(52,45,u(51,43,e.dataModel.createdBy))," "),r(3),_(e.dataModel.createdYaer>0?53:-1),r(3),g("",u(57,47,"TITLE.Region"),":"),r(3),g(" ",e.dataModel.linkLocationIdParentTitle),r(2),g("",e.dataModel.linkLocationIdTitle," "),r(),_(e.dataModel.partition>0?62:-1),r(),_(e.dataModel.area>0?63:-1),r(),_((e.dataModel.aboutAgentMobile==null?null:e.dataModel.aboutAgentMobile.length)>0?64:-1),r(),_((e.dataModel.aboutAgentTel==null?null:e.dataModel.aboutAgentTel.length)>0?65:-1),r(),_((e.dataModel.aboutCustomerMobile==null?null:e.dataModel.aboutCustomerMobile.length)>0?66:-1),r(),_((e.dataModel.aboutCustomerTel==null?null:e.dataModel.aboutCustomerTel.length)>0?67:-1),r(),_((e.dataModel.address==null?null:e.dataModel.address.length)>0?68:-1),r(),_((e.dataModel.description==null?null:e.dataModel.description.length)>0?69:-1),r(),_(e.fieldsInfo.descriptionHidden!=null&&e.fieldsInfo.descriptionHidden.accessWatchField?70:-1),r(),_(e.fieldsInfo.addressHidden!=null&&e.fieldsInfo.addressHidden.accessWatchField?71:-1),r(3),g(" ",u(75,49,"TITLE.List_Of_Transaction_Details_Of_This_Property")," "),r(2),_(e.publicHelper.processService.process.inRunAll?-1:76),r(3),oe(e.dataModel.propertyDetailGroups),r(4),d("formInfo",e.formInfo),r(2),_(e.formInfo.submitButtonEnabled&&!e.publicHelper.processService.process.inRunAll?85:-1)}}var Ti=class Ti{constructor(i,e,t,o,c,v,I,Ee,Ze,rt,jt){this.data=i;this.dialogRef=e;this.coreEnumService=t;this.estatePropertyService=o;this.estateContractTypeService=c;this.cmsToastrService=v;this.tokenHelper=I;this.cmsStoreService=Ee;this.cdr=Ze;this.publicHelper=rt;this.translate=jt;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new U;this.dataModelEstateContractTypeResult=new U;this.dataModel=new ti;this.formInfo=new Qe;this.fieldsInfo=new Map;this.optionTabledataSource=new yi;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"];this.fileManagerOpenForm=!1;this.errorMessage="";this.propertyTypeLanduse="";this.contractType="";this.propertyDetails=new Map;this.enumInputDataType=Yt;this.unsubscribe=[];this.step=0;this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"",this.requestPerviousItem=i.perviousItem,this.requestNextItem=i.nextItem)}ngOnInit(){if(this.translate.get("TITLE.QUICK_VIEW").subscribe(i=>{this.formInfo.formTitle=i}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getEstateContractType(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>$(this,null,function*(){this.tokenInfo=i,this.getEstateContractType()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(i=>i.unsubscribe())}keyEvent(i){(i?.key==="39"||i?.key==="ArrowRight")&&this.onActionNext(),(i?.key==="37"||i?.key==="ArrowLeft")&&this.onActionPervious()}getEstateContractType(){let i=this.constructor.name+"getEstateContractType";this.translate.get("TITLE.Get_Estate_Contract_Type").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceGetAll(null).subscribe({next:e=>{this.dataModelEstateContractTypeResult=e,this.publicHelper.processService.processStop(i)},error:e=>{this.publicHelper.processService.processStop(i)}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.estatePropertyService.setAccessLoad(),this.estatePropertyService.setAccessDataType(lt.Editor),this.estatePropertyService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,this.propertyTypeLanduse=this.dataModel.propertyTypeLanduse?.titleML,e.isSuccess?(this.optionTabledataSource.data=this.dataModel.contracts,this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(t=>{t.propertyDetails.forEach(o=>{if(this.propertyDetails[o.id]=0,this.dataModel.propertyDetailValues){let c=this.dataModel.propertyDetailValues.find(v=>v.linkPropertyDetailId===o.id);c&&(this.propertyDetails[o.id]=c.value)}})}),this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.errorMessage=e.errorMessage+"<br> ( "+e.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}setStep(i){this.step=i}nextStep(){this.step++}prevStep(){this.step--}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};Ti.\u0275fac=function(e){return new(e||Ti)(S(je),S(Ue),S(Y),S(vt),S(po),S(B),S(le),S(ae),S(G),S(N),S(F))},Ti.\u0275cmp=R({type:Ti,selectors:[["app-estate-property-quick-view"]],viewQuery:function(e,t){if(e&1&&Ne(Ia,5),e&2){let o;qe(o=Ge())&&(t.formGroup=o.first)}},hostBindings:function(e,t){e&1&&E("keyup",function(c){return t.keyEvent(c)},un)},standalone:!1,decls:12,vars:4,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-header"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["dir","rtl",1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"table","table-striped","ntk-cms-html-table"],[3,"ngClass"],[1,"input-ltr-right"],[1,"example-container","mat-elevation-z8"],[1,"example-headers-align"],[3,"expanded"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateContractTypeId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Price"],["matColumnDef","SalePrice"],["matColumnDef","DepositPrice"],["matColumnDef","RentPrice"],["matColumnDef","PeriodPrice"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[3,"opened","expanded"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],[1,"ntk-full-width"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionDisabled","optionDisplayOnlyValid","optionLabel"],[3,"modelChange","model","optionDisabled","optionLabel"],[3,"modelChange","model","optionDisabled"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionDisabled","optionLabel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"]],template:function(e,t){e&1&&(a(0,"div",0),C(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),s(4),l(),a(5,"a",4),E("click",function(){return t.onFormCancel()}),C(6,"i",5),l(),C(7,"hr"),l(),a(8,"div",6)(9,"p",7),s(10),l(),f(11,Rl,86,51),l()()),e&2&&(r(),d("optionsInfoAreaId",t.constructorInfoAreaId),r(3),M(t.formInfo.formTitle),r(6),g(" ",t.formInfo.formDescription," "),r(),_(t.publicHelper.processService.process.inRunAll?-1:11))},dependencies:[Ce,ri,Qn,qn,Gn,Un,Wn,jn,We,si,pi,fi,di,ci,_i,mi,ui,Ci,hi,Q,ze,Wo,Qo,zo,$o,Ko,Jo,re,_n,O,Bo,At,vi,ut],encapsulation:2});var xi=Ti;var kl=["*"];function Vl(n,i){if(n&1&&(a(0,"label",3),s(1),l()),n&2){let e=p();d("for",W("app-cms-site-selector-",e.id)),r(),M(e.optionLabel)}}function Ol(n,i){if(n&1&&(C(0,"img",5),m(1,"cmsthumbnail")),n&2){let e=p();d("src",T(u(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),se)}}function Ll(n,i){if(n&1&&(C(0,"img",5),m(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",T(u(1,2,e.linkMainImageIdSrc)),se)}}function Hl(n,i){if(n&1&&(a(0,"mat-option",8),f(1,Ll,2,4,"img",5),a(2,"span"),s(3),l()()),n&2){let e=i.$implicit,t=p();d("value",e)("disabled",t.optionDisabled),r(),_(e.linkMainImageIdSrc?1:-1),r(2),M(t.displayOption(e))}}function Fl(n,i){n&1&&C(0,"i",9)}function Bl(n,i){n&1&&C(0,"i",10)}function Nl(n,i){if(n&1){let e=b();a(0,"i",13),E("click",function(){h(e);let o=p();return y(o.onActionSelectClear())}),l()}}function ql(n,i){n&1&&(a(0,"em"),s(1),m(2,"translate"),l()),n&2&&(r(),g("(",u(2,1,"TITLE.Necessary"),")"))}var Ot=class Ot{constructor(i,e,t,o,c,v,I,Ee){this.coreEnumService=i;this.cmsToastrService=e;this.cdr=t;this.publicHelper=o;this.tokenHelper=c;this.cmsStoreService=v;this.translate=I;this.categoryService=Ee;this.id=++Ot.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new U;this.dataModelSelect=new ti;this.formControl=new me;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new X;this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){this.loadOptions(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(()=>$(this,null,function*(){this.loadOptions()}))),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(i=>i.unsubscribe())}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(we(""),xe(1500),Be(),Ae(i=>typeof i=="string"||typeof i=="number"?this.DataGetAll(i||""):[]))}displayFn(i){return i?i.title+" # "+i.caseCode:void 0}displayOption(i){return i?i.title+" # "+i.caseCode:void 0}DataGetAll(i){return $(this,null,function*(){let e=new En;e.rowPerPage=20,e.accessLoad=!0;let t=new D;t.propertyName="Name",t.value=i,t.searchType=L.Contains,e.filters.push(t),t=new D,t.propertyName="id",t.value=i,t.searchType=L.Equal,t.clauseType=H.Or,e.filters.push(t),t=new D,t.propertyName="CaseCode",t.value=i,t.searchType=L.Equal,t.clauseType=H.Or,e.filters.push(t),t=new D,t.propertyName="title",t.value=i,t.searchType=L.Contains,t.clauseType=H.Or,e.filters.push(t),i?.length>0&&(t=new D,t.propertyName="LinkCmsUserId",t.value=i,t.searchType=L.Equal,t.clauseType=H.Or,e.filters.push(t),t=new D,t.propertyName="aboutCustomerTel",t.value=i,t.searchType=L.Contains,t.clauseType=H.Or,e.filters.push(t),t=new D,t.propertyName="aboutCustomerMobile",t.value=i,t.searchType=L.Contains,t.clauseType=H.Or,e.filters.push(t));let o=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(o,c,this.constructorInfoAreaId)}),yield Fe(this.categoryService.ServiceGetAll(e)).then(c=>(this.dataModelResult=c,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(o),c.listItems))})}onActionSelect(i){this.optionDisabled||(this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(i){return this.filteredOptions.pipe(pe(e=>(e.find(t=>t.id===i.id)||e.push(i),e)))}onActionSelectForce(i){if(typeof i=="string"&&i.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===i)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===i)){let e=this.dataModelResult.listItems.find(t=>t.id===i);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(i).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof i==typeof ti){this.filteredOptions=this.push(i),this.dataModelSelect=i,this.formControl.setValue(i);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new ti,this.loadOptions()}};Ot.nextId=0,Ot.\u0275fac=function(e){return new(e||Ot)(S(Y),S(B),S(G),S(N),S(le),S(ae),S(F),S(vt))},Ot.\u0275cmp=R({type:Ot,selectors:[["app-estate-property-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:kl,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,t){if(e&1){let o=b();Pe(),a(0,"div",1),C(1,"app-progress-spinner",2),f(2,Vl,2,3,"label",3),a(3,"span",4),f(4,Ol,2,4,"img",5),l(),C(5,"input",6),a(6,"mat-autocomplete",7,0),E("optionSelected",function(v){return h(o),y(t.onActionSelect(v.option.value))}),ie(8,Hl,4,4,"mat-option",8,te),m(10,"async"),l(),f(11,Fl,1,0,"i",9),f(12,Bl,1,0,"i",10),f(13,Nl,1,0,"i",11),a(14,"i",12),m(15,"translate"),E("click",function(){return h(o),y(t.onActionButtonReload())}),l(),f(16,ql,3,3,"em"),he(17),l()}if(e&2){let o=x(7);r(),d("optionsInfoAreaId",t.constructorInfoAreaId),r(),_((t.optionLabel==null?null:t.optionLabel.length)>0?2:-1),r(2),_(t.dataModelSelect&&(t.dataModelSelect!=null&&t.dataModelSelect.linkMainImageIdSrc)?4:-1),r(),d("placeholder",T(t.optionPlaceholder))("id",W("app-cms-site-selector-",t.id))("formControl",t.formControl)("matAutocomplete",o)("required",t.optionRequired),_e("disabled",t.optionDisabled?!0:null),r(),d("displayWith",t.displayFn),r(2),oe(u(10,20,t.filteredOptions)),r(3),_(t.formControl.valid?-1:11),r(),_(t.optionRequired&&t.formControl.valid?12:-1),r(),_((t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0?13:-1),r(),de("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),d("title",T(u(15,22,"ACTION.RELOAD"))),r(2),_(t.optionRequired&&(!t.dataModelSelect||!t.dataModelSelect.id||(t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)===0)?16:-1)}},dependencies:[z,j,Z,Se,ke,De,Ve,it,K,Q,re,O,Le],encapsulation:2});var wi=Ot;var Gl=["*"];function Ul(n,i){if(n&1&&(a(0,"label",3),s(1),l()),n&2){let e=p();d("for",W("app-cms-site-selector-",e.id)),r(),M(e.optionLabel)}}function jl(n,i){if(n&1&&(a(0,"mat-option",6)(1,"span"),s(2),l()()),n&2){let e=i.$implicit,t=p();d("value",e)("disabled",t.optionDisabled),r(2),M(t.displayOption(e))}}function Wl(n,i){n&1&&C(0,"i",7)}function Ql(n,i){n&1&&C(0,"i",8)}function zl(n,i){if(n&1){let e=b();a(0,"i",11),E("click",function(){h(e);let o=p();return y(o.onActionSelectClear())}),l()}}function $l(n,i){n&1&&(a(0,"em"),s(1),m(2,"translate"),l()),n&2&&(r(),g("(",u(2,1,"TITLE.Necessary"),")"))}var Ft=class Ft{constructor(i,e,t,o,c,v){this.coreEnumService=i;this.cmsToastrService=e;this.translate=t;this.cdr=o;this.publicHelper=c;this.categoryService=v;this.id=++Ft.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new U;this.dataModelSelect=new ei;this.formControl=new me;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new X;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(we(""),xe(1500),Be(),Ae(i=>typeof i=="string"||typeof i=="number"?this.DataGetAll(i||""):[]))}displayFn(i){return i?i.title:void 0}displayOption(i){return i?i.title:void 0}DataGetAll(i){return $(this,null,function*(){let e=new In;e.rowPerPage=20,e.accessLoad=!0;let t=new D;i&&i.length>0&&(t.propertyName="title",t.value=i,t.searchType=L.Contains,t.clauseType=H.Or,e.filters.push(t),t=new D,t.propertyName="id",t.value=i,t.searchType=L.Equal,t.clauseType=H.Or,e.filters.push(t),t=new D,t.propertyName="description",t.value=i,t.searchType=L.Contains,t.clauseType=H.Or,e.filters.push(t),t=new D,t.propertyName="descriptionHidden",t.value=i,t.searchType=L.Contains,t.clauseType=H.Or,e.filters.push(t),t=new D,t.propertyName="LinkCmsUserId",t.value=i,t.searchType=L.Equal,t.clauseType=H.Or,e.filters.push(t),t=new D,t.propertyName="contactMobiles",t.value=i,t.searchType=L.Contains,t.clauseType=H.Or,e.filters.push(t));let o=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(o,c,this.constructorInfoAreaId)}),yield Fe(this.categoryService.ServiceGetAll(e)).then(c=>(this.dataModelResult=c,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(o),c.listItems))})}onActionSelect(i){this.optionDisabled||(this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(i){return this.filteredOptions.pipe(pe(e=>(e.find(t=>t.id===i.id)||e.push(i),e)))}onActionSelectForce(i){if(typeof i=="string"&&i.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===i)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===i)){let e=this.dataModelResult.listItems.find(t=>t.id===i);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(i).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof i==typeof ei){this.filteredOptions=this.push(i),this.dataModelSelect=i,this.formControl.setValue(i);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new ei,this.loadOptions()}};Ft.nextId=0,Ft.\u0275fac=function(e){return new(e||Ft)(S(Y),S(B),S(F),S(G),S(N),S(gt))},Ft.\u0275cmp=R({type:Ft,selectors:[["app-estate-customer-order-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Gl,decls:16,vars:23,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,t){if(e&1){let o=b();Pe(),a(0,"div",1),C(1,"app-progress-spinner",2),f(2,Ul,2,3,"label",3),C(3,"input",4),a(4,"mat-autocomplete",5,0),E("optionSelected",function(v){return h(o),y(t.onActionSelect(v.option.value))}),ie(6,jl,3,3,"mat-option",6,te),m(8,"async"),l(),f(9,Wl,1,0,"i",7),f(10,Ql,1,0,"i",8),f(11,zl,1,0,"i",9),a(12,"i",10),m(13,"translate"),E("click",function(){return h(o),y(t.onActionButtonReload())}),l(),f(14,$l,3,3,"em"),he(15),l()}if(e&2){let o=x(5);r(),d("optionsInfoAreaId",t.constructorInfoAreaId),r(),_((t.optionLabel==null?null:t.optionLabel.length)>0?2:-1),r(),d("placeholder",T(t.optionPlaceholder))("id",W("app-cms-site-selector-",t.id))("formControl",t.formControl)("matAutocomplete",o)("required",t.optionRequired),_e("disabled",t.optionDisabled?!0:null),r(),d("displayWith",t.displayFn),r(2),oe(u(8,19,t.filteredOptions)),r(3),_(t.formControl.valid?-1:9),r(),_(t.optionRequired&&t.formControl.valid?10:-1),r(),_((t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0?11:-1),r(),de("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),d("title",T(u(13,21,"ACTION.RELOAD"))),r(2),_(t.optionRequired&&(!t.dataModelSelect||!t.dataModelSelect.id||(t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)===0)?14:-1)}},dependencies:[z,j,Z,Se,ke,De,Ve,K,Q,re,O],encapsulation:2});var Ai=Ft;var Kl=["*"];function Jl(n,i){if(n&1&&(C(0,"img",4),m(1,"cmsthumbnail")),n&2){let e=p();d("src",T(u(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),se)}}function Xl(n,i){if(n&1&&(C(0,"img",4),m(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",T(u(1,2,e.linkMainImageIdSrc)),se)}}function Yl(n,i){if(n&1&&(a(0,"mat-option",8),f(1,Xl,2,4,"img",4),a(2,"span"),s(3),l()()),n&2){let e=i.$implicit,t=p();d("value",e)("disabled",t.optionDisabled),r(),_(e.linkMainImageIdSrc?1:-1),r(2),M(t.displayOption(e))}}function Zl(n,i){n&1&&C(0,"i",9)}function es(n,i){n&1&&C(0,"i",10)}function ts(n,i){if(n&1){let e=b();a(0,"i",13),E("click",function(){h(e);let o=p();return y(o.onActionSelectClear())}),l()}}function is(n,i){n&1&&(a(0,"em"),s(1),m(2,"translate"),l()),n&2&&(r(),g("(",u(2,1,"TITLE.Necessary"),")"))}var Pi=class Pi{constructor(i,e,t,o,c,v){this.coreEnumService=i;this.cmsToastrService=e;this.cdr=t;this.publicHelper=o;this.translate=c;this.categoryService=v;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new U;this.dataModelSelect=new ro;this.formControl=new me;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionRequired=!1;this.optionChange=new X;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.forceSelect=i,this.onActionSelectForce(i)}set optionSelectUserId(i){(!this.forceSelect||this.forceSelect!==null)&&this.DataGetAll(i)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(we(""),xe(1500),Be(),Ae(i=>typeof i=="string"||typeof i=="number"?this.DataGetAll(i||""):[]))}displayFn(i){return i?i.title:void 0}displayOption(i){return i?i.title:void 0}DataGetAll(i){return $(this,null,function*(){let e=new bn;e.rowPerPage=20,e.accessLoad=!0;let t=new D;typeof i=="string"&&i.length>0&&(t.propertyName="title",t.value=i,t.searchType=L.Contains,e.filters.push(t),t=new D,t.propertyName="id",t.value=i,t.searchType=L.Equal,t.clauseType=H.Or,e.filters.push(t)),i?.length>0&&(t=new D,t.propertyName="LinkCmsUserId",t.value=i,t.searchType=L.Equal,t.clauseType=H.Or,e.filters.push(t),t=new D,t.propertyName="mobileNumber",t.value=i,t.searchType=L.Contains,t.clauseType=H.Or,e.filters.push(t),t=new D,t.propertyName="phoneNumber",t.value=i,t.searchType=L.Contains,t.clauseType=H.Or,e.filters.push(t));let o=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(o,c,this.constructorInfoAreaId)}),yield Fe(this.categoryService.ServiceGetAll(e)).then(c=>(this.dataModelResult=c,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(o),c.listItems))})}onActionSelect(i){this.optionDisabled||(this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(i){return this.filteredOptions.pipe(pe(e=>(e.find(t=>t.id===i.id)||e.push(i),e)))}onActionSelectForce(i){if(typeof i=="string"&&i.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===i)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===i)){let e=this.dataModelResult.listItems.find(t=>t.id===i);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(i).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof i==typeof ro){this.filteredOptions=this.push(i),this.dataModelSelect=i,this.formControl.setValue(i);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new ro,this.loadOptions()}};Pi.\u0275fac=function(e){return new(e||Pi)(S(Y),S(B),S(G),S(N),S(F),S(co))},Pi.\u0275cmp=R({type:Pi,selectors:[["app-estate-account-agency-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionRequired:"optionRequired",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionSelectUserId:"optionSelectUserId"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Kl,decls:19,vars:22,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required"],["for","forminput",1,"color-highlight"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,t){if(e&1){let o=b();Pe(),a(0,"div",1),C(1,"app-progress-spinner",2),a(2,"span",3),f(3,Jl,2,4,"img",4),l(),C(4,"input",5),a(5,"label",6),s(6),l(),a(7,"mat-autocomplete",7,0),E("optionSelected",function(v){return h(o),y(t.onActionSelect(v.option.value))}),ie(9,Yl,4,4,"mat-option",8,te),m(11,"async"),l(),f(12,Zl,1,0,"i",9),f(13,es,1,0,"i",10),f(14,ts,1,0,"i",11),a(15,"i",12),m(16,"translate"),E("click",function(){return h(o),y(t.onActionButtonReload())}),l(),f(17,is,3,3,"em"),he(18),l()}if(e&2){let o=x(8);r(),d("optionsInfoAreaId",t.constructorInfoAreaId),r(2),_(t.dataModelSelect&&(t.dataModelSelect!=null&&t.dataModelSelect.linkMainImageIdSrc)?3:-1),r(),d("placeholder",T(t.optionPlaceholder))("formControl",t.formControl)("matAutocomplete",o)("required",t.optionRequired),_e("disabled",t.optionDisabled?!0:null),r(2),M(t.optionLabel),r(),d("displayWith",t.displayFn),r(2),oe(u(11,18,t.filteredOptions)),r(3),_(t.formControl.valid?-1:12),r(),_(t.optionRequired&&t.formControl.valid?13:-1),r(),_((t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0?14:-1),r(),de("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),d("title",T(u(16,20,"ACTION.RELOAD"))),r(2),_(t.optionRequired&&(!t.dataModelSelect||!t.dataModelSelect.id||t.dataModelSelect.id.length<=0)?17:-1)}},dependencies:[z,j,Z,Se,ke,De,Ve,it,K,Q,re,O,Le],encapsulation:2});var Di=Pi;var os=["*"];function ns(n,i){if(n&1&&(C(0,"img",4),m(1,"cmsthumbnail")),n&2){let e=p();d("src",T(u(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),se)}}function rs(n,i){if(n&1&&(C(0,"img",4),m(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",T(u(1,2,e.linkMainImageIdSrc)),se)}}function as(n,i){if(n&1&&(a(0,"mat-option",8),f(1,rs,2,4,"img",4),a(2,"span"),s(3),l()()),n&2){let e=i.$implicit,t=p();d("value",e)("disabled",t.optionDisabled),r(),_(e.linkMainImageIdSrc?1:-1),r(2),M(t.displayOption(e))}}function ls(n,i){n&1&&C(0,"i",9)}function ss(n,i){n&1&&C(0,"i",10)}function cs(n,i){if(n&1){let e=b();a(0,"i",13),E("click",function(){h(e);let o=p();return y(o.onActionSelectClear())}),l()}}function ps(n,i){n&1&&(a(0,"em"),s(1),m(2,"translate"),l()),n&2&&(r(),g("(",u(2,1,"TITLE.Necessary"),")"))}var Ri=class Ri{constructor(i,e,t,o,c,v){this.coreEnumService=i;this.cmsToastrService=e;this.translate=t;this.cdr=o;this.publicHelper=c;this.categoryService=v;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new U;this.dataModelSelect=new ao;this.formControl=new me;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionRequired=!1;this.optionChange=new X;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(we(""),xe(1500),Be(),Ae(i=>typeof i=="string"||typeof i=="number"?this.DataGetAll(i||""):[]))}displayFn(i){return i?i.title:void 0}displayOption(i){return i?i.title:void 0}DataGetAll(i){return $(this,null,function*(){let e=new ln;e.rowPerPage=20,e.accessLoad=!0;let t=new D;typeof i=="string"&&i.length>0&&(t.propertyName="title",t.value=i,t.searchType=L.Contains,t.clauseType=H.Or,e.filters.push(t),t=new D,t.propertyName="id",t.value=i,t.searchType=L.Equal,t.clauseType=H.Or,e.filters.push(t)),i?.length>0&&(t=new D,t.propertyName="LinkCmsUserId",t.value=i,t.searchType=L.Equal,t.clauseType=H.Or,e.filters.push(t),t=new D,t.propertyName="mobileNumber",t.value=i,t.searchType=L.Contains,t.clauseType=H.Or,e.filters.push(t),t=new D,t.propertyName="phoneNumber",t.value=i,t.searchType=L.Contains,t.clauseType=H.Or,e.filters.push(t));let o=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(o,c,this.constructorInfoAreaId)}),yield Fe(this.categoryService.ServiceGetAll(e)).then(c=>(this.dataModelResult=c,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(o),c.listItems))})}onActionSelect(i){this.optionDisabled||(this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(i){return this.filteredOptions.pipe(pe(e=>(e.find(t=>t.id===i.id)||e.push(i),e)))}onActionSelectForce(i){if(typeof i=="number"&&i>0){if(this.dataModelSelect&&this.dataModelSelect.linkCmsUserId===i)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(o=>o.linkCmsUserId===i)){let o=this.dataModelResult.listItems.find(c=>c.linkCmsUserId===i);this.dataModelSelect=o,this.formControl.setValue(o);return}let e=new ln,t=new D;t.propertyName="LinkCmsUserId",t.value=i,t.searchType=L.Equal,e.filters.push(t),this.categoryService.ServiceGetAll(e).subscribe({next:o=>{o.isSuccess&&(o.listItems.length>0?(this.filteredOptions=this.push(o.listItems[0]),this.dataModelSelect=o.listItems[0],this.formControl.setValue(o.listItems[0]),this.optionChange.emit(o.listItems[0])):this.cmsToastrService.typeErrorMessage(o.errorMessage))}});return}else if(typeof i=="string"&&i.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===i)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===i)){let e=this.dataModelResult.listItems.find(t=>t.id===i);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(i).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof i==typeof ao){this.filteredOptions=this.push(i),this.dataModelSelect=i,this.formControl.setValue(i);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new ao,this.loadOptions()}};Ri.\u0275fac=function(e){return new(e||Ri)(S(Y),S(B),S(F),S(G),S(N),S(ni))},Ri.\u0275cmp=R({type:Ri,selectors:[["app-estate-account-expert-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionRequired:"optionRequired",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:os,decls:19,vars:22,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required"],["for","forminput",1,"color-highlight"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,t){if(e&1){let o=b();Pe(),a(0,"div",1),C(1,"app-progress-spinner",2),a(2,"span",3),f(3,ns,2,4,"img",4),l(),C(4,"input",5),a(5,"label",6),s(6),l(),a(7,"mat-autocomplete",7,0),E("optionSelected",function(v){return h(o),y(t.onActionSelect(v.option.value))}),ie(9,as,4,4,"mat-option",8,te),m(11,"async"),l(),f(12,ls,1,0,"i",9),f(13,ss,1,0,"i",10),f(14,cs,1,0,"i",11),a(15,"i",12),m(16,"translate"),E("click",function(){return h(o),y(t.onActionButtonReload())}),l(),f(17,ps,3,3,"em"),he(18),l()}if(e&2){let o=x(8);r(),d("optionsInfoAreaId",t.constructorInfoAreaId),r(2),_(t.dataModelSelect&&(t.dataModelSelect!=null&&t.dataModelSelect.linkMainImageIdSrc)?3:-1),r(),d("placeholder",T(t.optionPlaceholder))("formControl",t.formControl)("matAutocomplete",o)("required",t.optionRequired),_e("disabled",t.optionDisabled?!0:null),r(2),M(t.optionLabel),r(),d("displayWith",t.displayFn),r(2),oe(u(11,18,t.filteredOptions)),r(3),_(t.formControl.valid?-1:12),r(),_(t.optionRequired&&t.formControl.valid?13:-1),r(),_((t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0?14:-1),r(),de("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),d("title",T(u(16,20,"ACTION.RELOAD"))),r(2),_(t.optionRequired&&(!t.dataModelSelect||!t.dataModelSelect.id||t.dataModelSelect.id.length<=0)?17:-1)}},dependencies:[z,j,Z,Se,ke,De,Ve,it,K,Q,re,O,Le],encapsulation:2});var ki=Ri;var gr=["*","*"];function ds(n,i){if(n&1&&(a(0,"label",4),s(1),l()),n&2){let e=p(2);d("for",W("app-cms-site-selector-",e.id)),r(),M(e.optionLabel)}}function ms(n,i){if(n&1&&(C(0,"img",6),m(1,"cmsthumbnail")),n&2){let e=p(2);d("src",T(u(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),se)}}function us(n,i){if(n&1&&(C(0,"img",6),m(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",T(u(1,2,e.linkMainImageIdSrc)),se)}}function fs(n,i){if(n&1&&(a(0,"mat-option",9),f(1,us,2,4,"img",6),a(2,"span"),s(3),l()()),n&2){let e=i.$implicit,t=p(2);d("value",e)("disabled",t.optionDisabled),r(),_(e.linkMainImageIdSrc?1:-1),r(2),M(t.displayOption(e))}}function _s(n,i){n&1&&C(0,"i",10)}function Cs(n,i){n&1&&C(0,"i",11)}function hs(n,i){if(n&1){let e=b();a(0,"i",14),E("click",function(){h(e);let o=p(2);return y(o.onActionSelectClear())}),l()}}function ys(n,i){n&1&&(a(0,"em"),s(1),m(2,"translate"),l()),n&2&&(r(),g("(",u(2,1,"TITLE.Necessary"),")"))}function gs(n,i){if(n&1){let e=b();a(0,"div",1),C(1,"app-progress-spinner",3),f(2,ds,2,3,"label",4),a(3,"span",5),f(4,ms,2,4,"img",6),l(),C(5,"input",7),a(6,"mat-autocomplete",8,0),E("optionSelected",function(o){h(e);let c=p();return y(c.onActionSelect(o.option.value))}),ie(8,fs,4,4,"mat-option",9,te),m(10,"async"),l(),f(11,_s,1,0,"i",10),f(12,Cs,1,0,"i",11),f(13,hs,1,0,"i",12),a(14,"i",13),m(15,"translate"),E("click",function(){h(e);let o=p();return y(o.onActionButtonReload())}),l(),f(16,ys,3,3,"em"),he(17),l()}if(n&2){let e=x(7),t=p();r(),d("optionsInfoAreaId",t.constructorInfoAreaId),r(),_((t.optionLabel==null?null:t.optionLabel.length)>0?2:-1),r(2),_(t.dataModelSelect&&(t.dataModelSelect!=null&&t.dataModelSelect.linkMainImageIdSrc)?4:-1),r(),d("placeholder",T(t.optionPlaceholder))("id",W("app-cms-site-selector-",t.id))("formControl",t.formControl)("matAutocomplete",e)("required",t.optionRequired),_e("disabled",t.optionDisabled?!0:null),r(),d("displayWith",t.displayFn),r(2),oe(u(10,20,t.filteredOptions)),r(3),_(t.formControl.valid?-1:11),r(),_(t.optionRequired&&t.formControl.valid?12:-1),r(),_((t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0?13:-1),r(),de("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),d("title",T(u(15,22,"ACTION.RELOAD"))),r(2),_(t.optionRequired&&(!t.dataModelSelect||!t.dataModelSelect.id||(t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)==0)?16:-1)}}function Ss(n,i){if(n&1){let e=b();a(0,"div",15)(1,"a",16),E("click",function(){let o=h(e).$implicit,c=p(2);return y(c.onActionSelect(o))}),s(2),l()()}if(n&2){let e=i.$implicit,t=p(2);r(),d("ngClass",e.id===(t.dataModelSelect==null?null:t.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),_e("disabled",t.optionDisabled?!0:null),r(),M(t.displayOption(e))}}function vs(n,i){if(n&1&&(a(0,"div",2),ie(1,Ss,3,3,"div",15,te),m(3,"async"),he(4,1),l()),n&2){let e=p();r(),oe(u(3,0,e.filteredOptions))}}var Bt=class Bt{constructor(i,e,t,o,c,v,I,Ee){this.coreEnumService=i;this.cmsToastrService=e;this.cdr=t;this.publicHelper=o;this.translate=c;this.tokenHelper=v;this.cmsStoreService=I;this.categoryService=Ee;this.id=++Bt.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new U;this.dataModelSelect=new Je;this.formControl=new me;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new X;this.optionTypeView=1;this.typeUsageId="";this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}set optionTypeUsageId(i){this.typeUsageId=i,this.loadOptions()}ngOnInit(){this.loadOptions(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(()=>$(this,null,function*(){this.loadOptions()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(i=>i.unsubscribe())}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(we(""),xe(1500),Be(),Ae(i=>typeof i=="string"||typeof i=="number"?this.DataGetAll(i||""):[]))}displayFn(i){return i?i.titleML:void 0}displayOption(i){return i?i.titleML:void 0}DataGetAll(i){return $(this,null,function*(){let e=new Me;e.rowPerPage=20,e.accessLoad=!0;let t=new D,o=new D;i&&i.length>0&&(t.propertyName="title",t.value=i,t.searchType=L.Contains,t.clauseType=H.Or,o.filters.push(t),t=new D,t.propertyName="id",t.value=i,t.searchType=L.Equal,t.clauseType=H.Or,o.filters.push(t),e.filters.push(o)),this.typeUsageId&&this.typeUsageId.length>0&&(t=new D,t.propertyName="PropertyTypes",t.propertyAnyName="LinkPropertyTypeUsageId",t.value=this.typeUsageId,t.searchType=L.Equal,t.clauseType=H.And,e.filters.push(t));let c=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(v=>{this.publicHelper.processService.processStart(c,v,this.constructorInfoAreaId)}),yield Fe(this.categoryService.ServiceGetAll(e)).then(v=>(this.dataModelResult=v,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(c),v.listItems))})}onActionSelect(i){this.optionDisabled||(this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(i){return this.filteredOptions.pipe(pe(e=>(e.find(t=>t.id===i.id)||e.push(i),e)))}onActionSelectForce(i){if((!i||typeof i=="string"&&i.length===0)&&(this.dataModelSelect=new Je),typeof i=="string"&&i.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===i)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===i)){let e=this.dataModelResult.listItems.find(t=>t.id===i);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(i).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof i==typeof Je){this.filteredOptions=this.push(i),this.dataModelSelect=i,this.formControl.setValue(i);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Je,this.loadOptions()}};Bt.nextId=0,Bt.\u0275fac=function(e){return new(e||Bt)(S(Y),S(B),S(G),S(N),S(F),S(le),S(ae),S(pt))},Bt.\u0275cmp=R({type:Bt,selectors:[["app-estate-activity-type-selector"]],inputs:{optionSelectForce:"optionSelectForce",optionTypeUsageId:"optionTypeUsageId",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionTypeView:"optionTypeView",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:gr,decls:2,vars:2,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[1,"row","mb-0"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,t){e&1&&(Pe(gr),f(0,gs,18,24,"div",1),f(1,vs,5,2,"div",2)),e&2&&(_(t.optionTypeView===1?0:-1),r(),_(t.optionTypeView===2?1:-1))},dependencies:[Ce,z,j,Z,Se,ke,De,Ve,it,K,Q,re,O,Le],encapsulation:2});var Vi=Bt;var bs=["vform"],Ms=n=>({direction:n});function Ts(n,i){n&1&&C(0,"i",15)}function xs(n,i){n&1&&C(0,"i",16)}function ws(n,i){n&1&&(a(0,"mat-error"),s(1," Title is "),a(2,"strong"),s(3),m(4,"translate"),l()()),n&2&&(r(3),M(u(4,1,"MESSAGE.required")))}function As(n,i){n&1&&(a(0,"mat-error"),s(1," Description is "),a(2,"strong"),s(3),m(4,"translate"),l()()),n&2&&(r(3),M(u(4,1,"MESSAGE.required")))}function Ps(n,i){n&1&&(a(0,"mat-error"),s(1," DescriptionHidden is "),a(2,"strong"),s(3),m(4,"translate"),l()()),n&2&&(r(3),M(u(4,1,"MESSAGE.required")))}function Ds(n,i){if(n&1){let e=b();a(0,"div",12)(1,"label",26),s(2),l(),a(3,"textarea",27,3),P("ngModelChange",function(o){h(e);let c=p();return A(c.dataModel.descriptionHidden,o)||(c.dataModel.descriptionHidden=o),y(o)}),l(),a(5,"em"),s(6),l(),f(7,Ps,5,3,"mat-error"),l()}if(n&2){let e=x(4),t=p();r(2),M(t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle),r(),d("placeholder",T(t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle)),w("ngModel",t.dataModel.descriptionHidden),r(3),g("",e.value.length," / 500"),r(),_(e.errors!=null&&e.errors.required?7:-1)}}function Rs(n,i){if(n&1){let e=b();a(0,"app-cms-enum-x-selector",28),P("modelChange",function(o){h(e);let c=p();return A(c.dataModel.activityStatus,o)||(c.dataModel.activityStatus=o),y(o)}),l()}if(n&2){let e=p();d("optionDataListResult",e.dataModelEstateActivityStatusEnumResult),w("model",e.dataModel.activityStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.activityStatus==null?null:e.fieldsInfo.activityStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ks(n,i){if(n&1){let e=b();a(0,"app-estate-account-expert-selector",20),m(1,"translate"),E("optionChange",function(o){h(e);let c=p();return y(c.onActionSelectorEstateUser(o))}),l()}if(n&2){let e=p();d("optionSelectForce",e.dataModel.linkEstateExpertId)("optionPlaceholder",u(1,2,"TITLE.USER"))}}function Vs(n,i){if(n&1){let e=b();a(0,"app-estate-account-agency-selector",29),m(1,"translate"),E("optionChange",function(o){h(e);let c=p();return y(c.onActionSelectorEstateAgency(o))}),l()}if(n&2){let e=p();d("optionSelectForce",e.dataModel.linkEstateAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",u(1,3,"TITLE.Property_agency"))}}function Os(n,i){if(n&1){let e=b();a(0,"app-estate-property-selector",20),m(1,"translate"),E("optionChange",function(o){h(e);let c=p();return y(c.onActionSelectorProperty(o))}),l()}if(n&2){let e=p();d("optionSelectForce",e.dataModel.linkPropertyId)("optionPlaceholder",u(1,2,"TITLE.Property"))}}function Ls(n,i){if(n&1){let e=b();a(0,"app-estate-customer-order-selector",20),m(1,"translate"),E("optionChange",function(o){h(e);let c=p();return y(c.onActionSelectorCustomerOrderId(o))}),l()}if(n&2){let e=p();d("optionSelectForce",e.dataModel.linkCustomerOrderId)("optionPlaceholder",u(1,2,"TITLE.Customer"))}}function Hs(n,i){if(n&1){let e=b();a(0,"div",23)(1,"label",30),s(2),l(),a(3,"input",31),P("ngModelChange",function(o){h(e);let c=p();return A(c.dataModel.appointmentDateFrom,o)||(c.dataModel.appointmentDateFrom=o),y(o)}),l(),C(4,"mat-datepicker-toggle",32)(5,"mat-datepicker",33,4),l()}if(n&2){let e=x(6),t=p();r(2),M(t.fieldsInfo.appointmentDateFrom==null?null:t.fieldsInfo.appointmentDateFrom.fieldTitle),r(),d("matDatepicker",e),w("ngModel",t.dataModel.appointmentDateFrom),d("formControl",t.date),r(),d("for",e)}}function Fs(n,i){if(n&1){let e=b();a(0,"div",23)(1,"label",34),s(2),l(),a(3,"input",35),P("ngModelChange",function(o){h(e);let c=p();return A(c.dataModel.appointmentDateTo,o)||(c.dataModel.appointmentDateTo=o),y(o)}),l(),C(4,"mat-datepicker-toggle",32)(5,"mat-datepicker",33,5),l()}if(n&2){let e=x(6),t=p();r(2),M(t.fieldsInfo.appointmentDateTo==null?null:t.fieldsInfo.appointmentDateTo.fieldTitle),r(),d("matDatepicker",e),w("ngModel",t.dataModel.appointmentDateTo),d("formControl",t.date),r(),d("for",e)}}function Bs(n,i){if(n&1){let e=b();a(0,"div",25)(1,"button",36),E("click",function(){h(e);let o=p();return y(o.onFormCancel())}),C(2,"i",37),s(3),m(4,"translate"),l(),a(5,"button",38),C(6,"i",39),s(7),m(8,"translate"),l()()}if(n&2){p();let e=x(10);r(3),g(" ",u(4,3,"ACTION.CANCEL")," "),r(2),d("disabled",!e.form.valid),r(2),g(" ",u(8,5,"ACTION.SAVE")," ")}}var Oi=class Oi extends xo{constructor(e,t,o,c,v,I,Ee,Ze,rt,jt,eo,Jt,no){super(c,new ct,Jt,rt);this.data=e;this.dialogRef=t;this.coreEnumService=o;this.estatePropertyHistoryService=c;this.cmsToastrService=v;this.estateEnumService=I;this.cdr=Ee;this.tokenHelper=Ze;this.translate=rt;this.cmsStoreService=jt;this.pageInfo=eo;this.publicHelper=Jt;this.dialog=no;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new st;this.dataFileModelFiles=new Map;this.formInfo=new Qe;this.fileManagerOpenForm=!1;this.date=new me(new Date);this.dataModelEstateActivityStatusEnumResult=new U;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,e&&(this.dataModel.linkActivityTypeId=e.linkActivityTypeId,this.dataModel.linkPropertyId=e.linkPropertyId,this.dataModel.linkEstateExpertId=e.linkEstateExpertId,this.dataModel.linkCustomerOrderId=e.linkCustomerOrderId,this.dataModel.linkEstateAgencyId=e.linkEstateAgencyId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.getEstateActivityStatusEnum()}getEstateActivityStatusEnum(){this.estateEnumService.ServiceEstateActivityStatusEnum().subscribe({next:e=>{this.dataModelEstateActivityStatusEnumResult=e}})}DataAddContent(){if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="",this.dataFileModelFiles){let t=Array.from(this.dataFileModelFiles.keys());t&&t.length>0&&(this.dataModel.linkFileIds=t.join(","))}let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.estatePropertyHistoryService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.submitResultMessage=o,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.linkActivityTypeId=e.id}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,e&&e.id?.length>0&&(this.dataModel.linkEstateExpertId=e.id)}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorProperty(e){this.dataModel.linkPropertyId=null,e&&e.id?.length>0&&(this.dataModel.linkPropertyId=e.id)}onActionSelectorCustomerOrderId(e){this.dataModel.linkCustomerOrderId=null,e&&e.id?.length>0&&(this.dataModel.linkCustomerOrderId=e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Oi.\u0275fac=function(t){return new(t||Oi)(S(je),S(Ue),S(Y),S(dt),S(B),S(St),S(G),S(le),S(F),S(ae),S(wt),S(N),S(Oe))},Oi.\u0275cmp=R({type:Oi,selectors:[["app-estate-property-history-add"]],viewQuery:function(t,o){if(t&1&&Ne(bs,5),t&2){let c;qe(c=Ge())&&(o.formGroup=c.first)}},standalone:!1,features:[et],decls:45,vars:41,consts:[["vform","ngForm"],["Title",""],["Description",""],["DescriptionHidden",""],["AppointmentDateFrom",""],["AppointmentDateTo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionSelectForce","optionPlaceholder"],[3,"optionSelectForce","optionSelectUserId","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","1000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionSelectUserId","optionPlaceholder"],["for","dataModel.appointmentDateFrom",1,"color-highlight"],["matInput","","name","dataModel.appointmentDateFrom","id","dataModel.appointmentDateFrom",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","formControl"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.appointmentDateTo",1,"color-highlight"],["matInput","","name","dataModel.appointmentDateTo","id","dataModel.appointmentDateTo",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","formControl"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,o){if(t&1){let c=b();a(0,"div",6),C(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),s(4),l(),a(5,"p"),s(6),m(7,"translate"),l(),C(8,"app-cms-form-result-message",10),a(9,"form",11,0),E("ngSubmit",function(){return h(c),y(o.onFormSubmit())}),a(11,"div",12)(12,"label",13),s(13),l(),a(14,"input",14,1),P("ngModelChange",function(I){return h(c),A(o.dataModel.title,I)||(o.dataModel.title=I),y(I)}),l(),f(16,Ts,1,0,"i",15),f(17,xs,1,0,"i",16),a(18,"em"),s(19),l(),f(20,ws,5,3,"mat-error"),l(),a(21,"div",12)(22,"label",17),s(23),l(),a(24,"textarea",18,2),P("ngModelChange",function(I){return h(c),A(o.dataModel.description,I)||(o.dataModel.description=I),y(I)}),s(26,"          "),l(),a(27,"em"),s(28),l(),f(29,As,5,3,"mat-error"),l(),f(30,Ds,8,6,"div",12),f(31,Rs,1,6,"app-cms-enum-x-selector",19),a(32,"app-estate-activity-type-selector",20),m(33,"translate"),E("optionChange",function(I){return h(c),y(o.onActionSelectorSelect(I))}),l(),f(34,ks,2,4,"app-estate-account-expert-selector",21),f(35,Vs,2,5,"app-estate-account-agency-selector",22),f(36,Os,2,4,"app-estate-property-selector",21),f(37,Ls,2,4,"app-estate-customer-order-selector",21),f(38,Hs,7,5,"div",23),f(39,Fs,7,5,"div",23),a(40,"p"),s(41),m(42,"translate"),l(),a(43,"app-cms-files-selector",24),P("dataFileModelChange",function(I){return h(c),A(o.dataFileModelFiles,I)||(o.dataFileModelFiles=I),y(I)}),l(),f(44,Bs,9,7,"div",25),l()()()}if(t&2){let c=x(15),v=x(25);r(),d("optionsInfoAreaId",o.constructorInfoAreaId),r(3),g(" ",o.formInfo.formTitle," "),r(2),g(" ",u(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),d("formInfo",o.formInfo),r(),d("ngStyle",at(39,Ms,o.tokenInfo.access.direction)),r(4),M(o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle),r(),d("placeholder",T(o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle)),w("ngModel",o.dataModel.title),r(2),_(c.value?-1:16),r(),_(c.value?17:-1),r(2),g("",c.value.length," / 100"),r(),_(c.errors!=null&&c.errors.required?20:-1),r(3),M(o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle),r(),d("placeholder",T(o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle)),w("ngModel",o.dataModel.description),r(4),g("",v.value.length," / 500"),r(),_(v.errors!=null&&v.errors.required?29:-1),r(),_(o.fieldsInfo.descriptionHidden!=null&&o.fieldsInfo.descriptionHidden.accessAddField?30:-1),r(),_(o.fieldsInfo.activityStatus!=null&&o.fieldsInfo.activityStatus.accessWatchField?31:-1),r(),d("optionSelectForce",o.dataModel.linkActivityTypeId)("optionPlaceholder",u(33,35,"TITLE.Category")),r(2),_(o.fieldsInfo.linkEstateExpertId!=null&&o.fieldsInfo.linkEstateExpertId.accessAddField?34:-1),r(),_(o.fieldsInfo.linkEstateAgencyId!=null&&o.fieldsInfo.linkEstateAgencyId.accessWatchField?35:-1),r(),_(o.fieldsInfo.linkPropertyId!=null&&o.fieldsInfo.linkPropertyId.accessAddField?36:-1),r(),_(o.fieldsInfo.linkCustomerOrderId!=null&&o.fieldsInfo.linkCustomerOrderId.accessAddField?37:-1),r(),_(o.fieldsInfo.appointmentDateFrom!=null&&o.fieldsInfo.appointmentDateFrom.accessWatchField?38:-1),r(),_(o.fieldsInfo.appointmentDateTo!=null&&o.fieldsInfo.appointmentDateTo.accessWatchField?39:-1),r(2),M(u(42,37,"TITLE.List_of_attached_files")),r(2),w("dataFileModel",o.dataFileModelFiles),d("openDirectUploadView",!0),r(),_(o.formInfo.submitButtonEnabled?44:-1)}},dependencies:[yt,Et,z,j,mt,Z,bt,Mt,ge,It,Se,ai,li,xt,Re,ot,K,Go,Q,ze,Uo,wi,Ai,Di,ki,Vi,O],encapsulation:2});var io=Oi;var Ns=["vform"],qs=n=>({direction:n});function Gs(n,i){n&1&&C(0,"i",15)}function Us(n,i){n&1&&C(0,"i",16)}function js(n,i){n&1&&(a(0,"mat-error"),s(1," Title is "),a(2,"strong"),s(3),m(4,"translate"),l()()),n&2&&(r(3),M(u(4,1,"MESSAGE.required")))}function Ws(n,i){n&1&&(a(0,"mat-error"),s(1," Description is "),a(2,"strong"),s(3),m(4,"translate"),l()()),n&2&&(r(3),M(u(4,1,"MESSAGE.required")))}function Qs(n,i){n&1&&(a(0,"mat-error"),s(1," DescriptionHidden is "),a(2,"strong"),s(3),m(4,"translate"),l()()),n&2&&(r(3),M(u(4,1,"MESSAGE.required")))}function zs(n,i){if(n&1){let e=b();a(0,"div",12)(1,"label",26),s(2),l(),a(3,"textarea",27,3),P("ngModelChange",function(o){h(e);let c=p();return A(c.dataModel.descriptionHidden,o)||(c.dataModel.descriptionHidden=o),y(o)}),l(),a(5,"em"),s(6),l(),f(7,Qs,5,3,"mat-error"),l()}if(n&2){let e=x(4),t=p();r(2),M(t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle),r(),d("placeholder",T(t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle)),w("ngModel",t.dataModel.descriptionHidden),d("disabled",!(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessEditField)),r(3),g("",e.value.length," / 500"),r(),_(e.errors!=null&&e.errors.required?7:-1)}}function $s(n,i){if(n&1){let e=b();a(0,"app-cms-enum-x-selector",28),P("modelChange",function(o){h(e);let c=p();return A(c.dataModel.activityStatus,o)||(c.dataModel.activityStatus=o),y(o)}),l()}if(n&2){let e=p();d("optionDataListResult",e.dataModelEstateActivityStatusEnumResult),w("model",e.dataModel.activityStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.activityStatus==null?null:e.fieldsInfo.activityStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ks(n,i){if(n&1){let e=b();a(0,"app-estate-account-expert-selector",20),m(1,"translate"),E("optionChange",function(o){h(e);let c=p();return y(c.onActionSelectorEstateUser(o))}),l()}if(n&2){let e=p();d("optionSelectForce",e.dataModel.linkEstateExpertId)("optionPlaceholder",u(1,2,"TITLE.USER"))}}function Js(n,i){if(n&1){let e=b();a(0,"app-estate-account-agency-selector",29),m(1,"translate"),E("optionChange",function(o){h(e);let c=p();return y(c.onActionSelectorEstateAgency(o))}),l()}if(n&2){let e=p();d("optionSelectForce",e.dataModel.linkEstateAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",u(1,3,"TITLE.Property_agency"))}}function Xs(n,i){if(n&1){let e=b();a(0,"app-estate-property-selector",20),m(1,"translate"),E("optionChange",function(o){h(e);let c=p();return y(c.onActionSelectorProperty(o))}),l()}if(n&2){let e=p();d("optionSelectForce",e.dataModel.linkPropertyId)("optionPlaceholder",u(1,2,"TITLE.Property"))}}function Ys(n,i){if(n&1){let e=b();a(0,"app-estate-customer-order-selector",20),m(1,"translate"),E("optionChange",function(o){h(e);let c=p();return y(c.onActionSelectorCustomerOrderId(o))}),l()}if(n&2){let e=p();d("optionSelectForce",e.dataModel.linkCustomerOrderId)("optionPlaceholder",u(1,2,"TITLE.Customer"))}}function Zs(n,i){if(n&1){let e=b();a(0,"div",23)(1,"label",30),s(2),l(),a(3,"input",31),P("ngModelChange",function(o){h(e);let c=p();return A(c.dataModel.appointmentDateFrom,o)||(c.dataModel.appointmentDateFrom=o),y(o)}),l(),C(4,"mat-datepicker-toggle",32)(5,"mat-datepicker",33,4),l()}if(n&2){let e=x(6),t=p();r(2),M(t.fieldsInfo.appointmentDateFrom==null?null:t.fieldsInfo.appointmentDateFrom.fieldTitle),r(),d("matDatepicker",e),w("ngModel",t.dataModel.appointmentDateFrom),d("formControl",t.date),r(),d("for",e)}}function ec(n,i){if(n&1){let e=b();a(0,"div",23)(1,"label",34),s(2),l(),a(3,"input",35),P("ngModelChange",function(o){h(e);let c=p();return A(c.dataModel.appointmentDateTo,o)||(c.dataModel.appointmentDateTo=o),y(o)}),l(),C(4,"mat-datepicker-toggle",32)(5,"mat-datepicker",33,5),l()}if(n&2){let e=x(6),t=p();r(2),M(t.fieldsInfo.appointmentDateTo==null?null:t.fieldsInfo.appointmentDateTo.fieldTitle),r(),d("matDatepicker",e),w("ngModel",t.dataModel.appointmentDateTo),d("formControl",t.date),r(),d("for",e)}}function tc(n,i){if(n&1){let e=b();a(0,"div",25)(1,"button",36),E("click",function(){h(e);let o=p();return y(o.onFormCancel())}),C(2,"i",37),s(3),m(4,"translate"),l(),a(5,"button",38),C(6,"i",39),s(7),m(8,"translate"),l()()}if(n&2){p();let e=x(10);r(3),g(" ",u(4,3,"ACTION.CANCEL")," "),r(2),d("disabled",!e.form.valid),r(2),g(" ",u(8,5,"ACTION.SAVE")," ")}}var Li=class Li extends Po{constructor(e,t,o,c,v,I,Ee,Ze,rt,jt,eo,Jt,no){super(c,new ct,Jt,rt);this.data=e;this.dialogRef=t;this.coreEnumService=o;this.estatePropertyHistoryService=c;this.cmsToastrService=v;this.estateEnumService=I;this.cdr=Ee;this.tokenHelper=Ze;this.translate=rt;this.cmsStoreService=jt;this.pageInfo=eo;this.publicHelper=Jt;this.dialog=no;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModel=new ct;this.dataFileModelFiles=new Map;this.formInfo=new Qe;this.fileManagerOpenForm=!1;this.date=new me(new Date);this.dataModelEstateActivityStatusEnumResult=new U;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getEstateActivityStatusEnum()}getEstateActivityStatusEnum(){this.estateEnumService.ServiceEstateActivityStatusEnum().subscribe({next:e=>{this.dataModelEstateActivityStatusEnumResult=e}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.estatePropertyHistoryService.setAccessLoad(),this.estatePropertyHistoryService.setAccessDataType(lt.Editor),this.estatePropertyHistoryService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+t.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((o,c)=>{let v="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIdsSrc.length&&(v=this.dataModel.linkFileIdsSrc[c]),this.dataFileModelFiles.set(+o,v)})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="",this.dataFileModelFiles){let t=Array.from(this.dataFileModelFiles.keys());t&&t.length>0&&(this.dataModel.linkFileIds=t.join(","))}let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.estatePropertyHistoryService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.submitResultMessage=o,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,e&&e.id?.length>0&&(this.dataModel.linkEstateExpertId=e.id)}onActionSelectorProperty(e){this.dataModel.linkPropertyId=null,e&&e.id?.length>0&&(this.dataModel.linkPropertyId=e.id)}onActionSelectorCustomerOrderId(e){this.dataModel.linkCustomerOrderId=null,e&&e.id?.length>0&&(this.dataModel.linkCustomerOrderId=e.id)}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorSelect(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.linkActivityTypeId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Li.\u0275fac=function(t){return new(t||Li)(S(je),S(Ue),S(Y),S(dt),S(B),S(St),S(G),S(le),S(F),S(ae),S(wt),S(N),S(Oe))},Li.\u0275cmp=R({type:Li,selectors:[["app-estate-property-history-edit"]],viewQuery:function(t,o){if(t&1&&Ne(Ns,5),t&2){let c;qe(c=Ge())&&(o.formGroup=c.first)}},standalone:!1,features:[et],decls:45,vars:41,consts:[["vform","ngForm"],["Title",""],["Description",""],["DescriptionHidden",""],["AppointmentDateFrom",""],["AppointmentDateTo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","1000","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionSelectForce","optionPlaceholder"],[3,"optionSelectForce","optionSelectUserId","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","1000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionSelectUserId","optionPlaceholder"],["for","dataModel.appointmentDateFrom",1,"color-highlight"],["matInput","","name","dataModel.appointmentDateFrom","id","dataModel.appointmentDateFrom",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","formControl"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.appointmentDateTo",1,"color-highlight"],["matInput","","name","dataModel.appointmentDateTo","id","dataModel.appointmentDateTo",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","formControl"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,o){if(t&1){let c=b();a(0,"div",6),C(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),s(4),l(),a(5,"p"),s(6),m(7,"translate"),l(),C(8,"app-cms-form-result-message",10),a(9,"form",11,0),E("ngSubmit",function(){return h(c),y(o.onFormSubmit())}),a(11,"div",12)(12,"label",13),s(13),l(),a(14,"input",14,1),P("ngModelChange",function(I){return h(c),A(o.dataModel.title,I)||(o.dataModel.title=I),y(I)}),l(),f(16,Gs,1,0,"i",15),f(17,Us,1,0,"i",16),a(18,"em"),s(19),l(),f(20,js,5,3,"mat-error"),l(),a(21,"div",12)(22,"label",17),s(23),l(),a(24,"textarea",18,2),P("ngModelChange",function(I){return h(c),A(o.dataModel.description,I)||(o.dataModel.description=I),y(I)}),s(26,"          "),l(),a(27,"em"),s(28),l(),f(29,Ws,5,3,"mat-error"),l(),f(30,zs,8,7,"div",12),f(31,$s,1,6,"app-cms-enum-x-selector",19),a(32,"app-estate-activity-type-selector",20),m(33,"translate"),E("optionChange",function(I){return h(c),y(o.onActionSelectorSelect(I))}),l(),f(34,Ks,2,4,"app-estate-account-expert-selector",21),f(35,Js,2,5,"app-estate-account-agency-selector",22),f(36,Xs,2,4,"app-estate-property-selector",21),f(37,Ys,2,4,"app-estate-customer-order-selector",21),f(38,Zs,7,5,"div",23),f(39,ec,7,5,"div",23),a(40,"p"),s(41),m(42,"translate"),l(),a(43,"app-cms-files-selector",24),P("dataFileModelChange",function(I){return h(c),A(o.dataFileModelFiles,I)||(o.dataFileModelFiles=I),y(I)}),l(),f(44,tc,9,7,"div",25),l()()()}if(t&2){let c=x(15),v=x(25);r(),d("optionsInfoAreaId",o.constructorInfoAreaId),r(3),g(" ",o.formInfo.formTitle," "),r(2),g(" ",u(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),d("formInfo",o.formInfo),r(),d("ngStyle",at(39,qs,o.tokenInfo.access.direction)),r(4),M(o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle),r(),d("placeholder",T(o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle)),w("ngModel",o.dataModel.title),r(2),_(c.value?-1:16),r(),_(c.value?17:-1),r(2),g("",c.value.length," / 100"),r(),_(c.errors!=null&&c.errors.required?20:-1),r(3),M(o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle),r(),d("placeholder",T(o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle)),w("ngModel",o.dataModel.description),r(4),g("",v.value.length," / 500"),r(),_(v.errors!=null&&v.errors.required?29:-1),r(),_(o.fieldsInfo.descriptionHidden!=null&&o.fieldsInfo.descriptionHidden.accessWatchField?30:-1),r(),_(o.fieldsInfo.activityStatus!=null&&o.fieldsInfo.activityStatus.accessWatchField?31:-1),r(),d("optionSelectForce",o.dataModel.linkActivityTypeId)("optionPlaceholder",u(33,35,"TITLE.Category")),r(2),_(o.fieldsInfo.linkEstateExpertId!=null&&o.fieldsInfo.linkEstateExpertId.accessWatchField?34:-1),r(),_(o.fieldsInfo.linkEstateAgencyId!=null&&o.fieldsInfo.linkEstateAgencyId.accessWatchField?35:-1),r(),_(o.fieldsInfo.linkPropertyId!=null&&o.fieldsInfo.linkPropertyId.accessWatchField?36:-1),r(),_(o.fieldsInfo.linkCustomerOrderId!=null&&o.fieldsInfo.linkCustomerOrderId.accessWatchField?37:-1),r(),_(o.fieldsInfo.appointmentDateFrom!=null&&o.fieldsInfo.appointmentDateFrom.accessWatchField?38:-1),r(),_(o.fieldsInfo.appointmentDateTo!=null&&o.fieldsInfo.appointmentDateTo.accessWatchField?39:-1),r(2),M(u(42,37,"TITLE.List_of_attached_files")),r(2),w("dataFileModel",o.dataFileModelFiles),d("openDirectUploadView",!0),r(),_(o.formInfo.submitButtonEnabled?44:-1)}},dependencies:[yt,Et,z,j,mt,Z,bt,Mt,ge,It,Se,ai,li,xt,Re,ot,K,Go,Q,ze,Uo,wi,Ai,Di,ki,Vi,O],encapsulation:2});var oo=Li;var Hi=class Hi{constructor(i){this.service=i}transform(i){return!i||i.length<=0?new Ct:this.service.ServiceGetOneById(i,1e6).pipe(pe(e=>{var t="";return e.isSuccess&&e.item.title&&e.item.title.length>0&&(t=e.item.title),t},e=>""))}};Hi.\u0275fac=function(e){return new(e||Hi)(S(co,16))},Hi.\u0275pipe=ht({name:"estateAccountAgencyInfo",type:Hi,pure:!0,standalone:!1});var Fi=Hi;var Bi=class Bi{constructor(i){this.service=i}transform(i){return!i||i.length<=0?new Ct:this.service.ServiceGetOneById(i,1e6).pipe(pe(e=>{var t="";return e.isSuccess&&e.item.title&&e.item.title.length>0&&(t=e.item.title),t},e=>""))}};Bi.\u0275fac=function(e){return new(e||Bi)(S(ni,16))},Bi.\u0275pipe=ht({name:"estateAccountExpertInfo",type:Bi,pure:!0,standalone:!1});var Ni=Bi;var qi=class qi{constructor(i){this.service=i}transform(i){return!i||i.length<=0?new Ct:this.service.ServiceGetOneById(i,1e6).pipe(pe(e=>{var t="";return e.isSuccess&&e.item.title&&e.item.title.length>0&&(t=e.item.title),t},e=>""))}};qi.\u0275fac=function(e){return new(e||qi)(S(gt,16))},qi.\u0275pipe=ht({name:"estateCustomerOrderInfo",type:qi,pure:!0,standalone:!1});var Gi=qi;var Ui=class Ui{constructor(i){this.service=i}transform(i){return!i||i.length<=0?new Ct:this.service.ServiceGetOneById(i,1e6).pipe(pe(e=>{var t="";return e.isSuccess&&e.item.title&&e.item.title.length>0&&(t=e.item.title),t},e=>""))}};Ui.\u0275fac=function(e){return new(e||Ui)(S(vt,16))},Ui.\u0275pipe=ht({name:"estatePropertyInfo",type:Ui,pure:!0,standalone:!1});var ji=Ui;var ic=["vform"];function oc(n,i){if(n&1){let e=b();a(0,"button",17),E("click",function(){h(e);let o=p(3);return y(o.onActionNext())}),C(1,"i",18),s(2," < "),l()}}function nc(n,i){if(n&1){let e=b();a(0,"button",17),E("click",function(){h(e);let o=p(3);return y(o.onActionPervious())}),C(1,"i",18),s(2," > "),l()}}function rc(n,i){if(n&1){let e=b();a(0,"div",9)(1,"button",17),E("click",function(){h(e);let o=p(2);return y(o.onFormCancel())}),C(2,"i",18),s(3),m(4,"translate"),l(),f(5,oc,3,0,"button",19),f(6,nc,3,0,"button",19),l()}if(n&2){let e=p(2);r(3),g(" ",u(4,3,"ACTION.CANCEL")," "),r(2),_(e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0?5:-1),r(),_(e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0?6:-1)}}function ac(n,i){if(n&1&&(a(0,"tr")(1,"td"),s(2),l(),a(3,"td"),s(4),m(5,"localeDateTime"),l()()),n&2){let e=p(2);r(2),g("",e.fieldsInfo.appointmentDateFrom==null?null:e.fieldsInfo.appointmentDateFrom.fieldTitle,":"),r(2),M(u(5,2,e.dataModel.appointmentDateFrom))}}function lc(n,i){if(n&1&&(a(0,"tr")(1,"td"),s(2),l(),a(3,"td"),s(4),m(5,"localeDateTime"),l()()),n&2){let e=p(2);r(2),g("",e.fieldsInfo.appointmentDateTo==null?null:e.fieldsInfo.appointmentDateTo.fieldTitle,":"),r(2),M(u(5,2,e.dataModel.appointmentDateTo))}}function sc(n,i){if(n&1&&(a(0,"tr")(1,"td"),s(2),l(),a(3,"td",13),s(4),m(5,"cmsuserinfo"),m(6,"async"),l()()),n&2){let e=p(2);r(2),g("",e.fieldsInfo.updatedBy==null?null:e.fieldsInfo.updatedBy.fieldTitle,":"),r(2),g(" ",u(6,4,u(5,2,e.dataModel.updatedBy))," ")}}function cc(n,i){if(n&1&&(a(0,"tr")(1,"td"),s(2),l(),a(3,"td",13),s(4),m(5,"estateAccountExpertInfo"),m(6,"async"),l()()),n&2){let e=p(2);r(2),g("",e.fieldsInfo.linkEstateExpertId==null?null:e.fieldsInfo.linkEstateExpertId.fieldTitle,":"),r(2),g(" ",u(6,4,u(5,2,e.dataModel.linkEstateExpertId))," ")}}function pc(n,i){if(n&1&&(a(0,"tr")(1,"td"),s(2),l(),a(3,"td",13),s(4),m(5,"estateAccountAgencyInfo"),m(6,"async"),l()()),n&2){let e=p(2);r(2),g("",e.fieldsInfo.linkEstateAgencyId==null?null:e.fieldsInfo.linkEstateAgencyId.fieldTitle,":"),r(2),g(" ",u(6,4,u(5,2,e.dataModel.linkEstateAgencyId))," ")}}function dc(n,i){if(n&1){let e=b();a(0,"tr")(1,"td"),s(2),l(),a(3,"td"),s(4),m(5,"estatePropertyInfo"),m(6,"async"),a(7,"button",20),E("click",function(){h(e);let o=p(2);return y(o.onActionButtonPropertyQuickViewRow(o.dataModel.linkPropertyId))}),a(8,"mat-icon"),s(9,"visibility"),l()()()()}if(n&2){let e=p(2);r(2),g("",e.fieldsInfo.linkPropertyId==null?null:e.fieldsInfo.linkPropertyId.fieldTitle,":"),r(2),g(" ",u(6,4,u(5,2,e.dataModel.linkPropertyId))," ")}}function mc(n,i){if(n&1){let e=b();a(0,"tr")(1,"td"),s(2),l(),a(3,"td"),s(4),m(5,"estateCustomerOrderInfo"),m(6,"async"),a(7,"button",20),E("click",function(){h(e);let o=p(2);return y(o.onActionButtonCustomerOrderQuickViewRow(o.dataModel.linkCustomerOrderId))}),a(8,"mat-icon"),s(9,"visibility"),l()()()()}if(n&2){let e=p(2);r(2),g("",e.fieldsInfo.linkCustomerOrderId==null?null:e.fieldsInfo.linkCustomerOrderId.fieldTitle,":"),r(2),g(" ",u(6,4,u(5,2,e.dataModel.linkCustomerOrderId))," ")}}function uc(n,i){if(n&1&&(a(0,"tr")(1,"td"),s(2),m(3,"translate"),l(),a(4,"td"),s(5),l()()),n&2){let e=p(2);r(2),g("",u(3,2,"TITLE.General_Description"),":"),r(3),M(e.dataModel.description)}}function fc(n,i){if(n&1&&(a(0,"tr")(1,"td"),s(2),m(3,"translate"),l(),a(4,"td"),s(5),l()()),n&2){let e=p(2);r(2),g("",u(3,2,"TITLE.Description_Hidden"),":"),r(3),M(e.dataModel.descriptionHidden)}}function _c(n,i){if(n&1){let e=b();a(0,"button",17),E("click",function(){h(e);let o=p(3);return y(o.onActionNext())}),C(1,"i",18),s(2," < "),l()}}function Cc(n,i){if(n&1){let e=b();a(0,"button",17),E("click",function(){h(e);let o=p(3);return y(o.onActionPervious())}),C(1,"i",18),s(2," > "),l()}}function hc(n,i){if(n&1){let e=b();a(0,"div",9)(1,"button",17),E("click",function(){h(e);let o=p(2);return y(o.onFormCancel())}),C(2,"i",18),s(3),m(4,"translate"),l(),f(5,_c,3,0,"button",19),f(6,Cc,3,0,"button",19),l()}if(n&2){let e=p(2);r(3),g(" ",u(4,3,"ACTION.CANCEL")," "),r(2),_(e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0?5:-1),r(),_(e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0?6:-1)}}function yc(n,i){if(n&1&&(a(0,"div",8),f(1,rc,7,5,"div",9),l(),a(2,"div",10)(3,"table",11)(4,"tbody")(5,"tr")(6,"td"),s(7),l(),a(8,"td"),C(9,"i",12),m(10,"statusIconClass"),l()(),a(11,"tr")(12,"td"),s(13),l(),a(14,"td"),s(15),l()(),a(16,"tr")(17,"td")(18,"b"),s(19),l()(),a(20,"td")(21,"b"),s(22),l()()(),f(23,ac,6,4,"tr"),f(24,lc,6,4,"tr"),a(25,"tr")(26,"td"),s(27),l(),a(28,"td",13),s(29),m(30,"cmsuserinfo"),m(31,"async"),l()(),f(32,sc,7,6,"tr"),f(33,cc,7,6,"tr"),f(34,pc,7,6,"tr"),f(35,dc,10,6,"tr"),f(36,mc,10,6,"tr"),f(37,uc,6,4,"tr"),f(38,fc,6,4,"tr"),l()()(),a(39,"div",14),C(40,"app-cms-form-result-message",15),l(),a(41,"div",16),f(42,hc,7,5,"div",9),l()),n&2){let e=p();r(),_(e.formInfo.submitButtonEnabled?1:-1),r(6),g("",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle,":"),r(2),d("ngClass",u(10,20,e.dataModel.recordStatus)),r(4),g("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle,":"),r(2),M(e.dataModel.title),r(4),g(" ",e.fieldsInfo.linkActivityTypeId==null?null:e.fieldsInfo.linkActivityTypeId.fieldTitle,":"),r(3),M(e.dataModel.linkActivityTypeId),r(),_(e.dataModel.appointmentDateFrom?23:-1),r(),_(e.dataModel.appointmentDateTo?24:-1),r(3),g("",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle,":"),r(2),g(" ",u(31,24,u(30,22,e.dataModel.createdBy))," "),r(3),_(e.dataModel.updatedBy?32:-1),r(),_((e.dataModel.linkEstateExpertId==null?null:e.dataModel.linkEstateExpertId.length)>0?33:-1),r(),_((e.dataModel.linkEstateAgencyId==null?null:e.dataModel.linkEstateAgencyId.length)>0?34:-1),r(),_((e.dataModel.linkPropertyId==null?null:e.dataModel.linkPropertyId.length)>0?35:-1),r(),_((e.dataModel.linkCustomerOrderId==null?null:e.dataModel.linkCustomerOrderId.length)>0?36:-1),r(),_((e.dataModel.description==null?null:e.dataModel.description.length)>0?37:-1),r(),_(e.fieldsInfo.descriptionHidden!=null&&e.fieldsInfo.descriptionHidden.accessWatchField?38:-1),r(2),d("formInfo",e.formInfo),r(2),_(e.formInfo.submitButtonEnabled?42:-1)}}var Wi=class Wi{constructor(i,e,t,o,c,v,I,Ee,Ze,rt,jt){this.data=i;this.dialogRef=e;this.dialog=t;this.coreEnumService=o;this.estatePropertyHistoryService=c;this.cmsToastrService=v;this.tokenHelper=I;this.cmsStoreService=Ee;this.cdr=Ze;this.publicHelper=rt;this.translate=jt;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new U;this.dataModelEstateContractTypeResult=new U;this.dataModel=new ct;this.formInfo=new Qe;this.fieldsInfo=new Map;this.optionTabledataSource=new yi;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"];this.fileManagerOpenForm=!1;this.errorMessage="";this.enumInputDataType=Yt;this.unsubscribe=[];this.step=0;this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"",this.requestPerviousItem=i.perviousItem,this.requestNextItem=i.nextItem)}ngOnInit(){if(this.translate.get("TITLE.QUICK_VIEW").subscribe(i=>{this.formInfo.formTitle=i}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>$(this,null,function*(){this.tokenInfo=i})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(i=>i.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.estatePropertyHistoryService.setAccessLoad(),this.estatePropertyHistoryService.setAccessDataType(lt.Editor),this.estatePropertyHistoryService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.errorMessage=e.errorMessage+"<br> ( "+e.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}setStep(i){this.step=i}nextStep(){this.step++}prevStep(){this.step--}onActionButtonPropertyQuickViewRow(i){if(!i||i.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(xi,{height:"90%",panelClass:e,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:i}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate})}onActionButtonCustomerOrderQuickViewRow(i){if(!i||i.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ei,{height:"90%",panelClass:e,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:i}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};Wi.\u0275fac=function(e){return new(e||Wi)(S(je),S(Ue),S(Oe),S(Y),S(dt),S(B),S(le),S(ae),S(G),S(N),S(F))},Wi.\u0275cmp=R({type:Wi,selectors:[["app-estate-property-history-quick-view"]],viewQuery:function(e,t){if(e&1&&Ne(ic,5),e&2){let o;qe(o=Ge())&&(t.formGroup=o.first)}},standalone:!1,decls:12,vars:4,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-header"],[1,"form-actions"],["dir","rtl",1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"table","table-striped"],[3,"ngClass"],[1,"input-ltr-right"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","mat-icon-button","",3,"click"]],template:function(e,t){e&1&&(a(0,"div",0),C(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),s(4),l(),a(5,"a",4),E("click",function(){return t.onFormCancel()}),C(6,"i",5),l(),C(7,"hr"),l(),a(8,"div",6)(9,"p",7),s(10),l(),f(11,yc,43,26),l()()),e&2&&(r(),d("optionsInfoAreaId",t.constructorInfoAreaId),r(3),M(t.formInfo.formTitle),r(6),g(" ",t.formInfo.formDescription," "),r(),_(t.publicHelper.processService.process.inRunAll?-1:11))},dependencies:[Ce,ri,Tt,We,Q,ze,re,O,At,vi,ut,Fi,Ni,Gi,ji],encapsulation:2});var Xo=Wi;var Rc=()=>["expandedTitle"],kc=()=>["expandedDetail"],Vc=()=>[5,10,20,100],Mr=n=>({display:n});function Oc(n,i){n&1&&(a(0,"mat-header-cell"),s(1),m(2,"translate"),l()),n&2&&(r(),g(" ",u(2,1,"TITLE.MENU")," "))}function Lc(n,i){if(n&1){let e=b();a(0,"mat-cell")(1,"button",56),E("click",function(){let o=h(e).$implicit,c=p();return y(c.onActionTableRowSelectActionMenu(o))}),C(2,"i",57),l()()}}function Hc(n,i){n&1&&(a(0,"mat-header-cell",58),s(1),m(2,"translate"),l()),n&2&&(r(),g(" ",u(2,1,"TITLE.PICTURE")," "))}function Fc(n,i){if(n&1&&(C(0,"img",59),m(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",T(u(1,2,e.linkMainImageIdSrc)),se)}}function Bc(n,i){if(n&1&&(a(0,"mat-cell"),f(1,Fc,2,4,"img",59),l()),n&2){let e=i.$implicit;r(),_((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Nc(n,i){if(n&1&&(a(0,"mat-header-cell",58),s(1),l()),n&2){let e=p();r(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function qc(n,i){if(n&1&&(a(0,"mat-cell"),s(1),l()),n&2){let e=i.$implicit;r(),g(" ",e.id," ")}}function Gc(n,i){if(n&1&&(a(0,"mat-header-cell",58),s(1),l()),n&2){let e=p();r(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Uc(n,i){if(n&1&&(a(0,"mat-cell"),s(1),m(2,"cmssiteinfo"),m(3,"async"),l()),n&2){let e=i.$implicit;r(),g(" ",u(3,3,u(2,1,e.linkSiteId))," ")}}function jc(n,i){if(n&1&&(a(0,"mat-header-cell",58),s(1),l()),n&2){let e=p();r(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Wc(n,i){if(n&1&&C(0,"select",61),n&2){let e=p().$implicit,t=p();d("contentService",t.contentService)("row",e)("ngStyle",at(3,Mr,e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function Qc(n,i){if(n&1&&(a(0,"mat-cell",60),m(1,"statusCellClass"),C(2,"i",60),m(3,"statusIconClass"),f(4,Wc,1,5,"select",61),l()),n&2){let e=i.$implicit,t=p();d("ngClass",u(1,3,e.recordStatus)),r(2),d("ngClass",u(3,5,e.recordStatus)),r(2),_(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?4:-1)}}function zc(n,i){if(n&1&&(a(0,"mat-header-cell",58),s(1),l()),n&2){let e=p();r(),g(" ",e.fieldsInfo.name==null?null:e.fieldsInfo.name.fieldTitle," ")}}function $c(n,i){if(n&1&&(a(0,"mat-cell"),s(1),l()),n&2){let e=i.$implicit;r(),g(" ",e.name," ")}}function Kc(n,i){if(n&1&&(a(0,"mat-header-cell",58),s(1),l()),n&2){let e=p();r(),g(" ",e.fieldsInfo.lastName==null?null:e.fieldsInfo.lastName.fieldTitle," ")}}function Jc(n,i){if(n&1&&(a(0,"mat-cell"),s(1),l()),n&2){let e=i.$implicit;r(),g(" ",e.lastName," ")}}function Xc(n,i){if(n&1&&(a(0,"mat-header-cell",58),s(1),l()),n&2){let e=p();r(),g(" ",e.fieldsInfo.companyName==null?null:e.fieldsInfo.companyName.fieldTitle," ")}}function Yc(n,i){if(n&1&&(a(0,"mat-cell"),s(1),l()),n&2){let e=i.$implicit;r(),g(" ",e.companyName," ")}}function Zc(n,i){if(n&1&&(a(0,"mat-header-cell",58),s(1),l()),n&2){let e=p();r(),g(" ",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," ")}}function ep(n,i){if(n&1&&(a(0,"mat-cell"),s(1),l()),n&2){let e=i.$implicit;r(),g(" ",e.email," ")}}function tp(n,i){if(n&1&&(a(0,"mat-header-cell",58),s(1),l()),n&2){let e=p();r(),g(" ",e.fieldsInfo.mobile==null?null:e.fieldsInfo.mobile.fieldTitle," ")}}function ip(n,i){if(n&1&&(a(0,"mat-cell"),s(1),l()),n&2){let e=i.$implicit;r(),g(" ",e.mobile," ")}}function op(n,i){if(n&1&&(a(0,"mat-header-cell",58),s(1),l()),n&2){let e=p();r(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function np(n,i){if(n&1&&(a(0,"mat-cell"),s(1),m(2,"localeDate"),l()),n&2){let e=i.$implicit;r(),g(" ",u(2,1,e.createdDate)," ")}}function rp(n,i){if(n&1&&(a(0,"mat-header-cell",58),s(1),l()),n&2){let e=p();r(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function ap(n,i){if(n&1&&(a(0,"mat-cell"),s(1),m(2,"localeDate"),l()),n&2){let e=i.$implicit;r(),g(" ",u(2,1,e.updatedDate)," ")}}function lp(n,i){n&1&&(a(0,"mat-header-cell"),s(1),m(2,"translate"),l()),n&2&&(r(),g(" ",u(2,1,"TITLE.OPTION")," "))}function sp(n,i){if(n&1&&(a(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),s(3,"more_vert"),l()(),C(4,"mat-menu",null,2),l()),n&2){let e=x(5);r(),d("matMenuTriggerFor",e)}}function cp(n,i){if(n&1&&(a(0,"mat-cell"),s(1),m(2,"translate"),m(3,"localeDate"),l()),n&2){let e=i.$implicit;r(),ne(" ",u(2,2,"TITLE.CreationDate")," : ",u(3,4,e.createdDate)," ")}}function pp(n,i){if(n&1&&(C(0,"img",64),m(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",T(u(1,2,e.linkMainImageIdSrc)),se)}}function dp(n,i){if(n&1){let e=b();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),f(5,pp,2,4,"img",64),l(),a(6,"th")(7,"span",65),E("click",function(){h(e);let o=p();return y(o.onActionCopied())}),C(8,"i",66),l(),s(9),l()(),a(10,"tr"),C(11,"td"),a(12,"td"),s(13),l()(),a(14,"tr"),C(15,"td"),a(16,"td"),s(17),l()(),a(18,"tr"),C(19,"td"),a(20,"td"),s(21),l()(),a(22,"tr"),C(23,"td"),a(24,"td"),s(25),l()(),a(26,"tr"),C(27,"td"),a(28,"td"),s(29),l()(),a(30,"tr"),C(31,"td"),a(32,"td"),s(33),l()(),a(34,"tr"),C(35,"td")(36,"td"),l()()()()}if(n&2){let e=i.$implicit,t=p();r(5),_((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),r(2),d("cdkCopyToClipboard",e.id),r(2),g(" ",e.id," "),r(4),ne(" ",t.fieldsInfo.username==null?null:t.fieldsInfo.username.fieldTitle," : ",e.username," "),r(4),ne(" ",t.fieldsInfo.name==null?null:t.fieldsInfo.name.fieldTitle," : ",e.name," "),r(4),ne(" ",t.fieldsInfo.lastName==null?null:t.fieldsInfo.lastName.fieldTitle," : ",e.lastName," "),r(4),ne(" ",t.fieldsInfo.mobile==null?null:t.fieldsInfo.mobile.fieldTitle," : ",e.mobile," "),r(4),ne(" ",t.fieldsInfo.email==null?null:t.fieldsInfo.email.fieldTitle," : ",e.email," "),r(4),ne(" ",t.fieldsInfo.companyName==null?null:t.fieldsInfo.companyName.fieldTitle," : ",e.companyName," ")}}function mp(n,i){n&1&&C(0,"mat-header-row")}function up(n,i){if(n&1){let e=b();a(0,"mat-row",67),E("click",function(o){let c=h(e).$implicit,v=p();return y(v.onActionTableRowSelect(c,o))})("rtclick",function(o){let c=h(e).$implicit,v=p();return y(v.onActionTableRowSelect(c,o))})("mouseenter",function(){let o=h(e).$implicit,c=p();return y(c.onActionTableRowMouseEnter(o))})("mouseleave",function(){let o=h(e).$implicit,c=p();return y(c.onActionTableRowMouseLeave(o))}),l()}if(n&2){let e=i.$implicit,t=i.dataIndex,o=p();de("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}function fp(n,i){if(n&1){let e=b();a(0,"mat-row",68),E("click",function(o){let c=h(e).$implicit,v=p();return y(v.onActionTableRowSelect(c,o))})("rtclick",function(o){let c=h(e).$implicit,v=p();return y(v.onActionTableRowSelect(c,o))})("mouseenter",function(){let o=h(e).$implicit,c=p();return y(c.onActionTableRowMouseEnter(o))})("mouseleave",function(){let o=h(e).$implicit,c=p();return y(c.onActionTableRowMouseLeave(o))}),l()}if(n&2){let e=i.$implicit,t=i.dataIndex,o=p();de("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}function _p(n,i){if(n&1){let e=b();a(0,"mat-row",69),E("click",function(o){let c=h(e).$implicit,v=p();return y(v.onActionTableRowSelect(c,o))})("rtclick",function(o){let c=h(e).$implicit,v=p();return y(v.onActionTableRowSelect(c,o))})("mouseenter",function(){let o=h(e).$implicit,c=p();return y(c.onActionTableRowMouseEnter(o))})("mouseleave",function(){let o=h(e).$implicit,c=p();return y(c.onActionTableRowMouseLeave(o))}),l()}if(n&2){let e=i.$implicit,t=i.dataIndex,o=p();de("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)),d("ngStyle",at(7,Mr,e.expanded===!0?"":"none"))}}function Cp(n,i){if(n&1){let e=b();a(0,"div",55)(1,"button",70),E("click",function(){h(e);let o=p();return y(o.onFormCancel())}),C(2,"i",71),s(3),m(4,"translate"),l()()}n&2&&(r(3),g(" ",u(4,1,"ACTION.CANCEL")," "))}var Qi=class Qi extends Do{constructor(e,t,o,c,v,I,Ee,Ze,rt,jt,eo,Jt){super(o,new an,eo,v,Ze);this.data=e;this.dialogRef=t;this.contentService=o;this.cmsToastrService=c;this.tokenHelper=v;this.router=I;this.cdr=Ee;this.translate=Ze;this.cmsStoreService=rt;this.pageInfo=jt;this.publicHelper=eo;this.dialog=Jt;this.requestTitle="";this.requestPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.tablePropertySelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.formInfo=new Qe;this.optionsSearch=new rr;this.optionsStatist=new ar;this.tokenInfo=new st;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","Name","LastName","CompanyName","email","mobile","action_menu"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","Name","LastName","action_menu"];this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(e.title&&(this.requestTitle=e.title+""),e.id&&(this.requestPropertyId=e.id+"")),this.optionsSearch.parentMethods={onSubmit:no=>this.onSubmitOptionsSearch(no)}}ngOnInit(){this.translate.get("TITLE.QUICK_VIEW").subscribe(e=>{this.formInfo.formTitle=e}),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>$(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new an);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllResponsibleUserId(this.requestPropertyId,t).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),o.isSuccess?(this.dataModelResult=o,this.tableSource.data=o.listItems):this.cmsToastrService.typeErrorGetAll(o.errorMessage),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=_t.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=_t.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=_t.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Qi.\u0275fac=function(t){return new(t||Qi)(S(je),S(Ue),S(dt),S(B),S(le),S(yn),S(G),S(F),S(ae),S(wt),S(N),S(Oe))},Qi.\u0275cmp=R({type:Qi,selectors:[["app-estate-property-history-responsible-user-list"]],standalone:!1,features:[et],decls:83,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","LastName"],["matColumnDef","CompanyName"],["matColumnDef","email"],["matColumnDef","mobile"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(t,o){if(t&1){let c=b();a(0,"div",3),C(1,"app-progress-spinner",4),a(2,"div",5),s(3),l(),a(4,"div",6)(5,"app-cms-html-list",7),P("optionActionGuideNoticeDisplayChange",function(I){return h(c),A(o.viewGuideNotice,I)||(o.viewGuideNotice=I),y(I)}),E("optionOnActionButtonMemoRow",function(){return h(c),y(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),y(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),y(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),y(o.onActionButtonPrintRow())}),Wt(6,8)(7,9)(8,10),k(9,11),a(10,"a",12),E("click",function(){return h(c),y(o.onActionButtonReload())}),C(11,"i",13),l(),a(12,"a",14),E("click",function(){return h(c),y(o.onActionGridExpandRows(!0))}),C(13,"i",15),l(),a(14,"a",14),E("click",function(){return h(c),y(o.onActionGridExpandRows(!1))}),C(15,"i",16),l(),V(),k(16,17),a(17,"a",18)(18,"mat-slide-toggle",19),P("ngModelChange",function(I){return h(c),A(o.optionsSearch.data.show,I)||(o.optionsSearch.data.show=I),y(I)}),l(),s(19),m(20,"translate"),l(),V(),Wt(21,20)(22,21),k(23,22),a(24,"app-cms-search-list",23),P("optionsChange",function(I){return h(c),A(o.optionsSearch,I)||(o.optionsSearch=I),y(I)}),l(),a(25,"app-cms-statist-list",23),P("optionsChange",function(I){return h(c),A(o.optionsStatist,I)||(o.optionsStatist=I),y(I)}),l(),V(),k(26,24),a(27,"mat-table",25,0),E("matSortChange",function(){h(c);let I=x(28);return y(o.onTableSortData(I))}),k(29,26),q(30,Oc,3,3,"mat-header-cell",27)(31,Lc,3,0,"mat-cell",28),V(),k(32,29),q(33,Hc,3,3,"mat-header-cell",30)(34,Bc,2,1,"mat-cell",28),V(),k(35,31),q(36,Nc,2,1,"mat-header-cell",30)(37,qc,2,1,"mat-cell",28),V(),k(38,32),q(39,Gc,2,1,"mat-header-cell",30)(40,Uc,4,5,"mat-cell",28),V(),k(41,33),q(42,jc,2,1,"mat-header-cell",30)(43,Qc,5,7,"mat-cell",34),V(),k(44,35),q(45,zc,2,1,"mat-header-cell",30)(46,$c,2,1,"mat-cell",28),V(),k(47,36),q(48,Kc,2,1,"mat-header-cell",30)(49,Jc,2,1,"mat-cell",28),V(),k(50,37),q(51,Xc,2,1,"mat-header-cell",30)(52,Yc,2,1,"mat-cell",28),V(),k(53,38),q(54,Zc,2,1,"mat-header-cell",30)(55,ep,2,1,"mat-cell",28),V(),k(56,39),q(57,tp,2,1,"mat-header-cell",30)(58,ip,2,1,"mat-cell",28),V(),k(59,40),q(60,op,2,1,"mat-header-cell",30)(61,np,3,3,"mat-cell",28),V(),k(62,41),q(63,rp,2,1,"mat-header-cell",30)(64,ap,3,3,"mat-cell",28),V(),k(65,42),q(66,lp,3,3,"mat-header-cell",27)(67,sp,6,1,"mat-cell",43),V(),k(68,44),q(69,cp,4,6,"mat-cell",28),V(),k(70,45),q(71,dp,37,15,"mat-cell",28),V(),q(72,mp,1,0,"mat-header-row",46)(73,up,1,6,"mat-row",47)(74,fp,1,6,"mat-row",48)(75,_p,1,9,"mat-row",49),l(),V(),k(76,50),a(77,"mat-paginator",51,1),E("page",function(I){return h(c),y(o.onTablePageingData(I))}),l(),V(),l()(),a(79,"div",52),C(80,"app-cms-form-result-message",53),l(),a(81,"div",54),f(82,Cp,5,3,"div",55),l()()}t&2&&(r(),d("optionsInfoAreaId",o.constructorInfoAreaId),r(2),g(" ",o.formInfo.formTitle," "),r(2),d("optionsListInfoAreaId",o.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",o.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",o.tableRowSelected==null?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelect2Click)("optionActionRowDisplayMenuAct",o.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(o.tableRowSelected==null||o.tableRowSelected.username==null?null:o.tableRowSelected.username.length)>0?o.tableRowSelected==null?null:o.tableRowSelected.username:o.tableRowSelected==null?null:o.tableRowSelected.id),r(13),w("ngModel",o.optionsSearch.data.show),r(),g("",u(20,25,"ACTION.SEARCH")," "),r(5),w("options",o.optionsSearch),r(),w("options",o.optionsStatist),r(2),d("dataSource",o.tableSource),r(45),d("matHeaderRowDef",o.tabledisplayedColumns),r(),d("matRowDefColumns",ye(27,Rc)),r(),d("matRowDefColumns",o.tabledisplayedColumns),r(),d("matRowDefColumns",ye(28,kc)),r(2),d("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",ye(29,Vc)),r(3),d("formInfo",o.formInfo),r(2),_(o.formInfo.submitButtonEnabled?82:-1))},dependencies:[Ce,yt,j,ge,Tt,We,K,ho,yo,go,So,vo,Io,si,pi,fi,di,ci,_i,mi,ui,Ci,hi,mo,Ro,ko,Q,ze,Vo,Oo,Lo,re,O,lr,Le,Ho,ut,Fo],encapsulation:2});var Yo=Qi;function hp(n,i){n&1&&C(0,"div",8)}function yp(n,i){if(n&1){let e=b();a(0,"button",15),E("click",function(){h(e);let o=p();return y(o.onActionButtonLinkTo())}),a(1,"mat-icon"),s(2,"\u2197 "),l()()}}var zi=class zi{constructor(i,e,t,o,c,v,I,Ee,Ze){this.headerService=i;this.publicHelper=e;this.cdr=t;this.cmsToastrService=o;this.translate=c;this.cmsStoreService=v;this.themeService=I;this.dialog=Ee;this.tokenHelper=Ze;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new U;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(()=>$(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(i=>i.unsubscribe())}DataGetOneContent(){let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonLinkTo(i=this.dataModelResult.item){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(i.recordStatus!=Qt.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(No,{height:"90%",panelClass:e,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{title:i.title,urlViewContentQRCodeBase64:i.urlViewContentQRCodeBase64,urlViewContent:i.urlViewContent}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate})}};zi.\u0275fac=function(e){return new(e||zi)(S(vt),S(N),S(G),S(B),S(F),S(ae),S(gi),S(Oe),S(le))},zi.\u0275cmp=R({type:zi,selectors:[["app-estate-property-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:34,vars:11,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td"],[1,"td","large-width"],[2,"clear","both"],[1,"td",2,"text-align","left"],["title","link to"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"divider","divider-margins"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(e,t){e&1&&(a(0,"div",0),C(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),C(6,"span",6),l(),a(7,"div",7)(8,"h5")(9,"b"),s(10),m(11,"translate"),l()()(),f(12,hp,1,0,"div",8),l(),a(13,"div",4)(14,"div",5)(15,"b"),s(16),l(),s(17,": "),l(),a(18,"div",9),s(19),l(),C(20,"div",8)(21,"div",10),l(),a(22,"div",4)(23,"div",5)(24,"b"),s(25),l(),s(26," : "),l(),a(27,"div",9),s(28),l(),a(29,"div",11)(30,"abbr",12),f(31,yp,3,0,"button",13),l()(),C(32,"div",10),l()()()(),C(33,"div",14)),e&2&&(r(),d("optionsInfoAreaId",t.constructorInfoAreaId),r(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),r(4),M(u(11,9,"TITLE.Selected_Property")),r(2),_(!(t.dataModelResult==null||t.dataModelResult.item==null)&&t.dataModelResult.item.id?12:-1),r(4),g("",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," "),r(3),M(t.dataModelResult==null||t.dataModelResult.item==null?null:t.dataModelResult.item.id),r(6),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(3),M(t.dataModelResult==null||t.dataModelResult.item==null?null:t.dataModelResult.item.title),r(3),_(!(t.dataModelResult==null||t.dataModelResult.item==null)&&t.dataModelResult.item.id?31:-1))},dependencies:[We,Q,Si,O],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Zo=zi;function Sp(n,i){n&1&&C(0,"div",8)}function vp(n,i){if(n&1){let e=b();a(0,"button",15),E("click",function(){h(e);let o=p();return y(o.onActionButtonLinkTo())}),a(1,"mat-icon"),s(2,"\u2197 "),l()()}}var $i=class $i{constructor(i,e,t,o,c,v,I){this.headerService=i;this.publicHelper=e;this.cdr=t;this.translate=o;this.themeService=c;this.cmsToastrService=v;this.dialog=I;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new U;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonLinkTo(i=this.dataModelResult.item){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(i.recordStatus!=Qt.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(No,{height:"90%",panelClass:e,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{title:i.title,urlViewContentQRCodeBase64:i.urlViewContentQRCodeBase64,urlViewContent:i.urlViewContent}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate})}};$i.\u0275fac=function(e){return new(e||$i)(S(gt),S(N),S(G),S(F),S(gi),S(B),S(Oe))},$i.\u0275cmp=R({type:$i,selectors:[["app-estate-customer-order-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:34,vars:11,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td"],[1,"td","large-width"],[2,"clear","both"],[1,"td",2,"text-align","left"],["title","link to"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"divider","divider-margins"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(e,t){e&1&&(a(0,"div",0),C(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),C(6,"span",6),l(),a(7,"div",7)(8,"h5")(9,"b"),s(10),m(11,"translate"),l()()(),f(12,Sp,1,0,"div",8),l(),a(13,"div",4)(14,"div",5)(15,"b"),s(16),l(),s(17,": "),l(),a(18,"div",9),s(19),l(),C(20,"div",8)(21,"div",10),l(),a(22,"div",4)(23,"div",5)(24,"b"),s(25),l(),s(26," : "),l(),a(27,"div",9),s(28),l(),a(29,"div",11)(30,"abbr",12),f(31,vp,3,0,"button",13),l()(),C(32,"div",10),l()()()(),C(33,"div",14)),e&2&&(r(),d("optionsInfoAreaId",t.constructorInfoAreaId),r(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),r(4),M(u(11,9,"TITLE.Selected_Customer")),r(2),_(!(t.dataModelResult==null||t.dataModelResult.item==null)&&t.dataModelResult.item.id?12:-1),r(4),g("",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," "),r(3),M(t.dataModelResult==null||t.dataModelResult.item==null?null:t.dataModelResult.item.id),r(6),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(3),M(t.dataModelResult==null||t.dataModelResult.item==null?null:t.dataModelResult.item.title),r(3),_(!(t.dataModelResult==null||t.dataModelResult.item==null)&&t.dataModelResult.item.id?31:-1))},dependencies:[We,Q,Si,O],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var en=$i;function Ep(n,i){n&1&&C(0,"div",8)}var Ki=class Ki{constructor(i,e,t,o,c,v){this.headerService=i;this.publicHelper=e;this.cdr=t;this.translate=o;this.cmsToastrService=c;this.dialog=v;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new U;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}};Ki.\u0275fac=function(e){return new(e||Ki)(S(ni),S(N),S(G),S(F),S(B),S(Oe))},Ki.\u0275cmp=R({type:Ki,selectors:[["app-estate-account-expert-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:32,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td"],[1,"td","large-width"],[2,"clear","both"],[1,"td",2,"text-align","left"],[1,"divider","divider-margins"]],template:function(e,t){e&1&&(a(0,"div",0),C(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),C(6,"span",6),l(),a(7,"div",7)(8,"h5")(9,"b"),s(10),m(11,"translate"),l()()(),f(12,Ep,1,0,"div",8),l(),a(13,"div",4)(14,"div",5)(15,"b"),s(16),l(),s(17,": "),l(),a(18,"div",9),s(19),l(),C(20,"div",8)(21,"div",10),l(),a(22,"div",4)(23,"div",5)(24,"b"),s(25),l(),s(26," : "),l(),a(27,"div",9),s(28),l(),C(29,"div",11)(30,"div",10),l()()()(),C(31,"div",12)),e&2&&(r(),d("optionsInfoAreaId",t.constructorInfoAreaId),r(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),r(4),M(u(11,8,"TITLE.Selected_Personnel")),r(2),_(!(t.dataModelResult==null||t.dataModelResult.item==null)&&t.dataModelResult.item.id?12:-1),r(4),g("",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," "),r(3),M(t.dataModelResult==null||t.dataModelResult.item==null?null:t.dataModelResult.item.id),r(6),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(3),M(t.dataModelResult==null||t.dataModelResult.item==null?null:t.dataModelResult.item.title))},dependencies:[Q,Si,O],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var tn=Ki;var wp=["vform"],Ap=()=>["fa"];function Pp(n,i){n&1&&C(0,"i",17)}function Dp(n,i){n&1&&C(0,"i",18)}function Rp(n,i){n&1&&(a(0,"mat-error"),s(1," Title is "),a(2,"strong"),s(3),m(4,"translate"),l()()),n&2&&(r(3),M(u(4,1,"MESSAGE.required")))}function kp(n,i){n&1&&C(0,"i",17)}function Vp(n,i){n&1&&C(0,"i",18)}function Op(n,i){n&1&&(a(0,"mat-error"),s(1," TitleResourceLanguage is "),a(2,"strong"),s(3),m(4,"translate"),l()()),n&2&&(r(3),M(u(4,1,"MESSAGE.required")))}function Lp(n,i){if(n&1){let e=b();a(0,"div",14)(1,"label",29),s(2),l(),a(3,"input",30,4),P("ngModelChange",function(o){h(e);let c=p();return A(c.dataModel.titleResourceLanguage,o)||(c.dataModel.titleResourceLanguage=o),y(o)}),l(),f(5,kp,1,0,"i",17),f(6,Vp,1,0,"i",18),a(7,"em"),s(8),l(),f(9,Op,5,3,"mat-error"),l()}if(n&2){let e=x(4),t=p(),o=x(15);r(2),M(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),r(),d("placeholder",T(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",t.dataModel.titleResourceLanguage),d("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),r(2),_(o.value?-1:5),r(),_(o.value?6:-1),r(2),g("",e.value.length," / 100"),r(),_(e.errors!=null&&e.errors.required?9:-1)}}function Hp(n,i){if(n&1){let e=b();a(0,"div",14)(1,"label",31),s(2),l(),a(3,"input",32,5),P("ngModelChange",function(o){h(e);let c=p();return A(c.dataModel.iconFont,o)||(c.dataModel.iconFont=o),y(o)}),E("iconPickerSelect",function(o){h(e);let c=p();return y(c.onIconPickerSelect(o))}),l(),a(5,"span",33),C(6,"i",34),l()()}if(n&2){let e=p();r(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),r(),d("placeholder",T(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),w("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",ye(9,Ap))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),r(3),d("ngClass",e.dataModel.iconFont)}}function Fp(n,i){if(n&1){let e=b();a(0,"div",19)(1,"label",35),s(2),l(),a(3,"div",36)(4,"div",37)(5,"input",38,6),P("ngModelChange",function(o){h(e);let c=p();return A(c.dataModel.iconColor,o)||(c.dataModel.iconColor=o),y(o)}),l()(),a(7,"div",39),C(8,"ngx-mat-color-toggle",40)(9,"ngx-mat-color-picker",41,7),l()()()}if(n&2){let e=x(10),t=p();r(2),M(t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),r(3),tt("background",t.dataModel.iconColor),d("placeholder",T(t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle)),w("ngModel",t.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessAddField)),r(3),d("for",e),r(),d("touchUi",!0)("color","primary")}}function Bp(n,i){n&1&&(a(0,"mat-error"),s(1," Description is "),a(2,"strong"),s(3),m(4,"translate"),l()()),n&2&&(r(3),M(u(4,1,"MESSAGE.required")))}function Np(n,i){if(n&1&&(C(0,"img",24),m(1,"cmsthumbnail")),n&2){let e=p();d("src",T(u(1,2,e.dataModel.linkMainImageIdSrc)),se)}}function qp(n,i){if(n&1){let e=b();a(0,"div",28)(1,"button",42),E("click",function(){h(e);let o=p();return y(o.onFormCancel())}),C(2,"i",43),s(3),m(4,"translate"),l(),a(5,"button",44),C(6,"i",45),s(7),m(8,"translate"),l()()}if(n&2){p();let e=x(10);r(3),g(" ",u(4,3,"ACTION.CANCEL")," "),r(2),d("disabled",!e.form.valid),r(2),g(" ",u(8,5,"ACTION.SAVE")," ")}}var Ji=class Ji extends xo{constructor(e,t,o,c,v,I,Ee,Ze){super(c,new Je,I,Ze);this.data=e;this.dialogRef=t;this.coreEnumService=o;this.estateActivityTypeService=c;this.cmsToastrService=v;this.publicHelper=I;this.cdr=Ee;this.translate=Ze;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new U;this.dataModel=new Je;this.formInfo=new Qe;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.estateActivityTypeService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.submitResultMessage=o,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ji.\u0275fac=function(t){return new(t||Ji)(S(je),S(Ue),S(Y),S(pt),S(B),S(N),S(G),S(F))},Ji.\u0275cmp=R({type:Ji,selectors:[["app-estate-activity-type-add"]],viewQuery:function(t,o){if(t&1&&Ne(wp,5),t&2){let c;qe(c=Ge())&&(o.formGroup=c.first)}},standalone:!1,features:[et],decls:46,vars:45,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["TitleResourceLanguage",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,o){if(t&1){let c=b();a(0,"div",8),C(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),s(4),l(),a(5,"p"),s(6),m(7,"translate"),l(),C(8,"app-cms-form-result-message",12),a(9,"form",13,0),E("ngSubmit",function(){return h(c),y(o.onFormSubmit())}),a(11,"div",14)(12,"label",15),s(13),l(),a(14,"input",16,1),P("ngModelChange",function(I){return h(c),A(o.dataModel.title,I)||(o.dataModel.title=I),y(I)}),l(),f(16,Pp,1,0,"i",17),f(17,Dp,1,0,"i",18),a(18,"em"),s(19),l(),f(20,Rp,5,3,"mat-error"),l(),f(21,Lp,10,9,"div",14),f(22,Hp,7,10,"div",14),f(23,Fp,11,11,"div",19),a(24,"div",14)(25,"label",20),s(26),l(),a(27,"textarea",21,2),P("ngModelChange",function(I){return h(c),A(o.dataModel.description,I)||(o.dataModel.description=I),y(I)}),s(29,"                "),l(),a(30,"em"),s(31),l(),f(32,Bp,5,3,"mat-error"),l(),a(33,"div",22)(34,"a",23),m(35,"cmsthumbnail"),f(36,Np,2,4,"img",24),l()(),a(37,"div",14)(38,"label",25),s(39),m(40,"translate"),l(),a(41,"input",26,3),m(43,"translate"),P("ngModelChange",function(I){return h(c),A(o.dataModel.linkMainImageId,I)||(o.dataModel.linkMainImageId=I),y(I)}),E("click",function(){return h(c),y(o.fileManagerOpenForm=!0)}),l(),a(44,"cms-file-manager",27),E("itemSelected",function(I){return h(c),y(o.onActionFileSelected(I))}),P("openFormChange",function(I){return h(c),A(o.fileManagerOpenForm,I)||(o.fileManagerOpenForm=I),y(I)}),l()(),f(45,qp,9,7,"div",28),l()()()}if(t&2){let c=x(15),v=x(28);r(),d("optionsInfoAreaId",o.constructorInfoAreaId),r(3),g(" ",o.formInfo.formTitle," "),r(2),g(" ",u(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),d("formInfo",o.formInfo),r(5),M(o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle),r(),d("placeholder",T(o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle)),w("ngModel",o.dataModel.title),r(2),_(c.value?-1:16),r(),_(c.value?17:-1),r(2),g("",c.value.length," / 100"),r(),_(c.errors!=null&&c.errors.required?20:-1),r(),_(o.fieldsInfo.titleResourceLanguage!=null&&o.fieldsInfo.titleResourceLanguage.accessWatchField?21:-1),r(),_(o.fieldsInfo.iconFont!=null&&o.fieldsInfo.iconFont.accessWatchField?22:-1),r(),_(o.fieldsInfo.iconColor!=null&&o.fieldsInfo.iconColor.accessWatchField?23:-1),r(3),M(o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle),r(),d("placeholder",T(o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle)),w("ngModel",o.dataModel.description),r(4),g("",v.value.length," / 500"),r(),_(v.errors!=null&&v.errors.required?32:-1),r(2),d("href",T(u(35,39,o.dataModel.linkMainImageIdSrc)),se),r(2),_((o.dataModel==null||o.dataModel.linkMainImageIdSrc==null?null:o.dataModel.linkMainImageIdSrc.length)>0?36:-1),r(3),M(u(40,41,"TITLE.PICTURE")),r(2),d("placeholder",T(u(43,43,"TITLE.Original_File_ID"))),w("ngModel",o.dataModel.linkMainImageId),r(3),d("language",o.appLanguage)("isPopup",!0),w("openForm",o.fileManagerOpenForm),d("tree",o.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(),_(o.formInfo.submitButtonEnabled?45:-1)}},dependencies:[Ce,Et,z,j,mt,Z,bt,Mt,ge,It,Re,ot,K,Q,ze,qo,To,Mo,bo,Eo,O,Le],encapsulation:2});var on=Ji;var Gp=["vform"],Up=()=>["fa"];function jp(n,i){n&1&&C(0,"i",17)}function Wp(n,i){n&1&&C(0,"i",18)}function Qp(n,i){if(n&1&&(a(0,"mat-error"),s(1),a(2,"strong"),s(3),m(4,"translate"),l()()),n&2){let e=p();r(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),r(2),M(u(4,2,"MESSAGE.required"))}}function zp(n,i){n&1&&C(0,"i",17)}function $p(n,i){n&1&&C(0,"i",18)}function Kp(n,i){n&1&&(a(0,"mat-error"),s(1," TitleResourceLanguage is "),a(2,"strong"),s(3),m(4,"translate"),l()()),n&2&&(r(3),M(u(4,1,"MESSAGE.required")))}function Jp(n,i){if(n&1){let e=b();a(0,"div",14)(1,"label",33),s(2),l(),a(3,"input",34,5),P("ngModelChange",function(o){h(e);let c=p();return A(c.dataModel.iconFont,o)||(c.dataModel.iconFont=o),y(o)}),E("iconPickerSelect",function(o){h(e);let c=p();return y(c.onIconPickerSelect(o))}),l(),a(5,"span",35),C(6,"i",36),l()()}if(n&2){let e=p();r(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),r(),d("placeholder",T(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),w("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",ye(9,Up))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),r(3),d("ngClass",e.dataModel.iconFont)}}function Xp(n,i){if(n&1){let e=b();a(0,"div",23)(1,"label",37),s(2),l(),a(3,"div",38)(4,"div",39)(5,"input",40,6),P("ngModelChange",function(o){h(e);let c=p();return A(c.dataModel.iconColor,o)||(c.dataModel.iconColor=o),y(o)}),l()(),a(7,"div",41),C(8,"ngx-mat-color-toggle",42)(9,"ngx-mat-color-picker",43,7),l()()()}if(n&2){let e=x(10),t=p();r(2),M(t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),r(3),tt("background",t.dataModel.iconColor),d("placeholder",T(t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle)),w("ngModel",t.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessEditField)),r(3),d("for",e),r(),d("touchUi",!0)("color","primary")}}function Yp(n,i){n&1&&(a(0,"mat-error"),s(1," Description is "),a(2,"strong"),s(3),m(4,"translate"),l()()),n&2&&(r(3),M(u(4,1,"MESSAGE.required")))}function Zp(n,i){if(n&1&&(C(0,"img",28),m(1,"cmsthumbnail")),n&2){let e=p();d("src",T(u(1,2,e.dataModel.linkMainImageIdSrc)),se)}}function ed(n,i){if(n&1){let e=b();a(0,"div",32)(1,"button",44),E("click",function(){h(e);let o=p();return y(o.onFormCancel())}),C(2,"i",45),s(3),m(4,"translate"),l(),a(5,"button",46),C(6,"i",47),s(7),m(8,"translate"),l()()}if(n&2){p();let e=x(10);r(3),g(" ",u(4,3,"ACTION.CANCEL")," "),r(2),d("disabled",!e.form.valid),r(2),g(" ",u(8,5,"ACTION.SAVE")," ")}}var Xi=class Xi extends Po{constructor(e,t,o,c,v,I,Ee,Ze,rt){super(c,new Je,Ee,rt);this.data=e;this.dialogRef=t;this.coreEnumService=o;this.estateActivityTypeService=c;this.estatePropertyTypeService=v;this.cmsToastrService=I;this.publicHelper=Ee;this.cdr=Ze;this.translate=rt;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new gn;this.dataModel=new Je;this.formInfo=new Qe;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.estateActivityTypeService.setAccessLoad(),this.estateActivityTypeService.setAccessDataType(lt.Editor),this.estateActivityTypeService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+t.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(c=>{this.formInfo.submitResultMessage=c}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)});let t=new Me,o=new D;o.propertyName="LinkActivityTypeId",o.value=this.requestId,t.filters.push(o),this.estatePropertyTypeService.ServiceGetAll(t).subscribe({next:c=>{this.dataEstatePropertyTypeModel=c.listItems;let v=[];this.dataEstatePropertyTypeModel.forEach(I=>{v.push(I.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=v,c.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(I=>{this.formInfo.submitResultMessage=I}),this.formInfo.submitResultMessage=c.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(c.errorMessage)),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.estateActivityTypeService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeUsageModel=e}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Xi.\u0275fac=function(t){return new(t||Xi)(S(je),S(Ue),S(Y),S(pt),S(Mn),S(B),S(N),S(G),S(F))},Xi.\u0275cmp=R({type:Xi,selectors:[["app-estate-activity-type-edit"]],viewQuery:function(t,o){if(t&1&&Ne(Gp,5),t&2){let c;qe(c=Ge())&&(o.formGroup=c.first)}},standalone:!1,features:[et],decls:59,vars:55,consts:[["vform","ngForm"],["Title",""],["TitleResourceLanguage",""],["Description",""],["LinkMainImageId",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.titleML","type","text","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,o){if(t&1){let c=b();a(0,"div",8),C(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),s(4),l(),a(5,"p"),s(6),m(7,"translate"),l(),C(8,"app-cms-form-result-message",12),a(9,"form",13,0),E("ngSubmit",function(){return h(c),y(o.onFormSubmit())}),a(11,"div",14)(12,"label",15),s(13),l(),a(14,"input",16,1),P("ngModelChange",function(I){return h(c),A(o.dataModel.title,I)||(o.dataModel.title=I),y(I)}),l(),f(16,jp,1,0,"i",17),f(17,Wp,1,0,"i",18),a(18,"em"),s(19),l(),f(20,Qp,5,4,"mat-error"),l(),a(21,"div",14)(22,"label",19),s(23,"TitleML"),l(),a(24,"input",20),P("ngModelChange",function(I){return h(c),A(o.dataModel.titleML,I)||(o.dataModel.titleML=I),y(I)}),l()(),a(25,"div",14)(26,"label",21),s(27),l(),a(28,"input",22,2),P("ngModelChange",function(I){return h(c),A(o.dataModel.titleResourceLanguage,I)||(o.dataModel.titleResourceLanguage=I),y(I)}),l(),f(30,zp,1,0,"i",17),f(31,$p,1,0,"i",18),a(32,"em"),s(33),l(),f(34,Kp,5,3,"mat-error"),l(),f(35,Jp,7,10,"div",14),f(36,Xp,11,11,"div",23),a(37,"div",14)(38,"label",24),s(39),l(),a(40,"textarea",25,3),P("ngModelChange",function(I){return h(c),A(o.dataModel.description,I)||(o.dataModel.description=I),y(I)}),s(42,"                  "),l(),a(43,"em"),s(44),l(),f(45,Yp,5,3,"mat-error"),l(),a(46,"div",26)(47,"a",27),m(48,"cmsthumbnail"),f(49,Zp,2,4,"img",28),l()(),a(50,"div",14)(51,"label",29),E("click",function(){return h(c),y(o.fileManagerOpenForm=!0)}),s(52),m(53,"translate"),l(),a(54,"input",30,4),m(56,"translate"),P("ngModelChange",function(I){return h(c),A(o.dataModel.linkMainImageId,I)||(o.dataModel.linkMainImageId=I),y(I)}),E("click",function(){return h(c),y(o.fileManagerOpenForm=!0)}),l(),a(57,"cms-file-manager",31),E("itemSelected",function(I){return h(c),y(o.onActionFileSelected(I))}),P("openFormChange",function(I){return h(c),A(o.fileManagerOpenForm,I)||(o.fileManagerOpenForm=I),y(I)}),l()(),f(58,ed,9,7,"div",32),l()()()}if(t&2){let c=x(15),v=x(29),I=x(41);r(),d("optionsInfoAreaId",o.constructorInfoAreaId),r(3),g(" ",o.formInfo.formTitle," "),r(2),g(" ",u(7,47,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),d("formInfo",o.formInfo),r(5),M(o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle),r(),d("placeholder",T(o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle)),w("ngModel",o.dataModel.title),r(2),_(c.value?-1:16),r(),_(c.value?17:-1),r(2),g("",c.value.length," / 100"),r(),_(c.errors!=null&&c.errors.required?20:-1),r(4),w("ngModel",o.dataModel.titleML),d("disabled",!0),r(3),M(o.fieldsInfo.titleResourceLanguage==null?null:o.fieldsInfo.titleResourceLanguage.fieldTitle),r(),d("placeholder",T(o.fieldsInfo.titleResourceLanguage==null?null:o.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",o.dataModel.titleResourceLanguage),d("disabled",!(o.fieldsInfo.titleResourceLanguage!=null&&o.fieldsInfo.titleResourceLanguage.accessEditField)),r(2),_(c.value?-1:30),r(),_(c.value?31:-1),r(2),g("",v.value.length," / 100"),r(),_(v.errors!=null&&v.errors.required?34:-1),r(),_(o.fieldsInfo.iconFont!=null&&o.fieldsInfo.iconFont.accessWatchField?35:-1),r(),_(o.fieldsInfo.iconColor!=null&&o.fieldsInfo.iconColor.accessWatchField?36:-1),r(3),M(o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle),r(),d("placeholder",T(o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle)),w("ngModel",o.dataModel.description),r(4),g("",I.value.length," / 500"),r(),_(I.errors!=null&&I.errors.required?45:-1),r(2),d("href",T(u(48,49,o.dataModel.linkMainImageIdSrc)),se),r(2),_((o.dataModel==null||o.dataModel.linkMainImageIdSrc==null?null:o.dataModel.linkMainImageIdSrc.length)>0?49:-1),r(3),M(u(53,51,"TITLE.PICTURE")),r(2),d("placeholder",T(u(56,53,"TITLE.Original_File_ID"))),w("ngModel",o.dataModel.linkMainImageId),r(3),d("language",o.appLanguage)("isPopup",!0),w("openForm",o.fileManagerOpenForm),d("tree",o.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(),_(o.formInfo.submitButtonEnabled?58:-1)}},dependencies:[Ce,Et,z,j,mt,Z,bt,Mt,ge,It,Re,ot,K,Q,ze,or,qo,To,Mo,bo,Eo,O,Le],encapsulation:2});var nn=Xi;function id(n,i){if(n&1){let e=b();a(0,"button",14),E("click",function(){h(e);let o=p();return y(o.onActionAdd())}),s(1),m(2,"translate"),l()}n&2&&(r(),g(" ",u(2,1,"ACTION.ADD")," "))}function od(n,i){if(n&1){let e=b();a(0,"button",15),E("click",function(){h(e);let o=p();return y(o.onActionEdit())}),s(1),m(2,"translate"),l()}n&2&&(r(),g(" ",u(2,1,"ACTION.EDIT")," "))}function nd(n,i){if(n&1){let e=b();a(0,"button",16),E("click",function(){h(e);let o=p();return y(o.onActionDelete())}),s(1),m(2,"translate"),l()}n&2&&(r(),g(" ",u(2,1,"ACTION.DELETE")," "))}function rd(n,i){if(n&1){let e=b();a(0,"button",17),E("click",function(){h(e);let o=p();return y(o.onActionButtonReload())}),a(1,"mat-icon",18),m(2,"translate"),s(3,"refresh"),l()()}n&2&&(r(),d("title",T(u(2,2,"ACTION.RELOAD"))))}function ad(n,i){if(n&1){let e=b();a(0,"mat-tree-node",19),C(1,"button",20),a(2,"span",21),E("click",function(){let o=h(e).$implicit,c=p();return y(c.onActionSelect(o))}),s(3),l()()}if(n&2){let e=i.$implicit,t=p();de("ntk-tree-selected",(t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0&&(t.dataModelSelect==null?null:t.dataModelSelect.id)===e.id),r(3),M(e.title)}}function ld(n,i){if(n&1){let e=b();a(0,"mat-tree-node",22)(1,"button",23)(2,"mat-icon",24),s(3),l()(),a(4,"span",21),E("click",function(){let o=h(e).$implicit,c=p();return y(c.onActionSelect(o))}),s(5),l()()}if(n&2){let e=i.$implicit,t=p(),o=x(12);de("ntk-tree-selected",(t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0&&(t.dataModelSelect==null?null:t.dataModelSelect.id)===e.id),d("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),r(),_e("type","button")("aria-label","Toggle "+e.title),r(2),g(" ",o.isExpanded(e)?"expand_more":"chevron_right"," "),r(2),M(e.title)}}var Yi=class Yi{constructor(i,e,t,o,c,v,I,Ee,Ze,rt,jt){this.cmsToastrService=i;this.coreEnumService=e;this.categoryService=t;this.cmsConfirmationDialogService=o;this.themeService=c;this.dialog=v;this.cdr=I;this.publicHelper=Ee;this.translate=Ze;this.tokenHelper=rt;this.cmsStoreService=jt;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Je;this.dataModelResult=new U;this.filterModel=new Me;this.dataSource=new tr;this.optionChange=new X;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(i,e)=>!1;this.childrenAccessor=i=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(()=>$(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(i=>i.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onActionSelect(i){i&&this.dataModelSelect&&i.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Je,this.DataGetAll()}onActionSelectForce(i){}onActionAdd(){var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(on,{height:"90%",panelClass:i,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let i="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(i=this.dataModelSelect.id),i===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(nn,{height:"90%",panelClass:e,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:i}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let i="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(i=this.dataModelSelect.id),i===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}var e="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(o=>{e=o["MESSAGE.Please_Confirm"],t=o["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) ",this.cmsConfirmationDialogService.confirm(e,t).then(c=>{if(c){let v=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(I=>{this.publicHelper.processService.processStart(v,I,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:I=>{I.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(v)},error:I=>{this.cmsToastrService.typeError(I),this.publicHelper.processService.processStop(v,!1)}})}}).catch(()=>{})})}};Yi.\u0275fac=function(e){return new(e||Yi)(S(B),S(Y),S(pt),S(Ao),S(gi),S(Oe),S(G),S(N),S(F),S(le),S(ae))},Yi.\u0275cmp=R({type:Yi,selectors:[["app-estate-activity-type-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,t){e&1&&(a(0,"app-cms-html-tree",1),k(1,2),s(2),m(3,"translate"),V(),k(4,3),f(5,id,3,3,"button",4),f(6,od,3,3,"button",5),f(7,nd,3,3,"button",6),f(8,rd,4,4,"button",7),V(),k(9,8),C(10,"app-progress-spinner",9),a(11,"mat-tree",10,0),q(13,ad,4,3,"mat-tree-node",11)(14,ld,6,8,"mat-tree-node",12),l(),V(),Wt(15,13),l()),e&2&&(d("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),g(" ",u(3,12,"TABLE."+(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.moduleEntityName))," "),r(3),_(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?5:-1),r(),_(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.dataModelSelect==null?null:t.dataModelSelect.id)>0?6:-1),r(),_(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&t.dataModelSelect.id&&(t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0?7:-1),r(),_(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?8:-1),r(2),d("optionsInfoAreaId",t.constructorInfoAreaId),r(),d("dataSource",t.dataSource)("childrenAccessor",t.childrenAccessor),r(3),d("matTreeNodeDefWhen",t.hasChild))},dependencies:[Tt,We,Xn,Yn,er,Zn,Jn,Q,cr,O],encapsulation:2});var rn=Yi;var cd=()=>["expandedTitle"],pd=()=>["expandedDetail"],dd=()=>[5,10,20,100],Ar=n=>({display:n});function md(n,i){if(n&1&&C(0,"app-estate-property-header",4),n&2){let e=p();d("optionId",e.requestLinkPropertyId)}}function ud(n,i){if(n&1&&C(0,"app-estate-customer-order-header",4),n&2){let e=p();d("optionId",e.requestLinkCustomerOrderId)}}function fd(n,i){if(n&1&&C(0,"app-estate-account-expert-header",4),n&2){let e=p();d("optionId",e.requestLinkEstateExpertId)}}function _d(n,i){if(n&1){let e=b();a(0,"div",23)(1,"a",58),E("click",function(){h(e);let o=p();return y(o.onActionButtonNewRow())}),C(2,"i",59)(3,"br"),l(),a(4,"p",26),s(5),m(6,"translate"),l()()}n&2&&(r(5),g(" ",u(6,1,"ACTION.ADD")," "))}function Cd(n,i){if(n&1){let e=b();a(0,"div",23)(1,"a",60),E("click",function(){h(e);let o=p();return y(o.onActionButtonEditRow(o.tableRowSelected))}),C(2,"i",61)(3,"br"),l(),a(4,"p",26),s(5),m(6,"translate"),l()()}n&2&&(r(5),g(" ",u(6,1,"ACTION.EDIT")," "))}function hd(n,i){if(n&1){let e=b();a(0,"div",23)(1,"a",62),E("click",function(){h(e);let o=p();return y(o.onActionButtonDeleteRow(o.tableRowSelected))}),C(2,"i",63)(3,"br"),l(),a(4,"p",26),s(5),m(6,"translate"),l()()}n&2&&(r(5),g(" ",u(6,1,"ACTION.DELETE")," "))}function yd(n,i){n&1&&(a(0,"mat-error"),s(1),m(2,"translate"),l()),n&2&&(r(),M(u(2,1,"MESSAGE.InvalidStartDate")))}function gd(n,i){n&1&&(a(0,"mat-error"),s(1),m(2,"translate"),l()),n&2&&(r(),M(u(2,1,"MESSAGE.InvalidEndDate")))}function Sd(n,i){if(n&1){let e=b();a(0,"div",28)(1,"div",64),s(2),m(3,"translate"),l(),a(4,"mat-form-field",65)(5,"mat-label"),s(6),m(7,"translate"),l(),a(8,"mat-date-range-input",66),C(9,"input",67),m(10,"translate"),C(11,"input",68),m(12,"translate"),l(),C(13,"mat-datepicker-toggle",69)(14,"mat-date-range-picker",null,2),f(16,yd,3,3,"mat-error"),f(17,gd,3,3,"mat-error"),l(),a(18,"button",70),E("click",function(){h(e);let o=p();return y(o.onActionNext())}),C(19,"i",71),l(),a(20,"button",70),E("click",function(){h(e);let o=p();return y(o.onActionPervious())}),C(21,"i",71),s(22," > "),l(),C(23,"br"),a(24,"a",72),E("click",function(){h(e);let o=p();return y(o.onActionButtonInCheckingOnDateSearch())}),s(25),m(26,"translate"),l()()}if(n&2){let e=x(15),t=p();r(2),g(" ",u(3,12,"TITLE.SearchInCheckingOnDay")," "),r(4),M(u(7,14,"TITLE.Enter_a_date_range")),r(2),d("formGroup",t.checkingOnDayRange)("rangePicker",e),r(),d("placeholder",T(u(10,16,"TITLE.Start_Date"))),r(2),d("placeholder",T(u(12,18,"TITLE.Start_Date"))),r(2),d("for",e),r(3),_(t.checkingOnDayRange.controls.start.hasError("matStartDateInvalid")?16:-1),r(),_(t.checkingOnDayRange.controls.end.hasError("matEndDateInvalid")?17:-1),r(8),M(u(26,20,"ACTION.SEARCH"))}}function vd(n,i){n&1&&(a(0,"mat-header-cell"),s(1),m(2,"translate"),l()),n&2&&(r(),g(" ",u(2,1,"TITLE.MENU")," "))}function Id(n,i){if(n&1){let e=b();a(0,"mat-cell")(1,"button",73),E("click",function(){let o=h(e).$implicit,c=p();return y(c.onActionTableRowSelectActionMenu(o))}),C(2,"i",74),l()()}}function Ed(n,i){if(n&1&&(a(0,"mat-header-cell",75),s(1),l()),n&2){let e=p();r(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function bd(n,i){if(n&1&&(a(0,"mat-cell"),s(1),l()),n&2){let e=i.$implicit;r(),g(" ",e.id," ")}}function Md(n,i){if(n&1&&(a(0,"mat-header-cell",75),s(1),l()),n&2){let e=p();r(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Td(n,i){if(n&1&&C(0,"select",77),n&2){let e=p().$implicit,t=p();d("contentService",t.contentService)("row",e)("ngStyle",at(3,Ar,e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function xd(n,i){if(n&1&&(a(0,"mat-cell",76),m(1,"statusCellClass"),C(2,"i",76),m(3,"statusIconClass"),f(4,Td,1,5,"select",77),l()),n&2){let e=i.$implicit,t=p();d("ngClass",u(1,3,e.recordStatus)),r(2),d("ngClass",u(3,5,e.recordStatus)),r(2),_(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?4:-1)}}function wd(n,i){if(n&1&&(a(0,"mat-header-cell",75),s(1),l()),n&2){let e=p();r(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Ad(n,i){if(n&1&&(a(0,"mat-cell"),s(1),l()),n&2){let e=i.$implicit;r(),g(" ",e.title," ")}}function Pd(n,i){if(n&1&&(a(0,"mat-header-cell",75),s(1),l()),n&2){let e=p();r(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Dd(n,i){if(n&1&&(a(0,"mat-cell",78),s(1),m(2,"localeDateTime"),l()),n&2){let e=i.$implicit;r(),g(" ",u(2,1,e.createdDate)," ")}}function Rd(n,i){if(n&1&&(a(0,"mat-header-cell",75),s(1),l()),n&2){let e=p();r(),g(" ",e.fieldsInfo.appointmentDateFrom==null?null:e.fieldsInfo.appointmentDateFrom.fieldTitle," ")}}function kd(n,i){if(n&1&&(a(0,"mat-cell"),s(1),m(2,"localeDate"),l()),n&2){let e=i.$implicit,t=p();r(),ne(" ",u(2,2,e.appointmentDateFrom)," ",t.publicHelper.getTime(e.appointmentDateFrom))}}function Vd(n,i){if(n&1&&(a(0,"mat-header-cell",75),s(1),l()),n&2){let e=p();r(),g(" ",e.fieldsInfo.appointmentDateTo==null?null:e.fieldsInfo.appointmentDateTo.fieldTitle," ")}}function Od(n,i){if(n&1&&(a(0,"mat-cell"),s(1),m(2,"localeDate"),l()),n&2){let e=i.$implicit,t=p();r(),ne(" ",u(2,2,e.appointmentDateTo)," ",t.publicHelper.getTime(e.appointmentDateTo)," ")}}function Ld(n,i){if(n&1&&(a(0,"mat-header-cell",75),s(1),l()),n&2){let e=p();r(),g(" ",e.fieldsInfo.linkActivityTypeId==null?null:e.fieldsInfo.linkActivityTypeId.fieldTitle," ")}}function Hd(n,i){if(n&1&&(a(0,"mat-cell"),s(1),m(2,"cmstitle"),l()),n&2){let e=i.$implicit,t=p();r(),g(" ",Xt(2,1,e.linkActivityTypeId,t.dataModelActivityTypeResult.listItems)," ")}}function Fd(n,i){if(n&1&&(a(0,"mat-header-cell",75),s(1),l()),n&2){let e=p();r(),g(" ",e.fieldsInfo.activityStatus==null?null:e.fieldsInfo.activityStatus.fieldTitle," ")}}function Bd(n,i){if(n&1&&(a(0,"mat-cell"),s(1),m(2,"enums"),l()),n&2){let e=i.$implicit,t=p();r(),g(" ",Xt(2,1,e.activityStatus,t.dataModelEstateActivityStatusEnumResult.listItems)," ")}}function Nd(n,i){n&1&&(a(0,"mat-header-cell"),s(1),m(2,"translate"),l()),n&2&&(r(),g(" ",u(2,1,"TITLE.OPTION")," "))}function qd(n,i){if(n&1&&(a(0,"mat-cell",79)(1,"button",80)(2,"mat-icon"),s(3,"more_vert"),l()(),C(4,"mat-menu",null,3),l()),n&2){let e=x(5);r(),d("matMenuTriggerFor",e)}}function Gd(n,i){n&1&&(a(0,"mat-header-cell",81),s(1),m(2,"translate"),l()),n&2&&(r(),g(" ",u(2,1,"TITLE.QUICK_VIEW")," "))}function Ud(n,i){if(n&1){let e=b();a(0,"mat-cell")(1,"button",82),E("click",function(){let o=h(e).$implicit,c=p();return y(c.onActionButtonQuickViewRow(o))}),a(2,"mat-icon",83),s(3,"visibility"),l()()()}}function jd(n,i){if(n&1&&(a(0,"mat-cell"),s(1),l()),n&2){let e=i.$implicit;r(),g(" ",e.title," ")}}function Wd(n,i){if(n&1){let e=b();a(0,"tr")(1,"td"),s(2),m(3,"translate"),l(),a(4,"td")(5,"span",84),E("click",function(){h(e);let o=p(2);return y(o.onActionCopied())}),s(6),m(7,"estatePropertyInfo"),m(8,"async"),C(9,"i",86),l(),a(10,"button",87),E("click",function(){h(e);let o=p().$implicit,c=p();return y(c.onActionButtonPropertyQuickViewRow(o.linkPropertyId))}),a(11,"mat-icon"),s(12,"visibility"),l()()()()}if(n&2){let e=p().$implicit;r(2),g("",u(3,3,"TITLE.Property_Id"),":"),r(3),d("cdkCopyToClipboard",e.linkPropertyId),r(),g(" ",u(8,7,u(7,5,e.linkPropertyId))," \xA0 ")}}function Qd(n,i){if(n&1){let e=b();a(0,"tr")(1,"td"),s(2),m(3,"translate"),l(),a(4,"td")(5,"span",84),E("click",function(){h(e);let o=p(2);return y(o.onActionCopied())}),s(6),m(7,"estateCustomerOrderInfo"),m(8,"async"),C(9,"i",85),l(),a(10,"button",87),E("click",function(){h(e);let o=p().$implicit,c=p();return y(c.onActionButtonCustomerOrderQuickViewRow(o.linkCustomerOrderId))}),a(11,"mat-icon"),s(12,"visibility"),l()()()()}if(n&2){let e=p().$implicit;r(2),g("",u(3,3,"TITLE.Customer_Order_Id"),":"),r(3),d("cdkCopyToClipboard",e.linkCustomerOrderId),r(),g(" ",u(8,7,u(7,5,e.linkCustomerOrderId))," \xA0 ")}}function zd(n,i){if(n&1){let e=b();a(0,"tr")(1,"td"),s(2),m(3,"translate"),l(),a(4,"td")(5,"span",84),E("click",function(){h(e);let o=p(2);return y(o.onActionCopied())}),s(6),m(7,"estateAccountExpertInfo"),m(8,"async"),C(9,"i",85),l()()()}if(n&2){let e=p().$implicit;r(2),g("",u(3,3,"TITLE.Expert_Id"),":"),r(3),d("cdkCopyToClipboard",e.linkCustomerOrderId),r(),g(" ",u(8,7,u(7,5,e.linkEstateExpertId))," \xA0 ")}}function $d(n,i){if(n&1){let e=b();a(0,"tr")(1,"td"),s(2),m(3,"translate"),l(),a(4,"td")(5,"span",84),E("click",function(){h(e);let o=p(2);return y(o.onActionCopied())}),s(6),m(7,"estateAccountAgencyInfo"),m(8,"async"),C(9,"i",85),l()()()}if(n&2){let e=p().$implicit;r(2),g("",u(3,3,"TITLE.Agency_Id"),":"),r(3),d("cdkCopyToClipboard",e.linkCustomerOrderId),r(),g(" ",u(8,7,u(7,5,e.linkEstateAgencyId))," \xA0 ")}}function Kd(n,i){if(n&1&&(a(0,"tr")(1,"td"),s(2),l(),a(3,"td"),s(4),l()()),n&2){let e=p().$implicit,t=p();r(2),g("",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle,":"),r(2),M(e.title)}}function Jd(n,i){if(n&1&&(a(0,"tr")(1,"td"),s(2),l(),a(3,"td"),s(4),l()()),n&2){let e=p().$implicit,t=p();r(2),g("",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle,":"),r(2),M(e.description)}}function Xd(n,i){if(n&1){let e=b();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"td"),s(5),m(6,"translate"),l(),a(7,"td")(8,"span",84),E("click",function(){h(e);let o=p();return y(o.onActionCopied())}),s(9," \xA0 "),C(10,"i",85),l(),s(11),l()(),f(12,Wd,13,9,"tr"),f(13,Qd,13,9,"tr"),f(14,zd,10,9,"tr"),f(15,$d,10,9,"tr"),f(16,Kd,5,2,"tr"),f(17,Jd,5,2,"tr"),a(18,"tr"),C(19,"td"),a(20,"td"),s(21),m(22,"cmsuserinfo"),m(23,"async"),l()(),a(24,"tr"),C(25,"td")(26,"td"),l()()()()}if(n&2){let e=i.$implicit;r(5),g("",u(6,10,"TITLE.Id"),":"),r(3),d("cdkCopyToClipboard",e.id),r(3),g("",e.id," "),r(),_(e.linkPropertyId&&e.linkPropertyId.length>0?12:-1),r(),_(e.linkCustomerOrderId&&e.linkCustomerOrderId.length>0?13:-1),r(),_(e.linkEstateExpertId&&e.linkEstateExpertId.length>0?14:-1),r(),_(e.linkEstateAgencyId&&e.linkEstateAgencyId.length>0?15:-1),r(),_(e.title&&e.title.length>0?16:-1),r(),_(e.description&&e.description.length>0?17:-1),r(4),M(u(23,14,u(22,12,e.createdBy)))}}function Yd(n,i){n&1&&C(0,"mat-header-row")}function Zd(n,i){if(n&1){let e=b();a(0,"mat-row",88),E("click",function(o){let c=h(e).$implicit,v=p();return y(v.onActionTableRowSelect(c,o))})("rtclick",function(o){let c=h(e).$implicit,v=p();return y(v.onActionTableRowSelect(c,o))})("mouseenter",function(){let o=h(e).$implicit,c=p();return y(c.onActionTableRowMouseEnter(o))})("mouseleave",function(){let o=h(e).$implicit,c=p();return y(c.onActionTableRowMouseLeave(o))}),l()}if(n&2){let e=i.$implicit,t=p();de("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function em(n,i){if(n&1){let e=b();a(0,"mat-row",89),E("click",function(o){let c=h(e).$implicit,v=p();return y(v.onActionTableRowSelect(c,o))})("rtclick",function(o){let c=h(e).$implicit,v=p();return y(v.onActionTableRowSelect(c,o))})("mouseenter",function(){let o=h(e).$implicit,c=p();return y(c.onActionTableRowMouseEnter(o))})("mouseleave",function(){let o=h(e).$implicit,c=p();return y(c.onActionTableRowMouseLeave(o))}),l()}if(n&2){let e=i.$implicit,t=p();de("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function tm(n,i){if(n&1){let e=b();a(0,"mat-row",90),E("click",function(o){let c=h(e).$implicit,v=p();return y(v.onActionTableRowSelect(c,o))})("rtclick",function(o){let c=h(e).$implicit,v=p();return y(v.onActionTableRowSelect(c,o))})("mouseenter",function(){let o=h(e).$implicit,c=p();return y(c.onActionTableRowMouseEnter(o))})("mouseleave",function(){let o=h(e).$implicit,c=p();return y(c.onActionTableRowMouseLeave(o))}),l()}if(n&2){let e=i.$implicit,t=p();de("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),d("ngStyle",at(3,Ar,e.expanded===!0?"":"none"))}}var Zi=class Zi extends Do{constructor(e,t,o,c,v,I,Ee,Ze,rt,jt,eo,Jt,no){super(e,new ct,Jt,I,jt);this.contentService=e;this.cmsConfirmationDialogService=t;this.cmsToastrService=o;this.estateActivityTypeService=c;this.estateEnumService=v;this.tokenHelper=I;this.activatedRoute=Ee;this.cmsStoreService=Ze;this.cdr=rt;this.translate=jt;this.pageInfo=eo;this.publicHelper=Jt;this.dialog=no;this.requestLinkPropertyId="";this.requestLinkEstateExpertId="";this.requestLinkCustomerOrderId="";this.requestLinkEstateAgencyId="";this.responsibleUserId=0;this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.popupAdd=!1;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new so;this.dataModelActivityTypeResult=new U;this.searchInCheckingOnDay=!1;this.searchInCheckingPlanedToDay=!1;this.searchInCheckingPlanedToDayUserId=0;this.searchInCheckingOnDayChecked=!1;this.searchInCheckingPlanedToDayChecked=!1;this.searchInResponsibleChecked=!1;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","createdDate","AppointmentDateFrom","AppointmentDateTo","LinkActivityTypeId","ActivityStatus","QuickView","action_menu"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","createdDate","ActivityStatus","QuickView","action_menu"];this.dataModelEstateActivityStatusEnumResult=new U;this.unsubscribe=[];this.checkingOnDayRange=new wn({start:new me(null),end:new me(null)});eo.updateContentService(e),this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyId"),this.requestLinkEstateExpertId=this.activatedRoute.snapshot.paramMap.get("LinkEstateExpertId"),this.requestLinkCustomerOrderId=this.activatedRoute.snapshot.paramMap.get("LinkCustomerOrderId"),this.requestLinkEstateAgencyId=this.activatedRoute.snapshot.paramMap.get("LinkEstateAgencyId"),this.popupAdd=this.activatedRoute.snapshot.paramMap.get("Action")?.toLowerCase()==="add",this.requestRecordStatus=Qt[this.activatedRoute.snapshot.paramMap.get("recordStatus")+""],this.responsibleUserId=+this.activatedRoute.snapshot.paramMap.get("ResponsibleUserId"),this.requestRecordStatus&&(this.optionsSearch.data.show=!0,this.optionsSearch.data.defaultQuery='{"condition":"and","rules":[{"field":"recordStatus","type":"select","operator":"equal","value":"'+this.requestRecordStatus+'"}]}',this.requestRecordStatus=null),this.requestActivityStatus=lo[this.activatedRoute.snapshot.paramMap.get("ActivityStatus")+""],this.optionsSearch.parentMethods={onSubmit:Hr=>this.onSubmitOptionsSearch(Hr)},this.activatedRoute.snapshot.paramMap.get("InCheckingOnDay")&&(this.searchInCheckingOnDay=this.activatedRoute.snapshot.paramMap.get("InCheckingOnDay")==="true"),this.activatedRoute.snapshot.paramMap.get("InCheckingPlanedToDay")&&(this.searchInCheckingPlanedToDay=!0,this.searchInCheckingPlanedToDayUserId=+this.activatedRoute.snapshot.paramMap.get("InCheckingPlanedToDay")|0),this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=_t.Descending}set optionLinkCustomerOrderId(e){e&&e.length>0&&(this.requestLinkCustomerOrderId=e)}set optionLinkPropertyId(e){e&&e.length>0&&(this.requestLinkPropertyId=e)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>$(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEstateActivityStatusEnum(),this.getActivityTypeList()}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}ngAfterViewInit(){this.searchInCheckingOnDay&&(this.searchInCheckingOnDayChecked=!0),this.searchInCheckingPlanedToDay&&(this.searchInCheckingPlanedToDayChecked=!0)}getEstateActivityStatusEnum(){this.estateEnumService.ServiceEstateActivityStatusEnum().subscribe({next:e=>{this.dataModelEstateActivityStatusEnumResult=e}})}getActivityTypeList(){let e=new Me;e.rowPerPage=100,this.estateActivityTypeService.ServiceGetAllEditor(e).subscribe({next:t=>{this.dataModelActivityTypeResult=t}})}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;this.tableRowsSelected=[],this.onActionTableRowSelect(new ct);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),this.requestActivityStatus!=null){let o=new D;o.propertyName="activityStatus",o.value=lo.Planned,t.filters.push(o)}if(this.searchInCheckingPlanedToDay){let o=new D,c=48;t.onDateTimeFrom=new Date(new Date().setHours(0,0,0,0)-c*60*60*1e3),t.onDateTimeTo=new Date(new Date().setHours(23,59,59,999)),this.searchInCheckingPlanedToDayUserId===0?t.linkResponsibleUserId=this.tokenInfo.access.userId:t.linkResponsibleUserId=this.searchInCheckingPlanedToDayUserId,o.propertyName="activityStatus",o.value=lo.Planned,o.searchType=L.Equal,t.filters.push(o)}if(this.requestLinkPropertyId&&this.requestLinkPropertyId.length>0){let o=new D;o.propertyName="LinkPropertyId",o.value=this.requestLinkPropertyId,t.filters.push(o)}if(this.requestLinkEstateExpertId&&this.requestLinkEstateExpertId.length>0){let o=new D;o.propertyName="linkEstateExpertId",o.value=this.requestLinkEstateExpertId,t.filters.push(o)}if(this.requestLinkCustomerOrderId?.length>0){let o=new D;o.propertyName="linkCustomerOrderId",o.value=this.requestLinkCustomerOrderId,t.filters.push(o)}if(this.requestLinkEstateAgencyId&&this.requestLinkEstateAgencyId.length>0){let o=new D;o.propertyName="linkEstateAgencyId",o.value=this.requestLinkEstateAgencyId,t.filters.push(o)}if(this.searchInResponsibleChecked?t.linkResponsibleUserId=this.tokenInfo.access.userId:this.responsibleUserId>0&&(t.linkResponsibleUserId=this.responsibleUserId),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let o=new D;o.propertyName="LinkActivityTypeId",o.value=this.categoryModelSelected.id,t.filters.push(o)}if(this.searchInCheckingOnDay){let o=new so;o=t,this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(new Date),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(new Date),o.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,o.onDateTimeTo=this.checkingOnDayRange.controls.end.value,this.contentService.ServiceGetAll(o).subscribe({next:c=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(c.access),c.isSuccess?(this.dataModelResult=c,this.tableSource.data=c.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(c.access)},1e3)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e),this.popupAdd&&this.onActionButtonNewRow()},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}else this.contentService.ServiceGetAll(t).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),o.isSuccess?(this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)},1e3)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(e),this.popupAdd&&this.onActionButtonNewRow()},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=_t.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=_t.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=_t.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.popupAdd=!1,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.publicHelper.isMobile?this.dialog.open(io,{height:"90%",panelClass:e,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:this.categoryModelSelected?.id,linkPropertyId:this.requestLinkPropertyId,linkEstateExpertId:this.requestLinkEstateExpertId,linkCustomerOrderId:this.requestLinkCustomerOrderId,linkEstateAgencyId:this.requestLinkEstateAgencyId}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate&&this.DataGetAll()}):this.dialog.open(io,{height:"90%",panelClass:e,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:this.categoryModelSelected?.id,linkPropertyId:this.requestLinkPropertyId,linkEstateExpertId:this.requestLinkEstateExpertId,linkCustomerOrderId:this.requestLinkCustomerOrderId,linkEstateAgencyId:this.requestLinkEstateAgencyId}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.publicHelper.isMobile?this.dialog.open(oo,{height:"90%",panelClass:t,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()}):this.dialog.open(oo,{height:"90%",panelClass:t,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{t=c["MESSAGE.Please_Confirm"],o=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(t,o).then(c=>{if(c){let v=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(I=>{this.publicHelper.processService.processStart(v,I,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:I=>{I.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(v)},error:I=>{this.cmsToastrService.typeError(I),this.publicHelper.processService.processStop(v)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(I=>{t.set(I,0)}),this.translate.get("MESSAGE.All").subscribe(I=>{t.set(I,0)});let o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(I=>{this.publicHelper.processService.processStart(o,I,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:I=>{I.isSuccess?(this.translate.get("MESSAGE.All").subscribe(Ee=>{t.set(Ee,I.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(I.errorMessage),this.publicHelper.processService.processStop(o)},error:I=>{this.cmsToastrService.typeError(I),this.publicHelper.processService.processStop(o,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),v=new D;v.propertyName="recordStatus",v.value=Qt.Available,c.filters.push(v),this.contentService.ServiceGetCount(c).subscribe({next:I=>{I.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(Ee=>{t.set(Ee,I.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(I.errorMessage),this.publicHelper.processService.processStop(o)},error:I=>{this.cmsToastrService.typeError(I),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonPropertyQuickViewRow(e){if(!e||e.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(xi,{height:"90%",panelClass:t,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:e}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonQuickViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var t=this.publicHelper.InfoNextRowInList(this.dataModelResult.listItems,this.tableRowSelected),o=this.publicHelper.InfoPerviousRowInList(this.dataModelResult.listItems,this.tableRowSelected),c="";this.publicHelper.isMobile?c="dialog-fullscreen":c="dialog-min",this.dialog.open(Xo,{height:"90%",panelClass:c,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id,perviousItem:o,nextItem:t}}).afterClosed().subscribe(I=>{I&&I.dialogChangedDate&&I.onActionOpenItem&&I.onActionOpenItem.id.length>0&&this.onActionButtonQuickViewRow(I.onActionOpenItem)})}onActionButtonCustomerOrderQuickViewRow(e){if(!e||e.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Ei,{height:"90%",panelClass:t,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:e}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionSelectorSelect(e){var t=this.filteModelContent.sortColumn,o=this.filteModelContent.sortType;this.filteModelContent=new so,this.filteModelContent.sortColumn=t,this.filteModelContent.sortType=o,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonInCheckingOnDate(e){this.searchInCheckingOnDay=e,this.searchInCheckingOnDay?(this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(new Date),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(new Date)):this.DataGetAll()}onActionButtonInCheckingPlaned(e){this.searchInCheckingPlanedToDay=e,this.DataGetAll()}onActionButtonInResponsible(e){this.searchInResponsibleChecked=e,this.DataGetAll()}onActionButtonInCheckingOnDateSearch(){this.searchInCheckingOnDay&&this.DataGetAll()}onActionNext(){this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(new Date),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(new Date),this.checkingOnDayRange.controls.start.setValue(this.addDays(this.checkingOnDayRange.controls.start.value,1)),this.checkingOnDayRange.controls.end.setValue(this.addDays(this.checkingOnDayRange.controls.end.value,1))}onActionPervious(){this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(new Date),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(new Date),this.checkingOnDayRange.controls.start.setValue(this.addDays(this.checkingOnDayRange.controls.start.value,-1)),this.checkingOnDayRange.controls.end.setValue(this.addDays(this.checkingOnDayRange.controls.end.value,-1))}addDays(e,t){let o=new Date(e);return o.setDate(o.getDate()+t),o}onActionButtonResponsibleUserlistView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Yo,{height:"90%",panelClass:t,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{title:this.tableRowSelected.title,id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}};Zi.\u0275fac=function(t){return new(t||Zi)(S(dt),S(Ao),S(B),S(pt),S(St),S(le),S(hn),S(ae),S(G),S(F),S(wt),S(N),S(Oe))},Zi.\u0275cmp=R({type:Zi,selectors:[["app-estate-property-history-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkCustomerOrderId:"optionLinkCustomerOrderId",optionLinkPropertyId:"optionLinkPropertyId"},standalone:!1,features:[et],decls:101,vars:54,consts:[["tableSort","matSort"],["paginator",""],["picker",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","checked"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[1,"alert","alert-info"],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","createdDate"],["style","direction: ltr; justify-content: center; text-align: center",4,"matCellDef"],["matColumnDef","AppointmentDateFrom"],["matColumnDef","AppointmentDateTo"],["matColumnDef","LinkActivityTypeId"],["matColumnDef","ActivityStatus"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","QuickView"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[2,"font-size","30px"],["appearance","fill"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start",3,"placeholder"],["matEndDate","","formControlName","end",3,"placeholder"],["matIconSuffix","",3,"for"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["href","javascript:void(0)",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr","justify-content","center","text-align","center"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["mat-sort-header","",1,"form-label"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],[2,"color","#ff671f"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy","brown-color"],[1,"flaticon2-copy","brown-color",2,"color","brown"],["type","button","mat-icon-button","",3,"click"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(t,o){if(t&1){let c=b();f(0,md,1,1,"app-estate-property-header",4),f(1,ud,1,1,"app-estate-customer-order-header",4),f(2,fd,1,1,"app-estate-account-expert-header",4),a(3,"app-cms-html-list",5),P("optionActionGuideNoticeDisplayChange",function(I){return h(c),A(o.viewGuideNotice,I)||(o.viewGuideNotice=I),y(I)}),E("optionOnActionButtonMemoRow",function(){return h(c),y(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),y(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),y(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),y(o.onActionButtonPrintRow())}),k(4,6),a(5,"app-estate-activity-type-tree",7),E("optionChange",function(I){return h(c),y(o.onActionSelectorSelect(I))}),l(),V(),Wt(6,8)(7,9),k(8,10),a(9,"a",11),E("click",function(){return h(c),y(o.viewGuideNotice=!o.viewGuideNotice)}),C(10,"i",12),l(),a(11,"a",11),E("click",function(){return h(c),y(o.onActionButtonReload())}),C(12,"i",13),l(),a(13,"a",14),E("click",function(){return h(c),y(o.onActionGridExpandRows(!0))}),C(14,"i",15),l(),a(15,"a",14),E("click",function(){return h(c),y(o.onActionGridExpandRows(!1))}),C(16,"i",16),l(),V(),k(17,17),a(18,"a",18)(19,"mat-slide-toggle",19),E("click",function(){return h(c),y(o.onActionButtonInCheckingOnDate(!o.searchInCheckingOnDay))}),s(20),m(21,"translate"),l()(),a(22,"a",18)(23,"mat-slide-toggle",19),E("click",function(){return h(c),y(o.onActionButtonInCheckingPlaned(!o.searchInCheckingPlanedToDay))}),s(24),m(25,"translate"),l()(),a(26,"a",20),E("click",function(){return h(c),y(o.optionsSearch.data.show=!o.optionsSearch.data.show)}),C(27,"mat-slide-toggle",21),s(28),m(29,"translate"),l(),a(30,"a",20),E("click",function(){return h(c),y(o.onActionButtonStatist())}),C(31,"mat-slide-toggle",21),s(32),m(33,"translate"),l(),a(34,"a",20),E("click",function(){return h(c),y(o.onActionButtonInResponsible(!o.searchInResponsibleChecked))}),C(35,"mat-slide-toggle",21),s(36),m(37,"translate"),l(),V(),k(38,22),f(39,_d,7,3,"div",23),V(),k(40,24),f(41,Cd,7,3,"div",23),f(42,hd,7,3,"div",23),a(43,"div",23)(44,"a",11),E("click",function(){return h(c),y(o.onActionButtonResponsibleUserlistView(o.tableRowSelected))}),C(45,"i",25)(46,"br"),l(),a(47,"p",26),s(48),m(49,"translate"),l()(),V(),k(50,27),f(51,Sd,27,22,"div",28),a(52,"app-cms-search-list",29),P("optionsChange",function(I){return h(c),A(o.optionsSearch,I)||(o.optionsSearch=I),y(I)}),l(),a(53,"app-cms-statist-list",29),P("optionsChange",function(I){return h(c),A(o.optionsStatist,I)||(o.optionsStatist=I),y(I)}),l(),V(),k(54,30),a(55,"mat-table",31,0),E("matSortChange",function(){h(c);let I=x(56);return y(o.onTableSortData(I))}),k(57,32),q(58,vd,3,3,"mat-header-cell",33)(59,Id,3,0,"mat-cell",34),V(),k(60,35),q(61,Ed,2,1,"mat-header-cell",36)(62,bd,2,1,"mat-cell",34),V(),k(63,37),q(64,Md,2,1,"mat-header-cell",36)(65,xd,5,7,"mat-cell",38),V(),k(66,39),q(67,wd,2,1,"mat-header-cell",36)(68,Ad,2,1,"mat-cell",34),V(),k(69,40),q(70,Pd,2,1,"mat-header-cell",36)(71,Dd,3,3,"mat-cell",41),V(),k(72,42),q(73,Rd,2,1,"mat-header-cell",36)(74,kd,3,4,"mat-cell",34),V(),k(75,43),q(76,Vd,2,1,"mat-header-cell",36)(77,Od,3,4,"mat-cell",34),V(),k(78,44),q(79,Ld,2,1,"mat-header-cell",36)(80,Hd,3,4,"mat-cell",34),V(),k(81,45),q(82,Fd,2,1,"mat-header-cell",36)(83,Bd,3,4,"mat-cell",34),V(),k(84,46),q(85,Nd,3,3,"mat-header-cell",33)(86,qd,6,1,"mat-cell",47),V(),k(87,48),q(88,Gd,3,3,"mat-header-cell",49)(89,Ud,4,0,"mat-cell",34),V(),k(90,50),q(91,jd,2,1,"mat-cell",34),V(),k(92,51),q(93,Xd,27,16,"mat-cell",34),V(),q(94,Yd,1,0,"mat-header-row",52)(95,Zd,1,2,"mat-row",53)(96,em,1,2,"mat-row",54)(97,tm,1,5,"mat-row",55),l(),V(),k(98,56),a(99,"mat-paginator",57,1),E("page",function(I){return h(c),y(o.onTablePageingData(I))}),l(),V(),l()}t&2&&(_((o.requestLinkPropertyId==null?null:o.requestLinkPropertyId.length)>0?0:-1),r(),_((o.requestLinkCustomerOrderId==null?null:o.requestLinkCustomerOrderId.length)>0?1:-1),r(),_((o.requestLinkEstateExpertId==null?null:o.requestLinkEstateExpertId.length)>0?2:-1),r(),d("optionsListInfoAreaId",o.constructorInfoAreaId)("optionGuideNoticeKey","estate.propertyhistory.list"),w("optionActionGuideNoticeDisplay",o.viewGuideNotice),d("optionTreeDisplay",o.tokenHelper.isAdminSite&&o.optionloadByRoute)("optionActionRowId",o.tableRowSelected==null?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelect2Click)("optionActionRowDisplayMenuAct",o.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",o.tableRowSelected==null?null:o.tableRowSelected.title),r(9),de("rotation360",o.publicHelper.processService.process.inRunArea[o.constructorInfoAreaId]),r(7),d("checked",o.searchInCheckingOnDayChecked),r(),g(" ",u(21,39,"ACTION.SearchOnDay")," "),r(3),d("checked",o.searchInCheckingPlanedToDayChecked),r(),g(" ",u(25,41,"ACTION.Planned")," "),r(3),d("checked",o.optionsSearch.data.show),r(),g("",u(29,43,"ACTION.SEARCH")," "),r(3),d("checked",o.optionsStatist.data.show),r(),g("",u(33,45,"ACTION.STATIST")," "),r(3),d("checked",o.searchInResponsibleChecked),r(),g(" ",u(37,47,"ACTION.InResponsible")," "),r(3),_(o.optionloadByRoute&&o.dataModelResult.access.accessAddRow?39:-1),r(2),_(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessEditRow?41:-1),r(),_(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessDeleteRow?42:-1),r(6),g(" ",u(49,49,"TITLE.ResponsibleUsers")," "),r(3),_(o.searchInCheckingOnDay?51:-1),r(),w("options",o.optionsSearch),r(),w("options",o.optionsStatist),r(2),d("dataSource",o.tableSource),r(39),d("matHeaderRowDef",o.tabledisplayedColumns),r(),d("matRowDefColumns",ye(51,cd)),r(),d("matRowDefColumns",o.tabledisplayedColumns),r(),d("matRowDefColumns",ye(52,pd)),r(2),d("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",ye(53,dd)))},dependencies:[Ce,yt,z,j,mt,An,Pn,Tt,xt,Hn,Fn,Bn,Nn,Co,_o,Re,ot,We,K,ho,yo,go,So,vo,Io,si,pi,fi,di,ci,_i,mi,ui,Ci,hi,mo,Ro,ko,Vo,Oo,Lo,Zo,en,tn,rn,re,O,pr,Bo,At,Ho,vi,ut,Fo,Fi,Ni,Gi,ji],encapsulation:2});var wr=Zi;var im=["tagInput"];function om(n,i){if(n&1){let e=b();a(0,"mat-chip",8),E("removed",function(){let o=h(e).$implicit,c=p();return y(c.remove(o))}),s(1),a(2,"button",9)(3,"mat-icon"),s(4,"cancel"),l()()()}if(n&2){let e=i.$implicit;r(),g(" ",e.display," ")}}function nm(n,i){if(n&1&&(a(0,"mat-option",7),s(1),l()),n&2){let e=i.$implicit,t=p();d("value",e)("ngClass",t.optionCssClassSelectOption),r(),g(" ",e.display," ")}}var Nt=class Nt{constructor(i,e,t,o){this.service=i;this.cmsToastrService=e;this.publicHelper=t;this.translate=o;this.id=++Nt.nextId;this.constructorInfoAreaId=this.constructor.name;this.optionDisabled=!1;this.optionPlaceholder="+ Tag";this.optionLabel="";this.optionCssClassInputText="";this.optionCssClassSelectOption="";this.optionChange=new X;this.tagDataModel=[];this.tagLastDataModel=[];this.selectForceStatus=!0;this.separatorKeysCodes=[13];this.tagCtrl=new me("");this.addOnBlur=!0;this.filteredOptions=this.tagCtrl.valueChanges.pipe(we(null),xe(400),Ae(c=>this.filter(c||"")))}set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}displayOption(i){return i&&i.virtual_Parent&&i.virtual_Parent.title.length>0&&i.virtual_Parent.virtual_Parent&&i.virtual_Parent.virtual_Parent.title.length>0&&i.virtual_Parent.virtual_Parent.virtual_Parent&&i.virtual_Parent.virtual_Parent.virtual_Parent.title.length>0?i.virtual_Parent.virtual_Parent.virtual_Parent.titleML+" > "+i.virtual_Parent.virtual_Parent.titleML+" > "+i.virtual_Parent.titleML+" > "+i.titleML:i&&i.virtual_Parent&&i.virtual_Parent.title.length>0&&i.virtual_Parent.virtual_Parent&&i.virtual_Parent.virtual_Parent.title.length>0?i.virtual_Parent.virtual_Parent.titleML+" > "+i.virtual_Parent.titleML+" > "+i.titleML:i&&i.virtual_Parent&&i.virtual_Parent.title.length>0?i.virtual_Parent.titleML+" > "+i.titleML:i?i.titleML:void 0}filter(i){let e=new Me;e.rowPerPage=20,e.accessLoad=!0;let t=new D;t.propertyName="title",t.value=i,t.searchType=L.Contains,t.clauseType=H.Or,e.filters.push(t),t=new D,t.propertyName="TitleResourceLanguage",t.value=i,t.searchType=L.Contains,t.clauseType=H.Or,e.filters.push(t),t=new D,t.propertyName="id",t.value=i,t.searchType=L.Equal,t.clauseType=H.Or,e.filters.push(t);let o=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(o,c,this.constructorInfoAreaId)}),this.service.ServiceGetAll(e).pipe(pe(c=>(this.tagLastDataModel=c.listItems.map(v=>({display:this.displayOption(v),value:v.id})),this.publicHelper.processService.processStop(o),this.tagLastDataModel)))}checkIndex(i){var e=0,t=-1;return this.tagDataModel.forEach(o=>{o.value==i&&(t=e),e++}),t}add(i){var e;i.value&&this.tagLastDataModel.forEach(t=>{(t.display==i.value||t.value+""==i.value)&&(e=t)}),e&&this.checkIndex(e.value)<0&&(this.tagDataModel.push(e),this.onActionChange()),i.chipInput.clear(),this.tagCtrl.setValue(null)}remove(i){let e=this.checkIndex(i.value);e>=0&&(this.tagDataModel.splice(e,1),this.onActionChange())}selected(i){let e=i.option.value;this.checkIndex(e.value)<0&&this.tagDataModel.push(e),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let i=[];this.tagDataModel.forEach(e=>{i.findIndex(t=>t==e.value)<0&&i.push(e.value)}),this.selectForceStatus=!1,this.optionChange.emit(i)}onActionSelectForce(i){if(!this.selectForceStatus||!i||i.length===0)return;let e=new Me;i.forEach(t=>{if(t>0){let o=new D;o.propertyName="id",o.value=t,o.clauseType=H.Or,e.filters.push(o)}}),this.service.ServiceGetAll(e).subscribe({next:t=>{t.isSuccess?t.listItems.forEach(o=>{this.tagDataModel.findIndex(c=>c.value==o.id)<0&&this.tagDataModel.push({value:o.id,display:this.displayOption(o)})}):this.cmsToastrService.typeErrorGetAll(t.errorMessage)},error:t=>{this.cmsToastrService.typeErrorGetAll(t)}})}};Nt.nextId=0,Nt.\u0275fac=function(e){return new(e||Nt)(S(Sn),S(B),S(N),S(F))},Nt.\u0275cmp=R({type:Nt,selectors:[["app-cms-location-autocomplete"]],viewQuery:function(e,t){if(e&1&&Ne(im,5),e&2){let o;qe(o=Ge())&&(t.tagInput=o.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionCssClassInputText:"optionCssClassInputText",optionCssClassSelectOption:"optionCssClassSelectOption",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,decls:14,vars:11,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","ngClass","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value","ngClass"],[3,"removed"],["type","button","matChipRemove",""]],template:function(e,t){if(e&1){let o=b();a(0,"mat-form-field",3)(1,"mat-label"),s(2),l(),a(3,"mat-chip-grid",4,0),ie(5,om,5,1,"mat-chip",null,te),a(7,"input",5,1),E("matChipInputTokenEnd",function(v){return h(o),y(t.add(v))}),l()(),a(9,"mat-autocomplete",6,2),E("optionSelected",function(v){return h(o),y(t.selected(v))}),ie(11,nm,2,3,"mat-option",7,te),m(13,"async"),l()()}if(e&2){let o=x(4),c=x(10);r(2),M(t.optionLabel),r(),d("disabled",t.optionDisabled),r(2),oe(t.tagDataModel),r(2),d("placeholder"," + "+t.optionPlaceholder)("matChipInputAddOnBlur",t.addOnBlur)("formControl",t.tagCtrl)("ngClass",t.optionCssClassInputText)("matAutocomplete",c)("matChipInputFor",o)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),r(4),oe(u(13,9,t.filteredOptions))}},dependencies:[Ce,z,j,Se,ke,De,Ve,Vn,On,Ln,kn,Co,_o,We,re],encapsulation:2});var Pr=Nt;var Dr=["*","*"];function rm(n,i){if(n&1&&(a(0,"label",4),s(1),l()),n&2){let e=p(2);d("for",W("app-cms-site-selector-",e.id)),r(),M(e.optionLabel)}}function am(n,i){if(n&1&&(C(0,"img",6),m(1,"cmsthumbnail")),n&2){let e=p(2);d("src",T(u(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),se)}}function lm(n,i){if(n&1&&(C(0,"img",6),m(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",T(u(1,2,e.linkMainImageIdSrc)),se)}}function sm(n,i){if(n&1&&(a(0,"mat-option",9),f(1,lm,2,4,"img",6),a(2,"span"),s(3),l()()),n&2){let e=i.$implicit,t=p(2);d("value",e)("disabled",t.optionDisabled),r(),_(e.linkMainImageIdSrc?1:-1),r(2),M(t.displayOption(e))}}function cm(n,i){n&1&&C(0,"i",10)}function pm(n,i){n&1&&C(0,"i",11)}function dm(n,i){if(n&1){let e=b();a(0,"i",13),E("click",function(){h(e);let o=p(2);return y(o.onActionSelectClear())}),l()}}function mm(n,i){n&1&&(a(0,"em"),s(1),m(2,"translate"),l()),n&2&&(r(),g("(",u(2,1,"TITLE.Necessary"),")"))}function um(n,i){if(n&1){let e=b();a(0,"div",1),C(1,"app-progress-spinner",3),f(2,rm,2,3,"label",4),a(3,"span",5),f(4,am,2,4,"img",6),l(),C(5,"input",7),a(6,"mat-autocomplete",8,0),E("optionSelected",function(o){h(e);let c=p();return y(c.onActionSelect(o.option.value))}),ie(8,sm,4,4,"mat-option",9,te),m(10,"async"),l(),f(11,cm,1,0,"i",10),f(12,pm,1,0,"i",11),f(13,dm,1,0,"i",12),f(14,mm,3,3,"em"),he(15),l()}if(n&2){let e=x(7),t=p();r(),d("optionsInfoAreaId",t.constructorInfoAreaId),r(),_((t.optionLabel==null?null:t.optionLabel.length)>0?2:-1),r(2),_(t.dataModelSelect&&(t.dataModelSelect!=null&&t.dataModelSelect.linkMainImageIdSrc)?4:-1),r(),d("placeholder",T(t.optionPlaceholder))("id",W("app-cms-site-selector-",t.id))("formControl",t.formControl)("matAutocomplete",e)("required",t.optionRequired),_e("disabled",t.optionDisabled?!0:null),r(),d("displayWith",t.displayFn),r(2),oe(u(10,16,t.filteredOptions)),r(3),_(t.formControl.valid?-1:11),r(),_(t.optionRequired&&t.formControl.valid?12:-1),r(),_(t.optionAllowUnSelect&&(t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0?13:-1),r(),_(t.optionRequired&&(!t.dataModelSelect||!t.dataModelSelect.id||(t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)==0)?14:-1)}}function fm(n,i){if(n&1){let e=b();a(0,"div",14)(1,"a",15),E("click",function(){let o=h(e).$implicit,c=p(2);return y(c.onActionSelect(o))}),s(2),l()()}if(n&2){let e=i.$implicit,t=p(2);r(),d("ngClass",e.id===(t.dataModelSelect==null?null:t.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),_e("disabled",t.optionDisabled?!0:null),r(),M(t.displayOption(e))}}function _m(n,i){if(n&1){let e=b();a(0,"i",13),E("click",function(){h(e);let o=p(2);return y(o.onActionSelectClear())}),l()}}function Cm(n,i){if(n&1&&(a(0,"div",2),ie(1,fm,3,3,"div",14,te),m(3,"async"),f(4,_m,1,0,"i",12),he(5,1),l()),n&2){let e=p();r(),oe(u(3,1,e.filteredOptions)),r(3),_(e.optionAllowUnSelect&&(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0?4:-1)}}var qt=class qt{constructor(i,e,t,o,c,v,I,Ee){this.coreEnumService=i;this.cmsToastrService=e;this.cdr=t;this.publicHelper=o;this.translate=c;this.tokenHelper=v;this.cmsStoreService=I;this.categoryService=Ee;this.id=++qt.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new U;this.dataModelSelect=new oi;this.formControl=new me;this.optionTypeView=1;this.optionAllowUnSelect=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new X;this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){i&&(typeof i=="string"&&i.length>0||typeof i==typeof oi)&&this.onActionSelectForce(i)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(()=>$(this,null,function*(){this.loadOptions()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(i=>i.unsubscribe())}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(we(""),xe(1500),Be(),Ae(i=>typeof i=="string"||typeof i=="number"?this.DataGetAll(i||""):[]))}displayFn(i){return i?i.titleML:void 0}displayOption(i){return i?i.titleML:void 0}DataGetAll(i){return $(this,null,function*(){let e=new Me;if(e.rowPerPage=20,e.accessLoad=!0,typeof i=="string"&&i.length>0){let o=new D;o.propertyName="Name",o.value=i,o.searchType=L.Contains,e.filters.push(o),o=new D,o.propertyName="id",o.value=i,o.searchType=L.Equal,o.clauseType=H.Or,e.filters.push(o)}let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructorInfoAreaId)}),yield Fe(this.categoryService.ServiceGetAll(e)).then(o=>(this.dataModelResult=o,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),o.listItems))})}onActionSelect(i){if(!this.optionDisabled){if(this.optionAllowUnSelect&&this.dataModelSelect&&this.dataModelSelect.id==i.id){this.onActionSelectClear();return}this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect)}}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.patchValue(""),this.optionChange.emit(null),Promise.resolve().then(()=>this.cdr.detectChanges()))}push(i){return this.filteredOptions.pipe(pe(e=>(e.find(t=>t.id===i.id)||e.push(i),e)))}onActionSelectForce(i){if((!i||typeof i=="string"&&i.length===0)&&(this.dataModelSelect=new oi),typeof i=="string"&&i.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===i)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===i)){let e=this.dataModelResult.listItems.find(t=>t.id===i);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(i).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof i==typeof oi){this.filteredOptions=this.push(i),this.dataModelSelect=i,this.formControl.setValue(i);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new oi,this.loadOptions()}};qt.nextId=0,qt.\u0275fac=function(e){return new(e||qt)(S(Y),S(B),S(G),S(N),S(F),S(le),S(ae),S(xn))},qt.\u0275cmp=R({type:qt,selectors:[["app-estate-property-type-usage-selector"]],inputs:{optionTypeView:"optionTypeView",optionAllowUnSelect:"optionAllowUnSelect",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Dr,decls:2,vars:2,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[1,"row","mb-0"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,t){e&1&&(Pe(Dr),f(0,um,16,18,"div",1),f(1,Cm,6,3,"div",2)),e&2&&(_(t.optionTypeView===1?0:-1),r(),_(t.optionTypeView===2?1:-1))},dependencies:[Ce,z,j,Z,Se,ke,De,Ve,it,K,Q,re,O,Le],encapsulation:2});var Rr=qt;var kr=["*","*"];function hm(n,i){if(n&1&&(a(0,"label",4),s(1),l()),n&2){let e=p(2);d("for",W("app-cms-site-selector-",e.id)),r(),M(e.optionLabel)}}function ym(n,i){if(n&1&&(C(0,"img",6),m(1,"cmsthumbnail")),n&2){let e=p(2);d("src",T(u(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),se)}}function gm(n,i){if(n&1&&(C(0,"img",6),m(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",T(u(1,2,e.linkMainImageIdSrc)),se)}}function Sm(n,i){if(n&1&&(a(0,"mat-option",9),f(1,gm,2,4,"img",6),a(2,"span"),s(3),l()()),n&2){let e=i.$implicit,t=p(2);d("value",e)("disabled",t.optionDisabled),r(),_(e.linkMainImageIdSrc?1:-1),r(2),M(t.displayOption(e))}}function vm(n,i){n&1&&C(0,"i",10)}function Im(n,i){n&1&&C(0,"i",11)}function Em(n,i){if(n&1){let e=b();a(0,"i",13),E("click",function(){h(e);let o=p(2);return y(o.onActionSelectClear())}),l()}}function bm(n,i){n&1&&(a(0,"em"),s(1),m(2,"translate"),l()),n&2&&(r(),g("(",u(2,1,"TITLE.Necessary"),")"))}function Mm(n,i){if(n&1){let e=b();a(0,"div",1),C(1,"app-progress-spinner",3),f(2,hm,2,3,"label",4),a(3,"span",5),f(4,ym,2,4,"img",6),l(),C(5,"input",7),a(6,"mat-autocomplete",8,0),E("optionSelected",function(o){h(e);let c=p();return y(c.onActionSelect(o.option.value))}),ie(8,Sm,4,4,"mat-option",9,te),m(10,"async"),l(),f(11,vm,1,0,"i",10),f(12,Im,1,0,"i",11),f(13,Em,1,0,"i",12),f(14,bm,3,3,"em"),he(15),l()}if(n&2){let e=x(7),t=p();r(),d("optionsInfoAreaId",t.constructorInfoAreaId),r(),_((t.optionLabel==null?null:t.optionLabel.length)>0?2:-1),r(2),_(t.dataModelSelect&&(t.dataModelSelect!=null&&t.dataModelSelect.linkMainImageIdSrc)?4:-1),r(),d("placeholder",T(t.optionPlaceholder))("id",W("app-cms-site-selector-",t.id))("formControl",t.formControl)("matAutocomplete",e)("required",t.optionRequired),_e("disabled",t.optionDisabled?!0:null),r(),d("displayWith",t.displayFn),r(2),oe(u(10,16,t.filteredOptions)),r(3),_(t.formControl.valid?-1:11),r(),_(t.optionRequired&&t.formControl.valid?12:-1),r(),_(t.optionAllowUnSelect&&(t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0?13:-1),r(),_(t.optionRequired&&(!t.dataModelSelect||!t.dataModelSelect.id||(t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)===0)?14:-1)}}function Tm(n,i){if(n&1){let e=b();a(0,"div",14)(1,"a",15),E("click",function(){let o=h(e).$implicit,c=p(2);return y(c.onActionSelect(o))}),s(2),l()()}if(n&2){let e=i.$implicit,t=p(2);r(),d("ngClass",e.id===(t.dataModelSelect==null?null:t.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),_e("disabled",t.optionDisabled?!0:null),r(),M(t.displayOption(e))}}function xm(n,i){if(n&1){let e=b();a(0,"i",13),E("click",function(){h(e);let o=p(2);return y(o.onActionSelectClear())}),l()}}function wm(n,i){if(n&1&&(a(0,"div",2),ie(1,Tm,3,3,"div",14,te),m(3,"async"),f(4,xm,1,0,"i",12),he(5,1),l()),n&2){let e=p();r(),oe(u(3,1,e.filteredOptions)),r(3),_(e.optionAllowUnSelect&&(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0?4:-1)}}var Gt=class Gt{constructor(i,e,t,o,c,v,I,Ee){this.coreEnumService=i;this.cmsToastrService=e;this.cdr=t;this.publicHelper=o;this.translate=c;this.tokenHelper=v;this.cmsStoreService=I;this.categoryService=Ee;this.id=++Gt.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new U;this.dataModelSelect=new ii;this.formControl=new me;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new X;this.optionTypeView=1;this.optionAllowUnSelect=!1;this.typeUsageId="";this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){i&&(typeof i=="string"&&i.length>0||typeof i==typeof ii)&&this.onActionSelectForce(i)}set optionTypeUsageId(i){this.typeUsageId=i,this.loadOptions()}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(()=>$(this,null,function*(){this.loadOptions()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(i=>i.unsubscribe())}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(we(""),xe(1500),Be(),Ae(i=>typeof i=="string"||typeof i=="number"?this.DataGetAll(i||""):[]))}displayFn(i){return i?i.titleML:void 0}displayOption(i){return i?i.titleML:void 0}DataGetAll(i){return $(this,null,function*(){let e=new Me;e.rowPerPage=20,e.accessLoad=!0;let t=new D,o=new D;i&&i.length>0&&(t.propertyName="title",t.value=i,t.searchType=L.Contains,t.clauseType=H.Or,o.filters.push(t),t=new D,t.propertyName="id",t.value=i,t.searchType=L.Equal,t.clauseType=H.Or,o.filters.push(t),e.filters.push(o)),this.typeUsageId&&this.typeUsageId.length>0&&(t=new D,t.propertyName="PropertyTypes",t.propertyAnyName="LinkPropertyTypeUsageId",t.value=this.typeUsageId,t.searchType=L.Equal,t.clauseType=H.And,e.filters.push(t));let c=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(v=>{this.publicHelper.processService.processStart(c,v,this.constructorInfoAreaId)}),yield Fe(this.categoryService.ServiceGetAll(e)).then(v=>(this.dataModelResult=v,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(c),v.listItems))})}onActionSelect(i){if(!this.optionDisabled){if(this.optionAllowUnSelect&&this.dataModelSelect&&this.dataModelSelect.id==i.id){this.onActionSelectClear();return}this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect)}}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(i){return this.filteredOptions.pipe(pe(e=>(e.find(t=>t.id===i.id)||e.push(i),e)))}onActionSelectForce(i){if((!i||typeof i=="string"&&i.length===0)&&(this.dataModelSelect=new ii),typeof i=="string"&&i.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===i)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===i)){let e=this.dataModelResult.listItems.find(t=>t.id===i);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(i).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof i==typeof ii){this.filteredOptions=this.push(i),this.dataModelSelect=i,this.formControl.setValue(i);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new ii,this.loadOptions()}};Gt.nextId=0,Gt.\u0275fac=function(e){return new(e||Gt)(S(Y),S(B),S(G),S(N),S(F),S(le),S(ae),S(Tn))},Gt.\u0275cmp=R({type:Gt,selectors:[["app-estate-property-type-landuse-selector"]],inputs:{optionSelectForce:"optionSelectForce",optionTypeUsageId:"optionTypeUsageId",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionTypeView:"optionTypeView",optionAllowUnSelect:"optionAllowUnSelect",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:kr,decls:2,vars:2,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[1,"row","mb-0"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,t){e&1&&(Pe(kr),f(0,Mm,16,18,"div",1),f(1,wm,6,3,"div",2)),e&2&&(_(t.optionTypeView===1?0:-1),r(),_(t.optionTypeView===2?1:-1))},dependencies:[Ce,z,j,Z,Se,ke,De,Ve,it,K,Q,re,O,Le],encapsulation:2});var Vr=Gt;var Or=["*","*"];function Am(n,i){if(n&1&&(a(0,"label",4),s(1),l()),n&2){let e=p(2);d("for",W("app-cms-site-selector-",e.id)),r(),M(e.optionLabel)}}function Pm(n,i){if(n&1&&(a(0,"mat-option",7)(1,"span"),s(2),l()()),n&2){let e=i.$implicit,t=p(2);d("value",e)("disabled",t.optionDisabled),r(2),M(t.displayOption(e))}}function Dm(n,i){n&1&&C(0,"i",8)}function Rm(n,i){n&1&&C(0,"i",9)}function km(n,i){if(n&1){let e=b();a(0,"i",11),E("click",function(){h(e);let o=p(2);return y(o.onActionSelectClear())}),l()}}function Vm(n,i){n&1&&(a(0,"em"),s(1),m(2,"translate"),l()),n&2&&(r(),g("(",u(2,1,"TITLE.Necessary"),")"))}function Om(n,i){if(n&1){let e=b();a(0,"div",1),C(1,"app-progress-spinner",3),f(2,Am,2,3,"label",4),C(3,"input",5),a(4,"mat-autocomplete",6,0),E("optionSelected",function(o){h(e);let c=p();return y(c.onActionSelect(o.option.value))}),ie(6,Pm,3,3,"mat-option",7,te),m(8,"async"),l(),f(9,Dm,1,0,"i",8),f(10,Rm,1,0,"i",9),f(11,km,1,0,"i",10),f(12,Vm,3,3,"em"),he(13),l()}if(n&2){let e=x(5),t=p();r(),d("optionsInfoAreaId",t.constructorInfoAreaId),r(),_((t.optionLabel==null?null:t.optionLabel.length)>0?2:-1),r(),d("placeholder",T(t.optionPlaceholder))("id",W("app-cms-site-selector-",t.id))("formControl",t.formControl)("matAutocomplete",e)("required",t.optionRequired),_e("disabled",t.optionDisabled?!0:null),r(),d("displayWith",t.displayFn),r(2),oe(u(8,15,t.filteredOptions)),r(3),_(t.formControl.valid?-1:9),r(),_(t.optionRequired&&t.formControl.valid?10:-1),r(),_(t.optionAllowUnSelect&&(t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0?11:-1),r(),_(t.optionRequired&&(!t.dataModelSelect||!t.dataModelSelect.id||(t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)==0)?12:-1)}}function Lm(n,i){if(n&1){let e=b();a(0,"div",12)(1,"a",14),E("click",function(){let o=h(e).$implicit,c=p(2);return y(c.onActionSelect(o))}),s(2),l()()}if(n&2){let e=i.$implicit,t=p(2);r(),d("ngClass",e.id===(t.dataModelSelect==null?null:t.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),_e("disabled",t.optionDisabled?!0:null),r(),M(t.displayOption(e))}}function Hm(n,i){if(n&1){let e=b();a(0,"i",11),E("click",function(){h(e);let o=p(2);return y(o.onActionSelectClear())}),l()}}function Fm(n,i){if(n&1){let e=b();a(0,"div",2),ie(1,Lm,3,3,"div",12,te),m(3,"async"),f(4,Hm,1,0,"i",10),a(5,"i",13),m(6,"translate"),E("click",function(){h(e);let o=p();return y(o.onActionButtonReload())}),l(),he(7,1),l()}if(n&2){let e=p();r(),oe(u(3,5,e.filteredOptions)),r(3),_((e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0?4:-1),r(),de("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),d("title",T(u(6,7,"ACTION.RELOAD")))}}var Ut=class Ut{constructor(i,e,t,o,c,v,I,Ee){this.coreEnumService=i;this.cmsToastrService=e;this.tokenHelper=t;this.cmsStoreService=o;this.translate=c;this.cdr=v;this.publicHelper=I;this.categoryService=Ee;this.id=++Ut.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new U;this.dataModelSelect=new Zt;this.formControl=new me;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new X;this.optionAllowUnSelect=!1;this.optionTypeView=1;this.typeUsageId="";this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){i&&(typeof i=="string"&&i.length>0||typeof i==typeof Zt)&&this.onActionSelectForce(i)}set optionTypeUsageId(i){this.typeUsageId=i,this.loadOptions()}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(()=>$(this,null,function*(){this.loadOptions()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(i=>i.unsubscribe())}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(we(""),xe(1500),Be(),Ae(i=>typeof i=="string"||typeof i=="number"?this.DataGetAll(i||""):[]))}displayFn(i){return i?i.titleML:void 0}displayOption(i){return i?i.titleML:void 0}DataGetAll(i){return $(this,null,function*(){let e=new Me;e.rowPerPage=20,e.accessLoad=!0;let t=new D,o=new D;i&&i.length>0&&(t.propertyName="title",t.value=i,t.searchType=L.Contains,t.clauseType=H.Or,o.filters.push(t),t=new D,t.propertyName="id",t.value=i,t.searchType=L.Equal,t.clauseType=H.Or,o.filters.push(t),e.filters.push(o)),this.typeUsageId&&this.typeUsageId.length>0&&(t=new D,t.propertyName="PropertyTypes",t.propertyAnyName="LinkPropertyTypeUsageId",t.value=this.typeUsageId,t.searchType=L.Equal,t.clauseType=H.And,e.filters.push(t));let c=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(v=>{this.publicHelper.processService.processStart(c,v,this.constructorInfoAreaId)}),yield Fe(this.categoryService.ServiceGetAll(e)).then(v=>(this.dataModelResult=v,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(c),v.listItems))})}onActionSelect(i){if(!this.optionDisabled){if(this.optionAllowUnSelect&&this.dataModelSelect&&this.dataModelSelect.id==i.id){this.onActionSelectClear();return}this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect)}}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(i){return this.filteredOptions.pipe(pe(e=>(e.find(t=>t.id===i.id)||e.push(i),e)))}onActionSelectForce(i){if((!i||typeof i=="string"&&i.length===0)&&(this.dataModelSelect=new Zt),typeof i=="string"&&i.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===i)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===i)){let e=this.dataModelResult.listItems.find(t=>t.id===i);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(i).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof i==typeof Zt){this.filteredOptions=this.push(i),this.dataModelSelect=i,this.formControl.setValue(i);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Zt,this.loadOptions()}};Ut.nextId=0,Ut.\u0275fac=function(e){return new(e||Ut)(S(Y),S(B),S(le),S(ae),S(F),S(G),S(N),S(po))},Ut.\u0275cmp=R({type:Ut,selectors:[["app-estate-contract-type-selector"]],inputs:{optionSelectForce:"optionSelectForce",optionTypeUsageId:"optionTypeUsageId",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionAllowUnSelect:"optionAllowUnSelect",optionTypeView:"optionTypeView",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Or,decls:2,vars:2,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[1,"row","mb-0"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[3,"click","ngClass"]],template:function(e,t){e&1&&(Pe(Or),f(0,Om,14,17,"div",1),f(1,Fm,8,9,"div",2)),e&2&&(_(t.optionTypeView===1?0:-1),r(),_(t.optionTypeView===2?1:-1))},dependencies:[Ce,z,j,Z,Se,ke,De,Ve,K,Q,re,O],encapsulation:2});var Lr=Ut;export{Pr as a,ki as b,Fi as c,Ni as d,tn as e,on as f,nn as g,wi as h,Di as i,io as j,Wo as k,Qo as l,zo as m,$o as n,Ko as o,Jo as p,xi as q,en as r,Rr as s,Vr as t,Lr as u,Ei as v,Xo as w,Zo as x,wr as y,dr as z};
