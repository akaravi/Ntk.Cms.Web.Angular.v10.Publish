import{a as A}from"./chunk-GTEUVDV4.js";import{b as ae}from"./chunk-3RHHJRHJ.js";import"./chunk-E76NJU7Y.js";import{Aa as oe,Ca as ne,db as ue,wc as re,zc as se}from"./chunk-7I3EMKAG.js";import{F as te,G as ie}from"./chunk-QRBNL5ZA.js";import{Ag as M,Cc as J,Cg as O,Dg as E,Gg as P,Kg as ee,La as H,Qg as k,ba as Y,e as Q,fa as $,g as K,l as v,u as V,v as W,wg as X,xg as Z,zg as x}from"./chunk-S64EPNXW.js";import{Ad as z,Bc as N,Dc as j,Ec as G,Fb as y,Gb as t,Hb as i,Ib as s,Va as m,a as T,cb as a,ga as h,gc as D,hc as o,ib as g,ic as _,jb as b,md as U,ob as B,xd as q,yc as C}from"./chunk-2AL2II5Z.js";import"./chunk-SEDBTTTN.js";var l=class l{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=g({type:l,selectors:[["app-sms"]],standalone:!1,decls:1,vars:0,template:function(n,e){n&1&&s(0,"router-outlet")},dependencies:[Q],encapsulation:2});var w=l;var le=u=>({title:"\u067E\u06CC\u0627\u0645\u200C\u0647\u0627\u06CC \u062E\u0648\u0627\u0646\u062F\u0647 \u0646\u0634\u062F\u0647",value:u,icon:"fa-inbox",route:"../log/inbox"}),pe=u=>({title:"\u067E\u06CC\u0627\u0645\u200C\u0647\u0627\u06CC \u0627\u0631\u0633\u0627\u0644 \u0634\u062F\u0647",value:u,icon:"fa-paper-plane",route:"../log/outbox"}),Ce=u=>({title:"\u067E\u06CC\u0627\u0645\u200C\u0647\u0627\u06CC \u062F\u0631 \u0635\u0641",value:u,icon:"fa-clock",route:"../log/outbox-queue"}),ve=u=>({title:"\u0632\u0645\u0627\u0646\u200C\u0628\u0646\u062F\u06CC \u0634\u062F\u0647",value:u,icon:"fa-calendar-days",route:"../log/outbox-task-scheduler"}),Se=(u,r,n,e)=>[u,r,n,e];function fe(u,r){if(u&1&&(t(0,"div",29)(1,"a",30)(2,"div",31)(3,"div",32),s(4,"i",33),i(),t(5,"div",34)(6,"div",35),o(7),i(),t(8,"div",36),o(9),j(10,"number"),i()()()()()),u&2){let n=r.$implicit;m(),y("routerLink",n.route),m(3),D("fa-solid "+n.icon),m(3),_(n.title),m(2),_(G(10,5,n.value))}}var p=class p{constructor(r,n,e,R,I,f,ge){this.inboxService=r;this.outboxService=n;this.queueService=e;this.taskSchedulerService=R;this.apiPathService=I;this.messageContentService=f;this.toastr=ge;this.constructorInfoAreaId=this.constructor.name;this.kpi={inbox:{total:0,unread:0},outbox:{total:0,sent:0,failed:0},queue:{total:0},taskScheduler:{total:0},apiPaths:{total:0},messageContent:{total:0}};this.sub=new T}ngOnInit(){this.loadKpi()}ngOnDestroy(){this.sub.unsubscribe()}loadKpi(){let r=()=>{let e=new W;return e.accessLoad=!0,e},n=(e,R)=>{let I=r(),f=new V;return f.propertyName=e,f.value=R,I.filters.push(f),I};this.sub.add(this.inboxService.ServiceGetCount(r()).subscribe({next:e=>{e.isSuccess&&(this.kpi.inbox.total=e.totalRowCount)},error:e=>this.toastr.typeError(e)})),this.sub.add(this.inboxService.ServiceGetCount(n("seen",!1)).subscribe({next:e=>{e.isSuccess&&(this.kpi.inbox.unread=e.totalRowCount)},error:e=>this.toastr.typeError(e)})),this.sub.add(this.outboxService.ServiceGetCount(r()).subscribe({next:e=>{e.isSuccess&&(this.kpi.outbox.total=e.totalRowCount)},error:e=>this.toastr.typeError(e)})),this.sub.add(this.outboxService.ServiceGetCount(n("sendResultIsSuccess",!0)).subscribe({next:e=>{e.isSuccess&&(this.kpi.outbox.sent=e.totalRowCount)},error:e=>this.toastr.typeError(e)})),this.sub.add(this.outboxService.ServiceGetCount(n("sendResultIsSuccess",!1)).subscribe({next:e=>{e.isSuccess&&(this.kpi.outbox.failed=e.totalRowCount)},error:e=>this.toastr.typeError(e)})),this.sub.add(this.queueService.ServiceGetCount(r()).subscribe({next:e=>{e.isSuccess&&(this.kpi.queue.total=e.totalRowCount)},error:e=>this.toastr.typeError(e)})),this.sub.add(this.taskSchedulerService.ServiceGetCount(r()).subscribe({next:e=>{e.isSuccess&&(this.kpi.taskScheduler.total=e.totalRowCount)},error:e=>this.toastr.typeError(e)})),this.sub.add(this.apiPathService.ServiceGetCount(r()).subscribe({next:e=>{e.isSuccess&&(this.kpi.apiPaths.total=e.totalRowCount)},error:e=>this.toastr.typeError(e)})),this.sub.add(this.messageContentService.ServiceGetCount(r()).subscribe({next:e=>{e.isSuccess&&(this.kpi.messageContent.total=e.totalRowCount)},error:e=>this.toastr.typeError(e)}))}};p.\u0275fac=function(n){return new(n||p)(a(x),a(M),a(O),a(E),a(P),a(k),a(re))},p.\u0275cmp=g({type:p,selectors:[["app-sms-dashboard"]],standalone:!1,decls:95,vars:14,consts:[[1,"sms-dashboard"],[1,"hero","card","shadow-sm","border-0","mb-4"],[1,"row","g-3","align-items-center"],[1,"col-12","col-md-4","text-center"],[1,"hero-icon"],[1,"fa-solid","fa-message"],[1,"col-12","col-md-8"],[1,"hero-title"],[1,"hero-subtitle"],[1,"d-flex","flex-wrap","gap-2","mt-3"],["routerLink","../action/send-message",1,"btn","btn-primary","btn-sm","fw-bold"],["routerLink","../log/inbox",1,"btn","btn-outline-primary","btn-sm","fw-bold"],["routerLink","../log/outbox",1,"btn","btn-light","btn-sm","fw-bold"],["routerLink","../main/api-path",1,"btn","btn-light","btn-sm","fw-bold"],[1,"row","g-3","mb-4"],["class","col-12 col-md-3",4,"ngFor","ngForOf"],[1,"row","g-3"],[1,"col-12","col-lg-6"],[1,"card","shadow-sm","border-0","h-100"],[1,"card-body"],[1,"card-title","d-flex","align-items-center","mb-3"],[1,"fa-solid","fa-route","section-icon"],[1,"ms-2","fw-bold"],[1,"flow-steps"],[1,"step"],[1,"dot"],[1,"fw-bold"],[1,"text-muted","small"],[1,"fa-solid","fa-sitemap","section-icon"],[1,"col-12","col-md-3"],[1,"card","kpi-card","h-100","shadow-sm","border-0",3,"routerLink"],[1,"d-flex","align-items-center","p-3"],[1,"kpi-icon"],["aria-hidden","true"],[1,"ms-3"],[1,"kpi-title"],[1,"kpi-value"]],template:function(n,e){n&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),s(5,"i",5),i()(),t(6,"div",6)(7,"div",7),o(8,"\u062F\u0627\u0634\u0628\u0648\u0631\u062F \u067E\u06CC\u0627\u0645\u06A9"),i(),t(9,"div",8),o(10," \u0645\u062F\u06CC\u0631\u06CC\u062A \u067E\u06CC\u0627\u0645\u200C\u0647\u0627\u06CC \u062F\u0631\u06CC\u0627\u0641\u062A\u06CC \u0648 \u0627\u0631\u0633\u0627\u0644\u06CC\u060C \u0635\u0641 \u0627\u0631\u0633\u0627\u0644\u060C \u0632\u0645\u0627\u0646\u200C\u0628\u0646\u062F\u06CC \u0648 \u0645\u0633\u06CC\u0631\u0647\u0627\u06CC API. "),i(),t(11,"div",9)(12,"a",10),o(13,"+ \u0627\u0631\u0633\u0627\u0644 \u067E\u06CC\u0627\u0645 \u062C\u062F\u06CC\u062F"),i(),t(14,"a",11),o(15,"\u0635\u0646\u062F\u0648\u0642 \u0648\u0631\u0648\u062F\u06CC"),i(),t(16,"a",12),o(17,"\u0635\u0646\u062F\u0648\u0642 \u062E\u0631\u0648\u062C\u06CC"),i(),t(18,"a",13),o(19,"\u0645\u0633\u06CC\u0631\u0647\u0627\u06CC API"),i()()()()(),t(20,"div",14),B(21,fe,11,7,"div",15),i(),t(22,"div",16)(23,"div",17)(24,"div",18)(25,"div",19)(26,"div",20),s(27,"i",21),t(28,"span",22),o(29,"\u062C\u0631\u06CC\u0627\u0646 \u0627\u0631\u0633\u0627\u0644 \u067E\u06CC\u0627\u0645"),i()(),t(30,"div",23)(31,"div",24),s(32,"div",25),t(33,"div")(34,"div",26),o(35,"\u0627\u06CC\u062C\u0627\u062F \u0645\u062D\u062A\u0648\u0627\u06CC \u067E\u06CC\u0627\u0645"),i(),t(36,"div",27),o(37,"Message Content"),i()()(),t(38,"div",24),s(39,"div",25),t(40,"div")(41,"div",26),o(42,"\u062A\u0646\u0638\u06CC\u0645 \u0645\u0633\u06CC\u0631 API"),i(),t(43,"div",27),o(44,"API Path"),i()()(),t(45,"div",24),s(46,"div",25),t(47,"div")(48,"div",26),o(49,"\u0627\u0641\u0632\u0648\u062F\u0646 \u0628\u0647 \u0635\u0641"),i(),t(50,"div",27),o(51,"Queue"),i()()(),t(52,"div",24),s(53,"div",25),t(54,"div")(55,"div",26),o(56,"\u0627\u0631\u0633\u0627\u0644 \u0648 \u062B\u0628\u062A"),i(),t(57,"div",27),o(58,"Outbox"),i()()()()()()(),t(59,"div",17)(60,"div",18)(61,"div",19)(62,"div",20),s(63,"i",28),t(64,"span",22),o(65,"\u0645\u062F\u06CC\u0631\u06CC\u062A \u067E\u06CC\u0627\u0645\u200C\u0647\u0627"),i()(),t(66,"div",23)(67,"div",24),s(68,"div",25),t(69,"div")(70,"div",26),o(71,"\u067E\u06CC\u0627\u0645\u200C\u0647\u0627\u06CC \u062F\u0631\u06CC\u0627\u0641\u062A\u06CC"),i(),t(72,"div",27),o(73,"Inbox"),i()()(),t(74,"div",24),s(75,"div",25),t(76,"div")(77,"div",26),o(78,"\u0632\u0645\u0627\u0646\u200C\u0628\u0646\u062F\u06CC \u0627\u0631\u0633\u0627\u0644"),i(),t(79,"div",27),o(80,"Task Scheduler"),i()()(),t(81,"div",24),s(82,"div",25),t(83,"div")(84,"div",26),o(85,"\u067E\u06CC\u0627\u0645\u200C\u0647\u0627\u06CC \u0627\u0631\u0633\u0627\u0644\u06CC"),i(),t(86,"div",27),o(87,"Outbox"),i()()(),t(88,"div",24),s(89,"div",25),t(90,"div")(91,"div",26),o(92,"\u06AF\u0632\u0627\u0631\u0634 \u0648 \u0622\u0645\u0627\u0631"),i(),t(93,"div",27),o(94,"Statistics"),i()()()()()()()()()),n&2&&(m(21),y("ngForOf",N(9,Se,C(1,le,e.kpi.inbox.unread),C(3,pe,e.kpi.outbox.sent),C(5,Ce,e.kpi.queue.total),C(7,ve,e.kpi.taskScheduler.total))))},dependencies:[U,K,q],styles:[".sms-dashboard[_ngcontent-%COMP%]   .hero[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#34d399);border-radius:16px;padding:16px}.sms-dashboard[_ngcontent-%COMP%]   .hero[_ngcontent-%COMP%]   .hero-icon[_ngcontent-%COMP%]{width:120px;height:120px;margin:0 auto;border-radius:24px;background:#ffffff26;display:grid;place-items:center;color:#fff;font-size:54px;box-shadow:inset 0 0 0 1px #ffffff2e}.sms-dashboard[_ngcontent-%COMP%]   .hero[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-weight:800;font-size:18px;color:#fff}.sms-dashboard[_ngcontent-%COMP%]   .hero[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{color:#ffffffe6;font-size:13px}.sms-dashboard[_ngcontent-%COMP%]   .hero[_ngcontent-%COMP%]   .hero-img[_ngcontent-%COMP%]{max-height:140px}.sms-dashboard[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]{border-radius:14px;transition:transform .15s ease,box-shadow .15s ease}.sms-dashboard[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 12px 24px #00000014}.sms-dashboard[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]   .kpi-icon[_ngcontent-%COMP%]{width:54px;height:54px;border-radius:12px;background:#f8fafc;color:#0f172a;display:grid;place-items:center;font-size:20px;box-shadow:inset 0 0 0 1px #e2e8f0}.sms-dashboard[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]   .kpi-title[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.sms-dashboard[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]   .kpi-value[_ngcontent-%COMP%]{font-size:20px;font-weight:800;color:#0f172a}.sms-dashboard[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{width:26px;height:26px}.sms-dashboard[_ngcontent-%COMP%]   .flow-steps[_ngcontent-%COMP%]{display:grid;gap:16px}.sms-dashboard[_ngcontent-%COMP%]   .flow-steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:12px;align-items:center}.sms-dashboard[_ngcontent-%COMP%]   .flow-steps[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;background:linear-gradient(135deg,#10b981,#34d399);box-shadow:0 0 0 6px #10b9811f}"]});var S=p;var he=[{path:"",component:w,data:{title:"ROUTE.SMS"},children:[{path:"",pathMatch:"full",component:S,data:{title:"ROUTE.SMS"}},{path:"dashboard",component:S,data:{title:"ROUTE.SMS"}},{path:"main",loadChildren:()=>import("./chunk-C5FBRV2U.js").then(u=>u.SmsMainModule),data:{title:"ROUTE.SMS.MAIN"}},{path:"action",loadChildren:()=>import("./chunk-6XO2RY6O.js").then(u=>u.SmsActionModule),data:{title:"ROUTE.SMS.ACTION"}},{path:"log",loadChildren:()=>import("./chunk-ME5N4GVC.js").then(u=>u.SmsLogModule),data:{title:"ROUTE.SMS.LOG"}},{path:"config",loadChildren:()=>import("./chunk-SBWSHKZ3.js").then(u=>u.SmsConfigModule),data:{title:"ROUTE.SMS"}}]}],d=class d{};d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=b({type:d}),d.\u0275inj=h({imports:[v.forChild(he),v]});var F=d;var c=class c{};c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=b({type:c}),c.\u0275inj=h({providers:[$,Y,H,A,A,Z,X,J,ee,x,M,O,E,P,k],imports:[z,F,te,ie.withConfig({warnOnNgModelWithFormControl:"never"}),se,ae,ne,oe,ue,v]});var de=c;export{de as SmsModule};
