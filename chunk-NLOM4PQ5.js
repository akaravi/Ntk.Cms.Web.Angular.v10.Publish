import{a as pi}from"./chunk-2JTWFKVB.js";import{a as so}from"./chunk-EFEJWIYI.js";import{a as Vt}from"./chunk-HC32IMH6.js";import{a as ii}from"./chunk-XWFZ3L2H.js";import{a as ea}from"./chunk-EM6C465B.js";import{a as vt}from"./chunk-ZBCNDTQU.js";import{a as ta}from"./chunk-BO6LOMMS.js";import{a as Ue}from"./chunk-677NQ7D7.js";import{a as ti}from"./chunk-K33TURJC.js";import{a as it}from"./chunk-NMFX3PJE.js";import{a as he}from"./chunk-JEF4OJ24.js";import{a as ei}from"./chunk-QGWAMGAE.js";import{b as ro,c as lo,d as Tt,e as ge,f as Se,i as bt}from"./chunk-SY5ASTU2.js";import{a as xe}from"./chunk-7RXKLOGL.js";import"./chunk-AY4XP33B.js";import{a as $t}from"./chunk-CI46G5RR.js";import"./chunk-57KTCDM3.js";import{a as mi}from"./chunk-5A7PFONV.js";import{a as Lt}from"./chunk-ZEL2SWMK.js";import{a as Ne}from"./chunk-VA5IWJ7T.js";import{a as ao,b as $o}from"./chunk-3RHHJRHJ.js";import"./chunk-7DUNEHBM.js";import"./chunk-T2SWGMVG.js";import{a as Zt}from"./chunk-IXPEP4O3.js";import"./chunk-2UR3ITVJ.js";import{a as _e}from"./chunk-JM7AUYWU.js";import{a as Gi}from"./chunk-HGNWVODT.js";import{a as U,d as Oi}from"./chunk-XBBMWE56.js";import{a as Zo,e as Ct,f as O}from"./chunk-LID2Z6NB.js";import{$a as eo,A as et,Ba as tt,Cb as F,Da as q,Db as B,Ja as qo,Ka as at,La as rt,Oa as me,Pb as oo,Qb as Yo,Ua as pe,Wa as lt,Xa as st,a as xt,ab as to,bb as io,c as Oo,cb as no,da as Xn,ea as Zn,eb as ct,fa as $n,fb as dt,gb as mt,hb as pt,ib as ut,jb as ft,kb as _t,lb as gt,m as Kn,ma as de,mb as St,na as ve,nb as ht,oa as je,pb as Wo,rc as ue,s as We,tb as jo,u as Ho,ub as Uo,uc as fe,v as zn,vb as Qo,wb as Ko,wc as P,x as Jn,xb as zo,y as Yn,zb as Jo,zc as Xo}from"./chunk-TSM5A4DZ.js";import{A as Ae,B as Re,C as De,F as Go,G as Po,c as re,h as le,i as ke,k as Ee,l as Un,m as be,n as ye,r as Qn}from"./chunk-QRBNL5ZA.js";import{$h as Ze,Cc as Vo,D as Fi,H as j,K as Rt,La as Lo,Mh as Ye,Mn as W,Nh as Bo,Sh as Ut,Th as ko,Uh as Xe,Vh as Dt,Wb as ci,Wh as wt,Zh as No,_h as Jt,ai as jn,ba as K,bi as Fo,ci as Yt,d as we,di as $e,e as Ro,ei as Xt,f as ce,fa as xo,fi as di,l as wo,m as ot,o as Do,p as At,q as Q,u as Y,v as Z,y as ai}from"./chunk-VH4FEZX5.js";import{Ab as I,Ad as Ao,Cb as Ci,Db as Oe,Dc as h,Eb as Ge,Ec as C,Fb as S,Fc as zt,Ga as yt,Gb as r,Hb as a,Ib as _,K as Bn,Mb as w,Nb as k,O as Nn,Ob as ie,Pb as M,Qa as Pn,Ra as jt,Sb as T,Ua as Kt,Ub as u,Va as o,Vb as qn,Wb as Wn,Xa as hi,Xc as N,Yb as ne,Z as Fn,Zb as oe,_ as On,_b as ae,cb as b,cc as D,ec as H,ga as Gn,hc as c,ib as L,ic as R,jb as Hn,jc as g,kc as Ve,ld as Me,mb as G,nc as E,ob as V,oc as y,pa as d,pc as A,qa as m,rd as He,s as Ln,t as Vn,tc as x,td as qe,uc as oi,xb as Le,xc as se,yc as Pe,zb as v}from"./chunk-2AL2II5Z.js";import{i as te}from"./chunk-SEDBTTTN.js";var Pi=class Pi{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};Pi.\u0275fac=function(e){return new(e||Pi)},Pi.\u0275cmp=L({type:Pi,selectors:[["app-ticketing"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&_(0,"router-outlet")},dependencies:[Ro],encapsulation:2});var Hi=Pi;var sa=["*"];function ca(n,s){if(n&1&&(r(0,"label",3),c(1),a()),n&2){let e=u();S("for",oi("app-cms-site-selector-",e.id)),o(),R(e.optionLabel)}}function da(n,s){if(n&1&&(_(0,"img",5),h(1,"cmsthumbnail")),n&2){let e=u();S("src",x(C(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),jt)}}function ma(n,s){if(n&1&&(_(0,"img",5),h(1,"cmsthumbnail")),n&2){let e=u().$implicit;S("src",x(C(1,2,e.linkMainImageIdSrc)),jt)}}function pa(n,s){if(n&1&&(r(0,"mat-option",8),v(1,ma,2,4,"img",5),r(2,"span"),c(3),a()()),n&2){let e=s.$implicit,i=u();S("value",e)("disabled",i.optionDisabled),o(),I(e.linkMainImageIdSrc?1:-1),o(2),R(i.displayOption(e))}}function ua(n,s){n&1&&_(0,"i",9)}function fa(n,s){n&1&&_(0,"i",10)}function _a(n,s){if(n&1){let e=M();r(0,"i",13),T("click",function(){d(e);let t=u();return m(t.onActionSelectClear())}),a()}}function ga(n,s){n&1&&(r(0,"em"),c(1),h(2,"translate"),a()),n&2&&(o(),g("(",C(2,1,"TITLE.Necessary"),")"))}var ui=class ui{constructor(s,e,i,t,l){this.coreEnumService=s;this.cdr=e;this.publicHelper=i;this.translate=t;this.categoryService=l;this.id=++ui.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Q;this.dataModelSelect=new Xe;this.formControl=new Un;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionRequired=!1;this.optionLabel="";this.optionChange=new hi;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Fn(""),Bn(1500),Nn(),On(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return te(this,null,function*(){let e=new Z;e.rowPerPage=20,e.accessLoad=!0;let i=new Y;i.propertyName="title",i.value=s,i.searchType=Fi.Contains,i.clauseType=ai.Or,e.filters.push(i),s&&typeof+s=="number"&&+s>0&&(i=new Y,i.propertyName="id",i.value=s,i.searchType=Fi.Equal,i.clauseType=ai.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield Ln(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(s){return this.filteredOptions.pipe(Vn(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="number"&&s>0){if(this.dataModelSelect&&this.dataModelSelect.id===s)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===s)){let e=this.dataModelResult.listItems.find(i=>i.id===s);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(s).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof s==typeof Xe){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Xe,this.loadOptions()}};ui.nextId=0,ui.\u0275fac=function(e){return new(e||ui)(b(K),b(N),b(O),b(F),b(Ze))},ui.\u0275cmp=L({type:ui,selectors:[["app-ticketing-departemen-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:sa,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=M();qn(),r(0,"div",1),_(1,"app-progress-spinner",2),v(2,ca,2,3,"label",3),r(3,"span",4),v(4,da,2,4,"img",5),a(),_(5,"input",6),r(6,"mat-autocomplete",7,0),T("optionSelected",function(f){return d(t),m(i.onActionSelect(f.option.value))}),Oe(8,pa,4,4,"mat-option",8,Ci),h(10,"async"),a(),v(11,ua,1,0,"i",9),v(12,fa,1,0,"i",10),v(13,_a,1,0,"i",11),r(14,"i",12),h(15,"translate"),T("click",function(){return d(t),m(i.onActionButtonReload())}),a(),v(16,ga,3,3,"em"),Wn(17),a()}if(e&2){let t=D(7);o(),S("optionsInfoAreaId",i.constructorInfoAreaId),o(),I((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),I(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),S("placeholder",x(i.optionPlaceholder))("id",oi("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Le("disabled",i.optionDisabled?!0:null),o(),S("displayWith",i.displayFn),o(2),Ge(C(10,20,i.filteredOptions)),o(3),I(i.formControl.valid?-1:11),o(),I(i.optionRequired&&i.formControl.valid?12:-1),o(),I((i.dataModelSelect==null?null:i.dataModelSelect.id)>0?13:-1),o(),H("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),S("title",x(C(15,22,"ACTION.RELOAD"))),o(2),I(i.optionRequired&&!((i.dataModelSelect==null?null:i.dataModelSelect.id)>0)?16:-1)}},dependencies:[re,le,Ae,Qn,Jn,Kn,Yn,Ho,q,U,qe,B,mi],encapsulation:2});var Qe=ui;var Sa=["vform"];function ha(n,s){if(n&1){let e=M();r(0,"app-cms-enum-record-status-selector",12),A("modelChange",function(t){d(e);let l=u();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),a()}if(n&2){let e=u();E("model",e.dataModel.recordStatus),S("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ca(n,s){if(n&1){let e=M();r(0,"div",10)(1,"label",13),c(2),h(3,"translate"),a(),r(4,"textarea",14,1),h(6,"translate"),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.htmlBody,t)||(l.dataModel.htmlBody=t),m(t)}),c(7,"          "),a(),r(8,"em"),c(9),a()()}if(n&2){let e=D(5),i=u();o(2),R(C(3,6,"TITLE.Answer_Text")),o(2),S("placeholder",x(C(6,8,"TITLE.Answer_Text"))),E("ngModel",i.dataModel.htmlBody),S("disabled",!(i.fieldsInfo.htmlBody!=null&&i.fieldsInfo.htmlBody.accessAddField)),o(5),g("",e.value.length," / 1000")}}function Ta(n,s){if(n&1){let e=M();r(0,"div",11)(1,"button",15),T("click",function(){d(e);let t=u();return m(t.onActionBackToParent())}),c(2),h(3,"translate"),a(),r(4,"button",16),c(5),h(6,"translate"),a()()}if(n&2){u();let e=D(10);o(2),g(" ",C(3,3,"ACTION.BACK")," "),o(2),S("disabled",!e.form.valid),o(),g(" ",C(6,5,"ACTION.SAVE")," ")}}var qi=class qi extends Lt{constructor(e,i,t,l,f,p,J,ee,ze,Je){super(p,new Ut,l,Je);this.data=e;this.dialogRef=i;this.activatedRoute=t;this.publicHelper=l;this.coreEnumService=f;this.ticketingAnswerService=p;this.cmsToastrService=J;this.router=ee;this.cdr=ze;this.translate=Je;this.requestLinkTaskId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModel=new Ut;this.dataModelResult=new Q;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.fileManagerOpenForm=!1;this.appLanguage="fa";this.mapOptonCenter=new Zt;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(this.requestLinkTaskId=+e.linkTaskId||0)}ngOnInit(){if(this.requestLinkTaskId===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.dataModel.linkTaskId=this.requestLinkTaskId,this.DataGetAccess()}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataAddContent()}DataAddContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingAnswerService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),setTimeout(()=>{this.dialogRef.close({dialogChangedDate:!0})},1e3)):this.cmsToastrService.typeErrorAdd(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorAdd(i)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}onActionBackToParent(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelectedLinkMainImageId(){}onActionSelectSource(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_source","MESSAGE.The_source_of_the_information_application_is_not_known"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_source"],i["MESSAGE.The_source_of_the_information_application_is_not_known"])});return}this.dataModel.linkTicketingDepartemenId=e.id}};qi.\u0275fac=function(i){return new(i||qi)(b(ve),b(de),b(we),b(O),b(K),b(Jt),b(P),b(ce),b(N),b(F))},qi.\u0275cmp=L({type:qi,selectors:[["app-ticketing-answer-add"]],viewQuery:function(i,t){if(i&1&&ne(Sa,5),i&2){let l;oe(l=ae())&&(t.formGroup=l.first)}},standalone:!1,features:[G],decls:16,vars:14,consts:[["vform","ngForm"],["HtmlBody",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.htmlBody",1,"color-highlight"],["matInput","","name","dataModel.htmlBody","type","text","minlength","0","maxlength","1000","rows","5","id","dataModel.htmlBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let l=M();r(0,"div",2),_(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",6),r(9,"form",7,0),T("ngSubmit",function(){return d(l),m(t.onFormSubmit())}),v(11,ha,1,5,"app-cms-enum-record-status-selector",8),r(12,"app-ticketing-departemen-selector",9),h(13,"translate"),T("optionChange",function(p){return d(l),m(t.onActionSelectSource(p))}),a(),v(14,Ca,10,10,"div",10),v(15,Ta,7,7,"div",11),a()()()}i&2&&(o(),S("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",C(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),S("formInfo",t.formInfo),o(3),I(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),S("optionSelectForce",t.dataModel.linkTicketingDepartemenId)("optionPlaceholder",C(13,12,"TITLE.Department"))("optionDisabled",!(t.fieldsInfo.linkTicketingDepartemenId!=null&&t.fieldsInfo.linkTicketingDepartemenId.accessAddField)),o(2),I(t.fieldsInfo.htmlBody!=null&&t.fieldsInfo.htmlBody.accessWatchField?14:-1),o(),I(t.formInfo.submitButtonEnabled?15:-1))},dependencies:[ye,re,le,ke,Re,De,be,Ee,q,Ne,U,_e,Qe,B],encapsulation:2});var co=qi;var ba=["vform"];function va(n,s){if(n&1){let e=M();r(0,"app-cms-enum-record-status-selector",12),A("modelChange",function(t){d(e);let l=u();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),a()}if(n&2){let e=u();E("model",e.dataModel.recordStatus),S("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ia(n,s){if(n&1){let e=M();r(0,"div",10)(1,"label",13),c(2),h(3,"translate"),a(),r(4,"textarea",14,1),h(6,"translate"),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.htmlBody,t)||(l.dataModel.htmlBody=t),m(t)}),c(7,"          "),a(),r(8,"em"),c(9),a()()}if(n&2){let e=D(5),i=u();o(2),R(C(3,6,"TITLE.Answer_Text")),o(2),S("placeholder",x(C(6,8,"TITLE.Answer_Text"))),E("ngModel",i.dataModel.htmlBody),S("disabled",!(i.fieldsInfo.htmlBody!=null&&i.fieldsInfo.htmlBody.accessEditField)),o(5),g("",e.value.length," / 1000")}}function Ma(n,s){if(n&1){let e=M();r(0,"div",11)(1,"button",15),T("click",function(){d(e);let t=u();return m(t.onActionBackToParent())}),c(2),h(3,"translate"),a(),r(4,"button",16),c(5),h(6,"translate"),a()()}if(n&2){u();let e=D(10);o(2),g(" ",C(3,3,"ACTION.BACK")," "),o(2),S("disabled",!e.form.valid),o(),g(" ",C(6,5,"ACTION.SAVE")," ")}}var Wi=class Wi extends ei{constructor(e,i,t,l,f,p,J,ee,ze,Je){super(p,new Ut,l,Je);this.data=e;this.dialogRef=i;this.activatedRoute=t;this.publicHelper=l;this.coreEnumService=f;this.ticketingAnswerService=p;this.cmsToastrService=J;this.router=ee;this.cdr=ze;this.translate=Je;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.dataModel=new Ut;this.dataModelResult=new At;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.fileManagerOpenForm=!1;this.appLanguage="fa";this.mapOptonCenter=new Zt;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(this.requestId=+e.id||0)}ngOnInit(){if(this.requestId===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.DataGetOne(this.requestId)}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(e){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.ticketingAnswerService.setAccessLoad(),this.ticketingAnswerService.setAccessDataType(Rt.Editor),this.ticketingAnswerService.ServiceGetOneById(e).subscribe({next:t=>{this.dataAccessModel=t.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.publicHelper.processService.processStop(i),this.dataModelResult=t,this.formInfo.submitButtonEnabled=!0,t.isSuccess?this.dataModel=t.item:this.cmsToastrService.typeErrorGetOne(t.errorMessage)},error:t=>{this.publicHelper.processService.processStop(i),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(t)}})}DataEditContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingAnswerService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>{this.dialogRef.close({dialogChangedDate:!1})},1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}onActionBackToParent(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelectedLinkMainImageId(){}onActionSelectSource(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_source","MESSAGE.The_source_of_the_information_application_is_not_known"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_source"],i["MESSAGE.The_source_of_the_information_application_is_not_known"])});return}}};Wi.\u0275fac=function(i){return new(i||Wi)(b(ve),b(de),b(we),b(O),b(K),b(Jt),b(P),b(ce),b(N),b(F))},Wi.\u0275cmp=L({type:Wi,selectors:[["app-ticketing-answer-edit"]],viewQuery:function(i,t){if(i&1&&ne(ba,5),i&2){let l;oe(l=ae())&&(t.formGroup=l.first)}},standalone:!1,features:[G],decls:16,vars:14,consts:[["vform","ngForm"],["HtmlBody",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.htmlBody",1,"color-highlight"],["matInput","","name","dataModel.htmlBody","type","text","minlength","0","maxlength","1000","rows","5","id","dataModel.htmlBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let l=M();r(0,"div",2),_(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",6),r(9,"form",7,0),T("ngSubmit",function(){return d(l),m(t.onFormSubmit())}),v(11,va,1,5,"app-cms-enum-record-status-selector",8),r(12,"app-ticketing-departemen-selector",9),h(13,"translate"),T("optionChange",function(p){return d(l),m(t.onActionSelectSource(p))}),a(),v(14,Ia,10,10,"div",10),v(15,Ma,7,7,"div",11),a()()()}i&2&&(o(),S("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",C(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),S("formInfo",t.formInfo),o(3),I(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),S("optionSelectForce",t.dataModel.linkTicketingDepartemenId)("optionPlaceholder",C(13,12,"TITLE.Department"))("optionDisabled",!(t.fieldsInfo.linkTicketingDepartemenId!=null&&t.fieldsInfo.linkTicketingDepartemenId.accessEditField)),o(2),I(t.fieldsInfo.htmlBody!=null&&t.fieldsInfo.htmlBody.accessWatchField?14:-1),o(),I(t.formInfo.submitButtonEnabled?15:-1))},dependencies:[ye,re,le,ke,Re,De,be,Ee,q,Ne,U,_e,Qe,B],encapsulation:2});var mo=Wi;var ka=["vform"];function Ea(n,s){if(n&1){let e=M();r(0,"div",7)(1,"button",8),T("click",function(){d(e);let t=u();return m(t.onFormCancel())}),_(2,"i",9),c(3),h(4,"translate"),a()()}n&2&&(o(3),g(" ",C(4,1,"ACTION.CANCEL")," "))}var ji=class ji{constructor(s,e,i,t,l,f,p,J,ee,ze){this.data=s;this.dialogRef=e;this.coreEnumService=i;this.ticketingAnswerService=t;this.cmsToastrService=l;this.tokenHelper=f;this.cmsStoreService=p;this.cdr=J;this.publicHelper=ee;this.translate=ze;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new ci;this.dataModelResult=new Q;this.dataModel=new Ut;this.formInfo=new Oi;this.dataModelEnumSendSmsStatusTypeResult=new Q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=+s.id||0)}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(s=>{this.formInfo.formTitle=s}),this.requestId===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>te(this,null,function*(){this.tokenInfo=s}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:s=>{this.dataModelEnumSendSmsStatusTypeResult=s}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.ticketingAnswerService.setAccessLoad(),this.ticketingAnswerService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,console.log(this.dataModel),e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ji.\u0275fac=function(e){return new(e||ji)(b(ve),b(de),b(K),b(Jt),b(P),b(fe),b(ue),b(N),b(O),b(F))},ji.\u0275cmp=L({type:ji,selectors:[["app-ticketing-answer-view"]],viewQuery:function(e,i){if(e&1&&ne(ka,5),e&2){let t;oe(t=ae())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",0),c(1),a(),r(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),r(5,"div",4),_(6,"app-cms-form-result-message",5),a(),r(7,"div",6),v(8,Ea,5,3,"div",7),a()),e&2&&(o(),g(" ",i.formInfo.formTitle," "),o(2),S("optionsInfoAreaId",i.constructorInfoAreaId),o(),S("dataModel",i.dataModel)("optionMethod",1),o(2),S("formInfo",i.formInfo),o(2),I(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[U,ea,_e,B],encapsulation:2});var po=ji;function ya(n,s){n&1&&_(0,"div",8)}function Aa(n,s){if(n&1&&(r(0,"div",4)(1,"div",5)(2,"b"),c(3),h(4,"translate"),a(),c(5,": "),a(),_(6,"div",13)(7,"div",11)(8,"div",10),a()),n&2){let e=u();o(3),g("",C(4,2,"TITLE.Description")," "),o(3),S("innerText",e.dataModelResult.item.htmlBody)}}var Ui=class Ui{constructor(s,e,i,t,l,f,p,J){this.headerService=s;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.dialog=l;this.translate=f;this.cmsStoreService=p;this.tokenHelper=J;this.constructorInfoAreaId=this.constructor.name;this.optionId=0;this.dataModelResult=new Q;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>te(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetOneContent(){let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s)}})}};Ui.\u0275fac=function(e){return new(e||Ui)(b($e),b(O),b(N),b(P),b(je),b(F),b(ue),b(fe))},Ui.\u0275cmp=L({type:Ui,selectors:[["app-ticketing-task-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:33,vars:11,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td"],[1,"td","large-width"],[2,"clear","both"],[1,"td",2,"text-align","left"],[1,"divider","divider-margins"],[1,"td","large-width",3,"innerText"]],template:function(e,i){e&1&&(r(0,"div",0),_(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),_(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),c(10),h(11,"translate"),a()()(),v(12,ya,1,0,"div",8),a(),r(13,"div",4)(14,"div",5)(15,"b"),c(16),a(),c(17,": "),a(),r(18,"div",9),c(19),a(),_(20,"div",8)(21,"div",10),a(),r(22,"div",4)(23,"div",5)(24,"b"),c(25),a(),c(26,": "),a(),r(27,"div",9),c(28),a(),_(29,"div",11)(30,"div",10),a(),v(31,Aa,9,4,"div",4),a()()(),_(32,"div",12)),e&2&&(o(),S("optionsInfoAreaId",i.constructorInfoAreaId),o(5),S("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),g(" ",C(11,9,"TITLE.Selected_Ticket")," "),o(2),I(!(i.dataModelResult==null||i.dataModelResult.item==null)&&i.dataModelResult.item.id?12:-1),o(4),g("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),R(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),g("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," "),o(3),R(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title),o(3),I((i.dataModelResult==null||i.dataModelResult.item==null||i.dataModelResult.item.htmlBody==null?null:i.dataModelResult.item.htmlBody.length)>0?31:-1))},dependencies:[U,Zo,B],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Qi=Ui;var Ra=()=>[5,10,20,100],Da=n=>({background:n});function xa(n,s){if(n&1&&_(0,"app-ticketing-task-header",3),n&2){let e=u();S("optionId",e.requestLinkTaskId)}}function La(n,s){if(n&1){let e=M();r(0,"a",39),T("click",function(){d(e);let t=u();return m(t.onActionBackToParent())}),_(1,"i",40),a()}}function Va(n,s){if(n&1){let e=M();r(0,"div",17)(1,"a",41),T("click",function(){d(e);let t=u();return m(t.onActionButtonNewRow())}),_(2,"i",42)(3,"br"),a(),r(4,"p",43),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.ADD")," "))}function Ba(n,s){if(n&1){let e=M();r(0,"div",17)(1,"a",44),T("click",function(){d(e);let t=u();return m(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",45)(3,"br"),a(),r(4,"p",43),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.EDIT")," "))}function Na(n,s){if(n&1){let e=M();r(0,"div",17)(1,"a",46),T("click",function(){d(e);let t=u();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",47)(3,"br"),a(),r(4,"p",43),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.DELETE")," "))}function Fa(n,s){if(n&1){let e=M();r(0,"div",17)(1,"a",48),T("click",function(){d(e);let t=u();return m(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",49)(3,"br"),a(),r(4,"p",43),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.VIEW")," "))}function Oa(n,s){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ga(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),g(" ",e.id," ")}}function Pa(n,s){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.linkTaskId==null?null:e.fieldsInfo.linkTaskId.fieldTitle," ")}}function Ha(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),g(" ",e.linkTaskId," ")}}function qa(n,s){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function Wa(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),g(" ",e.linkMemberId," ")}}function ja(n,s){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Ua(n,s){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),g(" ",C(2,1,e.createdDate)," ")}}function Qa(n,s){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Ka(n,s){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),g(" ",C(2,1,e.updatedDate)," ")}}function za(n,s){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.answerStatus==null?null:e.fieldsInfo.answerStatus.fieldTitle," ")}}function Ja(n,s){if(n&1&&(r(0,"mat-cell",51),c(1),h(2,"enums"),a()),n&2){let e=s.$implicit,i=u();S("ngStyle",Pe(5,Da,i.publicHelper.RowStyleAnswerStatus(e.answerStatus))),o(),g(" ",zt(2,2,e.answerStatus,i.dataModelEnumAnswerStatusResult.listItems)," ")}}function Ya(n,s){n&1&&(r(0,"mat-header-cell"),c(1),h(2,"translate"),a()),n&2&&(o(),g(" ",C(2,1,"TITLE.OPTION")," "))}function Xa(n,s){if(n&1&&(r(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),c(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let e=D(5),i=u();o(),S("matMenuTriggerFor",e)("disabled",!i.dataModelResult.access.accessEditRow&&!i.dataModelResult.access.accessDeleteRow)}}function Za(n,s){n&1&&_(0,"mat-header-row")}function $a(n,s){if(n&1){let e=M();r(0,"mat-row",54),T("click",function(t){let l=d(e).$implicit,f=u();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=d(e).$implicit,f=u();return m(f.onActionTableRowSelect(l,t))}),a()}if(n&2){let e=s.$implicit,i=u();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ki=class Ki extends Tt{constructor(e,i,t,l,f,p,J,ee,ze,Je,Qt,Mt,kn){super(e,new Ut,Mt,p,ze);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=l;this.router=f;this.tokenHelper=p;this.cdr=J;this.cmsStoreService=ee;this.translate=ze;this.ticketingEnumService=Je;this.pageInfo=Qt;this.publicHelper=Mt;this.dialog=kn;this.requestLinkTaskId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Z;this.filterDataModelQueryBuilder=[];this.dataModelEnumAnswerStatusResult=new Q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","LinkTaskId","linkMemberId","createdDate","updatedDate","AnswerStatus"];this.tabledisplayedColumnsMobileSource=["id","LinkTaskId","linkMemberId","createdDate","updatedDate","AnswerStatus"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Mo=>this.onSubmitOptionsSearch(Mo)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=j.Ascending}ngOnInit(){this.requestLinkTaskId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkTaskId")),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>te(this,null,function*(){this.getEnumAnswerStatus(),this.tokenInfo=e,this.DataGetAll()}))),this.getEnumAnswerStatus()}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getEnumAnswerStatus(){this.ticketingEnumService.ServiceTicketStatusEnum().subscribe({next:e=>{this.dataModelEnumAnswerStatusResult=e}})}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ut);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]);let t=new Y;this.requestLinkTaskId>0&&(t.propertyName="LinkTaskId",t.value=this.requestLinkTaskId,i.filters.push(t)),this.categoryModelSelected&&this.categoryModelSelected.id>0&&(t.propertyName="LinkTaskId",t.value=this.categoryModelSelected.id,i.filters.push(t)),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:l=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),l.isSuccess?(this.applyDataGetAllResult(l),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)},1e3)):this.cmsToastrService.typeErrorGetAll(l.errorMessage),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null&&this.categoryModelSelected&&this.categoryModelSelected.id===0&&(this.requestLinkTaskId==null||this.requestLinkTaskId===0)){this.translate.get("MESSAGE.Content_not_selected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(co,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkTaskId:this.requestLinkTaskId>0?this.requestLinkTaskId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(po,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Z,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(mo,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(f,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?this.cmsToastrService.typeSuccessRemove():this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(f)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess&&(i.set("All",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Y;f.propertyName="recordStatus",f.value=ot.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess&&(i.set("Active",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/task/"])}};Ki.\u0275fac=function(i){return new(i||Ki)(b(Jt),b(we),b(P),b($t),b(ce),b(fe),b(N),b(ue),b(F),b(di),b(Ct),b(O),b(je))},Ki.\u0275cmp=L({type:Ki,selectors:[["app-ticketing-answer-list"]],standalone:!1,features:[G],decls:59,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkTaskId"],["matColumnDef","linkMemberId"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","AnswerStatus"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor","disabled"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=M();v(0,xa,1,1,"app-ticketing-task-header",3),r(1,"app-cms-html-list",4),A("optionActionGuideNoticeDisplayChange",function(p){return d(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),m(p)}),T("optionOnActionButtonMemoRow",function(){return d(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(l),m(t.onActionButtonPrintRow())}),w(2,5),c(3," -------------------------------------- "),k(),ie(4,6)(5,7),w(6,8),v(7,La,2,0,"a",9),r(8,"a",10),T("click",function(){return d(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),_(9,"i",11),a(),r(10,"a",10),T("click",function(){return d(l),m(t.onActionButtonReload())}),_(11,"i",12),a(),k(),w(12,13),r(13,"a",14),T("click",function(){return d(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(14,"mat-slide-toggle",15),c(15),h(16,"translate"),a(),r(17,"a",14),T("click",function(){return d(l),m(t.onActionButtonStatist())}),_(18,"mat-slide-toggle",15),c(19),h(20,"translate"),a(),k(),w(21,16),v(22,Va,7,3,"div",17),k(),w(23,18),v(24,Ba,7,3,"div",17),v(25,Na,7,3,"div",17),v(26,Fa,7,3,"div",17),k(),w(27,19),r(28,"app-cms-search-list",20),A("optionsChange",function(p){return d(l),y(t.optionsSearch,p)||(t.optionsSearch=p),m(p)}),a(),r(29,"app-cms-statist-list",20),A("optionsChange",function(p){return d(l),y(t.optionsStatist,p)||(t.optionsStatist=p),m(p)}),a(),k(),w(30,21),r(31,"mat-table",22,0),T("matSortChange",function(){d(l);let p=D(32);return m(t.onTableSortData(p))}),w(33,23),V(34,Oa,2,1,"mat-header-cell",24)(35,Ga,2,1,"mat-cell",25),k(),w(36,26),V(37,Pa,2,1,"mat-header-cell",24)(38,Ha,2,1,"mat-cell",25),k(),w(39,27),V(40,qa,2,1,"mat-header-cell",24)(41,Wa,2,1,"mat-cell",25),k(),w(42,28),V(43,ja,2,1,"mat-header-cell",24)(44,Ua,3,3,"mat-cell",25),k(),w(45,29),V(46,Qa,2,1,"mat-header-cell",24)(47,Ka,3,3,"mat-cell",25),k(),w(48,30),V(49,za,2,1,"mat-header-cell",24)(50,Ja,3,7,"mat-cell",31),k(),w(51,32),V(52,Ya,3,3,"mat-header-cell",33)(53,Xa,6,2,"mat-cell",34),k(),V(54,Za,1,0,"mat-header-row",35)(55,$a,1,2,"mat-row",36),a(),k(),w(56,37),r(57,"mat-paginator",38,1),T("page",function(p){return d(l),m(t.onTablePageingData(p))}),a(),k(),a()}i&2&&(I(t.requestLinkTaskId>0?0:-1),o(),S("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),S("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),I(t.requestLinkTaskId>0?7:-1),o(4),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),S("checked",t.optionsSearch.data.show),o(),g("",C(16,28,"ACTION.SEARCH")," "),o(3),S("checked",t.optionsStatist.data.show),o(),g("",C(20,30,"ACTION.STATIST")," "),o(3),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?22:-1),o(2),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?24:-1),o(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?25:-1),o(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?26:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),S("dataSource",t.tableSource),o(23),S("matHeaderRowDef",t.tabledisplayedColumns),o(),S("matRowDefColumns",t.tabledisplayedColumns),o(2),S("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(32,Ra)))},dependencies:[He,et,tt,at,rt,me,pe,lt,st,ct,mt,_t,pt,dt,gt,ut,ft,St,ht,ge,Se,bt,he,Qi,B,ii,Ue],encapsulation:2});var Ti=Ki;var er=()=>[5,10,20,100],tr=n=>({background:n}),ir=(n,s)=>s.id;function nr(n,s){if(n&1&&_(0,"app-ticketing-task-header",1),n&2){let e=u();S("optionId",e.requestLinkTaskId)}}function or(n,s){if(n&1){let e=M();r(0,"a",27),T("click",function(){d(e);let t=u();return m(t.onActionBackToParent())}),_(1,"i",28),a()}}function ar(n,s){if(n&1){let e=M();r(0,"div",18)(1,"a",29),T("click",function(){d(e);let t=u();return m(t.onActionButtonNewRow())}),_(2,"i",30)(3,"br"),a(),r(4,"p",31),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.ADD")," "))}function rr(n,s){if(n&1){let e=M();r(0,"div",18)(1,"a",32),T("click",function(){d(e);let t=u();return m(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",33)(3,"br"),a(),r(4,"p",31),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.EDIT")," "))}function lr(n,s){if(n&1){let e=M();r(0,"div",18)(1,"a",34),T("click",function(){d(e);let t=u();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",35)(3,"br"),a(),r(4,"p",31),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.DELETE")," "))}function sr(n,s){if(n&1){let e=M();r(0,"div",18)(1,"a",36),T("click",function(){d(e);let t=u();return m(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",37)(3,"br"),a(),r(4,"p",31),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.VIEW")," "))}function cr(n,s){if(n&1&&(r(0,"div",44),_(1,"i",47),c(2),a()),n&2){let e=u().$implicit,i=u(2);o(2),Ve(" ",i.fieldsInfo.linkTaskId==null?null:i.fieldsInfo.linkTaskId.fieldTitle,": ",e.linkTaskId," ")}}function dr(n,s){if(n&1&&(r(0,"div",44),_(1,"i",48),c(2),a()),n&2){let e=u().$implicit,i=u(2);o(2),Ve(" ",i.fieldsInfo.linkMemberId==null?null:i.fieldsInfo.linkMemberId.fieldTitle,": ",e.linkMemberId," ")}}function mr(n,s){if(n&1&&(r(0,"div",45),_(1,"i",49),c(2),h(3,"enums"),a()),n&2){let e=u().$implicit,i=u(2);S("ngStyle",Pe(6,tr,i.publicHelper.RowStyleAnswerStatus(e.answerStatus))),o(2),Ve(" ",i.fieldsInfo.answerStatus==null?null:i.fieldsInfo.answerStatus.fieldTitle,": ",zt(3,3,e.answerStatus,i.dataModelEnumAnswerStatusResult.listItems)," ")}}function pr(n,s){if(n&1&&(r(0,"div",44),_(1,"i",50),c(2),h(3,"localeDate"),a()),n&2){let e=u().$implicit,i=u(2);o(2),Ve(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",C(3,2,e.createdDate)," ")}}function ur(n,s){if(n&1&&(r(0,"div",44),_(1,"i",51),c(2),h(3,"localeDate"),a()),n&2){let e=u().$implicit,i=u(2);o(2),Ve(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",C(3,2,e.updatedDate)," ")}}function fr(n,s){if(n&1){let e=M();r(0,"div",46)(1,"div",44)(2,"span",52),T("click",function(t){return d(e),u(3).onActionCopied(),m(t.stopPropagation())}),_(3,"i",53),a(),c(4),a()()}if(n&2){let e=u().$implicit;o(2),S("cdkCopyToClipboard",(e.id==null?null:e.id.toString())||""),o(2),g(" ID: ",e.id," ")}}function _r(n,s){if(n&1){let e=M();r(0,"div",39),T("click",function(t){let l=d(e).$implicit,f=u(2);return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=d(e).$implicit,f=u(2);return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=d(e).$implicit,l=u(2);return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,l=u(2);return m(l.onActionTableRowMouseLeave(t))}),r(1,"div",40),_(2,"i",41),h(3,"statusIconClass"),a(),r(4,"div",42)(5,"div",43),c(6),a(),v(7,cr,3,2,"div",44),v(8,dr,3,2,"div",44),v(9,mr,4,8,"div",45),v(10,pr,4,4,"div",44),v(11,ur,4,4,"div",44),v(12,fr,5,2,"div",46),a()()}if(n&2){let e=s.$implicit,i=u(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),Le("aria-label",e.id||""),o(2),S("ngClass",C(3,11,e.recordStatus)),o(4),g(" ID: ",e.id," "),o(),I(e.linkTaskId?7:-1),o(),I(e.linkMemberId?8:-1),o(),I(e.answerStatus!==void 0?9:-1),o(),I(e.createdDate?10:-1),o(),I(e.updatedDate?11:-1),o(),I(i.getRowExpanded(e)?12:-1)}}function gr(n,s){if(n&1&&(r(0,"div",23),Oe(1,_r,13,13,"div",38,ir),a()),n&2){let e=u();o(),Ge(e.dataModelResult.listItems)}}function Sr(n,s){n&1&&(r(0,"div",24),c(1),h(2,"translate"),a()),n&2&&(o(),g(" ",C(2,1,"MESSAGE.NoRecord")," "))}var Ii=class Ii extends Ti{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}};Ii.\u0275fac=(()=>{let e;return function(t){return(e||(e=yt(Ii)))(t||Ii)}})(),Ii.\u0275cmp=L({type:Ii,selectors:[["app-ticketing-answer-list-mobile"]],hostBindings:function(i,t){i&1&&T("click",function(f){return t.onDocumentClick(f)},Kt)},standalone:!1,features:[G],decls:39,vars:33,consts:[["paginator",""],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-subtitle",3,"ngStyle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-ticket-alt"],["aria-hidden","true",1,"fa-solid","fa-user"],["aria-hidden","true",1,"fa-solid","fa-info-circle"],["aria-hidden","true",1,"fa-solid","fa-calendar-plus"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(i,t){if(i&1){let l=M();v(0,nr,1,1,"app-ticketing-task-header",1),r(1,"app-cms-html-list-mobile",2),A("optionActionGuideNoticeDisplayChange",function(p){return d(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),m(p)}),T("optionOnActionButtonMemoRow",function(){return d(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(l),m(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return d(l),m(t.onActionLoadNextPage())}),ie(2,3)(3,4)(4,5),w(5,6),v(6,or,2,0,"a",7),r(7,"a",8),T("click",function(){return d(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",9),a(),r(9,"a",8),T("click",function(){return d(l),m(t.onActionButtonReload())}),_(10,"i",10),a(),r(11,"a",11),T("click",function(){return d(l),m(t.onActionGridExpandRows(!0))}),_(12,"i",12),a(),r(13,"a",11),T("click",function(){return d(l),m(t.onActionGridExpandRows(!1))}),_(14,"i",13),a(),k(),w(15,14),r(16,"a",15),T("click",function(){return d(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(17,"mat-slide-toggle",16),c(18),h(19,"translate"),a(),r(20,"a",15),T("click",function(){return d(l),m(t.onActionButtonStatist())}),_(21,"mat-slide-toggle",16),c(22),h(23,"translate"),a(),k(),w(24,17),v(25,ar,7,3,"div",18),k(),w(26,19),v(27,rr,7,3,"div",18),v(28,lr,7,3,"div",18),v(29,sr,7,3,"div",18),k(),w(30,20),r(31,"app-cms-search-list",21),A("optionsChange",function(p){return d(l),y(t.optionsSearch,p)||(t.optionsSearch=p),m(p)}),a(),r(32,"app-cms-statist-list",21),A("optionsChange",function(p){return d(l),y(t.optionsStatist,p)||(t.optionsStatist=p),m(p)}),a(),k(),w(33,22),v(34,gr,3,0,"div",23)(35,Sr,3,3,"div",24),k(),w(36,25),r(37,"mat-paginator",26,0),T("page",function(p){return d(l),m(t.onTablePageingData(p))}),a(),k(),a()}i&2&&(I(t.requestLinkTaskId>0?0:-1),o(),S("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),S("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null?null:t.tableRowSelected.id)||""),o(5),I(t.requestLinkTaskId>0?6:-1),o(4),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),S("checked",t.optionsSearch.data.show),o(),g("",C(19,28,"ACTION.SEARCH")," "),o(3),S("checked",t.optionsStatist.data.show),o(),g("",C(23,30,"ACTION.STATIST")," "),o(3),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?25:-1),o(2),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?27:-1),o(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?28:-1),o(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?29:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),I(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?34:35),o(3),S("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(32,er)))},dependencies:[Me,He,me,pe,xt,ge,Se,Vt,he,Qi,B,ii,Ue,xe],encapsulation:2});var En=Ii;var Cr=["vform"];function Tr(n,s){if(n&1){let e=M();r(0,"app-cms-enum-record-status-selector",15),A("modelChange",function(t){d(e);let l=u();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),a()}if(n&2){let e=u();E("model",e.dataModel.recordStatus),S("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function br(n,s){n&1&&_(0,"i",18)}function vr(n,s){n&1&&_(0,"i",19)}function Ir(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),a()()),n&2){let e=u(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),R(C(4,2,"MESSAGE.required"))}}function Mr(n,s){if(n&1){let e=M();r(0,"div",10)(1,"label",16),c(2),a(),r(3,"input",17,1),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.title,t)||(l.dataModel.title=t),m(t)}),a(),v(5,br,1,0,"i",18),v(6,vr,1,0,"i",19),r(7,"em"),c(8),a(),v(9,Ir,5,4,"mat-error"),a()}if(n&2){let e=D(4),i=u();o(2),R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),S("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),S("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),I(e.value?-1:5),o(),I(e.value?6:-1),o(2),g("",e.value.length," / 100"),o(),I(e.errors!=null&&e.errors.required?9:-1)}}function wr(n,s){if(n&1&&(_(0,"img",13),h(1,"cmsthumbnail")),n&2){let e=u();S("src",x(C(1,2,e.dataModel.linkMainImageIdSrc)),jt)}}function kr(n,s){if(n&1){let e=M();r(0,"div",10)(1,"label",20),T("click",function(){d(e);let t=u();return m(t.fileManagerOpenForm=!0)}),c(2),h(3,"translate"),a(),r(4,"input",21,2),h(6,"translate"),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),m(t)}),T("click",function(){d(e);let t=u();return m(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",22),T("itemSelected",function(t){d(e);let l=u();return m(l.onActionFileSelected(t))}),A("openFormChange",function(t){d(e);let l=u();return y(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),m(t)}),a()()}if(n&2){let e=u();o(2),R(C(3,12,"TITLE.Icon_File")),o(2),S("placeholder",x(C(6,14,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainImageId),o(3),S("language",e.appLanguage)("isPopup",!0),E("openForm",e.fileManagerOpenForm),S("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Er(n,s){if(n&1){let e=M();r(0,"div",14)(1,"button",23),T("click",function(){d(e);let t=u();return m(t.onFormCancel())}),_(2,"i",24),c(3),h(4,"translate"),a(),r(5,"button",25),_(6,"i",26),c(7),h(8,"translate"),a()()}if(n&2){u();let e=D(10);o(3),g(" ",C(4,3,"ACTION.CANCEL")," "),o(2),S("disabled",!e.form.valid),o(2),g(" ",C(8,5,"ACTION.SAVE")," ")}}var $i=class $i extends ei{constructor(e,i,t,l,f,p,J,ee){super(l,new Xe,p,ee);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.ticketingDepartemenService=l;this.cmsToastrService=f;this.publicHelper=p;this.cdr=J;this.translate=ee;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new At;this.dataModel=new Xe;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.requestId<=0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingDepartemenService.setAccessLoad(),this.ticketingDepartemenService.setAccessDataType(Rt.Editor),this.ticketingDepartemenService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingDepartemenService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$i.\u0275fac=function(i){return new(i||$i)(b(ve),b(de),b(K),b(Ze),b(P),b(O),b(N),b(F))},$i.\u0275cmp=L({type:$i,selectors:[["app-ticketing-departemen-edit"]],viewQuery:function(i,t){if(i&1&&ne(Cr,5),i&2){let l;oe(l=ae())&&(t.formGroup=l.first)}},standalone:!1,features:[G],decls:19,vars:15,consts:[["vform","ngForm"],["Title",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=M();r(0,"div",3),_(1,"app-progress-spinner",4),r(2,"div",5)(3,"p",6),c(4),a(),r(5,"p"),c(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",7),r(9,"form",8,0),T("ngSubmit",function(){return d(l),m(t.onFormSubmit())}),v(11,Tr,1,5,"app-cms-enum-record-status-selector",9),v(12,Mr,10,9,"div",10),r(13,"div",11)(14,"a",12),h(15,"cmsthumbnail"),v(16,wr,2,4,"img",13),a()(),v(17,kr,8,16,"div",10),v(18,Er,9,7,"div",14),a()()()}i&2&&(o(),S("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",C(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),S("formInfo",t.formInfo),o(3),I(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),I(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(2),S("href",x(C(15,13,t.dataModel.linkMainImageIdSrc)),jt),o(2),I((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?16:-1),o(),I(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?17:-1),o(),I(t.formInfo.submitButtonEnabled?18:-1))},dependencies:[ye,re,le,ke,Ae,Re,De,be,Ee,We,q,Ne,U,_e,oo,B,mi],encapsulation:2});var Wt=$i;var yr=["vform"];function Ar(n,s){if(n&1){let e=M();r(0,"app-cms-enum-record-status-selector",15),A("modelChange",function(t){d(e);let l=u();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),a()}if(n&2){let e=u();E("model",e.dataModel.recordStatus),S("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Rr(n,s){n&1&&_(0,"i",18)}function Dr(n,s){n&1&&_(0,"i",19)}function xr(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),a()()),n&2){let e=u(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),R(C(4,2,"MESSAGE.required"))}}function Lr(n,s){if(n&1){let e=M();r(0,"div",10)(1,"label",16),c(2),a(),r(3,"input",17,1),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.title,t)||(l.dataModel.title=t),m(t)}),a(),v(5,Rr,1,0,"i",18),v(6,Dr,1,0,"i",19),r(7,"em"),c(8),a(),v(9,xr,5,4,"mat-error"),a()}if(n&2){let e=D(4),i=u();o(2),R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),S("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),S("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),I(e.value?-1:5),o(),I(e.value?6:-1),o(2),g("",e.value.length," / 100"),o(),I(e.errors!=null&&e.errors.required?9:-1)}}function Vr(n,s){if(n&1&&(_(0,"img",13),h(1,"cmsthumbnail")),n&2){let e=u();S("src",x(C(1,2,e.dataModel.linkMainImageIdSrc)),jt)}}function Br(n,s){if(n&1){let e=M();r(0,"div",10)(1,"label",20),T("click",function(){d(e);let t=u();return m(t.fileManagerOpenForm=!0)}),c(2),h(3,"translate"),a(),r(4,"input",21,2),h(6,"translate"),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),m(t)}),T("click",function(){d(e);let t=u();return m(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",22),T("itemSelected",function(t){d(e);let l=u();return m(l.onActionFileSelected(t))}),A("openFormChange",function(t){d(e);let l=u();return y(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),m(t)}),a()()}if(n&2){let e=u();o(2),R(C(3,12,"TITLE.Icon_File")),o(2),S("placeholder",x(C(6,14,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainImageId),o(3),S("language",e.appLanguage)("isPopup",!0),E("openForm",e.fileManagerOpenForm),S("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Nr(n,s){if(n&1){let e=M();r(0,"div",14)(1,"button",23),T("click",function(){d(e);let t=u();return m(t.onFormCancel())}),_(2,"i",24),c(3),h(4,"translate"),a(),r(5,"button",25),_(6,"i",26),c(7),h(8,"translate"),a()()}if(n&2){u();let e=D(10);o(3),g(" ",C(4,3,"ACTION.CANCEL")," "),o(2),S("disabled",!e.form.valid),o(2),g(" ",C(8,5,"ACTION.SAVE")," ")}}var en=class en extends Lt{constructor(e,i,t,l,f,p,J,ee){super(l,new Xe,p,ee);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.ticketingDepartemenService=l;this.cmsToastrService=f;this.publicHelper=p;this.cdr=J;this.translate=ee;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Q;this.dataModel=new Xe;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingDepartemenService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};en.\u0275fac=function(i){return new(i||en)(b(ve),b(de),b(K),b(Ze),b(P),b(O),b(N),b(F))},en.\u0275cmp=L({type:en,selectors:[["app-ticketing-departemen-add"]],viewQuery:function(i,t){if(i&1&&ne(yr,5),i&2){let l;oe(l=ae())&&(t.formGroup=l.first)}},standalone:!1,features:[G],decls:19,vars:15,consts:[["vform","ngForm"],["Title",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=M();r(0,"div",3),_(1,"app-progress-spinner",4),r(2,"div",5)(3,"p",6),c(4),a(),r(5,"p"),c(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",7),r(9,"form",8,0),T("ngSubmit",function(){return d(l),m(t.onFormSubmit())}),v(11,Ar,1,5,"app-cms-enum-record-status-selector",9),v(12,Lr,10,9,"div",10),r(13,"div",11)(14,"a",12),h(15,"cmsthumbnail"),v(16,Vr,2,4,"img",13),a()(),v(17,Br,8,16,"div",10),v(18,Nr,9,7,"div",14),a()()()}i&2&&(o(),S("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",C(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),S("formInfo",t.formInfo),o(3),I(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),I(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(2),S("href",x(C(15,13,t.dataModel.linkMainImageIdSrc)),jt),o(2),I((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?16:-1),o(),I(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?17:-1),o(),I(t.formInfo.submitButtonEnabled?18:-1))},dependencies:[ye,re,le,ke,Ae,Re,De,be,Ee,We,q,Ne,U,_e,oo,B,mi],encapsulation:2});var tn=en;var Fr=["vform"];function Or(n,s){if(n&1){let e=M();r(0,"div",5)(1,"label",7),c(2),a(),r(3,"input",8,0),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModelResultCategory.item.title,t)||(l.dataModelResultCategory.item.title=t),m(t)}),a()()}if(n&2){let e=u();o(2),R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),S("placeholder",x(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),E("ngModel",e.dataModelResultCategory.item.title)}}function Gr(n,s){if(n&1){let e=M();r(0,"div",6)(1,"button",9),T("click",function(){d(e);let t=u();return m(t.onFormCancel())}),_(2,"i",10),c(3),h(4,"translate"),a(),r(5,"button",11),T("click",function(){d(e);let t=u();return m(t.onFormDelete())}),_(6,"i",12),c(7),h(8,"translate"),a()()}if(n&2){let e=u();o(3),g(" ",C(4,3,"ACTION.CANCEL")," "),o(2),S("disabled",!e.formInfo.submitButtonEnabled),o(2),g(" ",C(8,5,"ACTION.DELETE")," ")}}var nn=class nn{constructor(s,e,i,t,l,f,p){this.data=s;this.dialogRef=e;this.publicHelper=i;this.ticketingDepartemenService=t;this.cdr=l;this.translate=f;this.cmsToastrService=p;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultCategory=new Q;this.dataModelResultCategoryAllData=new Q;this.dataModel={};this.formInfo=new Oi;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=+s.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(),this.DataGetAll()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.ticketingDepartemenService.setAccessLoad(),this.ticketingDepartemenService.setAccessDataType(Rt.Editor),this.ticketingDepartemenService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultCategory=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorGetOne()),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s)}})}DataGetAll(){this.translate.get("TITLE.Loading_Information").subscribe(i=>{this.formInfo.submitResultMessage=i});let s=new Z;s.rowPerPage=100;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingDepartemenService.ServiceGetAll(s).subscribe({next:i=>{this.dataModelResultCategoryAllData=i,i.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetAll()),this.publicHelper.processService.processStop(e)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.ticketingDepartemenService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormChangeNewCatId(s){if(this.formInfo.submitResultMessage="",this.requestId===0||!s||s.id<=0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.dataModel.newCatId=s.id,this.dataModel.newCatId===this.requestId?(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitButtonEnabled=!1):(this.formInfo.submitButtonEnabled=!0,this.formInfo.submitResultMessage="")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};nn.\u0275fac=function(e){return new(e||nn)(b(ve),b(de),b(O),b(Ze),b(N),b(F),b(P))},nn.\u0275cmp=L({type:nn,selectors:[["app-ticketing-departemen-delete"]],viewQuery:function(e,i){if(e&1&&ne(Fr,5),e&2){let t;oe(t=ae())&&(i.formGroup=t.first)}},standalone:!1,decls:10,vars:7,consts:[["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],["for","dataModelResultCategory.item.title",1,"color-highlight"],["matInput","","type","text","name","dataModelResultCategory.item.title","id","dataModelResultCategory.item.title","minlength","3","maxlength","50","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){e&1&&(r(0,"div",1),_(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),c(4),a(),r(5,"p"),c(6),h(7,"translate"),a(),v(8,Or,5,4,"div",5),v(9,Gr,9,7,"div",6),a()()),e&2&&(o(),S("optionsInfoAreaId",i.constructorInfoAreaId),o(3),g(" ",i.formInfo.formTitle," "),o(2),g(" ",C(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),I(i.dataModelResultCategory!=null&&i.dataModelResultCategory.item?8:-1),o(),I(i.formInfo.submitButtonEnabled?9:-1))},dependencies:[re,le,Re,De,be,q,U,B],encapsulation:2});var on=nn;var Pr=()=>[5,10,20,100],Hr=n=>({display:n});function qr(n,s){if(n&1){let e=M();r(0,"div",15)(1,"a",43),T("click",function(){d(e);let t=u();return m(t.onActionButtonNewRow())}),_(2,"i",44)(3,"br"),a(),r(4,"p",19),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.ADD")," "))}function Wr(n,s){if(n&1){let e=M();r(0,"div",15)(1,"a",45),T("click",function(){d(e);let t=u();return m(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",46)(3,"br"),a(),r(4,"p",19),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.EDIT")," "))}function jr(n,s){if(n&1){let e=M();r(0,"div",15)(1,"a",47),T("click",function(){d(e);let t=u();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",48)(3,"br"),a(),r(4,"p",19),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.DELETE")," "))}function Ur(n,s){n&1&&(r(0,"mat-header-cell",49),c(1),h(2,"translate"),a()),n&2&&(o(),g(" ",C(2,1,"TITLE.PICTURE")," "))}function Qr(n,s){if(n&1&&(_(0,"img",50),h(1,"cmsthumbnail")),n&2){let e=u().$implicit;S("src",x(C(1,2,e.linkMainImageIdSrc)),jt)}}function Kr(n,s){if(n&1&&(r(0,"mat-cell"),v(1,Qr,2,4,"img",50),a()),n&2){let e=s.$implicit;o(),I((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function zr(n,s){if(n&1&&(r(0,"mat-header-cell",49),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Jr(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),g(" ",e.id," ")}}function Yr(n,s){if(n&1&&(r(0,"mat-header-cell",49),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Xr(n,s){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"cmssiteinfo"),h(3,"async"),a()),n&2){let e=s.$implicit;o(),g(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function Zr(n,s){if(n&1&&(r(0,"mat-header-cell",49),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function $r(n,s){if(n&1&&_(0,"select",52),n&2){let e=u().$implicit,i=u();S("contentService",i.contentService)("row",e)("ngStyle",Pe(3,Hr,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function el(n,s){if(n&1&&(r(0,"mat-cell",51),h(1,"statusCellClass"),_(2,"i",51),h(3,"statusIconClass"),v(4,$r,1,5,"select",52),a()),n&2){let e=s.$implicit,i=u();S("ngClass",C(1,3,e.recordStatus)),o(2),S("ngClass",C(3,5,e.recordStatus)),o(2),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function tl(n,s){if(n&1&&(r(0,"mat-header-cell",49),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function il(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),g(" ",e.title," ")}}function nl(n,s){if(n&1&&(r(0,"mat-header-cell",49),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ol(n,s){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),g(" ",C(2,1,e.createdDate)," ")}}function al(n,s){if(n&1&&(r(0,"mat-header-cell",49),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function rl(n,s){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),g(" ",C(2,1,e.updatedDate)," ")}}function ll(n,s){n&1&&(r(0,"mat-header-cell"),c(1),h(2,"translate"),a()),n&2&&(o(),g(" ",C(2,1,"TITLE.OPTION")," "))}function sl(n,s){if(n&1&&(r(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),c(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let e=D(5);o(),S("matMenuTriggerFor",e)}}function cl(n,s){n&1&&_(0,"mat-header-row")}function dl(n,s){if(n&1){let e=M();r(0,"mat-row",55),T("click",function(t){let l=d(e).$implicit,f=u();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=d(e).$implicit,f=u();return m(f.onActionTableRowSelect(l,t))}),a()}if(n&2){let e=s.$implicit,i=u();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var an=class an extends Tt{constructor(e,i,t,l,f,p,J,ee,ze,Je){super(e,new Xe,ze,l,p);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=l;this.cdr=f;this.translate=p;this.cmsStoreService=J;this.pageInfo=ee;this.publicHelper=ze;this.dialog=Je;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Z;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Qt=>this.onSubmitOptionsSearch(Qt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=j.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>te(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Xe);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess&&(this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(tn,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Wt,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(on,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonFaqList(e=this.tableRowSelected){if(!(e?.id>0)){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/ticketing/faq/",this.tableRowSelected.id])}onActionButtonTemplateList(e=this.tableRowSelected){if(!(e?.id>0)){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/ticketing/template/",this.tableRowSelected.id])}onActionButtonLogList(e=this.tableRowSelected){if(!(e?.id>0)){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/ticketing/departemenlog/DepartemenId/",this.tableRowSelected.id])}onActionButtonTaskList(e=this.tableRowSelected){if(!(e?.id>0)){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/ticketing/task/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess&&(i.set("All",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Y;f.propertyName="recordStatus",f.value=ot.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess&&(i.set("Active",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};an.\u0275fac=function(i){return new(i||an)(b(Ze),b(P),b(ce),b(fe),b(N),b(F),b(ue),b(Ct),b(O),b(je))},an.\u0275cmp=L({type:an,selectors:[["app-ticketing-departemen-list"]],standalone:!1,features:[G],decls:87,vars:42,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-ticket","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-question","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-memo","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=M();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(p){return d(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),m(p)}),T("optionOnActionButtonMemoRow",function(){return d(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(l),m(t.onActionButtonPrintRow())}),w(1,4),c(2," -------------------------------------- "),k(),ie(3,5)(4,6),w(5,7),r(6,"a",8),T("click",function(){return d(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),_(7,"i",9),a(),r(8,"a",8),T("click",function(){return d(l),m(t.onActionButtonReload())}),_(9,"i",10),a(),k(),w(10,11),r(11,"a",12),T("click",function(){return d(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(12,"mat-slide-toggle",13),c(13),h(14,"translate"),a(),r(15,"a",12),T("click",function(){return d(l),m(t.onActionButtonStatist())}),_(16,"mat-slide-toggle",13),c(17),h(18,"translate"),a(),k(),w(19,14),v(20,qr,7,3,"div",15),k(),w(21,16),v(22,Wr,7,3,"div",15),v(23,jr,7,3,"div",15),r(24,"div",15)(25,"a",17),T("click",function(){return d(l),m(t.onActionButtonTaskList(t.tableRowSelected))}),_(26,"i",18)(27,"br"),a(),r(28,"p",19),c(29),h(30,"translate"),a()(),r(31,"div",15)(32,"a",17),T("click",function(){return d(l),m(t.onActionButtonFaqList(t.tableRowSelected))}),_(33,"i",20)(34,"br"),a(),r(35,"p",19),c(36),h(37,"translate"),a()(),r(38,"div",15)(39,"a",17),T("click",function(){return d(l),m(t.onActionButtonTemplateList(t.tableRowSelected))}),_(40,"i",21)(41,"br"),a(),r(42,"p",19),c(43),h(44,"translate"),a()(),r(45,"div",15)(46,"a",17),T("click",function(){return d(l),m(t.onActionButtonLogList(t.tableRowSelected))}),_(47,"i",21)(48,"br"),a(),r(49,"p",19),c(50),h(51,"translate"),a()(),k(),w(52,22),r(53,"app-cms-search-list",23),A("optionsChange",function(p){return d(l),y(t.optionsSearch,p)||(t.optionsSearch=p),m(p)}),a(),r(54,"app-cms-statist-list",23),A("optionsChange",function(p){return d(l),y(t.optionsStatist,p)||(t.optionsStatist=p),m(p)}),a(),k(),w(55,24),r(56,"mat-table",25,0),T("matSortChange",function(){d(l);let p=D(57);return m(t.onTableSortData(p))}),w(58,26),V(59,Ur,3,3,"mat-header-cell",27)(60,Kr,2,1,"mat-cell",28),k(),w(61,29),V(62,zr,2,1,"mat-header-cell",27)(63,Jr,2,1,"mat-cell",28),k(),w(64,30),V(65,Yr,2,1,"mat-header-cell",27)(66,Xr,4,5,"mat-cell",28),k(),w(67,31),V(68,Zr,2,1,"mat-header-cell",27)(69,el,5,7,"mat-cell",32),k(),w(70,33),V(71,tl,2,1,"mat-header-cell",27)(72,il,2,1,"mat-cell",28),k(),w(73,34),V(74,nl,2,1,"mat-header-cell",27)(75,ol,3,3,"mat-cell",28),k(),w(76,35),V(77,al,2,1,"mat-header-cell",27)(78,rl,3,3,"mat-cell",28),k(),w(79,36),V(80,ll,3,3,"mat-header-cell",37)(81,sl,6,1,"mat-cell",38),k(),V(82,cl,1,0,"mat-header-row",39)(83,dl,1,2,"mat-row",40),a(),k(),w(84,41),r(85,"mat-paginator",42,1),T("page",function(p){return d(l),m(t.onTablePageingData(p))}),a(),k(),a()}i&2&&(S("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","ticketing.departemen.list"),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),S("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),S("checked",t.optionsSearch.data.show),o(),g("",C(14,29,"ACTION.SEARCH")," "),o(3),S("checked",t.optionsStatist.data.show),o(),g("",C(18,31,"ACTION.STATIST")," "),o(3),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(6),g(" ",C(30,33,"ACTION.TICKETS")," "),o(7),g(" ",C(37,35,"ACTION.QUESTIONS")," "),o(7),g(" ",C(44,37,"ACTION.TEMPLATES")," "),o(7),g(" ",C(51,39,"ACTION.LOGS")," "),o(3),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),S("dataSource",t.tableSource),o(26),S("matHeaderRowDef",t.tabledisplayedColumns),o(),S("matRowDefColumns",t.tabledisplayedColumns),o(2),S("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(41,Pr)))},dependencies:[Me,He,et,tt,q,at,rt,me,pe,lt,st,ct,mt,_t,pt,dt,gt,ut,ft,St,ht,ge,Se,bt,he,it,qe,B,vt,mi,Ue,xe,ti],encapsulation:2});var rn=an;var ml=()=>[5,10,20,100],pl=(n,s)=>s.id;function ul(n,s){if(n&1){let e=M();r(0,"div",16)(1,"a",25),T("click",function(){d(e);let t=u();return m(t.onActionButtonNewRow())}),_(2,"i",26)(3,"br"),a(),r(4,"p",27),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.ADD")," "))}function fl(n,s){if(n&1){let e=M();r(0,"div",16)(1,"a",28),T("click",function(){d(e);let t=u();return m(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",29)(3,"br"),a(),r(4,"p",27),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.EDIT")," "))}function _l(n,s){if(n&1){let e=M();r(0,"div",16)(1,"a",30),T("click",function(){d(e);let t=u();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",31)(3,"br"),a(),r(4,"p",27),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.DELETE")," "))}function gl(n,s){if(n&1){let e=M();r(0,"div",16)(1,"a",32),T("click",function(){d(e);let t=u();return m(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",33)(3,"br"),a(),r(4,"p",27),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.VIEW")," "))}function Sl(n,s){if(n&1&&_(0,"select",43),n&2){let e=u(2).$implicit,i=u(2);S("contentService",i.contentService)("row",e)}}function hl(n,s){if(n&1&&(r(0,"div",40),_(1,"i",42),h(2,"statusIconClass"),v(3,Sl,1,2,"select",43),a()),n&2){let e=u().$implicit,i=u(2);o(),S("ngClass",C(2,2,e.recordStatus)),o(2),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function Cl(n,s){if(n&1){let e=M();r(0,"div",41)(1,"div",40)(2,"span",44),T("click",function(t){return d(e),u(3).onActionCopied(),m(t.stopPropagation())}),_(3,"i",45),a(),c(4),a()()}if(n&2){let e=u().$implicit;o(2),S("cdkCopyToClipboard",e.id.toString()),o(2),g(" ID: ",e.id," ")}}function Tl(n,s){if(n&1){let e=M();r(0,"div",35),T("click",function(t){let l=d(e).$implicit,f=u(2);return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=d(e).$implicit,f=u(2);return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=d(e).$implicit,l=u(2);return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,l=u(2);return m(l.onActionTableRowMouseLeave(t))}),r(1,"div",36),_(2,"i",37),h(3,"statusIconClass"),a(),r(4,"div",38)(5,"div",39),c(6),a(),v(7,hl,4,4,"div",40),v(8,Cl,5,2,"div",41),a()()}if(n&2){let e=s.$implicit,i=u(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),Le("aria-label",e.title||e.id),o(2),S("ngClass",C(3,7,e.recordStatus)),o(4),g(" ",e.title||"ID: "+e.id," "),o(),I(e.recordStatus!==void 0?7:-1),o(),I(i.getRowExpanded(e)?8:-1)}}function bl(n,s){if(n&1&&(r(0,"div",21),Oe(1,Tl,9,9,"div",34,pl),a()),n&2){let e=u();o(),Ge(e.dataModelResult.listItems)}}function vl(n,s){n&1&&(r(0,"div",22),c(1),h(2,"translate"),a()),n&2&&(o(),R(C(2,1,"MESSAGE.NoRecord")))}var wi=class wi extends rn{};wi.\u0275fac=(()=>{let s;return function(i){return(s||(s=yt(wi)))(i||wi)}})(),wi.\u0275cmp=L({type:wi,selectors:[["app-ticketing-departemen-list-mobile"]],standalone:!1,features:[G],decls:37,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(e,i){if(e&1){let t=M();r(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(f){return d(t),y(i.viewGuideNotice,f)||(i.viewGuideNotice=f),m(f)}),T("optionOnActionButtonMemoRow",function(){return d(t),m(i.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(t),m(i.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(t),m(i.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(t),m(i.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return d(t),m(i.onActionLoadNextPage())}),ie(1,2)(2,3)(3,4),w(4,5),r(5,"a",6),T("click",function(){return d(t),m(i.viewGuideNotice=!i.viewGuideNotice)}),_(6,"i",7),a(),r(7,"a",6),T("click",function(){return d(t),m(i.onActionButtonReload())}),_(8,"i",8),a(),r(9,"a",9),T("click",function(){return d(t),m(i.onActionGridExpandRows(!0))}),_(10,"i",10),a(),r(11,"a",9),T("click",function(){return d(t),m(i.onActionGridExpandRows(!1))}),_(12,"i",11),a(),k(),w(13,12),r(14,"a",13),T("click",function(){return d(t),m(i.optionsSearch.data.show=!i.optionsSearch.data.show)}),_(15,"mat-slide-toggle",14),c(16),h(17,"translate"),a(),r(18,"a",13),T("click",function(){return d(t),m(i.onActionButtonStatist())}),_(19,"mat-slide-toggle",14),c(20),h(21,"translate"),a(),k(),w(22,15),v(23,ul,7,3,"div",16),k(),w(24,17),v(25,fl,7,3,"div",16),v(26,_l,7,3,"div",16),v(27,gl,7,3,"div",16),k(),w(28,18),r(29,"app-cms-search-list",19),A("optionsChange",function(f){return d(t),y(i.optionsSearch,f)||(i.optionsSearch=f),m(f)}),a(),r(30,"app-cms-statist-list",19),A("optionsChange",function(f){return d(t),y(i.optionsStatist,f)||(i.optionsStatist=f),m(f)}),a(),k(),w(31,20),v(32,bl,3,0,"div",21)(33,vl,3,3,"div",22),k(),w(34,23),r(35,"mat-paginator",24,0),T("page",function(){return d(t),m(i.onTablePageingData())}),a(),k(),a()}e&2&&(S("optionsListInfoAreaId",i.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",i.viewGuideNotice),S("optionTreeDisplay",!1)("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplay",(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",i.tableRowSelect2Click)("optionActionRowDisplayMenuAct",i.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(i.tableRowSelected==null?null:i.tableRowSelected.title)||(i.tableRowSelected==null?null:i.tableRowSelected.id)),o(8),H("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),o(7),S("checked",i.optionsSearch.data.show),o(),g(" ",C(17,26,"ACTION.SEARCH")),o(3),S("checked",i.optionsStatist.data.show),o(),g(" ",C(21,28,"ACTION.STATIST")),o(3),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?23:-1),o(2),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?25:-1),o(),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?26:-1),o(),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?27:-1),o(2),E("options",i.optionsSearch),o(),E("options",i.optionsStatist),o(2),I(!(i.dataModelResult==null||i.dataModelResult.listItems==null)&&i.dataModelResult.listItems.length?32:33),o(3),S("length",i.dataModelResult.totalRowCount)("pageIndex",i.dataModelResult.currentPageNumber-1)("pageSize",i.dataModelResult.rowPerPage)("pageSizeOptions",se(30,ml)))},dependencies:[Me,q,me,pe,xt,ge,Se,Vt,he,it,B,xe],encapsulation:2});var _o=wi;function Il(n,s){if(n&1){let e=M();r(0,"button",13),T("click",function(){d(e);let t=u();return m(t.onActionAdd())}),c(1),h(2,"translate"),a()}n&2&&(o(),g(" ",C(2,1,"ACTION.ADD")," "))}function Ml(n,s){if(n&1){let e=M();r(0,"button",14),T("click",function(){d(e);let t=u();return m(t.onActionEdit())}),c(1),h(2,"translate"),a()}n&2&&(o(),g(" ",C(2,1,"ACTION.EDIT")," "))}function wl(n,s){if(n&1){let e=M();r(0,"button",15),T("click",function(){d(e);let t=u();return m(t.onActionDelete())}),c(1),h(2,"translate"),a()}n&2&&(o(),g(" ",C(2,1,"ACTION.DELETE")," "))}function kl(n,s){if(n&1){let e=M();r(0,"button",16),T("click",function(){d(e);let t=u();return m(t.onActionButtonReload())}),r(1,"mat-icon",17),h(2,"translate"),c(3,"refresh"),a()()}if(n&2){let e=u();o(),H("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),S("title",x(C(2,4,"ACTION.RELOAD")))}}function El(n,s){if(n&1){let e=M();r(0,"mat-tree-node",18),_(1,"button",19),r(2,"span",20),T("click",function(){let t=d(e).$implicit,l=u();return m(l.onActionSelect(t))}),c(3),a()()}if(n&2){let e=s.$implicit,i=u();H("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),R(e.title)}}function yl(n,s){if(n&1){let e=M();r(0,"mat-tree-node",21)(1,"button",22)(2,"mat-icon",23),c(3),a()(),r(4,"span",20),T("click",function(){let t=d(e).$implicit,l=u();return m(l.onActionSelect(t))}),c(5),a()()}if(n&2){let e=s.$implicit,i=u(),t=D(10);H("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),S("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),Le("type","button")("aria-label","Toggle "+e.title),o(2),g(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),R(e.title)}}var sn=class sn{constructor(s,e,i,t,l,f,p,J,ee){this.cmsToastrService=s;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=l;this.publicHelper=f;this.tokenHelper=p;this.cmsStoreService=J;this.translate=ee;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Xe;this.dataModelResult=new Q;this.filterModel=new Z;this.dataSource=new Jo;this.optionChange=new hi;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(s,e)=>!1;this.childrenAccessor=s=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(()=>te(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess&&(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onActionSelect(s){s&&this.dataModelSelect&&s.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Xe,this.DataGetAll()}onActionSelectForce(s){}onActionAdd(){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(tn,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let s=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(s=this.dataModelSelect.id),s===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Wt,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let s=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(s=this.dataModelSelect.id),s===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(on,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};sn.\u0275fac=function(e){return new(e||sn)(b(P),b(K),b(Ze),b(je),b(N),b(O),b(fe),b(ue),b(F))},sn.\u0275cmp=L({type:sn,selectors:[["app-ticketing-departemen-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:14,vars:14,consts:[["treeTagControl",""],[3,"optionListTitle","optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),h(1,"translate"),w(2,2),v(3,Il,3,3,"button",3),v(4,Ml,3,3,"button",4),v(5,wl,3,3,"button",5),v(6,kl,4,6,"button",6),k(),w(7,7),_(8,"app-progress-spinner",8),r(9,"mat-tree",9,0),V(11,El,4,3,"mat-tree-node",10)(12,yl,6,8,"mat-tree-node",11),a(),k(),ie(13,12),a()),e&2&&(S("optionListTitle",C(1,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName)))("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(3),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?3:-1),o(),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?4:-1),o(),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?5:-1),o(),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?6:-1),o(2),S("optionsInfoAreaId",i.constructorInfoAreaId),o(),S("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),S("matTreeNodeDefWhen",i.hasChild))},dependencies:[et,tt,Uo,Qo,zo,Ko,jo,U,ta,B],encapsulation:2});var nt=sn;var Al=()=>[5,10,20,100],Rl=n=>({display:n});function Dl(n,s){if(n&1){let e=M();r(0,"a",39),T("click",function(){d(e);let t=u();return m(t.onActionBackToParent())}),_(1,"i",40),a()}}function xl(n,s){if(n&1){let e=M();r(0,"div",18)(1,"a",41),T("click",function(){d(e);let t=u();return m(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",42)(3,"br"),a(),r(4,"p",43),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.EDIT")," "))}function Ll(n,s){if(n&1&&(r(0,"mat-header-cell",44),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Vl(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),g(" ",e.id," ")}}function Bl(n,s){if(n&1&&(r(0,"mat-header-cell",44),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Nl(n,s){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"cmssiteinfo"),h(3,"async"),a()),n&2){let e=s.$implicit;o(),g(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function Fl(n,s){if(n&1&&(r(0,"mat-header-cell",44),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ol(n,s){if(n&1&&_(0,"select",46),n&2){let e=u().$implicit,i=u();S("contentService",i.contentService)("row",e)("ngStyle",Pe(3,Rl,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Gl(n,s){if(n&1&&(r(0,"mat-cell",45),h(1,"statusCellClass"),_(2,"i",45),h(3,"statusIconClass"),v(4,Ol,1,5,"select",46),a()),n&2){let e=s.$implicit,i=u();S("ngClass",C(1,3,e.recordStatus)),o(2),S("ngClass",C(3,5,e.recordStatus)),o(2),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function Pl(n,s){if(n&1&&(r(0,"mat-header-cell",44),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Hl(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),g(" ",e.title," ")}}function ql(n,s){if(n&1&&(r(0,"mat-header-cell",44),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Wl(n,s){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),g(" ",C(2,1,e.createdDate)," ")}}function jl(n,s){if(n&1&&(r(0,"mat-header-cell",44),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Ul(n,s){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),g(" ",C(2,1,e.updatedDate)," ")}}function Ql(n,s){n&1&&(r(0,"mat-header-cell"),c(1),h(2,"translate"),a()),n&2&&(o(),g(" ",C(2,1,"TITLE.OPTION")," "))}function Kl(n,s){if(n&1&&(r(0,"mat-cell",47)(1,"button",48)(2,"mat-icon"),c(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let e=D(5);o(),S("matMenuTriggerFor",e)}}function zl(n,s){n&1&&_(0,"mat-header-row")}function Jl(n,s){if(n&1){let e=M();r(0,"mat-row",49),T("click",function(t){let l=d(e).$implicit,f=u();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=d(e).$implicit,f=u();return m(f.onActionTableRowSelect(l,t))}),a()}if(n&2){let e=s.$implicit,i=u();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var cn=class cn extends Tt{constructor(e,i,t,l,f,p,J,ee,ze,Je,Qt){super(e,new ko,Je,f,ee);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.router=l;this.tokenHelper=f;this.cmsStoreService=p;this.cdr=J;this.translate=ee;this.pageInfo=ze;this.publicHelper=Je;this.dialog=Qt;this.requestDepartemenId=0;this.requestOperatorId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Z;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","LinkSourceId","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","LinkSourceId","createdDate","updatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.requestDepartemenId=+Number(this.activatedRoute.snapshot.paramMap.get("DepartemenId")),this.requestOperatorId=+Number(this.activatedRoute.snapshot.paramMap.get("OperatorId")),this.optionsSearch.parentMethods={onSubmit:Mt=>this.onSubmitOptionsSearch(Mt)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=j.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>te(this,null,function*(){this.tokenInfo=i,this.DataGetAll()})));let e=new Y;this.requestOperatorId>0&&(e.propertyName="LinkFromOperatorId",e.value=this.requestOperatorId,this.filteModelContent.filters.push(e)),this.requestDepartemenId>0&&(e=new Y,e.propertyName="LinkFromTicketingDepartemenId",e.value=this.requestDepartemenId,e.clauseType=ai.Or,this.filteModelContent.filters.push(e),e=new Y,e.propertyName="LinkToTicketingDepartemenId",e.value=this.requestDepartemenId,e.clauseType=ai.Or,this.filteModelContent.filters.push(e))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ko);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0){let t=new Y;t.propertyName="LinkFromTicketingDepartemenId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Z,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/application/app/edit/",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}this.router.navigate(["/application/app/delete/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess&&(i.set("All",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Y;f.propertyName="recordStatus",f.value=ot.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess&&(i.set("Active",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.requestOperatorId>0&&this.router.navigate(["/application/app/"]),this.requestDepartemenId>0&&this.router.navigate(["/ticketing/departemen/"])}};cn.\u0275fac=function(i){return new(i||cn)(b(jn),b(we),b(P),b(ce),b(fe),b(ue),b(N),b(F),b(Ct),b(O),b(je))},cn.\u0275cmp=L({type:cn,selectors:[["app-application-app-list"]],standalone:!1,features:[G],decls:55,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=M();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(p){return d(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),m(p)}),T("optionOnActionButtonMemoRow",function(){return d(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(l),m(t.onActionButtonPrintRow())}),w(1,4),r(2,"app-ticketing-departemen-tree",5),T("optionChange",function(p){return d(l),m(t.onActionSelectorSelect(p))}),a(),k(),ie(3,6)(4,7),w(5,8),v(6,Dl,2,0,"a",9),r(7,"a",10),T("click",function(){return d(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",11),a(),r(9,"a",10),T("click",function(){return d(l),m(t.onActionButtonReload())}),_(10,"i",12),a(),k(),w(11,13),r(12,"a",14),T("click",function(){return d(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(13,"mat-slide-toggle",15),c(14),h(15,"translate"),a(),r(16,"a",14),T("click",function(){return d(l),m(t.onActionButtonStatist())}),_(17,"mat-slide-toggle",15),c(18),h(19,"translate"),a(),k(),ie(20,16),w(21,17),v(22,xl,7,3,"div",18),k(),w(23,19),r(24,"app-cms-search-list",20),A("optionsChange",function(p){return d(l),y(t.optionsSearch,p)||(t.optionsSearch=p),m(p)}),a(),r(25,"app-cms-statist-list",20),A("optionsChange",function(p){return d(l),y(t.optionsStatist,p)||(t.optionsStatist=p),m(p)}),a(),k(),w(26,21),r(27,"mat-table",22,0),T("matSortChange",function(){d(l);let p=D(28);return m(t.onTableSortData(p))}),w(29,23),V(30,Ll,2,1,"mat-header-cell",24)(31,Vl,2,1,"mat-cell",25),k(),w(32,26),V(33,Bl,2,1,"mat-header-cell",24)(34,Nl,4,5,"mat-cell",25),k(),w(35,27),V(36,Fl,2,1,"mat-header-cell",24)(37,Gl,5,7,"mat-cell",28),k(),w(38,29),V(39,Pl,2,1,"mat-header-cell",24)(40,Hl,2,1,"mat-cell",25),k(),w(41,30),V(42,ql,2,1,"mat-header-cell",24)(43,Wl,3,3,"mat-cell",25),k(),w(44,31),V(45,jl,2,1,"mat-header-cell",24)(46,Ul,3,3,"mat-cell",25),k(),w(47,32),V(48,Ql,3,3,"mat-header-cell",33)(49,Kl,6,1,"mat-cell",34),k(),V(50,zl,1,0,"mat-header-row",35)(51,Jl,1,2,"mat-row",36),a(),k(),w(52,37),r(53,"mat-paginator",38,1),T("page",function(p){return d(l),m(t.onTablePageingData(p))}),a(),k(),a()}i&2&&(S("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),S("optionTreeDisplay",t.requestDepartemenId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),I(t.requestDepartemenId>0?6:-1),o(4),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),S("checked",t.optionsSearch.data.show),o(),g("",C(15,24,"ACTION.SEARCH")," "),o(3),S("checked",t.optionsStatist.data.show),o(),g("",C(19,26,"ACTION.STATIST")," "),o(4),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),S("dataSource",t.tableSource),o(23),S("matHeaderRowDef",t.tabledisplayedColumns),o(),S("matRowDefColumns",t.tabledisplayedColumns),o(2),S("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(28,Al)))},dependencies:[Me,He,et,tt,q,at,rt,me,pe,lt,st,ct,mt,_t,pt,dt,gt,ut,ft,St,ht,ge,Se,bt,he,it,nt,qe,B,vt,Ue,xe,ti],encapsulation:2});var Ei=cn;var Yl=()=>[5,10,20,100],Xl=(n,s)=>s.id;function Zl(n,s){if(n&1&&(r(0,"div",30),_(1,"i",32),c(2),h(3,"localeDate"),a()),n&2){let e=u().$implicit,i=u(2);o(2),Ve(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",C(3,2,e.createdDate)," ")}}function $l(n,s){if(n&1&&(r(0,"div",30),_(1,"i",33),c(2),h(3,"localeDate"),a()),n&2){let e=u().$implicit,i=u(2);o(2),Ve(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",C(3,2,e.updatedDate)," ")}}function es(n,s){if(n&1&&(r(0,"div",30),_(1,"i",34),h(2,"statusIconClass"),a()),n&2){let e=u().$implicit;o(),S("ngClass",C(2,1,e.recordStatus))}}function ts(n,s){if(n&1){let e=M();r(0,"div",31)(1,"div",30)(2,"span",35),T("click",function(t){return d(e),u(3).onActionCopied(),m(t.stopPropagation())}),_(3,"i",36),a(),c(4),a()()}if(n&2){let e=u().$implicit;o(2),S("cdkCopyToClipboard",(e.id==null?null:e.id.toString())||""),o(2),g(" ID: ",e.id," ")}}function is(n,s){if(n&1){let e=M();r(0,"div",25),T("click",function(t){let l=d(e).$implicit,f=u(2);return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=d(e).$implicit,f=u(2);return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=d(e).$implicit,l=u(2);return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,l=u(2);return m(l.onActionTableRowMouseLeave(t))}),r(1,"div",26),_(2,"i",27),h(3,"statusIconClass"),a(),r(4,"div",28)(5,"div",29),c(6),a(),v(7,Zl,4,4,"div",30),v(8,$l,4,4,"div",30),v(9,es,3,3,"div",30),v(10,ts,5,2,"div",31),a()()}if(n&2){let e=s.$implicit,i=u(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),Le("aria-label",e.id||""),o(2),S("ngClass",C(3,9,e.recordStatus)),o(4),g(" ID: ",e.id," "),o(),I(e.createdDate?7:-1),o(),I(e.updatedDate?8:-1),o(),I(e.recordStatus!==void 0?9:-1),o(),I(i.getRowExpanded(e)?10:-1)}}function ns(n,s){if(n&1&&(r(0,"div",20),Oe(1,is,11,11,"div",24,Xl),a()),n&2){let e=u();o(),Ge(e.dataModelResult.listItems)}}function os(n,s){n&1&&(r(0,"div",21),c(1),h(2,"translate"),a()),n&2&&(o(),g(" ",C(2,1,"MESSAGE.NoRecord")," "))}var yi=class yi extends Ei{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}};yi.\u0275fac=(()=>{let e;return function(t){return(e||(e=yt(yi)))(t||yi)}})(),yi.\u0275cmp=L({type:yi,selectors:[["app-application-app-list-mobile"]],hostBindings:function(i,t){i&1&&T("click",function(f){return t.onDocumentClick(f)},Kt)},standalone:!1,features:[G],decls:33,vars:27,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-calendar-plus"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"],[3,"ngClass"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(i,t){if(i&1){let l=M();r(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(p){return d(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),m(p)}),T("optionOnActionButtonMemoRow",function(){return d(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(l),m(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return d(l),m(t.onActionLoadNextPage())}),ie(1,2)(2,3)(3,4),w(4,5),r(5,"a",6),T("click",function(){return d(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),_(6,"i",7),a(),r(7,"a",6),T("click",function(){return d(l),m(t.onActionButtonReload())}),_(8,"i",8),a(),r(9,"a",9),T("click",function(){return d(l),m(t.onActionGridExpandRows(!0))}),_(10,"i",10),a(),r(11,"a",9),T("click",function(){return d(l),m(t.onActionGridExpandRows(!1))}),_(12,"i",11),a(),k(),w(13,12),r(14,"a",13),T("click",function(){return d(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(15,"mat-slide-toggle",14),c(16),h(17,"translate"),a(),r(18,"a",13),T("click",function(){return d(l),m(t.onActionButtonStatist())}),_(19,"mat-slide-toggle",14),c(20),h(21,"translate"),a(),k(),ie(22,15)(23,16),w(24,17),r(25,"app-cms-search-list",18),A("optionsChange",function(p){return d(l),y(t.optionsSearch,p)||(t.optionsSearch=p),m(p)}),a(),r(26,"app-cms-statist-list",18),A("optionsChange",function(p){return d(l),y(t.optionsStatist,p)||(t.optionsStatist=p),m(p)}),a(),k(),w(27,19),v(28,ns,3,0,"div",20)(29,os,3,3,"div",21),k(),w(30,22),r(31,"mat-paginator",23,0),T("page",function(p){return d(l),m(t.onTablePageingData(p))}),a(),k(),a()}i&2&&(S("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),S("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null?null:t.tableRowSelected.id)||""),o(8),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),S("checked",t.optionsSearch.data.show),o(),g("",C(17,22,"ACTION.SEARCH")," "),o(3),S("checked",t.optionsStatist.data.show),o(),g("",C(21,24,"ACTION.STATIST")," "),o(5),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),I(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?28:29),o(3),S("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(26,Yl)))},dependencies:[Me,me,pe,xt,ge,Se,Vt,he,B,Ue,xe],encapsulation:2});var Rn=yi;var ls=["vform"];function ss(n,s){if(n&1){let e=M();r(0,"app-cms-enum-record-status-selector",18),A("modelChange",function(t){d(e);let l=u();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),a()}if(n&2){let e=u();E("model",e.dataModel.recordStatus),S("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function cs(n,s){n&1&&_(0,"i",13)}function ds(n,s){n&1&&_(0,"i",14)}function ms(n,s){n&1&&(r(0,"mat-error"),c(1," Question is "),r(2,"strong"),c(3),h(4,"translate"),a()()),n&2&&(o(3),R(C(4,1,"MESSAGE.required")))}function ps(n,s){if(n&1){let e=M();r(0,"div",17)(1,"button",19),T("click",function(){d(e);let t=u();return m(t.onFormCancel())}),_(2,"i",20),c(3),h(4,"translate"),a(),r(5,"button",21),_(6,"i",22),c(7),h(8,"translate"),a()()}if(n&2){u();let e=D(10);o(3),g(" ",C(4,3,"ACTION.CANCEL")," "),o(2),S("disabled",!e.form.valid),o(2),g(" ",C(8,5,"ACTION.SAVE")," ")}}var dn=class dn extends Lt{constructor(e,i,t,l,f,p,J,ee){super(l,new Dt,p,ee);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.ticketingFaqService=l;this.cmsToastrService=f;this.publicHelper=p;this.cdr=J;this.translate=ee;this.requestParentId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.formMatcher=new pi;this.dataModelResult=new Q;this.dataModel=new Dt;this.dataFileModel=new Map;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestParentId=+e.parentId||0),this.requestParentId>0&&(this.dataModel.linkTicketingDepartemenId=this.requestParentId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Submit_New_Content").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";if(this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataModel.linkFileIds="",this.dataFileModel){let i=Array.from(this.dataFileModel.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}this.ticketingFaqService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectorSelect(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Information_department_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkTicketingDepartemenId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};dn.\u0275fac=function(i){return new(i||dn)(b(ve),b(de),b(K),b(Yt),b(P),b(O),b(N),b(F))},dn.\u0275cmp=L({type:dn,selectors:[["app-ticketing-faq-add"]],viewQuery:function(i,t){if(i&1&&ne(ls,5),i&2){let l;oe(l=ae())&&(t.formGroup=l.first)}},standalone:!1,features:[G],decls:34,vars:34,consts:[["vform","ngForm"],["Question",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.question",1,"color-highlight"],["matInput","","type","text","name","dataModel.question","minlength","3","maxlength","1000","required","","id","dataModel.question",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["id","Answer","name","dataModel.answer",3,"ngModelChange","placeholder","config","ngModel"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=M();r(0,"div",2),_(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",6),r(9,"form",7,0),T("ngSubmit",function(){return d(l),m(t.onFormSubmit())}),v(11,ss,1,5,"app-cms-enum-record-status-selector",8),r(12,"app-ticketing-departemen-selector",9),h(13,"translate"),T("optionChange",function(p){return d(l),m(t.onActionSelectorSelect(p))}),a(),r(14,"div",10)(15,"label",11),c(16),h(17,"translate"),a(),r(18,"input",12,1),h(20,"translate"),A("ngModelChange",function(p){return d(l),y(t.dataModel.question,p)||(t.dataModel.question=p),m(p)}),a(),v(21,cs,1,0,"i",13),v(22,ds,1,0,"i",14),r(23,"em"),c(24),a(),v(25,ms,5,3,"mat-error"),a(),r(26,"p"),c(27),h(28,"translate"),a(),r(29,"angular-editor",15),h(30,"translate"),A("ngModelChange",function(p){return d(l),y(t.dataModel.answer,p)||(t.dataModel.answer=p),m(p)}),a(),_(31,"br"),r(32,"app-cms-files-selector",16),A("dataFileModelChange",function(p){return d(l),y(t.dataFileModel,p)||(t.dataFileModel=p),m(p)}),a(),v(33,ps,9,7,"div",17),a()()()}if(i&2){let l=D(19);o(),S("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",C(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),S("formInfo",t.formInfo),o(3),I(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),S("optionSelectForce",t.dataModel.linkTicketingDepartemenId)("optionPlaceholder",C(13,24,"TITLE.Department")),o(4),R(C(17,26,"TITLE.Question")),o(2),S("placeholder",x(C(20,28,"TITLE.Question"))),E("ngModel",t.dataModel.question),o(3),I(l.value?-1:21),o(),I(l.value?22:-1),o(2),g("",l.value.length," / 100"),o(),I(l.errors!=null&&l.errors.required?25:-1),o(2),R(C(28,30,"TITLE.Answer")),o(2),S("placeholder",C(30,32,"TITLE.Enter_Text"))("config",t.publicHelper.editorConfig),E("ngModel",t.dataModel.answer),o(3),E("dataFileModel",t.dataFileModel),S("openDirectUploadView",!0),o(),I(t.formInfo.submitButtonEnabled?33:-1)}},dependencies:[ye,re,le,ke,Ae,Re,De,be,Ee,We,q,Ne,U,_e,so,ao,Qe,B],encapsulation:2});var go=dn;var us=["vform"];function fs(n,s){if(n&1){let e=M();r(0,"app-cms-enum-record-status-selector",18),A("modelChange",function(t){d(e);let l=u();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),a()}if(n&2){let e=u();E("model",e.dataModel.recordStatus),S("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function _s(n,s){n&1&&_(0,"i",13)}function gs(n,s){n&1&&_(0,"i",14)}function Ss(n,s){n&1&&(r(0,"mat-error"),c(1," Question is "),r(2,"strong"),c(3),h(4,"translate"),a()()),n&2&&(o(3),R(C(4,1,"MESSAGE.required")))}function hs(n,s){if(n&1){let e=M();r(0,"div",17)(1,"button",19),T("click",function(){d(e);let t=u();return m(t.onFormCancel())}),_(2,"i",20),c(3),h(4,"translate"),a(),r(5,"button",21),_(6,"i",22),c(7),h(8,"translate"),a()()}if(n&2){u();let e=D(10);o(3),g(" ",C(4,3,"ACTION.CANCEL")," "),o(2),S("disabled",!e.form.valid),o(2),g(" ",C(8,5,"ACTION.SAVE")," ")}}var mn=class mn extends ei{constructor(e,i,t,l,f,p,J,ee){super(l,new Dt,p,ee);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.ticketingFaqService=l;this.cmsToastrService=f;this.publicHelper=p;this.cdr=J;this.translate=ee;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.formMatcher=new pi;this.dataModelResult=new At;this.dataModel=new Dt;this.dataFileModel=new Map;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.requestId<=0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingFaqService.setAccessLoad(),this.ticketingFaqService.setAccessDataType(Rt.Editor),this.ticketingFaqService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.question,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((t,l)=>{let f="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIds.length&&(f=this.dataModel.linkFileIdsSrc[l]),this.dataFileModel.set(+t,f)})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataModel.linkFileIds="",this.dataFileModel){let i=Array.from(this.dataFileModel.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}this.ticketingFaqService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectorSelect(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Information_department_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkTicketingDepartemenId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};mn.\u0275fac=function(i){return new(i||mn)(b(ve),b(de),b(K),b(Yt),b(P),b(O),b(N),b(F))},mn.\u0275cmp=L({type:mn,selectors:[["app-ticketing-faq-add"]],viewQuery:function(i,t){if(i&1&&ne(us,5),i&2){let l;oe(l=ae())&&(t.formGroup=l.first)}},standalone:!1,features:[G],decls:34,vars:34,consts:[["vform","ngForm"],["Question",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.question",1,"color-highlight"],["matInput","","type","text","name","dataModel.question","minlength","3","maxlength","1000","required","","id","dataModel.question",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["id","Answer","name","dataModel.answer",3,"ngModelChange","placeholder","config","ngModel"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=M();r(0,"div",2),_(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",6),r(9,"form",7,0),T("ngSubmit",function(){return d(l),m(t.onFormSubmit())}),v(11,fs,1,5,"app-cms-enum-record-status-selector",8),r(12,"app-ticketing-departemen-selector",9),h(13,"translate"),T("optionChange",function(p){return d(l),m(t.onActionSelectorSelect(p))}),a(),r(14,"div",10)(15,"label",11),c(16),h(17,"translate"),a(),r(18,"input",12,1),h(20,"translate"),A("ngModelChange",function(p){return d(l),y(t.dataModel.question,p)||(t.dataModel.question=p),m(p)}),a(),v(21,_s,1,0,"i",13),v(22,gs,1,0,"i",14),r(23,"em"),c(24),a(),v(25,Ss,5,3,"mat-error"),a(),r(26,"p"),c(27),h(28,"translate"),a(),r(29,"angular-editor",15),h(30,"translate"),A("ngModelChange",function(p){return d(l),y(t.dataModel.answer,p)||(t.dataModel.answer=p),m(p)}),a(),_(31,"br"),r(32,"app-cms-files-selector",16),A("dataFileModelChange",function(p){return d(l),y(t.dataFileModel,p)||(t.dataFileModel=p),m(p)}),a(),v(33,hs,9,7,"div",17),a()()()}if(i&2){let l=D(19);o(),S("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",C(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),S("formInfo",t.formInfo),o(3),I(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),S("optionSelectForce",t.dataModel.linkTicketingDepartemenId)("optionPlaceholder",C(13,24,"TITLE.Department")),o(4),R(C(17,26,"TITLE.Question")),o(2),S("placeholder",x(C(20,28,"TITLE.Question"))),E("ngModel",t.dataModel.question),o(3),I(l.value?-1:21),o(),I(l.value?22:-1),o(2),g("",l.value.length," / 100"),o(),I(l.errors!=null&&l.errors.required?25:-1),o(2),R(C(28,30,"TITLE.Answer")),o(2),S("placeholder",C(30,32,"TITLE.Enter_Text"))("config",t.publicHelper.editorConfig),E("ngModel",t.dataModel.answer),o(3),E("dataFileModel",t.dataFileModel),S("openDirectUploadView",!0),o(),I(t.formInfo.submitButtonEnabled?33:-1)}},dependencies:[ye,re,le,ke,Ae,Re,De,be,Ee,We,q,Ne,U,_e,so,ao,Qe,B],encapsulation:2});var So=mn;var Cs=()=>[5,10,20,100],Ts=n=>({display:n});function bs(n,s){if(n&1){let e=M();r(0,"a",37),T("click",function(){d(e);let t=u();return m(t.onActionBackToParent())}),_(1,"i",38),a()}}function vs(n,s){if(n&1){let e=M();r(0,"div",17)(1,"a",39),T("click",function(){d(e);let t=u();return m(t.onActionButtonNewRow())}),_(2,"i",40)(3,"br"),a(),r(4,"p",41),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.ADD")," "))}function Is(n,s){if(n&1){let e=M();r(0,"div",17)(1,"a",42),T("click",function(){d(e);let t=u();return m(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",43)(3,"br"),a(),r(4,"p",41),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.EDIT")," "))}function Ms(n,s){if(n&1){let e=M();r(0,"div",17)(1,"a",44),T("click",function(){d(e);let t=u();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",45)(3,"br"),a(),r(4,"p",41),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.DELETE")," "))}function ws(n,s){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ks(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),g(" ",e.id," ")}}function Es(n,s){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ys(n,s){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"cmssiteinfo"),h(3,"async"),a()),n&2){let e=s.$implicit;o(),g(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function As(n,s){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Rs(n,s){if(n&1&&_(0,"select",48),n&2){let e=u().$implicit,i=u();S("contentService",i.contentService)("row",e)("ngStyle",Pe(3,Ts,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Ds(n,s){if(n&1&&(r(0,"mat-cell",47),h(1,"statusCellClass"),_(2,"i",47),h(3,"statusIconClass"),v(4,Rs,1,5,"select",48),a()),n&2){let e=s.$implicit,i=u();S("ngClass",C(1,3,e.recordStatus)),o(2),S("ngClass",C(3,5,e.recordStatus)),o(2),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function xs(n,s){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.question==null?null:e.fieldsInfo.question.fieldTitle," ")}}function Ls(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),g(" ",e.question," ")}}function Vs(n,s){n&1&&(r(0,"mat-header-cell"),c(1),h(2,"translate"),a()),n&2&&(o(),g(" ",C(2,1,"TITLE.OPTION")," "))}function Bs(n,s){if(n&1&&(r(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),c(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let e=D(5);o(),S("matMenuTriggerFor",e)}}function Ns(n,s){n&1&&_(0,"mat-header-row")}function Fs(n,s){if(n&1){let e=M();r(0,"mat-row",51),T("click",function(t){let l=d(e).$implicit,f=u();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=d(e).$implicit,f=u();return m(f.onActionTableRowSelect(l,t))}),a()}if(n&2){let e=s.$implicit,i=u();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var pn=class pn extends Tt{constructor(e,i,t,l,f,p,J,ee,ze,Je,Qt,Mt){super(e,new Dt,Qt,p,ee);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=l;this.router=f;this.tokenHelper=p;this.cdr=J;this.translate=ee;this.pageInfo=ze;this.cmsStoreService=Je;this.publicHelper=Qt;this.dialog=Mt;this.requestDepartemenId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Z;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","Question"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","Question"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:kn=>this.onSubmitOptionsSearch(kn)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=j.Ascending}ngOnInit(){if(this.requestDepartemenId=+Number(this.activatedRoute.snapshot.paramMap.get("DepartemenId")),this.requestDepartemenId>0){let e=new Y;e.propertyName="LinkTicketingDepartemenId",e.value=this.requestDepartemenId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>te(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Dt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0){let t=new Y;t.propertyName="LinkTicketingDepartemenId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null&&this.categoryModelSelected&&this.categoryModelSelected.id===0&&(this.requestDepartemenId==null||this.requestDepartemenId===0)){this.translate.get("MESSAGE.Content_not_selected").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.requestDepartemenId;this.categoryModelSelected&&this.categoryModelSelected.id>0&&(e=this.categoryModelSelected.id);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(go,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{parentId:e}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Z,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(So,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.question+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(f,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(f)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess&&(i.set("All",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Y;f.propertyName="recordStatus",f.value=ot.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess&&(i.set("Active",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}};pn.\u0275fac=function(i){return new(i||pn)(b(Yt),b(we),b(P),b($t),b(ce),b(fe),b(N),b(F),b(Ct),b(ue),b(O),b(je))},pn.\u0275cmp=L({type:pn,selectors:[["app-application-app-list"]],standalone:!1,features:[G],decls:51,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Question"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=M();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(p){return d(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),m(p)}),T("optionOnActionButtonMemoRow",function(){return d(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(l),m(t.onActionButtonPrintRow())}),w(1,4),r(2,"app-ticketing-departemen-tree",5),T("optionChange",function(p){return d(l),m(t.onActionSelectorSelect(p))}),a(),k(),ie(3,6)(4,7),w(5,8),v(6,bs,2,0,"a",9),r(7,"a",10),T("click",function(){return d(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",11),a(),r(9,"a",10),T("click",function(){return d(l),m(t.onActionButtonReload())}),_(10,"i",12),a(),k(),w(11,13),r(12,"a",14),T("click",function(){return d(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(13,"mat-slide-toggle",15),c(14),h(15,"translate"),a(),r(16,"a",14),T("click",function(){return d(l),m(t.onActionButtonStatist())}),_(17,"mat-slide-toggle",15),c(18),h(19,"translate"),a(),k(),w(20,16),v(21,vs,7,3,"div",17),k(),w(22,18),v(23,Is,7,3,"div",17),v(24,Ms,7,3,"div",17),k(),w(25,19),r(26,"app-cms-search-list",20),A("optionsChange",function(p){return d(l),y(t.optionsSearch,p)||(t.optionsSearch=p),m(p)}),a(),r(27,"app-cms-statist-list",20),A("optionsChange",function(p){return d(l),y(t.optionsStatist,p)||(t.optionsStatist=p),m(p)}),a(),k(),w(28,21),r(29,"mat-table",22,0),T("matSortChange",function(){d(l);let p=D(30);return m(t.onTableSortData(p))}),w(31,23),V(32,ws,2,1,"mat-header-cell",24)(33,ks,2,1,"mat-cell",25),k(),w(34,26),V(35,Es,2,1,"mat-header-cell",24)(36,ys,4,5,"mat-cell",25),k(),w(37,27),V(38,As,2,1,"mat-header-cell",24)(39,Ds,5,7,"mat-cell",28),k(),w(40,29),V(41,xs,2,1,"mat-header-cell",24)(42,Ls,2,1,"mat-cell",25),k(),w(43,30),V(44,Vs,3,3,"mat-header-cell",31)(45,Bs,6,1,"mat-cell",32),k(),V(46,Ns,1,0,"mat-header-row",33)(47,Fs,1,2,"mat-row",34),a(),k(),w(48,35),r(49,"mat-paginator",36,1),T("page",function(p){return d(l),m(t.onTablePageingData(p))}),a(),k(),a()}i&2&&(S("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","ticketing.faq.list"),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),S("optionTreeDisplay",t.requestDepartemenId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),I(t.requestDepartemenId>0?6:-1),o(4),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),S("checked",t.optionsSearch.data.show),o(),g("",C(15,26,"ACTION.SEARCH")," "),o(3),S("checked",t.optionsStatist.data.show),o(),g("",C(19,28,"ACTION.STATIST")," "),o(3),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),S("dataSource",t.tableSource),o(17),S("matHeaderRowDef",t.tabledisplayedColumns),o(),S("matRowDefColumns",t.tabledisplayedColumns),o(2),S("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(30,Cs)))},dependencies:[Me,He,et,tt,q,at,rt,me,pe,lt,st,ct,mt,_t,pt,dt,gt,ut,ft,St,ht,ge,Se,bt,he,it,nt,qe,B,vt,xe,ti],encapsulation:2});var Ai=pn;var Os=()=>[5,10,20,100],Gs=(n,s)=>s.id;function Ps(n,s){if(n&1){let e=M();r(0,"a",27),T("click",function(){d(e);let t=u();return m(t.onActionBackToParent())}),_(1,"i",28),a()}}function Hs(n,s){if(n&1){let e=M();r(0,"div",18)(1,"a",29),T("click",function(){d(e);let t=u();return m(t.onActionButtonNewRow())}),_(2,"i",30)(3,"br"),a(),r(4,"p",31),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.ADD")," "))}function qs(n,s){if(n&1){let e=M();r(0,"div",18)(1,"a",32),T("click",function(){d(e);let t=u();return m(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",33)(3,"br"),a(),r(4,"p",31),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.EDIT")," "))}function Ws(n,s){if(n&1){let e=M();r(0,"div",18)(1,"a",34),T("click",function(){d(e);let t=u();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",35)(3,"br"),a(),r(4,"p",31),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.DELETE")," "))}function js(n,s){if(n&1&&(r(0,"div",42),_(1,"i",44),c(2),a()),n&2){let e=u().$implicit,i=u(2);o(2),Ve(" ",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,": ",e.linkSiteId," ")}}function Us(n,s){if(n&1&&_(0,"select",46),n&2){let e=u(2).$implicit,i=u(2);S("contentService",i.contentService)("row",e)}}function Qs(n,s){if(n&1&&(r(0,"div",42),_(1,"i",45),h(2,"statusIconClass"),v(3,Us,1,2,"select",46),a()),n&2){let e=u().$implicit,i=u(2);o(),S("ngClass",C(2,2,e.recordStatus)),o(2),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function Ks(n,s){if(n&1){let e=M();r(0,"div",43)(1,"div",42)(2,"span",47),T("click",function(t){return d(e),u(3).onActionCopied(),m(t.stopPropagation())}),_(3,"i",48),a(),c(4),a()()}if(n&2){let e=u().$implicit;o(2),S("cdkCopyToClipboard",(e.id==null?null:e.id.toString())||""),o(2),g(" ID: ",e.id," ")}}function zs(n,s){if(n&1){let e=M();r(0,"div",37),T("click",function(t){let l=d(e).$implicit,f=u(2);return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=d(e).$implicit,f=u(2);return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=d(e).$implicit,l=u(2);return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,l=u(2);return m(l.onActionTableRowMouseLeave(t))}),r(1,"div",38),_(2,"i",39),h(3,"statusIconClass"),a(),r(4,"div",40)(5,"div",41),c(6),a(),v(7,js,3,2,"div",42),v(8,Qs,4,4,"div",42),v(9,Ks,5,2,"div",43),a()()}if(n&2){let e=s.$implicit,i=u(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),Le("aria-label",e.question||e.id),o(2),S("ngClass",C(3,8,e.recordStatus)),o(4),g(" ",e.question||"ID: "+e.id," "),o(),I(e.linkSiteId?7:-1),o(),I(e.recordStatus!==void 0?8:-1),o(),I(i.getRowExpanded(e)?9:-1)}}function Js(n,s){if(n&1&&(r(0,"div",23),Oe(1,zs,10,10,"div",36,Gs),a()),n&2){let e=u();o(),Ge(e.dataModelResult.listItems)}}function Ys(n,s){n&1&&(r(0,"div",24),c(1),h(2,"translate"),a()),n&2&&(o(),g(" ",C(2,1,"MESSAGE.NoRecord")," "))}var Ri=class Ri extends Ai{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}};Ri.\u0275fac=(()=>{let e;return function(t){return(e||(e=yt(Ri)))(t||Ri)}})(),Ri.\u0275cmp=L({type:Ri,selectors:[["app-application-app-list-mobile"]],hostBindings:function(i,t){i&1&&T("click",function(f){return t.onDocumentClick(f)},Kt)},standalone:!1,features:[G],decls:38,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-globe"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(i,t){if(i&1){let l=M();r(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(p){return d(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),m(p)}),T("optionOnActionButtonMemoRow",function(){return d(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(l),m(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return d(l),m(t.onActionLoadNextPage())}),w(1,2),r(2,"app-ticketing-departemen-tree",3),T("optionChange",function(p){return d(l),m(t.onActionSelectorSelect(p))}),a(),k(),ie(3,4)(4,5),w(5,6),v(6,Ps,2,0,"a",7),r(7,"a",8),T("click",function(){return d(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",9),a(),r(9,"a",8),T("click",function(){return d(l),m(t.onActionButtonReload())}),_(10,"i",10),a(),r(11,"a",11),T("click",function(){return d(l),m(t.onActionGridExpandRows(!0))}),_(12,"i",12),a(),r(13,"a",11),T("click",function(){return d(l),m(t.onActionGridExpandRows(!1))}),_(14,"i",13),a(),k(),w(15,14),r(16,"a",15),T("click",function(){return d(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(17,"mat-slide-toggle",16),c(18),h(19,"translate"),a(),r(20,"a",15),T("click",function(){return d(l),m(t.onActionButtonStatist())}),_(21,"mat-slide-toggle",16),c(22),h(23,"translate"),a(),k(),w(24,17),v(25,Hs,7,3,"div",18),k(),w(26,19),v(27,qs,7,3,"div",18),v(28,Ws,7,3,"div",18),k(),w(29,20),r(30,"app-cms-search-list",21),A("optionsChange",function(p){return d(l),y(t.optionsSearch,p)||(t.optionsSearch=p),m(p)}),a(),r(31,"app-cms-statist-list",21),A("optionsChange",function(p){return d(l),y(t.optionsStatist,p)||(t.optionsStatist=p),m(p)}),a(),k(),w(32,22),v(33,Js,3,0,"div",23)(34,Ys,3,3,"div",24),k(),w(35,25),r(36,"mat-paginator",26,0),T("page",function(p){return d(l),m(t.onTablePageingData(p))}),a(),k(),a()}i&2&&(S("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","ticketing.faq.list"),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),S("optionTreeDisplay",t.requestDepartemenId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null?null:t.tableRowSelected.id)||""),o(6),I(t.requestDepartemenId>0?6:-1),o(4),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),S("checked",t.optionsSearch.data.show),o(),g("",C(19,26,"ACTION.SEARCH")," "),o(3),S("checked",t.optionsStatist.data.show),o(),g("",C(23,28,"ACTION.STATIST")," "),o(3),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?25:-1),o(2),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?27:-1),o(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?28:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),I(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?33:34),o(3),S("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(30,Os)))},dependencies:[Me,q,me,pe,xt,ge,Se,Vt,he,it,nt,B,xe],encapsulation:2});var Dn=Ri;function Xs(n,s){if(n&1&&(r(0,"div",4)(1,"button",5),_(2,"i",6),c(3),_(4,"i",7),a(),r(5,"div",8)(6,"div",9),_(7,"p",10),a()()()),n&2){let e=u().$implicit,i=u().$implicit;o(),Le("data-bs-target","#collapse"+e.id),o(2),g(" ",e.question," "),o(2),S("id",oi("collapse",e.id)),Le("data-bs-parent","#accordion-"+i.id),o(2),S("innerHTML",e.answer,Pn)}}function Zs(n,s){if(n&1&&v(0,Xs,8,6,"div",4),n&2){let e=s.$implicit,i=u().$implicit;I(e.linkTicketingDepartemenId===i.id?0:-1)}}function $s(n,s){if(n&1&&(r(0,"div",1)(1,"div",2)(2,"h4"),c(3),a()(),r(4,"div",3),Oe(5,Zs,1,1,null,null,Ci),a()()),n&2){let e=s.$implicit,i=u();o(3),R(e.title),o(),S("id",oi("accordion-",e.id)),o(),Ge(i.dataModelResult.listItems)}}var un=class un{constructor(s,e,i,t,l,f,p,J,ee){this.ticketingFaqService=s;this.ticketingDepartemenService=e;this.publicHelper=i;this.cmsToastrService=t;this.cmsStoreService=l;this.router=f;this.cdr=p;this.translate=J;this.tokenHelper=ee;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Z;this.filterDataModelQueryBuilder=[];this.dataModelResult=new Q;this.dataDepartemenModelResult=new Q;this.optionsSearch=new ro;this.optionsStatist=new lo;this.tokenInfo=new ci;this.tableRowsSelected=[];this.tableRowSelected=new Dt;this.tableSource=new Wo;this.unsubscribe=[];this.DataDepartemanLinkSelect=0;this.DataFaqLinkSelect=0;this.publicHelper.processService.cdr=this.cdr,this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=j.Ascending}ngOnInit(){this.DataDepartemenGetAll(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>te(this,null,function*(){this.DataDepartemenGetAll(),this.tokenInfo=s,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){this.tableRowsSelected=[],this.onActionTableRowSelect(new Dt);let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(s,i,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let e=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(e.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0){let i=new Y;i.propertyName="LinkTicketingDepartemenId",i.value=this.categoryModelSelected.id,e.filters.push(i)}this.ticketingFaqService.ServiceGetAllOrigin(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?(this.dataModelResult=i,this.tableSource.data=i.listItems):this.cmsToastrService.typeErrorGetAll(i.errorMessage),this.publicHelper.processService.processStop(s)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(s)}})}DataDepartemenGetAll(){this.ticketingDepartemenService.ServiceGetAllOrigin(null).subscribe({next:s=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(s.access),s.isSuccess?this.dataDepartemenModelResult=s:this.cmsToastrService.typeErrorGetAll(s.errorMessage),Promise.resolve().then(()=>this.cdr.detectChanges())},error:s=>{this.cmsToastrService.typeError(s)}})}onTableSortData(s){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===s.active?this.tableSource.sort.start==="asc"?(s.start="desc",this.filteModelContent.sortColumn=s.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(s.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):s.start="desc":(this.filteModelContent.sortColumn=s.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=s,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(s){this.filteModelContent.currentPageNumber=s.pageIndex+1,this.filteModelContent.rowPerPage=s.pageSize,this.DataGetAll()}onActionSelectorSelect(s){var e=this.filteModelContent.sortColumn,i=this.filteModelContent.sortType;this.filteModelContent=new Z,this.filteModelContent.sortColumn=e,this.filteModelContent.sortType=i,this.categoryModelSelected=s,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(s){s&&s.length>0?this.filterDataModelQueryBuilder=[...s]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionTableRowSelect(s){this.tableRowSelected=s,s.expanded||(s.expanded=!1),s.expanded=!s.expanded}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onActionButtonDeparteman(s){this.DataDepartemanLinkSelect=s,this.DataFaqLinkSelect=0}onActionButtonFaqTitle(s){this.DataFaqLinkSelect=s}};un.\u0275fac=function(e){return new(e||un)(b(Yt),b(Ze),b(O),b(P),b(ue),b(ce),b(N),b(F),b(fe))},un.\u0275cmp=L({type:un,selectors:[["app-ticketing-faq-originlist"]],standalone:!1,decls:3,vars:1,consts:[[3,"optionsInfoAreaId"],[1,"card","card-style"],[1,"content"],[1,"accordion",3,"id"],[1,"mb-0"],["type","button","data-bs-toggle","collapse",1,"btn","accordion-btn","no-effect","color-theme"],[1,"fa","fa-cloud","color-yellow-dark","me-2"],[1,"fa","fa-chevron-down","font-10","accordion-icon"],[1,"collapse",3,"id"],[1,"pt-1","pb-2","ps-3","pe-3"],[3,"innerHTML"]],template:function(e,i){e&1&&(_(0,"app-progress-spinner",0),Oe(1,$s,7,3,"div",1,Ci)),e&2&&(S("optionsInfoAreaId",i.constructorInfoAreaId),o(),Ge(i.dataDepartemenModelResult.listItems))},dependencies:[U],encapsulation:2});var fn=un;var ec=["*"];function tc(n,s){if(n&1&&(r(0,"label",3),c(1),a()),n&2){let e=u();S("for",oi("app-cms-site-selector-",e.id)),o(),R(e.optionLabel)}}function ic(n,s){if(n&1&&(r(0,"mat-option",6)(1,"span"),c(2),a()()),n&2){let e=s.$implicit,i=u();S("value",e)("disabled",i.optionDisabled),o(2),R(i.displayOption(e))}}function nc(n,s){n&1&&_(0,"i",7)}function oc(n,s){n&1&&_(0,"i",8)}function ac(n,s){if(n&1){let e=M();r(0,"i",11),T("click",function(){d(e);let t=u();return m(t.onActionSelectClear())}),a()}}function rc(n,s){n&1&&(r(0,"em"),c(1),h(2,"translate"),a()),n&2&&(o(),g("(",C(2,1,"TITLE.Necessary"),")"))}var gi=class gi{constructor(s,e,i,t,l){this.coreEnumService=s;this.cdr=e;this.publicHelper=i;this.translate=t;this.categoryService=l;this.id=++gi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Q;this.dataModelSelect=new wt;this.formControl=new Un;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new hi;this.optionReload=()=>this.onActionButtonReload();this.optionItemCount=new hi;this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Fn(""),Bn(1500),Nn(),On(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return te(this,null,function*(){let e=new Z;e.rowPerPage=20,e.accessLoad=!0;let i=new Y;i.propertyName="title",i.value=s,i.searchType=Fi.Contains,i.clauseType=ai.Or,e.filters.push(i),s&&typeof+s=="number"&&+s>0&&(i=new Y,i.propertyName="id",i.value=s,i.searchType=Fi.Equal,i.clauseType=ai.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield Ln(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems?.length>0?this.optionItemCount.emit(l.listItems?.length):this.optionItemCount.emit(0),l.listItems))})}onActionSelect(s){this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(s){return this.filteredOptions.pipe(Vn(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="number"&&s>0){if(this.dataModelSelect&&this.dataModelSelect.id===s)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===s)){let e=this.dataModelResult.listItems.find(i=>i.id===s);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(s).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof s==typeof wt){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new wt,this.loadOptions()}};gi.nextId=0,gi.\u0275fac=function(e){return new(e||gi)(b(K),b(N),b(O),b(F),b(Xt))},gi.\u0275cmp=L({type:gi,selectors:[["app-ticketing-template-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionItemCount:"optionItemCount"},standalone:!1,ngContentSelectors:ec,decls:16,vars:23,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=M();qn(),r(0,"div",1),_(1,"app-progress-spinner",2),v(2,tc,2,3,"label",3),_(3,"input",4),r(4,"mat-autocomplete",5,0),T("optionSelected",function(f){return d(t),m(i.onActionSelect(f.option.value))}),Oe(6,ic,3,3,"mat-option",6,Ci),h(8,"async"),a(),v(9,nc,1,0,"i",7),v(10,oc,1,0,"i",8),v(11,ac,1,0,"i",9),r(12,"i",10),h(13,"translate"),T("click",function(){return d(t),m(i.onActionButtonReload())}),a(),v(14,rc,3,3,"em"),Wn(15),a()}if(e&2){let t=D(5);o(),S("optionsInfoAreaId",i.constructorInfoAreaId),o(),I((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(),S("placeholder",x(i.optionPlaceholder))("id",oi("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Le("disabled",i.optionDisabled?!0:null),o(),S("displayWith",i.displayFn),o(2),Ge(C(8,19,i.filteredOptions)),o(3),I(i.formControl.valid?-1:9),o(),I(i.optionRequired&&i.formControl.valid?10:-1),o(),I((i.dataModelSelect==null?null:i.dataModelSelect.id)>0?11:-1),o(),H("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),S("title",x(C(13,21,"ACTION.RELOAD"))),o(2),I(i.optionRequired&&!((i.dataModelSelect==null?null:i.dataModelSelect.id)>0)?14:-1)}},dependencies:[re,le,Ae,Qn,Jn,Kn,Yn,q,U,qe,B],encapsulation:2});var ho=gi;var sc=["vform"];function cc(n,s){n&1&&(r(0,"mat-error"),c(1),h(2,"translate"),r(3,"strong"),c(4),h(5,"translate"),a()()),n&2&&(o(),g(" ",C(2,2,"AUTH.INPUT.FULLNAME")," "),o(3),R(C(5,4,"MESSAGE.required")))}function dc(n,s){n&1&&(r(0,"mat-error"),c(1),h(2,"translate"),r(3,"strong"),c(4),h(5,"translate"),a()()),n&2&&(o(),g(" ",C(2,2,"AUTH.INPUT.MOBILE")," "),o(3),R(C(5,4,"MESSAGE.required")))}function mc(n,s){n&1&&(r(0,"mat-error"),c(1),h(2,"translate"),r(3,"strong"),c(4),h(5,"translate"),a()()),n&2&&(o(),g(" ",C(2,2,"AUTH.INPUT.EMAIL")," "),o(3),R(C(5,4,"MESSAGE.required")))}function pc(n,s){if(n&1){let e=M();r(0,"div",35)(1,"label"),c(2),h(3,"translate"),a(),r(4,"app-ticketing-template-selector",43),T("optionItemCount",function(){d(e);let t=u(2);return m(t.templateItemCount)})("optionChange",function(t){d(e);let l=u(2);return m(l.onActionSelectorSelect(t))}),a()()}n&2&&(o(2),R(C(3,1,"TITLE.Categories")))}function uc(n,s){n&1&&(r(0,"mat-error"),c(1),h(2,"translate"),r(3,"strong"),c(4),h(5,"translate"),a()()),n&2&&(o(),g(" ",C(2,2,"AUTH.INPUT.YOURMEESAGE")," "),o(3),R(C(5,4,"MESSAGE.required")))}function fc(n,s){if(n&1){let e=M();r(0,"div",8),_(1,"app-cms-form-result-message",28),r(2,"form",29,0),T("ngSubmit",function(){d(e);let t=u();return m(t.onFormSubmit())}),r(4,"fieldset")(5,"div",30)(6,"label",31),c(7),h(8,"translate"),r(9,"span"),c(10),h(11,"translate"),a()(),r(12,"input",32,1),h(14,"translate"),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.fullName,t)||(l.dataModel.fullName=t),m(t)}),a(),v(15,cc,6,6,"mat-error"),a(),r(16,"div",30)(17,"label",33),c(18),h(19,"translate"),r(20,"span"),c(21),h(22,"translate"),a()(),r(23,"input",34,2),h(25,"translate"),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.phoneNo,t)||(l.dataModel.phoneNo=t),m(t)}),a(),v(26,dc,6,6,"mat-error"),a(),r(27,"div",35)(28,"label",36),c(29),h(30,"translate"),r(31,"span"),c(32),h(33,"translate"),a()(),r(34,"input",37,3),h(36,"translate"),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.email,t)||(l.dataModel.email=t),m(t)}),a(),v(37,mc,6,6,"mat-error"),a(),v(38,pc,5,3,"div",35),r(39,"div",38)(40,"label",39),c(41),h(42,"translate"),r(43,"span"),c(44),h(45,"translate"),a()(),r(46,"textarea",40,4),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.htmlBody,t)||(l.dataModel.htmlBody=t),m(t)}),a(),v(48,uc,6,6,"mat-error"),a(),r(49,"div",41),_(50,"input",42),h(51,"translate"),a()()()()}if(n&2){let e=D(13),i=D(24),t=D(35),l=D(47),f=u();o(),S("formInfo",f.formInfo),o(6),g("",C(8,26,"AUTH.INPUT.FULLNAME"),":"),o(3),g("( ",C(11,28,"TITLE.Necessary")," )"),o(2),S("placeholder",x(C(14,30,"TITLE.Enter_your_first_and_last_name"))),E("ngModel",f.dataModel.fullName),o(3),I(e.errors!=null&&e.errors.required?15:-1),o(3),g("",C(19,32,"AUTH.INPUT.MOBILE"),":"),o(3),g("( ",C(22,34,"TITLE.Necessary")," )"),o(2),S("placeholder",x(C(25,36,"TITLE.Enter_your_first_and_last_name"))),E("ngModel",f.dataModel.phoneNo),o(3),I(i.errors!=null&&i.errors.required?26:-1),o(3),g("",C(30,38,"AUTH.INPUT.EMAIL"),":"),o(3),g("( ",C(33,40,"TITLE.Necessary")," )"),o(2),S("placeholder",x(C(36,42,"TITLE.Enter_email"))),E("ngModel",f.dataModel.email),o(3),I(t.errors!=null&&t.errors.required?37:-1),o(),I(f.templateItemCount>0?38:-1),o(3),g("",C(42,44,"AUTH.INPUT.YOURMEESAGE"),":"),o(3),g("( ",C(45,46,"TITLE.Necessary")," )"),o(2),E("ngModel",f.dataModel.htmlBody),o(2),I(l.errors!=null&&l.errors.required?48:-1),o(2),S("value",x(C(51,48,"ACTION.SEND")))}}function _c(n,s){if(n&1&&(r(0,"div",27)(1,"div",11)(2,"div",12)(3,"h1",13),_(4,"i",14),a(),r(5,"h2",15),c(6),h(7,"translate"),a(),r(8,"p",16),c(9),h(10,"translate"),a(),r(11,"p",15),c(12),h(13,"translate"),a(),_(14,"div",44),a()()()),n&2){let e=u();o(6),g(" ",C(7,5,"TITLE.Your_message_has_been_registered_in_the_system")," "),o(3),g(" ",C(10,7,"TITLE.Note_the_tracking_code_for_further_tracking")," "),o(3),Ve(" ",C(13,9,"TITLE.Tracking_Code")," : ",e.dataModelResult.item.id," "),o(2),S("innerHTML",e.dataModelResult.item==null||e.dataModelResult.item.virtual_Departemen==null?null:e.dataModelResult.item.virtual_Departemen.DefaultAnswerBody,Pn)}}var _n=class _n extends Lt{constructor(e,i,t,l,f,p,J,ee,ze,Je,Qt){super(J,new Ye,f,Je);this.tokenHelper=e;this.cmsStoreService=i;this.activatedRoute=t;this.coreAuthService=l;this.publicHelper=f;this.coreEnumService=p;this.ticketingTaskService=J;this.cmsToastrService=ee;this.router=ze;this.translate=Je;this.cdr=Qt;this.requestLinkDepartemenId=0;this.constructorInfoAreaId=this.constructor.name;this.unsubscribe=[];this.fieldsInfo=new Map;this.dataModel=new Bo;this.dataModelResult=new Q;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.fileManagerOpenForm=!1;this.appLanguage="fa";this.templateItemCount=0;this.mapOptonCenter=new Zt;this.captchaModel=new Do;this.countAutoCaptchaOrder=1;this.enumFormSubmitedStatus=FormSubmitedStatusEnum;this.onCaptchaOrderInProcess=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&(this.dataModel.fullName=this.tokenInfo.user.lastName,this.dataModel.email=this.tokenInfo.user.email,this.dataModel.phoneNo=this.tokenInfo.user.mobile),this.unsubscribe.push(this.cmsStoreService.getState(Mt=>Mt.tokenInfoStore).subscribe(Mt=>te(this,null,function*(){this.tokenInfo=Mt,this.dataModel.fullName=this.tokenInfo.user.lastName,this.dataModel.email=this.tokenInfo.user.email,this.dataModel.phoneNo=this.tokenInfo.user.mobile})))}ngOnInit(){this.requestLinkDepartemenId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDepartemenId")),this.onCaptchaOrder(),this.dataModel.linkTicketingDepartemenId=this.requestLinkDepartemenId,this.DataGetAccess()}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataAddContent()}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataAddContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataModel.captchaKey=this.captchaModel.key,this.ticketingTaskService.ServiceContactUS(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd()):(this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorAdd(i.errorMessage)),this.publicHelper.processService.processStop(e),this.cdr.markForCheck()},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorAdd(i),this.cdr.markForCheck()}})}onActionSelectorSelect(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Information_template_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.dataModel.htmlBody=e.htmlBody}onActionBackToParent(){this.router.navigate(["/application/app/"])}onActionSelectSource(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_source","MESSAGE.The_source_of_the_information_application_is_not_known"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_source"],i["MESSAGE.The_source_of_the_information_application_is_not_known"])});return}this.dataModel.linkTicketingDepartemenId=e.id}onCaptchaOrder(){this.onCaptchaOrderInProcess||(this.countAutoCaptchaOrder=this.countAutoCaptchaOrder+1,this.dataModel.captchaText="",this.coreAuthService.ServiceCaptcha().subscribe({next:e=>{if(e.isSuccess){this.captchaModel=e.item,this.expireDate=e.item.expire;let i=new Date,l=new Date(e.item.expire).getTime()-i.getTime();this.countAutoCaptchaOrder<10&&(this.countAutoCaptchaOrder=this.countAutoCaptchaOrder+1,setTimeout(()=>{this.onCaptchaOrder()},l))}else this.cmsToastrService.typeErrorGetCpatcha(e.errorMessage);this.onCaptchaOrderInProcess=!1},error:e=>{this.onCaptchaOrderInProcess=!1}}))}};_n.\u0275fac=function(i){return new(i||_n)(b(fe),b(ue),b(we),b(Lo),b(O),b(K),b($e),b(P),b(ce),b(F),b(N))},_n.\u0275cmp=L({type:_n,selectors:[["app-ticketing-task-contactus"]],viewQuery:function(i,t){if(i&1&&ne(sc,5),i&2){let l;oe(l=ae())&&(t.formGroup=l.first)}},standalone:!1,features:[G],decls:39,vars:21,consts:[["vform","ngForm"],["FullName",""],["phoneNo",""],["Email",""],["HtmlBody",""],[1,"page-content","pb-3"],[1,"card","card-full","rounded-m","pb-4"],[1,"drag-line"],[1,"content"],[1,"font-600","mb-0","color-highlight"],[1,"form-sent","disabled"],[1,"card","card-style"],[1,"shadow-l","rounded-m","gradient-green","ms-n1","mb-0"],[1,"color-white","text-center","pt-4"],[1,"fa","fa-check-circle","fa-3x","shadow-s","scale-box","rounded-circle"],[1,"color-white","bold","text-center","pt-3"],[1,"color-white","pb-4","text-center","mt-n2","mb-0"],[1,"content","text-center"],[1,"boxed-text-xl"],["href","#",1,"icon","icon-xl","shadow-xl","rounded-xl","bg-facebook"],[1,"fab","fa-facebook-f"],["href","#",1,"icon","icon-xl","shadow-xl","rounded-xl","bg-instagram","ms-3","me-3"],[1,"fab","fa-instagram"],["href","#",1,"icon","icon-xl","shadow-xl","rounded-xl","bg-twitter"],[1,"fab","fa-twitter"],[3,"optionsInfoAreaId"],[1,"card","contact-form"],[1,"form-sent"],[3,"formInfo"],[3,"ngSubmit"],[1,"form-field","form-name"],["for","contactNameField",1,"contactNameField","color-theme"],["type","text","name","dataModel.fullName","id","contactNameField","required","",1,"round-small",2,"text-align","center !important",3,"ngModelChange","ngModel","placeholder"],["for","contactPhoneField",1,"contactNameField","color-theme"],["type","text","name","dataModel.phoneNo","id","contactPhoneField","required","",1,"round-small","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],[1,"form-field","form-email"],["for","contactEmailField",1,"contactEmailField","color-theme"],["type","email","cmsKeyboardForce","en","name","dataModel.email","id","contactEmailField",1,"round-small","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],[1,"form-field","form-text"],["for","contactMessageTextarea",1,"contactMessageTextarea","color-theme"],["name","dataModel.htmlBody","id","contactMessageTextarea","rows","3","required","",1,"round-small",3,"ngModelChange","ngModel"],[1,"form-button"],["type","submit","data-formId","contactForm",1,"btn","bg-highlight","font-700","btn-m","btn-full","rounded-sm","shadow-xl","contactSubmitButton",3,"value"],[3,"optionItemCount","optionChange"],[3,"innerHTML"]],template:function(i,t){i&1&&(r(0,"div",5)(1,"div",6),_(2,"div",7),r(3,"div",8)(4,"p",9),c(5),h(6,"translate"),a(),r(7,"p"),c(8),h(9,"translate"),a()(),r(10,"div",10)(11,"div",11)(12,"div",12)(13,"h1",13),_(14,"i",14),a(),r(15,"h2",15),c(16),h(17,"translate"),a(),r(18,"p",16),c(19),h(20,"translate"),a()()(),r(21,"div",11)(22,"div",17)(23,"h2"),c(24),h(25,"translate"),a(),r(26,"p",18),c(27),h(28,"translate"),a(),r(29,"a",19),_(30,"i",20),a(),r(31,"a",21),_(32,"i",22),a(),r(33,"a",23),_(34,"i",24),a()()()(),_(35,"app-progress-spinner",25),r(36,"div",26),v(37,fc,52,50,"div",8),a(),v(38,_c,15,11,"div",27),a()()),i&2&&(o(5),g(" ",C(6,9,"TITLE.Send_us_your_questions")," "),o(3),g(" ",C(9,11,"TITLE.GetInTouchWithUs")," "),o(8),g(" ",C(17,13,"TITLE.MESSAGE_SENT")," "),o(3),g(" ",C(20,15,"TITLE.WE_WILL_CONTACT_YOU_SOON")," "),o(5),R(C(25,17,"TITLE.LETS_BE_SOCIAL")),o(3),g(" ",C(28,19,"TITLE.SOCIAL_MEDIA_PLATFORMS")," "),o(8),S("optionsInfoAreaId",t.constructorInfoAreaId),o(2),I((t.formInfo==null?null:t.formInfo.submitResultMessageType)!==t.enumFormSubmitedStatus.Success?37:-1),o(),I((t.formInfo==null?null:t.formInfo.submitResultMessageType)===t.enumFormSubmitedStatus.Success?38:-1))},dependencies:[ye,re,le,ke,Ae,be,Ee,We,U,_e,Gi,ho,B],encapsulation:2});var gn=_n;var gc=["vform"];function Sc(n,s){if(n&1){let e=M();r(0,"div",15)(1,"button",16),T("click",function(){d(e);let t=u(2);return m(t.onFormCancel())}),_(2,"i",17),c(3),h(4,"translate"),a()()}n&2&&(o(3),g(" ",C(4,1,"ACTION.CANCEL")," "))}function hc(n,s){if(n&1&&(r(0,"div",8)(1,"table",9)(2,"thead",10)(3,"tr"),_(4,"th")(5,"th"),a()(),r(6,"tbody")(7,"tr")(8,"td"),c(9),a(),r(10,"td"),c(11),a()(),r(12,"tr")(13,"td"),c(14),a(),r(15,"td"),c(16),a()(),r(17,"tr")(18,"td"),c(19),a(),r(20,"td"),c(21),h(22,"enums"),a()(),r(23,"tr")(24,"td"),c(25),a(),r(26,"td"),c(27),a()(),r(28,"tr")(29,"td"),c(30),h(31,"translate"),a(),r(32,"td"),c(33),a()(),r(34,"tr")(35,"td"),c(36),a(),r(37,"td"),c(38),a()(),r(39,"tr")(40,"td"),c(41),a(),r(42,"td"),c(43),a()(),r(44,"tr")(45,"td"),c(46),a(),r(47,"td"),c(48),h(49,"localeDate"),a()(),r(50,"tr")(51,"td"),c(52),a(),r(53,"td"),c(54),h(55,"localeDate"),a()(),r(56,"tr")(57,"td"),c(58),a(),r(59,"td"),c(60),a()(),r(61,"tr")(62,"td"),c(63),a(),r(64,"td"),c(65),a()(),r(66,"tr")(67,"td"),c(68),a(),r(69,"td"),c(70),a()(),r(71,"tr")(72,"td"),c(73),a(),r(74,"td"),c(75),a()(),r(76,"tr")(77,"td"),c(78),a(),r(79,"td"),c(80),a()()()(),_(81,"hr"),a(),_(82,"div",11),r(83,"div",12),_(84,"app-cms-form-result-message",13),a(),r(85,"div",14),v(86,Sc,5,3,"div",15),a()),n&2){let e=u();o(9),R(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle),o(2),R(e.dataModel.id),o(3),R(e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle),o(2),R(e.dataModel.linkSiteId),o(3),R(e.fieldsInfo.ticketStatus==null?null:e.fieldsInfo.ticketStatus.fieldTitle),o(2),g(" ",zt(22,30,e.dataModel.ticketStatus,e.dataModelEnumTicketStatusResult.listItems)," "),o(4),R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(2),R(e.dataModel.title),o(3),R(C(31,33,"TITLE.Message_Text")),o(3),R(e.dataModel.htmlBody),o(3),R(e.fieldsInfo.fullName==null?null:e.fieldsInfo.fullName.fieldTitle),o(2),R(e.dataModel.fullName),o(3),R(e.fieldsInfo.phoneNo==null?null:e.fieldsInfo.phoneNo.fieldTitle),o(2),R(e.dataModel.phoneNo),o(3),R(e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle),o(2),R(C(49,35,e.dataModel.createdDate)),o(4),R(e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle),o(2),R(C(55,37,e.dataModel.updatedDate)),o(4),R(e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle),o(2),R(e.dataModel.email),o(3),R(e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.fieldTitle),o(2),R(e.dataModel.linkCmsUserId),o(3),R(e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle),o(2),R(e.dataModel.linkMemberId),o(3),g(" ",e.fieldsInfo.linkTicketingDepartemenId==null?null:e.fieldsInfo.linkTicketingDepartemenId.fieldTitle," "),o(2),R(e.dataModel.linkTicketingDepartemenId),o(3),g(" ",e.fieldsInfo.ticketingDepartemenDefaultAnswerBody==null?null:e.fieldsInfo.ticketingDepartemenDefaultAnswerBody.fieldTitle," "),o(2),R(e.dataModel.ticketingDepartemenDefaultAnswerBody),o(4),S("formInfo",e.formInfo),o(2),I(e.formInfo.submitButtonEnabled&&!e.publicHelper.processService.process.inRunAll?86:-1)}}var Sn=class Sn{constructor(s,e,i,t,l,f,p,J,ee,ze,Je){this.data=s;this.dialogRef=e;this.coreEnumService=i;this.ticketingTaskService=t;this.cmsToastrService=l;this.tokenHelper=f;this.cmsStoreService=p;this.cdr=J;this.ticketingEnumService=ee;this.publicHelper=ze;this.translate=Je;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new ci;this.dataModelResult=new Q;this.dataModel=new Ye;this.formInfo=new Oi;this.dataModelEnumTicketStatusResult=new Q;this.fieldsInfo=new Map;this.dataTaskReadedResult=new At;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=+s.id||0)}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(s=>{this.formInfo.formTitle=s}),this.requestId===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>te(this,null,function*(){this.tokenInfo=s}))),this.getEnumTicketStatus()}getEnumTicketStatus(){this.ticketingEnumService.ServiceTicketStatusEnum().subscribe({next:s=>{this.dataModelEnumTicketStatusResult=s}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.ticketingTaskService.setAccessLoad(),this.ticketingTaskService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.title+" ( "+e.item.id+" ) ",this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.dataTaskReaded(this.requestId)):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}dataTaskReaded(s){this.ticketingTaskService.ServiceTaskReaded(s).subscribe({next:e=>{e.isSuccess&&(this.dataTaskReadedResult=e)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Sn.\u0275fac=function(e){return new(e||Sn)(b(ve),b(de),b(K),b($e),b(P),b(fe),b(ue),b(N),b(di),b(O),b(F))},Sn.\u0275cmp=L({type:Sn,selectors:[["app-ticketing-task-view"]],viewQuery:function(e,i){if(e&1&&ne(gc,5),e&2){let t;oe(t=ae())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:4,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-header"],[1,"table","table-striped","center"],[2,"background-color","#81d4fa"],["dir","rtl",1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",0),_(1,"app-progress-spinner",1),r(2,"div",2)(3,"p",3),c(4),a(),r(5,"a",4),T("click",function(){return i.onFormCancel()}),_(6,"i",5),a(),_(7,"hr"),a(),r(8,"div",6)(9,"p",7),c(10),a(),v(11,hc,87,39),a()()),e&2&&(o(),S("optionsInfoAreaId",i.constructorInfoAreaId),o(3),R(i.formInfo.formTitle),o(6),g(" ",i.formInfo.formDescription," "),o(),I(i.publicHelper.processService.process.inRunAll?-1:11))},dependencies:[Oo,U,_e,B,ii,Ue],encapsulation:2});var hn=Sn;var Cc=()=>[5,10,20,100],Tc=n=>({display:n});function bc(n,s){if(n&1){let e=M();r(0,"a",38),T("click",function(){d(e);let t=u();return m(t.onActionBackToParent())}),_(1,"i",39),a()}}function vc(n,s){if(n&1){let e=M();r(0,"div",16)(1,"a",40),T("click",function(){d(e);let t=u();return m(t.onActionButtonNewRow())}),_(2,"i",41)(3,"br"),a(),r(4,"p",42),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.ADD")," "))}function Ic(n,s){if(n&1){let e=M();r(0,"div",16)(1,"a",9),T("click",function(){d(e);let t=u();return m(t.onActionButtonAnswerList())}),_(2,"i",43)(3,"br"),a(),r(4,"p",42),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.ANSWERS")," "))}function Mc(n,s){if(n&1){let e=M();r(0,"div",16)(1,"a",44),T("click",function(){d(e);let t=u();return m(t.onActionButtonAnswerList(t.tableRowSelected))}),_(2,"i",43),a(),r(3,"p",42),c(4),h(5,"translate"),a()()}n&2&&(o(4),g(" ",C(5,1,"ACTION.ANSWERS")," "))}function wc(n,s){if(n&1){let e=M();r(0,"div",16)(1,"a",45),T("click",function(){d(e);let t=u();return m(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",46),a(),r(3,"p",42),c(4),h(5,"translate"),a()()}n&2&&(o(4),g(" ",C(5,1,"ACTION.VIEW")," "))}function kc(n,s){if(n&1&&(r(0,"mat-header-cell",47),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ec(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),g(" ",e.id," ")}}function yc(n,s){if(n&1&&(r(0,"mat-header-cell",47),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ac(n,s){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"cmssiteinfo"),h(3,"async"),a()),n&2){let e=s.$implicit;o(),g(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function Rc(n,s){if(n&1&&(r(0,"mat-header-cell",47),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Dc(n,s){if(n&1&&_(0,"select",49),n&2){let e=u().$implicit,i=u();S("contentService",i.contentService)("row",e)("ngStyle",Pe(3,Tc,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function xc(n,s){if(n&1&&(r(0,"mat-cell",48),h(1,"statusCellClass"),_(2,"i",48),h(3,"statusIconClass"),v(4,Dc,1,5,"select",49),a()),n&2){let e=s.$implicit,i=u();S("ngClass",C(1,3,e.recordStatus)),o(2),S("ngClass",C(3,5,e.recordStatus)),o(2),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function Lc(n,s){if(n&1&&(r(0,"mat-header-cell",47),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Vc(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),g(" ",e.title," ")}}function Bc(n,s){if(n&1&&(r(0,"mat-header-cell",47),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Nc(n,s){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),g(" ",C(2,1,e.createdDate)," ")}}function Fc(n,s){if(n&1&&(r(0,"mat-header-cell",47),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Oc(n,s){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),g(" ",C(2,1,e.updatedDate)," ")}}function Gc(n,s){n&1&&(r(0,"mat-header-cell"),c(1),h(2,"translate"),a()),n&2&&(o(),g(" ",C(2,1,"TITLE.OPTION")," "))}function Pc(n,s){if(n&1&&(r(0,"mat-cell",50)(1,"button",51)(2,"mat-icon"),c(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let e=D(5);o(),S("matMenuTriggerFor",e)}}function Hc(n,s){n&1&&_(0,"mat-header-row")}function qc(n,s){if(n&1){let e=M();r(0,"mat-row",52),T("click",function(t){let l=d(e).$implicit,f=u();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=d(e).$implicit,f=u();return m(f.onActionTableRowSelect(l,t))}),a()}if(n&2){let e=s.$implicit,i=u();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Cn=class Cn extends Tt{constructor(e,i,t,l,f,p,J,ee,ze,Je,Qt){super(e,new Ye,Je,f,J);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.router=l;this.tokenHelper=f;this.cdr=p;this.translate=J;this.pageInfo=ee;this.cmsStoreService=ze;this.publicHelper=Je;this.dialog=Qt;this.requestDepartemenId=0;this.requestLinkCmsUserId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Z;this.filterDataModelQueryBuilder=[];this.optionsSearch=new ro;this.optionsStatist=new lo;this.tokenInfo=new ci;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","createdDate","updatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Mt=>this.onSubmitOptionsSearch(Mt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=j.Descending}ngOnInit(){this.requestDepartemenId=+Number(this.activatedRoute.snapshot.paramMap.get("DepartemenId")),this.requestLinkCmsUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkCmsUserId")),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>te(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ye);let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]);let t=new Y;this.requestDepartemenId>0&&(t.propertyName="LinkTicketingDepartemenId",t.value=this.requestDepartemenId,i.filters.push(t)),this.categoryModelSelected&&this.categoryModelSelected.id>0&&(t.propertyName="LinkTicketingDepartemenId",t.value=this.categoryModelSelected.id,i.filters.push(t)),this.requestLinkCmsUserId>0&&(t.propertyName="LinkCmsUserId",t.value=this.requestLinkCmsUserId,i.filters.push(t)),this.contentService.ServiceGetAllEditor(i).subscribe({next:l=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),l.isSuccess?(this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)},1e3)):this.cmsToastrService.typeErrorGetAll(l.errorMessage),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){this.router.navigate(["/ticketing/contactus/"])}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Z,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(hn,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonAnswerList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}this.router.navigate(["/ticketing/answer/LinkTaskId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess&&(i.set("All",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Y;f.propertyName="recordStatus",f.value=ot.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess&&(i.set("Active",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}};Cn.\u0275fac=function(i){return new(i||Cn)(b($e),b(we),b(P),b(ce),b(fe),b(N),b(F),b(Ct),b(ue),b(O),b(je))},Cn.\u0275cmp=L({type:Cn,selectors:[["app-ticketing-task-contact-us-list"]],standalone:!1,features:[G],decls:57,vars:32,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-phone-arrow-right","font-18",2,"color","#ffffff"],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=M();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(p){return d(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),m(p)}),T("optionOnActionButtonMemoRow",function(){return d(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(l),m(t.onActionButtonPrintRow())}),ie(1,4)(2,5)(3,6),w(4,7),v(5,bc,2,0,"a",8),r(6,"a",9),T("click",function(){return d(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),_(7,"i",10),a(),r(8,"a",9),T("click",function(){return d(l),m(t.onActionButtonReload())}),_(9,"i",11),a(),k(),w(10,12),r(11,"a",13),T("click",function(){return d(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(12,"mat-slide-toggle",14),c(13),h(14,"translate"),a(),r(15,"a",13),T("click",function(){return d(l),m(t.onActionButtonStatist())}),_(16,"mat-slide-toggle",14),c(17),h(18,"translate"),a(),k(),w(19,15),v(20,vc,7,3,"div",16),v(21,Ic,7,3,"div",16),k(),w(22,17),v(23,Mc,6,3,"div",16),v(24,wc,6,3,"div",16),k(),w(25,18),r(26,"app-cms-search-list",19),A("optionsChange",function(p){return d(l),y(t.optionsSearch,p)||(t.optionsSearch=p),m(p)}),a(),r(27,"app-cms-statist-list",19),A("optionsChange",function(p){return d(l),y(t.optionsStatist,p)||(t.optionsStatist=p),m(p)}),a(),k(),w(28,20),r(29,"mat-table",21,0),T("matSortChange",function(){d(l);let p=D(30);return m(t.onTableSortData(p))}),w(31,22),V(32,kc,2,1,"mat-header-cell",23)(33,Ec,2,1,"mat-cell",24),k(),w(34,25),V(35,yc,2,1,"mat-header-cell",23)(36,Ac,4,5,"mat-cell",24),k(),w(37,26),V(38,Rc,2,1,"mat-header-cell",23)(39,xc,5,7,"mat-cell",27),k(),w(40,28),V(41,Lc,2,1,"mat-header-cell",23)(42,Vc,2,1,"mat-cell",24),k(),w(43,29),V(44,Bc,2,1,"mat-header-cell",23)(45,Nc,3,3,"mat-cell",24),k(),w(46,30),V(47,Fc,2,1,"mat-header-cell",23)(48,Oc,3,3,"mat-cell",24),k(),w(49,31),V(50,Gc,3,3,"mat-header-cell",32)(51,Pc,6,1,"mat-cell",33),k(),V(52,Hc,1,0,"mat-header-row",34)(53,qc,1,2,"mat-row",35),a(),k(),w(54,36),r(55,"mat-paginator",37,1),T("page",function(p){return d(l),m(t.onTablePageingData(p))}),a(),k(),a()}i&2&&(S("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","ticketing.task.contactus-list"),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),S("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(5),I(t.requestDepartemenId>0?5:-1),o(4),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),S("checked",t.optionsSearch.data.show),o(),g("",C(14,27,"ACTION.SEARCH")," "),o(3),S("checked",t.optionsStatist.data.show),o(),g("",C(18,29,"ACTION.STATIST")," "),o(3),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?21:-1),o(2),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?23:-1),o(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?24:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),S("dataSource",t.tableSource),o(23),S("matHeaderRowDef",t.tabledisplayedColumns),o(),S("matRowDefColumns",t.tabledisplayedColumns),o(2),S("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(31,Cc)))},dependencies:[Me,He,et,tt,q,at,qo,rt,me,pe,lt,st,ct,mt,_t,pt,dt,gt,ut,ft,St,ht,ge,Se,bt,he,it,qe,B,vt,Ue,xe,ti],encapsulation:2});var Si=Cn;var Uc=["vform"];function Qc(n,s){if(n&1){let e=M();r(0,"app-cms-enum-record-status-selector",24),A("modelChange",function(t){d(e);let l=u();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),a()}if(n&2){let e=u();E("model",e.dataModel.recordStatus),S("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessAddField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Kc(n,s){n&1&&_(0,"i",27)}function zc(n,s){n&1&&_(0,"i",28)}function Jc(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),a()()),n&2){let e=u(2);o(),g(" ",e.fieldsInfo.fullName==null?null:e.fieldsInfo.fullName.fieldTitle," is "),o(2),R(C(4,2,"MESSAGE.required"))}}function Yc(n,s){if(n&1){let e=M();r(0,"div",20)(1,"label",25),c(2),a(),r(3,"input",26,2),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.fullName,t)||(l.dataModel.fullName=t),m(t)}),a(),v(5,Kc,1,0,"i",27),v(6,zc,1,0,"i",28),r(7,"em"),c(8),a(),v(9,Jc,5,4,"mat-error"),a()}if(n&2){let e=D(4),i=u();o(2),R(i.fieldsInfo.fullName==null?null:i.fieldsInfo.fullName.fieldTitle),o(),S("placeholder",x(i.fieldsInfo.fullName==null?null:i.fieldsInfo.fullName.fieldTitle)),E("ngModel",i.dataModel.fullName),S("disabled",!(i.fieldsInfo.fullName!=null&&i.fieldsInfo.fullName.accessAddField)),o(2),I(e.value?-1:5),o(),I(e.value?6:-1),o(2),g("",e.value.length," / 100"),o(),I(e.errors!=null&&e.errors.required?9:-1)}}function Xc(n,s){n&1&&_(0,"i",27)}function Zc(n,s){n&1&&_(0,"i",28)}function $c(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),a()()),n&2){let e=u(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),R(C(4,2,"MESSAGE.required"))}}function ed(n,s){if(n&1){let e=M();r(0,"div",20)(1,"label",29),c(2),a(),r(3,"input",30,3),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.title,t)||(l.dataModel.title=t),m(t)}),a(),v(5,Xc,1,0,"i",27),v(6,Zc,1,0,"i",28),r(7,"em"),c(8),a(),v(9,$c,5,4,"mat-error"),a()}if(n&2){let e=D(4),i=u();o(2),R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),S("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),S("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),I(e.value?-1:5),o(),I(e.value?6:-1),o(2),g("",e.value.length," / 100"),o(),I(e.errors!=null&&e.errors.required?9:-1)}}function td(n,s){n&1&&_(0,"i",27)}function id(n,s){n&1&&_(0,"i",28)}function nd(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),a()()),n&2){let e=u(2);o(),g(" ",e.fieldsInfo.phoneNo==null?null:e.fieldsInfo.phoneNo.fieldTitle," is "),o(2),R(C(4,2,"MESSAGE.required"))}}function od(n,s){if(n&1){let e=M();r(0,"div",20)(1,"label",31),c(2),a(),r(3,"input",32,4),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.phoneNo,t)||(l.dataModel.phoneNo=t),m(t)}),a(),v(5,td,1,0,"i",27),v(6,id,1,0,"i",28),r(7,"em"),c(8),a(),v(9,nd,5,4,"mat-error"),a()}if(n&2){let e=D(4),i=u();o(2),R(i.fieldsInfo.phoneNo==null?null:i.fieldsInfo.phoneNo.fieldTitle),o(),S("placeholder",x(i.fieldsInfo.phoneNo==null?null:i.fieldsInfo.phoneNo.fieldTitle)),E("ngModel",i.dataModel.phoneNo),S("disabled",!(i.fieldsInfo.phoneNo!=null&&i.fieldsInfo.phoneNo.accessAddField)),o(2),I(e.value?-1:5),o(),I(e.value?6:-1),o(2),g("",e.value.length," / 100"),o(),I(e.errors!=null&&e.errors.required?9:-1)}}function ad(n,s){n&1&&_(0,"i",27)}function rd(n,s){n&1&&_(0,"i",28)}function ld(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),a()()),n&2){let e=u(2);o(),g(" ",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," is "),o(2),R(C(4,2,"MESSAGE.required"))}}function sd(n,s){if(n&1){let e=M();r(0,"div",20)(1,"label",33),c(2),a(),r(3,"input",34,5),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.email,t)||(l.dataModel.email=t),m(t)}),a(),v(5,ad,1,0,"i",27),v(6,rd,1,0,"i",28),r(7,"em"),c(8),a(),v(9,ld,5,4,"mat-error"),a()}if(n&2){let e=D(4),i=u();o(2),R(i.fieldsInfo.email==null?null:i.fieldsInfo.email.fieldTitle),o(),S("placeholder",x(i.fieldsInfo.email==null?null:i.fieldsInfo.email.fieldTitle)),E("ngModel",i.dataModel.email),S("disabled",!(i.fieldsInfo.email!=null&&i.fieldsInfo.email.accessAddField)),o(2),I(e.value?-1:5),o(),I(e.value?6:-1),o(2),g("",e.value.length," / 100"),o(),I(e.errors!=null&&e.errors.required?9:-1)}}function cd(n,s){if(n&1){let e=M();r(0,"div",20)(1,"label",35),c(2),h(3,"translate"),a(),r(4,"textarea",36,6),h(6,"translate"),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.htmlBody,t)||(l.dataModel.htmlBody=t),m(t)}),c(7,"              "),a(),r(8,"em"),c(9),a()()}if(n&2){let e=D(5),i=u();o(2),R(C(3,6,"TITLE.Description")),o(2),S("placeholder",x(C(6,8,"TITLE.Answer_Text"))),E("ngModel",i.dataModel.htmlBody),S("disabled",!(i.fieldsInfo.htmlBody!=null&&i.fieldsInfo.htmlBody.accessAddField)),o(5),g("",e.value.length," / 1000")}}function dd(n,s){if(n&1){let e=M();r(0,"div",21)(1,"label",37),c(2),a(),r(3,"input",38),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.expireDate,t)||(l.dataModel.expireDate=t),m(t)}),a(),_(4,"mat-datepicker-toggle",39)(5,"mat-datepicker",40,7),a()}if(n&2){let e=D(6),i=u();o(2),R(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),S("placeholder",x(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle))("matDatepicker",e),E("ngModel",i.dataModel.expireDate),S("disabled",!((i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.accessAddField)??!1)),o(),S("for",e),o(),S("calendarHeaderComponent",i.datapickerHeader)}}function md(n,s){if(n&1){let e=M();r(0,"div",22)(1,"button",41),T("click",function(){d(e);let t=u();return m(t.onActionBackToParent())}),c(2),h(3,"translate"),a(),r(4,"button",42),c(5),h(6,"translate"),a()()}if(n&2){u();let e=D(10);o(2),g(" ",C(3,3,"ACTION.BACK")," "),o(2),S("disabled",!e.form.valid),o(),g(" ",C(6,5,"ACTION.NEXT")," ")}}function pd(n,s){if(n&1){let e=M();r(0,"div",20)(1,"label",43),c(2),a(),r(3,"input",44,8),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.userIpAddress,t)||(l.dataModel.userIpAddress=t),m(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=D(4),i=u();o(2),R(i.fieldsInfo.userIpAddress==null?null:i.fieldsInfo.userIpAddress.fieldTitle),o(),S("placeholder",x(i.fieldsInfo.userIpAddress==null?null:i.fieldsInfo.userIpAddress.fieldTitle)),E("ngModel",i.dataModel.userIpAddress),S("disabled",!(i.fieldsInfo.userIpAddress!=null&&i.fieldsInfo.userIpAddress.accessAddField)),o(3),g("",e.value.length," / 100")}}function ud(n,s){if(n&1){let e=M();r(0,"div",20)(1,"label",45),c(2),a(),r(3,"input",46,9),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.deviceInformation,t)||(l.dataModel.deviceInformation=t),m(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=D(4),i=u();o(2),R(i.fieldsInfo.userIpAddress==null?null:i.fieldsInfo.userIpAddress.fieldTitle),o(),S("placeholder",x(i.fieldsInfo.deviceInformation==null?null:i.fieldsInfo.deviceInformation.fieldTitle)),E("ngModel",i.dataModel.deviceInformation),S("disabled",!(i.fieldsInfo.deviceInformation!=null&&i.fieldsInfo.deviceInformation.accessAddField)),o(3),g("",e.value.length," / 100")}}function fd(n,s){if(n&1&&(r(0,"div",22)(1,"button",47),c(2),h(3,"translate"),a(),r(4,"button",48),c(5),h(6,"translate"),a()()),n&2){u();let e=D(10);o(2),g(" ",C(3,3,"ACTION.BEFOR")," "),o(2),S("disabled",!e.form.valid),o(),g(" ",C(6,5,"ACTION.SAVE")," ")}}var Tn=class Tn extends Lt{constructor(e,i,t,l,f,p,J,ee,ze){super(l,new Ye,i,ze);this.activatedRoute=e;this.publicHelper=i;this.coreEnumService=t;this.ticketingTaskService=l;this.cmsToastrService=f;this.dialogRef=p;this.router=J;this.cdr=ee;this.translate=ze;this.requestLinkDepartemenId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModel=new Ye;this.dataModelResult=new Q;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.fileManagerOpenForm=!1;this.appLanguage="fa";this.mapOptonCenter=new Zt;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.requestLinkDepartemenId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDepartemenId")),this.dataModel.linkTicketingDepartemenId=this.requestLinkDepartemenId,this.DataGetAccess()}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataAddContent()}DataAddContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingTaskService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/ticketing/task/"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}onActionBackToParent(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelectedLinkMainImageId(){}onActionSelectSource(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_source","MESSAGE.The_source_of_the_information_application_is_not_known"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_source"],i["MESSAGE.The_source_of_the_information_application_is_not_known"])});return}this.dataModel.linkTicketingDepartemenId=e.id}};Tn.\u0275fac=function(i){return new(i||Tn)(b(we),b(O),b(K),b($e),b(P),b(de),b(ce),b(N),b(F))},Tn.\u0275cmp=L({type:Tn,selectors:[["app-ticketing-task-add"]],viewQuery:function(i,t){if(i&1&&ne(Uc,5),i&2){let l;oe(l=ae())&&(t.formGroup=l.first)}},standalone:!1,features:[G],decls:33,vars:33,consts:[["vform","ngForm"],["stepper",""],["FullName",""],["Title",""],["PhoneNo",""],["Email",""],["HtmlBody",""],["ExpireDate",""],["UserIpAddress",""],["DeviceInformation",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"form-actions"],["state","seo",3,"label"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.fullName",1,"color-highlight"],["matInput","","type","text","name","dataModel.fullName","minlength","3","maxlength","1000","required","","id","dataModel.fullName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.phoneNo",1,"color-highlight"],["matInput","","type","text","name","dataModel.phoneNo","type","text","minlength","3","maxlength","100","required","","id","dataModel.phoneNo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.email",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.email","type","text","minlength","3","maxlength","100","required","","id","dataModel.email",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.htmlBody",1,"color-highlight"],["matInput","","name","dataModel.htmlBody","type","text","minlength","0","maxlength","1000","rows","5","id","dataModel.htmlBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["for","dataModel.userIpAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.userIpAddress","type","text","minlength","0","maxlength","100","id","dataModel.userIpAddress",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.deviceInformation",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceInformation","type","text","minlength","0","maxlength","100","id","dataModel.deviceInformation",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let l=M();r(0,"div",10),_(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),c(4),a(),r(5,"p"),c(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",14),r(9,"form",15,0),T("ngSubmit",function(){return d(l),m(t.onFormSubmit())}),r(11,"mat-horizontal-stepper",16,1),T("selectionChange",function(p){d(l);let J=D(12);return m(t.onStepClick(p,J))}),r(13,"mat-step",17),h(14,"translate"),v(15,Qc,1,5,"app-cms-enum-record-status-selector",18),r(16,"app-ticketing-departemen-selector",19),h(17,"translate"),T("optionChange",function(p){return d(l),m(t.onActionSelectSource(p))}),a(),v(18,Yc,10,9,"div",20),v(19,ed,10,9,"div",20),v(20,od,10,9,"div",20),v(21,sd,10,9,"div",20),v(22,cd,10,10,"div",20),v(23,dd,7,8,"div",21),v(24,md,7,7,"div",22),a(),r(25,"mat-step",23),h(26,"translate"),r(27,"p"),c(28),h(29,"translate"),a(),v(30,pd,7,6,"div",20),v(31,ud,7,6,"div",20),v(32,fd,7,7,"div",22),a()()()()()}i&2&&(o(),S("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",C(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),S("formInfo",t.formInfo),o(5),S("label",x(C(14,25,"TITLE.REQUIRED_INFORMATION"))),o(2),I(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?15:-1),o(),S("optionSelectForce",t.dataModel.linkTicketingDepartemenId)("optionPlaceholder",C(17,27,"TITLE.Department"))("optionDisabled",!(t.fieldsInfo.linkTicketingDepartemenId!=null&&t.fieldsInfo.linkTicketingDepartemenId.accessAddField)),o(2),I(t.fieldsInfo.fullName!=null&&t.fieldsInfo.fullName.accessWatchField?18:-1),o(),I(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?19:-1),o(),I(t.fieldsInfo.phoneNo!=null&&t.fieldsInfo.phoneNo.accessWatchField?20:-1),o(),I(t.fieldsInfo.email!=null&&t.fieldsInfo.email.accessWatchField?21:-1),o(),I(t.fieldsInfo.htmlBody!=null&&t.fieldsInfo.htmlBody.accessWatchField?22:-1),o(),I(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?23:-1),o(),I(t.formInfo.submitButtonEnabled?24:-1),o(),S("label",x(C(26,29,"TITLE.REST_OF_THE_INFORMATION"))),o(3),R(C(29,31,"TITLE.Rest_of_Information")),o(2),I(t.fieldsInfo.userIpAddress!=null&&t.fieldsInfo.userIpAddress.accessWatchField?30:-1),o(),I(t.fieldsInfo.deviceInformation!=null&&t.fieldsInfo.deviceInformation.accessWatchField?31:-1),o(),I(t.formInfo.submitButtonEnabled?32:-1))},dependencies:[ye,re,le,ke,Ae,Re,De,be,Ee,Xn,Zn,$n,We,zn,q,eo,to,io,no,Ne,U,_e,Gi,Qe,B],encapsulation:2});var Co=Tn;var _d=["vform"];function gd(n,s){if(n&1){let e=M();r(0,"app-cms-enum-record-status-selector",24),A("modelChange",function(t){d(e);let l=u();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),a()}if(n&2){let e=u();E("model",e.dataModel.recordStatus),S("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Sd(n,s){n&1&&_(0,"i",27)}function hd(n,s){n&1&&_(0,"i",28)}function Cd(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),a()()),n&2){let e=u(2);o(),g(" ",e.fieldsInfo.fullName==null?null:e.fieldsInfo.fullName.fieldTitle," is "),o(2),R(C(4,2,"MESSAGE.required"))}}function Td(n,s){if(n&1){let e=M();r(0,"div",20)(1,"label",25),c(2),a(),r(3,"input",26,2),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.fullName,t)||(l.dataModel.fullName=t),m(t)}),a(),v(5,Sd,1,0,"i",27),v(6,hd,1,0,"i",28),r(7,"em"),c(8),a(),v(9,Cd,5,4,"mat-error"),a()}if(n&2){let e=D(4),i=u();o(2),R(i.fieldsInfo.fullName==null?null:i.fieldsInfo.fullName.fieldTitle),o(),S("placeholder",x(i.fieldsInfo.fullName==null?null:i.fieldsInfo.fullName.fieldTitle)),E("ngModel",i.dataModel.fullName),S("disabled",!(i.fieldsInfo.fullName!=null&&i.fieldsInfo.fullName.accessEditField)),o(2),I(e.value?-1:5),o(),I(e.value?6:-1),o(2),g("",e.value.length," / 100"),o(),I(e.errors!=null&&e.errors.required?9:-1)}}function bd(n,s){n&1&&_(0,"i",27)}function vd(n,s){n&1&&_(0,"i",28)}function Id(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),a()()),n&2){let e=u(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),R(C(4,2,"MESSAGE.required"))}}function Md(n,s){if(n&1){let e=M();r(0,"div",20)(1,"label",29),c(2),a(),r(3,"input",30,3),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.title,t)||(l.dataModel.title=t),m(t)}),a(),v(5,bd,1,0,"i",27),v(6,vd,1,0,"i",28),r(7,"em"),c(8),a(),v(9,Id,5,4,"mat-error"),a()}if(n&2){let e=D(4),i=u();o(2),R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),S("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),S("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),I(e.value?-1:5),o(),I(e.value?6:-1),o(2),g("",e.value.length," / 100"),o(),I(e.errors!=null&&e.errors.required?9:-1)}}function wd(n,s){n&1&&_(0,"i",27)}function kd(n,s){n&1&&_(0,"i",28)}function Ed(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),a()()),n&2){let e=u(2);o(),g(" ",e.fieldsInfo.phoneNo==null?null:e.fieldsInfo.phoneNo.fieldTitle," is "),o(2),R(C(4,2,"MESSAGE.required"))}}function yd(n,s){if(n&1){let e=M();r(0,"div",20)(1,"label",31),c(2),a(),r(3,"input",32,4),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.phoneNo,t)||(l.dataModel.phoneNo=t),m(t)}),a(),v(5,wd,1,0,"i",27),v(6,kd,1,0,"i",28),r(7,"em"),c(8),a(),v(9,Ed,5,4,"mat-error"),a()}if(n&2){let e=D(4),i=u();o(2),R(i.fieldsInfo.phoneNo==null?null:i.fieldsInfo.phoneNo.fieldTitle),o(),S("placeholder",x(i.fieldsInfo.phoneNo==null?null:i.fieldsInfo.phoneNo.fieldTitle)),E("ngModel",i.dataModel.phoneNo),S("disabled",!(i.fieldsInfo.phoneNo!=null&&i.fieldsInfo.phoneNo.accessEditField)),o(2),I(e.value?-1:5),o(),I(e.value?6:-1),o(2),g("",e.value.length," / 100"),o(),I(e.errors!=null&&e.errors.required?9:-1)}}function Ad(n,s){n&1&&_(0,"i",27)}function Rd(n,s){n&1&&_(0,"i",28)}function Dd(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),a()()),n&2){let e=u(2);o(),g(" ",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," is "),o(2),R(C(4,2,"MESSAGE.required"))}}function xd(n,s){if(n&1){let e=M();r(0,"div",20)(1,"label",33),c(2),a(),r(3,"input",34,5),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.email,t)||(l.dataModel.email=t),m(t)}),a(),v(5,Ad,1,0,"i",27),v(6,Rd,1,0,"i",28),r(7,"em"),c(8),a(),v(9,Dd,5,4,"mat-error"),a()}if(n&2){let e=D(4),i=u();o(2),R(i.fieldsInfo.email==null?null:i.fieldsInfo.email.fieldTitle),o(),S("placeholder",x(i.fieldsInfo.email==null?null:i.fieldsInfo.email.fieldTitle)),E("ngModel",i.dataModel.email),S("disabled",!(i.fieldsInfo.email!=null&&i.fieldsInfo.email.accessEditField)),o(2),I(e.value?-1:5),o(),I(e.value?6:-1),o(2),g("",e.value.length," / 100"),o(),I(e.errors!=null&&e.errors.required?9:-1)}}function Ld(n,s){if(n&1){let e=M();r(0,"div",20)(1,"label",35),c(2),h(3,"translate"),a(),r(4,"textarea",36,6),h(6,"translate"),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.htmlBody,t)||(l.dataModel.htmlBody=t),m(t)}),c(7,"              "),a(),r(8,"em"),c(9),a()()}if(n&2){let e=D(5),i=u();o(2),R(C(3,6,"TITLE.Description")),o(2),S("placeholder",x(C(6,8,"TITLE.Description"))),E("ngModel",i.dataModel.htmlBody),S("disabled",!(i.fieldsInfo.htmlBody!=null&&i.fieldsInfo.htmlBody.accessEditField)),o(5),g("",e.value.length," / 1000")}}function Vd(n,s){if(n&1){let e=M();r(0,"div",21)(1,"label",37),c(2),a(),r(3,"input",38),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.expireDate,t)||(l.dataModel.expireDate=t),m(t)}),a(),_(4,"mat-datepicker-toggle",39)(5,"mat-datepicker",40,7),a()}if(n&2){let e=D(6),i=u();o(2),R(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),S("placeholder",x(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle))("matDatepicker",e),E("ngModel",i.dataModel.expireDate),S("disabled",!((i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.accessEditField)??!1)),o(),S("for",e),o(),S("calendarHeaderComponent",i.datapickerHeader)}}function Bd(n,s){if(n&1){let e=M();r(0,"div",22)(1,"button",41),T("click",function(){d(e);let t=u();return m(t.onActionBackToParent())}),c(2),h(3,"translate"),a(),r(4,"button",42),c(5),h(6,"translate"),a()()}if(n&2){u();let e=D(10);o(2),g(" ",C(3,3,"ACTION.BACK")," "),o(2),S("disabled",!e.form.valid),o(),g(" ",C(6,5,"ACTION.NEXT")," ")}}function Nd(n,s){if(n&1){let e=M();r(0,"div",20)(1,"label",43),c(2),a(),r(3,"input",44,8),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.userIpAddress,t)||(l.dataModel.userIpAddress=t),m(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=D(4),i=u();o(2),R(i.fieldsInfo.userIpAddress==null?null:i.fieldsInfo.userIpAddress.fieldTitle),o(),S("placeholder",x(i.fieldsInfo.userIpAddress==null?null:i.fieldsInfo.userIpAddress.fieldTitle)),E("ngModel",i.dataModel.userIpAddress),S("disabled",!(i.fieldsInfo.userIpAddress!=null&&i.fieldsInfo.userIpAddress.accessEditField)),o(3),g("",e.value.length," / 100")}}function Fd(n,s){if(n&1){let e=M();r(0,"div",20)(1,"label",45),c(2),a(),r(3,"input",46,9),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.deviceInformation,t)||(l.dataModel.deviceInformation=t),m(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=D(4),i=u();o(2),R(i.fieldsInfo.userIpAddress==null?null:i.fieldsInfo.userIpAddress.fieldTitle),o(),S("placeholder",x(i.fieldsInfo.deviceInformation==null?null:i.fieldsInfo.deviceInformation.fieldTitle)),E("ngModel",i.dataModel.deviceInformation),S("disabled",!(i.fieldsInfo.deviceInformation!=null&&i.fieldsInfo.deviceInformation.accessEditField)),o(3),g("",e.value.length," / 100")}}function Od(n,s){if(n&1&&(r(0,"div",22)(1,"button",47),c(2),h(3,"translate"),a(),r(4,"button",48),c(5),h(6,"translate"),a()()),n&2){u();let e=D(10);o(2),g(" ",C(3,3,"ACTION.BEFOR")," "),o(2),S("disabled",!e.form.valid),o(),g(" ",C(6,5,"ACTION.SAVE")," ")}}var bn=class bn extends ei{constructor(e,i,t,l,f,p,J,ee,ze,Je){super(p,new Ye,l,Je);this.data=e;this.activatedRoute=i;this.dialogRef=t;this.publicHelper=l;this.coreEnumService=f;this.ticketingTaskService=p;this.cmsToastrService=J;this.router=ee;this.cdr=ze;this.translate=Je;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.dataModel=new Ye;this.dataModelResult=new At;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.fileManagerOpenForm=!1;this.appLanguage="fa";this.mapOptonCenter=new Zt;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(this.requestId=+e.id||0)}ngOnInit(){if(this.requestId===0){this.cmsToastrService.typeErrorAddRowParentIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(this.requestId)}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(e){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.ticketingTaskService.setAccessLoad(),this.ticketingTaskService.setAccessDataType(Rt.Editor),this.ticketingTaskService.ServiceGetOneById(e).subscribe({next:t=>{this.dataAccessModel=t.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.publicHelper.processService.processStop(i),this.dataModelResult=t,this.formInfo.submitButtonEnabled=!0,t.isSuccess?(this.dataModel=t.item,this.ticketingTaskService.ServiceTaskReaded(e).subscribe({next:l=>{},error:l=>{this.cmsToastrService.typeErrorGetOne(l)}})):this.cmsToastrService.typeErrorGetOne(t.errorMessage)},error:t=>{this.publicHelper.processService.processStop(i),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(t)}})}DataEditContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingTaskService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>{this.dialogRef.close({dialogChangedDate:!0})},1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}onActionBackToParent(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelectedLinkMainImageId(){}onActionSelectSource(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_source","MESSAGE.The_source_of_the_information_application_is_not_known"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_source"],i["MESSAGE.The_source_of_the_information_application_is_not_known"])});return}}};bn.\u0275fac=function(i){return new(i||bn)(b(ve),b(we),b(de),b(O),b(K),b($e),b(P),b(ce),b(N),b(F))},bn.\u0275cmp=L({type:bn,selectors:[["app-ticketing-task-edit"]],viewQuery:function(i,t){if(i&1&&ne(_d,5),i&2){let l;oe(l=ae())&&(t.formGroup=l.first)}},standalone:!1,features:[G],decls:33,vars:33,consts:[["vform","ngForm"],["stepper",""],["FullName",""],["Title",""],["PhoneNo",""],["Email",""],["HtmlBody",""],["ExpireDate",""],["UserIpAddress",""],["DeviceInformation",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"form-actions"],["state","seo",3,"label"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.fullName",1,"color-highlight"],["matInput","","type","text","name","dataModel.fullName","minlength","3","maxlength","1000","required","","id","dataModel.fullName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.phoneNo",1,"color-highlight"],["matInput","","type","text","name","dataModel.phoneNo","type","text","minlength","3","maxlength","100","required","","id","dataModel.phoneNo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.email",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.email","type","text","minlength","3","maxlength","100","required","","id","dataModel.email",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.htmlBody",1,"color-highlight"],["matInput","","name","dataModel.htmlBody","type","text","minlength","0","maxlength","1000","rows","5","id","dataModel.htmlBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["for","dataModel.userIpAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.userIpAddress","type","text","minlength","0","maxlength","100","id","dataModel.userIpAddress",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.deviceInformation",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceInformation","type","text","minlength","0","maxlength","100","id","dataModel.deviceInformation",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let l=M();r(0,"div",10),_(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),c(4),a(),r(5,"p"),c(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",14),r(9,"form",15,0),T("ngSubmit",function(){return d(l),m(t.onFormSubmit())}),r(11,"mat-horizontal-stepper",16,1),T("selectionChange",function(p){d(l);let J=D(12);return m(t.onStepClick(p,J))}),r(13,"mat-step",17),h(14,"translate"),v(15,gd,1,5,"app-cms-enum-record-status-selector",18),r(16,"app-ticketing-departemen-selector",19),h(17,"translate"),T("optionChange",function(p){return d(l),m(t.onActionSelectSource(p))}),a(),v(18,Td,10,9,"div",20),v(19,Md,10,9,"div",20),v(20,yd,10,9,"div",20),v(21,xd,10,9,"div",20),v(22,Ld,10,10,"div",20),v(23,Vd,7,8,"div",21),v(24,Bd,7,7,"div",22),a(),r(25,"mat-step",23),h(26,"translate"),r(27,"p"),c(28),h(29,"translate"),a(),v(30,Nd,7,6,"div",20),v(31,Fd,7,6,"div",20),v(32,Od,7,7,"div",22),a()()()()()}i&2&&(o(),S("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",C(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),S("formInfo",t.formInfo),o(5),S("label",x(C(14,25,"TITLE.REQUIRED_INFORMATION"))),o(2),I(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?15:-1),o(),S("optionSelectForce",t.dataModel.linkTicketingDepartemenId)("optionPlaceholder",C(17,27,"TITLE.Department"))("optionDisabled",!(t.fieldsInfo.linkTicketingDepartemenId!=null&&t.fieldsInfo.linkTicketingDepartemenId.accessEditField)),o(2),I(t.fieldsInfo.fullName!=null&&t.fieldsInfo.fullName.accessWatchField?18:-1),o(),I(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?19:-1),o(),I(t.fieldsInfo.phoneNo!=null&&t.fieldsInfo.phoneNo.accessWatchField?20:-1),o(),I(t.fieldsInfo.email!=null&&t.fieldsInfo.email.accessWatchField?21:-1),o(),I(t.fieldsInfo.htmlBody!=null&&t.fieldsInfo.htmlBody.accessWatchField?22:-1),o(),I(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?23:-1),o(),I(t.formInfo.submitButtonEnabled?24:-1),o(),S("label",x(C(26,29,"TITLE.REST_OF_THE_INFORMATION"))),o(3),R(C(29,31,"TITLE.Rest_of_Information")),o(2),I(t.fieldsInfo.userIpAddress!=null&&t.fieldsInfo.userIpAddress.accessWatchField?30:-1),o(),I(t.fieldsInfo.deviceInformation!=null&&t.fieldsInfo.deviceInformation.accessWatchField?31:-1),o(),I(t.formInfo.submitButtonEnabled?32:-1))},dependencies:[ye,re,le,ke,Ae,Re,De,be,Ee,Xn,Zn,$n,We,zn,q,eo,to,io,no,Ne,U,_e,Gi,Qe,B],encapsulation:2});var To=bn;var Gd=()=>[5,10,20,100],Pd=n=>({background:n});function Hd(n,s){if(n&1){let e=M();r(0,"a",40),T("click",function(){d(e);let t=u();return m(t.onActionBackToParent())}),_(1,"i",41),a()}}function qd(n,s){if(n&1){let e=M();r(0,"div",17)(1,"a",42),T("click",function(){d(e);let t=u();return m(t.onActionButtonNewRow())}),_(2,"i",43)(3,"br"),a(),r(4,"p",44),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.ADD")," "))}function Wd(n,s){if(n&1){let e=M();r(0,"div",17)(1,"a",10),T("click",function(){d(e);let t=u();return m(t.onActionButtonAnswerList())}),_(2,"i",45)(3,"br"),a(),r(4,"p",44),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.ANSWERS")," "))}function jd(n,s){if(n&1){let e=M();r(0,"div",17)(1,"a",46),T("click",function(){d(e);let t=u();return m(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",47)(3,"br"),a(),r(4,"p",44),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.EDIT")," "))}function Ud(n,s){if(n&1){let e=M();r(0,"div",17)(1,"a",48),T("click",function(){d(e);let t=u();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",49)(3,"br"),a(),r(4,"p",44),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.DELETE")," "))}function Qd(n,s){if(n&1){let e=M();r(0,"div",17)(1,"a",50),T("click",function(){d(e);let t=u();return m(t.onActionButtonAnswerList(t.tableRowSelected))}),_(2,"i",45)(3,"br"),a(),r(4,"p",44),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.ANSWERS")," "))}function Kd(n,s){if(n&1){let e=M();r(0,"div",17)(1,"a",51),T("click",function(){d(e);let t=u();return m(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",52)(3,"br"),a(),r(4,"p",44),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.VIEW")," "))}function zd(n,s){if(n&1&&(r(0,"mat-header-cell",53),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Jd(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),g(" ",e.id," ")}}function Yd(n,s){if(n&1&&(r(0,"mat-header-cell",53),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Xd(n,s){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"cmssiteinfo"),h(3,"async"),a()),n&2){let e=s.$implicit;o(),g(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function Zd(n,s){if(n&1&&(r(0,"mat-header-cell",53),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function $d(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),g(" ",e.linkMemberId," ")}}function em(n,s){if(n&1&&(r(0,"mat-header-cell",53),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function tm(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),g(" ",e.title," ")}}function im(n,s){if(n&1&&(r(0,"mat-header-cell",53),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function nm(n,s){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),g(" ",C(2,1,e.createdDate)," ")}}function om(n,s){if(n&1&&(r(0,"mat-header-cell",53),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function am(n,s){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),g(" ",C(2,1,e.updatedDate)," ")}}function rm(n,s){if(n&1&&(r(0,"mat-header-cell",53),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.ticketStatus==null?null:e.fieldsInfo.ticketStatus.fieldTitle," ")}}function lm(n,s){if(n&1&&(r(0,"mat-cell",54),c(1),h(2,"enums"),a()),n&2){let e=s.$implicit,i=u();S("ngStyle",Pe(5,Pd,i.publicHelper.RowStyleTicketStatus(e.ticketStatus))),o(),g(" ",zt(2,2,e.ticketStatus,i.dataModelEnumTicketStatusResult.listItems)," ")}}function sm(n,s){n&1&&(r(0,"mat-header-cell"),c(1),h(2,"translate"),a()),n&2&&(o(),g(" ",C(2,1,"TITLE.OPTION")," "))}function cm(n,s){if(n&1&&(r(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),c(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let e=D(5);o(),S("matMenuTriggerFor",e)}}function dm(n,s){n&1&&_(0,"mat-header-row")}function mm(n,s){if(n&1){let e=M();r(0,"mat-row",57),T("click",function(t){let l=d(e).$implicit,f=u();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=d(e).$implicit,f=u();return m(f.onActionTableRowSelect(l,t))}),a()}if(n&2){let e=s.$implicit,i=u();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var vn=class vn extends Tt{constructor(e,i,t,l,f,p,J,ee,ze,Je,Qt,Mt,kn){super(e,new Ye,Mt,p,ze);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=l;this.router=f;this.tokenHelper=p;this.cmsStoreService=J;this.cdr=ee;this.translate=ze;this.ticketingEnumService=Je;this.pageInfo=Qt;this.publicHelper=Mt;this.dialog=kn;this.requestDepartemenId=0;this.requestLinkCmsUserId=0;this.requestTicketStatus=-1;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Z;this.filterDataModelQueryBuilder=[];this.dataModelEnumTicketStatusResult=new Q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["title","linkMemberId","createdDate","updatedDate","TicketStatus"];this.tabledisplayedColumnsMobileSource=["title","linkMemberId","createdDate","updatedDate","TicketStatus"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Mo=>this.onSubmitOptionsSearch(Mo)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=j.Descending}ngOnInit(){this.requestDepartemenId=+Number(this.activatedRoute.snapshot.paramMap.get("DepartemenId")),this.requestLinkCmsUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkCmsUserId")),this.activatedRoute.snapshot.paramMap.get("TicketStatus")&&(this.requestTicketStatus=+Number(this.activatedRoute.snapshot.paramMap.get("TicketStatus"))),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>te(this,null,function*(){this.getEnumTicketStatus(),this.tokenInfo=e,this.DataGetAll()}))),this.getEnumTicketStatus()}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getEnumTicketStatus(){this.ticketingEnumService.ServiceTicketStatusEnum().subscribe({next:e=>{this.dataModelEnumTicketStatusResult=e}})}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ye);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]);let t=new Y;this.requestDepartemenId>0&&(t.propertyName="LinkTicketingDepartemenId",t.value=this.requestDepartemenId,i.filters.push(t)),this.categoryModelSelected&&this.categoryModelSelected.id>0&&(t.propertyName="LinkTicketingDepartemenId",t.value=this.categoryModelSelected.id,i.filters.push(t)),this.requestLinkCmsUserId>0&&(t.propertyName="LinkCmsUserId",t.value=this.requestLinkCmsUserId,i.filters.push(t)),this.requestTicketStatus>=0&&(t.propertyName="TicketStatus",t.value=this.requestTicketStatus,i.filters.push(t)),this.contentService.ServiceGetAll(i).subscribe({next:l=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),l.isSuccess?(this.applyDataGetAllResult(l),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)},1e3)):this.cmsToastrService.typeErrorGetAll(l.errorMessage),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null&&this.categoryModelSelected&&this.categoryModelSelected.id===0&&(this.requestDepartemenId==null||this.requestDepartemenId===0)){this.translate.get("MESSAGE.Content_not_selected").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}let e=this.requestDepartemenId;this.categoryModelSelected&&this.categoryModelSelected.id>0&&(e=this.categoryModelSelected.id);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Co,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkDepartemenId:e}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(hn,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Z,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(To,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonAnswerList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}this.router.navigate(["/ticketing/answer/LinkTaskId/",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(f,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?this.cmsToastrService.typeSuccessRemove():this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess&&(this.translate.get("MESSAGE.All").subscribe(J=>{i.set(J,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Y;f.propertyName="recordStatus",f.value=ot.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess&&(this.translate.get("MESSAGE.Active").subscribe(J=>{i.set(J,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.requestTicketStatus=-1,this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}};vn.\u0275fac=function(i){return new(i||vn)(b($e),b(we),b(P),b($t),b(ce),b(fe),b(ue),b(N),b(F),b(di),b(Ct),b(O),b(je))},vn.\u0275cmp=L({type:vn,selectors:[["app-ticketing-task-list"]],standalone:!1,features:[G],decls:63,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkMemberId"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","TicketStatus"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-phone-arrow-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=M();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(p){return d(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),m(p)}),T("optionOnActionButtonMemoRow",function(){return d(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(l),m(t.onActionButtonPrintRow())}),w(1,4),r(2,"app-ticketing-departemen-tree",5),T("optionChange",function(p){return d(l),m(t.onActionSelectorSelect(p))}),a(),k(),ie(3,6)(4,7),w(5,8),v(6,Hd,2,0,"a",9),r(7,"a",10),T("click",function(){return d(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",11),a(),r(9,"a",10),T("click",function(){return d(l),m(t.onActionButtonReload())}),_(10,"i",12),a(),k(),w(11,13),r(12,"a",14),T("click",function(){return d(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(13,"mat-slide-toggle",15),c(14),h(15,"translate"),a(),r(16,"a",14),T("click",function(){return d(l),m(t.onActionButtonStatist())}),_(17,"mat-slide-toggle",15),c(18),h(19,"translate"),a(),k(),w(20,16),v(21,qd,7,3,"div",17),v(22,Wd,7,3,"div",17),k(),w(23,18),v(24,jd,7,3,"div",17),v(25,Ud,7,3,"div",17),v(26,Qd,7,3,"div",17),v(27,Kd,7,3,"div",17),k(),w(28,19),r(29,"app-cms-search-list",20),A("optionsChange",function(p){return d(l),y(t.optionsSearch,p)||(t.optionsSearch=p),m(p)}),a(),r(30,"app-cms-statist-list",20),A("optionsChange",function(p){return d(l),y(t.optionsStatist,p)||(t.optionsStatist=p),m(p)}),a(),k(),w(31,21),r(32,"mat-table",22,0),T("matSortChange",function(){d(l);let p=D(33);return m(t.onTableSortData(p))}),w(34,23),V(35,zd,2,1,"mat-header-cell",24)(36,Jd,2,1,"mat-cell",25),k(),w(37,26),V(38,Yd,2,1,"mat-header-cell",24)(39,Xd,4,5,"mat-cell",25),k(),w(40,27),V(41,Zd,2,1,"mat-header-cell",24)(42,$d,2,1,"mat-cell",25),k(),w(43,28),V(44,em,2,1,"mat-header-cell",24)(45,tm,2,1,"mat-cell",25),k(),w(46,29),V(47,im,2,1,"mat-header-cell",24)(48,nm,3,3,"mat-cell",25),k(),w(49,30),V(50,om,2,1,"mat-header-cell",24)(51,am,3,3,"mat-cell",25),k(),w(52,31),V(53,rm,2,1,"mat-header-cell",24)(54,lm,3,7,"mat-cell",32),k(),w(55,33),V(56,sm,3,3,"mat-header-cell",34)(57,cm,6,1,"mat-cell",35),k(),V(58,dm,1,0,"mat-header-row",36)(59,mm,1,2,"mat-row",37),a(),k(),w(60,38),r(61,"mat-paginator",39,1),T("page",function(p){return d(l),m(t.onTablePageingData(p))}),a(),k(),a()}i&2&&(S("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","ticketing.task.list"),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),S("optionTreeDisplay",t.requestDepartemenId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),I(t.requestDepartemenId>0?6:-1),o(4),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),S("checked",t.optionsSearch.data.show),o(),g("",C(15,29,"ACTION.SEARCH")," "),o(3),S("checked",t.optionsStatist.data.show),o(),g("",C(19,31,"ACTION.STATIST")," "),o(3),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?22:-1),o(2),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?24:-1),o(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?25:-1),o(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?26:-1),o(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?27:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),S("dataSource",t.tableSource),o(26),S("matHeaderRowDef",t.tabledisplayedColumns),o(),S("matRowDefColumns",t.tabledisplayedColumns),o(2),S("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(33,Gd)))},dependencies:[He,et,tt,at,rt,me,pe,lt,st,ct,mt,_t,pt,dt,gt,ut,ft,St,ht,ge,Se,bt,he,nt,qe,B,ii,vt,Ue],encapsulation:2});var si=vn;var pm=()=>[5,10,20,100],um=n=>({background:n}),fm=(n,s)=>s.id;function _m(n,s){if(n&1){let e=M();r(0,"a",27),T("click",function(){d(e);let t=u();return m(t.onActionBackToParent())}),_(1,"i",28),a()}}function gm(n,s){if(n&1){let e=M();r(0,"div",18)(1,"a",29),T("click",function(){d(e);let t=u();return m(t.onActionButtonNewRow())}),_(2,"i",30)(3,"br"),a(),r(4,"p",31),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.ADD")," "))}function Sm(n,s){if(n&1){let e=M();r(0,"div",18)(1,"a",8),T("click",function(){d(e);let t=u();return m(t.onActionButtonAnswerList())}),_(2,"i",32)(3,"br"),a(),r(4,"p",31),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.ANSWERS")," "))}function hm(n,s){if(n&1){let e=M();r(0,"div",18)(1,"a",33),T("click",function(){d(e);let t=u();return m(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",34)(3,"br"),a(),r(4,"p",31),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.EDIT")," "))}function Cm(n,s){if(n&1){let e=M();r(0,"div",18)(1,"a",35),T("click",function(){d(e);let t=u();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",36)(3,"br"),a(),r(4,"p",31),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.DELETE")," "))}function Tm(n,s){if(n&1){let e=M();r(0,"div",18)(1,"a",11),T("click",function(){d(e);let t=u();return m(t.onActionButtonAnswerList(t.tableRowSelected))}),_(2,"i",32)(3,"br"),a(),r(4,"p",31),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.ANSWERS")," "))}function bm(n,s){if(n&1){let e=M();r(0,"div",18)(1,"a",37),T("click",function(){d(e);let t=u();return m(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",38)(3,"br"),a(),r(4,"p",31),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.VIEW")," "))}function vm(n,s){if(n&1&&(r(0,"div",45),_(1,"i",48),c(2),a()),n&2){let e=u().$implicit,i=u(2);o(2),Ve(" ",i.fieldsInfo.linkMemberId==null?null:i.fieldsInfo.linkMemberId.fieldTitle,": ",e.linkMemberId," ")}}function Im(n,s){if(n&1&&(r(0,"div",45),_(1,"i",49),c(2),h(3,"cmssiteinfo"),h(4,"async"),a()),n&2){let e=u().$implicit,i=u(2);o(2),Ve(" ",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,": ",C(4,4,C(3,2,e.linkSiteId))," ")}}function Mm(n,s){if(n&1&&(r(0,"div",46),_(1,"i",50),c(2),h(3,"enums"),a()),n&2){let e=u().$implicit,i=u(2);S("ngStyle",Pe(6,um,i.publicHelper.RowStyleTicketStatus(e.ticketStatus))),o(2),Ve(" ",i.fieldsInfo.ticketStatus==null?null:i.fieldsInfo.ticketStatus.fieldTitle,": ",zt(3,3,e.ticketStatus,i.dataModelEnumTicketStatusResult.listItems)," ")}}function wm(n,s){if(n&1&&(r(0,"div",45),_(1,"i",51),c(2),h(3,"localeDate"),a()),n&2){let e=u().$implicit,i=u(2);o(2),Ve(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",C(3,2,e.createdDate)," ")}}function km(n,s){if(n&1&&(r(0,"div",45),_(1,"i",52),c(2),h(3,"localeDate"),a()),n&2){let e=u().$implicit,i=u(2);o(2),Ve(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",C(3,2,e.updatedDate)," ")}}function Em(n,s){if(n&1){let e=M();r(0,"div",47)(1,"div",45)(2,"span",53),T("click",function(t){return d(e),u(3).onActionCopied(),m(t.stopPropagation())}),_(3,"i",54),a(),c(4),a()()}if(n&2){let e=u().$implicit;o(2),S("cdkCopyToClipboard",(e.id==null?null:e.id.toString())||""),o(2),g(" ID: ",e.id," ")}}function ym(n,s){if(n&1){let e=M();r(0,"div",40),T("click",function(t){let l=d(e).$implicit,f=u(2);return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=d(e).$implicit,f=u(2);return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=d(e).$implicit,l=u(2);return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,l=u(2);return m(l.onActionTableRowMouseLeave(t))}),r(1,"div",41),_(2,"i",42),h(3,"statusIconClass"),a(),r(4,"div",43)(5,"div",44),c(6),a(),v(7,vm,3,2,"div",45),v(8,Im,5,6,"div",45),v(9,Mm,4,8,"div",46),v(10,wm,4,4,"div",45),v(11,km,4,4,"div",45),v(12,Em,5,2,"div",47),a()()}if(n&2){let e=s.$implicit,i=u(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),Le("aria-label",e.title||e.id),o(2),S("ngClass",C(3,11,e.recordStatus)),o(4),g(" ",e.title||"ID: "+e.id," "),o(),I(e.linkMemberId?7:-1),o(),I(e.linkSiteId?8:-1),o(),I(e.ticketStatus!==void 0?9:-1),o(),I(e.createdDate?10:-1),o(),I(e.updatedDate?11:-1),o(),I(i.getRowExpanded(e)?12:-1)}}function Am(n,s){if(n&1&&(r(0,"div",23),Oe(1,ym,13,13,"div",39,fm),a()),n&2){let e=u();o(),Ge(e.dataModelResult.listItems)}}function Rm(n,s){n&1&&(r(0,"div",24),c(1),h(2,"translate"),a()),n&2&&(o(),g(" ",C(2,1,"MESSAGE.NoRecord")," "))}var Di=class Di extends si{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}};Di.\u0275fac=(()=>{let e;return function(t){return(e||(e=yt(Di)))(t||Di)}})(),Di.\u0275cmp=L({type:Di,selectors:[["app-ticketing-task-list-mobile"]],hostBindings:function(i,t){i&1&&T("click",function(f){return t.onDocumentClick(f)},Kt)},standalone:!1,features:[G],decls:41,vars:34,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-phone-arrow-right","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-subtitle",3,"ngStyle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-user"],["aria-hidden","true",1,"fa-solid","fa-globe"],["aria-hidden","true",1,"fa-solid","fa-info-circle"],["aria-hidden","true",1,"fa-solid","fa-calendar-plus"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(i,t){if(i&1){let l=M();r(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(p){return d(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),m(p)}),T("optionOnActionButtonMemoRow",function(){return d(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(l),m(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return d(l),m(t.onActionLoadNextPage())}),w(1,2),r(2,"app-ticketing-departemen-tree",3),T("optionChange",function(p){return d(l),m(t.onActionSelectorSelect(p))}),a(),k(),ie(3,4)(4,5),w(5,6),v(6,_m,2,0,"a",7),r(7,"a",8),T("click",function(){return d(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",9),a(),r(9,"a",8),T("click",function(){return d(l),m(t.onActionButtonReload())}),_(10,"i",10),a(),r(11,"a",11),T("click",function(){return d(l),m(t.onActionGridExpandRows(!0))}),_(12,"i",12),a(),r(13,"a",11),T("click",function(){return d(l),m(t.onActionGridExpandRows(!1))}),_(14,"i",13),a(),k(),w(15,14),r(16,"a",15),T("click",function(){return d(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(17,"mat-slide-toggle",16),c(18),h(19,"translate"),a(),r(20,"a",15),T("click",function(){return d(l),m(t.onActionButtonStatist())}),_(21,"mat-slide-toggle",16),c(22),h(23,"translate"),a(),k(),w(24,17),v(25,gm,7,3,"div",18),v(26,Sm,7,3,"div",18),k(),w(27,19),v(28,hm,7,3,"div",18),v(29,Cm,7,3,"div",18),v(30,Tm,7,3,"div",18),v(31,bm,7,3,"div",18),k(),w(32,20),r(33,"app-cms-search-list",21),A("optionsChange",function(p){return d(l),y(t.optionsSearch,p)||(t.optionsSearch=p),m(p)}),a(),r(34,"app-cms-statist-list",21),A("optionsChange",function(p){return d(l),y(t.optionsStatist,p)||(t.optionsStatist=p),m(p)}),a(),k(),w(35,22),v(36,Am,3,0,"div",23)(37,Rm,3,3,"div",24),k(),w(38,25),r(39,"mat-paginator",26,0),T("page",function(p){return d(l),m(t.onTablePageingData(p))}),a(),k(),a()}i&2&&(S("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","ticketing.task.list"),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),S("optionTreeDisplay",t.requestDepartemenId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),I(t.requestDepartemenId>0?6:-1),o(4),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),S("checked",t.optionsSearch.data.show),o(),g("",C(19,29,"ACTION.SEARCH")," "),o(3),S("checked",t.optionsStatist.data.show),o(),g("",C(23,31,"ACTION.STATIST")," "),o(3),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?25:-1),o(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?26:-1),o(2),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?28:-1),o(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?29:-1),o(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?30:-1),o(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?31:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),I(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?36:37),o(3),S("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(33,pm)))},dependencies:[Me,He,me,pe,xt,ge,Se,Vt,he,nt,qe,B,ii,vt,Ue,xe],encapsulation:2});var xi=Di;var Dm=["vform"];function xm(n,s){if(n&1){let e=M();r(0,"app-cms-enum-record-status-selector",13),A("modelChange",function(t){d(e);let l=u();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),a()}if(n&2){let e=u();E("model",e.dataModel.recordStatus),S("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Lm(n,s){n&1&&_(0,"i",16)}function Vm(n,s){n&1&&_(0,"i",17)}function Bm(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),a()()),n&2){let e=u(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),R(C(4,2,"MESSAGE.required"))}}function Nm(n,s){if(n&1){let e=M();r(0,"div",11)(1,"label",14),c(2),a(),r(3,"input",15,1),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.title,t)||(l.dataModel.title=t),m(t)}),a(),v(5,Lm,1,0,"i",16),v(6,Vm,1,0,"i",17),r(7,"em"),c(8),a(),v(9,Bm,5,4,"mat-error"),a()}if(n&2){let e=D(4),i=u();o(2),R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),S("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),o(2),I(e.value?-1:5),o(),I(e.value?6:-1),o(2),g("",e.value.length," / 100"),o(),I(e.errors!=null&&e.errors.required?9:-1)}}function Fm(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),a()()),n&2){let e=u(2);o(),g(" ",e.fieldsInfo.htmlBody==null?null:e.fieldsInfo.htmlBody.fieldTitle," "),o(2),R(C(4,2,"MESSAGE.required"))}}function Om(n,s){if(n&1){let e=M();r(0,"div",11)(1,"label",18),c(2),h(3,"translate"),a(),r(4,"textarea",19,2),h(6,"translate"),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.htmlBody,t)||(l.dataModel.htmlBody=t),m(t)}),c(7,"            "),a(),r(8,"em"),c(9),a(),v(10,Fm,5,4,"mat-error"),a()}if(n&2){let e=D(5),i=u();o(2),R(C(3,8,"TITLE.Description")),o(2),S("disabled",x(!(i.fieldsInfo.htmlBody!=null&&i.fieldsInfo.htmlBody.accessAddField)))("placeholder",x(C(6,10,"TITLE.Answer_Text"))),E("ngModel",i.dataModel.htmlBody),o(5),g("",e.value.length," / 2000"),o(),I(e.errors!=null&&e.errors.required?10:-1)}}function Gm(n,s){if(n&1){let e=M();r(0,"div",12)(1,"button",20),T("click",function(){d(e);let t=u();return m(t.onFormCancel())}),_(2,"i",21),c(3),h(4,"translate"),a(),r(5,"button",22),_(6,"i",23),c(7),h(8,"translate"),a()()}if(n&2){u();let e=D(10);o(3),g(" ",C(4,3,"ACTION.CANCEL")," "),o(2),S("disabled",!e.form.valid),o(2),g(" ",C(8,5,"ACTION.SAVE")," ")}}var In=class In extends Lt{constructor(e,i,t,l,f,p,J,ee){super(l,new wt,p,ee);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.ticketingTemplateService=l;this.cmsToastrService=f;this.publicHelper=p;this.cdr=J;this.translate=ee;this.requestParentId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.formMatcher=new pi;this.dataModelResult=new Q;this.dataModel=new wt;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestParentId=+e.parentId||0),this.requestParentId>0&&(this.dataModel.linkTicketingDepartemenId=this.requestParentId)}ngOnInit(){this.translate.get("TITLE.Submit_New_Content").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingTemplateService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectorSelect(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Information_department_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkTicketingDepartemenId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};In.\u0275fac=function(i){return new(i||In)(b(ve),b(de),b(K),b(Xt),b(P),b(O),b(N),b(F))},In.\u0275cmp=L({type:In,selectors:[["app-ticketing-template-add"]],viewQuery:function(i,t){if(i&1&&ne(Dm,5),i&2){let l;oe(l=ae())&&(t.formGroup=l.first)}},standalone:!1,features:[G],decls:17,vars:14,consts:[["vform","ngForm"],["Title",""],["HtmlBody",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.htmlBody",1,"color-highlight"],["matInput","","name","dataModel.htmlBody","type","text","minlength","1","maxlength","2000","rows","7","id","dataModel.htmlBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=M();r(0,"div",3),_(1,"app-progress-spinner",4),r(2,"div",5)(3,"p",6),c(4),a(),r(5,"p"),c(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",7),r(9,"form",8,0),T("ngSubmit",function(){return d(l),m(t.onFormSubmit())}),v(11,xm,1,5,"app-cms-enum-record-status-selector",9),r(12,"app-ticketing-departemen-selector",10),h(13,"translate"),T("optionChange",function(p){return d(l),m(t.onActionSelectorSelect(p))}),a(),v(14,Nm,10,8,"div",11),v(15,Om,11,12,"div",11),v(16,Gm,9,7,"div",12),a()()()}i&2&&(o(),S("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",C(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),S("formInfo",t.formInfo),o(3),I(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),S("optionSelectForce",t.dataModel.linkTicketingDepartemenId)("optionPlaceholder",C(13,12,"TITLE.Department")),o(2),I(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?14:-1),o(),I(t.fieldsInfo.htmlBody!=null&&t.fieldsInfo.htmlBody.accessWatchField?15:-1),o(),I(t.formInfo.submitButtonEnabled?16:-1))},dependencies:[ye,re,le,ke,Ae,Re,De,be,Ee,We,q,Ne,U,_e,Qe,B],encapsulation:2});var bo=In;var Pm=["vform"];function Hm(n,s){if(n&1){let e=M();r(0,"app-cms-enum-record-status-selector",13),A("modelChange",function(t){d(e);let l=u();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),a()}if(n&2){let e=u();E("model",e.dataModel.recordStatus),S("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function qm(n,s){n&1&&_(0,"i",16)}function Wm(n,s){n&1&&_(0,"i",17)}function jm(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),a()()),n&2){let e=u(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),R(C(4,2,"MESSAGE.required"))}}function Um(n,s){if(n&1){let e=M();r(0,"div",11)(1,"label",14),c(2),a(),r(3,"input",15,1),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.title,t)||(l.dataModel.title=t),m(t)}),a(),v(5,qm,1,0,"i",16),v(6,Wm,1,0,"i",17),r(7,"em"),c(8),a(),v(9,jm,5,4,"mat-error"),a()}if(n&2){let e=D(4),i=u();o(2),R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),S("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),o(2),I(e.value?-1:5),o(),I(e.value?6:-1),o(2),g("",e.value.length," / 100"),o(),I(e.errors!=null&&e.errors.required?9:-1)}}function Qm(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),a()()),n&2){let e=u(2);o(),g(" ",e.fieldsInfo.htmlBody==null?null:e.fieldsInfo.htmlBody.fieldTitle," "),o(2),R(C(4,2,"MESSAGE.required"))}}function Km(n,s){if(n&1){let e=M();r(0,"div",11)(1,"label",18),c(2),h(3,"translate"),a(),r(4,"textarea",19,2),h(6,"translate"),A("ngModelChange",function(t){d(e);let l=u();return y(l.dataModel.htmlBody,t)||(l.dataModel.htmlBody=t),m(t)}),c(7,"            "),a(),r(8,"em"),c(9),a(),v(10,Qm,5,4,"mat-error"),a()}if(n&2){let e=D(5),i=u();o(2),R(C(3,8,"TITLE.Description")),o(2),S("disabled",x(!(i.fieldsInfo.htmlBody!=null&&i.fieldsInfo.htmlBody.accessAddField)))("placeholder",x(C(6,10,"TITLE.Answer_Text"))),E("ngModel",i.dataModel.htmlBody),o(5),g("",e.value.length," / 2000"),o(),I(e.errors!=null&&e.errors.required?10:-1)}}function zm(n,s){if(n&1){let e=M();r(0,"div",12)(1,"button",20),T("click",function(){d(e);let t=u();return m(t.onFormCancel())}),_(2,"i",21),c(3),h(4,"translate"),a(),r(5,"button",22),_(6,"i",23),c(7),h(8,"translate"),a()()}if(n&2){u();let e=D(10);o(3),g(" ",C(4,3,"ACTION.CANCEL")," "),o(2),S("disabled",!e.form.valid),o(2),g(" ",C(8,5,"ACTION.SAVE")," ")}}var Mn=class Mn extends ei{constructor(e,i,t,l,f,p,J,ee){super(l,new wt,p,ee);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.ticketingTemplateService=l;this.cmsToastrService=f;this.publicHelper=p;this.cdr=J;this.translate=ee;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.formMatcher=new pi;this.dataModelResult=new At;this.dataModel=new wt;this.dataFileModel=new Map;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingTemplateService.setAccessLoad(),this.ticketingTemplateService.setAccessDataType(Rt.Editor),this.ticketingTemplateService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingTemplateService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectorSelect(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Information_department_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkTicketingDepartemenId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Mn.\u0275fac=function(i){return new(i||Mn)(b(ve),b(de),b(K),b(Xt),b(P),b(O),b(N),b(F))},Mn.\u0275cmp=L({type:Mn,selectors:[["app-ticketing-template-add"]],viewQuery:function(i,t){if(i&1&&ne(Pm,5),i&2){let l;oe(l=ae())&&(t.formGroup=l.first)}},standalone:!1,features:[G],decls:17,vars:14,consts:[["vform","ngForm"],["Title",""],["HtmlBody",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.htmlBody",1,"color-highlight"],["matInput","","name","dataModel.htmlBody","type","text","minlength","1","maxlength","2000","rows","7","id","dataModel.htmlBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=M();r(0,"div",3),_(1,"app-progress-spinner",4),r(2,"div",5)(3,"p",6),c(4),a(),r(5,"p"),c(6),h(7,"translate"),a(),_(8,"app-cms-form-result-message",7),r(9,"form",8,0),T("ngSubmit",function(){return d(l),m(t.onFormSubmit())}),v(11,Hm,1,5,"app-cms-enum-record-status-selector",9),r(12,"app-ticketing-departemen-selector",10),h(13,"translate"),T("optionChange",function(p){return d(l),m(t.onActionSelectorSelect(p))}),a(),v(14,Um,10,8,"div",11),v(15,Km,11,12,"div",11),v(16,zm,9,7,"div",12),a()()()}i&2&&(o(),S("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",C(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),S("formInfo",t.formInfo),o(3),I(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),S("optionSelectForce",t.dataModel.linkTicketingDepartemenId)("optionPlaceholder",C(13,12,"TITLE.Department")),o(2),I(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?14:-1),o(),I(t.fieldsInfo.htmlBody!=null&&t.fieldsInfo.htmlBody.accessWatchField?15:-1),o(),I(t.formInfo.submitButtonEnabled?16:-1))},dependencies:[ye,re,le,ke,Ae,Re,De,be,Ee,We,q,Ne,U,_e,Qe,B],encapsulation:2});var vo=Mn;var Jm=()=>[5,10,20,100],Ym=n=>({display:n});function Xm(n,s){if(n&1){let e=M();r(0,"a",37),T("click",function(){d(e);let t=u();return m(t.onActionBackToParent())}),_(1,"i",38),a()}}function Zm(n,s){if(n&1){let e=M();r(0,"div",17)(1,"a",39),T("click",function(){d(e);let t=u();return m(t.onActionButtonNewRow())}),_(2,"i",40)(3,"br"),a(),r(4,"p",41),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.ADD")," "))}function $m(n,s){if(n&1){let e=M();r(0,"div",17)(1,"a",42),T("click",function(){d(e);let t=u();return m(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",43)(3,"br"),a(),r(4,"p",41),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.EDIT")," "))}function ep(n,s){if(n&1){let e=M();r(0,"div",17)(1,"a",44),T("click",function(){d(e);let t=u();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",45)(3,"br"),a(),r(4,"p",41),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.DELETE")," "))}function tp(n,s){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ip(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),g(" ",e.id," ")}}function np(n,s){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function op(n,s){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"cmssiteinfo"),h(3,"async"),a()),n&2){let e=s.$implicit;o(),g(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function ap(n,s){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function rp(n,s){if(n&1&&_(0,"select",48),n&2){let e=u().$implicit,i=u();S("contentService",i.contentService)("row",e)("ngStyle",Pe(3,Ym,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function lp(n,s){if(n&1&&(r(0,"mat-cell",47),h(1,"statusCellClass"),_(2,"i",47),h(3,"statusIconClass"),v(4,rp,1,5,"select",48),a()),n&2){let e=s.$implicit,i=u();S("ngClass",C(1,3,e.recordStatus)),o(2),S("ngClass",C(3,5,e.recordStatus)),o(2),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function sp(n,s){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=u();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function cp(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),g(" ",e.title," ")}}function dp(n,s){n&1&&(r(0,"mat-header-cell"),c(1),h(2,"translate"),a()),n&2&&(o(),g(" ",C(2,1,"TITLE.OPTION")," "))}function mp(n,s){if(n&1&&(r(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),c(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let e=D(5);o(),S("matMenuTriggerFor",e)}}function pp(n,s){n&1&&_(0,"mat-header-row")}function up(n,s){if(n&1){let e=M();r(0,"mat-row",51),T("click",function(t){let l=d(e).$implicit,f=u();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=d(e).$implicit,f=u();return m(f.onActionTableRowSelect(l,t))}),a()}if(n&2){let e=s.$implicit,i=u();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var wn=class wn extends Tt{constructor(e,i,t,l,f,p,J,ee,ze,Je,Qt,Mt){super(e,new wt,Qt,p,ee);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=l;this.router=f;this.tokenHelper=p;this.cdr=J;this.translate=ee;this.cmsStoreService=ze;this.pageInfo=Je;this.publicHelper=Qt;this.dialog=Mt;this.requestDepartemenId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Z;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus"];this.tabledisplayedColumnsMobileSource=["id","recordStatus"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:kn=>this.onSubmitOptionsSearch(kn)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=j.Descending}ngOnInit(){this.requestDepartemenId=+Number(this.activatedRoute.snapshot.paramMap.get("DepartemenId")),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>te(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new wt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]);let t=new Y;this.requestDepartemenId>0&&(t.propertyName="LinkTicketingDepartemenId",t.value=this.requestDepartemenId,i.filters.push(t)),this.categoryModelSelected&&this.categoryModelSelected.id>0&&(t.propertyName="LinkTicketingDepartemenId",t.value=this.categoryModelSelected.id,i.filters.push(t)),this.contentService.ServiceGetAllEditor(i).subscribe({next:l=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),l.isSuccess?(this.applyDataGetAllResult(l),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)},1e3)):this.cmsToastrService.typeErrorGetAll(l.errorMessage),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=j.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=j.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null&&this.categoryModelSelected&&this.categoryModelSelected.id===0&&(this.requestDepartemenId==null||this.requestDepartemenId===0)){this.translate.get("MESSAGE.Content_not_selected").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.requestDepartemenId;this.categoryModelSelected&&this.categoryModelSelected.id>0&&(e=this.categoryModelSelected.id);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(bo,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{parentId:e}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Z,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(vo,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id===0){this.translate.get("MESSAGE.No_row_selected_for_editing").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(f,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?this.cmsToastrService.typeSuccessRemove():this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(f)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess&&(i.set("All",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Y;f.propertyName="recordStatus",f.value=ot.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess&&(i.set("Active",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}};wn.\u0275fac=function(i){return new(i||wn)(b(Xt),b(we),b(P),b($t),b(ce),b(fe),b(N),b(F),b(ue),b(Ct),b(O),b(je))},wn.\u0275cmp=L({type:wn,selectors:[["app-application-app-list"]],standalone:!1,features:[G],decls:51,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=M();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(p){return d(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),m(p)}),T("optionOnActionButtonMemoRow",function(){return d(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(l),m(t.onActionButtonPrintRow())}),w(1,4),r(2,"app-ticketing-departemen-tree",5),T("optionChange",function(p){return d(l),m(t.onActionSelectorSelect(p))}),a(),k(),ie(3,6)(4,7),w(5,8),v(6,Xm,2,0,"a",9),r(7,"a",10),T("click",function(){return d(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",11),a(),r(9,"a",10),T("click",function(){return d(l),m(t.onActionButtonReload())}),_(10,"i",12),a(),k(),w(11,13),r(12,"a",14),T("click",function(){return d(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(13,"mat-slide-toggle",15),c(14),h(15,"translate"),a(),r(16,"a",14),T("click",function(){return d(l),m(t.onActionButtonStatist())}),_(17,"mat-slide-toggle",15),c(18),h(19,"translate"),a(),k(),w(20,16),v(21,Zm,7,3,"div",17),k(),w(22,18),v(23,$m,7,3,"div",17),v(24,ep,7,3,"div",17),k(),w(25,19),r(26,"app-cms-search-list",20),A("optionsChange",function(p){return d(l),y(t.optionsSearch,p)||(t.optionsSearch=p),m(p)}),a(),r(27,"app-cms-statist-list",20),A("optionsChange",function(p){return d(l),y(t.optionsStatist,p)||(t.optionsStatist=p),m(p)}),a(),k(),w(28,21),r(29,"mat-table",22,0),T("matSortChange",function(){d(l);let p=D(30);return m(t.onTableSortData(p))}),w(31,23),V(32,tp,2,1,"mat-header-cell",24)(33,ip,2,1,"mat-cell",25),k(),w(34,26),V(35,np,2,1,"mat-header-cell",24)(36,op,4,5,"mat-cell",25),k(),w(37,27),V(38,ap,2,1,"mat-header-cell",24)(39,lp,5,7,"mat-cell",28),k(),w(40,29),V(41,sp,2,1,"mat-header-cell",24)(42,cp,2,1,"mat-cell",25),k(),w(43,30),V(44,dp,3,3,"mat-header-cell",31)(45,mp,6,1,"mat-cell",32),k(),V(46,pp,1,0,"mat-header-row",33)(47,up,1,2,"mat-row",34),a(),k(),w(48,35),r(49,"mat-paginator",36,1),T("page",function(p){return d(l),m(t.onTablePageingData(p))}),a(),k(),a()}i&2&&(S("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),S("optionTreeDisplay",t.requestDepartemenId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),I(t.requestDepartemenId>0?6:-1),o(4),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),S("checked",t.optionsSearch.data.show),o(),g("",C(15,26,"ACTION.SEARCH")," "),o(3),S("checked",t.optionsStatist.data.show),o(),g("",C(19,28,"ACTION.STATIST")," "),o(3),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),S("dataSource",t.tableSource),o(17),S("matHeaderRowDef",t.tabledisplayedColumns),o(),S("matRowDefColumns",t.tabledisplayedColumns),o(2),S("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(30,Jm)))},dependencies:[Me,He,et,tt,q,at,rt,me,pe,lt,st,ct,mt,_t,pt,dt,gt,ut,ft,St,ht,ge,Se,bt,he,it,nt,qe,B,vt,xe,ti],encapsulation:2});var Li=wn;var fp=()=>[5,10,20,100],_p=(n,s)=>s.id;function gp(n,s){if(n&1){let e=M();r(0,"a",27),T("click",function(){d(e);let t=u();return m(t.onActionBackToParent())}),_(1,"i",28),a()}}function Sp(n,s){if(n&1){let e=M();r(0,"div",18)(1,"a",29),T("click",function(){d(e);let t=u();return m(t.onActionButtonNewRow())}),_(2,"i",30)(3,"br"),a(),r(4,"p",31),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.ADD")," "))}function hp(n,s){if(n&1){let e=M();r(0,"div",18)(1,"a",32),T("click",function(){d(e);let t=u();return m(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",33)(3,"br"),a(),r(4,"p",31),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.EDIT")," "))}function Cp(n,s){if(n&1){let e=M();r(0,"div",18)(1,"a",34),T("click",function(){d(e);let t=u();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",35)(3,"br"),a(),r(4,"p",31),c(5),h(6,"translate"),a()()}n&2&&(o(5),g(" ",C(6,1,"ACTION.DELETE")," "))}function Tp(n,s){if(n&1&&(r(0,"div",42),_(1,"i",44),c(2),a()),n&2){let e=u().$implicit,i=u(2);o(2),Ve(" ",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,": ",e.linkSiteId," ")}}function bp(n,s){if(n&1&&_(0,"select",46),n&2){let e=u(2).$implicit,i=u(2);S("contentService",i.contentService)("row",e)}}function vp(n,s){if(n&1&&(r(0,"div",42),_(1,"i",45),h(2,"statusIconClass"),v(3,bp,1,2,"select",46),a()),n&2){let e=u().$implicit,i=u(2);o(),S("ngClass",C(2,2,e.recordStatus)),o(2),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function Ip(n,s){if(n&1){let e=M();r(0,"div",43)(1,"div",42)(2,"span",47),T("click",function(t){return d(e),u(3).onActionCopied(),m(t.stopPropagation())}),_(3,"i",48),a(),c(4),a()()}if(n&2){let e=u().$implicit;o(2),S("cdkCopyToClipboard",(e.id==null?null:e.id.toString())||""),o(2),g(" ID: ",e.id," ")}}function Mp(n,s){if(n&1){let e=M();r(0,"div",37),T("click",function(t){let l=d(e).$implicit,f=u(2);return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=d(e).$implicit,f=u(2);return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=d(e).$implicit,l=u(2);return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,l=u(2);return m(l.onActionTableRowMouseLeave(t))}),r(1,"div",38),_(2,"i",39),h(3,"statusIconClass"),a(),r(4,"div",40)(5,"div",41),c(6),a(),v(7,Tp,3,2,"div",42),v(8,vp,4,4,"div",42),v(9,Ip,5,2,"div",43),a()()}if(n&2){let e=s.$implicit,i=u(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),Le("aria-label",e.title||e.id),o(2),S("ngClass",C(3,8,e.recordStatus)),o(4),g(" ",e.title||"ID: "+e.id," "),o(),I(e.linkSiteId?7:-1),o(),I(e.recordStatus!==void 0?8:-1),o(),I(i.getRowExpanded(e)?9:-1)}}function wp(n,s){if(n&1&&(r(0,"div",23),Oe(1,Mp,10,10,"div",36,_p),a()),n&2){let e=u();o(),Ge(e.dataModelResult.listItems)}}function kp(n,s){n&1&&(r(0,"div",24),c(1),h(2,"translate"),a()),n&2&&(o(),g(" ",C(2,1,"MESSAGE.NoRecord")," "))}var Vi=class Vi extends Li{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}};Vi.\u0275fac=(()=>{let e;return function(t){return(e||(e=yt(Vi)))(t||Vi)}})(),Vi.\u0275cmp=L({type:Vi,selectors:[["app-application-app-list-mobile"]],hostBindings:function(i,t){i&1&&T("click",function(f){return t.onDocumentClick(f)},Kt)},standalone:!1,features:[G],decls:38,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-globe"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(i,t){if(i&1){let l=M();r(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(p){return d(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),m(p)}),T("optionOnActionButtonMemoRow",function(){return d(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(l),m(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return d(l),m(t.onActionLoadNextPage())}),w(1,2),r(2,"app-ticketing-departemen-tree",3),T("optionChange",function(p){return d(l),m(t.onActionSelectorSelect(p))}),a(),k(),ie(3,4)(4,5),w(5,6),v(6,gp,2,0,"a",7),r(7,"a",8),T("click",function(){return d(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",9),a(),r(9,"a",8),T("click",function(){return d(l),m(t.onActionButtonReload())}),_(10,"i",10),a(),r(11,"a",11),T("click",function(){return d(l),m(t.onActionGridExpandRows(!0))}),_(12,"i",12),a(),r(13,"a",11),T("click",function(){return d(l),m(t.onActionGridExpandRows(!1))}),_(14,"i",13),a(),k(),w(15,14),r(16,"a",15),T("click",function(){return d(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(17,"mat-slide-toggle",16),c(18),h(19,"translate"),a(),r(20,"a",15),T("click",function(){return d(l),m(t.onActionButtonStatist())}),_(21,"mat-slide-toggle",16),c(22),h(23,"translate"),a(),k(),w(24,17),v(25,Sp,7,3,"div",18),k(),w(26,19),v(27,hp,7,3,"div",18),v(28,Cp,7,3,"div",18),k(),w(29,20),r(30,"app-cms-search-list",21),A("optionsChange",function(p){return d(l),y(t.optionsSearch,p)||(t.optionsSearch=p),m(p)}),a(),r(31,"app-cms-statist-list",21),A("optionsChange",function(p){return d(l),y(t.optionsStatist,p)||(t.optionsStatist=p),m(p)}),a(),k(),w(32,22),v(33,wp,3,0,"div",23)(34,kp,3,3,"div",24),k(),w(35,25),r(36,"mat-paginator",26,0),T("page",function(p){return d(l),m(t.onTablePageingData(p))}),a(),k(),a()}i&2&&(S("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),S("optionTreeDisplay",t.requestDepartemenId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),I(t.requestDepartemenId>0?6:-1),o(4),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),S("checked",t.optionsSearch.data.show),o(),g("",C(19,26,"ACTION.SEARCH")," "),o(3),S("checked",t.optionsStatist.data.show),o(),g("",C(23,28,"ACTION.STATIST")," "),o(3),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?25:-1),o(2),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?27:-1),o(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?28:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),I(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?33:34),o(3),S("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(30,fp)))},dependencies:[Me,q,me,pe,xt,ge,Se,Vt,he,it,nt,B,xe],encapsulation:2});var xn=Vi;var oa=[{path:"",component:Hi,data:{title:"ROUTE.TICKETING"},children:[{path:"config",loadChildren:()=>import("./chunk-DICUDHWG.js").then(n=>n.TicketingConfigModule),data:{title:"ROUTE.TICKETING"}},{path:"departemen",component:_o,data:{title:"ROUTE.TICKETING.DEPARTMENT"}},{path:"departemen/add/",component:Wt,data:{title:"ROUTE.TICKETING.DEPARTMENT"}},{path:"departemen/edit/:id",component:Wt,data:{title:"ROUTE.TICKETING.DEPARTMENT"}},{path:"departemenlog/DepartemenId/:DepartemenId",component:Rn,data:{title:"ROUTE.TICKETING.DEPARTMENTLOG"}},{path:"departemenlog/OperatorId/:OperatorId",component:Rn,data:{title:"ROUTE.TICKETING.DEPARTMENTLOG"}},{path:"faq",component:fn,data:{title:"ROUTE.TICKETING.FAQ"}},{path:"faq/:DepartemenId",component:Dn,data:{title:"ROUTE.TICKETING.FAQ"}},{path:"faq/list",component:Dn,data:{title:"ROUTE.TICKETING.LIST"}},{path:"template",component:xn,data:{title:"ROUTE.TICKETING.TEMPLATE"}},{path:"template/:DepartemenId",component:xn,data:{title:"ROUTE.TICKETING.TEMPLATE"}},{path:"contactus",component:gn,data:{title:"ROUTE.TICKETING.CONTACTUS"}},{path:"task",component:xi,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/listTicketStatus/:TicketStatus",component:xi,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/contactus-list",component:Si,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/contactus-list/LinkCmsUserId/:LinkCmsUserId",component:Si,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/:DepartemenId",component:xi,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/LinkCmsUserId/:LinkCmsUserId",component:xi,data:{title:"ROUTE.TICKETING.TASK"}},{path:"answer",component:En,data:{title:"ROUTE.TICKETING.ANSWER"}},{path:"answer/LinkTaskId/:LinkTaskId",component:En,data:{title:"ROUTE.TICKETING.ANSWER"}}]}];var aa=[{path:"",component:Hi,data:{title:"ROUTE.TICKETING"},children:[{path:"config",loadChildren:()=>import("./chunk-DICUDHWG.js").then(n=>n.TicketingConfigModule),data:{title:"ROUTE.TICKETING"}},{path:"departemen",component:rn,data:{title:"ROUTE.TICKETING.DEPARTMENT"}},{path:"departemen/add/",component:Wt,data:{title:"ROUTE.TICKETING.DEPARTMENT"}},{path:"departemen/edit/:id",component:Wt,data:{title:"ROUTE.TICKETING.DEPARTMENT"}},{path:"departemenlog/DepartemenId/:DepartemenId",component:Ei,data:{title:"ROUTE.TICKETING.DEPARTMENTLOG"}},{path:"departemenlog/OperatorId/:OperatorId",component:Ei,data:{title:"ROUTE.TICKETING.DEPARTMENTLOG"}},{path:"faq",component:fn,data:{title:"ROUTE.TICKETING.FAQ"}},{path:"faq/:DepartemenId",component:Ai,data:{title:"ROUTE.TICKETING.FAQ"}},{path:"faq/list",component:Ai,data:{title:"ROUTE.TICKETING.LIST"}},{path:"template",component:Li,data:{title:"ROUTE.TICKETING.TEMPLATE"}},{path:"template/:DepartemenId",component:Li,data:{title:"ROUTE.TICKETING.TEMPLATE"}},{path:"contactus",component:gn,data:{title:"ROUTE.TICKETING.CONTACTUS"}},{path:"task",component:si,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/listTicketStatus/:TicketStatus",component:si,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/contactus-list",component:Si,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/contactus-list/LinkCmsUserId/:LinkCmsUserId",component:Si,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/:DepartemenId",component:si,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/LinkCmsUserId/:LinkCmsUserId",component:si,data:{title:"ROUTE.TICKETING.TASK"}},{path:"answer",component:Ti,data:{title:"ROUTE.TICKETING.ANSWER"}},{path:"answer/LinkTaskId/:LinkTaskId",component:Ti,data:{title:"ROUTE.TICKETING.ANSWER"}}]}];var Bi=class Bi{};Bi.\u0275fac=function(e){return new(e||Bi)},Bi.\u0275mod=Hn({type:Bi}),Bi.\u0275inj=Gn({imports:[wo.forChild(window.innerWidth<1e3?oa:aa),wo]});var Io=Bi;var Ni=class Ni{};Ni.\u0275fac=function(e){return new(e||Ni)},Ni.\u0275mod=Hn({type:Ni}),Ni.\u0275inj=Gn({providers:[xo,K,No,Vo,di,Ze,jn,Fo,$e,Yt,Jt,Xt,$t],imports:[Ao,Io,Go,Po.withConfig({warnOnNgModelWithFormControl:"never"}),Xo,$o,Yo]});var ra=Ni;export{ra as TicketingModule};
