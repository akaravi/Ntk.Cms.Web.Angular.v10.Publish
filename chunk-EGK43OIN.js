import{a as pr}from"./chunk-ECMDZFRC.js";import{a as cr}from"./chunk-GUFJRCYH.js";import{a as Gn,b as sr}from"./chunk-J73BFDVY.js";import{a as Fn}from"./chunk-Z4LUM2TI.js";import{a as Bn}from"./chunk-2H4FWKE3.js";import{a as dr}from"./chunk-BXSGFWGQ.js";import{a as ar}from"./chunk-JI5IPANQ.js";import{a as rr}from"./chunk-V3GTO53O.js";import{a as lr}from"./chunk-P4ECA6GJ.js";import{a as Ti}from"./chunk-C6TYP5XF.js";import{c as or}from"./chunk-36VJ76EH.js";import"./chunk-PZ3WRYUZ.js";import{a as $o,b as er,c as tr,d as ir,e as nr}from"./chunk-3EOQYRRR.js";import{j as yn,k as wn,l as En}from"./chunk-ELYD5X4L.js";import{a as Zo}from"./chunk-LHIJJE2S.js";import{a as Xo}from"./chunk-A32V6V3I.js";import{a as kn}from"./chunk-AB3ZCBDW.js";import"./chunk-VJILXQDM.js";import{a as Vn}from"./chunk-TRTQ6FD5.js";import{a as kt}from"./chunk-A76JE5QK.js";import{a as vt}from"./chunk-7WWHW53D.js";import{a as ze}from"./chunk-3PCXNMDV.js";import{c as Ct,d as je,e as Ue,g as Qe}from"./chunk-7NGP3BNW.js";import{a as Wt}from"./chunk-CELE2LFV.js";import{a as Yo}from"./chunk-S2CQQSDO.js";import{a as Jo,h as Lt}from"./chunk-HN35D4TN.js";import{a as Rt}from"./chunk-HICLL6UE.js";import{a as be}from"./chunk-U35IM2CL.js";import{b as Ko}from"./chunk-IOQGUZU4.js";import{a as qe}from"./chunk-AWVANBCQ.js";import{a as q}from"./chunk-BKBRRENB.js";import{b as It,d as Ei,f as G}from"./chunk-YXVNOMNY.js";import{$b as _t,Ac as Qo,B as ei,E as go,F as _o,Ga as Co,Gb as at,H as So,Ha as he,Hb as lt,Ia as Me,Ja as Fe,K as X,Kb as He,L as ge,M as _e,Mb as Re,Nb as st,Nc as We,O as ho,Ob as dt,Oc as N,P as Mo,Pa as oe,Pb as Pn,Q as hn,Qa as vo,Qb as ri,Qc as bt,R as Se,Rb as ai,Rc as zo,Sb as Rn,Tb as Wn,U as Mn,Ub as Fo,V as bn,Vb as ct,Wb as pt,X as In,Xb as mt,Y as Cn,Yb as ut,Z as vn,Zb as ft,_ as Dn,_b as gt,ac as St,bc as ht,cc as Mt,eb as Pe,gb as ii,hb as ni,hc as No,ib as oi,ic as Oo,jc as Ho,ka as Io,kc as qo,lc as jo,ma as B,mb as Ro,mc as Uo,n as At,nb as Wo,o as Y,oa as Ae,ob as Lo,pb as ko,pc as V,qb as Vo,qc as L,r as z,rb as Go,s as de,sb as Bo,u as ce,v as Zt,w as pe,x as me,y as $t,zc as Ln}from"./chunk-UPR5DKLI.js";import{Ab as te,Ao as ao,Ba as ve,Bb as ie,Bo as Po,Cb as ne,Cd as Oe,E as Ut,Ea as o,Fd as it,Gb as x,Gc as De,H as Qt,Hb as Vt,Hc as Ge,Hd as H,Ib as Te,Ic as W,Ja as M,Jd as Do,Lb as c,Ld as xt,Mb as A,Mc as $e,Nb as u,O as zt,Oa as R,Ob as Xt,Oc as et,Od as Di,P as Kt,Pa as Sn,Pd as F,Rb as w,Sa as U,Sb as E,Tb as T,Td as O,Ua as I,Ub as P,Uc as uo,Ud as K,Vb as Ve,Vd as re,Ve as wo,Wa as wt,X as _n,Yb as Ie,Zb as Ze,Zd as yo,ac as S,ae as Q,ag as To,bb as Et,bc as h,ca as f,cc as Tt,da as g,dd as fo,ee as Tn,go as yi,hb as d,ib as r,io as xo,jb as a,je as An,jf as Eo,jo as wi,kb as b,ko as ti,lo as nt,mo as ot,ng as Ao,no as Pt,ob as D,od as tt,oo as rt,p as qt,pb as y,pd as bo,po as xn,q as jt,qb as we,qd as Be,qq as Z,ra as mo,rb as v,tc as k,ub as C,uo as an,vo as Gt,wb as m,wd as oo,wo as xe,xb as Jt,xd as Ne,xo as Je,yb as Yt,yo as Ye,zd as ro,zo as Xe}from"./chunk-4PHK4ED5.js";import{i as ee}from"./chunk-SEDBTTTN.js";var Mr=["vform"];function br(n,l){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",22),T("modelChange",function(t){f(e);let s=m();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),g(t)}),a()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ir(n,l){n&1&&b(0,"i",29)}function Cr(n,l){n&1&&b(0,"i",30)}function vr(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Dr(n,l){if(n&1){let e=v();r(0,"div",23)(1,"label",24),c(2),a(),r(3,"input",25,2),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.title,t)||(s.dataModel.title=t),g(t)}),a(),I(5,Ir,1,0,"i",26)(6,Cr,1,0,"i",27),r(7,"em"),c(8),a(),I(9,vr,5,4,"mat-error",28),a()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),u("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function yr(n,l){if(n&1){let e=v();r(0,"div",23)(1,"label",31),c(2),a(),r(3,"input",32,3),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.linkPageId,t)||(s.dataModel.linkPageId=t),g(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.linkPageId==null?null:i.fieldsInfo.linkPageId.fieldTitle),o(),w("ngModel",i.dataModel.linkPageId),d("disabled",!(i.fieldsInfo.linkPageId!=null&&i.fieldsInfo.linkPageId.accessAddField)),o(3),u("",e.value.length," / 100")}}function wr(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.priority==null?null:e.fieldsInfo.priority.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Er(n,l){if(n&1){let e=v();r(0,"div",23)(1,"label",33),c(2),a(),r(3,"input",34,4),S(5,"translate"),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.priority,t)||(s.dataModel.priority=t),g(t)}),a(),I(6,wr,5,4,"mat-error",28),a()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.priority==null?null:i.fieldsInfo.priority.fieldTitle),o(),d("placeholder",P(h(5,6,"TITLE.priority"))),w("ngModel",i.dataModel.priority),d("disabled",!(i.fieldsInfo.priority!=null&&i.fieldsInfo.priority.accessAddField)),o(3),d("ngIf",e.errors==null?null:e.errors.required)}}function Tr(n,l){n&1&&b(0,"i",29)}function Ar(n,l){n&1&&b(0,"i",30)}function xr(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Pr(n,l){if(n&1){let e=v();r(0,"div",23)(1,"label",35),c(2),S(3,"translate"),a(),r(4,"textarea",36,5),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.description,t)||(s.dataModel.description=t),g(t)}),c(6,"            "),a(),r(7,"em"),c(8),a(),I(9,Tr,1,0,"i",26)(10,Ar,1,0,"i",27)(11,xr,5,4,"mat-error",28),a()}if(n&2){let e=x(5),i=m();o(2),A(h(3,9,"TITLE.General_Description")),o(2),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),d("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessAddField)),o(4),u("",e.value.length," / 100"),o(),d("ngIf",!e.value),o(),d("ngIf",e.value),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Rr(n,l){if(n&1){let e=v();r(0,"div",37)(1,"button",38),C("click",function(){f(e);let t=m();return g(t.onActionBackToParent())}),c(2),S(3,"translate"),a(),r(4,"button",39),c(5),S(6,"translate"),a()()}if(n&2){m();let e=x(9);o(2),u(" ",h(3,3,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(),u(" ",h(6,5,"ACTION.NEXT")," ")}}function Wr(n,l){if(n&1&&(b(0,"img",40),S(1,"cmsthumbnail")),n&2){let e=m();d("src",P(h(1,2,e.dataModel.linkMainImageIdSrc)),ve)}}function Lr(n,l){if(n&1){let e=v();r(0,"div",23)(1,"label",41),C("click",function(){f(e);let t=m();return g(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),a(),r(4,"input",42,6),S(6,"translate"),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),g(t)}),C("click",function(){f(e);let t=m();return g(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",43),C("itemSelected",function(t){f(e);let s=m();return g(s.onActionFileSelectedLinkMainImageId(t))}),T("openFormChange",function(t){f(e);let s=m();return E(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),g(t)}),a()()}if(n&2){let e=m();o(2),A(h(3,12,"TITLE.Icon_File")),o(2),d("placeholder",P(h(6,14,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),o(3),d("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),d("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function kr(n,l){if(n&1&&(b(0,"img",40),S(1,"cmsthumbnail")),n&2){let e=m();d("src",P(h(1,2,e.dataModel.linkMainVideoIdSrc)),ve)}}function Vr(n,l){if(n&1){let e=v();r(0,"div",23)(1,"label",44),C("click",function(){f(e);let t=m();return g(t.fileManagerOpenFormVideo=!0)}),c(2),a(),r(3,"input",45,7),S(5,"translate"),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.linkMainVideoId,t)||(s.dataModel.linkMainVideoId=t),g(t)}),C("click",function(){f(e);let t=m();return g(t.fileManagerOpenFormVideo=!0)}),a(),r(6,"cms-file-manager",43),C("itemSelected",function(t){f(e);let s=m();return g(s.onActionFileSelectedLinkMainVideoId(t))}),T("openFormChange",function(t){f(e);let s=m();return E(s.fileManagerOpenFormVideo,t)||(s.fileManagerOpenFormVideo=t),g(t)}),a()()}if(n&2){let e=m();o(2),A(e.fieldsInfo.linkMainVideoId==null?null:e.fieldsInfo.linkMainVideoId.fieldTitle),o(),d("placeholder",P(h(5,13,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainVideoId),d("disabled",!(e.fieldsInfo.linkMainVideoId!=null&&e.fieldsInfo.linkMainVideoId.accessAddField)),o(3),d("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenFormVideo),d("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainVideo)("openFilemanagerButtonView",!1)}}function Gr(n,l){if(n&1&&(r(0,"div",37)(1,"button",46),c(2),S(3,"translate"),a(),r(4,"button",47),c(5),S(6,"translate"),a()()),n&2){m();let e=x(9);o(2),u(" ",h(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),u(" ",h(6,5,"ACTION.SAVE")," ")}}var Ai=class Ai extends Rt{constructor(e,i,t,s,_,p,j,J){super(s,new Gt,i,J);this.activatedRoute=e;this.publicHelper=i;this.coreEnumService=t;this.webDesignerMainIntroService=s;this.cmsToastrService=_;this.router=p;this.cdr=j;this.translate=J;this.requestLinkPageId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.formInfo=new re;this.dataModel=new Gt;this.dataModelResult=new F;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypeMainVideo=["mp4"];this.fileManagerOpenForm=!1;this.fileManagerOpenFormVideo=!1;this.appLanguage="fa";this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkPageId")&&(this.requestLinkPageId=this.activatedRoute.snapshot.paramMap.get("LinkPageId")),this.requestLinkPageId.length>0&&(this.dataModel.linkPageId=this.requestLinkPageId),this.DataGetAccess()}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataAddContent()}DataAddContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainIntroService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/webdesigner/intro/"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}onActionBackToParent(){this.router.navigate(["/webdesigner/intro/"])}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkMainVideoId(e){this.dataModel.linkMainVideoId=e.id,this.dataModel.linkMainVideoIdSrc=e.downloadLinksrc}};Ai.\u0275fac=function(i){return new(i||Ai)(M(tt),M(G),M(Q),M(ti),M(N),M(Be),M(k),M(V))},Ai.\u0275cmp=R({type:Ai,selectors:[["app-webdesigner-intro-add"]],viewQuery:function(i,t){if(i&1&&te(Mr,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:34,vars:31,consts:[["vform","ngForm"],["stepper",""],["Title",""],["LinkPageId",""],["Priority",""],["Description",""],["LinkMainImageId",""],["LinkMainVideoId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.linkPageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkPageId","placeholder","Page Id","minlength","3","maxlength","100","id","dataModel.linkPageId",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","3","maxlength","100","rows","10","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkMainVideoId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainVideoId","autocomplete","off","id","dataModel.linkMainVideoId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder","disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=v();r(0,"div",8),b(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),r(8,"form",12,0),C("ngSubmit",function(){return f(s),g(t.onFormSubmit())}),r(10,"mat-horizontal-stepper",13,1),C("selectionChange",function(p){f(s);let j=x(11);return g(t.onStepClick(p,j))}),r(12,"mat-step",14),S(13,"translate"),I(14,br,1,5,"app-cms-enum-record-status-selector",15)(15,Dr,10,9,"div",16)(16,yr,7,4,"div",16)(17,Er,7,8,"div",16)(18,Pr,12,11,"div",16)(19,Rr,7,7,"div",17),a(),r(20,"mat-step",18),S(21,"translate"),r(22,"p"),c(23),S(24,"translate"),a(),r(25,"div",19)(26,"a",20),S(27,"cmsthumbnail"),I(28,Wr,2,4,"img",21),a()(),I(29,Lr,8,16,"div",16),r(30,"div",19),I(31,kr,2,4,"img",21),a(),I(32,Vr,7,15,"div",16)(33,Gr,7,7,"div",17),a()()()()()}i&2&&(o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),u(" ",t.formInfo.formTitle," "),o(2),u(" ",h(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",P(h(13,23,"TITLE.REQUIRED_INFORMATION"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.fieldsInfo.linkPageId==null?null:t.fieldsInfo.linkPageId.accessWatchField),o(),d("ngIf",t.fieldsInfo.priority==null?null:t.fieldsInfo.priority.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",P(h(21,25,"TITLE.ATTACH_FILES"))),o(3),A(h(24,27,"TITLE.Photos_And_Application_Files")),o(3),d("href",P(h(27,29,t.dataModel.linkMainImageIdSrc)),ve),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),d("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainVideoIdSrc==null?null:t.dataModel.linkMainVideoIdSrc.length)>0),o(),d("ngIf",t.fieldsInfo.linkMainVideoId==null?null:t.fieldsInfo.linkMainVideoId.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow))},dependencies:[W,me,Y,$t,z,de,X,ge,_e,pe,ce,Se,B,ri,ai,Rn,Wn,be,q,Ln,L,Lt],encapsulation:2});var ln=Ai;var Br=["vform"];function Fr(n,l){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",22),T("modelChange",function(t){f(e);let s=m();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),g(t)}),a()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Nr(n,l){n&1&&b(0,"i",29)}function Or(n,l){n&1&&b(0,"i",30)}function Hr(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function qr(n,l){if(n&1){let e=v();r(0,"div",23)(1,"label",24),c(2),a(),r(3,"input",25,2),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.title,t)||(s.dataModel.title=t),g(t)}),a(),I(5,Nr,1,0,"i",26)(6,Or,1,0,"i",27),r(7,"em"),c(8),a(),I(9,Hr,5,4,"mat-error",28),a()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),u("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function jr(n,l){if(n&1){let e=v();r(0,"div",23)(1,"label",31),c(2),a(),r(3,"input",32,3),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.linkPageId,t)||(s.dataModel.linkPageId=t),g(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.linkPageId==null?null:i.fieldsInfo.linkPageId.fieldTitle),o(),w("ngModel",i.dataModel.linkPageId),d("disabled",!(i.fieldsInfo.linkPageId!=null&&i.fieldsInfo.linkPageId.accessEditField)),o(3),u("",e.value.length," / 100")}}function Ur(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.priority==null?null:e.fieldsInfo.priority.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Qr(n,l){if(n&1){let e=v();r(0,"div",23)(1,"label",33),c(2),a(),r(3,"input",34,4),S(5,"translate"),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.priority,t)||(s.dataModel.priority=t),g(t)}),a(),I(6,Ur,5,4,"mat-error",28),a()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.priority==null?null:i.fieldsInfo.priority.fieldTitle),o(),d("placeholder",P(h(5,6,"TITLE.priority"))),w("ngModel",i.dataModel.priority),d("disabled",!(i.fieldsInfo.priority!=null&&i.fieldsInfo.priority.accessEditField)),o(3),d("ngIf",e.errors==null?null:e.errors.required)}}function zr(n,l){n&1&&b(0,"i",29)}function Kr(n,l){n&1&&b(0,"i",30)}function Jr(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Yr(n,l){if(n&1){let e=v();r(0,"div",23)(1,"label",35),c(2),S(3,"translate"),a(),r(4,"textarea",36,5),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.description,t)||(s.dataModel.description=t),g(t)}),c(6,"            "),a(),r(7,"em"),c(8),a(),I(9,zr,1,0,"i",26)(10,Kr,1,0,"i",27)(11,Jr,5,4,"mat-error",28),a()}if(n&2){let e=x(5),i=m();o(2),A(h(3,9,"TITLE.General_Description")),o(2),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),d("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),o(4),u("",e.value.length," / 100"),o(),d("ngIf",!e.value),o(),d("ngIf",e.value),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Xr(n,l){if(n&1){let e=v();r(0,"div",37)(1,"button",38),C("click",function(){f(e);let t=m();return g(t.onActionBackToParent())}),c(2),S(3,"translate"),a(),r(4,"button",39),c(5),S(6,"translate"),a()()}if(n&2){m();let e=x(9);o(2),u(" ",h(3,3,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(),u(" ",h(6,5,"ACTION.NEXT")," ")}}function Zr(n,l){if(n&1&&(b(0,"img",40),S(1,"cmsthumbnail")),n&2){let e=m();d("src",P(h(1,2,e.dataModel.linkMainImageIdSrc)),ve)}}function $r(n,l){if(n&1){let e=v();r(0,"div",23)(1,"label",41),C("click",function(){f(e);let t=m();return g(t.fileManagerOpenForm=!0)}),c(2),a(),r(3,"input",42,6),S(5,"translate"),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),g(t)}),C("click",function(){f(e);let t=m();return g(t.fileManagerOpenForm=!0)}),a(),r(6,"cms-file-manager",43),C("itemSelected",function(t){f(e);let s=m();return g(s.onActionFileSelectedLinkMainImageId(t))}),T("openFormChange",function(t){f(e);let s=m();return E(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),g(t)}),a()()}if(n&2){let e=m();o(2),A(e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.fieldTitle),o(),d("placeholder",P(h(5,12,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),o(3),d("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),d("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function ea(n,l){if(n&1&&(b(0,"img",40),S(1,"cmsthumbnail")),n&2){let e=m();d("src",P(h(1,2,e.dataModel.linkMainVideoIdSrc)),ve)}}function ta(n,l){if(n&1){let e=v();r(0,"div",23)(1,"label",44),C("click",function(){f(e);let t=m();return g(t.fileManagerOpenFormVideo=!0)}),c(2),a(),r(3,"input",45,7),S(5,"translate"),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.linkMainVideoId,t)||(s.dataModel.linkMainVideoId=t),g(t)}),C("click",function(){f(e);let t=m();return g(t.fileManagerOpenFormVideo=!0)}),a(),r(6,"cms-file-manager",43),C("itemSelected",function(t){f(e);let s=m();return g(s.onActionFileSelectedLinkMainVideoId(t))}),T("openFormChange",function(t){f(e);let s=m();return E(s.fileManagerOpenFormVideo,t)||(s.fileManagerOpenFormVideo=t),g(t)}),a()()}if(n&2){let e=m();o(2),A(e.fieldsInfo.linkMainVideoId==null?null:e.fieldsInfo.linkMainVideoId.fieldTitle),o(),d("placeholder",P(h(5,13,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainVideoId),d("disabled",!(e.fieldsInfo.linkMainVideoId!=null&&e.fieldsInfo.linkMainVideoId.accessAddField)),o(3),d("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenFormVideo),d("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainVideo)("openFilemanagerButtonView",!1)}}function ia(n,l){if(n&1&&(r(0,"div",37)(1,"button",46),c(2),S(3,"translate"),a(),r(4,"button",47),c(5),S(6,"translate"),a()()),n&2){m();let e=x(9);o(2),u(" ",h(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),u(" ",h(6,5,"ACTION.SAVE")," ")}}var xi=class xi extends Wt{constructor(e,i,t,s,_,p,j,J){super(s,new Gt,i,J);this.activatedRoute=e;this.publicHelper=i;this.coreEnumService=t;this.webDesignerMainIntroService=s;this.cmsToastrService=_;this.router=p;this.cdr=j;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.formInfo=new re;this.dataModel=new Gt;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypeMainVideo=["mp4"];this.fileManagerOpenForm=!1;this.fileManagerOpenFormVideo=!1;this.appLanguage="fa";this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.activatedRoute.snapshot.paramMap.get("Id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("Id"))}ngOnInit(){if(this.requestId.length===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.DataGetOne(this.requestId)}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(e){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.webDesignerMainIntroService.setAccessLoad(),this.webDesignerMainIntroService.setAccessDataType(xt.Editor),this.webDesignerMainIntroService.ServiceGetOneById(e).subscribe({next:t=>{this.dataAccessModel=t.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.publicHelper.processService.processStop(i),this.dataModelResult=t,this.formInfo.formSubmitAllow=!0,t.isSuccess?this.dataModel=t.item:this.cmsToastrService.typeErrorGetOne(t.errorMessage)},error:t=>{this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(t)}})}DataEditContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainIntroService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/webdesigner/intro/"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}onActionBackToParent(){this.router.navigate(["/webdesigner/intro/"])}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkMainVideoId(e){this.dataModel.linkMainVideoId=e.id,this.dataModel.linkMainVideoIdSrc=e.downloadLinksrc}};xi.\u0275fac=function(i){return new(i||xi)(M(tt),M(G),M(Q),M(ti),M(N),M(Be),M(k),M(V))},xi.\u0275cmp=R({type:xi,selectors:[["app-webdesigner-intro-edit"]],viewQuery:function(i,t){if(i&1&&te(Br,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:34,vars:31,consts:[["vform","ngForm"],["stepper",""],["Title",""],["LinkPageId",""],["Priority",""],["Description",""],["LinkMainImageId",""],["LinkMainVideoId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.linkPageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkPageId","placeholder","Page Id","minlength","3","maxlength","100","id","dataModel.linkPageId",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","3","maxlength","100","rows","10","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkMainVideoId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainVideoId","autocomplete","off","id","dataModel.linkMainVideoId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder","disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=v();r(0,"div",8),b(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),r(8,"form",12,0),C("ngSubmit",function(){return f(s),g(t.onFormSubmit())}),r(10,"mat-horizontal-stepper",13,1),C("selectionChange",function(p){f(s);let j=x(11);return g(t.onStepClick(p,j))}),r(12,"mat-step",14),S(13,"translate"),I(14,Fr,1,5,"app-cms-enum-record-status-selector",15)(15,qr,10,9,"div",16)(16,jr,7,4,"div",16)(17,Qr,7,8,"div",16)(18,Yr,12,11,"div",16)(19,Xr,7,7,"div",17),a(),r(20,"mat-step",18),S(21,"translate"),r(22,"p"),c(23),S(24,"translate"),a(),r(25,"div",19)(26,"a",20),S(27,"cmsthumbnail"),I(28,Zr,2,4,"img",21),a()(),I(29,$r,7,14,"div",16),r(30,"div",19),I(31,ea,2,4,"img",21),a(),I(32,ta,7,15,"div",16)(33,ia,7,7,"div",17),a()()()()()}i&2&&(o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),u(" ",t.formInfo.formTitle," "),o(2),u(" ",h(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",P(h(13,23,"TITLE.REQUIRED_INFORMATION"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.fieldsInfo.linkPageId==null?null:t.fieldsInfo.linkPageId.accessWatchField),o(),d("ngIf",t.fieldsInfo.priority==null?null:t.fieldsInfo.priority.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",P(h(21,25,"TITLE.ATTACH_FILES"))),o(3),A(h(24,27,"TITLE.Photos_And_Application_Files")),o(3),d("href",P(h(27,29,t.dataModel.linkMainImageIdSrc)),ve),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),d("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainVideoIdSrc==null?null:t.dataModel.linkMainVideoIdSrc.length)>0),o(),d("ngIf",t.fieldsInfo.linkMainVideoId==null?null:t.fieldsInfo.linkMainVideoId.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow))},dependencies:[W,me,Y,$t,z,de,X,ge,_e,pe,ce,Se,B,ri,ai,Rn,Wn,be,q,Ln,L,Lt],encapsulation:2});var On=xi;var ra=()=>[5,10,20,100],aa=n=>({display:n});function la(n,l){if(n&1){let e=v();r(0,"a",41),C("click",function(){f(e);let t=m();return g(t.onActionBackToParent())}),b(1,"i",42),a()}}function sa(n,l){if(n&1){let e=v();r(0,"div",43)(1,"a",44),C("click",function(){f(e);let t=m();return g(t.onActionButtonNewRow())}),b(2,"i",45)(3,"br"),a(),r(4,"p",46),c(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",h(6,1,"ACTION.ADD")," "))}function da(n,l){if(n&1){let e=v();r(0,"div",43)(1,"a",47),C("click",function(){f(e);let t=m();return g(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",48)(3,"br"),a(),r(4,"p",46),c(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",h(6,1,"ACTION.EDIT")," "))}function ca(n,l){if(n&1){let e=v();r(0,"div",43)(1,"a",49),C("click",function(){f(e);let t=m();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",50)(3,"br"),a(),r(4,"p",46),c(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",h(6,1,"ACTION.DELETE")," "))}function pa(n,l){n&1&&(r(0,"mat-header-cell",51),c(1),S(2,"translate"),a()),n&2&&(o(),u(" ",h(2,1,"TITLE.PICTURE")," "))}function ma(n,l){if(n&1&&(b(0,"img",53),S(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",P(h(1,2,e.linkMainImageIdSrc)),ve)}}function ua(n,l){if(n&1&&(r(0,"mat-cell"),I(1,ma,2,4,"img",52),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function fa(n,l){if(n&1&&(r(0,"mat-header-cell",54),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ga(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.id," ")}}function _a(n,l){if(n&1&&(r(0,"mat-header-cell",54),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Sa(n,l){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),a()),n&2){let e=l.$implicit;o(),u(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function ha(n,l){if(n&1&&(r(0,"mat-header-cell",54),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.linkPageId==null?null:e.fieldsInfo.linkPageId.fieldTitle," ")}}function Ma(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.linkPageId," ")}}function ba(n,l){if(n&1&&(r(0,"mat-header-cell",54),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ia(n,l){if(n&1&&b(0,"select",57),n&2){let e=m().$implicit,i=m();d("contentService",i.contentService)("row",e)("ngStyle",Ze(3,aa,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Ca(n,l){if(n&1&&(r(0,"mat-cell",55),S(1,"statusCellClass"),b(2,"i",55),S(3,"statusIconClass"),I(4,Ia,1,5,"select",56),a()),n&2){let e=l.$implicit,i=m();d("ngClass",h(1,3,e.recordStatus)),o(2),d("ngClass",h(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function va(n,l){if(n&1&&(r(0,"mat-header-cell",54),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Da(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.title," ")}}function ya(n,l){if(n&1&&(r(0,"mat-header-cell",54),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function wa(n,l){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),u(" ",h(2,1,e.createdDate)," ")}}function Ea(n,l){if(n&1&&(r(0,"mat-header-cell",54),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Ta(n,l){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),u(" ",h(2,1,e.updatedDate)," ")}}function Aa(n,l){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),a()),n&2&&(o(),u(" ",h(2,1,"TITLE.OPTION")," "))}function xa(n,l){if(n&1&&(r(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),c(3,"more_vert"),a()(),b(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),d("matMenuTriggerFor",e)}}function Pa(n,l){n&1&&b(0,"mat-header-row")}function Ra(n,l){if(n&1){let e=v();r(0,"mat-row",60),C("click",function(){let t=f(e).$implicit,s=m();return g(s.onActionTableRowSelect(t))}),a()}if(n&2){let e=l.$implicit,i=m();Te("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Pi=class Pi extends Ct{constructor(e,i,t,s,_,p,j,J,yt,ui,Ot,fi){super(e,new Gt,Ot,_,J);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.router=s;this.tokenHelper=_;this.cmsConfirmationDialogService=p;this.cdr=j;this.translate=J;this.cmsStoreService=yt;this.pageInfo=ui;this.publicHelper=Ot;this.dialog=fi;this.requestLinkPageId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","LinkPageId","CreatedDate","UpdatedDate"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","LinkPageId","CreatedDate","UpdatedDate"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ht=>this.onSubmitOptionsSearch(Ht)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.requestLinkPageId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkPageId"));let e=new O;this.requestLinkPageId>0&&(e.propertyName="LinkPageId",e.value=this.requestLinkPageId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>ee(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.requestLinkPageId===0&&(this.tabledisplayedColumns=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumns,"LinkPageId")),this.tableRowsSelected=[],this.onActionTableRowSelect(new Gt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess&&(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.requestLinkPageId>0?this.router.navigate(["/webdesigner/intro/add/",this.requestLinkPageId]):this.router.navigate(["/webdesigner/intro/add/"])}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/webdesigner/intro/edit/",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.No_row_selected_for_editing").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(_,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess&&(i.set("All",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new O;_.propertyName="RecordStatus",_.value=it.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess&&(i.set("Active",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Pi.\u0275fac=function(i){return new(i||Pi)(M(ti),M(tt),M(N),M(Be),M(We),M(qe),M(k),M(V),M(Pe),M(It),M(G),M(Fe))},Pi.\u0275cmp=R({type:Pi,selectors:[["app-webdesigner-intro-list"]],standalone:!1,features:[U],decls:63,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-hea","","der","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkPageId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-hea","","der",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),T("optionActionGuideNoticeDisplayChange",function(p){return f(s),E(t.viewGuideNotice,p)||(t.viewGuideNotice=p),g(p)}),C("optionOnActionButtonMemoRow",function(){return f(s),g(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(s),g(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(s),g(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(s),g(t.onActionButtonPrintRow())}),D(1,4),c(2," -------------------------------------- "),y(),we(3,5)(4,6),D(5,7),I(6,la,2,0,"a",8),r(7,"a",9),C("click",function(){return f(s),g(t.viewGuideNotice=!t.viewGuideNotice)}),b(8,"i",10),a(),r(9,"a",9),C("click",function(){return f(s),g(t.onActionButtonReload())}),b(10,"i",11),a(),y(),D(11,12),r(12,"a",13),C("click",function(){return f(s),g(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),b(13,"mat-slide-toggle",14),c(14),S(15,"translate"),a(),r(16,"a",13),C("click",function(){return f(s),g(t.onActionButtonStatist())}),b(17,"mat-slide-toggle",14),c(18),S(19,"translate"),a(),y(),D(20,15),I(21,sa,7,3,"div",16),y(),D(22,17),I(23,da,7,3,"div",16)(24,ca,7,3,"div",16),y(),D(25,18),r(26,"app-cms-search-list",19),T("optionsChange",function(p){return f(s),E(t.optionsSearch,p)||(t.optionsSearch=p),g(p)}),a(),r(27,"app-cms-statist-list",19),T("optionsChange",function(p){return f(s),E(t.optionsStatist,p)||(t.optionsStatist=p),g(p)}),a(),y(),D(28,20),r(29,"mat-table",21,0),C("matSortChange",function(){f(s);let p=x(30);return g(t.onTableSortData(p))}),D(31,22),I(32,pa,3,3,"mat-header-cell",23)(33,ua,2,1,"mat-cell",24),y(),D(34,25),I(35,fa,2,1,"mat-header-cell",26)(36,ga,2,1,"mat-cell",24),y(),D(37,27),I(38,_a,2,1,"mat-header-cell",26)(39,Sa,4,5,"mat-cell",24),y(),D(40,28),I(41,ha,2,1,"mat-header-cell",26)(42,Ma,2,1,"mat-cell",24),y(),D(43,29),I(44,ba,2,1,"mat-header-cell",26)(45,Ca,5,7,"mat-cell",30),y(),D(46,31),I(47,va,2,1,"mat-header-cell",26)(48,Da,2,1,"mat-cell",24),y(),D(49,32),I(50,ya,2,1,"mat-header-cell",26)(51,wa,3,3,"mat-cell",24),y(),D(52,33),I(53,Ea,2,1,"mat-header-cell",26)(54,Ta,3,3,"mat-cell",24),y(),D(55,34),I(56,Aa,3,3,"mat-header-cell",35)(57,xa,6,1,"mat-cell",36),y(),I(58,Pa,1,0,"mat-header-row",37)(59,Ra,1,2,"mat-row",38),a(),y(),D(60,39),r(61,"mat-paginator",40,1),C("page",function(p){return f(s),g(t.onTablePageingData(p))}),a(),y(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),d("ngIf",t.requestLinkPageId>0),o(7),d("checked",t.optionsSearch.data.show),o(),u("",h(15,24,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),u("",h(19,26,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(29),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(28,ra)))},dependencies:[De,W,$e,Ae,oe,B,at,lt,He,Re,st,dt,ct,mt,_t,ut,pt,St,ft,gt,ht,Mt,je,Ue,Qe,vt,et,L,kn,Lt,Vn,ze,kt],encapsulation:2});var sn=Pi;var Wa=["vform"];function La(n,l){if(n&1){let e=v();r(0,"div",7)(1,"button",12),C("click",function(){f(e);let t=m();return g(t.onFormCancel())}),b(2,"i",13),c(3),S(4,"translate"),a()()}n&2&&(o(3),u(" ",h(4,1,"ACTION.CANCEL")," "))}var Gi=class Gi{constructor(l,e,i,t,s,_,p,j,J,yt){this.data=l;this.dialogRef=e;this.coreEnumService=i;this.webDesignerLogMemberInfoService=t;this.cdr=s;this.cmsToastrService=_;this.tokenHelper=p;this.cmsStoreService=j;this.publicHelper=J;this.translate=yt;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new To;this.dataModelResult=new F;this.dataModel=new an;this.formInfo=new re;this.dataModelEnumSendSmsStatusTypeResult=new F;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(l=>{this.formInfo.formTitle=l}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>ee(this,null,function*(){this.tokenInfo=l})),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:l=>{this.dataModelEnumSendSmsStatusTypeResult=l}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.webDesignerLogMemberInfoService.setAccessLoad(),this.webDesignerLogMemberInfoService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelectorLocation(l){if(!l||!l.id||l.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(e=>{this.cmsToastrService.typeWarningSelected(e)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=l.id}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Gi.\u0275fac=function(e){return new(e||Gi)(M(Me),M(he),M(Q),M(wi),M(k),M(N),M(We),M(Pe),M(G),M(V))},Gi.\u0275cmp=R({type:Gi,selectors:[["app-webdesigner-logmemberinfo-view"]],viewQuery:function(e,i){if(e&1&&te(Wa,5),e&2){let t;ie(t=ne())&&(i.formGroup=t.first)}},standalone:!1,decls:19,vars:22,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[3,"dataModel","optionMethod"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",0),c(1),a(),r(2,"div",1),b(3,"app-progress-spinner",2)(4,"app-cms-site-selector",3),S(5,"translate"),b(6,"app-cms-user-selector",3),S(7,"translate"),b(8,"app-cms-json-list",4),r(9,"app-cms-location-selector",5),S(10,"translate"),C("optionChange",function(s){return i.onActionSelectorLocation(s)}),a()(),r(11,"div",6)(12,"div",7)(13,"small",8),c(14),a(),r(15,"small",9),c(16),a()()(),r(17,"div",10),I(18,La,5,3,"div",11),a()),e&2&&(o(),u(" ",i.formInfo.formTitle," "),o(2),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("optionDisabled",!0)("optionSelectForce",i.dataModel.linkSiteId)("optionPlaceholder",h(5,16,"TITLE.SITE")),o(2),d("optionDisabled",!0)("optionSelectForce",i.dataModel.linkUserId)("optionPlaceholder",h(7,18,"TITLE.USER")),o(2),d("dataModel",i.dataModel)("optionMethod",1),o(),d("optionDisabled",!(i.fieldsInfo.linkLocationId!=null&&i.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",i.dataModel.linkLocationId)("optionPlaceholder",h(10,20,"TITLE.Region")),o(5),u("",i.formInfo.formAlert," "),o(2),u("",i.formInfo.formError," "),o(2),d("ngIf",i.formInfo.formSubmitAllow))},dependencies:[W,Yo,cr,Xo,q,Zo,L],encapsulation:2});var qn=Gi;var ka=()=>[5,10,20,100],Va=n=>({display:n});function Ga(n,l){if(n&1){let e=v();r(0,"div",46)(1,"a",47),C("click",function(){f(e);let t=m();return g(t.onActionButtonViewRow(t.tableRowSelected))}),b(2,"i",48)(3,"br"),a(),r(4,"p",49),c(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",h(6,1,"ACTION.VIEW")," "))}function Ba(n,l){if(n&1){let e=v();r(0,"div",46)(1,"a",50),C("click",function(){f(e);let t=m();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",51)(3,"br"),a(),r(4,"p",49),c(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",h(6,1,"ACTION.DELETE")," "))}function Fa(n,l){if(n&1&&(r(0,"mat-header-cell",52),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Na(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.id," ")}}function Oa(n,l){if(n&1&&(r(0,"mat-header-cell",52),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ha(n,l){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),a()),n&2){let e=l.$implicit;o(),u(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function qa(n,l){if(n&1&&(r(0,"mat-header-cell",52),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ja(n,l){if(n&1&&b(0,"select",55),n&2){let e=m().$implicit,i=m();d("contentService",i.contentService)("row",e)("ngStyle",Ze(3,Va,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Ua(n,l){if(n&1&&(r(0,"mat-cell",53),S(1,"statusCellClass"),b(2,"i",53),S(3,"statusIconClass"),I(4,ja,1,5,"select",54),a()),n&2){let e=l.$implicit,i=m();d("ngClass",h(1,3,e.recordStatus)),o(2),d("ngClass",h(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Qa(n,l){if(n&1&&(r(0,"mat-header-cell",52),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function za(n,l){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmsuserinfo"),S(3,"async"),a()),n&2){let e=l.$implicit;o(),u(" ",h(3,3,h(2,1,e.linkUserId))," ")}}function Ka(n,l){if(n&1&&(r(0,"mat-header-cell",52),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function Ja(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.linkMemberId," ")}}function Ya(n,l){if(n&1&&(r(0,"mat-header-cell",52),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.linkLocationIdTitle==null?null:e.fieldsInfo.linkLocationIdTitle.fieldTitle," ")}}function Xa(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.linkLocationIdTitle," ")}}function Za(n,l){if(n&1&&(r(0,"mat-header-cell",52),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.linkLocationIdParentTitle==null?null:e.fieldsInfo.linkLocationIdParentTitle.fieldTitle," ")}}function $a(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.linkLocationIdParentTitle," ")}}function el(n,l){if(n&1&&(r(0,"mat-header-cell",52),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.deviceStatus==null?null:e.fieldsInfo.deviceStatus.fieldTitle," ")}}function tl(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.deviceStatus," ")}}function il(n,l){if(n&1&&(r(0,"mat-header-cell",52),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.deviceId==null?null:e.fieldsInfo.deviceId.fieldTitle," ")}}function nl(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.deviceId," ")}}function ol(n,l){if(n&1&&(r(0,"mat-header-cell",52),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.deviceBrand==null?null:e.fieldsInfo.deviceBrand.fieldTitle," ")}}function rl(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.deviceBrand," ")}}function al(n,l){if(n&1&&(r(0,"mat-header-cell",52),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.simCard==null?null:e.fieldsInfo.simCard.fieldTitle," ")}}function ll(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.simCard," ")}}function sl(n,l){if(n&1&&(r(0,"mat-header-cell",52),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.appBuildVer==null?null:e.fieldsInfo.appBuildVer.fieldTitle," ")}}function dl(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.appBuildVer," ")}}function cl(n,l){if(n&1&&(r(0,"mat-header-cell",52),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.appSourceVer==null?null:e.fieldsInfo.appSourceVer.fieldTitle," ")}}function pl(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.appSourceVer," ")}}function ml(n,l){if(n&1&&(r(0,"mat-header-cell",52),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.scorePercent==null?null:e.fieldsInfo.scorePercent.fieldTitle," ")}}function ul(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.scorePercent," %")}}function fl(n,l){if(n&1&&(r(0,"mat-header-cell",52),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function gl(n,l){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),u(" ",h(2,1,e.createdDate)," ")}}function _l(n,l){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),a()),n&2&&(o(),u(" ",h(2,1,"TITLE.OPTION")," "))}function Sl(n,l){if(n&1&&(r(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),c(3,"more_vert"),a()(),b(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),d("matMenuTriggerFor",e)}}function hl(n,l){n&1&&b(0,"mat-header-row")}function Ml(n,l){if(n&1){let e=v();r(0,"mat-row",58),C("click",function(){let t=f(e).$implicit,s=m();return g(s.onActionTableRowSelect(t))}),a()}if(n&2){let e=l.$implicit,i=m();Te("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Bi=class Bi extends Ct{constructor(e,i,t,s,_,p,j,J,yt,ui,Ot,fi,Ht){super(e,new an,fi,ui,_);this.contentService=e;this.cmsConfirmationDialogService=i;this.activatedRoute=t;this.cdr=s;this.translate=_;this.themeService=p;this.cmsToastrService=j;this.cmsStoreService=J;this.router=yt;this.tokenHelper=ui;this.pageInfo=Ot;this.publicHelper=fi;this.dialog=Ht;this.requestLinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","LinkUserId","LinkMemberId","DeviceStatus","DeviceId","DeviceBrand","SimCard","AppBuildVer","AppSourceVer","ScorePercent","CreatedDate"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","LinkUserId","LinkMemberId","DeviceStatus","DeviceId","DeviceBrand","SimCard","AppBuildVer","AppSourceVer","ScorePercent","CreatedDate"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:rn=>this.onSubmitOptionsSearch(rn)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.requestLinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId"));let e=new O;this.requestLinkMemberId>0&&(e.propertyName="LinkMemberId",e.value=this.requestLinkMemberId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>ee(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new an);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(qn,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(_,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(j=>{i.set(j,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new O;_.propertyName="RecordStatus",_.value=it.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(j=>{i.set(j,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/application/app/"])}};Bi.\u0275fac=function(i){return new(i||Bi)(M(wi),M(qe),M(tt),M(k),M(V),M(bt),M(N),M(Pe),M(Be),M(We),M(It),M(G),M(Fe))},Bi.\u0275cmp=R({type:Bi,selectors:[["app-webdesigner-logmemberinfo-list"]],standalone:!1,features:[U],decls:81,vars:27,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","LinkLocationIdTitle"],["matColumnDef","LinkLocationIdParentTitle"],["matColumnDef","DeviceStatus"],["matColumnDef","DeviceId"],["matColumnDef","DeviceBrand"],["matColumnDef","SimCard"],["matColumnDef","AppBuildVer"],["matColumnDef","AppSourceVer"],["matColumnDef","ScorePercent"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),T("optionActionGuideNoticeDisplayChange",function(p){return f(s),E(t.viewGuideNotice,p)||(t.viewGuideNotice=p),g(p)}),C("optionOnActionButtonMemoRow",function(){return f(s),g(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(s),g(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(s),g(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(s),g(t.onActionButtonPrintRow())}),we(1,4)(2,5)(3,6),D(4,7),r(5,"a",8),C("click",function(){return f(s),g(t.viewGuideNotice=!t.viewGuideNotice)}),b(6,"i",9),a(),r(7,"a",8),C("click",function(){return f(s),g(t.onActionButtonReload())}),b(8,"i",10),a(),y(),D(9,11),r(10,"a",12),C("click",function(){return f(s),g(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),b(11,"mat-slide-toggle",13),c(12),S(13,"translate"),a(),r(14,"a",12),C("click",function(){return f(s),g(t.onActionButtonStatist())}),b(15,"mat-slide-toggle",13),c(16),S(17,"translate"),a(),y(),we(18,14),D(19,15),I(20,Ga,7,3,"div",16)(21,Ba,7,3,"div",16),y(),D(22,17),r(23,"app-cms-search-list",18),T("optionsChange",function(p){return f(s),E(t.optionsSearch,p)||(t.optionsSearch=p),g(p)}),a(),r(24,"app-cms-statist-list",18),T("optionsChange",function(p){return f(s),E(t.optionsStatist,p)||(t.optionsStatist=p),g(p)}),a(),y(),D(25,19),r(26,"mat-table",20,0),C("matSortChange",function(){f(s);let p=x(27);return g(t.onTableSortData(p))}),D(28,21),I(29,Fa,2,1,"mat-header-cell",22)(30,Na,2,1,"mat-cell",23),y(),D(31,24),I(32,Oa,2,1,"mat-header-cell",22)(33,Ha,4,5,"mat-cell",23),y(),D(34,25),I(35,qa,2,1,"mat-header-cell",22)(36,Ua,5,7,"mat-cell",26),y(),D(37,27),I(38,Qa,2,1,"mat-header-cell",22)(39,za,4,5,"mat-cell",23),y(),D(40,28),I(41,Ka,2,1,"mat-header-cell",22)(42,Ja,2,1,"mat-cell",23),y(),D(43,29),I(44,Ya,2,1,"mat-header-cell",22)(45,Xa,2,1,"mat-cell",23),y(),D(46,30),I(47,Za,2,1,"mat-header-cell",22)(48,$a,2,1,"mat-cell",23),y(),D(49,31),I(50,el,2,1,"mat-header-cell",22)(51,tl,2,1,"mat-cell",23),y(),D(52,32),I(53,il,2,1,"mat-header-cell",22)(54,nl,2,1,"mat-cell",23),y(),D(55,33),I(56,ol,2,1,"mat-header-cell",22)(57,rl,2,1,"mat-cell",23),y(),D(58,34),I(59,al,2,1,"mat-header-cell",22)(60,ll,2,1,"mat-cell",23),y(),D(61,35),I(62,sl,2,1,"mat-header-cell",22)(63,dl,2,1,"mat-cell",23),y(),D(64,36),I(65,cl,2,1,"mat-header-cell",22)(66,pl,2,1,"mat-cell",23),y(),D(67,37),I(68,ml,2,1,"mat-header-cell",22)(69,ul,2,1,"mat-cell",23),y(),D(70,38),I(71,fl,2,1,"mat-header-cell",22)(72,gl,3,3,"mat-cell",23),y(),D(73,39),I(74,_l,3,3,"mat-header-cell",40)(75,Sl,6,1,"mat-cell",41),y(),I(76,hl,1,0,"mat-header-row",42)(77,Ml,1,2,"mat-row",43),a(),y(),D(78,44),r(79,"mat-paginator",45,1),C("page",function(p){return f(s),g(t.onTablePageingData(p))}),a(),y(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(11),d("checked",t.optionsSearch.data.show),o(),u("",h(13,22,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),u("",h(17,24,"ACTION.STATIST")," "),o(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),o(),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(50),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(26,ka)))},dependencies:[De,W,$e,Ae,oe,B,at,lt,He,Re,st,dt,ct,mt,_t,ut,pt,St,ft,gt,ht,Mt,je,Ue,Qe,vt,et,L,Jo,kn,Vn,ze,kt],encapsulation:2});var jn=Bi;var bl=["*"];function Il(n,l){if(n&1&&(r(0,"label",11),c(1),a()),n&2){let e=m();d("for",Ve("app-cms-site-selector-",e.id)),o(),A(e.optionLabel)}}function Cl(n,l){if(n&1&&(r(0,"mat-option",12)(1,"span"),c(2),a()()),n&2){let e=l.$implicit,i=m();d("value",e)("disabled",i.optionDisabled),o(2),A(i.displayOption(e))}}function vl(n,l){n&1&&b(0,"i",13)}function Dl(n,l){n&1&&b(0,"i",14)}function yl(n,l){if(n&1){let e=v();r(0,"i",15),C("click",function(){f(e);let t=m();return g(t.onActionSelectClear())}),a()}}function wl(n,l){n&1&&(r(0,"em"),c(1),S(2,"translate"),a()),n&2&&(o(),u("(",h(2,1,"TITLE.Necessary"),")"))}var li=class li{constructor(l,e,i,t,s){this.coreEnumService=l;this.cdr=e;this.publicHelper=i;this.translate=t;this.categoryService=s;this.id=++li.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new F;this.dataModelSelect=new xe;this.formControl=new Zt;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new wt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(zt(""),Ut(1500),Qt(),Kt(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return ee(this,null,function*(){let e=new K;e.rowPerPage=20,e.accessLoad=!0;let i=new O;i.propertyName="Title",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ne.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new O,i.propertyName="Id",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ne.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield qt(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect?.id?.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(jt(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof l==typeof xe){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new xe,this.loadOptions()}};li.nextId=0,li.\u0275fac=function(e){return new(e||li)(M(Q),M(k),M(G),M(V),M(nt))},li.\u0275cmp=R({type:li,selectors:[["app-webdesigner-menu-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:bl,decls:13,vars:18,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=v();Jt(),r(0,"div",1),b(1,"app-progress-spinner",2),I(2,Il,2,3,"label",3),b(3,"input",4),r(4,"mat-autocomplete",5,0),C("optionSelected",function(_){return f(t),g(i.onActionSelect(_.option.value))}),I(6,Cl,3,3,"mat-option",6),S(7,"async"),a(),I(8,vl,1,0,"i",7)(9,Dl,1,0,"i",8)(10,yl,1,0,"i",9)(11,wl,3,3,"em",10),Yt(12),a()}if(e&2){let t=x(5);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),d("placeholder",P(i.optionPlaceholder))("id",Ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Et("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",h(7,16,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Ge,W,Y,z,X,ei,ni,ii,oi,B,q,et,L],encapsulation:2});var Fi=li;var Al=["vform"],xl=()=>["fa"];function Pl(n,l){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",29),T("modelChange",function(t){f(e);let s=m();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),g(t)}),a()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Rl(n,l){n&1&&b(0,"i",35)}function Wl(n,l){n&1&&b(0,"i",36)}function Ll(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function kl(n,l){if(n&1){let e=v();r(0,"div",20)(1,"label",30),c(2),a(),r(3,"input",31,2),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.title,t)||(s.dataModel.title=t),g(t)}),a(),I(5,Rl,1,0,"i",32)(6,Wl,1,0,"i",33),r(7,"em"),c(8),a(),I(9,Ll,5,4,"mat-error",34),a()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),u("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Vl(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Gl(n,l){if(n&1){let e=v();r(0,"div",20)(1,"label",37),c(2),a(),r(3,"input",38,3),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),g(t)}),a(),I(5,Vl,5,4,"mat-error",34),a()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),d("ngIf",e.errors==null?null:e.errors.required)}}function Bl(n,l){if(n&1){let e=v();r(0,"div",20)(1,"label",39),c(2),a(),r(3,"input",40,4),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.routeAddressLink,t)||(s.dataModel.routeAddressLink=t),g(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle)),w("ngModel",i.dataModel.routeAddressLink),d("disabled",!(i.fieldsInfo.routeAddressLink!=null&&i.fieldsInfo.routeAddressLink.accessEditField)),o(3),u("",e.value.length," / 500")}}function Fl(n,l){if(n&1){let e=v();r(0,"div",41)(1,"div",42)(2,"h5",43),c(3),a()(),r(4,"div",44)(5,"div",45)(6,"input",46),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.routeAddressBlankPage,t)||(s.dataModel.routeAddressBlankPage=t),g(t)}),a(),b(7,"label",47),a()()()}if(n&2){let e=m();o(3),u(" ",e.fieldsInfo.routeAddressBlankPage==null?null:e.fieldsInfo.routeAddressBlankPage.fieldTitle," "),o(3),w("ngModel",e.dataModel.routeAddressBlankPage)}}function Nl(n,l){if(n&1){let e=v();r(0,"div",20)(1,"label",48),c(2),a(),r(3,"input",49,5),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.color,t)||(s.dataModel.color=t),g(t)}),a(),b(5,"ngx-mat-color-toggle",50)(6,"ngx-mat-color-picker",51,6),a()}if(n&2){let e=x(7),i=m();o(2),A(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle),o(),Vt("background",i.dataModel.color),d("placeholder",P(i.fieldsInfo.color==null?null:i.fieldsInfo.color.fieldTitle))("ngxMatColorPicker",e),w("ngModel",i.dataModel.color),d("disabled",!(i.fieldsInfo.color!=null&&i.fieldsInfo.color.accessAddField)),o(2),d("for",e),o(),d("touchUi",!0)("color","primary")}}function Ol(n,l){if(n&1){let e=v();r(0,"div",20)(1,"label",52),c(2),a(),r(3,"input",53,7),C("iconPickerSelect",function(t){f(e);let s=m();return g(s.onIconPickerSelect(t))}),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.icon,t)||(s.dataModel.icon=t),g(t)}),a()()}if(n&2){let e=m();o(2),A(e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle),o(),d("placeholder",P(e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle))("iconPicker",e.dataModel.icon)("ipIconPack",Ie(8,xl))("ipPosition","top"),w("ngModel",e.dataModel.icon),d("disabled",!(e.fieldsInfo.icon!=null&&e.fieldsInfo.icon.accessEditField))}}function Hl(n,l){if(n&1){let e=v();r(0,"div",20)(1,"label",54),c(2),a(),r(3,"input",55,8),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.showInMenuOrder,t)||(s.dataModel.showInMenuOrder=t),g(t)}),a()()}if(n&2){let e=m();o(2),A(e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle),o(),d("placeholder",P(e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle)),w("ngModel",e.dataModel.showInMenuOrder),d("disabled",!(e.fieldsInfo.showInMenuOrder!=null&&e.fieldsInfo.showInMenuOrder.accessEditField))}}function ql(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function jl(n,l){if(n&1){let e=v();r(0,"div",20)(1,"label",56),c(2),a(),r(3,"textarea",57,9),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.description,t)||(s.dataModel.description=t),g(t)}),c(5,"            "),a(),r(6,"em"),c(7),a(),I(8,ql,5,4,"mat-error",34),a()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),o(4),u("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Ul(n,l){if(n&1){let e=v();r(0,"div",58)(1,"button",59),C("click",function(){f(e);let t=m();return g(t.onFormCancel())}),c(2),S(3,"translate"),a(),r(4,"button",60),c(5),S(6,"translate"),a()()}if(n&2){m();let e=x(9);o(2),u(" ",h(3,3,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(),u(" ",h(6,5,"ACTION.SAVE")," ")}}function Ql(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function zl(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function Kl(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function Jl(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}var Ni=class Ni extends Rt{constructor(e,i,t,s,_,p,j,J){super(s,new xe,p,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainMenuService=s;this.cmsToastrService=_;this.publicHelper=p;this.cdr=j;this.translate=J;this.requestParentId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResult=new F;this.dataModel=new xe;this.formInfo=new re;this.dataModelEnumMenuPlaceTypeResult=new F;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestParentId=e.parentId+""),this.requestParentId.length>0&&(this.dataModel.linkParentId=this.requestParentId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.getEnumMenuPlaceType(),this.DataGetAccess()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:e=>{this.dataModelEnumMenuPlaceTypeResult=e}})}DataAddContent(){this.dataModel.color=this.dataModel.color?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainMenuService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){this.dataModel.linkParentId=null,e&&e.id?.length>0&&(this.dataModel.linkParentId=e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onIconPickerSelect(e){this.dataModel.icon=e}};Ni.\u0275fac=function(i){return new(i||Ni)(M(Me),M(he),M(Q),M(nt),M(N),M(G),M(k),M(V))},Ni.\u0275cmp=R({type:Ni,selectors:[["app-webdesigner-menu-add"]],viewQuery:function(i,t){if(i&1&&te(Al,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:35,vars:29,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["RouteAddressLink",""],["color",""],["colorPicker",""],["icon",""],["ShowInMenuOrder",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.routeAddressLink",1,"color-highlight"],["matInput","","type","text","name","dataModel.routeAddressLink","minlength","0","maxlength","500","id","dataModel.routeAddressLink",1,"form-control","validate-name",2,"direction","ltr","text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.routeAddressBlankPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.routeAddressBlankPage","name","dataModel.routeAddressBlankPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.routeAddressBlankPage",1,"custom-control-label"],["for","dataModel.color",1,"color-highlight"],["matInput","","type","text","name","dataModel.color","id","dataModel.color",1,"form-control","validate-name",3,"ngModelChange","ngxMatColorPicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.icon",1,"color-highlight"],["matInput","","type","text","name","dataModel.icon","id","dataModel.icon",1,"form-control","validate-name",3,"iconPickerSelect","ngModelChange","iconPicker","ipIconPack","ipPosition","ngModel","placeholder","disabled"],["for","dataModel.showInMenuOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInMenuOrder","id","dataModel.showInMenuOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","1","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=v();r(0,"div",10),b(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),r(8,"form",14,0),C("ngSubmit",function(){return f(s),g(t.onFormSubmit())}),r(10,"mat-horizontal-stepper",15,1),C("selectionChange",function(p){f(s);let j=x(11);return g(t.onStepClick(p,j))}),r(12,"mat-step",16),S(13,"translate"),I(14,Pl,1,5,"app-cms-enum-record-status-selector",17),r(15,"app-webdesigner-menu-selector",18),S(16,"translate"),C("optionChange",function(p){return f(s),g(t.onActionSelectorSelect(p))}),a(),I(17,kl,10,9,"div",19),r(18,"div",20)(19,"label",21),c(20),S(21,"translate"),a(),r(22,"input",22),T("ngModelChange",function(p){return f(s),E(t.dataModel.titleML,p)||(t.dataModel.titleML=p),g(p)}),a()(),I(23,Gl,6,6,"div",19)(24,Bl,7,6,"div",19)(25,Fl,8,2,"div",23)(26,Nl,8,11,"div",19)(27,Ol,5,9,"div",19)(28,Hl,5,5,"div",19)(29,jl,9,6,"div",19)(30,Ul,7,7,"div",24),a(),I(31,Ql,2,0,"ng-template",25)(32,zl,2,0,"ng-template",26)(33,Kl,2,0,"ng-template",27)(34,Jl,2,0,"ng-template",28),a()()()()}i&2&&(o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),u(" ",t.formInfo.formTitle," "),o(2),u(" ",h(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",P(h(13,23,"TITLE.Menu_Profile"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("optionDisabled",!1)("optionSelectForce",t.dataModel.linkParentId)("optionPlaceholder",h(16,25,"TITLE.Parent_Menu")),o(2),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),u(" ",h(21,27,"TITLE.TitleML")),o(2),w("ngModel",t.dataModel.titleML),d("disabled",!0),o(),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),d("ngIf",t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.accessWatchField),o(),d("ngIf",t.fieldsInfo.routeAddressBlankPage==null?null:t.fieldsInfo.routeAddressBlankPage.accessWatchField),o(),d("ngIf",t.fieldsInfo.color==null?null:t.fieldsInfo.color.accessWatchField),o(),d("ngIf",t.fieldsInfo.icon==null?null:t.fieldsInfo.icon.accessWatchField),o(),d("ngIf",t.fieldsInfo.showInMenuOrder==null?null:t.fieldsInfo.showInMenuOrder.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow))},dependencies:[W,me,Y,$t,At,z,de,X,ge,_e,pe,ce,Se,Mn,oe,B,ri,ai,Pn,be,q,En,wn,yn,Gn,Fi,L],encapsulation:2});var Oi=Ni;var Yl=["vform"],Xl=()=>["fa"];function Zl(n,l){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",29),T("modelChange",function(t){f(e);let s=m();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),g(t)}),a()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function $l(n,l){n&1&&b(0,"i",35)}function es(n,l){n&1&&b(0,"i",36)}function ts(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function is(n,l){if(n&1){let e=v();r(0,"div",20)(1,"label",30),c(2),a(),r(3,"input",31,2),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.title,t)||(s.dataModel.title=t),g(t)}),a(),I(5,$l,1,0,"i",32)(6,es,1,0,"i",33),r(7,"em"),c(8),a(),I(9,ts,5,4,"mat-error",34),a()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),u("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function ns(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function os(n,l){if(n&1){let e=v();r(0,"div",20)(1,"label",37),c(2),a(),r(3,"input",38,3),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),g(t)}),a(),I(5,ns,5,4,"mat-error",34),a()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),d("ngIf",e.errors==null?null:e.errors.required)}}function rs(n,l){if(n&1){let e=v();r(0,"div",20)(1,"label",39),c(2),a(),r(3,"input",40,4),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.routeAddressLink,t)||(s.dataModel.routeAddressLink=t),g(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle)),w("ngModel",i.dataModel.routeAddressLink),d("disabled",!(i.fieldsInfo.routeAddressLink!=null&&i.fieldsInfo.routeAddressLink.accessEditField)),o(3),u("",e.value.length," / 500")}}function as(n,l){if(n&1){let e=v();r(0,"div",41)(1,"div",42)(2,"h5",43),c(3),a()(),r(4,"div",44)(5,"div",45)(6,"input",46),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.routeAddressBlankPage,t)||(s.dataModel.routeAddressBlankPage=t),g(t)}),a(),b(7,"label",47),a()()()}if(n&2){let e=m();o(3),u(" ",e.fieldsInfo.routeAddressBlankPage==null?null:e.fieldsInfo.routeAddressBlankPage.fieldTitle," "),o(3),w("ngModel",e.dataModel.routeAddressBlankPage)}}function ls(n,l){if(n&1){let e=v();r(0,"div",20)(1,"label",48),c(2),a(),r(3,"input",49,5),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.color,t)||(s.dataModel.color=t),g(t)}),a(),b(5,"ngx-mat-color-toggle",50)(6,"ngx-mat-color-picker",51,6),a()}if(n&2){let e=x(7),i=m();o(2),A(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle),o(),Vt("background",i.dataModel.color),d("placeholder",P(i.fieldsInfo.color==null?null:i.fieldsInfo.color.fieldTitle))("ngxMatColorPicker",e),w("ngModel",i.dataModel.color),d("disabled",!(i.fieldsInfo.color!=null&&i.fieldsInfo.color.accessAddField)),o(2),d("for",e),o(),d("touchUi",!0)("color","primary")}}function ss(n,l){if(n&1){let e=v();r(0,"div",20)(1,"label",52),c(2),a(),r(3,"input",53,7),C("iconPickerSelect",function(t){f(e);let s=m();return g(s.onIconPickerSelect(t))}),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.icon,t)||(s.dataModel.icon=t),g(t)}),a()()}if(n&2){let e=m();o(2),A(e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle),o(),d("placeholder",P(e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle))("iconPicker",e.dataModel.icon)("ipIconPack",Ie(8,Xl))("ipPosition","top"),w("ngModel",e.dataModel.icon),d("disabled",!(e.fieldsInfo.icon!=null&&e.fieldsInfo.icon.accessEditField))}}function ds(n,l){if(n&1){let e=v();r(0,"div",20)(1,"label",54),c(2),a(),r(3,"input",55,8),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.showInMenuOrder,t)||(s.dataModel.showInMenuOrder=t),g(t)}),a()()}if(n&2){let e=m();o(2),A(e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle),o(),d("placeholder",P(e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle)),w("ngModel",e.dataModel.showInMenuOrder),d("disabled",!(e.fieldsInfo.showInMenuOrder!=null&&e.fieldsInfo.showInMenuOrder.accessEditField))}}function cs(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function ps(n,l){if(n&1){let e=v();r(0,"div",20)(1,"label",56),c(2),a(),r(3,"textarea",57,9),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.description,t)||(s.dataModel.description=t),g(t)}),c(5,"            "),a(),r(6,"em"),c(7),a(),I(8,cs,5,4,"mat-error",34),a()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),o(4),u("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function ms(n,l){if(n&1){let e=v();r(0,"div",58)(1,"button",59),C("click",function(){f(e);let t=m();return g(t.onFormCancel())}),c(2),S(3,"translate"),a(),r(4,"button",60),c(5),S(6,"translate"),a()()}if(n&2){m();let e=x(9);o(2),u(" ",h(3,3,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(),u(" ",h(6,5,"ACTION.SAVE")," ")}}function us(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function fs(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function gs(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function _s(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}var Hi=class Hi extends Wt{constructor(e,i,t,s,_,p,j,J){super(s,new xe,_,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainMenuService=s;this.publicHelper=_;this.cmsToastrService=p;this.cdr=j;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.appLanguage="fa";this.dataModelResult=new Di;this.dataModel=new xe;this.formInfo=new re;this.dataModelEnumMenuPlaceTypeResult=new F;this.fileManagerOpenForm=!1;this.dataWebDesignerMainMenuIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+"")}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumMenuPlaceType()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:e=>{this.dataModelEnumMenuPlaceTypeResult=e}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainMenuService.setAccessLoad(),this.webDesignerMainMenuService.setAccessDataType(xt.Editor),this.webDesignerMainMenuService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.color=this.dataModel.color?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainMenuService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionSelectorSelect(e){this.dataModel.linkParentId=null,e&&e.id?.length>0&&(this.dataModel.linkParentId=e.id)}onActionSelectorUserCategorySelect(e){this.dataWebDesignerMainMenuModel=e}onIconPickerSelect(e){this.dataModel.icon=e}};Hi.\u0275fac=function(i){return new(i||Hi)(M(Me),M(he),M(Q),M(nt),M(G),M(N),M(k),M(V))},Hi.\u0275cmp=R({type:Hi,selectors:[["app-webdesigner-menu-edit"]],viewQuery:function(i,t){if(i&1&&te(Yl,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:35,vars:29,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["RouteAddressLink",""],["color",""],["colorPicker",""],["icon",""],["ShowInMenuOrder",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.routeAddressLink",1,"color-highlight"],["matInput","","type","text","name","dataModel.routeAddressLink","minlength","0","maxlength","500","id","dataModel.routeAddressLink",1,"form-control","validate-name",2,"direction","ltr","text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.routeAddressBlankPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.routeAddressBlankPage","name","dataModel.routeAddressBlankPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.routeAddressBlankPage",1,"custom-control-label"],["for","dataModel.color",1,"color-highlight"],["matInput","","type","text","name","dataModel.color","id","dataModel.color",1,"form-control","validate-name",3,"ngModelChange","ngxMatColorPicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.icon",1,"color-highlight"],["matInput","","type","text","name","dataModel.icon","id","dataModel.icon",1,"form-control","validate-name",3,"iconPickerSelect","ngModelChange","iconPicker","ipIconPack","ipPosition","ngModel","placeholder","disabled"],["for","dataModel.showInMenuOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInMenuOrder","id","dataModel.showInMenuOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","1","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=v();r(0,"div",10),b(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),r(8,"form",14,0),C("ngSubmit",function(){return f(s),g(t.onFormSubmit())}),r(10,"mat-horizontal-stepper",15,1),C("selectionChange",function(p){f(s);let j=x(11);return g(t.onStepClick(p,j))}),r(12,"mat-step",16),S(13,"translate"),I(14,Zl,1,5,"app-cms-enum-record-status-selector",17),r(15,"app-webdesigner-menu-selector",18),S(16,"translate"),C("optionChange",function(p){return f(s),g(t.onActionSelectorSelect(p))}),a(),I(17,is,10,9,"div",19),r(18,"div",20)(19,"label",21),c(20),S(21,"translate"),a(),r(22,"input",22),T("ngModelChange",function(p){return f(s),E(t.dataModel.titleML,p)||(t.dataModel.titleML=p),g(p)}),a()(),I(23,os,6,6,"div",19)(24,rs,7,6,"div",19)(25,as,8,2,"div",23)(26,ls,8,11,"div",19)(27,ss,5,9,"div",19)(28,ds,5,5,"div",19)(29,ps,9,6,"div",19)(30,ms,7,7,"div",24),a(),I(31,us,2,0,"ng-template",25)(32,fs,2,0,"ng-template",26)(33,gs,2,0,"ng-template",27)(34,_s,2,0,"ng-template",28),a()()()()}i&2&&(o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),u(" ",t.formInfo.formTitle," "),o(2),u(" ",h(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",P(h(13,23,"TITLE.Menu_Profile"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("optionDisabled",!1)("optionSelectForce",t.dataModel.linkParentId)("optionPlaceholder",h(16,25,"TITLE.Parent_Menu")),o(2),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),u(" ",h(21,27,"TITLE.TitleML")),o(2),w("ngModel",t.dataModel.titleML),d("disabled",!0),o(),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),d("ngIf",t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.accessWatchField),o(),d("ngIf",t.fieldsInfo.routeAddressBlankPage==null?null:t.fieldsInfo.routeAddressBlankPage.accessWatchField),o(),d("ngIf",t.fieldsInfo.color==null?null:t.fieldsInfo.color.accessWatchField),o(),d("ngIf",t.fieldsInfo.icon==null?null:t.fieldsInfo.icon.accessWatchField),o(),d("ngIf",t.fieldsInfo.showInMenuOrder==null?null:t.fieldsInfo.showInMenuOrder.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow))},dependencies:[W,me,Y,$t,At,z,de,X,ge,_e,pe,ce,Se,Mn,oe,B,ri,ai,Pn,be,q,En,wn,yn,Gn,Fi,L],encapsulation:2});var qi=Hi;function Ss(n,l){if(n&1){let e=v();r(0,"button",13),C("click",function(){f(e);let t=m();return g(t.onActionAdd())}),c(1),S(2,"translate"),a()}n&2&&(o(),u(" ",h(2,1,"ACTION.ADD")," "))}function hs(n,l){if(n&1){let e=v();r(0,"button",14),C("click",function(){f(e);let t=m();return g(t.onActionEdit())}),c(1),S(2,"translate"),a()}n&2&&(o(),u(" ",h(2,1,"ACTION.EDIT")," "))}function Ms(n,l){if(n&1){let e=v();r(0,"button",15),C("click",function(){f(e);let t=m();return g(t.onActionButtonReload())}),r(1,"mat-icon",16),S(2,"translate"),c(3,"refresh"),a()()}n&2&&(o(),d("title",P(h(2,2,"ACTION.RELOAD"))))}function bs(n,l){if(n&1){let e=v();r(0,"mat-tree-node",17),b(1,"button",18),r(2,"span",19),C("click",function(){let t=f(e).$implicit,s=m();return g(s.onActionSelect(t))}),b(3,"i",20),c(4),a()()}if(n&2){let e=l.$implicit,i=m();Te("ntk-tree-selected",i.dataModelSelect.id.length>0&&i.dataModelSelect.id===e.id),o(3),Vt("color",e.color),d("ngClass",e.icon),o(),u(" \xA0\xA0\xA0\xA0 ",e.title)}}function Is(n,l){if(n&1){let e=v();r(0,"mat-tree-node",21)(1,"button",22)(2,"mat-icon",23),c(3),a()(),r(4,"span",19),C("click",function(){let t=f(e).$implicit,s=m();return g(s.onActionSelect(t))}),b(5,"i",20),c(6),a()()}if(n&2){let e=l.$implicit,i=m(),t=x(11);Te("ntk-tree-selected",i.dataModelSelect.id.length>0&&i.dataModelSelect.id===e.id),d("cdkTreeNodeTypeaheadLabel",e.title),o(),Et("type","button")("aria-label","Toggle "+e.title),o(2),u(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),Vt("color",e.color),d("ngClass",e.icon),o(),u(" \xA0\xA0\xA0\xA0 ",e.title)}}var ji=class ji{constructor(l,e,i,t,s,_,p,j,J,yt){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=s;this.publicHelper=_;this.tokenHelper=p;this.themeService=j;this.cmsStoreService=J;this.translate=yt;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new xe;this.dataModelResult=new F;this.filterModel=new K;this.dataSource=new Uo;this.optionChange=new wt;this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!!e.children&&e.children.length>0;this.childrenAccessor=l=>l.children??[];this.publicHelper.processService.cdr=this.cdr,this.filterModel.sortColumn="ShowInMenuOrder",this.filterModel.sortType=H.Ascending}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){setTimeout(()=>{this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>ee(this,null,function*(){this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAllTree(this.filterModel).subscribe({next:e=>{e.isSuccess&&(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l)}})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new xe,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){let l="";this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(l=this.dataModelSelect.id);let e=new Co;e.disableClose=!0,e.autoFocus=!0,e.data={parentId:l},this.dialog.open(Oi,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l="";if(this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(l=this.dataModelSelect.id),l.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(qi,{height:"90%",panelClass:e,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let l="";if(this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(l=this.dataModelSelect.id),l.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}}};ji.\u0275fac=function(e){return new(e||ji)(M(N),M(Q),M(nt),M(Fe),M(k),M(G),M(We),M(bt),M(Pe),M(V))},ji.\u0275cmp=R({type:ji,selectors:[["app-webdesigner-menu-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:15,vars:13,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","",3,"cdkTreeNodeTypeaheadLabel","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","true",3,"ngClass"],["matTreeNodePadding","","matTreeNodeToggle","",3,"cdkTreeNodeTypeaheadLabel"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),D(1,2),c(2),S(3,"translate"),y(),D(4,3),I(5,Ss,3,3,"button",4)(6,hs,3,3,"button",5)(7,Ms,4,4,"button",6),y(),D(8,7),b(9,"app-progress-spinner",8),r(10,"mat-tree",9,0),I(12,bs,5,6,"mat-tree-node",10)(13,Is,7,10,"mat-tree-node",11),a(),y(),we(14,12),a()),e&2&&(d("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),u(" ",h(3,11,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),o(2),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),d("matTreeNodeDefWhen",i.hasChild))},dependencies:[De,W,Ae,oe,Oo,Ho,jo,qo,No,q,rr,L],encapsulation:2});var Un=ji;var vs=()=>["expandedTitle"],Ds=()=>[5,10,20,100],ys=n=>({display:n});function ws(n,l){if(n&1){let e=v();r(0,"div",41)(1,"a",42),C("click",function(){f(e);let t=m();return g(t.onActionButtonNewRow())}),b(2,"i",43)(3,"br"),a(),r(4,"p",44),c(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",h(6,1,"ACTION.ADD")," "))}function Es(n,l){if(n&1){let e=v();r(0,"div",41)(1,"a",45),C("click",function(){f(e);let t=m();return g(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",46)(3,"br"),a(),r(4,"p",44),c(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",h(6,1,"ACTION.EDIT")," "))}function Ts(n,l){if(n&1){let e=v();r(0,"div",41)(1,"a",47),C("click",function(){f(e);let t=m();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",48)(3,"br"),a(),r(4,"p",44),c(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",h(6,1,"ACTION.DELETE")," "))}function As(n,l){if(n&1){let e=v();r(0,"mat-row",49),C("click",function(){let t=f(e).$implicit,s=m();return g(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(e).$implicit,s=m();return g(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(e).$implicit,s=m();return g(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=m();Te("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function xs(n,l){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle," ")}}function Ps(n,l){if(n&1&&(r(0,"mat-cell"),b(1,"i",51),a()),n&2){let e=l.$implicit;o(),Vt("color",e.color),d("ngClass",e.icon)}}function Rs(n,l){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ws(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.id," ")}}function Ls(n,l){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ks(n,l){if(n&1&&b(0,"select",54),n&2){let e=m().$implicit,i=m();d("contentService",i.contentService)("row",e)("ngStyle",Ze(3,ys,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Vs(n,l){if(n&1&&(r(0,"mat-cell"),b(1,"i",52),S(2,"statusIconClass"),I(3,ks,1,5,"select",53),a()),n&2){let e=l.$implicit,i=m();o(),d("ngClass",h(2,2,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Gs(n,l){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)}}function Bs(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.title," ")}}function Fs(n,l){n&1&&(r(0,"mat-header-cell",50),c(1),S(2,"translate"),a()),n&2&&(o(),u(" ",h(2,1,"TITLE.Show_In_Access_Admin_Allow_To_Professional_Data")))}function Ns(n,l){if(n&1&&(r(0,"mat-cell"),b(1,"i",52),S(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",h(2,1,e.showInAccessAdminAllowToProfessionalData))}}function Os(n,l){n&1&&(r(0,"mat-header-cell",50),c(1),S(2,"translate"),a()),n&2&&(o(),u(" ",h(2,1,"TITLE.Menu_Place_Type")," "))}function Hs(n,l){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"enums"),a()),n&2){let e=l.$implicit,i=m();o(),u(" ",Tt(2,1,e.menuPlaceType,i.dataModelEnumMenuPlaceTypeResult.listItems)," ")}}function qs(n,l){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle," ")}}function js(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.showInMenuOrder," ")}}function Us(n,l){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),a()),n&2&&(o(),u(" ",h(2,1,"TITLE.OPTION")," "))}function Qs(n,l){if(n&1&&(r(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),c(3,"more_vert"),a()(),b(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),d("matMenuTriggerFor",e)}}function zs(n,l){n&1&&(r(0,"mat-header-cell",50),c(1),S(2,"translate"),a()),n&2&&(o(),u("",h(2,1,"ACTION.ORDERING")," "))}function Ks(n,l){n&1&&(r(0,"mat-cell")(1,"mat-icon",57),c(2,"reorder"),a()())}function Js(n,l){n&1&&b(0,"mat-header-row")}function Ys(n,l){if(n&1){let e=v();r(0,"mat-row",58),C("click",function(){let t=f(e).$implicit,s=m();return g(s.onActionTableRowSelect(t))}),a()}if(n&2){let e=l.$implicit,i=m();Te("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),d("cdkDragData",e)}}function Xs(n,l){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"translate"),b(3,"br"),c(4),S(5,"translate"),b(6,"br"),c(7),S(8,"translate"),a()),n&2){let e=l.$implicit;o(),Xt(" ",h(2,6,"TITLE.Id")," : ",e.id," "),o(3),Xt(" ",h(5,8,"TITLE.title")," : ",e.title," "),o(3),Xt(" ",h(8,10,"TITLE.DisplayInThePriorityMenu")," : ",e.ShowInMenuOrder," ")}}var Ui=class Ui extends Ct{constructor(e,i,t,s,_,p,j,J,yt,ui,Ot,fi){super(e,new xe,Ot,s,j);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.tokenHelper=s;this.coreEnumService=_;this.cdr=p;this.translate=j;this.themeService=J;this.cmsStoreService=yt;this.pageInfo=ui;this.publicHelper=Ot;this.dialog=fi;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Icon","RecordStatus","ShowInAccessAdminAllowToProfessionalData","MenuPlaceType","position"];this.tabledisplayedColumnsMobileSource=["Icon","RecordStatus","ShowInAccessAdminAllowToProfessionalData","MenuPlaceType","position"];this.dataModelEnumMenuPlaceTypeResult=new F;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ht=>this.onSubmitOptionsSearch(Ht)},this.filteModelContent.sortColumn="ShowInMenuOrder",this.filteModelContent.sortType=H.Ascending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})),this.getEnumMenuPlaceType()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:e=>{this.dataModelEnumMenuPlaceTypeResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new xe);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new O;t.propertyName="LinkParentId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(s=>s===e.item.data),t=new yo;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=ro.GoUp:t.actionGo=ro.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:s=>{s.isSuccess&&($o(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice())},error:s=>{this.cmsToastrService.typeError(s)}})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new K,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Oi,{height:"90%",panelClass:e,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{parentId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(qi,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(_,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess&&(i.set("All",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new O;_.propertyName="RecordStatus",_.value=it.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess&&(i.set("Active",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Ui.\u0275fac=function(i){return new(i||Ui)(M(nt),M(qe),M(N),M(We),M(Q),M(k),M(V),M(bt),M(Pe),M(It),M(G),M(Fe))},Ui.\u0275cmp=R({type:Ui,selectors:[["app-webdesigner-menu-list"]],standalone:!1,features:[U],decls:65,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","Icon"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],["matColumnDef","Title"],["matColumnDef","ShowInAccessAdminAllowToProfessionalData"],["matColumnDef","MenuPlaceType"],["matColumnDef","ShowInMenuOrder"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild","cdkDrag","",3,"ntk-row-selected","cdkDragData","click",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"ntk-row-expandedTitle",3,"click","mouseenter","mouseleave"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],["cdkDrag","",1,"ntk-row-mainfild",3,"click","cdkDragData"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),T("optionActionGuideNoticeDisplayChange",function(p){return f(s),E(t.viewGuideNotice,p)||(t.viewGuideNotice=p),g(p)}),C("optionOnActionButtonMemoRow",function(){return f(s),g(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(s),g(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(s),g(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(s),g(t.onActionButtonPrintRow())}),D(1,4),r(2,"app-webdesigner-menu-tree",5),C("optionChange",function(p){return f(s),g(t.onActionSelectorSelect(p))}),a(),y(),we(3,6)(4,7),D(5,8),r(6,"a",9),C("click",function(){return f(s),g(t.viewGuideNotice=!t.viewGuideNotice)}),b(7,"i",10),a(),r(8,"a",9),C("click",function(){return f(s),g(t.onActionButtonReload())}),b(9,"i",11),a(),y(),D(10,12),r(11,"a",13),C("click",function(){return f(s),g(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),b(12,"mat-slide-toggle",14),c(13),S(14,"translate"),a(),r(15,"a",13),C("click",function(){return f(s),g(t.onActionButtonStatist())}),b(16,"mat-slide-toggle",14),c(17),S(18,"translate"),a(),y(),D(19,15),I(20,ws,7,3,"div",16),y(),D(21,17),I(22,Es,7,3,"div",16)(23,Ts,7,3,"div",16),y(),D(24,18),r(25,"app-cms-search-list",19),T("optionsChange",function(p){return f(s),E(t.optionsSearch,p)||(t.optionsSearch=p),g(p)}),a(),r(26,"app-cms-statist-list",19),T("optionsChange",function(p){return f(s),E(t.optionsStatist,p)||(t.optionsStatist=p),g(p)}),a(),y(),D(27,20),r(28,"mat-table",21,0),C("matSortChange",function(){f(s);let p=x(29);return g(t.onTableSortData(p))})("cdkDropListDropped",function(p){return f(s),g(t.onTableDropRow(p))}),I(30,As,1,2,"mat-row",22),D(31,23),I(32,xs,2,1,"mat-header-cell",24)(33,Ps,2,3,"mat-cell",25),y(),D(34,26),I(35,Rs,2,1,"mat-header-cell",24)(36,Ws,2,1,"mat-cell",25),y(),D(37,27),I(38,Ls,2,1,"mat-header-cell",24)(39,Vs,4,4,"mat-cell",25),y(),D(40,28),I(41,Gs,2,1,"mat-header-cell",24)(42,Bs,2,1,"mat-cell",25),y(),D(43,29),I(44,Fs,3,3,"mat-header-cell",24)(45,Ns,3,3,"mat-cell",25),y(),D(46,30),I(47,Os,3,3,"mat-header-cell",24)(48,Hs,3,4,"mat-cell",25),y(),D(49,31),I(50,qs,2,1,"mat-header-cell",24)(51,js,2,1,"mat-cell",25),y(),D(52,32),I(53,Us,3,3,"mat-header-cell",33)(54,Qs,6,1,"mat-cell",34),y(),D(55,35),I(56,zs,3,3,"mat-header-cell",24)(57,Ks,3,0,"mat-cell",25),y(),I(58,Js,1,0,"mat-header-row",36)(59,Ys,1,3,"mat-row",37),D(60,38),I(61,Xs,9,12,"mat-cell",25),y(),a(),y(),D(62,39),r(63,"mat-paginator",40,1),C("page",function(p){return f(s),g(t.onTablePageingData(p))}),a(),y(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","configuresite.webdesigner.menu"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(12),d("checked",t.optionsSearch.data.show),o(),u("",h(14,25,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),u("",h(18,27,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),d("dataSource",t.tableSource)("cdkDropListData",t.tableSource),o(2),d("matRowDefColumns",Ie(29,vs)),o(28),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(4),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(30,Ds)))},dependencies:[De,W,$e,Ae,oe,B,at,lt,He,Re,st,dt,ct,mt,_t,ut,pt,St,ft,gt,ht,Mt,je,Ue,Qe,vt,ir,tr,er,Un,L,dr,ze,Ei],encapsulation:2});var Qn=Ui;var $s=["vform"];function ed(n,l){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",22),T("modelChange",function(t){f(e);let s=m();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),g(t)}),a()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function td(n,l){n&1&&b(0,"i",25)}function id(n,l){n&1&&b(0,"i",26)}function nd(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function od(n,l){if(n&1){let e=v();r(0,"div",13)(1,"label",23),c(2),a(),r(3,"input",24,3),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.title,t)||(s.dataModel.title=t),g(t)}),a(),I(5,td,1,0,"i",16)(6,id,1,0,"i",17),r(7,"em"),c(8),a(),I(9,nd,5,4,"mat-error",18),a()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),u("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function rd(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function ad(n,l){if(n&1){let e=v();r(0,"div",13)(1,"label",27),c(2),a(),r(3,"input",28,4),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),g(t)}),a(),r(5,"em"),c(6),a(),I(7,rd,5,4,"mat-error",18),a()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessAddField)),o(3),u("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function ld(n,l){n&1&&b(0,"i",25)}function sd(n,l){n&1&&b(0,"i",26)}function dd(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m();o(),u(" ",e.fieldsInfo.cmsModuleClassName==null?null:e.fieldsInfo.cmsModuleClassName.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function cd(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m();o(),u(" ",e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function pd(n,l){if(n&1){let e=v();r(0,"div",29)(1,"button",30),C("click",function(){f(e);let t=m();return g(t.onFormCancel())}),b(2,"i",31),c(3),S(4,"translate"),a(),r(5,"button",32),b(6,"i",33),c(7),S(8,"translate"),a()()}if(n&2){m();let e=x(9);o(3),u(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),u(" ",h(8,5,"ACTION.SAVE")," ")}}var Qi=class Qi extends Rt{constructor(e,i,t,s,_,p,j,J){super(s,new Ye,p,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainPageDependencyService=s;this.cmsToastrService=_;this.publicHelper=p;this.cdr=j;this.translate=J;this.requestLinkModuleId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new F;this.dataModel=new Ye;this.formInfo=new re;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(this.requestLinkModuleId=+e.linkModuleId),this.requestLinkModuleId>0&&(this.dataModel.linkModuleId=this.requestLinkModuleId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageDependencyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectModule(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_module","MESSAGE.Information_module_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_module"],i["MESSAGE.Information_module_is_not_clear"])});return}this.dataModel.linkModuleId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Qi.\u0275fac=function(i){return new(i||Qi)(M(Me),M(he),M(Q),M(Pt),M(N),M(G),M(k),M(V))},Qi.\u0275cmp=R({type:Qi,selectors:[["app-webdesigner-pagedependency-add"]],viewQuery:function(i,t){if(i&1&&te($s,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:32,vars:29,consts:[["vform","ngForm"],["CmsModuleClassName",""],["ClassActionName",""],["Title",""],["TitleResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.cmsModuleClassName",1,"color-highlight"],["matInput","","type","text","name","dataModel.cmsModuleClassName","type","text","minlength","3","maxlength","100","required","","id","dataModel.cmsModuleClassName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.classActionName",1,"color-highlight"],["matInput","","type","text","name","dataModel.classActionName","type","text","id","dataModel.classActionName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",5),b(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),r(8,"form",9,0),C("ngSubmit",function(){return f(s),g(t.onFormSubmit())}),I(10,ed,1,5,"app-cms-enum-record-status-selector",10)(11,od,10,9,"div",11)(12,ad,8,7,"div",11),r(13,"app-cms-module-selector",12),S(14,"translate"),C("optionChange",function(p){return f(s),g(t.onActionSelectModule(p))}),a(),r(15,"div",13)(16,"label",14),c(17),a(),r(18,"input",15,1),T("ngModelChange",function(p){return f(s),E(t.dataModel.cmsModuleClassName,p)||(t.dataModel.cmsModuleClassName=p),g(p)}),a(),I(20,ld,1,0,"i",16)(21,sd,1,0,"i",17),r(22,"em"),c(23),a(),I(24,dd,5,4,"mat-error",18),a(),r(25,"div",13)(26,"label",19),c(27),a(),r(28,"input",20,2),T("ngModelChange",function(p){return f(s),E(t.dataModel.classActionName,p)||(t.dataModel.classActionName=p),g(p)}),a(),I(30,cd,5,4,"mat-error",18),a(),I(31,pd,9,7,"div",21),a()()()}if(i&2){let s=x(19),_=x(29);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),u(" ",t.formInfo.formTitle," "),o(2),u(" ",h(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),d("optionSelectForce",t.dataModel.linkModuleId)("optionPlaceholder",h(14,27,"TITLE.MODULE"))("optionDisabled",!(t.fieldsInfo.linkModuleId!=null&&t.fieldsInfo.linkModuleId.accessAddField)),o(4),A(t.fieldsInfo.cmsModuleClassName==null?null:t.fieldsInfo.cmsModuleClassName.fieldTitle),o(),d("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.cmsModuleClassName),d("disabled",!(t.fieldsInfo.cmsModuleClassName!=null&&t.fieldsInfo.cmsModuleClassName.accessAddField)),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),u("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),A(t.fieldsInfo.classActionName==null?null:t.fieldsInfo.classActionName.fieldTitle),o(),d("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.classActionName),d("disabled",!(t.fieldsInfo.classActionName!=null&&t.fieldsInfo.classActionName.accessAddField)),o(2),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[W,me,Y,z,de,X,ge,_e,pe,ce,Se,B,be,Bn,q,L],encapsulation:2});var zn=Qi;var md=["*"];function ud(n,l){if(n&1&&(r(0,"label",11),c(1),a()),n&2){let e=m();d("for",Ve("app-cms-site-selector-",e.id)),o(),A(e.optionLabel)}}function fd(n,l){if(n&1&&(r(0,"mat-option",12)(1,"span"),c(2),a()()),n&2){let e=l.$implicit,i=m();d("value",e)("disabled",i.optionDisabled),o(2),A(i.displayOption(e))}}function gd(n,l){n&1&&b(0,"i",13)}function _d(n,l){n&1&&b(0,"i",14)}function Sd(n,l){if(n&1){let e=v();r(0,"i",15),C("click",function(){f(e);let t=m();return g(t.onActionSelectClear())}),a()}}function hd(n,l){n&1&&(r(0,"em"),c(1),S(2,"translate"),a()),n&2&&(o(),u("(",h(2,1,"TITLE.Necessary"),")"))}var si=class si{constructor(l,e,i,t,s){this.coreEnumService=l;this.cdr=e;this.publicHelper=i;this.translate=t;this.categoryService=s;this.id=++si.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new F;this.dataModelSelect=new Xe;this.formControl=new Zt;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new wt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(zt(""),Ut(1500),Qt(),Kt(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return ee(this,null,function*(){let e=new K;e.rowPerPage=20,e.accessLoad=!0;let i=new O;i.propertyName="Title",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ne.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new O,i.propertyName="Id",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ne.Or,e.filters.push(i));let t=this.constructor.name+"categoryService.ServiceGetAll";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield qt(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(jt(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof l==typeof Xe){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Xe,this.loadOptions()}};si.nextId=0,si.\u0275fac=function(e){return new(e||si)(M(Q),M(k),M(G),M(V),M(rt))},si.\u0275cmp=R({type:si,selectors:[["app-webdesigner-pagetemplate-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:md,decls:13,vars:18,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=v();Jt(),r(0,"div",1),b(1,"app-progress-spinner",2),I(2,ud,2,3,"label",3),b(3,"input",4),r(4,"mat-autocomplete",5,0),C("optionSelected",function(_){return f(t),g(i.onActionSelect(_.option.value))}),I(6,fd,3,3,"mat-option",6),S(7,"async"),a(),I(8,gd,1,0,"i",7)(9,_d,1,0,"i",8)(10,Sd,1,0,"i",9)(11,hd,3,3,"em",10),Yt(12),a()}if(e&2){let t=x(5);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),d("placeholder",P(i.optionPlaceholder))("id",Ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Et("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",h(7,16,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Ge,W,Y,z,X,ei,ni,ii,oi,B,q,et,L],encapsulation:2});var di=si;var Md=["*"];function bd(n,l){if(n&1&&(r(0,"label",11),c(1),a()),n&2){let e=m();d("for",Ve("app-cms-site-selector-",e.id)),o(),A(e.optionLabel)}}function Id(n,l){if(n&1&&(r(0,"mat-option",12)(1,"span"),c(2),a()()),n&2){let e=l.$implicit,i=m();d("value",e)("disabled",i.optionDisabled),o(2),A(i.displayOption(e))}}function Cd(n,l){n&1&&b(0,"i",13)}function vd(n,l){n&1&&b(0,"i",14)}function Dd(n,l){if(n&1){let e=v();r(0,"i",15),C("click",function(){f(e);let t=m();return g(t.onActionSelectClear())}),a()}}function yd(n,l){n&1&&(r(0,"em"),c(1),S(2,"translate"),a()),n&2&&(o(),u("(",h(2,1,"TITLE.Necessary"),")"))}var ci=class ci{constructor(l,e,i,t,s){this.coreEnumService=l;this.translate=e;this.cdr=i;this.publicHelper=t;this.categoryService=s;this.id=++ci.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new F;this.dataModelSelect=new Je;this.formControl=new Zt;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionMasterPage=!1;this.optionLabel="";this.optionPlaceholder="";this.optionChange=new wt;this.masterTemplateId="";this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionMasterTemplateId(l){this.masterTemplateId=l,this.loadOptions()}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(zt(""),Ut(1500),Qt(),Kt(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return ee(this,null,function*(){let e=new K;e.rowPerPage=20,e.accessLoad=!0;let i=new O,t=new O;l&&l.length>0&&(i.propertyName="Title",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ne.Or,t.filters.push(i)),l&&typeof+l=="number"&&+l>0&&(i=new O,i.propertyName="Id",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ne.Or,t.filters.push(i)),e.filters.push(t),this.optionMasterPage&&(i=new O,i.propertyName="PageAbilityType",i.value=Do.Master,i.searchType=Oe.Equal,i.clauseType=Ne.And,e.filters.push(i)),this.masterTemplateId&&this.masterTemplateId.length>0&&(i=new O,i.propertyName="LinkPageTemplateGuId",i.value=this.masterTemplateId,i.searchType=Oe.Equal,i.clauseType=Ne.And,e.filters.push(i));let s=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(_=>{this.publicHelper.processService.processStart(s,_,this.constructorInfoAreaId)}),yield qt(this.categoryService.ServiceGetAll(e)).then(_=>(this.dataModelResult=_,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(s),_.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(jt(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof l==typeof Je){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Je,this.loadOptions()}};ci.nextId=0,ci.\u0275fac=function(e){return new(e||ci)(M(Q),M(V),M(k),M(G),M(ot))},ci.\u0275cmp=R({type:ci,selectors:[["app-webdesigner-page-selector"]],inputs:{optionMasterTemplateId:"optionMasterTemplateId",optionSelectForce:"optionSelectForce",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionMasterPage:"optionMasterPage",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Md,decls:13,vars:18,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=v();Jt(),r(0,"div",1),b(1,"app-progress-spinner",2),I(2,bd,2,3,"label",3),b(3,"input",4),r(4,"mat-autocomplete",5,0),C("optionSelected",function(_){return f(t),g(i.onActionSelect(_.option.value))}),I(6,Id,3,3,"mat-option",6),S(7,"async"),a(),I(8,Cd,1,0,"i",7)(9,vd,1,0,"i",8)(10,Dd,1,0,"i",9)(11,yd,3,3,"em",10),Yt(12),a()}if(e&2){let t=x(5);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),d("placeholder",P(i.optionPlaceholder))("id",Ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Et("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",h(7,16,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Ge,W,Y,z,X,ei,ni,ii,oi,B,q,et,L],encapsulation:2});var pi=ci;var wd=["vform"];function Ed(n,l){if(n&1){let e=v();r(0,"app-webdesigner-page-selector",17),S(1,"translate"),C("optionChange",function(t){f(e);let s=m();return g(s.onActionSelectParent(t))}),a()}if(n&2){let e=m();d("optionMasterPage",!0)("optionMasterTemplateId",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",h(1,4,"TITLE.parent_page"))("optionDisabled",!1)}}function Td(n,l){if(n&1){let e=v();r(0,"div",12)(1,"button",18),C("click",function(){f(e);let t=m();return g(t.onFormCancel())}),b(2,"i",19),c(3),S(4,"translate"),a(),r(5,"button",20),b(6,"i",21),c(7),S(8,"translate"),a()()}if(n&2){m();let e=x(9);o(3),u(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),u(" ",h(8,5,"ACTION.SAVE")," ")}}var zi=class zi{constructor(l,e,i,t,s,_,p,j){this.data=l;this.dialogRef=e;this.coreEnumService=i;this.webDesignerMainPageService=t;this.cmsToastrService=s;this.publicHelper=_;this.cdr=p;this.translate=j;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Di;this.dataModel=new Po;this.formInfo=new re;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Automatically_add_all_pages").subscribe(l=>{this.formInfo.formTitle=l})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.webDesignerMainPageService.ServiceAutoAdd(this.dataModel).subscribe({next:e=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=e,e.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(i=>{this.formInfo.formAlert=i}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l)}})}onActionSelectModule(l){if(!l||l.id.length<=0){this.translate.get(["MESSAGE.Specify_the_template","MESSAGE.Information_of_template_is_not_clear"]).subscribe(e=>{this.cmsToastrService.typeErrorMessage(e["MESSAGE.Specify_the_template"],e["MESSAGE.Information_of_template_is_not_clear"])});return}this.dataModel.linkPageTemplateGuId=l.id}onActionSelectParent(l){this.dataModel.linkPageParentGuId="",l&&l.id&&l.id.length>0&&(this.dataModel.linkPageParentGuId=l.id)}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,!this.dataModel.linkPageTemplateGuId||this.dataModel.linkPageTemplateGuId.length<=0){this.translate.get(["MESSAGE.Specify_the_template","MESSAGE.Information_of_template_is_not_clear"]).subscribe(l=>{this.cmsToastrService.typeErrorMessage(l["MESSAGE.Specify_the_template"],l["MESSAGE.Information_of_template_is_not_clear"])});return}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};zi.\u0275fac=function(e){return new(e||zi)(M(Me),M(he),M(Q),M(ot),M(N),M(G),M(k),M(V))},zi.\u0275cmp=R({type:zi,selectors:[["app-webdesigner-pagedependency-autoaddpage"]],viewQuery:function(e,i){if(e&1&&te(wd,5),e&2){let t;ie(t=ne())&&(i.formGroup=t.first)}},standalone:!1,decls:25,vars:16,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],[1,"ntk-full-width"],["name","dataModel.pageDependencyIsDefaultPage",3,"ngModelChange","ngModel"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"optionChange","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionDisabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){if(e&1){let t=v();r(0,"div",1),b(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),r(8,"form",5,0),C("ngSubmit",function(){return f(t),g(i.onFormSubmit())}),r(10,"div",6)(11,"app-webdesigner-pagetemplate-selector",7),S(12,"translate"),C("optionChange",function(_){return f(t),g(i.onActionSelectModule(_))}),a(),I(13,Ed,2,6,"app-webdesigner-page-selector",8),r(14,"div",9)(15,"mat-slide-toggle",10),T("ngModelChange",function(_){return f(t),E(i.dataModel.pageDependencyIsDefaultPage,_)||(i.dataModel.pageDependencyIsDefaultPage=_),g(_)}),c(16),a()()(),r(17,"div",11)(18,"div",12)(19,"small",13),c(20),a(),r(21,"small",14),c(22),a()()(),r(23,"div",15),I(24,Td,9,7,"div",16),a()()()()}e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),u(" ",i.formInfo.formTitle," "),o(2),u(" ",h(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),o(5),d("optionSelectForce",i.dataModel.linkPageTemplateGuId)("optionPlaceholder",h(12,14,"TITLE.Select_the_template"))("optionDisabled",!1),o(2),d("ngIf",i.dataModel.linkPageTemplateGuId&&i.dataModel.linkPageTemplateGuId.length>0),o(2),w("ngModel",i.dataModel.pageDependencyIsDefaultPage),o(),u(" ",i.fieldsInfo.pageDependencyIsDefaultPage==null?null:i.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," "),o(4),u("",i.formInfo.formAlert," "),o(2),u("",i.formInfo.formError," "),o(2),d("ngIf",i.formInfo.formSubmitAllow))},dependencies:[W,me,z,de,pe,ce,Re,q,di,pi,L],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Kn=zi;var Ad=["vform"];function xd(n,l){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",24),T("modelChange",function(t){f(e);let s=m();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),g(t)}),a()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Pd(n,l){n&1&&b(0,"i",27)}function Rd(n,l){n&1&&b(0,"i",28)}function Wd(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Ld(n,l){if(n&1){let e=v();r(0,"div",12)(1,"label",25),c(2),a(),r(3,"input",26,3),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.title,t)||(s.dataModel.title=t),g(t)}),a(),I(5,Pd,1,0,"i",18)(6,Rd,1,0,"i",19),r(7,"em"),c(8),a(),I(9,Wd,5,4,"mat-error",20),a()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),u("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function kd(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Vd(n,l){if(n&1){let e=v();r(0,"div",12)(1,"label",29),c(2),a(),r(3,"input",30,4),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),g(t)}),a(),r(5,"em"),c(6),a(),I(7,kd,5,4,"mat-error",20),a()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(3),u("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Gd(n,l){n&1&&b(0,"i",27)}function Bd(n,l){n&1&&b(0,"i",28)}function Fd(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m();o(),u(" ",e.fieldsInfo.cmsModuleClassName==null?null:e.fieldsInfo.cmsModuleClassName.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Nd(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m();o(),u(" ",e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Od(n,l){if(n&1){let e=v();r(0,"div",31)(1,"button",32),C("click",function(){f(e);let t=m();return g(t.onFormCancel())}),b(2,"i",33),c(3),S(4,"translate"),a(),r(5,"button",34),b(6,"i",35),c(7),S(8,"translate"),a()()}if(n&2){m();let e=x(9);o(3),u(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),u(" ",h(8,5,"ACTION.SAVE")," ")}}var Ki=class Ki extends Wt{constructor(e,i,t,s,_,p,j,J){super(s,new Ye,p,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainPageDependencyService=s;this.cmsToastrService=_;this.publicHelper=p;this.cdr=j;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Di;this.dataModel=new Ye;this.formInfo=new re;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageDependencyService.setAccessLoad(),this.webDesignerMainPageDependencyService.setAccessDataType(xt.Editor),this.webDesignerMainPageDependencyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageDependencyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectModule(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_module","MESSAGE.Information_module_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_module"],i["MESSAGE.Information_module_is_not_clear"])});return}this.dataModel.linkModuleId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ki.\u0275fac=function(i){return new(i||Ki)(M(Me),M(he),M(Q),M(Pt),M(N),M(G),M(k),M(V))},Ki.\u0275cmp=R({type:Ki,selectors:[["app-webdesigner-pagedependency-edit"]],viewQuery:function(i,t){if(i&1&&te(Ad,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:37,vars:34,consts:[["vform","ngForm"],["CmsModuleClassName",""],["ClassActionName",""],["Title",""],["TitleResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.cmsModuleClassName",1,"color-highlight"],["matInput","","type","text","name","dataModel.cmsModuleClassName","type","text","minlength","3","maxlength","100","required","","id","dataModel.cmsModuleClassName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.classActionName",1,"color-highlight"],["matInput","","type","text","name","dataModel.classActionName","type","text","id","dataModel.classActionName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",5),b(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),r(8,"form",9,0),C("ngSubmit",function(){return f(s),g(t.onFormSubmit())}),I(10,xd,1,5,"app-cms-enum-record-status-selector",10)(11,Ld,10,9,"div",11),r(12,"div",12)(13,"label",13),c(14),S(15,"translate"),a(),r(16,"input",14),T("ngModelChange",function(p){return f(s),E(t.dataModel.titleML,p)||(t.dataModel.titleML=p),g(p)}),a()(),I(17,Vd,8,7,"div",11),r(18,"app-cms-module-selector",15),S(19,"translate"),C("optionChange",function(p){return f(s),g(t.onActionSelectModule(p))}),a(),r(20,"div",12)(21,"label",16),c(22),a(),r(23,"input",17,1),T("ngModelChange",function(p){return f(s),E(t.dataModel.cmsModuleClassName,p)||(t.dataModel.cmsModuleClassName=p),g(p)}),a(),I(25,Gd,1,0,"i",18)(26,Bd,1,0,"i",19),r(27,"em"),c(28),a(),I(29,Fd,5,4,"mat-error",20),a(),r(30,"div",12)(31,"label",21),c(32),a(),r(33,"input",22,2),T("ngModelChange",function(p){return f(s),E(t.dataModel.classActionName,p)||(t.dataModel.classActionName=p),g(p)}),a(),I(35,Nd,5,4,"mat-error",20),a(),I(36,Od,9,7,"div",23),a()()()}if(i&2){let s=x(24),_=x(34);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),u(" ",t.formInfo.formTitle," "),o(2),u(" ",h(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),u(" ",h(15,30,"TITLE.TitleML")),o(2),w("ngModel",t.dataModel.titleML),d("disabled",!0),o(),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),d("optionSelectForce",t.dataModel.linkModuleId)("optionPlaceholder",h(19,32,"TITLE.MODULE"))("optionDisabled",!(t.fieldsInfo.linkModuleId!=null&&t.fieldsInfo.linkModuleId.accessEditField)),o(4),A(t.fieldsInfo.cmsModuleClassName==null?null:t.fieldsInfo.cmsModuleClassName.fieldTitle),o(),d("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.cmsModuleClassName),d("disabled",!(t.fieldsInfo.cmsModuleClassName!=null&&t.fieldsInfo.cmsModuleClassName.accessEditField)),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),u("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),A(t.fieldsInfo.classActionName==null?null:t.fieldsInfo.classActionName.fieldTitle),o(),d("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.classActionName),d("disabled",!(t.fieldsInfo.classActionName!=null&&t.fieldsInfo.classActionName.accessEditField)),o(2),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[W,me,Y,z,de,X,ge,_e,pe,ce,Se,B,be,Bn,q,L],encapsulation:2});var Jn=Ki;var Hd=()=>[5,10,20,100],qd=n=>({display:n});function jd(n,l){if(n&1){let e=v();r(0,"div",18)(1,"a",45),C("click",function(){f(e);let t=m();return g(t.onActionButtonNewRow())}),b(2,"i",46)(3,"br"),a(),r(4,"p",21),c(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",h(6,1,"ACTION.ADD")," "))}function Ud(n,l){if(n&1){let e=v();r(0,"div",18)(1,"a",47),C("click",function(){f(e);let t=m();return g(t.onActionButtonNewRowAutoDependency())}),r(2,"i",46),c(3,"Dependency"),a(),b(4,"br"),a(),r(5,"p",21),c(6),S(7,"translate"),a()()}n&2&&(o(6),u(" ",h(7,1,"ACTION.AUTOADD"),"Dependency "))}function Qd(n,l){if(n&1){let e=v();r(0,"div",18)(1,"a",47),C("click",function(){f(e);let t=m();return g(t.onActionButtonNewRowAutoPage())}),r(2,"i",46),c(3,"Page"),a(),b(4,"br"),a(),r(5,"p",21),c(6),S(7,"translate"),a()()}n&2&&(o(6),u(" ",h(7,1,"ACTION.AUTOADD"),"Page "))}function zd(n,l){if(n&1){let e=v();r(0,"div",18)(1,"a",48),C("click",function(){f(e);let t=m();return g(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",49)(3,"br"),a(),r(4,"p",21),c(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",h(6,1,"ACTION.EDIT")," "))}function Kd(n,l){if(n&1){let e=v();r(0,"div",18)(1,"a",50),C("click",function(){f(e);let t=m();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",51)(3,"br"),a(),r(4,"p",21),c(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",h(6,1,"ACTION.DELETE")," "))}function Jd(n,l){n&1&&(r(0,"mat-header-cell",52),c(1),S(2,"translate"),a()),n&2&&(o(),u(" ",h(2,1,"TITLE.PICTURE")," "))}function Yd(n,l){if(n&1&&(b(0,"img",54),S(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",P(h(1,2,e.linkModuleFileLogoIdSrc)),ve)}}function Xd(n,l){if(n&1&&(r(0,"mat-cell"),I(1,Yd,2,4,"img",53),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkModuleFileLogoIdSrc==null?null:e.linkModuleFileLogoIdSrc.length)>0)}}function Zd(n,l){if(n&1&&(r(0,"mat-header-cell",52),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function $d(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.id," ")}}function ec(n,l){if(n&1&&(r(0,"mat-header-cell",52),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function tc(n,l){if(n&1&&b(0,"select",57),n&2){let e=m().$implicit,i=m();d("contentService",i.contentService)("row",e)("ngStyle",Ze(3,qd,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function ic(n,l){if(n&1&&(r(0,"mat-cell",55),S(1,"statusCellClass"),b(2,"i",55),S(3,"statusIconClass"),I(4,tc,1,5,"select",56),a()),n&2){let e=l.$implicit,i=m();d("ngClass",h(1,3,e.recordStatus)),o(2),d("ngClass",h(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function nc(n,l){if(n&1&&(r(0,"mat-header-cell",52),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function oc(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.title," ")}}function rc(n,l){n&1&&(r(0,"mat-header-cell",52),c(1),S(2,"translate"),a()),n&2&&(o(),u(" ",h(2,1,"TITLE.TitleML")," "))}function ac(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.titleML," ")}}function lc(n,l){if(n&1&&(r(0,"mat-header-cell",52),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.linkModuleId==null?null:e.fieldsInfo.linkModuleId.fieldTitle," ")}}function sc(n,l){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=m();o(),u(" ",Tt(2,1,e.linkModuleId,i.dataModelCoreModuleResult.listItems)," ")}}function dc(n,l){if(n&1&&(r(0,"mat-header-cell",52),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.cmsModuleClassName==null?null:e.fieldsInfo.cmsModuleClassName.fieldTitle," ")}}function cc(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.cmsModuleClassName," ")}}function pc(n,l){if(n&1&&(r(0,"mat-header-cell",52),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle," ")}}function mc(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.classActionName," ")}}function uc(n,l){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),a()),n&2&&(o(),u(" ",h(2,1,"TITLE.OPTION")," "))}function fc(n,l){if(n&1&&(r(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),c(3,"more_vert"),a()(),b(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),d("matMenuTriggerFor",e)}}function gc(n,l){n&1&&b(0,"mat-header-row")}function _c(n,l){if(n&1){let e=v();r(0,"mat-row",60),C("click",function(){let t=f(e).$implicit,s=m();return g(s.onActionTableRowSelect(t))}),a()}if(n&2){let e=l.$implicit,i=m();Te("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ji=class Ji extends Ct{constructor(e,i,t,s,_,p,j,J,yt,ui,Ot,fi,Ht,rn,Sr){super(e,new Ye,rn,j,ui);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.coreModuleService=s;this.activatedRoute=_;this.router=p;this.tokenHelper=j;this.http=J;this.cdr=yt;this.translate=ui;this.pageInfo=Ot;this.themeService=fi;this.cmsStoreService=Ht;this.publicHelper=rn;this.dialog=Sr;this.requestLinkModuleId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.filterDataModelQueryBuilder=[];this.dataModelCoreModuleResult=new F;this.categoryModelSelected=new Eo;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","TitleML","LinkModuleId","CmsModuleClassName","ClassActionName"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","TitleML","LinkModuleId","CmsModuleClassName","ClassActionName"];this.publicHelper.processService.cdr=this.cdr,this.requestLinkModuleId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkModuleId")),this.optionsSearch.parentMethods={onSubmit:ke=>this.onSubmitOptionsSearch(ke)},this.filteModelContent.sortColumn="LinkModuleId",this.filteModelContent.sortType=H.Ascending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})),this.getModuleList()}getModuleList(){let e=new K;e.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(e).subscribe({next:i=>{this.dataModelCoreModuleResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,["Id","RecordStatus","Title","CmsModuleClassName","ClassActionName"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ye);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=new O,t=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0&&(i.propertyName="LinkModuleId",i.value=this.categoryModelSelected.id,t.filters.push(i)),this.contentService.ServiceGetAllEditor(t).subscribe({next:s=>{s.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(s.access),this.dataModelResult=s,this.tableSource.data=s.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(s.access)},1e3)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):(H,e.start="desc"):(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),H,this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(zn,{height:"90%",panelClass:e,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{linkModuleId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonNewRowAutoPage(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Kn,{height:"90%",panelClass:e,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{linkModuleId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonNewRowAutoDependency(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=new O;this.contentService.ServiceAutoAdd().subscribe({next:t=>{t.isSuccess&&this.cmsToastrService.typeSuccessAdd(),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Jn,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(_,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonPageList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.tokenInfo.access.userAccessAdminAllowToAllData?this.router.navigate(["/webdesigner/page/list-grid/LinkPageDependencyGuId",this.tableRowSelected.id]):this.router.navigate(["/webdesigner/page/LinkPageDependencyGuId",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess&&(i.set("All",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new O;_.propertyName="RecordStatus",_.value=it.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess&&(i.set("Active",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}})}onActionButtonSiteRouteView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}let i=this.tokenInfo.site.currentSiteDomainUrl+"/"+e.cmsModuleClassName+"/"+e.classActionName;window.open(i,"_blank")}onActionSelectorSelect(e){let i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new K,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Ji.\u0275fac=function(i){return new(i||Ji)(M(Pt),M(N),M(qe),M(Tn),M(tt),M(Be),M(We),M(fo),M(k),M(V),M(It),M(bt),M(Pe),M(G),M(Fe))},Ji.\u0275cmp=R({type:Ji,selectors:[["app-webdesigner-pagedependency-list"]],standalone:!1,features:[U],decls:78,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkModuleFileLogoIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","TitleML"],["matColumnDef","LinkModuleId"],["matColumnDef","CmsModuleClassName"],["matColumnDef","ClassActionName"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),T("optionActionGuideNoticeDisplayChange",function(p){return f(s),E(t.viewGuideNotice,p)||(t.viewGuideNotice=p),g(p)}),C("optionOnActionButtonMemoRow",function(){return f(s),g(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(s),g(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(s),g(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(s),g(t.onActionButtonPrintRow())}),D(1,4),r(2,"app-core-module-tree",5),C("optionChange",function(p){return f(s),g(t.onActionSelectorSelect(p))}),a(),y(),we(3,6)(4,7),D(5,8),r(6,"a",9),C("click",function(){return f(s),g(t.viewGuideNotice=!t.viewGuideNotice)}),b(7,"i",10),a(),r(8,"a",9),C("click",function(){return f(s),g(t.onActionButtonReload())}),b(9,"i",11),a(),y(),D(10,12),r(11,"a",13),C("click",function(){return f(s),g(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),b(12,"mat-slide-toggle",14),c(13),S(14,"translate"),a(),r(15,"a",13),C("click",function(){return f(s),g(t.onActionButtonStatist())}),b(16,"mat-slide-toggle",14),c(17),S(18,"translate"),a(),y(),D(19,15),I(20,jd,7,3,"div",16)(21,Ud,8,3,"div",16)(22,Qd,8,3,"div",16),y(),D(23,17),I(24,zd,7,3,"div",16)(25,Kd,7,3,"div",16),r(26,"div",18)(27,"a",19),C("click",function(){return f(s),g(t.onActionButtonPageList(t.tableRowSelected))}),b(28,"i",20)(29,"br"),a(),r(30,"p",21),c(31),S(32,"translate"),a()(),r(33,"div",18)(34,"a",19),C("click",function(){return f(s),g(t.onActionButtonSiteRouteView(t.tableRowSelected))}),b(35,"i",22)(36,"br"),a(),r(37,"p",21),c(38),S(39,"translate"),a()(),y(),D(40,23),r(41,"app-cms-search-list",24),T("optionsChange",function(p){return f(s),E(t.optionsSearch,p)||(t.optionsSearch=p),g(p)}),a(),r(42,"app-cms-statist-list",24),T("optionsChange",function(p){return f(s),E(t.optionsStatist,p)||(t.optionsStatist=p),g(p)}),a(),y(),D(43,25),r(44,"mat-table",26,0),C("matSortChange",function(){f(s);let p=x(45);return g(t.onTableSortData(p))}),D(46,27),I(47,Jd,3,3,"mat-header-cell",28)(48,Xd,2,1,"mat-cell",29),y(),D(49,30),I(50,Zd,2,1,"mat-header-cell",28)(51,$d,2,1,"mat-cell",29),y(),D(52,31),I(53,ec,2,1,"mat-header-cell",28)(54,ic,5,7,"mat-cell",32),y(),D(55,33),I(56,nc,2,1,"mat-header-cell",28)(57,oc,2,1,"mat-cell",29),y(),D(58,34),I(59,rc,3,3,"mat-header-cell",28)(60,ac,2,1,"mat-cell",29),y(),D(61,35),I(62,lc,2,1,"mat-header-cell",28)(63,sc,3,4,"mat-cell",29),y(),D(64,36),I(65,dc,2,1,"mat-header-cell",28)(66,cc,2,1,"mat-cell",29),y(),D(67,37),I(68,pc,2,1,"mat-header-cell",28)(69,mc,2,1,"mat-cell",29),y(),D(70,38),I(71,uc,3,3,"mat-header-cell",39)(72,fc,6,1,"mat-cell",40),y(),I(73,gc,1,0,"mat-header-row",41)(74,_c,1,2,"mat-row",42),a(),y(),D(75,43),r(76,"mat-paginator",44,1),C("page",function(p){return f(s),g(t.onTablePageingData(p))}),a(),y(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","configuresite.webdesigner.pagedependency"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",t.requestLinkModuleId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(12),d("checked",t.optionsSearch.data.show),o(),u("",h(14,27,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),u("",h(18,29,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),u(" ",h(32,31,"ACTION.PAGES")," "),o(7),u(" ",h(39,33,"ACTION.SHOW_WEB")," "),o(3),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(29),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(35,Hd)))},dependencies:[De,W,$e,Ae,oe,B,at,lt,He,Re,st,dt,ct,mt,_t,ut,pt,St,ft,gt,ht,Mt,je,Ue,Qe,vt,ar,L,Ti,Lt,ze,kt],encapsulation:2});var Yn=Ji;var Sc=["vform"];function hc(n,l){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",21),T("modelChange",function(t){f(e);let s=m();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),g(t)}),a()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Mc(n,l){n&1&&b(0,"i",24)}function bc(n,l){n&1&&b(0,"i",25)}function Ic(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Cc(n,l){if(n&1){let e=v();r(0,"div",12)(1,"label",22),c(2),a(),r(3,"input",23,3),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.title,t)||(s.dataModel.title=t),g(t)}),a(),I(5,Mc,1,0,"i",15)(6,bc,1,0,"i",16),r(7,"em"),c(8),a(),I(9,Ic,5,4,"mat-error",17),a()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),u("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function vc(n,l){n&1&&b(0,"i",24)}function Dc(n,l){n&1&&b(0,"i",25)}function yc(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m();o(),u(" ",e.fieldsInfo.folder==null?null:e.fieldsInfo.folder.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function wc(n,l){n&1&&b(0,"i",24)}function Ec(n,l){n&1&&b(0,"i",25)}function Tc(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m();o(),u(" ",e.fieldsInfo.indexFile==null?null:e.fieldsInfo.indexFile.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Ac(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function xc(n,l){if(n&1){let e=v();r(0,"div",12)(1,"label",26),c(2),a(),r(3,"textarea",27,4),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.description,t)||(s.dataModel.description=t),g(t)}),c(5,"        "),a(),r(6,"em"),c(7),a(),I(8,Ac,5,4,"mat-error",17),a()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),o(4),u("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Pc(n,l){if(n&1){let e=v();r(0,"div",28)(1,"button",29),C("click",function(){f(e);let t=m();return g(t.onFormCancel())}),b(2,"i",30),c(3),S(4,"translate"),a(),r(5,"button",31),b(6,"i",32),c(7),S(8,"translate"),a()()}if(n&2){m();let e=x(9);o(3),u(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),u(" ",h(8,5,"ACTION.SAVE")," ")}}var Yi=class Yi extends Rt{constructor(e,i,t,s,_,p,j,J){super(s,new Xe,p,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainPageTemplateService=s;this.cmsToastrService=_;this.publicHelper=p;this.cdr=j;this.translate=J;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new F;this.dataModel=new Xe;this.formInfo=new re;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Yi.\u0275fac=function(i){return new(i||Yi)(M(Me),M(he),M(Q),M(rt),M(N),M(G),M(k),M(V))},Yi.\u0275cmp=R({type:Yi,selectors:[["app-webdesigner-pagetemplate-add"]],viewQuery:function(i,t){if(i&1&&te(Sc,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:35,vars:27,consts:[["vform","ngForm"],["Folder",""],["IndexFile",""],["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.folder",1,"color-highlight"],["matInput","","type","text","name","dataModel.folder","minlength","3","maxlength","100","required","","id","dataModel.folder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.indexFile",1,"color-highlight"],["matInput","","type","text","name","dataModel.indexFile","placeholder","index.html","minlength","3","maxlength","100","required","","id","dataModel.indexFile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",5),b(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),r(8,"form",9,0),C("ngSubmit",function(){return f(s),g(t.onFormSubmit())}),I(10,hc,1,5,"app-cms-enum-record-status-selector",10)(11,Cc,10,9,"div",11),r(12,"div",12)(13,"label",13),c(14),a(),r(15,"input",14,1),S(17,"translate"),T("ngModelChange",function(p){return f(s),E(t.dataModel.folder,p)||(t.dataModel.folder=p),g(p)}),a(),I(18,vc,1,0,"i",15)(19,Dc,1,0,"i",16),r(20,"em"),c(21),a(),I(22,yc,5,4,"mat-error",17),a(),r(23,"div",12)(24,"label",18),c(25),a(),r(26,"input",19,2),T("ngModelChange",function(p){return f(s),E(t.dataModel.indexFile,p)||(t.dataModel.indexFile=p),g(p)}),a(),I(28,wc,1,0,"i",15)(29,Ec,1,0,"i",16),r(30,"em"),c(31),a(),I(32,Tc,5,4,"mat-error",17),a(),I(33,xc,9,6,"div",11)(34,Pc,9,7,"div",20),a()()()}if(i&2){let s=x(16),_=x(27);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),u(" ",t.formInfo.formTitle," "),o(2),u(" ",h(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),A(t.fieldsInfo.folder==null?null:t.fieldsInfo.folder.fieldTitle),o(),d("placeholder",P(h(17,25,"TITLE.branch_path"))),w("ngModel",t.dataModel.folder),d("disabled",!(t.fieldsInfo.folder!=null&&t.fieldsInfo.folder.accessAddField)),o(3),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),u("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),A(t.fieldsInfo.indexFile==null?null:t.fieldsInfo.indexFile.fieldTitle),o(),w("ngModel",t.dataModel.indexFile),d("disabled",!(t.fieldsInfo.indexFile!=null&&t.fieldsInfo.indexFile.accessAddField)),o(2),d("ngIf",!_.value),o(),d("ngIf",_.value),o(2),u("",s.value.length," / 100"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[W,me,Y,z,de,X,ge,_e,pe,ce,Se,B,be,q,L],encapsulation:2});var Xn=Yi;var Rc=["vform"];function Wc(n,l){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",24),T("modelChange",function(t){f(e);let s=m();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),g(t)}),a()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Lc(n,l){n&1&&b(0,"i",27)}function kc(n,l){n&1&&b(0,"i",28)}function Vc(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Gc(n,l){if(n&1){let e=v();r(0,"div",13)(1,"label",25),c(2),a(),r(3,"input",26,3),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.title,t)||(s.dataModel.title=t),g(t)}),a(),I(5,Lc,1,0,"i",16)(6,kc,1,0,"i",17),r(7,"em"),c(8),a(),I(9,Vc,5,4,"mat-error",18),a()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),u("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Bc(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Fc(n,l){if(n&1){let e=v();r(0,"div",13)(1,"label",29),c(2),a(),r(3,"input",30,4),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),g(t)}),a(),r(5,"em"),c(6),a(),I(7,Bc,5,4,"mat-error",18),a()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(3),u("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Nc(n,l){n&1&&b(0,"i",27)}function Oc(n,l){n&1&&b(0,"i",28)}function Hc(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m();o(),u(" ",e.fieldsInfo.folder==null?null:e.fieldsInfo.folder.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function qc(n,l){n&1&&b(0,"i",27)}function jc(n,l){n&1&&b(0,"i",28)}function Uc(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m();o(),u(" ",e.fieldsInfo.indexFile==null?null:e.fieldsInfo.indexFile.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Qc(n,l){if(n&1){let e=v();r(0,"div",31)(1,"div",32)(2,"h5",33),c(3),a()(),r(4,"div",34)(5,"div",35)(6,"input",36),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.isPublish,t)||(s.dataModel.isPublish=t),g(t)}),a(),b(7,"label",37),a()()()}if(n&2){let e=m();o(3),u(" ",e.fieldsInfo.isPublish==null?null:e.fieldsInfo.isPublish.fieldTitle," "),o(3),w("ngModel",e.dataModel.isPublish)}}function zc(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Kc(n,l){if(n&1){let e=v();r(0,"div",13)(1,"label",38),c(2),a(),r(3,"textarea",39,5),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.description,t)||(s.dataModel.description=t),g(t)}),c(5,"        "),a(),r(6,"em"),c(7),a(),I(8,zc,5,4,"mat-error",18),a()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),o(4),u("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Jc(n,l){if(n&1){let e=v();r(0,"div",40)(1,"button",41),C("click",function(){f(e);let t=m();return g(t.onFormCancel())}),b(2,"i",42),c(3),S(4,"translate"),a(),r(5,"button",43),b(6,"i",44),c(7),S(8,"translate"),a()()}if(n&2){m();let e=x(9);o(3),u(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),u(" ",h(8,5,"ACTION.SAVE")," ")}}var Xi=class Xi extends Wt{constructor(e,i,t,s,_,p,j,J,yt){super(s,new Xe,j,yt);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainPageTemplateService=s;this.webDesignerMainPageTemplateSiteCategoryService=_;this.cmsToastrService=p;this.publicHelper=j;this.cdr=J;this.translate=yt;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModel=new Xe;this.formInfo=new re;this.fileManagerOpenForm=!1;this.dataCoreSiteCategoryIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetAllSourceSiteCategory()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateService.setAccessLoad(),this.webDesignerMainPageTemplateService.setAccessDataType(xt.Editor),this.webDesignerMainPageTemplateService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataGetAllSourceSiteCategory(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError="";let e=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new K,t=new O;t.propertyName="LinkPageTemplateId",t.value=this.requestId,i.filters.push(t),this.webDesignerMainPageTemplateSiteCategoryService.ServiceGetAll(i).subscribe({next:s=>{this.dataWebDesignerMainPageTemplateSiteCategoryModel=s.listItems;let _=[];this.dataWebDesignerMainPageTemplateSiteCategoryModel.forEach(p=>{_.push(p.linkSiteCagegoryId)}),this.dataCoreSiteCategoryIds=_,s.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(p=>{this.formInfo.formAlert=p}),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e)}})}onActionSelectorUserCategorySelect(e){this.dataCoreSiteCategoryModel=e}onActionSelectorUserCategorySelectAdded(e){let i=new ao;i.linkSiteCagegoryId=e.id,i.linkPageTemplateId=this.dataModel.id;let t=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService.ServiceAdd";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateSiteCategoryService.ServiceAdd(i).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(_=>{this.formInfo.formAlert=_}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(_=>{this.formInfo.formAlert=_}),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(t)},error:s=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t)}})}onActionSelectorUserCategorySelectRemoved(e){let i=new ao;i.linkSiteCagegoryId=e.id,i.linkPageTemplateId=this.dataModel.id;let t=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService.ServiceDeleteEntity";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateSiteCategoryService.ServiceDeleteEntity(i).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(_=>{this.formInfo.formAlert=_}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(_=>{this.formInfo.formAlert=_}),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(t)},error:s=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Xi.\u0275fac=function(i){return new(i||Xi)(M(Me),M(he),M(Q),M(rt),M(xn),M(N),M(G),M(k),M(V))},Xi.\u0275cmp=R({type:Xi,selectors:[["app-webdesigner-pagetemplate-edit"]],viewQuery:function(i,t){if(i&1&&te(Rc,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:41,vars:34,consts:[["vform","ngForm"],["Folder",""],["IndexFile",""],["Title",""],["TitleResourceLanguage",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.folder",1,"color-highlight"],["matInput","","type","text","name","dataModel.folder","minlength","3","maxlength","100","required","","id","dataModel.folder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.indexFile",1,"color-highlight"],["matInput","","type","text","name","dataModel.indexFile","placeholder","index.html","minlength","3","maxlength","100","required","","id","dataModel.indexFile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","d-flex mb-3",4,"ngIf"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isPublish",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isPublish","name","dataModel.isPublish",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublish",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",6),b(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),r(8,"form",10,0),C("ngSubmit",function(){return f(s),g(t.onFormSubmit())}),I(10,Wc,1,5,"app-cms-enum-record-status-selector",11)(11,Gc,10,9,"div",12)(12,Fc,8,7,"div",12),r(13,"div",13)(14,"label",14),c(15),a(),r(16,"input",15,1),S(18,"translate"),T("ngModelChange",function(p){return f(s),E(t.dataModel.folder,p)||(t.dataModel.folder=p),g(p)}),a(),I(19,Nc,1,0,"i",16)(20,Oc,1,0,"i",17),r(21,"em"),c(22),a(),I(23,Hc,5,4,"mat-error",18),a(),r(24,"div",13)(25,"label",19),c(26),a(),r(27,"input",20,2),T("ngModelChange",function(p){return f(s),E(t.dataModel.indexFile,p)||(t.dataModel.indexFile=p),g(p)}),a(),I(29,qc,1,0,"i",16)(30,jc,1,0,"i",17),r(31,"em"),c(32),a(),I(33,Uc,5,4,"mat-error",18),a(),I(34,Qc,8,2,"div",21)(35,Kc,9,6,"div",12),c(36),S(37,"translate"),b(38,"br"),r(39,"app-cms-sitecategory-selectionlist",22),C("optionChange",function(p){return f(s),g(t.onActionSelectorUserCategorySelect(p))})("optionSelectAdded",function(p){return f(s),g(t.onActionSelectorUserCategorySelectAdded(p))})("optionSelectRemoved",function(p){return f(s),g(t.onActionSelectorUserCategorySelectRemoved(p))}),a(),I(40,Jc,9,7,"div",23),a()()()}if(i&2){let s=x(17),_=x(28);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),u(" ",t.formInfo.formTitle," "),o(2),u(" ",h(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(3),A(t.fieldsInfo.folder==null?null:t.fieldsInfo.folder.fieldTitle),o(),d("placeholder",P(h(18,30,"TITLE.branch_path"))),w("ngModel",t.dataModel.folder),d("disabled",!(t.fieldsInfo.folder!=null&&t.fieldsInfo.folder.accessEditField)),o(3),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),u("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),A(t.fieldsInfo.indexFile==null?null:t.fieldsInfo.indexFile.fieldTitle),o(),w("ngModel",t.dataModel.indexFile),d("disabled",!(t.fieldsInfo.indexFile!=null&&t.fieldsInfo.indexFile.accessEditField)),o(2),d("ngIf",!_.value),o(),d("ngIf",_.value),o(2),u("",s.value.length," / 100"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.fieldsInfo.isPublish==null?null:t.fieldsInfo.isPublish.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),u(" ",h(37,32,"TITLE.It_should_be_used_on_sites_with_the_following_categories")," "),o(3),d("optionSelectForce",t.dataCoreSiteCategoryIds)("optionDisabled",!1),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[W,me,Y,At,z,de,X,ge,_e,pe,ce,Se,B,be,pr,q,L],encapsulation:2});var Zn=Xi;var Yc=()=>[5,10,20,100],Xc=n=>({display:n});function Zc(n,l){if(n&1){let e=v();r(0,"div",17)(1,"a",41),C("click",function(){f(e);let t=m();return g(t.onActionButtonNewRow())}),b(2,"i",42)(3,"br"),a(),r(4,"p",20),c(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",h(6,1,"ACTION.ADD")," "))}function $c(n,l){if(n&1){let e=v();r(0,"div",17)(1,"a",43),C("click",function(){f(e);let t=m();return g(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",44)(3,"br"),a(),r(4,"p",20),c(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",h(6,1,"ACTION.EDIT")," "))}function ep(n,l){if(n&1){let e=v();r(0,"div",17)(1,"a",45),C("click",function(){f(e);let t=m();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",46)(3,"br"),a(),r(4,"p",20),c(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",h(6,1,"ACTION.DELETE")," "))}function tp(n,l){n&1&&(r(0,"mat-header-cell",47),c(1),S(2,"translate"),a()),n&2&&(o(),u(" ",h(2,1,"TITLE.PICTURE")," "))}function ip(n,l){if(n&1&&(b(0,"img",49),S(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",P(h(1,2,e.linkModuleFileLogoIdSrc)),ve)}}function np(n,l){if(n&1&&(r(0,"mat-cell"),I(1,ip,2,4,"img",48),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkModuleFileLogoIdSrc==null?null:e.linkModuleFileLogoIdSrc.length)>0)}}function op(n,l){if(n&1&&(r(0,"mat-header-cell",47),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function rp(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.id," ")}}function ap(n,l){if(n&1&&(r(0,"mat-header-cell",47),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function lp(n,l){if(n&1&&b(0,"select",52),n&2){let e=m().$implicit,i=m();d("contentService",i.contentService)("row",e)("ngStyle",Ze(3,Xc,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function sp(n,l){if(n&1&&(r(0,"mat-cell",50),S(1,"statusCellClass"),b(2,"i",50),S(3,"statusIconClass"),I(4,lp,1,5,"select",51),a()),n&2){let e=l.$implicit,i=m();d("ngClass",h(1,3,e.recordStatus)),o(2),d("ngClass",h(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function dp(n,l){if(n&1&&(r(0,"mat-header-cell",47),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function cp(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.title," ")}}function pp(n,l){if(n&1&&(r(0,"mat-header-cell",47),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.folder==null?null:e.fieldsInfo.folder.fieldTitle," ")}}function mp(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.folder," ")}}function up(n,l){if(n&1&&(r(0,"mat-header-cell",47),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.indexFile==null?null:e.fieldsInfo.indexFile.fieldTitle," ")}}function fp(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.indexFile," ")}}function gp(n,l){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),a()),n&2&&(o(),u(" ",h(2,1,"TITLE.OPTION")," "))}function _p(n,l){if(n&1&&(r(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),c(3,"more_vert"),a()(),b(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),d("matMenuTriggerFor",e)}}function Sp(n,l){n&1&&b(0,"mat-header-row")}function hp(n,l){if(n&1){let e=v();r(0,"mat-row",55),C("click",function(){let t=f(e).$implicit,s=m();return g(s.onActionTableRowSelect(t))}),a()}if(n&2){let e=l.$implicit,i=m();Te("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Zi=class Zi extends Ct{constructor(e,i,t,s,_,p,j,J,yt,ui,Ot,fi){super(e,new Xe,Ot,s,J);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.tokenHelper=s;this.cmsStoreService=_;this.router=p;this.cdr=j;this.translate=J;this.pageInfo=yt;this.themeService=ui;this.publicHelper=Ot;this.dialog=fi;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.filterDataModelQueryBuilder=[];this.dataModelCoreModuleResult=new F;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","Folder","IndexFile"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","Folder","IndexFile"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ht=>this.onSubmitOptionsSearch(Ht)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Xe);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Xn,{height:"90%",panelClass:e,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Zn,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(_,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess&&(i.set("All",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new O;_.propertyName="RecordStatus",_.value=it.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess&&(i.set("Active",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}})}onActionButtonPageList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/webdesigner/page/LinkPageTemplateGuId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Zi.\u0275fac=function(i){return new(i||Zi)(M(rt),M(N),M(qe),M(We),M(Pe),M(Be),M(k),M(V),M(It),M(bt),M(G),M(Fe))},Zi.\u0275cmp=R({type:Zi,selectors:[["app-webdesigner-pagetemplate-list"]],standalone:!1,features:[U],decls:63,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkModuleFileLogoIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Folder"],["matColumnDef","IndexFile"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),T("optionActionGuideNoticeDisplayChange",function(p){return f(s),E(t.viewGuideNotice,p)||(t.viewGuideNotice=p),g(p)}),C("optionOnActionButtonMemoRow",function(){return f(s),g(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(s),g(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(s),g(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(s),g(t.onActionButtonPrintRow())}),D(1,4),c(2," -------------------------------------- "),y(),we(3,5)(4,6),D(5,7),r(6,"a",8),C("click",function(){return f(s),g(t.viewGuideNotice=!t.viewGuideNotice)}),b(7,"i",9),a(),r(8,"a",8),C("click",function(){return f(s),g(t.onActionButtonReload())}),b(9,"i",10),a(),y(),D(10,11),r(11,"a",12),C("click",function(){return f(s),g(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),b(12,"mat-slide-toggle",13),c(13),S(14,"translate"),a(),r(15,"a",12),C("click",function(){return f(s),g(t.onActionButtonStatist())}),b(16,"mat-slide-toggle",13),c(17),S(18,"translate"),a(),y(),D(19,14),I(20,Zc,7,3,"div",15),y(),D(21,16),I(22,$c,7,3,"div",15)(23,ep,7,3,"div",15),r(24,"div",17)(25,"a",18),C("click",function(){return f(s),g(t.onActionButtonPageList(t.tableRowSelected))}),b(26,"i",19)(27,"br"),a(),r(28,"p",20),c(29),S(30,"translate"),a()(),y(),D(31,21),r(32,"app-cms-search-list",22),T("optionsChange",function(p){return f(s),E(t.optionsSearch,p)||(t.optionsSearch=p),g(p)}),a(),r(33,"app-cms-statist-list",22),T("optionsChange",function(p){return f(s),E(t.optionsStatist,p)||(t.optionsStatist=p),g(p)}),a(),y(),D(34,23),r(35,"mat-table",24,0),C("matSortChange",function(){f(s);let p=x(36);return g(t.onTableSortData(p))}),D(37,25),I(38,tp,3,3,"mat-header-cell",26)(39,np,2,1,"mat-cell",27),y(),D(40,28),I(41,op,2,1,"mat-header-cell",26)(42,rp,2,1,"mat-cell",27),y(),D(43,29),I(44,ap,2,1,"mat-header-cell",26)(45,sp,5,7,"mat-cell",30),y(),D(46,31),I(47,dp,2,1,"mat-header-cell",26)(48,cp,2,1,"mat-cell",27),y(),D(49,32),I(50,pp,2,1,"mat-header-cell",26)(51,mp,2,1,"mat-cell",27),y(),D(52,33),I(53,up,2,1,"mat-header-cell",26)(54,fp,2,1,"mat-cell",27),y(),D(55,34),I(56,gp,3,3,"mat-header-cell",35)(57,_p,6,1,"mat-cell",36),y(),I(58,Sp,1,0,"mat-header-row",37)(59,hp,1,2,"mat-row",38),a(),y(),D(60,39),r(61,"mat-paginator",40,1),C("page",function(p){return f(s),g(t.onTablePageingData(p))}),a(),y(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(12),d("checked",t.optionsSearch.data.show),o(),u("",h(14,24,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),u("",h(18,26,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),u(" ",h(30,28,"ACTION.PAGES")," "),o(3),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(23),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(30,Yc)))},dependencies:[De,W,$e,Ae,oe,B,at,lt,He,Re,st,dt,ct,mt,_t,ut,pt,St,ft,gt,ht,Mt,je,Ue,Qe,vt,L,Lt,ze,kt],encapsulation:2});var $n=Zi;var Mp=["*"];function bp(n,l){if(n&1&&(r(0,"label",11),c(1),a()),n&2){let e=m();d("for",Ve("app-cms-site-selector-",e.id)),o(),A(e.optionLabel)}}function Ip(n,l){if(n&1&&(r(0,"mat-option",12)(1,"span"),c(2),a()()),n&2){let e=l.$implicit,i=m();d("value",e)("disabled",i.optionDisabled),o(2),A(i.displayOption(e))}}function Cp(n,l){n&1&&b(0,"i",13)}function vp(n,l){n&1&&b(0,"i",14)}function Dp(n,l){if(n&1){let e=v();r(0,"i",15),C("click",function(){f(e);let t=m();return g(t.onActionSelectClear())}),a()}}function yp(n,l){n&1&&(r(0,"em"),c(1),S(2,"translate"),a()),n&2&&(o(),u("(",h(2,1,"TITLE.Necessary"),")"))}var mi=class mi{constructor(l,e,i,t,s){this.coreEnumService=l;this.translate=e;this.cdr=i;this.publicHelper=t;this.categoryService=s;this.id=++mi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new F;this.dataModelSelect=new Ye;this.formControl=new Zt;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new wt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(zt(""),Ut(1500),Qt(),Kt(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.titleML:void 0}displayOption(l){return l?l.titleML:void 0}DataGetAll(l){return ee(this,null,function*(){let e=new K;e.rowPerPage=20,e.accessLoad=!0;let i=new O;i.propertyName="Title",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ne.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new O,i.propertyName="Id",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ne.Or,e.filters.push(i));let t=this.constructor.name+"categoryService.ServiceGetAll";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield qt(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(jt(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof l==typeof Ye){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ye,this.loadOptions()}};mi.nextId=0,mi.\u0275fac=function(e){return new(e||mi)(M(Q),M(V),M(k),M(G),M(Pt))},mi.\u0275cmp=R({type:mi,selectors:[["app-webdesigner-pagedependency-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Mp,decls:13,vars:18,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=v();Jt(),r(0,"div",1),b(1,"app-progress-spinner",2),I(2,bp,2,3,"label",3),b(3,"input",4),r(4,"mat-autocomplete",5,0),C("optionSelected",function(_){return f(t),g(i.onActionSelect(_.option.value))}),I(6,Ip,3,3,"mat-option",6),S(7,"async"),a(),I(8,Cp,1,0,"i",7)(9,vp,1,0,"i",8)(10,Dp,1,0,"i",9)(11,yp,3,3,"em",10),Yt(12),a()}if(e&2){let t=x(5);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),d("placeholder",P(i.optionPlaceholder))("id",Ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Et("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",h(7,16,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Ge,W,Y,z,X,ei,ni,ii,oi,B,q,et,L],encapsulation:2});var $i=mi;var Ap=["vform"];function xp(n,l){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",29),T("modelChange",function(t){f(e);let s=m();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),g(t)}),a()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Pp(n,l){n&1&&b(0,"i",35)}function Rp(n,l){n&1&&b(0,"i",36)}function Wp(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Lp(n,l){if(n&1){let e=v();r(0,"div",23)(1,"label",30),c(2),a(),r(3,"input",31,5),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.title,t)||(s.dataModel.title=t),g(t)}),a(),I(5,Pp,1,0,"i",32)(6,Rp,1,0,"i",33),r(7,"em"),c(8),a(),I(9,Wp,5,4,"mat-error",34),a()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),u("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function kp(n,l){if(n&1){let e=v();r(0,"app-webdesigner-page-selector",37),S(1,"translate"),C("optionChange",function(t){f(e);let s=m();return g(s.onActionSelectParent(t))}),a()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkPageParentGuId!=null&&e.fieldsInfo.linkPageParentGuId.accessAddField))("optionSelectForce",e.dataModel.linkPageParentGuId)("optionMasterPage",!0)("optionMasterTemplateId",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",h(1,5,"TITLE.parent_page"))}}function Vp(n,l){if(n&1){let e=v();r(0,"div",38)(1,"div",39)(2,"h5",40),c(3),a()(),r(4,"div",41)(5,"div",42)(6,"input",43),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.pageDependencyIsDefaultPage,t)||(s.dataModel.pageDependencyIsDefaultPage=t),g(t)}),a(),b(7,"label",44),a()()()}if(n&2){let e=m();o(3),u(" ",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," "),o(3),w("ngModel",e.dataModel.pageDependencyIsDefaultPage)}}function Gp(n,l){if(n&1){let e=v();r(0,"app-cms-sitecategory-selector",45),S(1,"translate"),C("optionChange",function(t){f(e);let s=m();return g(s.onActionSelectCategory(t))}),a()}if(n&2){let e=m();d("optionSelectForce",e.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId)("optionPlaceholder",h(1,3,"TITLE.Website_Type"))("optionDisabled",!(e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId!=null&&e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessAddField))}}function Bp(n,l){if(n&1){let e=v();r(0,"mat-chip",46),C("removed",function(){let t=f(e).$implicit,s=m();return g(s.removeTag(t))}),c(1),r(2,"button",47)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),u(" ",e," ")}}function Fp(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Np(n,l){if(n&1){let e=v();r(0,"div",23)(1,"label",48),c(2),a(),r(3,"textarea",49,6),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.description,t)||(s.dataModel.description=t),g(t)}),c(5,"        "),a(),r(6,"em"),c(7),a(),I(8,Fp,5,4,"mat-error",34),a()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),o(4),u("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Op(n,l){if(n&1){let e=v();r(0,"div",50)(1,"button",51),C("click",function(){f(e);let t=m();return g(t.onFormCancel())}),b(2,"i",52),c(3),S(4,"translate"),a(),r(5,"button",53),b(6,"i",54),c(7),S(8,"translate"),a()()}if(n&2){m();let e=x(9);o(3),u(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),u(" ",h(8,5,"ACTION.SAVE")," ")}}var en=class en extends Rt{constructor(e,i,t,s,_,p,j,J){super(s,new Je,p,J);this.data=e;this.dialogRef=i;this.webDesignerEnumService=t;this.webDesignerMainPageService=s;this.cmsToastrService=_;this.publicHelper=p;this.cdr=j;this.translate=J;this.requestLinkPageDependencyGuId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.keywordDataModel=[];this.appLanguage="fa";this.dataModelResult=new F;this.dataModel=new Je;this.formInfo=new re;this.dataModelEnumPageAbilityTypeResult=new F;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkPageDependencyGuId=e.linkPageDependencyGuId+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestLinkPageDependencyGuId.length>0&&(this.dataModel.linkPageDependencyGuId=this.requestLinkPageDependencyGuId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEnumPageAbilityType()}getEnumPageAbilityType(){this.webDesignerEnumService.ServicePageAbilityTypeEnum().subscribe({next:e=>{this.dataModelEnumPageAbilityTypeResult=e}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"webDesignerMainPageService.ServiceAdd";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectDependency(e){if(!e||e.id?.length<=0){this.translate.get(["MESSAGE.Specify_the_display_location","MESSAGE.information_screen_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_display_location"],i["MESSAGE.information_screen_is_not_clear"])});return}this.dataModel.linkPageDependencyGuId=e.id}onActionSelectTemplate(e){if(!e||e.id?.length<=0){this.translate.get(["MESSAGE.Specify_the_template","MESSAGE.Screen_template_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_template"],i["MESSAGE.Screen_template_is_not_clear"])});return}this.dataModel.linkPageTemplateGuId=e.id}onActionSelectParent(e){this.dataModel.linkPageParentGuId="",e&&e.id&&e.id.length>0&&(this.dataModel.linkPageParentGuId=e.id)}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(e){if(!e||e.id<=0){this.translate.get("MESSAGE.category_of_site_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId=e.id}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};en.\u0275fac=function(i){return new(i||en)(M(Me),M(he),M(yi),M(ot),M(N),M(G),M(k),M(V))},en.\u0275cmp=R({type:en,selectors:[["app-webdesigner-page-add"]],viewQuery:function(i,t){if(i&1&&te(Ap,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:45,vars:41,consts:[["vform","ngForm"],["chipList",""],["tagInput",""],["SpecialIdendity",""],["SpecialUrlParameter",""],["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionChange",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.specialIdendity",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialIdendity","type","text","placeholder","32323","minlength","0","maxlength","500","id","dataModel.specialIdendity",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.specialUrlParameter",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialUrlParameter","type","text","placeholder","esfahan","minlength","0","maxlength","500","id","dataModel.specialUrlParameter",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.pageDependencyIsDefaultPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.pageDependencyIsDefaultPage","name","dataModel.pageDependencyIsDefaultPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.pageDependencyIsDefaultPage",1,"custom-control-label"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",7),b(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),r(8,"form",11,0),C("ngSubmit",function(){return f(s),g(t.onFormSubmit())}),I(10,xp,1,5,"app-cms-enum-record-status-selector",12)(11,Lp,10,9,"div",13),r(12,"app-webdesigner-pagedependency-selector",14),S(13,"translate"),C("optionChange",function(p){return f(s),g(t.onActionSelectDependency(p))}),a(),r(14,"app-webdesigner-pagetemplate-selector",15),S(15,"translate"),C("optionChange",function(p){return f(s),g(t.onActionSelectTemplate(p))}),a(),I(16,kp,2,7,"app-webdesigner-page-selector",16)(17,Vp,8,2,"div",17)(18,Gp,2,5,"app-cms-sitecategory-selector",18),r(19,"mat-form-field",19)(20,"mat-label"),c(21),S(22,"translate"),a(),r(23,"mat-chip-grid",20,1),I(25,Bp,5,1,"mat-chip",21),r(26,"input",22,2),S(28,"translate"),C("matChipInputTokenEnd",function(p){return f(s),g(t.addTag(p))}),a()()(),r(29,"div",23)(30,"label",24),c(31),a(),r(32,"input",25,3),T("ngModelChange",function(p){return f(s),E(t.dataModel.specialIdendity,p)||(t.dataModel.specialIdendity=p),g(p)}),a(),r(34,"em"),c(35),a()(),r(36,"div",23)(37,"label",26),c(38),a(),r(39,"input",27,4),T("ngModelChange",function(p){return f(s),E(t.dataModel.specialUrlParameter,p)||(t.dataModel.specialUrlParameter=p),g(p)}),a(),r(41,"em"),c(42),a()(),I(43,Np,9,6,"div",13)(44,Op,9,7,"div",28),a()()()}if(i&2){let s=x(24),_=x(33),p=x(40);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),u(" ",t.formInfo.formTitle," "),o(2),u(" ",h(7,31,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("optionDisabled",!(t.fieldsInfo.linkPageDependencyGuId!=null&&t.fieldsInfo.linkPageDependencyGuId.accessAddField))("optionSelectForce",t.dataModel.linkPageDependencyGuId)("optionPlaceholder",h(13,33,"TITLE.Show_place")),o(2),d("optionDisabled",!(t.fieldsInfo.linkPageTemplateGuId!=null&&t.fieldsInfo.linkPageTemplateGuId.accessAddField))("optionSelectForce",t.dataModel.linkPageTemplateGuId)("optionPlaceholder",h(15,35,"TITLE.Page_template"))("optionSelectFirstItem",!0),o(2),d("ngIf",t.dataModel.linkPageTemplateGuId&&t.dataModel.linkPageTemplateGuId.length>0),o(),d("ngIf",t.fieldsInfo.pageDependencyIsDefaultPage==null?null:t.fieldsInfo.pageDependencyIsDefaultPage.accessWatchField),o(),d("ngIf",t.dataModel.pageDependencyIsDefaultPage&&(t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessWatchField)),o(3),A(h(22,37,"TITLE.Choose_keywords_relative_to_the_content")),o(4),d("ngForOf",t.keywordDataModel),o(),d("placeholder",h(28,39,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",s)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(5),A(t.fieldsInfo.specialIdendity==null?null:t.fieldsInfo.specialIdendity.fieldTitle),o(),w("ngModel",t.dataModel.specialIdendity),d("disabled",!(t.fieldsInfo.specialIdendity!=null&&t.fieldsInfo.specialIdendity.accessAddField)),o(3),u("",_.value.length," / 500"),o(3),A(t.fieldsInfo.specialUrlParameter==null?null:t.fieldsInfo.specialUrlParameter.fieldTitle),o(),w("ngModel",t.dataModel.specialUrlParameter),d("disabled",!(t.fieldsInfo.specialUrlParameter!=null&&t.fieldsInfo.specialUrlParameter.accessAddField)),o(3),u("",p.value.length," / 500"),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[Ge,W,me,Y,At,z,de,X,ge,_e,pe,ce,Cn,vn,Dn,In,bn,hn,Se,oe,B,be,Fn,q,di,$i,pi,L],encapsulation:2});var eo=en;var Hp=["vform"];function qp(n,l){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",33),T("modelChange",function(t){f(e);let s=m();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),g(t)}),a()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function jp(n,l){if(n&1&&(r(0,"option",34),c(1),a()),n&2){let e=l.$implicit;d("ngValue",e.value),o(),u(" ",e.description," ")}}function Up(n,l){n&1&&(r(0,"mat-error"),c(1," PageAbilityType is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function Qp(n,l){n&1&&b(0,"i",39)}function zp(n,l){n&1&&b(0,"i",40)}function Kp(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Jp(n,l){if(n&1){let e=v();r(0,"div",14)(1,"label",35),c(2),a(),r(3,"input",36,6),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.title,t)||(s.dataModel.title=t),g(t)}),a(),I(5,Qp,1,0,"i",37)(6,zp,1,0,"i",38),r(7,"em"),c(8),a(),I(9,Kp,5,4,"mat-error",18),a()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),u("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Yp(n,l){if(n&1){let e=v();r(0,"app-webdesigner-page-selector",41),S(1,"translate"),C("optionChange",function(t){f(e);let s=m();return g(s.onActionSelectParent(t))}),a()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkPageParentGuId!=null&&e.fieldsInfo.linkPageParentGuId.accessEditField))("optionSelectForce",e.dataModel.linkPageParentGuId)("optionMasterPage",!0)("optionMasterTemplateId",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",h(1,5,"TITLE.parent_page"))}}function Xp(n,l){if(n&1){let e=v();r(0,"div",42)(1,"div",43)(2,"h5",44),c(3),a()(),r(4,"div",45)(5,"div",46)(6,"input",47),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.pageDependencyIsDefaultPage,t)||(s.dataModel.pageDependencyIsDefaultPage=t),g(t)}),a(),b(7,"label",48),a()()()}if(n&2){let e=m();o(3),u(" ",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," "),o(3),w("ngModel",e.dataModel.pageDependencyIsDefaultPage)}}function Zp(n,l){if(n&1){let e=v();r(0,"app-cms-sitecategory-selector",49),S(1,"translate"),C("optionChange",function(t){f(e);let s=m();return g(s.onActionSelectCategory(t))}),a()}if(n&2){let e=m();d("optionSelectForce",e.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId)("optionPlaceholder",h(1,3,"TITLE.Website_Type"))("optionDisabled",!(e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId!=null&&e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessEditField))}}function $p(n,l){if(n&1){let e=v();r(0,"mat-chip",50),C("removed",function(){let t=f(e).$implicit,s=m();return g(s.removeTag(t))}),c(1),r(2,"button",51)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),u(" ",e," ")}}function em(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=m(2);o(),u(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function tm(n,l){if(n&1){let e=v();r(0,"div",14)(1,"label",52),c(2),a(),r(3,"textarea",53,7),T("ngModelChange",function(t){f(e);let s=m();return E(s.dataModel.description,t)||(s.dataModel.description=t),g(t)}),c(5,"        "),a(),r(6,"em"),c(7),a(),I(8,em,5,4,"mat-error",18),a()}if(n&2){let e=x(4),i=m();o(2),A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),o(4),u("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function im(n,l){if(n&1){let e=v();r(0,"div",54)(1,"button",55),C("click",function(){f(e);let t=m();return g(t.onFormCancel())}),b(2,"i",56),c(3),S(4,"translate"),a(),r(5,"button",57),b(6,"i",58),c(7),S(8,"translate"),a()()}if(n&2){m();let e=x(9);o(3),u(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),u(" ",h(8,5,"ACTION.SAVE")," ")}}var tn=class tn extends Wt{constructor(e,i,t,s,_,p,j,J){super(s,new Je,J,p);this.data=e;this.dialogRef=i;this.webDesignerEnumService=t;this.webDesignerMainPageService=s;this.cmsToastrService=_;this.translate=p;this.cdr=j;this.publicHelper=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.keywordDataModel=[];this.appLanguage="fa";this.dataModel=new Je;this.formInfo=new re;this.dataModelEnumPageAbilityTypeResult=new F;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumPageAbilityType()}getEnumPageAbilityType(){this.webDesignerEnumService.ServicePageAbilityTypeEnum().subscribe({next:e=>{this.dataModelEnumPageAbilityTypeResult=e}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"webDesignerMainPageService.ServiceGetOneById";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.setAccessLoad(),this.webDesignerMainPageService.setAccessDataType(xt.Editor),this.webDesignerMainPageService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.keywordDataModel=[],this.dataModel.keyword&&this.dataModel.keyword.length>0&&(this.keywordDataModel=this.dataModel.keyword.split(",")),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectParent(e){this.dataModel.linkPageParentGuId=e.id}onActionSelectDependency(e){if(!e||e.id?.length<=0){this.translate.get(["MESSAGE.Specify_the_display_location","MESSAGE.information_screen_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_display_location"],i["MESSAGE.information_screen_is_not_clear"])});return}this.dataModel.linkPageDependencyGuId=e.id}onActionSelectTemplate(e){if(!e||e.id?.length<=0){this.translate.get(["MESSAGE.Specify_the_template","MESSAGE.Screen_template_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_template"],i["MESSAGE.Screen_template_is_not_clear"])});return}this.dataModel.linkPageTemplateGuId=e.id}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(e){if(!e||e.id<=0){this.translate.get("MESSAGE.category_of_site_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId=e.id}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};tn.\u0275fac=function(i){return new(i||tn)(M(Me),M(he),M(yi),M(ot),M(N),M(V),M(k),M(G))},tn.\u0275cmp=R({type:tn,selectors:[["app-webdesigner-page-edit"]],viewQuery:function(i,t){if(i&1&&te(Hp,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:53,vars:49,consts:[["vform","ngForm"],["PageAbilityType","ngModel"],["chipList",""],["tagInput",""],["SpecialIdendity",""],["SpecialUrlParameter",""],["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.pageAbilityType","name","dataModel.pageAbilityType",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","ngClass"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"mt-n3"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionChange",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["for","dataModel.specialIdendity",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialIdendity","type","text","placeholder","32323","minlength","0","maxlength","500","id","dataModel.specialIdendity",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.specialUrlParameter",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialUrlParameter","type","text","placeholder","esfahan","minlength","0","maxlength","500","id","dataModel.specialUrlParameter",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"ngValue"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.pageDependencyIsDefaultPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.pageDependencyIsDefaultPage","name","dataModel.pageDependencyIsDefaultPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.pageDependencyIsDefaultPage",1,"custom-control-label"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",8),b(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),r(8,"form",12,0),C("ngSubmit",function(){return f(s),g(t.onFormSubmit())}),I(10,qp,1,5,"app-cms-enum-record-status-selector",13),r(11,"div",14)(12,"select",15,1),T("ngModelChange",function(p){return f(s),E(t.dataModel.pageAbilityType,p)||(t.dataModel.pageAbilityType=p),g(p)}),I(14,jp,2,2,"option",16),a(),r(15,"em",17),c(16),S(17,"translate"),a(),I(18,Up,5,3,"mat-error",18),a(),I(19,Jp,10,9,"div",19),r(20,"app-webdesigner-pagedependency-selector",20),S(21,"translate"),C("optionChange",function(p){return f(s),g(t.onActionSelectDependency(p))}),a(),r(22,"app-webdesigner-pagetemplate-selector",20),S(23,"translate"),C("optionChange",function(p){return f(s),g(t.onActionSelectTemplate(p))}),a(),I(24,Yp,2,7,"app-webdesigner-page-selector",21)(25,Xp,8,2,"div",22)(26,Zp,2,5,"app-cms-sitecategory-selector",23),r(27,"mat-form-field",24)(28,"mat-label"),c(29),S(30,"translate"),a(),r(31,"mat-chip-grid",25,2),I(33,$p,5,1,"mat-chip",26),r(34,"input",27,3),S(36,"translate"),C("matChipInputTokenEnd",function(p){return f(s),g(t.addTag(p))}),a()()(),r(37,"div",14)(38,"label",28),c(39),a(),r(40,"input",29,4),T("ngModelChange",function(p){return f(s),E(t.dataModel.specialIdendity,p)||(t.dataModel.specialIdendity=p),g(p)}),a(),r(42,"em"),c(43),a()(),r(44,"div",14)(45,"label",30),c(46),a(),r(47,"input",31,5),T("ngModelChange",function(p){return f(s),E(t.dataModel.specialUrlParameter,p)||(t.dataModel.specialUrlParameter=p),g(p)}),a(),r(49,"em"),c(50),a()(),I(51,tm,9,6,"div",19)(52,im,9,7,"div",32),a()()()}if(i&2){let s=x(13),_=x(32),p=x(41),j=x(48);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),u(" ",t.formInfo.formTitle," "),o(2),u(" ",h(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(2),d("ngClass",Ve("cms-RecordStatusEnum-selector-",t.dataModel.recordStatus)),w("ngModel",t.dataModel.pageAbilityType),d("disabled",!0),o(2),d("ngForOf",t.dataModelEnumPageAbilityTypeResult.listItems),o(2),u("",h(17,39,"TITLE.Select_the_functionality_of_this_content")," "),o(2),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("optionDisabled",!(t.fieldsInfo.linkPageDependencyGuId!=null&&t.fieldsInfo.linkPageDependencyGuId.accessEditField))("optionSelectForce",t.dataModel.linkPageDependencyGuId)("optionPlaceholder",h(21,41,"TITLE.Show_place")),o(2),d("optionDisabled",!(t.fieldsInfo.linkPageTemplateGuId!=null&&t.fieldsInfo.linkPageTemplateGuId.accessEditField))("optionSelectForce",t.dataModel.linkPageTemplateGuId)("optionPlaceholder",h(23,43,"TITLE.Page_template")),o(2),d("ngIf",t.dataModel.linkPageTemplateGuId&&t.dataModel.linkPageTemplateGuId.length>0),o(),d("ngIf",t.fieldsInfo.pageDependencyIsDefaultPage==null?null:t.fieldsInfo.pageDependencyIsDefaultPage.accessWatchField),o(),d("ngIf",t.dataModel.pageDependencyIsDefaultPage&&(t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessWatchField)),o(3),A(h(30,45,"TITLE.Choose_keywords_relative_to_the_content")),o(4),d("ngForOf",t.keywordDataModel),o(),d("placeholder",h(36,47,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",_)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(5),A(t.fieldsInfo.specialIdendity==null?null:t.fieldsInfo.specialIdendity.fieldTitle),o(),w("ngModel",t.dataModel.specialIdendity),d("disabled",!(t.fieldsInfo.specialIdendity!=null&&t.fieldsInfo.specialIdendity.accessEditField)),o(3),u("",p.value.length," / 500"),o(3),A(t.fieldsInfo.specialUrlParameter==null?null:t.fieldsInfo.specialUrlParameter.fieldTitle),o(),w("ngModel",t.dataModel.specialUrlParameter),d("disabled",!(t.fieldsInfo.specialUrlParameter!=null&&t.fieldsInfo.specialUrlParameter.accessEditField)),o(3),u("",j.value.length," / 500"),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[De,Ge,W,me,_o,So,Y,At,go,z,de,X,ge,_e,pe,ce,Cn,vn,Dn,In,bn,hn,Se,oe,B,be,Fn,q,di,$i,pi,L],encapsulation:2});var to=tn;var nm=()=>[5,10,20,100],om=n=>({display:n});function rm(n,l){if(n&1){let e=v();r(0,"a",47),C("click",function(){f(e);let t=m();return g(t.onActionBackToParentTemplate())}),b(1,"i",48),a()}}function am(n,l){if(n&1){let e=v();r(0,"a",47),C("click",function(){f(e);let t=m();return g(t.onActionBackToParentDependency())}),b(1,"i",48),a()}}function lm(n,l){if(n&1){let e=v();r(0,"div",18)(1,"a",49),C("click",function(){f(e);let t=m();return g(t.onActionButtonNewRow())}),b(2,"i",50)(3,"br"),a(),r(4,"p",21),c(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",h(6,1,"ACTION.ADD")," "))}function sm(n,l){if(n&1){let e=v();r(0,"div",18)(1,"a",51),C("click",function(){f(e);let t=m();return g(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",52)(3,"br"),a(),r(4,"p",21),c(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",h(6,1,"ACTION.EDIT")," "))}function dm(n,l){if(n&1){let e=v();r(0,"div",18)(1,"a",53),C("click",function(){f(e);let t=m();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",54)(3,"br"),a(),r(4,"p",21),c(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",h(6,1,"ACTION.DELETE")," "))}function cm(n,l){if(n&1){let e=v();r(0,"div",18)(1,"a",19),C("click",function(){f(e);let t=m();return g(t.onActionButtonHtmlViewWithOutParent(t.tableRowSelected))}),b(2,"i",20)(3,"br"),a(),r(4,"p",21),c(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",h(6,1,"ACTION.DISPLAY_PAGE_WITHOUT_PARENT")," "))}function pm(n,l){n&1&&(r(0,"mat-header-cell",55),c(1),S(2,"translate"),a()),n&2&&(o(),u(" ",h(2,1,"TITLE.PICTURE")," "))}function mm(n,l){if(n&1&&b(0,"img",57),n&2){let e=m().$implicit;d("src",P(e.thumbnailImageSrc),ve)}}function um(n,l){if(n&1&&(r(0,"mat-cell"),I(1,mm,1,2,"img",56),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.ThumbnailImageSrc==null?null:e.ThumbnailImageSrc.length)>0)}}function fm(n,l){if(n&1&&(r(0,"mat-header-cell",55),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function gm(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.id," ")}}function _m(n,l){if(n&1&&(r(0,"mat-header-cell",55),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Sm(n,l){if(n&1&&b(0,"select",60),n&2){let e=m().$implicit,i=m();d("contentService",i.contentService)("row",e)("ngStyle",Ze(3,om,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function hm(n,l){if(n&1&&(r(0,"mat-cell",58),S(1,"statusCellClass"),b(2,"i",58),S(3,"statusIconClass"),I(4,Sm,1,5,"select",59),a()),n&2){let e=l.$implicit,i=m();d("ngClass",h(1,3,e.recordStatus)),o(2),d("ngClass",h(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Mm(n,l){if(n&1&&(r(0,"mat-header-cell",55),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function bm(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.title," ")}}function Im(n,l){if(n&1&&(r(0,"mat-header-cell",55),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.linkPageParentGuId==null?null:e.fieldsInfo.linkPageParentGuId.fieldTitle," ")}}function Cm(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.linkPageParentGuId," ")}}function vm(n,l){if(n&1&&(r(0,"mat-header-cell",55),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.linkPageDependencyGuId==null?null:e.fieldsInfo.linkPageDependencyGuId.fieldTitle," ")}}function Dm(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.linkPageDependencyGuId," ")}}function ym(n,l){if(n&1&&(r(0,"mat-header-cell",55),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.linkPageTemplateGuId==null?null:e.fieldsInfo.linkPageTemplateGuId.fieldTitle," ")}}function wm(n,l){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=m();o(),u(" ",Tt(2,1,e.linkPageTemplateGuId,i.dataModelWebDesignerMainPageTemplateResult.listItems)," ")}}function Em(n,l){if(n&1&&(r(0,"mat-header-cell",55),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.fieldTitle," ")}}function Tm(n,l){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=m();o(),u(" ",Tt(2,1,e.pageDependencyIsDefaultPageLinkSiteCategoryId,i.dataModelCoreSiteCategoryResult.listItems)," ")}}function Am(n,l){if(n&1&&(r(0,"mat-header-cell",55),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," ")}}function xm(n,l){if(n&1&&(r(0,"mat-cell"),b(1,"i",58),S(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",h(2,1,e.pageDependencyIsDefaultPage))}}function Pm(n,l){if(n&1&&(r(0,"mat-header-cell",55),c(1),a()),n&2){let e=m();o(),u(" ",e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle," ")}}function Rm(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),u(" ",e.classActionName," ")}}function Wm(n,l){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),a()),n&2&&(o(),u(" ",h(2,1,"TITLE.OPTION")," "))}function Lm(n,l){if(n&1&&(r(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),c(3,"more_vert"),a()(),b(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),d("matMenuTriggerFor",e)}}function km(n,l){n&1&&b(0,"mat-header-row")}function Vm(n,l){if(n&1){let e=v();r(0,"mat-row",63),C("click",function(){let t=f(e).$implicit,s=m();return g(s.onActionTableRowSelect(t))}),a()}if(n&2){let e=l.$implicit,i=m();Te("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var nn=class nn extends Ct{constructor(e,i,t,s,_,p,j,J,yt,ui,Ot,fi,Ht,rn,Sr){super(e,new Je,rn,fi,yt);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.webDesignerMainPageTemplateService=s;this.coreSiteCategoryService=_;this.activatedRoute=p;this.router=j;this.cdr=J;this.translate=yt;this.cmsStoreService=ui;this.themeService=Ot;this.tokenHelper=fi;this.pageInfo=Ht;this.publicHelper=rn;this.dialog=Sr;this.requestLinkPageParentGuId="";this.requestLinkPageTemplateGuId="";this.requestLinkPageDependencyGuId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.filterDataModelQueryBuilder=[];this.dataModelWebDesignerMainPageTemplateResult=new F;this.dataModelCoreSiteCategoryResult=new F;this.tabledisplayedColumns=["ThumbnailImageSrc","Id","RecordStatus","Title","LinkPageTemplateGuId","PageDependencyIsDefaultPage","PageDependencyIsDefaultPageLinkSiteCategoryId"];if(this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("LinkPageTemplateGuId")&&(this.requestLinkPageTemplateGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageTemplateGuId")),this.activatedRoute.snapshot.paramMap.get("LinkPageDependencyGuId")&&(this.requestLinkPageDependencyGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageDependencyGuId")),this.activatedRoute.snapshot.paramMap.get("LinkPageParentGuId")&&(this.requestLinkPageParentGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageParentGuId")),this.optionsSearch.parentMethods={onSubmit:ke=>this.onSubmitOptionsSearch(ke)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.requestLinkPageTemplateGuId.length>0){let ke=new O;ke.propertyName="LinkPageTemplateGuId",ke.value=this.requestLinkPageTemplateGuId,this.filteModelContent.filters.push(ke)}if(this.requestLinkPageDependencyGuId.length>0){let ke=new O;ke.propertyName="LinkPageDependencyGuId",ke.value=this.requestLinkPageDependencyGuId,this.filteModelContent.filters.push(ke)}if(this.requestLinkPageParentGuId.length>0){let ke=new O;ke.propertyName="LinkPageParentGuId",ke.value=this.requestLinkPageParentGuId,this.filteModelContent.filters.push(ke)}}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})),this.getModuleList(),this.getSiteCategory()}getModuleList(){let e=new K;e.rowPerPage=100,this.webDesignerMainPageTemplateService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelWebDesignerMainPageTemplateResult=i}})}getSiteCategory(){let e=new K;e.rowPerPage=100,this.coreSiteCategoryService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreSiteCategoryResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tableRowsSelected=[],this.onActionTableRowSelect(new Je);let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):(H,e.start="desc"):(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),H,this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(eo,{height:"90%",panelClass:e,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{linkPageDependencyGuId:this.requestLinkPageDependencyGuId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(to,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(_,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonGoToSiteCategoryList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/siteSiteCategory/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess&&(i.set("All",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new O;_.propertyName="RecordStatus",_.value=it.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess&&(i.set("Active",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}})}onActionButtonHtmlEditor(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(e.htmlBuilderUrl,"_blank")}onActionButtonHtmlView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(this.dataModelResult.item.htmlPreviewByMasterUrl,"_blank")}onActionButtonSiteRouteView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.contentService.ServiceWebRoute(e.id).subscribe({next:i=>{i.isSuccess?window.open(i.item,"_blank"):this.cmsToastrService.typeError(i.errorMessage)},error:i=>{this.cmsToastrService.typeError(i)}})}onActionButtonHtmlViewWithOutParent(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(this.dataModelResult.item.htmlPreviewUrl,"_blank")}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParentTemplate(){this.router.navigate(["/webdesigner/pagetemplate"])}onActionBackToParentDependency(){this.router.navigate(["/webdesigner/pagedependency"])}};nn.\u0275fac=function(i){return new(i||nn)(M(ot),M(N),M(qe),M(rt),M(An),M(tt),M(Be),M(k),M(V),M(Pe),M(bt),M(We),M(It),M(G),M(Fe))},nn.\u0275cmp=R({type:nn,selectors:[["app-webdesigner-page-list-grid"]],standalone:!1,features:[U],decls:92,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","ThumbnailImageSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","LinkPageParentGuId"],["matColumnDef","LinkPageDependencyGuId"],["matColumnDef","LinkPageTemplateGuId"],["matColumnDef","PageDependencyIsDefaultPageLinkSiteCategoryId"],["matColumnDef","PageDependencyIsDefaultPage"],["matColumnDef","ClassActionName"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),T("optionActionGuideNoticeDisplayChange",function(p){return f(s),E(t.viewGuideNotice,p)||(t.viewGuideNotice=p),g(p)}),C("optionOnActionButtonMemoRow",function(){return f(s),g(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(s),g(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(s),g(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(s),g(t.onActionButtonPrintRow())}),D(1,4),c(2," -------------------------------------- "),y(),we(3,5)(4,6),D(5,7),I(6,rm,2,0,"a",8)(7,am,2,0,"a",8),r(8,"a",9),C("click",function(){return f(s),g(t.viewGuideNotice=!t.viewGuideNotice)}),b(9,"i",10),a(),r(10,"a",9),C("click",function(){return f(s),g(t.onActionButtonReload())}),b(11,"i",11),a(),y(),D(12,12),r(13,"a",13),C("click",function(){return f(s),g(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),b(14,"mat-slide-toggle",14),c(15),S(16,"translate"),a(),r(17,"a",13),C("click",function(){return f(s),g(t.onActionButtonStatist())}),b(18,"mat-slide-toggle",14),c(19),S(20,"translate"),a(),y(),D(21,15),I(22,lm,7,3,"div",16),y(),D(23,17),I(24,sm,7,3,"div",16)(25,dm,7,3,"div",16),r(26,"div",18)(27,"a",19),C("click",function(){return f(s),g(t.onActionButtonHtmlEditor(t.tableRowSelected))}),b(28,"i",20)(29,"br"),a(),r(30,"p",21),c(31),S(32,"translate"),a()(),r(33,"div",18)(34,"a",19),C("click",function(){return f(s),g(t.onActionButtonHtmlView(t.tableRowSelected))}),b(35,"i",20)(36,"br"),a(),r(37,"p",21),c(38),S(39,"translate"),a()(),I(40,cm,7,3,"div",16),r(41,"div",18)(42,"a",19),C("click",function(){return f(s),g(t.onActionButtonSiteRouteView(t.tableRowSelected))}),b(43,"i",22)(44,"br"),a(),r(45,"p",21),c(46),S(47,"translate"),a()(),y(),D(48,23),r(49,"app-cms-search-list",24),T("optionsChange",function(p){return f(s),E(t.optionsSearch,p)||(t.optionsSearch=p),g(p)}),a(),r(50,"app-cms-statist-list",24),T("optionsChange",function(p){return f(s),E(t.optionsStatist,p)||(t.optionsStatist=p),g(p)}),a(),y(),D(51,25),r(52,"mat-table",26,0),C("matSortChange",function(){f(s);let p=x(53);return g(t.onTableSortData(p))}),D(54,27),I(55,pm,3,3,"mat-header-cell",28)(56,um,2,1,"mat-cell",29),y(),D(57,30),I(58,fm,2,1,"mat-header-cell",28)(59,gm,2,1,"mat-cell",29),y(),D(60,31),I(61,_m,2,1,"mat-header-cell",28)(62,hm,5,7,"mat-cell",32),y(),D(63,33),I(64,Mm,2,1,"mat-header-cell",28)(65,bm,2,1,"mat-cell",29),y(),D(66,34),I(67,Im,2,1,"mat-header-cell",28)(68,Cm,2,1,"mat-cell",29),y(),D(69,35),I(70,vm,2,1,"mat-header-cell",28)(71,Dm,2,1,"mat-cell",29),y(),D(72,36),I(73,ym,2,1,"mat-header-cell",28)(74,wm,3,4,"mat-cell",29),y(),D(75,37),I(76,Em,2,1,"mat-header-cell",28)(77,Tm,3,4,"mat-cell",29),y(),D(78,38),I(79,Am,2,1,"mat-header-cell",28)(80,xm,3,3,"mat-cell",29),y(),D(81,39),I(82,Pm,2,1,"mat-header-cell",28)(83,Rm,2,1,"mat-cell",29),y(),D(84,40),I(85,Wm,3,3,"mat-header-cell",41)(86,Lm,6,1,"mat-cell",42),y(),I(87,km,1,0,"mat-header-row",43)(88,Vm,1,2,"mat-row",44),a(),y(),D(89,45),r(90,"mat-paginator",46,1),C("page",function(p){return f(s),g(t.onTablePageingData(p))}),a(),y(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),d("ngIf",(t.requestLinkPageTemplateGuId==null?null:t.requestLinkPageTemplateGuId.length)>0),o(),d("ngIf",(t.requestLinkPageDependencyGuId==null?null:t.requestLinkPageDependencyGuId.length)>0),o(7),d("checked",t.optionsSearch.data.show),o(),u("",h(16,29,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),u("",h(20,31,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),u(" ",h(32,33,"ACTION.PAGE_DESIGN")," "),o(7),u(" ",h(39,35,"ACTION.SHOW_PAGE")," "),o(2),d("ngIf",(t.tableRowSelected==null||t.tableRowSelected.linkPageParentGuId==null?null:t.tableRowSelected.linkPageParentGuId.length)>0),o(6),u(" ",h(47,37,"ACTION.SHOW_WEB")," "),o(3),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(35),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(39,nm)))},dependencies:[De,W,$e,Ae,oe,B,at,lt,He,Re,st,dt,ct,mt,_t,ut,pt,St,ft,gt,ht,Mt,je,Ue,Qe,vt,L,Ti,ze,kt,Ei],encapsulation:2});var Nt=nn;var Gm=()=>[5,10,20,100];function Bm(n,l){if(n&1){let e=v();r(0,"a",30),C("click",function(){f(e);let t=m();return g(t.onActionBackToParentTemplate())}),b(1,"i",31),a()}}function Fm(n,l){if(n&1){let e=v();r(0,"a",30),C("click",function(){f(e);let t=m();return g(t.onActionBackToParentDependency())}),b(1,"i",31),a()}}function Nm(n,l){if(n&1){let e=v();r(0,"div",16)(1,"a",32),C("click",function(){f(e);let t=m();return g(t.onActionButtonNewRow())}),b(2,"i",33)(3,"br"),a(),r(4,"p",19),c(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",h(6,1,"ACTION.ADD")," "))}function Om(n,l){if(n&1){let e=v();r(0,"div",16)(1,"a",34),C("click",function(){f(e);let t=m();return g(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",35)(3,"br"),a(),r(4,"p",19),c(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",h(6,1,"ACTION.EDIT")," "))}function Hm(n,l){if(n&1){let e=v();r(0,"div",16)(1,"a",36),C("click",function(){f(e);let t=m();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",37)(3,"br"),a(),r(4,"p",19),c(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",h(6,1,"ACTION.DELETE")," "))}function qm(n,l){if(n&1){let e=v();r(0,"div",16)(1,"a",17),C("click",function(){f(e);let t=m();return g(t.onActionButtonHtmlViewWithOutParent(t.tableRowSelected))}),b(2,"i",18)(3,"br"),a(),r(4,"p",19),c(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",h(6,1,"ACTION.DISPLAY_PAGE_WITHOUT_PARENT")," "))}function jm(n,l){if(n&1){let e=v();r(0,"div",38)(1,"mat-card",39)(2,"mat-card-header")(3,"mat-card-title"),c(4),b(5,"i",40),S(6,"statusIconClass"),a(),r(7,"mat-card-subtitle"),c(8),S(9,"translate"),a()(),b(10,"img",41),r(11,"mat-card-content"),c(12),S(13,"translate"),S(14,"cmstitle"),b(15,"br"),c(16),S(17,"translate"),S(18,"cmstitle"),b(19,"br"),c(20),S(21,"translate"),b(22,"i",40),S(23,"boolclass"),r(24,"p"),c(25),a()(),r(26,"mat-card-actions")(27,"button",42),C("click",function(){let t=f(e).$implicit,s=m();return g(s.onActionTableRowSelect(t))}),r(28,"mat-icon"),c(29,"more_vert"),a()()()()()}if(n&2){let e=l.$implicit,i=m();o(4),u(" ",e.title," "),o(),d("ngClass",h(6,13,e.recordStatus)),o(3),Xt(" ",h(9,15,"TITLE.Id"),": ",e.id),o(2),d("src",P(e.thumbnailImageSrc),ve),o(2),Xt(" ",h(13,17,"TITLE.Template")," : ",Tt(14,19,e.linkPageTemplateGuId,i.dataModelWebDesignerMainPageTemplateResult.listItems)," "),o(4),Xt(" ",h(17,22,"TITLE.Default_template_classification_system")," : ",Tt(18,24,e.pageDependencyIsDefaultPageLinkSiteCategoryId,i.dataModelCoreSiteCategoryResult.listItems)," "),o(4),u(" ",h(21,27,"TITLE.System_default")," : "),o(2),d("ngClass",h(23,29,e.pageDependencyIsDefaultPage)),o(3),u(" ",e.description," ")}}var bi=class bi extends Nt{};bi.\u0275fac=(()=>{let l;return function(i){return(l||(l=mo(bi)))(i||bi)}})(),bi.\u0275cmp=R({type:bi,selectors:[["app-webdesigner-page-list"]],standalone:!1,features:[U],decls:60,vars:40,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionClassBody","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"row"],["Class","col-xl-12"],[3,"optionsInfoAreaId"],["class","col-sm-12 col-md-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"col-sm-12","col-md-6","col-lg-4","col-xl-3"],[1,"example-card",2,"border","groove"],[3,"ngClass"],["mat-card-image","",2,"max-height","300px",3,"src"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"]],template:function(e,i){if(e&1){let t=v();r(0,"app-cms-html-list",1),T("optionActionGuideNoticeDisplayChange",function(_){return f(t),E(i.viewGuideNotice,_)||(i.viewGuideNotice=_),g(_)}),C("optionOnActionButtonMemoRow",function(){return f(t),g(i.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(t),g(i.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(t),g(i.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(t),g(i.onActionButtonPrintRow())}),D(1,2),c(2," -------------------------------------- "),y(),we(3,3)(4,4),D(5,5),I(6,Bm,2,0,"a",6)(7,Fm,2,0,"a",6),r(8,"a",7),C("click",function(){return f(t),g(i.viewGuideNotice=!i.viewGuideNotice)}),b(9,"i",8),a(),r(10,"a",7),C("click",function(){return f(t),g(i.onActionButtonReload())}),b(11,"i",9),a(),y(),D(12,10),r(13,"a",11),C("click",function(){return f(t),g(i.optionsSearch.data.show=!i.optionsSearch.data.show)}),b(14,"mat-slide-toggle",12),c(15),S(16,"translate"),a(),r(17,"a",11),C("click",function(){return f(t),g(i.onActionButtonStatist())}),b(18,"mat-slide-toggle",12),c(19),S(20,"translate"),a(),y(),D(21,13),I(22,Nm,7,3,"div",14),y(),D(23,15),I(24,Om,7,3,"div",14)(25,Hm,7,3,"div",14),r(26,"div",16)(27,"a",17),C("click",function(){return f(t),g(i.onActionButtonHtmlEditor(i.tableRowSelected))}),b(28,"i",18)(29,"br"),a(),r(30,"p",19),c(31),S(32,"translate"),a()(),r(33,"div",16)(34,"a",17),C("click",function(){return f(t),g(i.onActionButtonHtmlView(i.tableRowSelected))}),b(35,"i",18)(36,"br"),a(),r(37,"p",19),c(38),S(39,"translate"),a()(),I(40,qm,7,3,"div",14),r(41,"div",16)(42,"a",17),C("click",function(){return f(t),g(i.onActionButtonSiteRouteView(i.tableRowSelected))}),b(43,"i",20)(44,"br"),a(),r(45,"p",19),c(46),S(47,"translate"),a()(),y(),D(48,21),r(49,"app-cms-search-list",22),T("optionsChange",function(_){return f(t),E(i.optionsSearch,_)||(i.optionsSearch=_),g(_)}),a(),r(50,"app-cms-statist-list",22),T("optionsChange",function(_){return f(t),E(i.optionsStatist,_)||(i.optionsStatist=_),g(_)}),a(),y(),D(51,23),r(52,"div",24)(53,"div",25),b(54,"app-progress-spinner",26),r(55,"div",24),I(56,jm,30,31,"div",27),a()()(),y(),D(57,28),r(58,"mat-paginator",29,0),C("page",function(_){return f(t),g(i.onTablePageingData(_))}),a(),y(),a()}e&2&&(d("optionsListInfoAreaId",i.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",i.viewGuideNotice),d("optionTreeDisplay",!1)("optionClassBody","")("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplayMenu",i.tableRowSelectDoubleClick)("optionSelectRowItemTitle",i.tableRowSelected==null?null:i.tableRowSelected.title),o(6),d("ngIf",(i.requestLinkPageTemplateGuId==null?null:i.requestLinkPageTemplateGuId.length)>0),o(),d("ngIf",(i.requestLinkPageDependencyGuId==null?null:i.requestLinkPageDependencyGuId.length)>0),o(7),d("checked",i.optionsSearch.data.show),o(),u("",h(16,29,"ACTION.SEARCH")," "),o(3),d("checked",i.optionsStatist.data.show),o(),u("",h(20,31,"ACTION.STATIST")," "),o(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow),o(),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow),o(6),u(" ",h(32,33,"ACTION.PAGE_DESIGN")," "),o(7),u(" ",h(39,35,"ACTION.SHOW_PAGE")," "),o(2),d("ngIf",(i.tableRowSelected==null||i.tableRowSelected.linkPageParentGuId==null?null:i.tableRowSelected.linkPageParentGuId.length)>0),o(6),u(" ",h(47,37,"ACTION.SHOW_WEB")," "),o(3),w("options",i.optionsSearch),o(),w("options",i.optionsStatist),o(4),d("optionsInfoAreaId",i.constructorInfoAreaId),o(2),d("ngForOf",i.dataModelResult.listItems),o(2),d("length",i.dataModelResult.totalRowCount)("pageIndex",i.dataModelResult.currentPageNumber-1)("pageSize",i.dataModelResult.rowPerPage)("pageSizeOptions",Ie(39,Gm)))},dependencies:[De,Ge,W,Ae,Ro,Vo,Lo,Go,Bo,ko,Wo,oe,He,Re,je,Ue,q,Qe,L,Ti,ze,Ei],encapsulation:2});var Ii=bi;var on=class on{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};on.\u0275fac=function(e){return new(e||on)},on.\u0275cmp=R({type:on,selectors:[["app-web-designer"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&b(0,"router-outlet")},dependencies:[bo],encapsulation:2});var io=on;var Um=[{path:"",component:io,data:{title:"ROUTE.WEBDESIGNER"},children:[{path:"config",loadChildren:()=>import("./chunk-UBUWQOJQ.js").then(n=>n.WebDesignerConfigModule),data:{title:"ROUTE.WEBDESIGNER"}},{path:"intro",component:sn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/LinkPageId/:LinkPageId",component:sn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/add",component:ln,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/add/:LinkPageId",component:ln,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/edit/:Id",component:On,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"menu",component:Qn,data:{title:"ROUTE.WEBDESIGNER.MENU"}},{path:"logmemberinfo",component:jn,data:{title:"ROUTE.WEBDESIGNER.LOGMEMBERINFO"}},{path:"pagetemplate",component:$n,data:{title:"ROUTE.WEBDESIGNER.PAGETEMPLATE"}},{path:"pagedependency",component:Yn,data:{title:"ROUTE.WEBDESIGNER.PAGEDEPENDENCY"}},{path:"page",component:Ii,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageTemplateGuId/:LinkPageTemplateGuId",component:Ii,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageParentGuId/:LinkPageParentGuId",component:Ii,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageDependencyGuId/:LinkPageDependencyGuId",component:Ii,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid",component:Nt,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageTemplateGuId/:LinkPageTemplateGuId",component:Nt,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageParentGuId/:LinkPageParentGuId",component:Nt,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageDependencyGuId/:LinkPageDependencyGuId",component:Nt,data:{title:"ROUTE.WEBDESIGNER.PAGE"}}]}],Ci=class Ci{};Ci.\u0275fac=function(e){return new(e||Ci)},Ci.\u0275mod=Sn({type:Ci}),Ci.\u0275inj=_n({imports:[oo.forChild(Um),oo]});var no=Ci;var vi=class vi{};vi.\u0275fac=function(e){return new(e||vi)},vi.\u0275mod=Sn({type:vi}),vi.\u0275inj=_n({providers:[Tn,Q,wo,qe,Ao,An,xo,wi,ti,nt,ot,Pt,rt,xn,yi],imports:[uo,no,ho,Mo.withConfig({warnOnNgModelWithFormControl:"never"}),zo,Ko,vo,Io,Fo,lr,sr,nr,or,Qo]});var _r=vi;export{_r as WebDesignerModule};
