import{b as d,c,d as m,e as p}from"./chunk-3ZQ3MB4X.js";import{a as f}from"./chunk-THLNZO6Y.js";import{b as r,d as l}from"./chunk-XBTY2ZN3.js";import{Fd as s,Kr as o,ig as n}from"./chunk-QMGNS56P.js";var u=class{constructor(t,e,a,i){this.baseService=t;this.item=e;this.publicHelper=a;this.translate=i;this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new n;this.formSubmitedStatusEnum=r;this.fieldsInfo=new Map;this.formInfo=new l;this.dataModelResult=new s;this.datapickerHeader=f;a.pageInfo.updateContentService(t),this.dataModel=e}onActionButtonMemo(t=this.dataModel){var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.publicHelper.dialog.open(c,{height:"70%",panelClass:e,enterAnimationDuration:o.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:o.cmsViewConfig.exitAnimationDuration,data:{service:this.baseService,id:this.dataModel?this.dataModel.id:"",title:this.dataModel?this.dataModel.title:""}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate})}onActionButtonPin(t=this.dataModel){var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.publicHelper.dialog.open(m,{height:"70%",panelClass:e,enterAnimationDuration:o.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:o.cmsViewConfig.exitAnimationDuration,data:{service:this.baseService,id:this.dataModel?this.dataModel.id:"",title:this.dataModel?this.dataModel.title:""}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate})}onActionButtonTask(t=this.dataModel){var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.publicHelper.dialog.open(p,{height:"70%",panelClass:e,enterAnimationDuration:o.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:o.cmsViewConfig.exitAnimationDuration,data:{service:this.baseService,id:this.dataModel?this.dataModel.id:"",title:this.dataModel?this.dataModel.title:""}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate})}onActionButtonComment(t=this.dataModel){var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.publicHelper.dialog.open(d,{height:"70%",panelClass:e,enterAnimationDuration:o.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:o.cmsViewConfig.exitAnimationDuration,data:{service:this.baseService,id:this.dataModel?this.dataModel.id:"",title:this.dataModel?this.dataModel.title:""}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate})}DataGetAccess(){let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.baseService.ServiceViewModel().subscribe({next:e=>{e.isSuccess?this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access):this.publicHelper.cmsToastrService.typeErrorGetAccess(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.publicHelper.cmsToastrService.typeErrorGetAccess(e),this.publicHelper.processService.processStop(t,!1)}})}};export{u as a};
